{"url": "https://towardsdatascience.com/deploy-machine-learning-web-app-on-azure-df7c2faa7fec", "time": 1683009633.2113652, "path": "towardsdatascience.com/deploy-machine-learning-web-app-on-azure-df7c2faa7fec/", "webpage": {"metadata": {"title": "Deploy Machine Learning Web App on Azure | by Sagnik Chattopadhyaya | Towards Data Science", "h1": "Deploy Machine Learning Web App on Azure", "description": "As a Machine Learning Engineer you role isn\u2019t limited to building a model, but it also covers to make Models Deployable. Which on later stage is handled by DevOps team. In this Story,I will show you\u2026"}, "outgoing_paragraph_urls": [{"url": "https://studentambassadors.microsoft.com/en-us", "anchor_text": "Microsoft Student Partners", "paragraph_index": 0}, {"url": "https://docs.streamlit.io/en/latest/", "anchor_text": "Streamlit", "paragraph_index": 1}, {"url": "https://docs.streamlit.io/en/latest/api.html", "anchor_text": "text, charts, maps, dataframe", "paragraph_index": 1}, {"url": "https://discuss.streamlit.io/t/hosting-streamlit-on-github-pages/356", "anchor_text": "cannot use GitHub pages", "paragraph_index": 3}, {"url": "https://github.com/sagnik20/ML-WebApp-using-Streamlit/blob/master/app.py", "anchor_text": "my code from GitHub", "paragraph_index": 4}, {"url": "https://streamlit.io/docs/getting_started.html", "anchor_text": "Getting Started", "paragraph_index": 5}, {"url": "https://archive.ics.uci.edu/ml/datasets/Mushroom", "anchor_text": "Mushrooms dataset", "paragraph_index": 6}, {"url": "https://github.com/sagnik20/ML-WebApp-using-Streamlit/blob/master/mushrooms.csv", "anchor_text": "also on my GitHub", "paragraph_index": 6}, {"url": "https://shell.azure.com/", "anchor_text": "Azure Shell", "paragraph_index": 8}, {"url": "https://portal.azure.com/", "anchor_text": "Azure Portal", "paragraph_index": 8}, {"url": "https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest", "anchor_text": "Azure CLI", "paragraph_index": 8}, {"url": "https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/manage-resource-groups-portal#create-resource-groups", "anchor_text": "documentation to build resource group", "paragraph_index": 12}, {"url": "https://docs.microsoft.com/en-us/azure/container-registry/container-registry-get-started-portal#create-a-container-registry", "anchor_text": "you are using portal", "paragraph_index": 15}, {"url": "https://github.com/MarcSkovMadsen/awesome-streamlit/commits?author=MarcSkovMadsen", "anchor_text": "MarcSkovMadsen", "paragraph_index": 19}, {"url": "https://github.com/MarcSkovMadsen/awesome-streamlit/tree/master/.streamlit", "anchor_text": "awesome-streamlit repository.", "paragraph_index": 19}, {"url": "https://github.com/sagnik20/ML-WebApp-using-Streamlit.git", "anchor_text": "https://github.com/sagnik20/ML-WebApp-using-Streamlit.git", "paragraph_index": 23}, {"url": "https://docs.microsoft.com/en-us/learn/modules/deploy-run-container-app-service/5-exercise-deploy-web-app?pivots=javascript", "anchor_text": "from the portal", "paragraph_index": 30}, {"url": "https://mushroom-web-app.azurewebsites.net/", "anchor_text": "https://mushroom-web-app.azurewebsites.net/", "paragraph_index": 37}, {"url": "https://github.com/sagnik20/ML-WebApp-using-Streamlit/tree/master", "anchor_text": "GitHub Repo", "paragraph_index": 38}, {"url": "https://twitter.com/sagnik_20?s=08", "anchor_text": "@sagnik_20", "paragraph_index": 39}, {"url": "https://youtube.com/c/learnoverflow", "anchor_text": "Learn Overflow", "paragraph_index": 39}], "all_paragraphs": ["As a Machine Learning Engineer you role isn\u2019t limited to building a model, but it also covers to make Models Deployable. Which on later stage is handled by DevOps team. In this Story,I will show you step by step how you can deploy an ML Classification Web App on Azure. This article is a part of the MSP Developer Stories initiative by the Microsoft Student Partners (India) program.", "To start with, you need to build an web app first. For that you can use Streamlit. It is a python based open sourced framework that would help you to display text, charts, maps, dataframe, build interactive interface and many more and all that in few hours. As a first step you would build only an app.py file on your local machine and make sure it looks as expected.", "Launch your Streamlit app by running streamlit run app.pyin a shell from the folder where the app.py file is saved. Whenever the app.py file is saved, the local web app will update automatically.", "After you have completed building it on your local machine, next task is to deploy it to the actual internet for others to view it anytime. Now you cannot use GitHub pages as Streamlit web app is an non static site. but you can surely use a GitHub Repository for deploying it to Azure.", "Have a look at my code from GitHub ,you will understand how simple it is to make an Streamlit web app.", "Streamlit\u2019s Getting Started tutorial would help to learn the API, so I will jump straight to deployment of the Streamlit web app.", "For this example, I will publish an Binary Classification model showing whether Mushroom are Edible or Poisonous. I will use the Mushrooms dataset , you can find the dataset also on my GitHub.", "After you have your web app ready to publish, you will create an Docker Container on the Azure Container Registry. This container will have all the files required to run the web app.", "I will use Azure Shell through out but you can use Azure Portal or install the Azure CLI on your local machine. using Azure Shell or Azure CLI would be exactly same, difference is one you will use from Browser and the other you will use from Terminal.", "Once you open Azure Shell you will be asked to sign in to your Azure Account. But if you are using Azure CLI, then type the following command:", "After you sign in to your shell you can see something like this.", "Next, you need a resource Group to keep your Container Registry and Web App service. To do so type the following", "If you are using Azure Portal then follow their documentation to build resource group .", "Here the location is East Us and name MushroomApp .You can name it differently but make sure to make appropriate changes in upcoming steps.", "Then you will build Container Registry under the resource group.", "If you are using portal make sure to select the MushroomApp resource group created in last step.", "Move back to your GitHub repository and add few more files that would help in functioning of the web app. First we will make the Dockerfile. This would be the instructions for Docker to run.", "For best practices of writing Dockerfile see their official documentation.", "The code for the Dockerfile you can use for this project is given below.", "For the configuration files you would need config.toml and credentials.toml . I recommend copying MarcSkovMadsen\u2019s config.toml and credentials.toml file from his awesome-streamlit repository.", "Next you would need requirements.txt to add the libraries that needs to be installed for running your Web App. Below is the requirements.txt that I will use in this for this story.", "Make sure you have all these files in your GitHub repository before moving to next step.", "Next we will build the docker image and save to Azure Container Registry.", "Replace <SOURCE_LOCATION> in the above code with your Git clone link. For this story the link I will use is https://github.com/sagnik20/ML-WebApp-using-Streamlit.git .", "If the Build is successful, you could see output similar to: Run ID: ca1 was successful after 2m26s.", "If you wish to see the image in your Container Registry, then log in to your Azure portal and navigate to your resource group, click on your container registry and under the Services Blade, click on Repositories.", "You need to create an App Service Plan for your Web app. This will determine the size of the Virtual machine which will run your Web App. The default value of sku is B1 just the first tier above Free. We will use that.", "All the pricing tiers available are: F1(Free), D1(Shared), B1(Basic Small), B2(Basic Medium), B3(Basic Large), S1(Standard Small), P1V2(Premium V2 Small), PC2 (Premium Container Small), PC3 (Premium Container Medium), PC4 (Premium Container Large), I1 (Isolated Small), I2 (Isolated Medium), I3 (Isolated Large). Choose one that you need.", "Run the above code to create your App Service Plan.", "Create the Azure Web App from the docker container in the Container Registry by running the below command.", "Or you can do the same from the portal too.", "You should now see 3 resources in your Resource Group.", "To view your new website, go to mushroom-web-app resource and click on the URL on the top right shown in picture below.", "The first time you view it, there will be a cold-start delay and will likely become unresponsive after about 5 minutes. Go back to the resource and click click on the URL again, and your web app should appear in your browser!", "If you need to make any changes to your app.py file, then you can easily view your changes by redeploying your web app. For that again run the code below by replacing <SOURCE_LOCATION> again. You have already did it once above.", "You can add functionality or make changes and simply redeploy the webapp to visualise the changes.", "The final web app that I build looks something like this \ud83d\udc47", "You can also view and interact with it from : https://mushroom-web-app.azurewebsites.net/ (Sorry temporarily the link is inactive).", "We have successfully deployed our Machine Learning model as a Web Application simply using Docker and Azure. Full code can be found on my GitHub Repo.", "I\u2019m Sagnik Chattopadhyaya, a Computer Science Fresher(open for an opportunity). Twitter: @sagnik_20. YouTube: Learn Overflow", "Hope you got to learn from this story. \u2764", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "CS Fresher (looking for a full-time opportunity) | Former Technical Intern at South Eastern Railway | Writes mostly about Azure and Java(Spring Boot)"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fdf7c2faa7fec&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-machine-learning-web-app-on-azure-df7c2faa7fec&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-machine-learning-web-app-on-azure-df7c2faa7fec&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-machine-learning-web-app-on-azure-df7c2faa7fec&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-machine-learning-web-app-on-azure-df7c2faa7fec&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----df7c2faa7fec--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----df7c2faa7fec--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://sagnik20.medium.com/?source=post_page-----df7c2faa7fec--------------------------------", "anchor_text": ""}, {"url": "https://sagnik20.medium.com/?source=post_page-----df7c2faa7fec--------------------------------", "anchor_text": "Sagnik Chattopadhyaya"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F11c41060bf4e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-machine-learning-web-app-on-azure-df7c2faa7fec&user=Sagnik+Chattopadhyaya&userId=11c41060bf4e&source=post_page-11c41060bf4e----df7c2faa7fec---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdf7c2faa7fec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-machine-learning-web-app-on-azure-df7c2faa7fec&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdf7c2faa7fec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-machine-learning-web-app-on-azure-df7c2faa7fec&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@askkell", "anchor_text": "Andy Kelly"}, {"url": "https://unsplash.com/photos/0E_vhMVqL9g", "anchor_text": "Unsplash.com"}, {"url": "https://studentambassadors.microsoft.com/en-us", "anchor_text": "Microsoft Student Partners"}, {"url": "https://docs.streamlit.io/en/latest/", "anchor_text": "Streamlit"}, {"url": "https://docs.streamlit.io/en/latest/api.html", "anchor_text": "text, charts, maps, dataframe"}, {"url": "https://discuss.streamlit.io/t/hosting-streamlit-on-github-pages/356", "anchor_text": "cannot use GitHub pages"}, {"url": "https://github.com/sagnik20/ML-WebApp-using-Streamlit/blob/master/app.py", "anchor_text": "my code from GitHub"}, {"url": "https://streamlit.io/docs/getting_started.html", "anchor_text": "Getting Started"}, {"url": "https://archive.ics.uci.edu/ml/datasets/Mushroom", "anchor_text": "Mushrooms dataset"}, {"url": "https://github.com/sagnik20/ML-WebApp-using-Streamlit/blob/master/mushrooms.csv", "anchor_text": "also on my GitHub"}, {"url": "https://shell.azure.com/", "anchor_text": "Azure Shell"}, {"url": "https://portal.azure.com/", "anchor_text": "Azure Portal"}, {"url": "https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest", "anchor_text": "Azure CLI"}, {"url": "https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/manage-resource-groups-portal#create-resource-groups", "anchor_text": "documentation to build resource group"}, {"url": "https://docs.microsoft.com/en-us/azure/container-registry/container-registry-get-started-portal#create-a-container-registry", "anchor_text": "you are using portal"}, {"url": "https://docs.docker.com/develop/develop-images/dockerfile_best-practices/", "anchor_text": "Best practices for writing DockerfilesThis document covers recommended best practices and methods for building efficient images. Docker builds images\u2026docs.docker.com"}, {"url": "https://github.com/MarcSkovMadsen/awesome-streamlit/commits?author=MarcSkovMadsen", "anchor_text": "MarcSkovMadsen"}, {"url": "https://github.com/MarcSkovMadsen/awesome-streamlit/tree/master/.streamlit", "anchor_text": "awesome-streamlit repository."}, {"url": "https://github.com/sagnik20/ML-WebApp-using-Streamlit.git", "anchor_text": "https://github.com/sagnik20/ML-WebApp-using-Streamlit.git"}, {"url": "https://docs.microsoft.com/en-us/learn/modules/deploy-run-container-app-service/5-exercise-deploy-web-app?pivots=javascript", "anchor_text": "from the portal"}, {"url": "https://mushroom-web-app.azurewebsites.net/", "anchor_text": "https://mushroom-web-app.azurewebsites.net/"}, {"url": "https://github.com/sagnik20/ML-WebApp-using-Streamlit/tree/master", "anchor_text": "GitHub Repo"}, {"url": "https://twitter.com/sagnik_20?s=08", "anchor_text": "@sagnik_20"}, {"url": "https://youtube.com/c/learnoverflow", "anchor_text": "Learn Overflow"}, {"url": "https://medium.com/tag/azure-app-service?source=post_page-----df7c2faa7fec---------------azure_app_service-----------------", "anchor_text": "Azure App Service"}, {"url": "https://medium.com/tag/streamlit?source=post_page-----df7c2faa7fec---------------streamlit-----------------", "anchor_text": "Streamlit"}, {"url": "https://medium.com/tag/azure?source=post_page-----df7c2faa7fec---------------azure-----------------", "anchor_text": "Azure"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----df7c2faa7fec---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/azure-web-app?source=post_page-----df7c2faa7fec---------------azure_web_app-----------------", "anchor_text": "Azure Web App"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdf7c2faa7fec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-machine-learning-web-app-on-azure-df7c2faa7fec&user=Sagnik+Chattopadhyaya&userId=11c41060bf4e&source=-----df7c2faa7fec---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdf7c2faa7fec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-machine-learning-web-app-on-azure-df7c2faa7fec&user=Sagnik+Chattopadhyaya&userId=11c41060bf4e&source=-----df7c2faa7fec---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdf7c2faa7fec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-machine-learning-web-app-on-azure-df7c2faa7fec&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----df7c2faa7fec--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fdf7c2faa7fec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-machine-learning-web-app-on-azure-df7c2faa7fec&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----df7c2faa7fec---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----df7c2faa7fec--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----df7c2faa7fec--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----df7c2faa7fec--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----df7c2faa7fec--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----df7c2faa7fec--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----df7c2faa7fec--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----df7c2faa7fec--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----df7c2faa7fec--------------------------------", "anchor_text": ""}, {"url": "https://sagnik20.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://sagnik20.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sagnik Chattopadhyaya"}, {"url": "https://sagnik20.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "22 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F11c41060bf4e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-machine-learning-web-app-on-azure-df7c2faa7fec&user=Sagnik+Chattopadhyaya&userId=11c41060bf4e&source=post_page-11c41060bf4e--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F11c41060bf4e%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-machine-learning-web-app-on-azure-df7c2faa7fec&user=Sagnik+Chattopadhyaya&userId=11c41060bf4e&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}