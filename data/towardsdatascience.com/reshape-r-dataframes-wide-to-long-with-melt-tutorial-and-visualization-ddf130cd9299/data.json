{"url": "https://towardsdatascience.com/reshape-r-dataframes-wide-to-long-with-melt-tutorial-and-visualization-ddf130cd9299", "time": 1683010091.5657542, "path": "towardsdatascience.com/reshape-r-dataframes-wide-to-long-with-melt-tutorial-and-visualization-ddf130cd9299/", "webpage": {"metadata": {"title": "Reshape R dataframes wide to long | Towards Data Science", "h1": "Reshape R dataframes wide-to-long with melt \u2014 tutorial and visualization", "description": "melt is the only function you'll need to learn because other functions like gather and pivot_longer are less flexible"}, "outgoing_paragraph_urls": [{"url": "https://cran.r-project.org/web/packages/data.table/vignettes/datatable-reshape.html", "anchor_text": "here", "paragraph_index": 2}, {"url": "http://hausetutorials.netlify.com/", "anchor_text": "my site", "paragraph_index": 17}, {"url": "https://hauselin.ck.page/587b46fb05", "anchor_text": "subscribe to my mailing list", "paragraph_index": 18}, {"url": "http://hauselin.com", "anchor_text": "hauselin.com", "paragraph_index": 20}, {"url": "http://t.ly/Ybvy", "anchor_text": "t.ly/Ybvy", "paragraph_index": 20}], "all_paragraphs": ["How do you reshape a dataframe from wide to long form in R? How does the melt() function reshape dataframes in R? This tutorial will walk you through reshaping dataframes using the melt function in R.", "If you\u2019re reshaping dataframes or arrays in Python, check out my tutorials below.", "Common terms for this wide-to-long transformation are melt, pivot-long, unpivot, gather, stack, and reshape. Many functions have been written to convert data from wide to long form, melt() from the data.table library is the best. See melt() documentation here. Why?", "The melt and dcast functions for data.tables are for reshaping wide-to-long and long-to-wide, respectively; the implementations are specifically designed with large in-memory data (e.g. 10Gb) in mind.", "Reminder: We\u2019re using melt from the data.table library, not reshape library! Compare the documentation of the melt functions from the two libraries to the differences: ?data.table::melt and ?reshape::melt", "It\u2019s easiest to understand what a wide dataframe is or looks like if we look at one and compare it with a long dataframe.", "And below is the corresponding dataframe (with the same information) but in the long form:", "Before we begin our melt tutorial, let\u2019s recreate the wide dataframe above.", "Note that I like to use data.table instead of data.frame because data.table objects are much more powerful. If you data isn\u2019t a data.table (check by running class(your_dataframe) in your console), I highly recommend you convert it to a data.table.", "Simply load the data.table library and use the setDT function from the data.table library to convert any data.frameto a data.table.", "We melt by specifying the identifier columns via id.vars. The \u201cleftover\u201d non-identifier columns (english, math, physics) will be melted or stacked onto each other into one column.", "A new indicator column will be created (contains values english, math, physics) and we can rename this new column (cLaSs) via variable.name. We can also rename the column in which all the actual grades are contained (gRaDe) via value.name.", "You can use measure.vars to specify which columns you want to melt or stack into column (here, we exclude physics column, so measure.vars = c(\"english\", \"math\")). We also drop the school column from id.vars.", "Finally, let\u2019s see what happens if we specify only the student column as the identifier column (id.vars = \"student\") but do not specify which columns you want to stack via measure.vars. As a result, all non-identifier columns (school, english, math, physics) will be stacked into one column.", "The resulting long dataframe looks wrong because now the cLaSs and gRaDe columns contain values that shouldn\u2019t be there. The point here is to show you how melt works.", "This table looks wrong because the school column in df_wide doesn\u2019t belong\u2014school should be another identifier column (see Melt 1 above). The melt function also also returned a warning message that tells you your column (gRaDe) have values of different types (i.e., character and numeric).", "I hope now you have a better understanding of how melt performs wide-to-long transformations. I look forward to your thoughts and comments.", "If you find this post useful, follow me and visit my site for more data science tutorials and also my other articles:", "For more posts, subscribe to my mailing list.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "researcher | like to learn, think, discuss ideas, combine data & behavioral science, classical music | hauselin.com | linkedin: t.ly/Ybvy"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fddf130cd9299&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freshape-r-dataframes-wide-to-long-with-melt-tutorial-and-visualization-ddf130cd9299&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freshape-r-dataframes-wide-to-long-with-melt-tutorial-and-visualization-ddf130cd9299&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freshape-r-dataframes-wide-to-long-with-melt-tutorial-and-visualization-ddf130cd9299&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freshape-r-dataframes-wide-to-long-with-melt-tutorial-and-visualization-ddf130cd9299&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://me.dm/@ausius", "anchor_text": "Mastodon"}, {"url": "https://towardsdatascience.com/?source=post_page-----ddf130cd9299--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ddf130cd9299--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://ausius.medium.com/?source=post_page-----ddf130cd9299--------------------------------", "anchor_text": ""}, {"url": "https://ausius.medium.com/?source=post_page-----ddf130cd9299--------------------------------", "anchor_text": "Hause Lin"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F378ca677f7b9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freshape-r-dataframes-wide-to-long-with-melt-tutorial-and-visualization-ddf130cd9299&user=Hause+Lin&userId=378ca677f7b9&source=post_page-378ca677f7b9----ddf130cd9299---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fddf130cd9299&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freshape-r-dataframes-wide-to-long-with-melt-tutorial-and-visualization-ddf130cd9299&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fddf130cd9299&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freshape-r-dataframes-wide-to-long-with-melt-tutorial-and-visualization-ddf130cd9299&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/reshape-pandas-dataframe-with-melt-in-python-tutorial-and-visualization-29ec1450bb02", "anchor_text": "Reshape pandas dataframe with melt in Python \u2014 tutorial and visualizationVisualize how pd.melt reshapes pandas dataframes from wide to long formtowardsdatascience.com"}, {"url": "https://towardsdatascience.com/reshape-pandas-dataframe-with-pivot-table-in-python-tutorial-and-visualization-2248c2012a31", "anchor_text": "Reshape pandas dataframe with pivot_table in Python \u2014 tutorial and visualizationConvert long to wide with pd.pivot_tabletowardsdatascience.com"}, {"url": "https://towardsdatascience.com/reshaping-numpy-arrays-in-python-a-step-by-step-pictorial-tutorial-aed5f471cf0b", "anchor_text": "Reshaping numpy arrays in Python \u2014 a step-by-step pictorial tutorialThis tutorial and cheatsheet provide visualizations to help you understand how numpy reshapes arrays.towardsdatascience.com"}, {"url": "https://cran.r-project.org/web/packages/data.table/vignettes/datatable-reshape.html", "anchor_text": "here"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.melt.html", "anchor_text": "pandas"}, {"url": "https://towardsdatascience.com/reshape-pandas-dataframe-with-melt-in-python-tutorial-and-visualization-29ec1450bb02", "anchor_text": "here"}, {"url": "https://cran.r-project.org/web/packages/data.table/vignettes/datatable-reshape.html", "anchor_text": "documentation"}, {"url": "http://hausetutorials.netlify.com/", "anchor_text": "my site"}, {"url": "https://towardsdatascience.com/new-python-library-for-statistical-tests-simpler-than-statsmodels-richer-than-scipy-stats-ff380d4673c0", "anchor_text": "New Python library for statistical tests \u2014 simpler than statsmodels, richer than scipy.statsStatistical modeling made simplertowardsdatascience.com"}, {"url": "https://towardsdatascience.com/what-ive-learned-after-using-vim-15-days-straight-ceda7e773a6d", "anchor_text": "What I\u2019ve Learned After Using Vim 15 Days StraightJourney from Vim noob to amateurtowardsdatascience.com"}, {"url": "https://hauselin.ck.page/587b46fb05", "anchor_text": "subscribe to my mailing list"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ddf130cd9299---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----ddf130cd9299---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----ddf130cd9299---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/software-engineering?source=post_page-----ddf130cd9299---------------software_engineering-----------------", "anchor_text": "Software Engineering"}, {"url": "https://medium.com/tag/technology?source=post_page-----ddf130cd9299---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fddf130cd9299&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freshape-r-dataframes-wide-to-long-with-melt-tutorial-and-visualization-ddf130cd9299&user=Hause+Lin&userId=378ca677f7b9&source=-----ddf130cd9299---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fddf130cd9299&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freshape-r-dataframes-wide-to-long-with-melt-tutorial-and-visualization-ddf130cd9299&user=Hause+Lin&userId=378ca677f7b9&source=-----ddf130cd9299---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fddf130cd9299&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freshape-r-dataframes-wide-to-long-with-melt-tutorial-and-visualization-ddf130cd9299&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ddf130cd9299--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fddf130cd9299&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freshape-r-dataframes-wide-to-long-with-melt-tutorial-and-visualization-ddf130cd9299&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ddf130cd9299---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ddf130cd9299--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ddf130cd9299--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ddf130cd9299--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ddf130cd9299--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ddf130cd9299--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ddf130cd9299--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ddf130cd9299--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ddf130cd9299--------------------------------", "anchor_text": ""}, {"url": "https://ausius.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://ausius.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Hause Lin"}, {"url": "https://ausius.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.5K Followers"}, {"url": "http://hauselin.com", "anchor_text": "hauselin.com"}, {"url": "http://t.ly/Ybvy", "anchor_text": "t.ly/Ybvy"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F378ca677f7b9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freshape-r-dataframes-wide-to-long-with-melt-tutorial-and-visualization-ddf130cd9299&user=Hause+Lin&userId=378ca677f7b9&source=post_page-378ca677f7b9--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa9b8c9e6c51a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freshape-r-dataframes-wide-to-long-with-melt-tutorial-and-visualization-ddf130cd9299&newsletterV3=378ca677f7b9&newsletterV3Id=a9b8c9e6c51a&user=Hause+Lin&userId=378ca677f7b9&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}