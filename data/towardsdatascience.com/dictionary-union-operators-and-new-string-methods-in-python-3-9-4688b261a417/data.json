{"url": "https://towardsdatascience.com/dictionary-union-operators-and-new-string-methods-in-python-3-9-4688b261a417", "time": 1683010514.558112, "path": "towardsdatascience.com/dictionary-union-operators-and-new-string-methods-in-python-3-9-4688b261a417/", "webpage": {"metadata": {"title": "Dictionary union operators and new string methods in Python 3.9 | by Anna Astori | Towards Data Science", "h1": "Dictionary union operators and new string methods in Python 3.9", "description": "Python 3.9 has accumulated a lengthy list of improvements with some pretty significant changes such as a new type of parser. The new PEG parser takes a little more memory but is a little faster and\u2026"}, "outgoing_paragraph_urls": [{"url": "https://docs.python.org/3.9/whatsnew/3.9.html", "anchor_text": "Python 3.9", "paragraph_index": 0}, {"url": "https://medium.com/@gvanrossum_83706/peg-parsers-7ed72462f97c", "anchor_text": "PEG", "paragraph_index": 0}, {"url": "https://www.python.org/dev/peps/pep-0584/", "anchor_text": "merge", "paragraph_index": 2}, {"url": "https://www.python.org/dev/peps/pep-0584/", "anchor_text": "update", "paragraph_index": 2}, {"url": "https://docs.python.org/3/library/stdtypes.html#dict.update", "anchor_text": "dict.update()", "paragraph_index": 5}, {"url": "https://www.python.org/dev/peps/pep-0448/", "anchor_text": "{**d1, **d2}", "paragraph_index": 7}, {"url": "https://www.python.org/dev/peps/pep-0584/#id15", "anchor_text": "collections.ChainMap", "paragraph_index": 12}, {"url": "https://www.python.org/dev/peps/pep-0616/", "anchor_text": "PEP-616", "paragraph_index": 14}, {"url": "https://docs.python.org/3/library/stdtypes.html#str.lstrip", "anchor_text": "str.lstrip", "paragraph_index": 17}, {"url": "https://docs.python.org/3/library/stdtypes.html#str.rstrip", "anchor_text": "str.rstrip", "paragraph_index": 17}, {"url": "https://annaeastori.medium.com/concurrency-and-parallelism-in-python-bbd7af8c6625", "anchor_text": "concurrency and parallelism", "paragraph_index": 22}], "all_paragraphs": ["Python 3.9 has accumulated a lengthy list of improvements with some pretty significant changes such as a new type of parser. The new PEG parser takes a little more memory but is a little faster and should be able to handle certain cases better compared to the LL(1) parser. Although, we\u2019ll probably only start seeing the true effect of that starting from Python 3.10 according to the release documentation. Python 3.9 also expands the usage of some built-in and standard library collection types as generic types without having to resort to the typing module. This is particularly useful if you use type checkers, linters, or IDEs.", "Perhaps, the two features that will come in most handy in everyday work with textual data are the union operators added to dict and the new string methods.", "Two union operators, merge | and update |=, have been introduced for dict.", "So if you want to create a new dict based on two dictionaries you already have, you can do the following:", "If you want to augment one of those two dictionaries using the other, you can do it like so:", "There were already a few ways to merge dictionaries in Python. It could be done using dict.update():", "However, dict.update() modifies the dict you re updating in-place. If you want to have a new dictionary, you would have to make a copy of one of your existing dictionaries first:", "In addition to that, there were 3 more approaches to accomplish that before Python 3.9. Merging two dictionaries can also be achieved with the {**d1, **d2} construct:", "However, if you were using a subclass of dict, for example, defaultdict, this construct will resolve your new dictionary\u2019s type to just dict:", "This wouldn\u2019t happen with the union operators:", "Another way to merge 2 dictionaries into a new one that was available before Python 3.9 is dict(d1, **d2):", "However, this only works for dictionaries that have all keys of type string:", "The third option is using collections.ChainMap . It probably is even less straightforward than the previous two methods and unfortunately modifies the underlying dictionaries if you update the ChainMap object:", "The new merge and update union operators for dict address those issues and appear to be less cumbersome. They may be confused with the bitwise \u201cor\u201d and some other operators, though.", "As the PEP-616 documentation suggests, pretty much any time you utilized the str.startswith() and str.endswith() methods, you can now simplify the code as follows.", "Before, if you were normalizing a list of, for example, movie titles and getting rid of any extra markup like dashes from unordered lists, you could do something like this:", "However, using str.replace() could yield unwanted side-effects if, for example, a dash was part of the movie title that you would actually rather keep, like in the example below. In Python 3.9, you can do it safely like so:", "The PEP documentation states that users reported expecting this kind of behavior from another pair of built-in methods, str.lstrip and str.rstrip, and often having to implement their own methods to achieve this behavior. These new methods should provide that functionality in a more robust and efficient way. The user won\u2019t have to take care of cases with empty strings or to employ the str.replace().", "Another typical use-case would be the following:", "In Python 3.9, this can be reduced to just:", "These methods have also been announced for bytes, bytearray, and collections.UserString.", "Python 3.9 has also an array of interesting module improvements and optimizations lined up \u2014 be sure to check out those as well and figure out what might be most useful for your kinds of applications. Enjoy the new features!", "If you are interested in Python feel free to check out my article on concurrency and parallelism.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Software Engineer. Ex-Decathlon, ex-Amazon (Alexa AI). I\u2019m also a big figure skating fan and a foodie."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4688b261a417&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdictionary-union-operators-and-new-string-methods-in-python-3-9-4688b261a417&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdictionary-union-operators-and-new-string-methods-in-python-3-9-4688b261a417&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdictionary-union-operators-and-new-string-methods-in-python-3-9-4688b261a417&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdictionary-union-operators-and-new-string-methods-in-python-3-9-4688b261a417&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4688b261a417--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4688b261a417--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://annaeastori.medium.com/?source=post_page-----4688b261a417--------------------------------", "anchor_text": ""}, {"url": "https://annaeastori.medium.com/?source=post_page-----4688b261a417--------------------------------", "anchor_text": "Anna Astori"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fdf4f04c1a2ed&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdictionary-union-operators-and-new-string-methods-in-python-3-9-4688b261a417&user=Anna+Astori&userId=df4f04c1a2ed&source=post_page-df4f04c1a2ed----4688b261a417---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4688b261a417&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdictionary-union-operators-and-new-string-methods-in-python-3-9-4688b261a417&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4688b261a417&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdictionary-union-operators-and-new-string-methods-in-python-3-9-4688b261a417&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@knnslens?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Kanan Khasmammadov"}, {"url": "https://unsplash.com/s/photos/9?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://docs.python.org/3.9/whatsnew/3.9.html", "anchor_text": "Python 3.9"}, {"url": "https://medium.com/@gvanrossum_83706/peg-parsers-7ed72462f97c", "anchor_text": "PEG"}, {"url": "https://www.python.org/dev/peps/pep-0584/", "anchor_text": "merge"}, {"url": "https://www.python.org/dev/peps/pep-0584/", "anchor_text": "update"}, {"url": "https://docs.python.org/3/library/stdtypes.html#dict.update", "anchor_text": "dict.update()"}, {"url": "https://www.python.org/dev/peps/pep-0448/", "anchor_text": "{**d1, **d2}"}, {"url": "https://www.python.org/dev/peps/pep-0584/#id15", "anchor_text": "collections.ChainMap"}, {"url": "https://www.python.org/dev/peps/pep-0616/", "anchor_text": "PEP-616"}, {"url": "https://docs.python.org/3/library/stdtypes.html#str.lstrip", "anchor_text": "str.lstrip"}, {"url": "https://docs.python.org/3/library/stdtypes.html#str.rstrip", "anchor_text": "str.rstrip"}, {"url": "https://annaeastori.medium.com/concurrency-and-parallelism-in-python-bbd7af8c6625", "anchor_text": "concurrency and parallelism"}, {"url": "https://medium.com/tag/technology?source=post_page-----4688b261a417---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/python?source=post_page-----4688b261a417---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----4688b261a417---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/women-in-tech?source=post_page-----4688b261a417---------------women_in_tech-----------------", "anchor_text": "Women In Tech"}, {"url": "https://medium.com/tag/data-science?source=post_page-----4688b261a417---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4688b261a417&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdictionary-union-operators-and-new-string-methods-in-python-3-9-4688b261a417&user=Anna+Astori&userId=df4f04c1a2ed&source=-----4688b261a417---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4688b261a417&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdictionary-union-operators-and-new-string-methods-in-python-3-9-4688b261a417&user=Anna+Astori&userId=df4f04c1a2ed&source=-----4688b261a417---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4688b261a417&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdictionary-union-operators-and-new-string-methods-in-python-3-9-4688b261a417&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4688b261a417--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4688b261a417&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdictionary-union-operators-and-new-string-methods-in-python-3-9-4688b261a417&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4688b261a417---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4688b261a417--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4688b261a417--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4688b261a417--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4688b261a417--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4688b261a417--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4688b261a417--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4688b261a417--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4688b261a417--------------------------------", "anchor_text": ""}, {"url": "https://annaeastori.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://annaeastori.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Anna Astori"}, {"url": "https://annaeastori.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "165 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fdf4f04c1a2ed&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdictionary-union-operators-and-new-string-methods-in-python-3-9-4688b261a417&user=Anna+Astori&userId=df4f04c1a2ed&source=post_page-df4f04c1a2ed--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F11a12061098f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdictionary-union-operators-and-new-string-methods-in-python-3-9-4688b261a417&newsletterV3=df4f04c1a2ed&newsletterV3Id=11a12061098f&user=Anna+Astori&userId=df4f04c1a2ed&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}