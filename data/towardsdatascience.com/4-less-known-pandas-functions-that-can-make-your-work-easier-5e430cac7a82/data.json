{"url": "https://towardsdatascience.com/4-less-known-pandas-functions-that-can-make-your-work-easier-5e430cac7a82", "time": 1683006228.1335192, "path": "towardsdatascience.com/4-less-known-pandas-functions-that-can-make-your-work-easier-5e430cac7a82/", "webpage": {"metadata": {"title": "4 Less Known Pandas Functions That Can Make Your Work Easier | by Yong Cui | Towards Data Science", "h1": "4 Less Known Pandas Functions That Can Make Your Work Easier", "description": "Many data scientists have been using Python as their programming language of choice. As an open-source language, Python has gained considerable popularity by providing a variety of data\u2026"}, "outgoing_paragraph_urls": [{"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.where.html", "anchor_text": "The", "paragraph_index": 2}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.where.html", "anchor_text": "where()", "paragraph_index": 2}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.where.html", "anchor_text": "function", "paragraph_index": 2}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.pivot_table.html", "anchor_text": "the", "paragraph_index": 5}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.pivot_table.html", "anchor_text": "pivot_table()", "paragraph_index": 5}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.pivot_table.html", "anchor_text": "function", "paragraph_index": 5}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.qcut.html", "anchor_text": "the", "paragraph_index": 9}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.qcut.html", "anchor_text": "qcut()", "paragraph_index": 9}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.qcut.html", "anchor_text": "function", "paragraph_index": 9}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.T.html", "anchor_text": "the transposition", "paragraph_index": 12}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.T.html", "anchor_text": "T", "paragraph_index": 12}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.T.html", "anchor_text": "function", "paragraph_index": 12}, {"url": "https://pandas.pydata.org/docs/reference/api/pandas.melt.html", "anchor_text": "the", "paragraph_index": 12}, {"url": "https://pandas.pydata.org/docs/reference/api/pandas.melt.html", "anchor_text": "melt()", "paragraph_index": 12}, {"url": "https://pandas.pydata.org/docs/reference/api/pandas.melt.html", "anchor_text": "function", "paragraph_index": 12}, {"url": "https://gist.github.com/ycui1/ef359c672f03b8a05e305669a564ef44", "anchor_text": "GitHub", "paragraph_index": 15}, {"url": "https://www.manning.com/books/python-how-to", "anchor_text": "https://www.manning.com/books/python-how-to", "paragraph_index": 18}], "all_paragraphs": ["Many data scientists have been using Python as their programming language of choice. As an open-source language, Python has gained considerable popularity by providing a variety of data science-related libraries. Particularly, the pandas library is arguably the most prevalent toolbox among Python-based data scientists.", "I have to say that the pandas library is so well developed that it provides a very large collection of functions for various operations. However, the drawback of this powerful toolbox is that some useful functions can be less known to beginners. In this article, I would like to share four such functions.", "Most of the time for the dataset that we\u2019re working with, we have to do some data conversion to make the data in the analyzable format. The where() function is useful to replace the values that doesn\u2019t satisfy the condition. Let\u2019s consider the following example for its usage. Certainly, we first needed to import pandas and numpy as we do for all data manipulation steps.", "In the above figure, we created a Series and applied the where() function. Specifically, the signature use of this function is where(condition, other). In this call, the condition argument will result in boolean values, and when they\u2019re True, the original values are kept, while they\u2019re False, the value specified by the other argument will be used. In our case, any values that below 1000 were kept, while the ones that were equal to or greater than 1000 were assigned to 1000.", "This function can\u2019t only be used with Series, but also with DataFrame. Let\u2019s see a similar usage with the DataFrame. In the example below, the DataFrame df0\u2019s odd numbers will all be incremented by 1, and the even values are kept.", "Unlike the where() function, the pivot_table() function is only available to DataFrame. This function is to create a spreadsheet-style pivot table, and thus it\u2019s a great tool to summarize, analyze, and present data by displaying the data in a straightforward manner. Its power can be best shown with a more realistic example.", "In the above figure, we created a DataFrame that consisted of salary and bonus records together with the employees\u2019 gender and department information. We then created a pivot table using the pivot_table() function. Specifically, we set the salary and bonus columns to the values argument, set the department to the index argument, set the gender to the columns argument, and set [np.mean, np.median, np.amax] to the aggfunc argument.", "In the output, you can see that we have a pivot table showing us the 2 (gender) by 2 (department) tables in mean, median, and maximum values for the salary and bonus variables. Some interesting observations include that in Department A, women have higher salaries than men, while the pattern is opposite in Department B. In both departments, women and men have similar bonuses.", "When we have a dataset that involves ordinal measures, it sometimes makes more sense to create categorical quantiles to identify possible patterns instead of examining these ordinal measures parametrically. Theoretically, we can calculate the quantile cutoffs ourselves and map the data using these cutoffs to create the new categorical variable.", "However, this operation can be easily realized with the qcut() function, which discretizes the variable into equal-sized pools (e.g., quantiles and deciles) based on their ranks. Let\u2019s see how this function works with the following example.", "In the above figure, we created a DataFrame having 3 columns. We were interested in generating the quantiles for the var2 column. Thus, we specified the q argument to be 4 (it can be 10 if you want deciles). We also specified the label list to mark these quantiles.", "Depending on the tools that data scientists use, some prefer the \u201cwide\u201d format (e.g., one subject one row with multiple variables), while some others prefer the \u201clong\u201d format (e.g., one subject multiple rows with one variable). Thus, it\u2019s not uncommon that we need to do data transformation between these formats.", "Unlike the transposition T function that transposes the DataFrame entirely, the melt() function is particularly useful to convert the data from the wide to long format. Let\u2019s see how it works with the following example.", "In the above figure, we created a DataFrame in a wide format. Specifically, we have two measures before and after taking the medicine. We then used the melt() function to produce a long-format DataFrame. We specified the SubjectID as the id_vars, the two measures as the value_vars, and rename the columns to be more meaningful.", "There are many more functions in pandas that we can explore. In this article, we just learned four functions that some of us don\u2019t know too well, but they can be very useful in our daily data manipulation work.", "I hope that you enjoyed reading this piece. You can find the code on GitHub.", "I write blogs about Python and data processing and analysis. Just in case you\u2019ve missed some of my earlier blogs, here are the links to some articles that are relevant to the current one.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Work at the nexus of biomedicine, data science & mobile dev. Author of Python How-to by Manning (https://www.manning.com/books/python-how-to)."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5e430cac7a82&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-less-known-pandas-functions-that-can-make-your-work-easier-5e430cac7a82&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-less-known-pandas-functions-that-can-make-your-work-easier-5e430cac7a82&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-less-known-pandas-functions-that-can-make-your-work-easier-5e430cac7a82&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-less-known-pandas-functions-that-can-make-your-work-easier-5e430cac7a82&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5e430cac7a82--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5e430cac7a82--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://yongcui01.medium.com/?source=post_page-----5e430cac7a82--------------------------------", "anchor_text": ""}, {"url": "https://yongcui01.medium.com/?source=post_page-----5e430cac7a82--------------------------------", "anchor_text": "Yong Cui"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F88ff1e2545d0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-less-known-pandas-functions-that-can-make-your-work-easier-5e430cac7a82&user=Yong+Cui&userId=88ff1e2545d0&source=post_page-88ff1e2545d0----5e430cac7a82---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5e430cac7a82&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-less-known-pandas-functions-that-can-make-your-work-easier-5e430cac7a82&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5e430cac7a82&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-less-known-pandas-functions-that-can-make-your-work-easier-5e430cac7a82&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@stenuitj?utm_source=medium&utm_medium=referral", "anchor_text": "J\u00e9r\u00e9my Stenuit"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.where.html", "anchor_text": "The"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.where.html", "anchor_text": "where()"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.where.html", "anchor_text": "function"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.pivot_table.html", "anchor_text": "the"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.pivot_table.html", "anchor_text": "pivot_table()"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.pivot_table.html", "anchor_text": "function"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.qcut.html", "anchor_text": "the"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.qcut.html", "anchor_text": "qcut()"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.qcut.html", "anchor_text": "function"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.T.html", "anchor_text": "the transposition"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.T.html", "anchor_text": "T"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.T.html", "anchor_text": "function"}, {"url": "https://pandas.pydata.org/docs/reference/api/pandas.melt.html", "anchor_text": "the"}, {"url": "https://pandas.pydata.org/docs/reference/api/pandas.melt.html", "anchor_text": "melt()"}, {"url": "https://pandas.pydata.org/docs/reference/api/pandas.melt.html", "anchor_text": "function"}, {"url": "https://gist.github.com/ycui1/ef359c672f03b8a05e305669a564ef44", "anchor_text": "GitHub"}, {"url": "https://medium.com/better-programming/30-simple-tricks-to-level-up-your-python-coding-5b625c15b79a", "anchor_text": "30 Simple Tricks to Level Up Your Python CodingBetter Pythonmedium.com"}, {"url": "https://towardsdatascience.com/understand-map-function-to-manipulate-pandas-series-8ac340d514f7", "anchor_text": "Understand map() function to manipulate pandas SeriesLearn the fundamentals of using the map() function to convert the data to the desired formattowardsdatascience.com"}, {"url": "https://towardsdatascience.com/a-cheat-sheet-on-generating-random-numbers-in-numpy-5fe95ec2286", "anchor_text": "A Cheat Sheet on Generating Random Numbers in NumPySee the most commonly used functions on generating random numbers in NumPy.towardsdatascience.com"}, {"url": "https://medium.com/tag/python?source=post_page-----5e430cac7a82---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----5e430cac7a82---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/data-science?source=post_page-----5e430cac7a82---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/technology?source=post_page-----5e430cac7a82---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/programming?source=post_page-----5e430cac7a82---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5e430cac7a82&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-less-known-pandas-functions-that-can-make-your-work-easier-5e430cac7a82&user=Yong+Cui&userId=88ff1e2545d0&source=-----5e430cac7a82---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5e430cac7a82&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-less-known-pandas-functions-that-can-make-your-work-easier-5e430cac7a82&user=Yong+Cui&userId=88ff1e2545d0&source=-----5e430cac7a82---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5e430cac7a82&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-less-known-pandas-functions-that-can-make-your-work-easier-5e430cac7a82&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5e430cac7a82--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5e430cac7a82&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-less-known-pandas-functions-that-can-make-your-work-easier-5e430cac7a82&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5e430cac7a82---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5e430cac7a82--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5e430cac7a82--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5e430cac7a82--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5e430cac7a82--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5e430cac7a82--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5e430cac7a82--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5e430cac7a82--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5e430cac7a82--------------------------------", "anchor_text": ""}, {"url": "https://yongcui01.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://yongcui01.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Yong Cui"}, {"url": "https://yongcui01.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "5.5K Followers"}, {"url": "https://www.manning.com/books/python-how-to", "anchor_text": "https://www.manning.com/books/python-how-to"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F88ff1e2545d0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-less-known-pandas-functions-that-can-make-your-work-easier-5e430cac7a82&user=Yong+Cui&userId=88ff1e2545d0&source=post_page-88ff1e2545d0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fef441bd78519&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-less-known-pandas-functions-that-can-make-your-work-easier-5e430cac7a82&newsletterV3=88ff1e2545d0&newsletterV3Id=ef441bd78519&user=Yong+Cui&userId=88ff1e2545d0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://www.manning.com/books/python-how-to", "anchor_text": "Python How-To2023"}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}