{"url": "https://towardsdatascience.com/how-to-model-time-series-in-python-9983ebbf82cf", "time": 1683007620.520148, "path": "towardsdatascience.com/how-to-model-time-series-in-python-9983ebbf82cf/", "webpage": {"metadata": {"title": "How to Model Time Series in Python | by Marco Peixeiro | Towards Data Science", "h1": "How to Model Time Series in Python", "description": "In words, it means that the location at the present time t is the sum of the previous location and noise, expressed by Z. Here, we assume that the noise is normally distributed (mean of 0 and\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/marcopeix/time-series-analysis/tree/master/2.%20Basic%20Modelling", "anchor_text": "here", "paragraph_index": 2}, {"url": "https://www.datasciencewithmarco.com/offers/tdU2mtVK", "anchor_text": "Applied Time Series Analysis in Python", "paragraph_index": 3}], "all_paragraphs": ["In this article, we introduce two models to start modelling time series:", "This article is meant to be hands-on. So make sure to start you Jupyter notebook and follow along!", "The complete notebook can be found here.", "Dive deeper into time series analysis and apply advanced models such as SARIMAX, VARMAX, CNN, LSTM, ResNet, autoregressive LSTM, and more with Applied Time Series Analysis in Python.", "The random walk model is expressed by this formula:", "In words, it means that the location at the present time t is the sum of the previous location and noise, expressed by Z. Here, we assume that the noise is normally distributed (mean of 0 and variance of 1).", "Of course, we start our random walk at 0, we can say that any point in time is the sum of all noise up to that time. Mathematically:", "Let\u2019s simulate a random walk in Python.", "First, we will import all libraries that will be required for this part and the next section of this article:", "Then, we generate a dataset of 1000 data points. The starting point is 0, and we add random noise to the previous point to generate the next one:", "Plotting our dataset, we see the following:", "Now, your random walk might be different than the plot above, because the noise is well\u2026random. Therefore, maybe your random walk is actually moving upwards through time.", "Now, let\u2019s take a look at the autocorrelation plot (or correlogram) of our random walk:", "No matter what your random walk looks like, you should obtain a very similar correlogram. As you can see, even with a lag of 20, the correlation is very important. Therefore, the process is not stationary.", "Now, everything points to the presence of a trend in our dataset. Would it be possible to remove this trend?", "Knowing that a random walk adds a random noise to the previous point, if we take the difference between each point with its previous one, we should obtain a purely random stochastic process.", "Let\u2019s verify that in Python. To take the difference, we do:", "Then, we plot the result and we should get:", "As you can see, the plot above has no systematic change in trend, variance, and it has no seasonality. Therefore, we definitely have a purely random process.", "Looking at the correlogram of the difference:", "We see that this is the correlogram of a purely random process, where the autocorrelation coefficients drop at lag 1.", "Let\u2019s start by gaining an intuition of what a moving average process is.", "Suppose that you throw a rock in a pond of water and that you are tracking the position of a single water drop on the surface through time. Of course, when the rock hits the surface, ripples are formed, and so our drop will move up and down. Now, let\u2019s suppose that ripples on the surface only last for two seconds, after which the surface comes back to being totally flat.", "Then, we can say that the position of our water drop can be expressed as:", "The equation above says that the position X at time t depends on the noise at time t, plus the noise at time t-1 (with a certain weight theta), plus some noise at time t-2 (with a certain weight).", "This is called a moving average process of order 2, which can also be denoted as MA(2).", "The generalized notation is MA(q). In the example above, q = 2.", "Let\u2019s simulate this process in Python.", "Specifically, we will simulate the following process:", "It is again a moving average process of order 2, but we specified the weights. Feel free to change them and experiment with the parameters.", "We start by specifying the lag. Here, we are using a lag of 2.", "Finally, we simulate the process and generate a thousand data points:", "Now, let\u2019s visualize the process and its correlogram:", "Again, since the noise is generated randomly, your graph is probably different than mine. However, the correlogram should be similar to the one below:", "As you notice, the correlation is significant up to lag 2. Afterwards, the correlation is not significant anymore. This makes sense since we specified a formula with a lag of 2.", "This means that you can infer the lag of a time series using the correlogram. If you see that after a specific lag q, the correlation is not significant, then you can model your time series as an MA(q) process.", "That\u2019s it! You now understand what a random walk is and how to simulate it. Also, you learned about moving average processes, how to model them, and most importantly, how to identify the order of your moving average process.", "Learn more about time series with the following hands-on course:", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Senior data scientist | Author | Instructor. I write hands-on articles with a focus on practical skills."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F9983ebbf82cf&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-in-python-9983ebbf82cf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-in-python-9983ebbf82cf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-in-python-9983ebbf82cf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-in-python-9983ebbf82cf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----9983ebbf82cf--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----9983ebbf82cf--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@marcopeixeiro?source=post_page-----9983ebbf82cf--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@marcopeixeiro?source=post_page-----9983ebbf82cf--------------------------------", "anchor_text": "Marco Peixeiro"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F741c1c8fcfbd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-in-python-9983ebbf82cf&user=Marco+Peixeiro&userId=741c1c8fcfbd&source=post_page-741c1c8fcfbd----9983ebbf82cf---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9983ebbf82cf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-in-python-9983ebbf82cf&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9983ebbf82cf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-in-python-9983ebbf82cf&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@insungyoon?utm_source=medium&utm_medium=referral", "anchor_text": "insung yoon"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://github.com/marcopeix/time-series-analysis/tree/master/2.%20Basic%20Modelling", "anchor_text": "here"}, {"url": "https://www.datasciencewithmarco.com/offers/tdU2mtVK", "anchor_text": "Applied Time Series Analysis in Python"}, {"url": "https://www.datasciencewithmarco.com/offers/tdU2mtVK", "anchor_text": "Applied Time Series Analysis in Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----9983ebbf82cf---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----9983ebbf82cf---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/python?source=post_page-----9983ebbf82cf---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----9983ebbf82cf---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----9983ebbf82cf---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F9983ebbf82cf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-in-python-9983ebbf82cf&user=Marco+Peixeiro&userId=741c1c8fcfbd&source=-----9983ebbf82cf---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F9983ebbf82cf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-in-python-9983ebbf82cf&user=Marco+Peixeiro&userId=741c1c8fcfbd&source=-----9983ebbf82cf---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9983ebbf82cf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-in-python-9983ebbf82cf&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----9983ebbf82cf--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F9983ebbf82cf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-in-python-9983ebbf82cf&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----9983ebbf82cf---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----9983ebbf82cf--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----9983ebbf82cf--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----9983ebbf82cf--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----9983ebbf82cf--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----9983ebbf82cf--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----9983ebbf82cf--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----9983ebbf82cf--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----9983ebbf82cf--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@marcopeixeiro?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@marcopeixeiro?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Marco Peixeiro"}, {"url": "https://medium.com/@marcopeixeiro/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.6K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F741c1c8fcfbd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-in-python-9983ebbf82cf&user=Marco+Peixeiro&userId=741c1c8fcfbd&source=post_page-741c1c8fcfbd--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F9835bccb3d51&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-in-python-9983ebbf82cf&newsletterV3=741c1c8fcfbd&newsletterV3Id=9835bccb3d51&user=Marco+Peixeiro&userId=741c1c8fcfbd&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://www.manning.com/books/time-series-forecasting-in-python-book", "anchor_text": "Time Series Forecasting in Python2022"}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}