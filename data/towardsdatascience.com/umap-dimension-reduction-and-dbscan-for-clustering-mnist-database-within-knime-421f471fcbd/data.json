{"url": "https://towardsdatascience.com/umap-dimension-reduction-and-dbscan-for-clustering-mnist-database-within-knime-421f471fcbd", "time": 1683016412.444984, "path": "towardsdatascience.com/umap-dimension-reduction-and-dbscan-for-clustering-mnist-database-within-knime-421f471fcbd/", "webpage": {"metadata": {"title": "Embeeding and clustering combining Knime and Python | Towards Data Science", "h1": "Embedding and clustering combining Knime and Python", "description": "UMAP dimension reduction and DBSCAN for clustering MNIST database within KNIME combined with Python."}, "outgoing_paragraph_urls": [{"url": "http://www.knime.com", "anchor_text": "Knime", "paragraph_index": 0}, {"url": "https://en.wikipedia.org/wiki/Machine_learning", "anchor_text": "machine learning", "paragraph_index": 0}, {"url": "https://en.wikipedia.org/wiki/Data_mining", "anchor_text": "data mining", "paragraph_index": 0}, {"url": "https://medium.com/u/fb562cc4a1e2?source=post_page-----421f471fcbd--------------------------------", "anchor_text": "Rosaria Silipo", "paragraph_index": 1}, {"url": "https://www.linkedin.com/in/misha-lisovyi/", "anchor_text": "Mischa Lisovyi", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/is-zero-closer-to-eight-or-to-one-c6392242b696", "anchor_text": "Knime workflow involving t-SNE", "paragraph_index": 1}, {"url": "https://medium.com/u/fb562cc4a1e2?source=post_page-----421f471fcbd--------------------------------", "anchor_text": "Rosaria Silipo", "paragraph_index": 2}, {"url": "https://www.openml.org/d/554", "anchor_text": "MNIST dataset from OpenML", "paragraph_index": 3}, {"url": "https://umap-learn.readthedocs.io/en/latest/index.html", "anchor_text": "Uniform Manifold Approximation and Projection (UMAP)", "paragraph_index": 6}, {"url": "https://towardsdatascience.com/manifolds-in-data-science-a-brief-overview-2e9dde9437e5", "anchor_text": "here", "paragraph_index": 9}, {"url": "https://towardsdatascience.com/geodesic-regression-d0334de2d9d8", "anchor_text": "here", "paragraph_index": 9}, {"url": "https://www.dbs.ifi.lmu.de/Publikationen/Papers/KDD-96.final.frame.pdf", "anchor_text": "Density-based spatial clustering of applications with noise", "paragraph_index": 15}, {"url": "https://kni.me/e/He68zjghsrLBqltN", "anchor_text": "KNIME Distance Matrix", "paragraph_index": 16}, {"url": "https://kni.me/w/wNDZj8xqFkJgbgzz", "anchor_text": "UMAP DBSCAN MNIST 2D Python", "paragraph_index": 22}, {"url": "https://kni.me/w/NCrq2LknJF3fUtui", "anchor_text": "UMAP DBSCAN MNIST 3D Python", "paragraph_index": 23}, {"url": "https://kni.me/e/9Z2SYIHDiATP4xQK", "anchor_text": "Knime Python extension.", "paragraph_index": 26}, {"url": "https://kni.me/e/NXfbxRi-JV1Tt7yC", "anchor_text": "Plotly Knime extension", "paragraph_index": 31}], "all_paragraphs": ["Knime is a free and open-source data analytics, reporting and integration platform. KNIME integrates various components for machine learning and data mining through its modular data pipelining concept. For people like me, who do not have a strong coding background, Knime has been the open door to end to end data science experience. For the last two years working with Knime, I have been able to understand the global picture of data science, I left my fears behind and now I am stepping deeper and deeper in the challenging and amazing world of data science.", "A few days ago I read an article in TowardsDataScience by Rosaria Silipo and Mischa Lisovyi showing a very nice Knime workflow involving t-SNE applied on MNIST dataset. I had done a similar workflow in the past with UMAP with nice results.", "Encouraged by Rosaria Silipo in Linkedin I decided to publish my first story.", "The raw material for this article is the MNIST dataset from OpenML of handwritten numbers from 0 to 9 by Yan LeCun. The dataset has 70000 handwritten numbers of 28x28 pixels of 0\u2013255 grey scale levels. That is to say that we have 70000 vectors wich dimension is 784.", "That data is fetched in a Python script within Knime and the UMAP algorithm for dimensional reduction is applied, also on that Python script, so we can map each image of the data set in a point on a lower dimensional space. For the aim of representing the results, logically, I used 2D and 3D as target dimensions.", "After that, in order to have more fun, with the resulting UMAP embedded data ignoring lables, I applied a DBSCAN node within Knime for clustering results. We will check results later.", "Uniform Manifold Approximation and Projection (UMAP) is a dimension reduction technique that can be used for visualisation similarly to t-SNE, but also for general non-linear dimension reduction. The algorithm is founded on three assumptions about the data", "-The data is uniformly distributed on Riemannian manifold;", "-The Riemannian metric is locally constant (or can be approximated as such);", "What is a Riemannian manifold? Wait!! What is a manifold? A manifold is a topological object of n-dimension that locally, on the neighborhood of a point, behaves like an n-dimensional euclidean space. A good layman\u2019s example would be the earth. A Rieamannian manifold is a smooth differentiable manifold in which notions like length, curves, angles, volumes, gradient of functions can be defined. For more information on manifolds or Riemannian manifolds, try here and here.", "UMAP has some parameters to control its performance.", "n_neighbors: The bigger the n_neighbors the bigger neighborhoods that will be sought by the algorithm and will be tending to global overall structures.The lower the n_neighbors, the more detailed structures that UMAP will be focused on.", "minimum distance: Defines the minimum distance that the algorithm will consider to pack points together in the final reducted space. That means that low values of minimum distance will result in smaller cluster embeddings. On the other side, high values of minimum distance will lead UMAP algorithm to point to global structures.", "metric: We can define the metric with which the algorithm will calculate the distance in the original space.", "Hard to digest! I know. Nearly magic for engineers. Coming out of that darkness, specifically (and simply!!), UMAP models each high-dimensional object by a n-dimensional point (n being down to 2) in such a way that similar objects are modeled by nearby points and dissimilar objects are modeled by distant points with high probability.", "DBSCAN, Density-based spatial clustering of applications with noise, is a clustering algorithm considered among unsupervised lerning methods. Based on three input parameters the algorithm is able to clusterized a set of data by grouping together points that are closely packed together (points with a certain number of nearby neighbors), marking as noise those points that lie alone and away in low-density regions (whose nearest neighbors are too far away).", "As you can imagine, the parameters ruling the performance of the DBSCAN algorithm are related to the distance to decide whether a point is near or not to one another, epsilon, and are also related to the minimum number of nearby points, minimum points, necessary to considered one point is a \u201cneighborhood\u201d or core point. A cluster is the sum of all core points and their neighbors. Finally, in KNIME node for DBSCAN included in the Knime extension KNIME Distance Matrix, we can see that a metric input is needed so the algorithm has the necessary Distance model to calculate de distances between points on the dataset.", "epsilon: Specifies distance between points so they can be be considered a part of a cluster. Two points will be considered neighbors belonging to the same cluster if the distance between them is lower than epsilon.", "minimum Points: Minimum number of points reachable from a point p so that p point can be considered a core point.", "distance model: As said before, it is necessary to inform DBSCAN node with a distance model to evaluate distances between points in data set. To do that we use the Mumeric Distance node.", "Significative advantages of of DBSCAN algorithm are:", "Both Knime workflows are published and available in Knime Hub:", "UMAP DBSCAN MNIST 2D Python. UMAP 2D dimension embedding", "UMAP DBSCAN MNIST 3D Python. UMAP 3D dimension embedding", "I will only focuse on 2D explanation since both workflows are virtually identical. However, I will show comparative results for both in the end.", "Following you can see the whole workflow and later I will explain it block by block.", "Following you can find a detail picture of the first block with which data is fetched and UMAP is calculated within the Python Source node from Knime Python extension.", "Orange block in the center is the Python Source node that includes the script used to fetch data from OpenML and to perform UMAP technique. Two variable nodes, \u201cMetric\u201d and \u201cNumber of rows\u201d are merged and passed like inputs for the UMAP algorithm. For the final results I used euclidean metrics and regarding the \u201cNumber of rows\u201d Integer input node, I just used it to change to low numbers while testing. Just a matter of time. On the right, I use the Column Rename node to name columns with understandable names during the workflow.", "Here you can find the code within the Python Source node:", "After the UMAP algorithm is performed, we have a 2D mapping for the MNIST digits. I used two different approaches to plotting just to compare results.", "UMAP output Scatter Plot (Plotly) combined with Color Manager", "Scatter Plot from Plotly Knime extension is a very nice node. Result is interactive and output colors can be configured with the Color Manager node so dataset point within the reducted 2D space can be labelled according to the digit they were within the original space before being embedded.", "Alternatively, in 3D, instead of Scatter Plot node we can use Scatter 3D and the result is the following.", "Please note that the same ten clearly differentiate clusters have been detected and mapped both in 2D and in 3D by the UMAP algorithm.", "Using a Python Source node and a piece of code, similar results can also be found.", "Following you can find de pieces of code to do both plots within the Python view node of Knime.", "So, up to this point we have a set of 2D (or 3D) points representing a set of 700000 written images. We know which original number corresponds to each point of the reducted space since original labels have been added to the UMAP output as you can see here:", "But imagine we had not original label. We would have a mass of points with no further information like this:", "It is time to use DBSCAN and try to find what is the structure lying beneath that scatter nonsense plot.", "We drive the output of the UMAP to the DBSCAN node. Additionally we feed the rest of the DBSCAN inputs with variables although they coud be configured inside the node.", "For 2D DBSCAN I used Epsilon=0.15 and Minimum points=50. Metric, within the Numeric Distances node, was configured to Euclidean.", "The output, after some string manipulation, is a table with clustered data.", "What will we find if we plot points within the reducted space in 2D or 3D labelled with the clustering resulting from DBSCAN?", "In the following images you can see that DBSCAN identified clusters are the same clusters that UMAP delivered according to original images. That is pretty satisfying and nice.", "Are results of DBSCAN good enough related to original labels?", "Accuracy of DBSCAN clustering related to original labels is 95,9%.", "All this work has been done within Knime combining native Knime nodes and embedding Python code on its workflows showing, hence, the capabilities of Knime environement.", "Next story I am thinking about, will be on how to to perform a similar analysis but reaching the embedded state with a neural autoencoder. Will keep you informed.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F421f471fcbd&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fumap-dimension-reduction-and-dbscan-for-clustering-mnist-database-within-knime-421f471fcbd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fumap-dimension-reduction-and-dbscan-for-clustering-mnist-database-within-knime-421f471fcbd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fumap-dimension-reduction-and-dbscan-for-clustering-mnist-database-within-knime-421f471fcbd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fumap-dimension-reduction-and-dbscan-for-clustering-mnist-database-within-knime-421f471fcbd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----421f471fcbd--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----421f471fcbd--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://israel-fernandez-pina.medium.com/?source=post_page-----421f471fcbd--------------------------------", "anchor_text": ""}, {"url": "https://israel-fernandez-pina.medium.com/?source=post_page-----421f471fcbd--------------------------------", "anchor_text": "Israel Fern\u00e1ndez Pina"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbcd0c8531c51&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fumap-dimension-reduction-and-dbscan-for-clustering-mnist-database-within-knime-421f471fcbd&user=Israel+Fern%C3%A1ndez+Pina&userId=bcd0c8531c51&source=post_page-bcd0c8531c51----421f471fcbd---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F421f471fcbd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fumap-dimension-reduction-and-dbscan-for-clustering-mnist-database-within-knime-421f471fcbd&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F421f471fcbd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fumap-dimension-reduction-and-dbscan-for-clustering-mnist-database-within-knime-421f471fcbd&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/hands-on-tutorials", "anchor_text": "Hands-on Tutorials"}, {"url": "http://www.knime.com", "anchor_text": "Knime"}, {"url": "https://en.wikipedia.org/wiki/Machine_learning", "anchor_text": "machine learning"}, {"url": "https://en.wikipedia.org/wiki/Data_mining", "anchor_text": "data mining"}, {"url": "https://medium.com/u/fb562cc4a1e2?source=post_page-----421f471fcbd--------------------------------", "anchor_text": "Rosaria Silipo"}, {"url": "https://www.linkedin.com/in/misha-lisovyi/", "anchor_text": "Mischa Lisovyi"}, {"url": "https://towardsdatascience.com/is-zero-closer-to-eight-or-to-one-c6392242b696", "anchor_text": "Knime workflow involving t-SNE"}, {"url": "https://medium.com/u/fb562cc4a1e2?source=post_page-----421f471fcbd--------------------------------", "anchor_text": "Rosaria Silipo"}, {"url": "https://www.openml.org/d/554", "anchor_text": "MNIST dataset from OpenML"}, {"url": "https://umap-learn.readthedocs.io/en/latest/index.html", "anchor_text": "Uniform Manifold Approximation and Projection (UMAP)"}, {"url": "https://towardsdatascience.com/manifolds-in-data-science-a-brief-overview-2e9dde9437e5", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/geodesic-regression-d0334de2d9d8", "anchor_text": "here"}, {"url": "https://es.wikipedia.org/wiki/Variedad_de_Riemann", "anchor_text": "Wikipedia"}, {"url": "http://StuRat, Public domain, via Wikimedia Commons", "anchor_text": "Wikimedia Commons"}, {"url": "https://www.dbs.ifi.lmu.de/Publikationen/Papers/KDD-96.final.frame.pdf", "anchor_text": "Density-based spatial clustering of applications with noise"}, {"url": "https://kni.me/e/He68zjghsrLBqltN", "anchor_text": "KNIME Distance Matrix"}, {"url": "https://kni.me/w/wNDZj8xqFkJgbgzz", "anchor_text": "UMAP DBSCAN MNIST 2D Python"}, {"url": "https://kni.me/w/NCrq2LknJF3fUtui", "anchor_text": "UMAP DBSCAN MNIST 3D Python"}, {"url": "https://kni.me/e/9Z2SYIHDiATP4xQK", "anchor_text": "Knime Python extension."}, {"url": "https://kni.me/e/NXfbxRi-JV1Tt7yC", "anchor_text": "Plotly Knime extension"}, {"url": "https://medium.com/tag/knime?source=post_page-----421f471fcbd---------------knime-----------------", "anchor_text": "Knime"}, {"url": "https://medium.com/tag/umap?source=post_page-----421f471fcbd---------------umap-----------------", "anchor_text": "Umap"}, {"url": "https://medium.com/tag/dbscan?source=post_page-----421f471fcbd---------------dbscan-----------------", "anchor_text": "Dbscan"}, {"url": "https://medium.com/tag/mnist?source=post_page-----421f471fcbd---------------mnist-----------------", "anchor_text": "Mnist"}, {"url": "https://medium.com/tag/hands-on-tutorials?source=post_page-----421f471fcbd---------------hands_on_tutorials-----------------", "anchor_text": "Hands On Tutorials"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F421f471fcbd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fumap-dimension-reduction-and-dbscan-for-clustering-mnist-database-within-knime-421f471fcbd&user=Israel+Fern%C3%A1ndez+Pina&userId=bcd0c8531c51&source=-----421f471fcbd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F421f471fcbd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fumap-dimension-reduction-and-dbscan-for-clustering-mnist-database-within-knime-421f471fcbd&user=Israel+Fern%C3%A1ndez+Pina&userId=bcd0c8531c51&source=-----421f471fcbd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F421f471fcbd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fumap-dimension-reduction-and-dbscan-for-clustering-mnist-database-within-knime-421f471fcbd&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----421f471fcbd--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F421f471fcbd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fumap-dimension-reduction-and-dbscan-for-clustering-mnist-database-within-knime-421f471fcbd&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----421f471fcbd---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----421f471fcbd--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----421f471fcbd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----421f471fcbd--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----421f471fcbd--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----421f471fcbd--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----421f471fcbd--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----421f471fcbd--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----421f471fcbd--------------------------------", "anchor_text": ""}, {"url": "https://israel-fernandez-pina.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://israel-fernandez-pina.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Israel Fern\u00e1ndez Pina"}, {"url": "https://israel-fernandez-pina.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "23 Followers"}, {"url": "https://www.linkedin.com/in/israel-fern%C3%A1ndez-pina-b3610b30/", "anchor_text": "https://www.linkedin.com/in/israel-fern%C3%A1ndez-pina-b3610b30/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbcd0c8531c51&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fumap-dimension-reduction-and-dbscan-for-clustering-mnist-database-within-knime-421f471fcbd&user=Israel+Fern%C3%A1ndez+Pina&userId=bcd0c8531c51&source=post_page-bcd0c8531c51--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3aea5367f3a7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fumap-dimension-reduction-and-dbscan-for-clustering-mnist-database-within-knime-421f471fcbd&newsletterV3=bcd0c8531c51&newsletterV3Id=3aea5367f3a7&user=Israel+Fern%C3%A1ndez+Pina&userId=bcd0c8531c51&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}