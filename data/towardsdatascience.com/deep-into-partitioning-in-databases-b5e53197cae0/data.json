{"url": "https://towardsdatascience.com/deep-into-partitioning-in-databases-b5e53197cae0", "time": 1683008617.940716, "path": "towardsdatascience.com/deep-into-partitioning-in-databases-b5e53197cae0/", "webpage": {"metadata": {"title": "Deep into partitioning databases. All about how data is partitioned in\u2026 | by Shilpi Gupta | Towards Data Science", "h1": "Deep into partitioning databases", "description": "Database is an integral part of any application design where processes write and manage the data. Although, one may never need to design a database from scratch, understanding its design and how\u2026"}, "outgoing_paragraph_urls": [{"url": "http://a-fwd.to/1AuRTAU", "anchor_text": "Designing Data Intensive Applications", "paragraph_index": 13}, {"url": "https://www.onepercentbetter.dev/", "anchor_text": "https://www.onepercentbetter.dev/", "paragraph_index": 15}], "all_paragraphs": ["Database is an integral part of any application design where processes write and manage the data. Although, one may never need to design a database from scratch, understanding its design and how different databases handle data would help you to choose the most suitable datastore which provides required scalability and performance. This article will capture details on how databases handles data partitioning.", "Data in databases is broken into partitions. Each partition is defined such that each piece of data resides into exactly one partition. A node can contain multiple partitions. Partitioning is done to ensure scalability as entire data might not get fit into a single node. Different partitions can reside on different nodes. Each node can serve the queries with its own partition. This process is also known as sharding. Along with partitioning, each partition is replicated to multiple nodes to ensure availability.", "Technique followed to create data partitions may lead to uneven load distribution among partitions. Some partitions serve more number of queries than others. Such an unfair partition is known as skewed. In the extreme case, the entire load can end onto a single partition ie. 4 out of 5 partitions are idle. A partition with disproportionate high load is known as hotspot. Such partitioning is less effective and leads to uneven load distribution among nodes.", "We will discuss three different ways to partition data:", "A simple approach can be to randomly distribute the data equally into different partitions. It would lead to equal data distribution but there would be no way to figure out which key resides in which partition. This would make reads extremely difficult.", "Another approach can be to divide the keys into different ranges and assign each range to a partition. For example, keys with values A\u2013E can reside in partition-1, F\u2013K in partition-2, L\u2013R in partition-3 and so on. The range need to be equally spaced. For example, data with keys F, G, H can be less and leads to formation of a range (F-K) with more number of keys in it.", "Advantage with this approach is data gets evenly distributed among partitions and simplifies range queries. But the problem with this approach is it may lead to formation of hotspots. Consider a case where the key depends on timestamp. In such a case, all the write traffic will move to a single partition.", "Another approach can be to calculate the hash of the key and each partition can be assigned a range of hashes. A good hash function for this case needs not to be cryptographically strong but should evenly distribute data.", "It will distribute the data and load evenly among different partitions but makes rang queries difficult.", "Secondary indexes are used to efficiently query data based on a field different from the primary key. How queries on secondary indexes will be resolved with partitioning? If entire data would have resided in a single partition, it would be simple to create a secondary index for entire data and use it. Partitioning complicates queries on secondary indexes. There are two approaches to such queries:", "2. Partitioning secondary indexes by item (or global indexes): In this, there is a global secondary index which covers entire data. With each key, it stores the partition in which it resides. As complete index might not get fit in a single node, global index can also be partitioned into different nodes. For example, index with keys A-R can reside in node-1 and rest on node-2. Global indexes increases write latency but provides faster reads.", "With time data can grow, type of queries can change or some nodes needs to be replaced, removed or added. Such scenarios involve moving data from one node to another. Requirements of rebalancing are:", "Rebalancing can be done either automatically or manually.", "To read more about databases and application design, I\u2019d highly recommend going through \u2018Designing Data Intensive Applications\u2019 by Martin Kleppmann.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "https://www.onepercentbetter.dev/ | Software Developer| Previously @ Adobe| Expedia| Google WTM Scholar\u201917 | Computer Engineering\u201918 from DTU (aka DCE)"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb5e53197cae0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-into-partitioning-in-databases-b5e53197cae0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-into-partitioning-in-databases-b5e53197cae0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-into-partitioning-in-databases-b5e53197cae0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-into-partitioning-in-databases-b5e53197cae0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b5e53197cae0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b5e53197cae0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@shilpi75?source=post_page-----b5e53197cae0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@shilpi75?source=post_page-----b5e53197cae0--------------------------------", "anchor_text": "Shilpi Gupta"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fcd76f3f63ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-into-partitioning-in-databases-b5e53197cae0&user=Shilpi+Gupta&userId=cd76f3f63ff&source=post_page-cd76f3f63ff----b5e53197cae0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb5e53197cae0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-into-partitioning-in-databases-b5e53197cae0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb5e53197cae0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-into-partitioning-in-databases-b5e53197cae0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/", "anchor_text": "https://unsplash.com/"}, {"url": "https://docs.microsoft.com/en-us/rest/api/storageservices/designing-a-scalable-partitioning-strategy-for-azure-table-storage", "anchor_text": "Microsoft docs"}, {"url": "https://aws.amazon.com/blogs/database/sharding-with-amazon-relational-database-service/", "anchor_text": "AWS blogs"}, {"url": "https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.Partitions.html", "anchor_text": "AWS docs"}, {"url": "http://a-fwd.to/1AuRTAU", "anchor_text": "Designing Data Intensive Applications"}, {"url": "http://a-fwd.to/1AuRTAU", "anchor_text": "Designing Data Intensive Applications"}, {"url": "http://a-fwd.to/1AuRTAU", "anchor_text": "Designing Data Intensive Applications"}, {"url": "https://medium.com/tag/database?source=post_page-----b5e53197cae0---------------database-----------------", "anchor_text": "Database"}, {"url": "https://medium.com/tag/programming?source=post_page-----b5e53197cae0---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/design?source=post_page-----b5e53197cae0---------------design-----------------", "anchor_text": "Design"}, {"url": "https://medium.com/tag/software?source=post_page-----b5e53197cae0---------------software-----------------", "anchor_text": "Software"}, {"url": "https://medium.com/tag/computer-science?source=post_page-----b5e53197cae0---------------computer_science-----------------", "anchor_text": "Computer Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb5e53197cae0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-into-partitioning-in-databases-b5e53197cae0&user=Shilpi+Gupta&userId=cd76f3f63ff&source=-----b5e53197cae0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb5e53197cae0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-into-partitioning-in-databases-b5e53197cae0&user=Shilpi+Gupta&userId=cd76f3f63ff&source=-----b5e53197cae0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb5e53197cae0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-into-partitioning-in-databases-b5e53197cae0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b5e53197cae0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb5e53197cae0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-into-partitioning-in-databases-b5e53197cae0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b5e53197cae0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b5e53197cae0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b5e53197cae0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b5e53197cae0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b5e53197cae0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b5e53197cae0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b5e53197cae0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b5e53197cae0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b5e53197cae0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@shilpi75?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@shilpi75?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Shilpi Gupta"}, {"url": "https://medium.com/@shilpi75/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "521 Followers"}, {"url": "https://www.onepercentbetter.dev/", "anchor_text": "https://www.onepercentbetter.dev/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fcd76f3f63ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-into-partitioning-in-databases-b5e53197cae0&user=Shilpi+Gupta&userId=cd76f3f63ff&source=post_page-cd76f3f63ff--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fcd76f3f63ff%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-into-partitioning-in-databases-b5e53197cae0&user=Shilpi+Gupta&userId=cd76f3f63ff&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}