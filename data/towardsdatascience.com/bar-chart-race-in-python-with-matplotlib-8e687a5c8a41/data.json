{"url": "https://towardsdatascience.com/bar-chart-race-in-python-with-matplotlib-8e687a5c8a41", "time": 1683000266.630944, "path": "towardsdatascience.com/bar-chart-race-in-python-with-matplotlib-8e687a5c8a41/", "webpage": {"metadata": {"title": "Bar Chart Race in Python with Matplotlib | by Pratap Vardhan | Towards Data Science", "h1": "Bar Chart Race in Python with Matplotlib", "description": "How easy is it to create bar chart racs in Python using Jupyter and Matplotlib? Turns out, in less than 50 lines of code, you can create reusable bar chart race in Python with Matplotlib"}, "outgoing_paragraph_urls": [{"url": "https://twitter.com/MattNavarra/status/1098580810062618627", "anchor_text": "Matt Navarra\u2019s", "paragraph_index": 0}, {"url": "https://twitter.com/jburnmurdoch/status/1107552367795412992", "anchor_text": "John Burn-Murdoch", "paragraph_index": 0}, {"url": "https://observablehq.com/@johnburnmurdoch/bar-chart-race-the-most-populous-cities-in-the-world", "anchor_text": "notebook", "paragraph_index": 0}, {"url": "https://app.flourish.studio/@flourish/bar-chart-race", "anchor_text": "race chart", "paragraph_index": 0}, {"url": "https://twitter.com/jburnmurdoch/status/1107552367795412992", "anchor_text": "version", "paragraph_index": 1}, {"url": "https://matplotlib.org/", "anchor_text": "Matplotlib", "paragraph_index": 1}, {"url": "https://gist.githubusercontent.com/johnburnmurdoch/4199dbe55095c3e13de8d5b2e5e5307a/raw/fa018b25c24b7b5f47fd0568937ff6c04e384786/city_populations", "anchor_text": "city populations dataset", "paragraph_index": 6}, {"url": "https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.animation.FuncAnimation.html", "anchor_text": "FuncAnimation", "paragraph_index": 17}, {"url": "https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.animation.FuncAnimation.html", "anchor_text": "FuncAnimatio", "paragraph_index": 17}, {"url": "https://twitter.com/PratapVardhan/status/1168873772910170112", "anchor_text": "animated xkcd-styled bar chart race", "paragraph_index": 21}, {"url": "https://github.com/pratapvardhan/notebooks/blob/master/barchart-race-matplotlib.ipynb", "anchor_text": "here", "paragraph_index": 22}, {"url": "https://colab.research.google.com/github/pratapvardhan/notebooks/blob/master/barchart-race-matplotlib.ipynb", "anchor_text": "on Google Colab also", "paragraph_index": 22}, {"url": "http://Gramener.com", "anchor_text": "Gramener.com", "paragraph_index": 25}], "all_paragraphs": ["Bar chart races have been around for a while. This year, they took social media by storm. It began with Matt Navarra\u2019s tweet, which was viewed 10 million times. Then, John Burn-Murdoch created reproducible notebook using d3.js, others started creating their races. Then, Flourish studio released race chart for non-programmers. Since then hundreds of races have been shared on the Internet.", "I wondered \u2014 How easy would it be to re-produce JBM\u2019s version in Python using Jupyter and Matplotlib? Turns out, in less than 50 lines of code, you can reasonably re-create reusable bar chart race in Python with Matplotlib.", "Here\u2019s what we want to create.", "Now, that you\u2019ve seen the output, we\u2019ll incrementally build it up.", "Matplotlib\u2019s style defaults are designed for many common situations, but are in no way optimal for our aesthetics. So, bulk of our code would go into styling (axes, text, colors, ticks etc)", "In your Jupyter notebook, import the dependent libraries.", "Read the city populations dataset with pandas. We only need 4 columns to work with 'name', 'group', 'year', 'value'. Typically, a name is mapped to a group (city to continent/country) and each year has one value.", "We are interested to see top 10 values are a given year. Using pandas transformations, we will get top 10 values.", "Now, let\u2019s plot a basic bar chart. We start by creating a figure and an axes. Then, we use ax.barh(x, y) to draw horizontal barchart.", "Notice, highest bar is at the bottom. We need to flip that.", "Next, let\u2019s add values, group labels and colors based on groups. We\u2019ll user colors and group_lk to add color to the bars.", "group_lk is mapping between name and group values.", "Now, we\u2019re left with styling the chart.", "For convenience let\u2019s move our code to draw_barchart function.", "We need to style following items:", "We\u2019ll add another dozen lines of code for this.", "We now have an identical chart.", "To animate the race, we will use FuncAnimation from matplotlib.animation. FuncAnimatio creates an animation by repeatedly calling a function (that draws on canvas). In our case, that function will be draw_barchart. We also use frames, this argument accepts on what values you want to run draw_barchart \u2013 we\u2019ll run from year 1968 to 2018.", "And, there, we have it, bar chart race inside a notebook with matplotlib.", "You could save the animator object to a video/gif or play within the notebook.", "Turning your matplotlib plots into xkcd styled ones is pretty easy. You can simply turn on xkcdsketch-style drawing mode with plt.xkcd.", "Here\u2019s the animated xkcd-styled bar chart race.", "Full code for the race animation is here and you can play with it on Google Colab also. Try changing the dataset, colors and share your races.", "Matplotlib is a massive library \u2014 being able to adjust every aspect of a plot is powerful but it can be complex / time-consuming for highly customized charts. At least, for these bar chart races, it was fairly quick!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Principal Data Scientist, Gramener.com | One data point at a time."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8e687a5c8a41&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbar-chart-race-in-python-with-matplotlib-8e687a5c8a41&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbar-chart-race-in-python-with-matplotlib-8e687a5c8a41&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbar-chart-race-in-python-with-matplotlib-8e687a5c8a41&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbar-chart-race-in-python-with-matplotlib-8e687a5c8a41&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8e687a5c8a41--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8e687a5c8a41--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@PratapVardhan?source=post_page-----8e687a5c8a41--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@PratapVardhan?source=post_page-----8e687a5c8a41--------------------------------", "anchor_text": "Pratap Vardhan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4bcf986191aa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbar-chart-race-in-python-with-matplotlib-8e687a5c8a41&user=Pratap+Vardhan&userId=4bcf986191aa&source=post_page-4bcf986191aa----8e687a5c8a41---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8e687a5c8a41&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbar-chart-race-in-python-with-matplotlib-8e687a5c8a41&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8e687a5c8a41&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbar-chart-race-in-python-with-matplotlib-8e687a5c8a41&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pratapvardhan.com/blog/bar-chart-race-python-matplotlib/", "anchor_text": "pratapvardhan.com"}, {"url": "https://twitter.com/MattNavarra/status/1098580810062618627", "anchor_text": "Matt Navarra\u2019s"}, {"url": "https://twitter.com/jburnmurdoch/status/1107552367795412992", "anchor_text": "John Burn-Murdoch"}, {"url": "https://observablehq.com/@johnburnmurdoch/bar-chart-race-the-most-populous-cities-in-the-world", "anchor_text": "notebook"}, {"url": "https://app.flourish.studio/@flourish/bar-chart-race", "anchor_text": "race chart"}, {"url": "https://twitter.com/jburnmurdoch/status/1107552367795412992", "anchor_text": "version"}, {"url": "https://matplotlib.org/", "anchor_text": "Matplotlib"}, {"url": "https://gist.githubusercontent.com/johnburnmurdoch/4199dbe55095c3e13de8d5b2e5e5307a/raw/fa018b25c24b7b5f47fd0568937ff6c04e384786/city_populations", "anchor_text": "city populations dataset"}, {"url": "https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.animation.FuncAnimation.html", "anchor_text": "FuncAnimation"}, {"url": "https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.animation.FuncAnimation.html", "anchor_text": "FuncAnimatio"}, {"url": "https://twitter.com/PratapVardhan/status/1168873772910170112", "anchor_text": "animated xkcd-styled bar chart race"}, {"url": "https://github.com/pratapvardhan/notebooks/blob/master/barchart-race-matplotlib.ipynb", "anchor_text": "here"}, {"url": "https://colab.research.google.com/github/pratapvardhan/notebooks/blob/master/barchart-race-matplotlib.ipynb", "anchor_text": "on Google Colab also"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----8e687a5c8a41---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/python?source=post_page-----8e687a5c8a41---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/matplotlib?source=post_page-----8e687a5c8a41---------------matplotlib-----------------", "anchor_text": "Matplotlib"}, {"url": "https://medium.com/tag/programming?source=post_page-----8e687a5c8a41---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/visualization?source=post_page-----8e687a5c8a41---------------visualization-----------------", "anchor_text": "Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8e687a5c8a41&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbar-chart-race-in-python-with-matplotlib-8e687a5c8a41&user=Pratap+Vardhan&userId=4bcf986191aa&source=-----8e687a5c8a41---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8e687a5c8a41&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbar-chart-race-in-python-with-matplotlib-8e687a5c8a41&user=Pratap+Vardhan&userId=4bcf986191aa&source=-----8e687a5c8a41---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8e687a5c8a41&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbar-chart-race-in-python-with-matplotlib-8e687a5c8a41&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8e687a5c8a41--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8e687a5c8a41&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbar-chart-race-in-python-with-matplotlib-8e687a5c8a41&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8e687a5c8a41---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8e687a5c8a41--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8e687a5c8a41--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8e687a5c8a41--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8e687a5c8a41--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8e687a5c8a41--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8e687a5c8a41--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8e687a5c8a41--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8e687a5c8a41--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@PratapVardhan?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@PratapVardhan?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Pratap Vardhan"}, {"url": "https://medium.com/@PratapVardhan/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "197 Followers"}, {"url": "http://Gramener.com", "anchor_text": "Gramener.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4bcf986191aa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbar-chart-race-in-python-with-matplotlib-8e687a5c8a41&user=Pratap+Vardhan&userId=4bcf986191aa&source=post_page-4bcf986191aa--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fbcb8aea8cb3c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbar-chart-race-in-python-with-matplotlib-8e687a5c8a41&newsletterV3=4bcf986191aa&newsletterV3Id=bcb8aea8cb3c&user=Pratap+Vardhan&userId=4bcf986191aa&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}