{"url": "https://towardsdatascience.com/data-science-productionization-maintenance-af59ce6c958", "time": 1682995488.61605, "path": "towardsdatascience.com/data-science-productionization-maintenance-af59ce6c958/", "webpage": {"metadata": {"title": "Data science productionization: maintenance | by Schaun Wheeler | Towards Data Science", "h1": "Data science productionization: maintenance", "description": "Time spent on maintainability reduces time spent on actual maintenance."}, "outgoing_paragraph_urls": [{"url": "http://aampe.co", "anchor_text": "aampe.co", "paragraph_index": 23}], "all_paragraphs": ["This is the third part of a five-part series on data science productionization:", "In the last post, I used a simple word-normalizing function to illustrate a few principles of code portability:", "Now let\u2019s look at the same function, but this time prioritizing maintenance:", "The first part doesn\u2019t even include the function itself. What I\u2019ve set up here is logging infrastructure. I\u2019ve designated a file for recording errors (called `error.log`), and I\u2019ve set up rules about what words to print in that file whenever there\u2019s an error. Often, logging is preferable to raising a full error because it allows the rest of the system to continue running even when things go wrong. Downtime is often more damaging than errors or gaps. Notice also that I\u2019ve added comments (lines that start with a hash sign) to explain what each part of the logging setup does.", "Then we get to the function definition (the line that starts with `def`, but again there\u2019s no actual code at that point. This part is called a \u201cdocstring\u201d. It explains the purpose of the function, the expected inputs, and the expected output.", "Now we get to the function content. First, we have an \u201cassert\u201d statement. That statement is a test. If the \u201cword\u201d input isn\u2019t a string, none of the subsequent code will work, so this test checks to make sure the input is a valid type and throws an error if it isn\u2019t. After that, you can see the actual code of the function, but I\u2019ve wrapped it all in a \u201ctry\u201d statement. This statements first tries to run all of the code as we had it originally written. If there\u2019s a SystemExit error or a KeyboardInterrupt error (both problems originating outside of the function), the the function just tells me so. Any other error, the function prints the error in the log file. That way, I can monitor the log file, see any errors that occur, and get information that helps me to debug the error.", "At its most basic, maintainability is about logging, alerting, and testing. Happily, these things are usually built-in components of a programming language. Unhappily, they\u2019re really boring to set up and are often allowed to fall by the wayside. They take a few extra minutes or sometimes hours to set up, but once they are set up, they can save you hours or even days of work in identifying problems.", "When we zoom out from specific code and think about the maintainability of entire systems of code, we\u2019re no longer just talking about docstrings and logging infrastructure (although those things are important). Documentation is the primary non-code way businesses ensure the maintainability of their data science capabilities. It\u2019s one of those other things that everyone says you should do but that few people actually do. I think that\u2019s because people often don\u2019t have a specific idea of what value documentation offers. There are different kinds of documentation, each serving different purposes:", "Technical documentation should allow a competent programmer, previously unfamiliar with the code, to write new code that will substantively reproduce the results of the original code. I say \u201csubstantively\u201d reproduce because an exact reproduction often depends on minute details of the implementation \u2014 details that can only be found in the code itself. Standard technical documentation might be organized into the follow kinds of sections:", "Non-technical documentation should allow a non-technical user to understand where a product fits into the larger ecosystem of the company\u2019s offerings, and to understand not only the benefits and limitations of the product, but also to understand, at a high-level, why those benefits and limitations exist. Non-technical documentation might be organized into the following kinds of sections:", "Non-technical documentation is particularly important because you have to maintain user engagement with your product as much as you have to maintain the product itself. A focus only on technical maintenance is like building a beautiful house and then never getting anyone to actually live in it.", "When I built a data science team for a large charter school network, the most pressing business need was to create summary evaluations of student performance using a lot of different types of data. In each of our core subjects \u2014 English language arts, mathematics, and science \u2014 students were assessed every two to three weeks, and each assessment had between one and maybe 40 questions. Assessment formats ranged from simple multiple choice exams to proctored reading examinations where the student read out loud and the teacher scored their fluency. Every few weeks, a bunch of school administrators, content creators, and teachers would get together, review spreadsheets of scores, and fight about what the data meant. Here\u2019s a spreadsheet for a single school, for a single assessment:", "Each row is a student and each column is a question \u2014 yellow cells are cases where the student performed below expectations on a question. Imagine dozens of these spreadsheets. Now imagine trying to answer what seems on its face to be a simple question: which students most need our help?", "When I arrived at my job with the charter school network, it took at least a week to answer that question. Administrators would debate how relevant assessments from one month ago were. Teachers would argue that question 2 and 15 from the most recent assessment were written poorly and therefore didn\u2019t give a good read on performance. That was the challenge my team needed to tackle.", "Our main data science product was an algorithm that reduced that process from one week and a committee to an automated result obtainable within a few seconds. We did this by scoring each question in terms of how well it differentiated historical low-performers from historical high-performers. So, when looking at an individual question on an individual assessment, if students who historically had failed most questions in that subject through the year got that question right, and students who historically gotten most questions right in that subject got the question wrong, that meant that that particular question was probably poorly constructed. Poorly-constructed questions should impact overall scores less because students shouldn\u2019t be punished for teachers\u2019 and administrators\u2019 mistakes.", "Once we had each question scored, we could average scores over months of work, weighting that average by the question quality scores. We also incorporated in an exponential decay that gave more weight to more recent data. All of that allowed us to create the data product that backed these visualizations:", "Each graph is one school and each dot is a single student. Students run horizontally from lowest current performance to highest current performance, and vertically from greatest decrease in performance over the course of the year to greatest increase in performance. The darkest dots are the students who are in the most trouble \u2014 their performance is bad and falling. The deepest orange dots are the students whose performance is good and growing.", "School network administrators could use summaries like these to quickly compare schools and see how they were performing relative to one another. Individual school leaders could use this to quickly identify students who needed more help or needed to be challenged more.", "The single biggest factor in the successful adoption of this product was the non-technical documentation that backed it. In order to get school leaders to use this tool, we needed extensive explanations of how we calculated question quality scores. We also needed to clarify in painstaking detail the situations where the algorithm was informative. For example, the algorithm\u2019s purpose was to help with resource allocation \u2014 educators only have so much time in the day, so we wanted them spending as much of that time on the students who needed it most. The students who were the worst performers in the school could still be exceeding government-mandated performance standards. The algorithm didn\u2019t care about that \u2014 it only cared that those students were getting less educational benefit than their peers.", "Over time, we had to build out that non-technical documentation to address new concerns about the purpose and scope of the original documentation. At one point, several school leaders came to me with what they thought was a mistake in the algorithm . They\u2019d pulled out their spreadsheets and shows that some students who were scored very low on our English-language-arts performance index in fact had very high scores for a lot of individual ELA assessments. When we dug into the issue, we found then did in fact have high scores on many assessments \u2014 all their weekly spelling tests. They had low scores on their core literacy assessments. The algorithm was able to recognize that being able to memorize words was a less dependable measure of performance than being able to meaningfully interpret at text. The more we documented, the wider the tool was adopted and, we hope, the more benefit we were able to pass on to the students.", "The system required just as much technical documentation as non-technical documentation. As demand for the tool increased, we had to change how we stored and retrieved the underlying data. At one point, feedback from educators convinced us that we\u2019d set the wrong half-life on our time-decay weights so we needed to go in and revise it. We discovered in our second year of using the algorithm that it gave meaningless results at the beginning of the school year in less assessment-heavy subjects because there just wasn\u2019t enough data. All of this needed to be codified (in other words, made portable), but it also needed to be documented so our future selves could revise the system without breaking it.", "Time spent on maintainability reduces time spent on actual maintenance. If we don\u2019t build with future maintenance in mind, then we become less able over time to build new things, because we have to spend all of our time keeping the old things running.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Co-founder @ aampe.co. Anthropologist + Data Scientist."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Faf59ce6c958&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-productionization-maintenance-af59ce6c958&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-productionization-maintenance-af59ce6c958&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-productionization-maintenance-af59ce6c958&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-productionization-maintenance-af59ce6c958&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----af59ce6c958--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----af59ce6c958--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@schaun.wheeler?source=post_page-----af59ce6c958--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@schaun.wheeler?source=post_page-----af59ce6c958--------------------------------", "anchor_text": "Schaun Wheeler"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2d3762e7f110&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-productionization-maintenance-af59ce6c958&user=Schaun+Wheeler&userId=2d3762e7f110&source=post_page-2d3762e7f110----af59ce6c958---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Faf59ce6c958&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-productionization-maintenance-af59ce6c958&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Faf59ce6c958&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-productionization-maintenance-af59ce6c958&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/ds-productionization", "anchor_text": "DS Productionization"}, {"url": "https://towardsdatascience.com/what-does-it-mean-to-productionize-data-science-82e2e78f044c", "anchor_text": "What does it mean to \u201cproductionize\u201d data science?"}, {"url": "https://towardsdatascience.com/data-science-productionization-portability-f5d1a1f2f45b", "anchor_text": "Portability"}, {"url": "https://towardsdatascience.com/data-science-productionization-maintenance-af59ce6c958", "anchor_text": "Maintenance"}, {"url": "https://towardsdatascience.com/data-science-productionization-scale-1884ca4e969e", "anchor_text": "Scale"}, {"url": "https://towardsdatascience.com/data-science-productionization-trust-b37f10b8f426", "anchor_text": "Trust"}, {"url": "https://medium.com/tag/education?source=post_page-----af59ce6c958---------------education-----------------", "anchor_text": "Education"}, {"url": "https://medium.com/tag/data-science?source=post_page-----af59ce6c958---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/tech?source=post_page-----af59ce6c958---------------tech-----------------", "anchor_text": "Tech"}, {"url": "https://medium.com/tag/ds-productionization?source=post_page-----af59ce6c958---------------ds_productionization-----------------", "anchor_text": "Ds Productionization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Faf59ce6c958&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-productionization-maintenance-af59ce6c958&user=Schaun+Wheeler&userId=2d3762e7f110&source=-----af59ce6c958---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Faf59ce6c958&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-productionization-maintenance-af59ce6c958&user=Schaun+Wheeler&userId=2d3762e7f110&source=-----af59ce6c958---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Faf59ce6c958&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-productionization-maintenance-af59ce6c958&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----af59ce6c958--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Faf59ce6c958&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-productionization-maintenance-af59ce6c958&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----af59ce6c958---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----af59ce6c958--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----af59ce6c958--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----af59ce6c958--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----af59ce6c958--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----af59ce6c958--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----af59ce6c958--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----af59ce6c958--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----af59ce6c958--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@schaun.wheeler?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@schaun.wheeler?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Schaun Wheeler"}, {"url": "https://medium.com/@schaun.wheeler/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "894 Followers"}, {"url": "http://aampe.co", "anchor_text": "aampe.co"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2d3762e7f110&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-productionization-maintenance-af59ce6c958&user=Schaun+Wheeler&userId=2d3762e7f110&source=post_page-2d3762e7f110--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd8dcfa98f86c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-productionization-maintenance-af59ce6c958&newsletterV3=2d3762e7f110&newsletterV3Id=d8dcfa98f86c&user=Schaun+Wheeler&userId=2d3762e7f110&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}