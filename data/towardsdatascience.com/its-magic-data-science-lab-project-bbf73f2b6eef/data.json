{"url": "https://towardsdatascience.com/its-magic-data-science-lab-project-bbf73f2b6eef", "time": 1682994287.7115421, "path": "towardsdatascience.com/its-magic-data-science-lab-project-bbf73f2b6eef/", "webpage": {"metadata": {"title": "It\u2019s Magic: Trends in M19. I. Background | by Samuel Zhang | Towards Data Science", "h1": "It\u2019s Magic: Trends in M19", "description": "This project was built by Danny Vo, Troy Stidd, Patrick Zhu, Aaron Li, and Samuel Zhang. The code for our project can be found in this repo. For our project, we chose to look for problems in the\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.linkedin.com/in/danny-vo-357217135/", "anchor_text": "Danny Vo", "paragraph_index": 0}, {"url": "https://www.linkedin.com/in/troy-stidd-9121b412a/", "anchor_text": "Troy Stidd", "paragraph_index": 0}, {"url": "https://www.linkedin.com/in/patrick-zhu1/", "anchor_text": "Patrick Zhu", "paragraph_index": 0}, {"url": "https://www.linkedin.com/in/aaron-li-70a482149/", "anchor_text": "Aaron Li", "paragraph_index": 0}, {"url": "https://www.linkedin.com/in/samuel-zhang-bb01874b/", "anchor_text": "Samuel Zhang", "paragraph_index": 0}, {"url": "https://github.com/patrickzhu7/DSLab", "anchor_text": "repo", "paragraph_index": 0}, {"url": "https://mtg.gamepedia.com/Booster_Draft", "anchor_text": "link", "paragraph_index": 1}, {"url": "http://www.top8draft.com/", "anchor_text": "Top8Draft", "paragraph_index": 4}, {"url": "https://scryfall.com/", "anchor_text": "Scryfall", "paragraph_index": 5}, {"url": "https://github.com/hlynurd/lda-for-magic/blob/master/lda-mtg-notebook.ipynb", "anchor_text": "this notebook", "paragraph_index": 10}, {"url": "https://en.wikipedia.org/wiki/Latent_Dirichlet_allocation", "anchor_text": "Wikipedia", "paragraph_index": 11}, {"url": "https://towardsdatascience.com/topic-modeling-and-latent-dirichlet-allocation-in-python-9bf156893c24", "anchor_text": "TowardsDataScience", "paragraph_index": 11}, {"url": "https://radimrehurek.com/gensim/", "anchor_text": "gensim", "paragraph_index": 12}, {"url": "https://github.com/patrickzhu7/DSLab", "anchor_text": "repo", "paragraph_index": 15}, {"url": "https://drive.google.com/file/d/1b411MG9uphujtSWhaQE4wNYIqp5WLD0X/view", "anchor_text": "link", "paragraph_index": 15}, {"url": "http://www.top8draft.com/", "anchor_text": "Top8Draft", "paragraph_index": 21}], "all_paragraphs": ["This project was built by Danny Vo, Troy Stidd, Patrick Zhu, Aaron Li, and Samuel Zhang. The code for our project can be found in this repo. For our project, we chose to look for problems in the domain of Magic the Gathering (MTG) because our group has some domain knowledge and the possibility to combine our hobbies with a data exploration problem/optimization problem.", "Context: You can learn more formally about the Booster Draft format in MTG at this link. A quick overview, a booster pack for MTG has 15 unique cards. During Booster Draft, there are 3 booster packs per player. Each player will open their first pack and pick one card. Then they will pass the rest of the pack to the next player and pick another card. This goes on until all cards have been picked, the remaining packs will be opened upon depleting the original 15 from the previous pack. Players will end the draft with 45 cards which they will use to form their tournament deck.", "Also, an important note is that booster packs come from specific sets of cards. Some examples sets are \u201cUltimate Masters\u201d, \u201cCore Set 2019\u201d, etc. There are pools of cards that booster packs may contain. So in a typical Booster Draft drafting phase, all three packs will come from the same set.", "Goal: Our goal is to use our data and see if we can train a model(s) to generate deck archetypes and suggest draft picks for the Booster Draft format in MTG.", "Our data set comes from a website called Top8Draft which uses machine learning to grade simulated drafts. We reached out to the owner of the site who graciously gave us data for 280,421 simulated decks to use for our model building. A sample deck (in JSON form) is shows in Figure 1.", "We used a publicly-available MTG Card API called Scryfall to separate our drafted decks into their respective sets. For the remaining modelling/data exploration we chose to use the \u201cCore Set 2019\u201d set (commonly abbreviated M19) to limit variability and make it easier for us to generate usable results.", "Note: We originally tried to run our models on all the decks (without separating into sets) and our resulting archetypes (will be explained further on) didn\u2019t make sense because the decks archetypes were pulling from a variety of sets instead of a single set.", "In the hopes of exploring our dataset, we decided to process the data to try ranking card synergies. Using the assumption that user drafts were reasonable picks we were able to generate top card synergies for the M19 set. We ranked cards pairwise by calculating how often a card appeared with other cards and then determined their ranking by the respective counts between cards. Our findings are presented in Figure 2.", "Observation: At first, we noticed that our original synergy scores were heavily skewed towards common cards because they appear more often in packs. In order to combat this, we \u201cnormalized\u201d the data by dividing our scores by the counts of each card in resulting decks. This may have skewed our data towards rarer cards instead but that was a better solution anyway because of their inherent card value. Ideally, if we had data with more features we could rank cards by their value instead, but given our data limitation, this was a satisfactory workaround.", "We have also included some of the top performing synergy pairs in card form:", "Methodology: We used an Latent Dirichlet Allocation (LDA) model to generate \u201carchetypes\u201d for the M19 set. We hope that this will generate characteristic decks that match common drafting strategies and possibly reveal some \u201chidden\u201d insight about drafting. Our inspiration for this methodology came from this notebook, which was previously featured by Wizards of the Coast.", "More formal explanations of LDA can be found via Wikipedia and on TowardsDataScience (which includes some examples). LDA is a commonly used topic modelling algorithm for natural language processing. We chose LDA because it seemed like an interesting way to possibly generate MTG archetypes, or common deck identities, given the similar structure of a deck to a \u201cdocument\u201d.", "For our purposes, we treated decks as \u201cdocuments\u201d and the cards themselves as \u201cwords\u201d in hopes of finding our \u201ctopics,\u201d which are our archetypes. We used gensim, a topic modeling library, for our LDA model.", "We set our alpha prior to [1.0 / archetypes] * archetypes and our beta prior to [1.0 / archetypes] * unique_cards for the Dirichlet parameters. (We were confident that each of our documents contained one archetype which is why alpha is equal to one. For our beta, we wanted the beta to scale with the number of unique cards).", "For our M19 drafts, we played around heavily with the number of archetypes we wanted to generate and found that our results were best when we generated 30 archetypes with 45 cards each.", "Some of the archetypes generated are shown below in card form. For the sake of readability we have only included ~10 cards per archetype. The full PDF of archetypes can be found in the repo, or via this link.", "Note: Cards in the PDF are ordered by their probability of being in each archetype.", "The first thing to note is that archetypes usually fall within no more than two primary colors (with a possible third or fourth secondary color). Each color in Magic the Gathering usually has certain properties that are associated with them. For example, card draw is usually associated with blue, and spell damage is usually associated with red. Expansion sets are designed for certain colors to synergize well with others, as draft decks are usually two or three colors.", "These elements are shown in the example LDA archetypes above. Even if there are more than two colors, like in Archetype #4, the third and fourth colors are represented very lightly.", "Another possible focus of an archetype is card type. As seen in Archetype #2, the cards syngenize around the artifact card type. Many artifacts in Magic are colorless, but even the colored cards in this archetype reward the player for playing artifacts.", "At first, we were hoping to use our archetype results to suggest draft picks however the results wouldn\u2019t be very useful because archetypes don\u2019t explicitly account for card synergy or card strength, which may force an algorithm to pick weaker cards to try to match a particular archetype instead of picking what is best. Furthermore, the algorithm wouldn\u2019t require any machine learning which wouldn\u2019t be very helpful for the class itself.", "Instead, we tried using an XGBoost Multi-Label Classifier to predict which card to use per turn. Our features are intended to store the \u201cstate\u201d of the current board and the player\u2019s hand. Each row will have what the player\u2019s hand currently contains (binary \u2014 either included or excluded) and which cards are available in the current pack presented. We trained our model based off of 4,000 draft logs scraped from Top8Draft.", "Note: At first we had 25,565 draft logs scraped from Top8Draft, however because each draft contains 45 \u201cturns\u201d we have over 1.1 million available rows of features. We ran into memory limitations for our DataFrame so we had to limit the amount of logs we used for our model training/testing. With 4,000 draft logs we still had nearly 180,000 rows of data.", "Assumption: We made the assumption that user drafts were the optimally picked, even though the average MTG player probably doesn\u2019t always draft optimally. For example, players often draft due to personal preference of particular cards or novice players may be unfamiliar with synergies between cards. We hoped that the sheer number of drafts would reduce the effect of suboptimal drafts, but our assumptions about optimality may directly reduce our accuracy.", "Our model wasn\u2019t able to achieve 80% correctness which is what we were hoping to achieve, but for a player to pick \u201coptimally\u201d for about 9 cards per 15 card round is around the level of an average MTG player. With more data and possibly more analytics about draft quality, the model could definitely be improved for better accuracy.", "In the future, we would like to retrain the model to optimize its suggestions and explore other MTG sets. We only used 4,000 of the 25,565 draft logs due to memory limitations. However, we believe that model accuracy would significantly increase with more data. We would also like to incorporate our card synergy and deck archetype findings with the suggestion model. Another option is to try a neural network approach, which could also improve accuracy or reveal new insights about the dataset. Although there are many routes to continue this project, MTG is a complex game, and we only explored one of its sets in one of its formats. Our techniques can be repeated to explore other aspects of the game and perhaps reveal new, insightful information to the community.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fbbf73f2b6eef&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fits-magic-data-science-lab-project-bbf73f2b6eef&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fits-magic-data-science-lab-project-bbf73f2b6eef&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fits-magic-data-science-lab-project-bbf73f2b6eef&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fits-magic-data-science-lab-project-bbf73f2b6eef&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----bbf73f2b6eef--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----bbf73f2b6eef--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@samuel.h.zhang?source=post_page-----bbf73f2b6eef--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@samuel.h.zhang?source=post_page-----bbf73f2b6eef--------------------------------", "anchor_text": "Samuel Zhang"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F11bee88d744&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fits-magic-data-science-lab-project-bbf73f2b6eef&user=Samuel+Zhang&userId=11bee88d744&source=post_page-11bee88d744----bbf73f2b6eef---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbbf73f2b6eef&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fits-magic-data-science-lab-project-bbf73f2b6eef&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbbf73f2b6eef&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fits-magic-data-science-lab-project-bbf73f2b6eef&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.linkedin.com/in/danny-vo-357217135/", "anchor_text": "Danny Vo"}, {"url": "https://www.linkedin.com/in/troy-stidd-9121b412a/", "anchor_text": "Troy Stidd"}, {"url": "https://www.linkedin.com/in/patrick-zhu1/", "anchor_text": "Patrick Zhu"}, {"url": "https://www.linkedin.com/in/aaron-li-70a482149/", "anchor_text": "Aaron Li"}, {"url": "https://www.linkedin.com/in/samuel-zhang-bb01874b/", "anchor_text": "Samuel Zhang"}, {"url": "https://github.com/patrickzhu7/DSLab", "anchor_text": "repo"}, {"url": "https://mtg.gamepedia.com/Booster_Draft", "anchor_text": "link"}, {"url": "http://www.top8draft.com/", "anchor_text": "Top8Draft"}, {"url": "http://www.top8draft.com", "anchor_text": "Top8Draft"}, {"url": "https://scryfall.com/", "anchor_text": "Scryfall"}, {"url": "https://github.com/hlynurd/lda-for-magic/blob/master/lda-mtg-notebook.ipynb", "anchor_text": "this notebook"}, {"url": "https://en.wikipedia.org/wiki/Latent_Dirichlet_allocation", "anchor_text": "Wikipedia"}, {"url": "https://towardsdatascience.com/topic-modeling-and-latent-dirichlet-allocation-in-python-9bf156893c24", "anchor_text": "TowardsDataScience"}, {"url": "https://radimrehurek.com/gensim/", "anchor_text": "gensim"}, {"url": "https://github.com/patrickzhu7/DSLab", "anchor_text": "repo"}, {"url": "https://drive.google.com/file/d/1b411MG9uphujtSWhaQE4wNYIqp5WLD0X/view", "anchor_text": "link"}, {"url": "http://www.top8draft.com/", "anchor_text": "Top8Draft"}, {"url": "https://medium.com/tag/data-science?source=post_page-----bbf73f2b6eef---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----bbf73f2b6eef---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/xgboost?source=post_page-----bbf73f2b6eef---------------xgboost-----------------", "anchor_text": "Xgboost"}, {"url": "https://medium.com/tag/magic-the-gathering?source=post_page-----bbf73f2b6eef---------------magic_the_gathering-----------------", "anchor_text": "Magic The Gathering"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbbf73f2b6eef&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fits-magic-data-science-lab-project-bbf73f2b6eef&user=Samuel+Zhang&userId=11bee88d744&source=-----bbf73f2b6eef---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbbf73f2b6eef&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fits-magic-data-science-lab-project-bbf73f2b6eef&user=Samuel+Zhang&userId=11bee88d744&source=-----bbf73f2b6eef---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbbf73f2b6eef&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fits-magic-data-science-lab-project-bbf73f2b6eef&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----bbf73f2b6eef--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fbbf73f2b6eef&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fits-magic-data-science-lab-project-bbf73f2b6eef&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----bbf73f2b6eef---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----bbf73f2b6eef--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----bbf73f2b6eef--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----bbf73f2b6eef--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----bbf73f2b6eef--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----bbf73f2b6eef--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----bbf73f2b6eef--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----bbf73f2b6eef--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----bbf73f2b6eef--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@samuel.h.zhang?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@samuel.h.zhang?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Samuel Zhang"}, {"url": "https://medium.com/@samuel.h.zhang/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "5 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F11bee88d744&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fits-magic-data-science-lab-project-bbf73f2b6eef&user=Samuel+Zhang&userId=11bee88d744&source=post_page-11bee88d744--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F11bee88d744%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fits-magic-data-science-lab-project-bbf73f2b6eef&user=Samuel+Zhang&userId=11bee88d744&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}