{"url": "https://towardsdatascience.com/20-great-pandas-tricks-for-data-science-3a6daed71da0", "time": 1683015090.9774709, "path": "towardsdatascience.com/20-great-pandas-tricks-for-data-science-3a6daed71da0/", "webpage": {"metadata": {"title": "20 Great Pandas Tricks For Data Science | by Emma Boudreau | Towards Data Science", "h1": "20 Great Pandas Tricks For Data Science", "description": "Unless you are new to Data Science with Python or have some sort of device connected to your router that blocks all incoming packets related to Pandas, you\u2019ve probably heard of Pandas. Pandas is the\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Unless you are new to Data Science with Python or have some sort of device connected to your router that blocks all incoming packets related to Pandas, you\u2019ve probably heard of Pandas. Pandas is the go-to library for Pythonic data organization, cleaning, and IPython display that has become the industry standard for reading and processing data over the past 10 years. Not only does Pandas meet and exceed all expectations for the most part when it comes to working with data, it is also tied to Numpy and works incredibly well with it \u2014 cementing it further into the wonderful ecosystem of Pythonic data science packages.", "While Pandas is popular, and very frequently used by most scientists working with Python, it is also still a pretty in-depth library with a lot of features. A lot of these features can be easily overlooked, but their value often cannot be overstated. Fortunately, today I have arranged 20 of the lesser-known features in the Pandas library that will help any data scientist on their way to mastering the package!", "Data frames are the core feature of the Pandas library. Although data frames are a great functionality on their own, without great functions and operations to go with them they just end up being glorified dictionaries. Fortunately, Pandas has you covered with these really cool ways to explore your data, clean your data, and adjust your data. For all of the examples below, I am going to be working with this data frame:", "The data is historical weather data from dates as early as 1910 and as late as 2006", "One of the most underrated features in Pandas is a simple function called describe(). Using the describe function on a data frame yields a very statistical result that will tell you all that you need to know about each column\u2019s values independently. This is a great way to understand where most of the data in a given column sits without only needing to consider the mean. Having an idea of the standard deviation, min-max values, and the mean will give a great inclination as to how much variance is in the data, as well. Using this function is a great way to get all of the following statistics for each column incredibly fast:", "The groupby() function is an awesome function to use to re-organize your observations based on categorical values or continuous ranks by numerical value. The function will simply put identical or similar values closest together.", "The stack function can be used to return both a data frame and series type with more inner-most levels. The new inner-most levels are created by pivoting the data-frame. The first parameter controls which level, or levels are stacked:", "Stack really doesn\u2019t appear to have done much to this data. This function is one that can only be felt whenever the table is mostly pivot-able.", "The apply function is used to apply arithmetic or logical code across an entire data frame or series type using a Python function. Although this can certainly be applied to a data frame, I am only going to be applying it to a series because this data frame contains both strings and date-time datatypes.", "The info function can be used on a data frame to provide information about the data frame usually relating to performance more than statistics. This is useful if you want to check your memory allocations or the data types of each series inside of a data frame.", "Query is a Pandas function that allows a conditional mask to be applied across an entire data frame. The only significant difference between query and a typical conditional mask is that the query function can take a string that will be interpreted as a conditional statement, whereas a conditional mask will mask over the data with booleans and then return the conditions that are true.", "The cumsum function can be used to get the cumulative sum of both data frames and Pandas series types. This means that numbers will be summed in descending order adding to each-other continuously as they go.", "The kernel appears to have died, unfortunately. Since my Jupyter kernel is feeling extra emotional today, I will be cutting her (it is a she) a break and instead just running the function on a single series.", "One of my favorite features inside of the Pandas library is easily the ability to mask data frames with conditions. Although there is a way to do this with the filter!() method in my favorite language, Julia, this is one thing that I truly miss and wish could be brought into the language. Firstly, you need to come up with a condition, for this example we will use wind speed below 14.", "Next, we will apply this mask by simply setting something equal to the booleans as an index:", "Now our data frame contains no wind speeds greater than or equal to 14:", "Melting is the opposite of the pivot function, which will put your data into a sideways format. This is useful if you want to change up what will be the observations and what will be the features. It is important to note, however, that this might not work as well as you expected without either providing parameters or changing up the structure of your data frame in some instances. One example of exactly that is the data frame I am working with:", "Have you ever ran into data that looks like this for some reason? :", "All of the other values are accurate observations with a single integer except for the observations that correspond to :A on the data frame. Fortunately, we can simply run explode on our data frame to correct this. Explode will \u201c explode\u201d all of the iterable sets inside of the data frame and put them into individual observations.", "We have a data frame with a lot of categories and we want to approach a solution to a classification problem. The only issue is that we don\u2019t want to use a model that will be prone to over-fitting if we have so few categories that the model ends up being overkill. This would be quite a common scenario in the typical everyday life of a data scientist. Fortunately, the solution to this problem is really simple \u2014 a count of all unique values is needed. Even more fortunately, Pandas makes doing so incredibly easy with the nunique function!", "This will provide a comprehensive list of all of the features in our data frame and their corresponding unique value counts.", "Another thing that you could potentially run into when working with dirty data is types that are initially presumed to be something that they\u2019re not. A great potential time-saver to changing these datatypes inside of your data frame is to use df.infer_objects(). The infer_objects function takes an educated guess at what datatype each column should be and sets the whole series to that type.", "Memory usage is a function for which the return most might have already assumed. While we did get a broad idea of the memory usage within our data frame using the info() function, memory_usage is far more comprehensive, and will allow us to figure out just which columns are consuming the most of our memory.", "The select_dtypes function can be used to extract certain columns from a data frame depending on type. A great example of how this could be useful is for something like apply, where we wanted to apply np.sqrt() to the entire data frame, but we were only able to do so with a single series because of the strings in our data frame.", "The iterrows() function is a simple generator type that will generate the a new array of iterations \u2014 one for each column. This is great if you need to compress all of your rows into a single iterable object:", "Now we could iterate over this generator:", "It\u2019s hard to mention Pandas data analysis without talking about Pandas profiling. Although it is going to require another library, it is certainly one of the greatest tools that Pythonic data scientists have at their disposal for a quick overview of data with a single function call. You can check it out here:", "In order to use it, simply call", "This will provide a thorough examination of your data in a convenient HTML leaflet that is easy to digest and perfectly compatible with IPython!", "The Pandas series type, though likely not nearly as integral to Pandas as the data frame certainly has its importance. As opposed to the features of a normal list, Pandas series come with a whole lot of different options that simply aren\u2019t supported anywhere else. These typically include the typical quality of life tools that most data scientists have come to expect from working in Python.", "The isin function will return a conditional mask that will return true if a given observation in the series is inside of the list of values it is called on. For example, we could create a mask for whether or not each value in our :PrecipType column is \u201c rain\u201d:", "Where will apply a condition to a given series and return values that meet said condition. The where function is pretty much directly named after the SQL equivalent of this functions purpose.", "If you aren\u2019t familiar with iloc and loc, then you probably should start practicing \u2014 because these two are very important! The rule of thumb is that loc is used for labels, and iloc is used for integer-based indexing. Firstly, let\u2019s try using iloc on a series type and see what we get in return.", "We are getting \u201c rain\u201d as a return here because it is the 2nd index on our \u201c Precip Type\u201d column. Let\u2019s take another look at the data frame head:", "Alternatively, we could use loc instead of iloc to get a value based on the label it holds in the index. Consider the following data frame:", "Now we could call loc on any given index and receive the entire observation set with each feature:", "I am just now realizing that 25 is very old for a dog.", "I actually am not certain what datatype this will return, so I am curious to check what type this is, as well:", "The rank function can be used to provide numerical ranks to values usually based on their position relative to the minimum and maximum values in the data. This is useful for a series of different reasons, but a great application of ranks can be seen in the Wilcox Rank Sum test, a statistical test that uses ranks to return probability.", "Needless to say, Pandas is an amazing library for managing and cleaning up large datasets. Pandas makes a lot of things a lot easier that are frankly quite difficult in other languages. Although there are a lot of great packages in other languages that seek to accomplish similar tasks, most of them make me miss the brilliant ways that Pandas approaches complicated problems.", "Using these functions, it is almost guaranteed that most problems a scientist may run into can be solved. Although Pandas is a very in-depth library, it is great to always have a heads up on great functions that can speed up your work and get you to the fun stuff a little bit sooner!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F3a6daed71da0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-great-pandas-tricks-for-data-science-3a6daed71da0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-great-pandas-tricks-for-data-science-3a6daed71da0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-great-pandas-tricks-for-data-science-3a6daed71da0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-great-pandas-tricks-for-data-science-3a6daed71da0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----3a6daed71da0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3a6daed71da0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://emmettgb.medium.com/?source=post_page-----3a6daed71da0--------------------------------", "anchor_text": ""}, {"url": "https://emmettgb.medium.com/?source=post_page-----3a6daed71da0--------------------------------", "anchor_text": "Emma Boudreau"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fea170050148c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-great-pandas-tricks-for-data-science-3a6daed71da0&user=Emma+Boudreau&userId=ea170050148c&source=post_page-ea170050148c----3a6daed71da0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3a6daed71da0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-great-pandas-tricks-for-data-science-3a6daed71da0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3a6daed71da0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-great-pandas-tricks-for-data-science-3a6daed71da0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/emmettgb/Emmetts-DS-NoteBooks/blob/master/Python3/20%20Pandas%20tricks.ipynb", "anchor_text": "notebook"}, {"url": "https://github.com/pandas-profiling/pandas-profiling", "anchor_text": "pandas-profiling/pandas-profilingDocumentation | Slack | Stack Overflow Generates profile reports from a pandas DataFrame. The pandas df.describe()\u2026github.com"}, {"url": "https://medium.com/tag/programming?source=post_page-----3a6daed71da0---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/python?source=post_page-----3a6daed71da0---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----3a6daed71da0---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----3a6daed71da0---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data?source=post_page-----3a6daed71da0---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3a6daed71da0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-great-pandas-tricks-for-data-science-3a6daed71da0&user=Emma+Boudreau&userId=ea170050148c&source=-----3a6daed71da0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3a6daed71da0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-great-pandas-tricks-for-data-science-3a6daed71da0&user=Emma+Boudreau&userId=ea170050148c&source=-----3a6daed71da0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3a6daed71da0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-great-pandas-tricks-for-data-science-3a6daed71da0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3a6daed71da0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F3a6daed71da0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-great-pandas-tricks-for-data-science-3a6daed71da0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----3a6daed71da0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----3a6daed71da0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----3a6daed71da0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----3a6daed71da0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----3a6daed71da0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----3a6daed71da0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----3a6daed71da0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----3a6daed71da0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----3a6daed71da0--------------------------------", "anchor_text": ""}, {"url": "https://emmettgb.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://emmettgb.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Emma Boudreau"}, {"url": "https://emmettgb.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "4.6K Followers"}, {"url": "https://twitter.com/emmettboudgie", "anchor_text": "https://twitter.com/emmettboudgie"}, {"url": "https://github.com/emmettgb", "anchor_text": "https://github.com/emmettgb"}, {"url": "https://ems.computer/", "anchor_text": "https://ems.computer/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fea170050148c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-great-pandas-tricks-for-data-science-3a6daed71da0&user=Emma+Boudreau&userId=ea170050148c&source=post_page-ea170050148c--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff16bf42bb45f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-great-pandas-tricks-for-data-science-3a6daed71da0&newsletterV3=ea170050148c&newsletterV3Id=f16bf42bb45f&user=Emma+Boudreau&userId=ea170050148c&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}