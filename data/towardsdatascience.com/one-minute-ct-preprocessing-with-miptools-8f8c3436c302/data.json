{"url": "https://towardsdatascience.com/one-minute-ct-preprocessing-with-miptools-8f8c3436c302", "time": 1683001238.6932611, "path": "towardsdatascience.com/one-minute-ct-preprocessing-with-miptools-8f8c3436c302/", "webpage": {"metadata": {"title": "One-Minute CT Preprocessing with Miptools | by Enoch Kan | Towards Data Science", "h1": "One-Minute CT Preprocessing with Miptools", "description": "Let\u2019s face it, medical image processing is challenging. Today\u2019s medical imaging machines are capable of producing large amounts of images with lots of information. However, extracting this\u2026"}, "outgoing_paragraph_urls": [{"url": "https://radiopaedia.org/articles/hounsfield-unit?lang=us", "anchor_text": "article", "paragraph_index": 2}, {"url": "https://github.com/chinokenochkan/miptools", "anchor_text": "miptools", "paragraph_index": 9}], "all_paragraphs": ["Let\u2019s face it, medical image processing is challenging. Today\u2019s medical imaging machines are capable of producing large amounts of images with lots of information. However, extracting this information from the images requires an in-depth understanding of imaging techniques. As a graduate student studying medical image processing and machine learning, I find a lack of good prepreprocessing libraries for medical images other than the well-known pydicom and NiBabel. My recent participation in the RSNA Intracranial Hemorrhage Detection Competition has reminded me the importance of the quality of image preprocessing.", "Here is an example of a normal brain CT image without any preprocessing:", "Where is the brain? Where is the gray/ white matter? It is a no-brainer (no pun intended) that some vital information is missing from the visualized CT. The real reason why they are not showing up is because we have missed a very important step before visualization. When radiologists look at CT images, in particular brain CT scans, one of the most important items on their checklist is windowing. Humans are only capable of perceiving shades of gray ranging from 0 to 255 (a bit more than 50, I suppose), whereas CT scans have Hounsfield Units (HU) ranging from -1000 to +2000. I am not going to describe the process of HU transformation in depth in this tutorial, but if you are interested here is a useful article on HU.", "In order to display CT scans properly, windowing is used to transform HU numbers into gray scale values. It is very easy to do this with miptools:", "The first windowing is a simple metadata windowing, which can be specified by setting windowing='simple'. This extracts your DICOM file\u2019s window center and width, and clips the image to the specified range accordingly. Our transformed image should look like this:", "Now we can at least see the brain in our image, right? We can also encode more information into our transformed image with bsb (brain, subdural, blood) windowing. This may sound complicated, but we are merely transforming our image to 3 windows: brain window (Center: 40, Width: 80), subdural window (Center: 80, Width: 200) and bone window (Center: 600, Width:2000). In the end, we concatenate the 3 windows as our transformed image\u2019s 3 channels. Executing line 7 from the code snippet should produce the following image:", "The image shown above is transformed with a bsb window. Even though it looks just like a red version of our metadata-transformed image, it encodes more information and is probably better for deep learning purposes. Recall that colored images can be represented as 3-dimensional arrays. The more information we can fit into these 3 dimensions, the more our deep networks can extract and learn from our training images.", "Another preprocessing technique we can use is resampling. A particular scan may have a pixel spacing of [0.5, 0.5], whereas another patient\u2019s scan may have a pixel spacing of [0.8, 0.8]. It is important to keep the pixel spacing consistent, or else it may be hard for our networks to generalize.", "By specifying resampling=True, we can resample our pixel spacing to [1, 1] with just one line of code. Using a simple metadata window with resampling gives the following image:", "There are a lot of advanced techniques in medical image processing, but for simplicity I will not cover them all in this tutorial. If you enjoyed reading this article, please check out and star my miptools source code repository. I promise more functionality will be added in the near future, as I am quite busy with school at the moment.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "ML Lead. Currently based in London, UK"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8f8c3436c302&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-minute-ct-preprocessing-with-miptools-8f8c3436c302&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-minute-ct-preprocessing-with-miptools-8f8c3436c302&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-minute-ct-preprocessing-with-miptools-8f8c3436c302&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-minute-ct-preprocessing-with-miptools-8f8c3436c302&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8f8c3436c302--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8f8c3436c302--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://enoch-kan.medium.com/?source=post_page-----8f8c3436c302--------------------------------", "anchor_text": ""}, {"url": "https://enoch-kan.medium.com/?source=post_page-----8f8c3436c302--------------------------------", "anchor_text": "Enoch Kan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1b3c6ce7f16f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-minute-ct-preprocessing-with-miptools-8f8c3436c302&user=Enoch+Kan&userId=1b3c6ce7f16f&source=post_page-1b3c6ce7f16f----8f8c3436c302---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8f8c3436c302&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-minute-ct-preprocessing-with-miptools-8f8c3436c302&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8f8c3436c302&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-minute-ct-preprocessing-with-miptools-8f8c3436c302&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@harlsta?utm_source=medium&utm_medium=referral", "anchor_text": "Harlie Raethel"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://radiopaedia.org/articles/hounsfield-unit?lang=us", "anchor_text": "article"}, {"url": "https://github.com/chinokenochkan/miptools", "anchor_text": "miptools"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----8f8c3436c302---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/image-processing?source=post_page-----8f8c3436c302---------------image_processing-----------------", "anchor_text": "Image Processing"}, {"url": "https://medium.com/tag/python?source=post_page-----8f8c3436c302---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/deep-learning?source=post_page-----8f8c3436c302---------------deep_learning-----------------", "anchor_text": "Deep Learning"}, {"url": "https://medium.com/tag/medical-imaging?source=post_page-----8f8c3436c302---------------medical_imaging-----------------", "anchor_text": "Medical Imaging"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8f8c3436c302&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-minute-ct-preprocessing-with-miptools-8f8c3436c302&user=Enoch+Kan&userId=1b3c6ce7f16f&source=-----8f8c3436c302---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8f8c3436c302&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-minute-ct-preprocessing-with-miptools-8f8c3436c302&user=Enoch+Kan&userId=1b3c6ce7f16f&source=-----8f8c3436c302---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8f8c3436c302&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-minute-ct-preprocessing-with-miptools-8f8c3436c302&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8f8c3436c302--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8f8c3436c302&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-minute-ct-preprocessing-with-miptools-8f8c3436c302&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8f8c3436c302---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8f8c3436c302--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8f8c3436c302--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8f8c3436c302--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8f8c3436c302--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8f8c3436c302--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8f8c3436c302--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8f8c3436c302--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8f8c3436c302--------------------------------", "anchor_text": ""}, {"url": "https://enoch-kan.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://enoch-kan.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Enoch Kan"}, {"url": "https://enoch-kan.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "564 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1b3c6ce7f16f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-minute-ct-preprocessing-with-miptools-8f8c3436c302&user=Enoch+Kan&userId=1b3c6ce7f16f&source=post_page-1b3c6ce7f16f--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fadb45129fda&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-minute-ct-preprocessing-with-miptools-8f8c3436c302&newsletterV3=1b3c6ce7f16f&newsletterV3Id=adb45129fda&user=Enoch+Kan&userId=1b3c6ce7f16f&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}