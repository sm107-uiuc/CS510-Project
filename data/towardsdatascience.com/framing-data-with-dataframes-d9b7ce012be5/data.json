{"url": "https://towardsdatascience.com/framing-data-with-dataframes-d9b7ce012be5", "time": 1682995711.8006039, "path": "towardsdatascience.com/framing-data-with-dataframes-d9b7ce012be5/", "webpage": {"metadata": {"title": "Framing Data with DataFrames. Channeling open data into business\u2026 | by Adam C Dick | Towards Data Science", "h1": "Framing Data with DataFrames", "description": "Using open data from the Yelp Fusion API, business leaders can estimate market size for the New York pet care industry with The BCG Growth-Share Matrix."}, "outgoing_paragraph_urls": [], "all_paragraphs": ["At the outset of any challenge, but especially for the complex and ambiguous ones that data scientists often face, structuring a thought process to approach the fundamental issue is one of the initial tasks. Many industries employ subject matter experts that have domain-specific knowledge, where unique paradigms of thinking are continually developed, taught and enhanced.", "A functional organizational structure separates employees with specific skills into departments such as Human Resources, Sales, Marketing, Finance and Engineering, etc. This can produce a silo effect, in which useful information is created, but not necessarily shared. In response, companies assemble cross-functional teams to facilitate sharing and learning across the organization.", "These teams can increase overall company effectiveness because they strengthen the firm\u2019s interdependent internal network. For example, strategic decisions can be improved by incorporating, say, information and insights inferred by data scientists. So let\u2019s take a look at how rapidly growing data can be channeled into intuitive frameworks that are familiar to business leaders.", "Business strategists and consultants often explore an industry by performing a Situation Analysis,\u00b9 which considers the 5C\u2019s (Context, Consumer, Company, Competition and Collaboration). The Growth-Share Matrix,\u00b2 commonly known as The BCG Matrix, was introduced by the Boston Consulting Group in 1970 and is a popular business framework for visualizing a market analysis.", "The BCG Matrix evaluates a market based on constituent growth rates and market share, creating four quadrants called Dogs, Question Marks, Stars and Cash Cows. Diversified companies have business lines in mature, high-share markets that generate excess cash flow as well as market segments with high-growth opportunities that often require significant cash investments.", "Dogs refer to low-growth, low-share markets that typically struggle to break-even. The conventional wisdom of analysts is to liquidate business in this area.", "Question Marks are high-growth, low-share markets that have both potential and risk. New businesses target this area through a select and divest strategy.", "Stars are Question Marks that have been widely adopted to become market leaders. Continued growth pushes firms to invest due to high competition.", "Cash Cows are mature markets where entrenched players can maintain their position with minimal investment, allowing them to milk reliable cash flows.", "Let\u2019s use a real example to see how we can apply the concepts in the BCG Matrix to a specific industry. Moreover, we can take open data that is freely available and organize the information in a meaningful way to populate the chart. Finally, we can use render our market analysis in an interactive, cloud-based visualization that can be queried to access layered information.", "From Anaconda to Python to Pandas, data scientists have an strong affinity for animals. Robbrecht van Amerongen has compiled a list of favorites in the Zoo of Programming Languages.\u00b3 As inspiration, we can generate a BCG Matrix by searching for available open data sources for the fast-growing and much-beloved pet care industry (note: market research can cost up to $9,450\u2074).", "The American Pet Products Association (APPA) estimates that the pet care industry will exceed $75 billion in 2019, increasing by 3.9% over the previous year.\u2075 Consumer spending categories are led by pet food ($32 billion), veterinary care ($19 billion) and supplies & OTC medicine ($16 billion). Now let\u2019s scan the web for information sources to develop our own market analysis.", "We could search for a dataset on Kaggle, but would only find seven results for pets, although there is a myriad of cat and dog image repositories.\u2076 The most authoritative and complete dataset is the NYC Dog Licensing Dataset, which tracks 15 columns and 122k records as part of the NYC Open Data initiative.\u2077", "The dataset includes Borough and Zip Code information for licensed dogs in New York, which offers the potential to pivot on the data by location, but Borough seems too coarse and Zip Code seems too fine. So let\u2019s refer to the New York State Department of Health\u2019s ZIP Code Definitions of New York City Neighborhoods that subdivides the city into 42 manageable Neighborhoods.\u2078", "The initial Pandas DataFrame is arranged in a Multi-Hierarchical Index, except for Zip Codes, which are packed into a Wide Format. The goal of this table, though, is to map the Zip Code of each record in the NYC Dog Licensing Dataset to its respective Neighborhood. So the first task is to reshape the table into a Long Format for easier processing, which can be indexed by Zip Code.", "In addition to the licensed dog data that represents the New York consumer market, we can also gather information about business competition. The Yelp Fusion API has a comprehensive database of various kinds of businesses in New York.\u2079 By searching for pet stores and pet services, we can collect 1,502 unique businesses actively catering to the pet care industry in 2019.", "Market concentration is a fundamental measure of industry competitiveness, where markets can range between perfect and monopolistic competition. Without revenue or client traffic data for each store, we have to make a large and unrealistic assumption that each store is equivalent. Having said that, we can count the number of stores of each chain as a proxy for total market share.", "Concentration Ratios aggregate the total market share held by the top firms in the industry.\u00b9\u2070 For example, CR4 for our top four firms stands at only 8.9%, while CR8 is 11.9%, indicating a highly distributed market. Alternatively, the Herfindahl-Hirschman Index,\u00b9\u00b9 used by the Department of Justice in anti-trust cases,\u00b9\u00b2 is 31 out of a range of 0 (perfect competition) and 10,000 (monopoly).", "Similarly, we can group our competitor data by neighborhood and measure geographic concentration or density. We measure CR4 to be 30.6% and CR8 to be 49.9%, meaning that half of all pet stores and services are located in eight neighborhoods. The neighborhood HHI of 448, which is the sum of the squares of all neighborhood shares, is still considered to be unconcentrated.", "NYC Open Data conveniently lets us download the entire NYC Dog Licensing Dataset as a CSV file, which we can import into a Pandas DataFrame. We notice that it has the License Issued Year as well as the License Expired Year, allowing us to count the number of actively licensed dogs in a given year. This metric is very similar to the Monthly Active Users (MAU) in digital marketing.\u00b9\u00b3", "Now that we have gathered our neighborhood, pet business and licensed dog datasets, we can insert them into a SQL database and join them in a single DataFrame through some powerful queries. By selecting only the active dog licenses in every calendar year, we can calculate the 5-Year Compound Annual Growth Rate (CAGR)\u00b9\u2074 from 2014 to 2019 for each neighborhood.", "Now that we have calculated the market share and growth rate of licensed dogs in each New York neighborhood, we can render our analysis as a BCG Matrix in a data visualization engine such as Plotly.\u00b9\u2075 We can add richness to the graph by sizing the data points as the number of pet businesses in each neighborhood and shading them by the number of licensed dogs per store.", "The Growth-Share Matrix of Licensed Dogs in New York exhibits a striking pattern of neighborhoods that follow a trajectory from starting out as Dogs, progressing to Question Marks, becoming Stars and maturing into Cash Cows. We can readily see that four neighborhoods enjoy high market share and two of them present opportunities since they are underserved by pet businesses.", "The source code written for this analysis is available on GitHub,\u00b9\u2077 which includes gathering the datasets from Yelp and NYC Open Data, wrangling the data in Python, Pandas and SQL, and rendering the BCG Matrix in Plotly. The entire Plotly code is short and can be automatically uploaded and hosted by Plotly, which provides a dashboard for modifications and embeddable links.", "The market share of pet businesses is only calculated by the number of physical store locations held by a business or a within a given neighborhood, which could be improved with revenue or foot traffic data.", "The New York City Economic Development Corporation estimates that only 20% of dogs are licensed in New York, so it is important to note that the NYC Licensed Dog Dataset is only a sample of the entire dog population.", "The Dog Dataset began tracking data in 2014, so there is a noticeable spike in registrations in the subsequent years. This growth in registrations should not be confused with the growth of the actual dog population.", "The Dog Dataset was last updated in 2017, so recently issued licenses are not captured, while ongoing expirations sunset the dog population by 2022. This gap in data can affect the CAGR rate depending on years considered.", "Given the limitations with any dataset, we should now feel confident that we can collect open data sources, perform a market analysis and visualize the BCG Matrix so that our data can be easily relatable to business leaders.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Business and technology leader with experience in product, engineering and consulting."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fd9b7ce012be5&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fframing-data-with-dataframes-d9b7ce012be5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fframing-data-with-dataframes-d9b7ce012be5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fframing-data-with-dataframes-d9b7ce012be5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fframing-data-with-dataframes-d9b7ce012be5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----d9b7ce012be5--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d9b7ce012be5--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://acdick.medium.com/?source=post_page-----d9b7ce012be5--------------------------------", "anchor_text": ""}, {"url": "https://acdick.medium.com/?source=post_page-----d9b7ce012be5--------------------------------", "anchor_text": "Adam C Dick"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7049b0f57d3d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fframing-data-with-dataframes-d9b7ce012be5&user=Adam+C+Dick&userId=7049b0f57d3d&source=post_page-7049b0f57d3d----d9b7ce012be5---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd9b7ce012be5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fframing-data-with-dataframes-d9b7ce012be5&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd9b7ce012be5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fframing-data-with-dataframes-d9b7ce012be5&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.kaggle.com", "anchor_text": "https://www.kaggle.com"}, {"url": "https://data.cityofnewyork.us/Health/NYC-Dog-Licensing-Dataset/nu7n-tubp", "anchor_text": "https://data.cityofnewyork.us/Health/NYC-Dog-Licensing-Dataset/nu7n-tubp"}, {"url": "https://www.health.ny.gov/statistics/cancer/registry/appendix/neighborhoods.htm", "anchor_text": "https://www.health.ny.gov/statistics/cancer/registry/appendix/neighborhoods.htm"}, {"url": "https://www.yelp.com/fusion", "anchor_text": "https://www.yelp.com/fusion"}, {"url": "https://www.justice.gov/atr/herfindahl-hirschman-index", "anchor_text": "https://www.justice.gov/atr/herfindahl-hirschman-index"}, {"url": "https://plotly.com", "anchor_text": "https://plotly.com"}, {"url": "https://chart-studio.plotly.com/~adam.c.dick/2/growth-share-matrix-of-licensed-dogs-in-new-york-by-neighborhood", "anchor_text": "https://chart-studio.plotly.com/~adam.c.dick/2/growth-share-matrix-of-licensed-dogs-in-new-york-by-neighborhood"}, {"url": "https://github.com/acdick/framing_data_with_dataframes", "anchor_text": "https://github.com/acdick/framing_data_with_dataframes"}, {"url": "https://gist.github.com/acdick/52eef3cc723a2361a187e78ff808eb14", "anchor_text": "https://gist.github.com/acdick/52eef3cc723a2361a187e78ff808eb14"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----d9b7ce012be5---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/data-science?source=post_page-----d9b7ce012be5---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/business?source=post_page-----d9b7ce012be5---------------business-----------------", "anchor_text": "Business"}, {"url": "https://medium.com/tag/python?source=post_page-----d9b7ce012be5---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/marketing?source=post_page-----d9b7ce012be5---------------marketing-----------------", "anchor_text": "Marketing"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd9b7ce012be5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fframing-data-with-dataframes-d9b7ce012be5&user=Adam+C+Dick&userId=7049b0f57d3d&source=-----d9b7ce012be5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd9b7ce012be5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fframing-data-with-dataframes-d9b7ce012be5&user=Adam+C+Dick&userId=7049b0f57d3d&source=-----d9b7ce012be5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd9b7ce012be5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fframing-data-with-dataframes-d9b7ce012be5&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d9b7ce012be5--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fd9b7ce012be5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fframing-data-with-dataframes-d9b7ce012be5&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----d9b7ce012be5---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----d9b7ce012be5--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----d9b7ce012be5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----d9b7ce012be5--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----d9b7ce012be5--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----d9b7ce012be5--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----d9b7ce012be5--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----d9b7ce012be5--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----d9b7ce012be5--------------------------------", "anchor_text": ""}, {"url": "https://acdick.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://acdick.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Adam C Dick"}, {"url": "https://acdick.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "137 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7049b0f57d3d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fframing-data-with-dataframes-d9b7ce012be5&user=Adam+C+Dick&userId=7049b0f57d3d&source=post_page-7049b0f57d3d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff17455f6c9a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fframing-data-with-dataframes-d9b7ce012be5&newsletterV3=7049b0f57d3d&newsletterV3Id=f17455f6c9a0&user=Adam+C+Dick&userId=7049b0f57d3d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}