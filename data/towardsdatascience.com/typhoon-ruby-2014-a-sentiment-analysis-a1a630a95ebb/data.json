{"url": "https://towardsdatascience.com/typhoon-ruby-2014-a-sentiment-analysis-a1a630a95ebb", "time": 1683001248.73547, "path": "towardsdatascience.com/typhoon-ruby-2014-a-sentiment-analysis-a1a630a95ebb/", "webpage": {"metadata": {"title": "Typhoon Ruby, 2014: A sentiment analysis | by Lj Flores | Towards Data Science", "h1": "Typhoon Ruby, 2014: A sentiment analysis", "description": "Classifying Facebook comments sentiments using Latent Dirichlet Analysis"}, "outgoing_paragraph_urls": [{"url": "http://www.github.com/ljyflores", "anchor_text": "http://www.github.com/ljyflores", "paragraph_index": 23}], "all_paragraphs": ["In high school, I did a short internship with Dr. Gerry Bagtasa \u2014 a university professor at the Institute of Environmental Science and Meteorology, University of the Philippines Diliman. His project involved finding out how Filipinos on Facebook reacted to updates posted by the weather bureau (PAGASA) while tracking Typhoon Ruby (2014).", "We took 2,300 comments from 23 Facebook weather updates posted by PAGASA, that tracked the path of Typhoon Ruby as it hit the Philippines. Knowing nothing about Python, and I and a lab partner (Derrick) spent two weeks painstakingly categorizing the comments one by one.", "Monsoon season in the Philippines is crazy. Every June through August brings a slew of heavy rain, insane floods, and roads blocked by fallen trees and wires, etc. Typhoon Ruby marked one of the worst typhoons in 2014 for the Philippines, claiming 18 lives, injuring 916 people, and causing Php 5.09 billion (USD 114 million) in damages. Although the country has made strides in disaster preparation, there is still a lot to be done \u2014 one aspect being information dissemination and feedback. Facebook is an extremely powerful tool in the Philippines, with nearly 98.6% of Internet users on the social media platform. Thus, it makes for a great avenue to find out what updates/information citizens need about the typhoon, and to collect any information users provide as the typhoon unfolds.", "We recently covered topic models in class, and my life has changed ever since (kidding). But before that, some data cleaning.", "What\u2019s difficult when dealing with Filipino is people come up with a bunch of abbreviations for the same word, and many other creative ways of spelling the word. For example, \u2018thanks\u2019 was spelled as \u2018thx\u2019, \u2018tnx\u2019, and \u2018thanxs\u2019 (my mom does this too). Because the patterns were so varied, I sorted the words, focused on more frequent ones, then edited them.", "I removed the 25 most frequent words with the intention of removing articles, however words like \u2018god\u2019, \u2018lord\u2019, \u2018amen\u2019, and \u2018pray\u2019 ended up in the list \u2014 which I removed manually. This points to the large focus on religion and prayer as one of the topics in the comments.", "I then generated the corpus of words using code from class, which summarized each comment as a list of keywords and their corresponding counts. For example,", "Latent Dirichlet Allocation (and my attempt to explain it)", "Then I ran Latent Dirichlet Allocation (LDA) using the gensim package in Python. LDA is an algorithm that aims to uncover the underlying topics or subjects common to some documents, which in our case are the FB comments. LDA requires that we specify the number of topics we expect it to generate. I initially chose 6 since we came up with six general topics for comments when doing our manual classification, but then upon fine-tuning and rerunning the model, it turned out that 7 produced more sensible word lists.", "The algorithm initially guesses which words belong to which topics, by randomly assigning each word a topic (represented by a number).", "Then, the algorithm updates its guess for each word, by calculating a score for each one of the possible topics. The score is a product of two probabilities:", "The topic with the highest score gets assigned to that word, and this is repeated over and over for all words until the assignments of topics no longer change (i.e. their probabilities have converged to some posterior). This works because the assignments of words to topics keep flipping around until the word finally starts accumulating a higher and higher score for a particular topic. This score influences the assignment of the same word in other documents, which in turn further increases the probability that word w belongs to its topic.", "LDA summarizes the Facebook comments based on the topics they are composed of. For example, \u201cGod please help save my fellow countrymen\u201d might be classified as 75% About Religion and 25% About Fellow Filipinos. I chose the topic that made up most of the comment \u2013 so in this case, the comment would be classified as About Religion.", "I then compared it to the original classifications that Derrick and I made. Since the six classifications were divided into more specific categories under the manual classification, I aggregated those and saw how they compared to the model\u2019s prediction.", "The algorithm came up with these six sets of words that each represent a topic:", "Basing off the words and previous classifications, I classified the topics as the following:", "This then generated the following table", "Summarizing it, these are the topics we obtain", "Admittedly, the model did not do as well as I had hoped. This is the summary from the manual classification that we did before", "The distributions are very different, and there are multiple comments classified as Other. This happened because we were manually able to identify a number of other topics that did not fall under these general categories, however, these topics did not appear frequently enough for the model to sufficiently pick up on them.", "Upon excluding the comments that were under Other, I found that the model gave an accuracy of 48.78%. Broken down by topic, we see that religious comments were classified more accurately \u2013 because they have very distinct keywords that are associated with the topic (\u2018pray\u2019, \u2018lord\u2019, \u2018panginoon\u2019, etc.), whereas topics like Giving Updates or Scared/Asking for Mercy are constructed with the same words that other sentences or comments use, and could be much more difficult to classify.", "While this model did not work out as great as I had hoped, I\u2019m hoping to redo the analysis using other models (maybe embeddings). The applications of topic models in NLP are pretty amazing, and I\u2019m looking forward to applying them to other datasets.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Yale \u201922, Statistics & Data Science | A data blog about the Philippines! Find the code here: http://www.github.com/ljyflores"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa1a630a95ebb&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftyphoon-ruby-2014-a-sentiment-analysis-a1a630a95ebb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftyphoon-ruby-2014-a-sentiment-analysis-a1a630a95ebb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftyphoon-ruby-2014-a-sentiment-analysis-a1a630a95ebb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftyphoon-ruby-2014-a-sentiment-analysis-a1a630a95ebb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a1a630a95ebb--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a1a630a95ebb--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@lorenzoflores?source=post_page-----a1a630a95ebb--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lorenzoflores?source=post_page-----a1a630a95ebb--------------------------------", "anchor_text": "Lj Flores"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffeb0e848440&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftyphoon-ruby-2014-a-sentiment-analysis-a1a630a95ebb&user=Lj+Flores&userId=feb0e848440&source=post_page-feb0e848440----a1a630a95ebb---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa1a630a95ebb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftyphoon-ruby-2014-a-sentiment-analysis-a1a630a95ebb&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa1a630a95ebb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftyphoon-ruby-2014-a-sentiment-analysis-a1a630a95ebb&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.thesummitexpress.com/2014/12/typhoon-ruby-speeds-up-to-make-landfall-tonight-in-dolores-eastern-samar.html", "anchor_text": "https://www.thesummitexpress.com/2014/12/typhoon-ruby-speeds-up-to-make-landfall-tonight-in-dolores-eastern-samar.html"}, {"url": "https://github.com/ljyflores/Typhoon-Analysis", "anchor_text": "here"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----a1a630a95ebb---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/nlp?source=post_page-----a1a630a95ebb---------------nlp-----------------", "anchor_text": "NLP"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa1a630a95ebb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftyphoon-ruby-2014-a-sentiment-analysis-a1a630a95ebb&user=Lj+Flores&userId=feb0e848440&source=-----a1a630a95ebb---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa1a630a95ebb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftyphoon-ruby-2014-a-sentiment-analysis-a1a630a95ebb&user=Lj+Flores&userId=feb0e848440&source=-----a1a630a95ebb---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa1a630a95ebb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftyphoon-ruby-2014-a-sentiment-analysis-a1a630a95ebb&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a1a630a95ebb--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa1a630a95ebb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftyphoon-ruby-2014-a-sentiment-analysis-a1a630a95ebb&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a1a630a95ebb---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a1a630a95ebb--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a1a630a95ebb--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a1a630a95ebb--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a1a630a95ebb--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a1a630a95ebb--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a1a630a95ebb--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a1a630a95ebb--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a1a630a95ebb--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lorenzoflores?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lorenzoflores?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Lj Flores"}, {"url": "https://medium.com/@lorenzoflores/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "17 Followers"}, {"url": "http://www.github.com/ljyflores", "anchor_text": "http://www.github.com/ljyflores"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffeb0e848440&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftyphoon-ruby-2014-a-sentiment-analysis-a1a630a95ebb&user=Lj+Flores&userId=feb0e848440&source=post_page-feb0e848440--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F1c281b982c71&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftyphoon-ruby-2014-a-sentiment-analysis-a1a630a95ebb&newsletterV3=feb0e848440&newsletterV3Id=1c281b982c71&user=Lj+Flores&userId=feb0e848440&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}