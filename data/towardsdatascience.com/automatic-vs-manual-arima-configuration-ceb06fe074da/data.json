{"url": "https://towardsdatascience.com/automatic-vs-manual-arima-configuration-ceb06fe074da", "time": 1683017843.139873, "path": "towardsdatascience.com/automatic-vs-manual-arima-configuration-ceb06fe074da/", "webpage": {"metadata": {"title": "Automatic vs. Manual ARIMA Configuration | by Michael Grogan | Towards Data Science", "h1": "Automatic vs. Manual ARIMA Configuration", "description": "When implementing an ARIMA model, it is particularly common to automate the selection of the p, d, q coordinates using a library such as auto.arima in R and pmdarima in Python. For context, p is the\u2026"}, "outgoing_paragraph_urls": [{"url": "https://machinelearningmastery.com/gentle-introduction-autocorrelation-partial-autocorrelation/", "anchor_text": "effect", "paragraph_index": 15}, {"url": "https://github.com/MGCodesandStats/energy-weather-modelling", "anchor_text": "here", "paragraph_index": 28}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com", "paragraph_index": 31}], "all_paragraphs": ["When implementing an ARIMA model, it is particularly common to automate the selection of the p, d, q coordinates using a library such as auto.arima in R and pmdarima in Python.", "For context, p is the autoregressive term which indicates the extent to which the model relies on past values to predict future ones. In other words, p stands for the number of lags that should be included in the model. For instance, an AR(1) model relies on the value at t-1 to predict future values in the series.", "The q parameter, on the other hand, is the moving average component of the model. In other words, it represents the lagged value of the forecast errors in the model and allows for better forecasting of sudden shifts in the trajectory of the time series.", "A model with just p and q parameters is known as an ARMA model, or an Autoregressive Moving Average Model. Such a model does not contain any trend as a model with an autoregressive component assumes that the time series is stationary, i.e. has a constant mean, variance, and autocorrelation.", "An ARIMA model stands for Autoregressive Integrated Moving Average Model, and the key difference is that the model is designed to work with non-stationary data. It does this by specifying a value for the d parameter, or the number of differences that are necessary to make the model stationary.", "As mentioned, one can either elect to manually select these parameters by inspecting the data. Alternatively, numerous packages have been designed to automate the selection of these parameters.", "Let\u2019s take a look at the latter approach first in forecasting electricity consumption patterns for the Dublin City Council Civic Offices. Then, the coordinates will be manually selected, and the performance for each forecast compared.", "Here is a plot of the daily electricity consumption time series:", "To get a better idea of the overall trend in the series, here is a plot of the 7-day moving average:", "Using the first 80% of values (the training set), the model is trained using pmdarima and the forecasted values compared to the test set using RMSE (the root mean squared error).", "This model has a p value of 0, a d value of 1, and a q value of 1. The seasonal components for P, D, Q remain the same.", "When generating an autocorrelation function for the series, it was found that there was a spike in correlations at the 7th lag. In this regard, a seasonal factor of 7 was set for the model.", "The root mean squared error is calculated:", "Given that the mean kilowatt consumption was 3,862 across the test set, the RMSE accounts for roughly 33% of the size of the mean. This indicates that there is room for improvement. Let\u2019s make an attempt to manually select the ARIMA coordinates and see if the forecast improves accordingly.", "To determine the appropriate coordinates for the ARIMA model, let us take a look at 1) the partial autocorrelation function for the series, and 2) the autocorrelation function for the differenced series.", "The partial autocorrelation shows the effect of direct correlations with between an observation and its previous values, while removing indirect correlations that would be picked up by using the autocorrelation function. Here, we can see that the partial autocorrelation shows a sudden drop at lag 2. In this regard, p = 2 is specified for the model.", "Here is the autocorrelation function for the differenced series \u2014 or the series with the trend and seasonality components removed. We observe that there is no significant positive correlation for the first few lags. Therefore, the correlation does not \u201cdrop off\u201d as was the case for the partial autocorrelation function.", "Therefore, a value of q =0 is specified, i.e. the model does not contain a moving average term.", "Given that the autocorrelation function showed evidence of stationarity by first-differencing the series, d is set to 1.", "As in the previous ARIMA model, a seasonal factor of 7 is used. The seasonal P, D, Q parameters are also assumed to be the same as the ones just identified.", "Now, the ARIMA model forecast is implemented:", "Here is the RMSE as compared to the test set:", "The RMSE of 965 is significantly lower than the previous RMSE value of 1,288 obtained when automatically configuring the ARIMA model.", "This error still represents about 25% of the size of the mean of 3,862.", "That said, we can see that a significant reason for this is due to the period between time periods 70\u201380 in the test set, where electricity consumption was unusually low. As a result, RMSE is penalising the error on this anomaly more heavily.", "Aside from this, the model does appear to show significant accuracy in predicting the highs and lows of the series.", "As we have seen, automatically selecting the ARIMA coordinates did not necessarily deliver the best model accuracy. While automating model selection can be a good starting point, this example demonstrates the importance of understanding the components of a time series and how these components relate to the proper configuration of an ARIMA model.", "My advice: automate as a starting point, but don\u2019t stop there. Manually analysing the data and configuring accordingly can often lead to better forecasts.", "Many thanks for your time, and the relevant GitHub repository with the dataset and code examples can be found here.", "Disclaimer: This article is written on an \u201cas is\u201d basis and without warranty. It was written with the intention of providing an overview of data science concepts, and should not be interpreted as professional advice. The findings and interpretations in this article are those of the author and are not endorsed by or affiliated with any third parties mentioned in this article.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Science Consultant with expertise in economics, time series analysis, and Bayesian methods | michael-grogan.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fceb06fe074da&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomatic-vs-manual-arima-configuration-ceb06fe074da&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomatic-vs-manual-arima-configuration-ceb06fe074da&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomatic-vs-manual-arima-configuration-ceb06fe074da&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomatic-vs-manual-arima-configuration-ceb06fe074da&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ceb06fe074da--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ceb06fe074da--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----ceb06fe074da--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----ceb06fe074da--------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomatic-vs-manual-arima-configuration-ceb06fe074da&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178----ceb06fe074da---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fceb06fe074da&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomatic-vs-manual-arima-configuration-ceb06fe074da&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fceb06fe074da&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomatic-vs-manual-arima-configuration-ceb06fe074da&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/users/sambeetarts-1339110/", "anchor_text": "Sambeetarts"}, {"url": "https://pixabay.com/illustrations/geometric-design-computer-1732847/", "anchor_text": "Pixabay"}, {"url": "https://machinelearningmastery.com/gentle-introduction-autocorrelation-partial-autocorrelation/", "anchor_text": "effect"}, {"url": "https://github.com/MGCodesandStats/energy-weather-modelling", "anchor_text": "here"}, {"url": "https://data.gov.ie/dataset/energy-consumption-gas-and-electricity-civic-offices-2009-2012/resource/6091c604-8c94-4b44-ac52-c1694e83d746", "anchor_text": "data.gov.ie: Energy Consumption (Gas and Electricity) Civic Offices 2009\u20132012"}, {"url": "https://machinelearningmastery.com/gentle-introduction-autocorrelation-partial-autocorrelation/", "anchor_text": "Machine Learning Mastery: A Gentle Introduction to Autocorrelation and Partial Autocorrelation"}, {"url": "https://machinelearningmastery.com/time-series-forecasting-performance-measures-with-python/", "anchor_text": "Machine Learning Mastery: Time Series Forecasting Performance Measures With Python"}, {"url": "https://people.duke.edu/~rnau/411arim3.htm", "anchor_text": "people.duke.edu: Identifying the numbers of AR or MA terms in an ARIMA model"}, {"url": "https://towardsdatascience.com/arima-vs-lstm-forecasting-electricity-consumption-3215b086da77", "anchor_text": "Towards Data Science - ARIMA vs. LSTM: Forecasting Electricity Consumption"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ceb06fe074da---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----ceb06fe074da---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/time-series-forecasting?source=post_page-----ceb06fe074da---------------time_series_forecasting-----------------", "anchor_text": "Time Series Forecasting"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fceb06fe074da&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomatic-vs-manual-arima-configuration-ceb06fe074da&user=Michael+Grogan&userId=eec017a8b178&source=-----ceb06fe074da---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fceb06fe074da&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomatic-vs-manual-arima-configuration-ceb06fe074da&user=Michael+Grogan&userId=eec017a8b178&source=-----ceb06fe074da---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fceb06fe074da&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomatic-vs-manual-arima-configuration-ceb06fe074da&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ceb06fe074da--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fceb06fe074da&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomatic-vs-manual-arima-configuration-ceb06fe074da&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ceb06fe074da---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ceb06fe074da--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ceb06fe074da--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ceb06fe074da--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ceb06fe074da--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ceb06fe074da--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ceb06fe074da--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ceb06fe074da--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ceb06fe074da--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://mgcodesandstats.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.5K Followers"}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomatic-vs-manual-arima-configuration-ceb06fe074da&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3c6e2607915&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomatic-vs-manual-arima-configuration-ceb06fe074da&newsletterV3=eec017a8b178&newsletterV3Id=3c6e2607915&user=Michael+Grogan&userId=eec017a8b178&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}