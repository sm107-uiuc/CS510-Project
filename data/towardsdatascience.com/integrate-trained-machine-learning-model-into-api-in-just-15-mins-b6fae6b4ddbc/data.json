{"url": "https://towardsdatascience.com/integrate-trained-machine-learning-model-into-api-in-just-15-mins-b6fae6b4ddbc", "time": 1683017734.5591822, "path": "towardsdatascience.com/integrate-trained-machine-learning-model-into-api-in-just-15-mins-b6fae6b4ddbc/", "webpage": {"metadata": {"title": "Machine Learning Application - Integrate Trained Sentiment Analysis Model into API in Just 15 mins | Shawn Shi | Towards Data Science", "h1": "Machine Learning Application \u2014 Integrate Trained Sentiment Analysis Model into API in Just 15 mins", "description": "How to deploy a trained sentiment analysis machine learning model to a REST API using Microsoft ML.NET and ASP.NET Core, in just 15 mins."}, "outgoing_paragraph_urls": [{"url": "https://dotnet.microsoft.com/learn/ml-dotnet/get-started-tutorial/intro", "anchor_text": "Microsoft ML.NET Tutorial", "paragraph_index": 6}, {"url": "https://github.com/ShawnShiSS/machine-learning-applications", "anchor_text": "Machine Learning Applications", "paragraph_index": 18}], "all_paragraphs": ["If you have a pure Data Scientist role, you probably care more about studying the data, going through feature engineering, choosing the correct statistical or machine learning model, and training the model to perform well on both the training dataset and validation dataset. And that\u2019s it!", "However, in most cases, a trained machine learning model does not just stop there and sit in a Jupyter Notebook, but it needs to be deployed as a service so it can be actually used in production applications. For example, at Facebook, machine learning engineers are expected to do everything above, but also be able to quickly deploy the trained model to production (or staging).", "Therefore, it is important to know how to deploy a trained machine learning model in a quick matter so it can either be demonstrated to the executive team or be rolled out to production (yeah!).", "A trained machine learning model is simply a serialized file that contains the model artifacts. For example, if you are training a simplest logistic regression model with one feature for classification, the formula may look like below. The model artifacts shall contain the values of \u03b20 and \u03b21. Note x is your single feature and is your data point, so the value of x will not be contained in the model artifacts.", "The serialized model file allows you either:", "If you are familiar with Python, a trained model can be saved using \u201cpickle\u201d into a \u201c.sav\u201d file. If you are using ML.NET, a trained model is saved into a zipped file.", "The goal of this article is to demonstrate how to quickly deploy a trained machine learning model to an existing API using Microsoft ML.NET and ASP.NET Core. This article will not discuss how to build and train a model, since Microsoft already has good tutorials. For example, see Microsoft ML.NET Tutorial.", "For my application, I have already trained a Sentiment Analysis model using ML.NET, which I will use in my ASP.NET Core API.", "Step 1 \u2014 Create a class library project to host your machine learning model related files. For my sentiment analysis model, I have these files in the screenshot:", "Step 2 \u2014 Register the ConsumeModel class in your API application service provider for dependency injection. In this case, we are using ASP.NET Core built in service provider. A few tips on this part:", "Step 3 \u2014 Inject the ConsumeModel.cs service and start using it for prediction!", "There are many ways to inject the ConsumeModel service. My preferred way is to inject it in the class constructor, which can be a controller class, or a service class, or MediatR handler class if using CQRS pattern.", "For example, in this application, I am injecting the ConsumeModel service into my SentimentAnalysisController class constructor and using it in my predict action. One GET endpoint is available for sentiment analysis, which takes a query parameter called \u201ccomment\u201d. The \u201ccomment\u201d is used to build an input for our sentiment analysis model, and the singleton instance of ConsumeModel, _consumeModel, is used for prediction.", "Last \u2014 Enjoy your machine learning model!", "I can now open my Swagger UI or Postman or just browser page and test my sentiment analysis endpoint! For example, for comment \u201cThis is a great movie\u201d, my endpoint returns a really positive sentiment with probability of 99.7%. Pretty good!", "While comment \u201cThis is a horrible movie\u201d gets a response below with a probability of 98.3% to be negative. Not bad!", "Building and training a machine learning model is an art and can be hard, but deploying a trained model should be nice and easy. In fact, this article shows how it can be integrated into an existing ASP.NET Core API in a matter of minutes.", "Hope you find this article helpful and will be able to quickly deploy your ML model for either proof of concepts demos or even more exciting, production rollout!", "All the code in the article is cited from a GitHub starter project called Machine Learning Applications, its goal is to provide a starting point to build new machine learning applications. This project uses Clean Architecture, Partitioned Repository Pattern, and Azure Cosmos DB.", "Feel free to use this repo to kick start your next project, or clone it to play around!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Senior Software Engineer at Microsoft. Ex-Machine Learning Engineer. When I am not building applications, I am playing with my kids or outside rock climbing!"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb6fae6b4ddbc&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintegrate-trained-machine-learning-model-into-api-in-just-15-mins-b6fae6b4ddbc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintegrate-trained-machine-learning-model-into-api-in-just-15-mins-b6fae6b4ddbc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintegrate-trained-machine-learning-model-into-api-in-just-15-mins-b6fae6b4ddbc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintegrate-trained-machine-learning-model-into-api-in-just-15-mins-b6fae6b4ddbc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b6fae6b4ddbc--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b6fae6b4ddbc--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://shawn-shi.medium.com/?source=post_page-----b6fae6b4ddbc--------------------------------", "anchor_text": ""}, {"url": "https://shawn-shi.medium.com/?source=post_page-----b6fae6b4ddbc--------------------------------", "anchor_text": "Shawn Shi"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4933e84489ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintegrate-trained-machine-learning-model-into-api-in-just-15-mins-b6fae6b4ddbc&user=Shawn+Shi&userId=4933e84489ca&source=post_page-4933e84489ca----b6fae6b4ddbc---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb6fae6b4ddbc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintegrate-trained-machine-learning-model-into-api-in-just-15-mins-b6fae6b4ddbc&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb6fae6b4ddbc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintegrate-trained-machine-learning-model-into-api-in-just-15-mins-b6fae6b4ddbc&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/photos/5gnLz583gCY", "anchor_text": "Robert Zunikoff"}, {"url": "https://en.wikipedia.org/wiki/Logistic_regression", "anchor_text": "Logistic Regression page on Wikipedia"}, {"url": "https://dotnet.microsoft.com/learn/ml-dotnet/get-started-tutorial/intro", "anchor_text": "Microsoft ML.NET Tutorial"}, {"url": "https://github.com/ShawnShiSS/machine-learning-applications", "anchor_text": "Machine Learning Applications"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----b6fae6b4ddbc---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----b6fae6b4ddbc---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/api?source=post_page-----b6fae6b4ddbc---------------api-----------------", "anchor_text": "API"}, {"url": "https://medium.com/tag/aspnetcore?source=post_page-----b6fae6b4ddbc---------------aspnetcore-----------------", "anchor_text": "Aspnetcore"}, {"url": "https://medium.com/tag/sentiment-analysis?source=post_page-----b6fae6b4ddbc---------------sentiment_analysis-----------------", "anchor_text": "Sentiment Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb6fae6b4ddbc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintegrate-trained-machine-learning-model-into-api-in-just-15-mins-b6fae6b4ddbc&user=Shawn+Shi&userId=4933e84489ca&source=-----b6fae6b4ddbc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb6fae6b4ddbc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintegrate-trained-machine-learning-model-into-api-in-just-15-mins-b6fae6b4ddbc&user=Shawn+Shi&userId=4933e84489ca&source=-----b6fae6b4ddbc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb6fae6b4ddbc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintegrate-trained-machine-learning-model-into-api-in-just-15-mins-b6fae6b4ddbc&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b6fae6b4ddbc--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb6fae6b4ddbc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintegrate-trained-machine-learning-model-into-api-in-just-15-mins-b6fae6b4ddbc&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b6fae6b4ddbc---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b6fae6b4ddbc--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b6fae6b4ddbc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b6fae6b4ddbc--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b6fae6b4ddbc--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b6fae6b4ddbc--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b6fae6b4ddbc--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b6fae6b4ddbc--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b6fae6b4ddbc--------------------------------", "anchor_text": ""}, {"url": "https://shawn-shi.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://shawn-shi.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Shawn Shi"}, {"url": "https://shawn-shi.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "880 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4933e84489ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintegrate-trained-machine-learning-model-into-api-in-just-15-mins-b6fae6b4ddbc&user=Shawn+Shi&userId=4933e84489ca&source=post_page-4933e84489ca--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F26bebbd87a50&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintegrate-trained-machine-learning-model-into-api-in-just-15-mins-b6fae6b4ddbc&newsletterV3=4933e84489ca&newsletterV3Id=26bebbd87a50&user=Shawn+Shi&userId=4933e84489ca&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}