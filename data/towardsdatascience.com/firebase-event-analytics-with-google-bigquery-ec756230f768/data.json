{"url": "https://towardsdatascience.com/firebase-event-analytics-with-google-bigquery-ec756230f768", "time": 1683003568.102381, "path": "towardsdatascience.com/firebase-event-analytics-with-google-bigquery-ec756230f768/", "webpage": {"metadata": {"title": "Firebase Event Analytics with Google BigQuery | by Kritika Jalan | Towards Data Science", "h1": "Firebase Event Analytics with Google BigQuery", "description": "In short, Firebase lets you track what your users are doing on the app (events), saves it on it's cloud (realtime database) and also lets you visualize this data."}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Firebase", "anchor_text": "wiki", "paragraph_index": 4}, {"url": "https://firebase.google.com/docs/analytics", "anchor_text": "Google\u2019s documentation", "paragraph_index": 8}, {"url": "https://support.google.com/firebase/answer/6318765", "anchor_text": "guide", "paragraph_index": 15}, {"url": "https://www.linkedin.com/in/kritikajalan/", "anchor_text": "LinkedIn", "paragraph_index": 31}, {"url": "https://twitter.com/Kritika_Jalan", "anchor_text": "Twitter", "paragraph_index": 31}], "all_paragraphs": ["I started working with Events Analytics. As most mobile apps do, this app too, was linked to Firebase for event tracking. It was difficult to follow especially because there were limited resources online around this. After 4 months of being into the system, I have some understanding and experience which I would be sharing in this easy-to-digest post on Firebase Analytics. (This post includes some information as is, directly from Google docs). Let\u2019s get started!", "How beautiful is this,Sitting here at my desk,Looking out the window, and seeing the entire city,Sprawled in front of my eyes", "The end of concrete jungle, marked by the river,Running through the entire length of the city", "A world, a very different world lives across the river.Better or worse, you ask.Let\u2019s not label everything on the scale of goodness,When all things really are, are just different.", "As wiki says, Firebase provides a real-time database and backend as a service. The service provides application developers an API that allows application data to be synchronized across clients (users basically) and stored on Firebase\u2019s cloud.", "At the heart of Firebase is Google Analytics, an analytics solution that integrates across Firebase features and provides with reporting for up to 500 distinct events that can be defined using the Firebase SDK.", "In short, Firebase lets you track what your users are doing on the app (events), saves it on its cloud (real-time database) and also lets you visualize this data.", "Below is a screenshot of a Firebase Analytics Dashboard. You can choose to see the performance for different time periods. On the dashboard, you\u2019ll get information about your active users, about their engagement (how long they spend on which screen), about conversion event (when an in-app purchase is made, for example), your audience\u2019s geography, their retention, mobile platform and a lot more details.", "As Google\u2019s documentation says, events provide insight on what is happening in your app, such as user actions, system events, or errors.", "There are some events (and user properties) that Firebase tracks automatically, for example the event of app first opened after it was installed, the notification dismissed event, the OS update or an app update event etc.", "Apart from the automatic events, developers can create their own events to track user activity or system events/errors. There is no limit on the total volume of events your app logs. For example, if you\u2019re a dating app, you can choose to record an event when a user swipes right on someone, or when a user changes their search preferences from a radius of 5km to 500km. If you\u2019re an e-commerce app, you can choose to record an event when user adds/removes an item from cart or when a user checks out etc.", "With each event, firebase lets you track a bunch of other relevant information. They can be grouped as event property (screen from which the event originated, which user ID was swiped right, what new search distance was set etc.), user property (user ID , their age, gender etc.), device property (device type, brand, model, OS, language etc.), location property (where was the event originated country, region, city etc.), app property (app version, store through which the app was installed) etc.", "If you need answers to questions which Firebase dashboard doesn\u2019t provide, you can connect your Analytics data to BigQuery, which allows for more complex analysis like querying large data sets, joining with other data sources, creating business reports etc. That is what we will be talking about next.", "Since you want to import your raw data from Firebase to BigQuery, you would likely be interested in doing user level analysis and for this, you must add User ID in order to track user across platform and devices. Why?", "Firebase doesn\u2019t identify unique users on your platform. All it does is track activity across unique app instances called user_pseudo_id. This means, if you uninstall your dating app and reinstall it, if you change your device or if you are using multiple apps from the same provider, Firebase doesn\u2019t have an automatic way of informing that it\u2019s all just one user. To have the ability of identifying an individual on your platform, you need to set user IDs for them on your own. After setting the user ID, all your events will be automatically tagged by this value.", "Questions! How do I set user ID? How do I connect data from Firebase to BigQuery? Answer \u2014 Well, this isn\u2019t something you will do as a data scientist. The app developer is better equipped to do it all for you. Here is the guide from Google they can use to connect Firebase data to BigQuery. Now that we have our raw data pushed into BQ, let\u2019s hop on to BigQuery to see how we can work with it!", "(I know it looks scary :p)", "I had never before seen a table with repeated records, and this one was it. A few things to know about the exported data -", "Due to this structure, two things happen,", "To deal with this table format, let\u2019s talk about some querying style and functions.", "As you might have guessed it, the unnest function helps in flattening our confusing (at first) table. The UNNEST function takes an array and breaks it out into each of its individual elements. For example, the query to count male users on your app for the week of 20th Jan will look something like -", "Here, the UNNEST function took the array user_properties and unfolded it. From all the key, value pairs for user properties then, we filtered for user_gender and extracted the string value where we had saved \u2018Male\u2019 and \u2018Female\u2019. We called this extraction as gender and then finally filtered for Male here in the enclosing query.", "While creating a report which involves multiple steps say when calculating retention, you will need to create a few intermediate tables before you can finally write select users, their day-7 retention for a period of 30 days from table x", "Now, BigQuery isn\u2019t SAS or Python where you can write multiple steps and run them all at once. The platform only runs one query at a time. So here\u2019s to your rescue the with..as style. It lets you create multiple table within the same query using table aliases. For example retention -", "Here, we created 3 intermediate tables named cohort_items, user_activities and retention_table before we could use them all to aggregate and get our final retention table.", "cohort_items \u2014 Identifying the new user cohort based on the date they first opened the application", "user_activities \u2014 For these identified users, getting their daily activity on the app. If a user logged single event on firebase, we consider them active for that day.", "retention_table \u2014 Aggregating the above table on day level (cohort_day) and identifying for each day (day_number), how many users were retained on day 0, day 1, day 7, . . . upto day n.", "Finally, in the last select statement, we calculate the retention percent for each cohort day and day_number combination and keep only day 0 to day 30 retentions.", "After you start creating reports using exported data in BigQuery, you\u2019ll encounter discrepancy between Analytics and your reports. You can use the following best practices to get better results:", "I hope this post helped you learn a bit about Firebase Analytics. There will be more posts following this one to talk about more specific tasks like using events data to map user behaviour, create user journey etc.", "If you have any questions/suggestions, feel free to reach out with your comments and connect with me on LinkedIn, or Twitter", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fec756230f768&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffirebase-event-analytics-with-google-bigquery-ec756230f768&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffirebase-event-analytics-with-google-bigquery-ec756230f768&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffirebase-event-analytics-with-google-bigquery-ec756230f768&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffirebase-event-analytics-with-google-bigquery-ec756230f768&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ec756230f768--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ec756230f768--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://kritika-jalan.medium.com/?source=post_page-----ec756230f768--------------------------------", "anchor_text": ""}, {"url": "https://kritika-jalan.medium.com/?source=post_page-----ec756230f768--------------------------------", "anchor_text": "Kritika Jalan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fdb96631ce5db&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffirebase-event-analytics-with-google-bigquery-ec756230f768&user=Kritika+Jalan&userId=db96631ce5db&source=post_page-db96631ce5db----ec756230f768---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fec756230f768&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffirebase-event-analytics-with-google-bigquery-ec756230f768&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fec756230f768&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffirebase-event-analytics-with-google-bigquery-ec756230f768&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://en.wikipedia.org/wiki/Firebase", "anchor_text": "wiki"}, {"url": "https://firebase.google.com/docs/analytics", "anchor_text": "Google\u2019s documentation"}, {"url": "https://pixabay.com/images/id-2156083/", "anchor_text": "Source"}, {"url": "https://support.google.com/firebase/answer/6318765", "anchor_text": "guide"}, {"url": "https://www.linkedin.com/in/kritikajalan/", "anchor_text": "LinkedIn"}, {"url": "https://twitter.com/Kritika_Jalan", "anchor_text": "Twitter"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ec756230f768---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/firebase?source=post_page-----ec756230f768---------------firebase-----------------", "anchor_text": "Firebase"}, {"url": "https://medium.com/tag/bigquery?source=post_page-----ec756230f768---------------bigquery-----------------", "anchor_text": "Bigquery"}, {"url": "https://medium.com/tag/analytics?source=post_page-----ec756230f768---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/tag/google?source=post_page-----ec756230f768---------------google-----------------", "anchor_text": "Google"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fec756230f768&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffirebase-event-analytics-with-google-bigquery-ec756230f768&user=Kritika+Jalan&userId=db96631ce5db&source=-----ec756230f768---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fec756230f768&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffirebase-event-analytics-with-google-bigquery-ec756230f768&user=Kritika+Jalan&userId=db96631ce5db&source=-----ec756230f768---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fec756230f768&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffirebase-event-analytics-with-google-bigquery-ec756230f768&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ec756230f768--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fec756230f768&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffirebase-event-analytics-with-google-bigquery-ec756230f768&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ec756230f768---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ec756230f768--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ec756230f768--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ec756230f768--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ec756230f768--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ec756230f768--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ec756230f768--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ec756230f768--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ec756230f768--------------------------------", "anchor_text": ""}, {"url": "https://kritika-jalan.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://kritika-jalan.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kritika Jalan"}, {"url": "https://kritika-jalan.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "813 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fdb96631ce5db&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffirebase-event-analytics-with-google-bigquery-ec756230f768&user=Kritika+Jalan&userId=db96631ce5db&source=post_page-db96631ce5db--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F947eecd2808f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffirebase-event-analytics-with-google-bigquery-ec756230f768&newsletterV3=db96631ce5db&newsletterV3Id=947eecd2808f&user=Kritika+Jalan&userId=db96631ce5db&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}