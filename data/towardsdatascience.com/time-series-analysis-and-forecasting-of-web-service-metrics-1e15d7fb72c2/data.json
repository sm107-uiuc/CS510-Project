{"url": "https://towardsdatascience.com/time-series-analysis-and-forecasting-of-web-service-metrics-1e15d7fb72c2", "time": 1682996981.836023, "path": "towardsdatascience.com/time-series-analysis-and-forecasting-of-web-service-metrics-1e15d7fb72c2/", "webpage": {"metadata": {"title": "Time Series Analysis and Forecasting of Web Service Metrics | by Vaibhav Sethi | Towards Data Science", "h1": "Time Series Analysis and Forecasting of Web Service Metrics", "description": "In this article, we\u2019re going to discuss various machine learning techniques for analysis and forecasting of web service metrics and its applications. Auto-scaling is a good application of this, where\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["In this article, we\u2019re going to discuss various machine learning techniques for analysis and forecasting of web service metrics and its applications. Auto-scaling is a good application of this, where forecasting techniques can be applied to estimate the request rates for a web service. Similarly, forecasting techniques can be applied to service metrics to predict alerts and anomalies.", "In this article, I\u2019ll first talk about Time Series data and its role in forecasting techniques. Later on, I\u2019ll illustrate a predictive model for forecasting request rate of a web service. This article provides basic understanding of time series forecasting techniques, which can be applied to service metrics or any time series data.", "Time series is a collection of data points collected at constant time intervals. Examples of time series data can vary from application metrics like request rates in RPM to system metrics like Idle CPU % taken at constant time intervals.", "In order to solve prediction problem with machine learning techniques, the data needs to be converted to time series format. Time series data have a natural temporal ordering. Time series analysis can be applied to real-valued, continuous data, discrete numeric data, or discrete symbolic data.", "For the illustration I\u2019ve used Python. Numpy, Pandas, Matpoltlib modules would be used for transformation & analysis, and Statsmodel would be used for the predictive model.", "Look at the graph for Request Rate in RPM above, do you see any challenges with the data?", "In the graph above you can observe that there are too many data points and spikes to work with.", "* Resampling : All the data points were taken at a minute interval. Resampling the data to hourly or daily or weekly can help reduce the number of data points to work with. In this example we will use average daily resampled values.", "* Transformation : Transformation like logarithm, square root or cube root can be applied to handle the spikes in the graph. In this example we will perform log transformation for the time series.", "Univariate Vs. Mutli-variate TimeseriesUnivariate Time series data consists of only one variable. Univariate analysis is the simplest form of data analysis where the data being analysed contains only one variable. Since it\u2019s a single variable it doesn\u2019t deal with causes or relationships. An example of this univariate time series could be request rate metrics.When time series consists of two variables it is called Bivariate time series. The analysis of this type of data deals with causes and relationships and the analysis is done to find out the relationship among the two variables. Example of this could be % CPU Usage of a web service which depends on the request rate. These variables are often plotted on X and Y axis on the graph for better understanding of data and one of these variables is independent while the other is dependent.Multivariate time series consists of three or more variables. Example of multi-variate time series could be stock prices which would depend on multiple variables.", "Components of Time seriesIn order to come up with a suitable model for forecasting time series, it is important to understand the components of the time series data. Time series data mainly consists of the following components:", "Where, Y[t] is the predicted value at time \u2018t\u2019, T[t], S[t] and e[t] are the trend component, seasonal component and error at time \u2018t\u2019 respectively.", "Time series is said to be stationary if it has constant statistical properties over time, ie. the following:", "Most of the time series models require the time series to be stationary.", "Here are some ways to check the stationarity of a time series:", "There are multiple ways of making a time series stationary. Some of them are differencing, detrending, transformation, etc.", "I\u2019ll broadly talk about two kinds of predictive models, mathematical models and artificial neural networks.", "Some of the classical time series forecasting models are mentioned below. I\u2019ll illustrate the SARIMA model for our scenario.", "Models like AR, MA, ARMA, ARIMA are trivial cases of SARIMA model. VAR, VARMA, VARMAX are similar to previously mentioned models, they are useful in case of vector data rather than univariate time series.", "In certain cases Holt-Winter model may be used to predict time series with seasonality component present.", "When trend and seasonality is present in a time series, very popular method is to use the Seasonal AutoRegressive Integrated Moving Average (SARIMA) model which is a generalisation of an ARMA model.", "* From the seasonal decomposing we have seen that the time series data has seasonality. Hence, S = 365 and denotes a lag of 365 days in seasonal changes.", "* For p, q, P & Q parameters we can plot ACF (Autocorrelation Function) & PACF (Partial Autocorrelation Function) and for parameters d & D we can try the same plots with differences in time series.", "* Other way to estimate the parameters is by trying multiple set of values to find a model for which the AIC (Akaike information criterion) value is relatively less.", "Just like other machine learning models, in order to evaluate the accuracy of the model we split the dataset into training and test datasets. This ratio may vary from 60% to 90%. In our case due to less number of data points, I\u2019m keeping the ratio of 95%. Another reason for keeping the ratio 95% is that for SARIMA model to predict accurately, the training dataset should have enough data points of 2 seasons.", "The data being fit is the daily average resampled and log transformed time series. Estimated parameters (2, 1, 4) (0, 1, 0) [365] are called for the model. Observe that the AIC value is -296.90 for this model.", "Now that the model is trained we can perform the forecasting. For this we can provide the number of steps to be predicted as the parameter.", "Note : Observe the values on the y-axis in the original graph at the beginning of the article and the predicted graph mentioned above. The RPM values for the web service was around 300 and the predicted values are around 5, this is because the predicted values are transformed. We need to apply inverse transformation to get the value on the original scale. Can you guess which inverse transformation would be suitable based on the transformation we have applied?", "Based on the log transformation applied, we need to apply exponential transformation for inverse. This is required before evaluating the forecast, since we need to know the accuracy of the predicted values on the original scale.", "Now that we have inverse transformed the predicted values back to the original scale, we can evaluate the accuracy of the predictive model.", "For this we need to find the errors between Original & Predicted test values to compute:* Mean Squared Error (MSE)* Root Mean Squared Error (RMSE)* Coefficient of Variation* Quartile Coefficient of Dispersion, etc", "Since our data set had only 39 data points, we will be able to evaluate the prediction for 39 days. Let\u2019s evaluate the model for 39 days and 20 days to compare the results.", "Note : Coefficient of variation is 11.645 which means that the model was able to predict the Daily Average RPM for a service with an accuracy of 88% for next 39 days.", "Note : Coefficient of variation is 5.55 which means that the model was able to predict the Daily Average RPM for a service with an accuracy of 94% for next 20 days.", "The Neural Network models for prediction based problems work differently than the mathematical models. A Recurrent Neural Network (RNN) is a class of Artificial Neural Network which exhibits temporal dynamic behaviour.", "LSTM (Long Short-Term Memory) is one of the most suitable RNN. For developing LSTM model, the time series forecasting problem must be re-framed as supervised learning problem.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1e15d7fb72c2&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-and-forecasting-of-web-service-metrics-1e15d7fb72c2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-and-forecasting-of-web-service-metrics-1e15d7fb72c2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-and-forecasting-of-web-service-metrics-1e15d7fb72c2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-and-forecasting-of-web-service-metrics-1e15d7fb72c2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----1e15d7fb72c2--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1e15d7fb72c2--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@vsethi?source=post_page-----1e15d7fb72c2--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@vsethi?source=post_page-----1e15d7fb72c2--------------------------------", "anchor_text": "Vaibhav Sethi"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F91778bfca701&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-and-forecasting-of-web-service-metrics-1e15d7fb72c2&user=Vaibhav+Sethi&userId=91778bfca701&source=post_page-91778bfca701----1e15d7fb72c2---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1e15d7fb72c2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-and-forecasting-of-web-service-metrics-1e15d7fb72c2&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1e15d7fb72c2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-and-forecasting-of-web-service-metrics-1e15d7fb72c2&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://en.wikipedia.org/wiki/Exponential_smoothing", "anchor_text": "Winter-Holt"}, {"url": "https://en.wikipedia.org/wiki/Long_short-term_memory", "anchor_text": "LSTM"}, {"url": "https://en.wikipedia.org/wiki/Granger_causality", "anchor_text": "Granger Causality"}, {"url": "https://en.wikipedia.org/wiki/Autocorrelation", "anchor_text": "Autocorrelation"}, {"url": "https://en.wikipedia.org/wiki/Partial_autocorrelation_function", "anchor_text": "Partial Autocorrelation"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----1e15d7fb72c2---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/time-series-analysis?source=post_page-----1e15d7fb72c2---------------time_series_analysis-----------------", "anchor_text": "Time Series Analysis"}, {"url": "https://medium.com/tag/time-series-forecasting?source=post_page-----1e15d7fb72c2---------------time_series_forecasting-----------------", "anchor_text": "Time Series Forecasting"}, {"url": "https://medium.com/tag/web-services?source=post_page-----1e15d7fb72c2---------------web_services-----------------", "anchor_text": "Web Services"}, {"url": "https://medium.com/tag/sarima?source=post_page-----1e15d7fb72c2---------------sarima-----------------", "anchor_text": "Sarima"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1e15d7fb72c2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-and-forecasting-of-web-service-metrics-1e15d7fb72c2&user=Vaibhav+Sethi&userId=91778bfca701&source=-----1e15d7fb72c2---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1e15d7fb72c2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-and-forecasting-of-web-service-metrics-1e15d7fb72c2&user=Vaibhav+Sethi&userId=91778bfca701&source=-----1e15d7fb72c2---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1e15d7fb72c2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-and-forecasting-of-web-service-metrics-1e15d7fb72c2&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1e15d7fb72c2--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1e15d7fb72c2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-and-forecasting-of-web-service-metrics-1e15d7fb72c2&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1e15d7fb72c2---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1e15d7fb72c2--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1e15d7fb72c2--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1e15d7fb72c2--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1e15d7fb72c2--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1e15d7fb72c2--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1e15d7fb72c2--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1e15d7fb72c2--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1e15d7fb72c2--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@vsethi?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@vsethi?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Vaibhav Sethi"}, {"url": "https://medium.com/@vsethi/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "43 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F91778bfca701&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-and-forecasting-of-web-service-metrics-1e15d7fb72c2&user=Vaibhav+Sethi&userId=91778bfca701&source=post_page-91778bfca701--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe14927312f98&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-and-forecasting-of-web-service-metrics-1e15d7fb72c2&newsletterV3=91778bfca701&newsletterV3Id=e14927312f98&user=Vaibhav+Sethi&userId=91778bfca701&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}