{"url": "https://towardsdatascience.com/handle-missing-data-with-r-10-daily-used-idioms-13d849d01690", "time": 1683006809.952875, "path": "towardsdatascience.com/handle-missing-data-with-r-10-daily-used-idioms-13d849d01690/", "webpage": {"metadata": {"title": "Handle missing data with R: 10 daily used idioms | by Pavlo Horbonos | Towards Data Science", "h1": "Handle missing data with R: 10 daily used idioms", "description": "Data cleaning is one of the most time-consuming stages of the Data Analysis process. Many of its steps include acquainting the dataset, search of the missing values, their imputation or removing, and\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/7-idioms-to-acquire-missing-values-every-data-scientist-should-know-2edf4224360c", "anchor_text": "the article about short Python idioms", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/7-idioms-to-acquire-missing-values-every-data-scientist-should-know-2edf4224360c", "anchor_text": "wines reviews dataset", "paragraph_index": 1}, {"url": "https://cran.r-project.org/web/packages/mice/mice.pdf", "anchor_text": "\u201cmice\u201d package", "paragraph_index": 16}, {"url": "https://cran.r-project.org/web/packages/VIM/index.html", "anchor_text": "VIM library", "paragraph_index": 20}, {"url": "https://twitter.com/MidvelCorp", "anchor_text": "https://twitter.com/MidvelCorp", "paragraph_index": 26}, {"url": "https://blaize.tech/", "anchor_text": "https://blaize.tech/", "paragraph_index": 26}], "all_paragraphs": ["Data cleaning is one of the most time-consuming stages of the Data Analysis process. Many of its steps include acquainting the dataset, search of the missing values, their imputation or removing, and possibly a lot of repetitions of the same code lines but for different variables or their combinations. So, we have to search and accept any possibilities to speed the process up.", "Some time ago I have presented the article about short Python idioms for missing values in datasets. Today I have prepared the compilation of similar scripts but in R language. Also, we will work again with the wines reviews dataset from Kaggle.", "Yes, vectors in R start with 1, but before handling missing values we should have a dataset with missing values. Sometimes empty records are filled with substitutional strings like spaces (\u201c \u201c), \u201cempty\u201d, \u201cnan\u201d, or some garbage. To start the work we should substitute them with \u201creal\u201d NA values. Lucky for us, we can do it at the stage of dataset opening:", "na.string accepts a vector of substitutional values.", "In the beginning, we need to check the presence of missing values. We have is.na() for these purposes. It receives data and returns a boolean vector.", "Previous scripts require some knowledge about the dataset and access to separate elements. But what if we want to see the whole picture? The answer is na.fail() function. It throws an exception if there is any missing value in whole data:", "There is a special function, which replaces a bunch of filters and indexes. It is mostly used with data frames and may be used to show all the rows with any missing value (in any column): complete.cases(). It returns a boolean vector and is very convenient for indexing.", "All previous scripts are mostly used for exploratory tasks: to show, to acquire, etc.. But what if we need to get the indexes of missing values? In this case, we should use which() function:", "It seems, that the only purpose of NA values existence is to be removed. Though, we may use them in some very interesting combinations. For example, we have a vector of mixed data:", "And we want to separate \u201cconvertible\u201d strings (like \u20185\u2019 or \u201825\u2019) from the others. We can do it together with is.na() function:", "NAs presence has some side effects \u2014 it turns the resulting value of almost any operation into NA. But there is a solution \u2014 a lot of R functions have built-in na.rm argument, which allows skipping missing values.", "You can take a look at the previous scripts and think, that omitting of missing values is a very tedious job. Well, yes, it is. But in case if need to remove all NA at once and forget them as a nightmare \u2014 R has the next functions for us:", "As you see \u2014 we can use as special function na.omit() as already known complete.cases(). The result is the same: there will be no more missing values in the dataset.", "When we build some filters, we expect the result to have only matching values. It becomes especially valuable while working with data frames. But if you run, for example, this command:", "you will get not the correct subset only, but all the missing values too. It is the result of R data frame indexing, boolean arrays, and NA nature: missing value turns the condition result into NA which is treated as not FALSE. And we still have the pain of missing values search.", "It returns the correct subset, but without NAs, which are filtered away.", "Let\u2019s return to the step when we looked at the whole picture of the dataset. We want to see the distribution of missing values, maybe some patterns, or dependency between variables. And we have another R package with the desired function \u2014 \u201cmice\u201d package. It contains functions, which walk through the dataset, count all the omissions, and build the picture of the dataset. For example, let\u2019s take the sample: wine_data[1:5, 4:8]. It contains the next data:", "As we see, there are some missing values. Let\u2019s apply md.pattern() function from the mentioned package:", "And we get the table of patterns:", "The leftmost index shows the number of rows. The rightmost index shows the number of missing features. The central matrix shows the patterns: which features combination is absent in the counted rows. So the first line tells us, that there are 2 rows with no absent data (0 missing features). And the third line shows, that there is 1 row in the data fragment with 1 missing feature \u2014 with price missing.", "Now we are ready to visualize the distribution of missing values. We have another R package for this job \u2014 VIM library. Among many other functions it plots the distribution histogram of empty records and builds a visual representation of patterns table from the previous step:", "We have got a beautiful picture:", "Now we can see, for example, that almost 60% of the rows have no region_2 value.", "As for me, you should bring these code snippets to automatism. And you will gather significant analysis speeding. Also, as always, you may find the code with working examples on my GitHub:", "Make sure, that you have seen my previous article about Python idioms:", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Art & Code | https://twitter.com/MidvelCorp \ud83d\udcbb| Head of Blockchain Security in https://blaize.tech/ | web3 and blockchain enthusiast and researcher"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F13d849d01690&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandle-missing-data-with-r-10-daily-used-idioms-13d849d01690&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandle-missing-data-with-r-10-daily-used-idioms-13d849d01690&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandle-missing-data-with-r-10-daily-used-idioms-13d849d01690&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandle-missing-data-with-r-10-daily-used-idioms-13d849d01690&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----13d849d01690--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----13d849d01690--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@midvel.corp?source=post_page-----13d849d01690--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@midvel.corp?source=post_page-----13d849d01690--------------------------------", "anchor_text": "Pavlo Horbonos"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7154b5bfb5f6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandle-missing-data-with-r-10-daily-used-idioms-13d849d01690&user=Pavlo+Horbonos&userId=7154b5bfb5f6&source=post_page-7154b5bfb5f6----13d849d01690---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F13d849d01690&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandle-missing-data-with-r-10-daily-used-idioms-13d849d01690&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F13d849d01690&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandle-missing-data-with-r-10-daily-used-idioms-13d849d01690&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@mattartz?utm_source=medium&utm_medium=referral", "anchor_text": "Matt Artz"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/7-idioms-to-acquire-missing-values-every-data-scientist-should-know-2edf4224360c", "anchor_text": "the article about short Python idioms"}, {"url": "https://towardsdatascience.com/7-idioms-to-acquire-missing-values-every-data-scientist-should-know-2edf4224360c", "anchor_text": "wines reviews dataset"}, {"url": "https://cran.r-project.org/web/packages/mice/mice.pdf", "anchor_text": "\u201cmice\u201d package"}, {"url": "https://cran.r-project.org/web/packages/VIM/index.html", "anchor_text": "VIM library"}, {"url": "https://github.com/Midvel/medium_jupyter_notes/blob/master/r_missing_values/missing-values.R", "anchor_text": "Midvel/medium_jupyter_notesExample of code and models built for Medium articles - Midvel/medium_jupyter_notesgithub.com"}, {"url": "https://towardsdatascience.com/7-idioms-to-acquire-missing-values-every-data-scientist-should-know-2edf4224360c", "anchor_text": "7 idioms to acquire missing values every data scientist should knowCommands you should bring to automatismtowardsdatascience.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----13d849d01690---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/r?source=post_page-----13d849d01690---------------r-----------------", "anchor_text": "R"}, {"url": "https://medium.com/tag/r-programming?source=post_page-----13d849d01690---------------r_programming-----------------", "anchor_text": "R Programming"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----13d849d01690---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----13d849d01690---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F13d849d01690&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandle-missing-data-with-r-10-daily-used-idioms-13d849d01690&user=Pavlo+Horbonos&userId=7154b5bfb5f6&source=-----13d849d01690---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F13d849d01690&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandle-missing-data-with-r-10-daily-used-idioms-13d849d01690&user=Pavlo+Horbonos&userId=7154b5bfb5f6&source=-----13d849d01690---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F13d849d01690&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandle-missing-data-with-r-10-daily-used-idioms-13d849d01690&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----13d849d01690--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F13d849d01690&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandle-missing-data-with-r-10-daily-used-idioms-13d849d01690&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----13d849d01690---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----13d849d01690--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----13d849d01690--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----13d849d01690--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----13d849d01690--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----13d849d01690--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----13d849d01690--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----13d849d01690--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----13d849d01690--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@midvel.corp?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@midvel.corp?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Pavlo Horbonos"}, {"url": "https://medium.com/@midvel.corp/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "406 Followers"}, {"url": "https://twitter.com/MidvelCorp", "anchor_text": "https://twitter.com/MidvelCorp"}, {"url": "https://blaize.tech/", "anchor_text": "https://blaize.tech/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7154b5bfb5f6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandle-missing-data-with-r-10-daily-used-idioms-13d849d01690&user=Pavlo+Horbonos&userId=7154b5bfb5f6&source=post_page-7154b5bfb5f6--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F6a79629f6cc9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandle-missing-data-with-r-10-daily-used-idioms-13d849d01690&newsletterV3=7154b5bfb5f6&newsletterV3Id=6a79629f6cc9&user=Pavlo+Horbonos&userId=7154b5bfb5f6&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}