{"url": "https://towardsdatascience.com/build-deploy-a-spam-classifier-app-on-heroku-cloud-in-10-minutes-f9347b27ff72", "time": 1683009377.626414, "path": "towardsdatascience.com/build-deploy-a-spam-classifier-app-on-heroku-cloud-in-10-minutes-f9347b27ff72/", "webpage": {"metadata": {"title": "Build & Deploy a Spam Classifier app on Heroku Cloud in 10 minutes! | by Chayan Kathuria | Towards Data Science", "h1": "Build & Deploy a Spam Classifier app on Heroku Cloud in 10 minutes!", "description": "Today we will be building a neat bare bones Spam Message Classifier, a Natural Language Processing based model. Then we will build a flask application which will render an HTML based home page and a\u2026"}, "outgoing_paragraph_urls": [{"url": "https://spamhamheroku.herokuapp.com/", "anchor_text": "here", "paragraph_index": 0}, {"url": "https://github.com/chayankathuria/NLP-Heroku", "anchor_text": "Github", "paragraph_index": 2}, {"url": "https://dashboard.heroku.com/", "anchor_text": "Heroku", "paragraph_index": 17}, {"url": "https://dashboard.heroku.com/", "anchor_text": ".", "paragraph_index": 17}, {"url": "https://github.com/chayankathuria/NLP-Heroku", "anchor_text": "github", "paragraph_index": 23}, {"url": "https://www.linkedin.com/in/chayankathuria/", "anchor_text": "LinkedIn", "paragraph_index": 23}], "all_paragraphs": ["Today we will be building a neat bare bones Spam Message Classifier, a Natural Language Processing based model. Then we will build a flask application which will render an HTML based home page and a prediction page. The user will input text in the home page and the application will predict whether it seems like a Spam message or a Ham (not spam) on the prediction page. This flask API will be deployed in public host on Heroku. Heroku is the obvious choice here as it\u2019s super quick and super easy. And did I mention it is free? Yes it is! Check out and play with the app yourself first here to know what you\u2019ll be building.", "So now that you\u2019ve seen it, let\u2019s dive right in!", "The first step will be to build our NLP model that takes in natural text from user and predicts whether it is a Spam or Ham(not a spam). We will do this in a few pieces of python code. The complete code and the dataset is available on my Github. First, let\u2019s import all the libraries required.", "Next, we need to load the data and split into text data (X) and labels (y).", "Now we need to vectorize (convert text to numerical form) the textual data by using Count Vectorizer. Then just split the training and testing data. No further text preprocessing is taken into consideration as our aim is to build a model quickly and deploy it. You can experiment with the text cleaning part for yourself to make the performance better.", "Once this is done, we just need to fit the model and save it as a pickle file which will later be loaded in the flask app.", "Notice here that we have saved the Naive Bayes\u2019 model and the count vectorizer as well. This is because for your the text input which will be taken from user, will have to be vectorized using the same Count Vectorizer parameters as the model was trained on. Okay, so now we have our model and the vectorizer as well.", "Next we need to build the flask app which will connect the NLP model we just built to our browser and later host it on cloud.", "The flask application will route the user to the home page as soon as user accesses the URL of the application. Later when user inputs the text and hits the predict button, it will redirect it to the prediction page and render the output. Let\u2019s see how it\u2019s done.", "We need to import flask and a few other functions. You would need to install flask by a simple pip install command if you don\u2019t already have it.", "Here, Flask will be used to define the app which we are using. Then render_template will render the home page (home.html) and the prediction page (result.html). And the request will be used to retrieve the text input which will be sent to the flask app via the HTML Post method from the HTML page.", "Now we need to define the flask app and its default routing to the home page, which is home.html. We will define a function will do nothing but render the home page when the application URL is called.", "Now comes the main part of the app, the prediction. We need to define a function that opens and loads the NLP model and Count Vectorizer pickle files. It then retrieves the text input which is sent to it via the POST method. The retrieved text input is then vectorized using the same vectorizer and dumped to our model to get the prediction. That\u2019s it! We now just need to render this prediction result back on the prediction page and we\u2019re done.", "Our model and flask apps are done. We now just need to deploy these files on Heroku.", "To deploy the application on Heroku you need to push all the files on your Github which will be linked to Heroku. You will need to upload following files to your repository :", "Okay so you might be wondering what requirements and the procfile files are. The requirements is a text file which contains all the dependencies (libraries like pandas, flask etc.) and their versions required for the app to run as expected. Heroku will install all these dependencies prior to deploying the app. Procfile is a configuration file which looks something like:", "Here \u2018app1\u2019 is my flask file name which is \u2018app1.py\u2019 and \u2018app\u2019 is the flask app we defined earlier in the code above. This just tells Heroku to look for the flask file named app1 and in it the flask app defined as \u2018app\u2019.", "Once you\u2019re done pushing all the files to a new github repository, you will need to create an app on Heroku and connect your github repository to it. To do this, just go to Heroku. Create an account if you haven\u2019t already and go to \u2018create new app\u2019.", "In the newly created app, you need to connect to the github repository which has the code. Search for the github repository name in the search box and hit the \u2018Connect\u2019 button.", "Once connected you just need to hit the \u2018Deploy\u2019 button and you\u2019re done! Heroku will first check for the requirements file and install all the dependencies and then deploy the flask app to public host. A URL will be generated which is the URL of your application. Just copy it and open it in your browser and voila! you\u2019re done.", "That was it for this tutorial. Hope you got the app running and got decent results!", "If you got this far and have the app ready, give yourself a pat on the back. You deserve it!", "So we used Heroku Cloud here as it\u2019s so quick and easy to setup. However I encourage you to try deploying the app on other cloud platforms as well \u2014 like AWS EC2, Google Cloud Platform and Azure.", "Feel free to get the source code from my github and reach out to me for any queries and suggestions on LinkedIn.", "See you on the next post, cheers!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Science and Machine Learning Enthusiast"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff9347b27ff72&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-deploy-a-spam-classifier-app-on-heroku-cloud-in-10-minutes-f9347b27ff72&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-deploy-a-spam-classifier-app-on-heroku-cloud-in-10-minutes-f9347b27ff72&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-deploy-a-spam-classifier-app-on-heroku-cloud-in-10-minutes-f9347b27ff72&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-deploy-a-spam-classifier-app-on-heroku-cloud-in-10-minutes-f9347b27ff72&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f9347b27ff72--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f9347b27ff72--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@chayankathuria?source=post_page-----f9347b27ff72--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@chayankathuria?source=post_page-----f9347b27ff72--------------------------------", "anchor_text": "Chayan Kathuria"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F72dde4fb13bd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-deploy-a-spam-classifier-app-on-heroku-cloud-in-10-minutes-f9347b27ff72&user=Chayan+Kathuria&userId=72dde4fb13bd&source=post_page-72dde4fb13bd----f9347b27ff72---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff9347b27ff72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-deploy-a-spam-classifier-app-on-heroku-cloud-in-10-minutes-f9347b27ff72&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff9347b27ff72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-deploy-a-spam-classifier-app-on-heroku-cloud-in-10-minutes-f9347b27ff72&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@charlesdeluvio?utm_source=medium&utm_medium=referral", "anchor_text": "Charles Deluvio"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://spamhamheroku.herokuapp.com/", "anchor_text": "here"}, {"url": "https://github.com/chayankathuria/NLP-Heroku", "anchor_text": "Github"}, {"url": "https://dashboard.heroku.com/", "anchor_text": "Heroku"}, {"url": "https://dashboard.heroku.com/", "anchor_text": "."}, {"url": "https://github.com/chayankathuria/NLP-Heroku", "anchor_text": "github"}, {"url": "https://www.linkedin.com/in/chayankathuria/", "anchor_text": "LinkedIn"}, {"url": "https://medium.com/tag/nlp?source=post_page-----f9347b27ff72---------------nlp-----------------", "anchor_text": "NLP"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----f9347b27ff72---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/heroku?source=post_page-----f9347b27ff72---------------heroku-----------------", "anchor_text": "Heroku"}, {"url": "https://medium.com/tag/deployment?source=post_page-----f9347b27ff72---------------deployment-----------------", "anchor_text": "Deployment"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f9347b27ff72---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff9347b27ff72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-deploy-a-spam-classifier-app-on-heroku-cloud-in-10-minutes-f9347b27ff72&user=Chayan+Kathuria&userId=72dde4fb13bd&source=-----f9347b27ff72---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff9347b27ff72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-deploy-a-spam-classifier-app-on-heroku-cloud-in-10-minutes-f9347b27ff72&user=Chayan+Kathuria&userId=72dde4fb13bd&source=-----f9347b27ff72---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff9347b27ff72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-deploy-a-spam-classifier-app-on-heroku-cloud-in-10-minutes-f9347b27ff72&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f9347b27ff72--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff9347b27ff72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-deploy-a-spam-classifier-app-on-heroku-cloud-in-10-minutes-f9347b27ff72&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f9347b27ff72---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f9347b27ff72--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f9347b27ff72--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f9347b27ff72--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f9347b27ff72--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f9347b27ff72--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f9347b27ff72--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f9347b27ff72--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f9347b27ff72--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@chayankathuria?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@chayankathuria?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Chayan Kathuria"}, {"url": "https://medium.com/@chayankathuria/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "243 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F72dde4fb13bd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-deploy-a-spam-classifier-app-on-heroku-cloud-in-10-minutes-f9347b27ff72&user=Chayan+Kathuria&userId=72dde4fb13bd&source=post_page-72dde4fb13bd--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb4d293614a70&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-deploy-a-spam-classifier-app-on-heroku-cloud-in-10-minutes-f9347b27ff72&newsletterV3=72dde4fb13bd&newsletterV3Id=b4d293614a70&user=Chayan+Kathuria&userId=72dde4fb13bd&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}