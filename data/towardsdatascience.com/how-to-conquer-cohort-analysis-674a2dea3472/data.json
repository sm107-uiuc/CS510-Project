{"url": "https://towardsdatascience.com/how-to-conquer-cohort-analysis-674a2dea3472", "time": 1682996490.524338, "path": "towardsdatascience.com/how-to-conquer-cohort-analysis-674a2dea3472/", "webpage": {"metadata": {"title": "How to Conquer Cohort Analysis With a Powerful Clinical Research Tool | by Nnamdi Iregbulem | Towards Data Science", "h1": "How to Conquer Cohort Analysis With a Powerful Clinical Research Tool", "description": "Why your doctor understands customer retention better than you do"}, "outgoing_paragraph_urls": [{"url": "https://www.forentrepreneurs.com/why-churn-is-critical-in-saas/?fbclid=IwAR3RmfnV8ek0lDyyWwEXdkHNJhJxXymIN-hJeuo32c3cYekTnQOgLvAryi4", "anchor_text": "radically impact revenue growth", "paragraph_index": 0}, {"url": "https://en.wikipedia.org/wiki/Kaplan%E2%80%93Meier_estimator", "anchor_text": "Kaplan-Meier estimator", "paragraph_index": 6}, {"url": "https://en.wikipedia.org/wiki/Edward_L._Kaplan", "anchor_text": "Edward Kaplan", "paragraph_index": 23}, {"url": "https://www.chicagotribune.com/news/ct-xpm-2011-08-18-ct-met-meier-obit-20110818-story.html", "anchor_text": "Paul Meier", "paragraph_index": 23}, {"url": "https://www.tandfonline.com/doi/abs/10.1080/01621459.1958.10501452", "anchor_text": "Kaplan-Meier estimator", "paragraph_index": 23}, {"url": "https://towardsdatascience.com/a-gentle-introduction-to-maximum-likelihood-estimation-9fbff27ea12f", "anchor_text": "maximum likelihood estimator", "paragraph_index": 27}, {"url": "https://www.khanacademy.org/math/statistics-probability/probability-library/conditional-probability-independence/v/calculating-conditional-probability", "anchor_text": "conditional", "paragraph_index": 29}, {"url": "https://www.investopedia.com/terms/c/compound-probability.asp", "anchor_text": "fundamental law of probability", "paragraph_index": 37}, {"url": "https://math.unm.edu/~james/w4.pdf", "anchor_text": "p-values, confidence intervals, and statistical significance tests", "paragraph_index": 39}, {"url": "https://twitter.com/whoisnnamdi", "anchor_text": "Twitter", "paragraph_index": 42}, {"url": "http://whoisnnamdi.com", "anchor_text": "http://whoisnnamdi.com", "paragraph_index": 44}], "all_paragraphs": ["In SaaS or consumer subscription settings, small changes in churn can radically impact revenue growth.", "Product managers, growth hackers, marketers, data scientists, and investors all need to understand how business decisions impact user retention.", "With so many recurring revenue businesses going public, Silicon Valley should get the picture by now.", "Believe it or not, however, medical researchers measure customer retention better than you do.", "Sounds bold, but it\u2019s not. Over decades, clinical researchers have refined precise and rigorous ways of measuring retention-except instead of customer retention, they measure patient survival.", "The gravity of life and death means researchers take great care in measuring treatment efficacy.", "To do this, clinical researchers use a statistical method called the Kaplan-Meier estimator. The formula elegantly solves a frequent issue that pops up in cohort retention analysis: making valid comparisons within and across groups of cohorts of different lifespans:", "Despite the fancy formula, survival analysis using Kaplan-Meier (KM) is actually quite simple and delivers much better results than other methods:", "In this post I\u2019ll explain these results, breakdown the KM estimator in simple terms, and convince you to use it for retention analysis.", "The bottom-line: if you are an operator or investor who wants to properly measure customer cohort retention, Kaplan-Meier is the way to do it.", "The core problem the KM estimator helps us deal with is missing data.", "Cohort data is inherently flawed in that more recent cohorts have fewer data points to compare against older cohorts. For example, a five-month-old cohort can only be compared with the first five months of a ten-month-old cohort. The retention rates of a cohort of customers acquired seven months ago can only reasonably be compared to the first seven month retention of older cohorts.", "Imagine you had the full retention history of the previous 12 monthly cohorts and you wanted to predict the 12-month retention curve of a newly acquired customer. It\u2019s not at all obvious how to do this.", "To understand this better, let\u2019s visualize a simpler example with only five cohorts:", "You might first try to calculate average retention across cohorts. This is problematic for two reasons:", "We can see the second issue below. With both the simple and weighted average, we get strange results when performance oscillates across cohorts:", "Assuming we don\u2019t re-add returning users who previously churned into their original cohort, retention cannot possibly tick up after declining-it\u2019s a one way street. This is an artifact of our flawed method, as 5-month retention cannot exceed 4-month retention by definition.", "A third, related problem arises when comparing groups of cohorts to other groups, for example, comparing 2016\u2019s group of monthly cohorts to 2017\u2019s. As we\u2019ve just shown, using averages to estimate retention curves for each group doesn\u2019t work, which means we also cannot compare one group to another.", "Believe it or not, clinical researchers deal with this same issue all the time.", "Customer cohorts are analogous to groups of patients starting treatment at different times. Here the \u201ctreatment\u201d is the time of customer acquisition and \u201cdeath\u201d is simply churn.", "Or, imagine if the \u201c2016 cohorts\u201d and \u201c2017 cohorts\u201d, rather than being year-grouped cohorts, were groups receiving different treatments in a clinical trial. We want to quantify differences in patient survival rates (customer retention) between the two groups.", "Pharmaceutical companies and other research outfits regularly contend with this. Patients start treatment at different times. Patients drop out of studies, by dying, but also by moving locations or deciding to stop taking the medication.", "This creates a host of missing data issues at the beginning, middle, and end of any patient\u2019s clinical test record, complicating analysis of effectiveness and safety.", "To solve this problem, in 1958, a mathematician, Edward Kaplan, and statistician, Paul Meier, jointly created the Kaplan-Meier estimator. Also called the product-limit estimator, the method effectively deals with the missing data issue, providing a more precise estimate of the probability of survival up to any point.", "The estimated probability of surviving up to any point is the cumulative probability of surviving each preceding time interval, calculated as the product of the preceding survival probabilities", "That strange formula above is simply multiplying a bunch of probabilities against one another to find the cumulative probability of survival at a certain point.", "Where do these probabilities come from? Directly from the data.", "KM says our best estimate of the probability of survival from one month to the next is exactly the weighted average retention rate for that month in our dataset (also called the maximum likelihood estimator in statistics parlance). So if in a group of cohorts we have 1000 customers from month one, of which 600 survive until month two, our best guess of the \u201ctrue\u201d probability of survival from month 1 to 2 is 60%.", "We do the same for the next month. Divide the number of customers that survived through month 3 by the number of customers who survived through month 2 to get the estimated probability of survival from month 2 to 3. If we don\u2019t have month 3 data for a cohort because it\u2019s only two months old, we exclude those customers from our calculations for month 3 survival.", "Repeat for as many cohorts / months as you have, excluding in each calculation any cohorts missing data for the current period. Then, to calculate the probability of survival through any given month, multiply the individual monthly (conditional) probabilities up through that month.", "Though a morbid thought, measuring patient survival is functionally equivalent to measuring customer retention, so we can easily transfer KM to customer cohort analysis!", "Let\u2019s make this clearer by applying the Kaplan-Meier estimator to our previous example.", "The probability of surviving month 1 is 69% (total customers alive in month 1 divided by total in month 0). The probability of surviving month 2, given a customer survived month 1, is 72% (total customers alive in month 2 divided by total in month 1, excluding the last cohort which is missing month 2 data). So the cumulative probability of surviving at least two months is 69% x 72% = 50%. Rinse, wash, and repeat for each subsequent month.", "Side-by-side comparison reveals the superiority of KM:", "What\u2019s great about KM is it leverages all the data we have, even the younger cohorts for whom we have fewer observations. For example, while the average of all the available cohorts at month 3 only uses the data for cohorts 1\u20133, due to its cumulative nature, the KM estimator effectively incorporates the improved early retention of the newer cohorts. This yields a 3-month retention estimate of 38%, which is higher than any of the cohorts we can actually measure at month 3.", "This is exactly what we want -cohorts 4 and 5 are both larger and better retaining than 1\u20133. Hence, it is likely that the 3-month retention rate for a random customer picked among these cohorts will exceed the historical average, as the customer will likely be in cohorts 4 or 5.", "Using all the data is also nice because it makes our estimates of the tail probabilities much more precise than if we could only rely on the data of customers who we retained that long.", "Kaplan-Meier curves also fixes the wonky behavior in the right tail of the retention curve by respecting a fundamental law of probability: cumulative probabilities can only decline as you multiply more numbers.", "This analysis could easily be extended. Let\u2019s go back to the 2016 vs 2017 example-we could run the Kaplan-Meier calculation on each respective group of cohorts and then compare the resulting survival curves, highlighting differences in expected retention between the two groups.", "While I won\u2019t cover it here, you can also calculate p-values, confidence intervals, and statistical significance tests for Kaplan-Meier curves. This lets you to make rigorous statements like \u201cthe improvement of cohort retention in 2018 relative to 2017 was statistically significant (at the 5% level)\u201d-cool stuff:", "Kaplan-Meier is a powerful tool for anyone who spends time analyzing customer cohort data. KM has been battle-tested in rigorous clinical trials-if anything it\u2019s surprising it hasn\u2019t caught on more among technology operators and investors.", "If you\u2019re a product manager, growth hacker, marketer, data scientist, investor, or anyone else who understands the deep importance of customer retention analysis, the Kaplan-Meier estimator should be a valuable weapon in your analytics arsenal.", "Follow me on Twitter for my thoughts on the business and economics of tech.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Partner @lightspeedvp Dev tools, infrastructure, and ML nerd. Soft spot for devs \u2764\ufe0f I write every few weeks @ http://whoisnnamdi.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F674a2dea3472&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conquer-cohort-analysis-674a2dea3472&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conquer-cohort-analysis-674a2dea3472&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conquer-cohort-analysis-674a2dea3472&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conquer-cohort-analysis-674a2dea3472&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----674a2dea3472--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----674a2dea3472--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@whoisnnamdi?source=post_page-----674a2dea3472--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@whoisnnamdi?source=post_page-----674a2dea3472--------------------------------", "anchor_text": "Nnamdi Iregbulem"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F998f40f0b740&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conquer-cohort-analysis-674a2dea3472&user=Nnamdi+Iregbulem&userId=998f40f0b740&source=post_page-998f40f0b740----674a2dea3472---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F674a2dea3472&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conquer-cohort-analysis-674a2dea3472&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F674a2dea3472&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conquer-cohort-analysis-674a2dea3472&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.forentrepreneurs.com/why-churn-is-critical-in-saas/?fbclid=IwAR3RmfnV8ek0lDyyWwEXdkHNJhJxXymIN-hJeuo32c3cYekTnQOgLvAryi4", "anchor_text": "radically impact revenue growth"}, {"url": "https://en.wikipedia.org/wiki/Kaplan%E2%80%93Meier_estimator", "anchor_text": "Kaplan-Meier estimator"}, {"url": "https://en.wikipedia.org/wiki/Edward_L._Kaplan", "anchor_text": "Edward Kaplan"}, {"url": "https://www.chicagotribune.com/news/ct-xpm-2011-08-18-ct-met-meier-obit-20110818-story.html", "anchor_text": "Paul Meier"}, {"url": "https://www.tandfonline.com/doi/abs/10.1080/01621459.1958.10501452", "anchor_text": "Kaplan-Meier estimator"}, {"url": "http://biostat.mc.vanderbilt.edu/wiki/pub/Main/ClinStat/km.lam.pdf", "anchor_text": "The core idea behind Kaplan-Meier"}, {"url": "https://towardsdatascience.com/a-gentle-introduction-to-maximum-likelihood-estimation-9fbff27ea12f", "anchor_text": "maximum likelihood estimator"}, {"url": "https://www.khanacademy.org/math/statistics-probability/probability-library/conditional-probability-independence/v/calculating-conditional-probability", "anchor_text": "conditional"}, {"url": "https://www.investopedia.com/terms/c/compound-probability.asp", "anchor_text": "fundamental law of probability"}, {"url": "https://math.unm.edu/~james/w4.pdf", "anchor_text": "p-values, confidence intervals, and statistical significance tests"}, {"url": "https://whoisnnamdi.com/how-to-conquer-cohort-analysis/?utm_source=medium&utm_medium=article&utm_campaign=launch", "anchor_text": "https://whoisnnamdi.com"}, {"url": "https://twitter.com/whoisnnamdi", "anchor_text": "Twitter"}, {"url": "https://medium.com/tag/startup?source=post_page-----674a2dea3472---------------startup-----------------", "anchor_text": "Startup"}, {"url": "https://medium.com/tag/venture-capital?source=post_page-----674a2dea3472---------------venture_capital-----------------", "anchor_text": "Venture Capital"}, {"url": "https://medium.com/tag/technology?source=post_page-----674a2dea3472---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/data-science?source=post_page-----674a2dea3472---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/saas?source=post_page-----674a2dea3472---------------saas-----------------", "anchor_text": "SaaS"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F674a2dea3472&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conquer-cohort-analysis-674a2dea3472&user=Nnamdi+Iregbulem&userId=998f40f0b740&source=-----674a2dea3472---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F674a2dea3472&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conquer-cohort-analysis-674a2dea3472&user=Nnamdi+Iregbulem&userId=998f40f0b740&source=-----674a2dea3472---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F674a2dea3472&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conquer-cohort-analysis-674a2dea3472&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----674a2dea3472--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F674a2dea3472&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conquer-cohort-analysis-674a2dea3472&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----674a2dea3472---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----674a2dea3472--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----674a2dea3472--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----674a2dea3472--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----674a2dea3472--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----674a2dea3472--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----674a2dea3472--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----674a2dea3472--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----674a2dea3472--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@whoisnnamdi?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@whoisnnamdi?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Nnamdi Iregbulem"}, {"url": "https://medium.com/@whoisnnamdi/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "260 Followers"}, {"url": "http://whoisnnamdi.com", "anchor_text": "http://whoisnnamdi.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F998f40f0b740&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conquer-cohort-analysis-674a2dea3472&user=Nnamdi+Iregbulem&userId=998f40f0b740&source=post_page-998f40f0b740--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa234bd4216b7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conquer-cohort-analysis-674a2dea3472&newsletterV3=998f40f0b740&newsletterV3Id=a234bd4216b7&user=Nnamdi+Iregbulem&userId=998f40f0b740&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}