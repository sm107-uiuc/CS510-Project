{"url": "https://towardsdatascience.com/creating-an-interactive-map-of-wildfire-data-using-folium-in-python-7d6373b6334a", "time": 1683018061.8792582, "path": "towardsdatascience.com/creating-an-interactive-map-of-wildfire-data-using-folium-in-python-7d6373b6334a/", "webpage": {"metadata": {"title": "Creating an interactive map of wildfire data using Folium in Python | by Martin Palkovic | Towards Data Science", "h1": "Creating an interactive map of wildfire data using Folium in Python", "description": "I\u2019ve been very interested in wildfires recently, as 2020 was a record year for them here in Colorado. Loosely continuing on with the theme of my first article, I wanted to do a project on wildfires\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/estimating-future-snowfall-in-denver-colorado-using-machine-learning-in-python-ada88a531001", "anchor_text": "first article", "paragraph_index": 0}, {"url": "https://www.kaggle.com/rtatman/188-million-us-wildfires", "anchor_text": "Kaggle dataset", "paragraph_index": 0}, {"url": "https://www.sciencebase.gov/catalog/item/5ee13de982ce3bd58d7be7e7", "anchor_text": "dataset", "paragraph_index": 0}, {"url": "http://kaggle.com", "anchor_text": "Kaggle", "paragraph_index": 0}, {"url": "https://pypi.org/project/geopandas/", "anchor_text": "GeoPandas", "paragraph_index": 1}, {"url": "https://pypi.org/project/folium/", "anchor_text": "Folium", "paragraph_index": 1}, {"url": "https://pypi.org/project/branca/", "anchor_text": "Branca", "paragraph_index": 1}, {"url": "https://sqlitebrowser.org/", "anchor_text": "DB Browser for SQLite", "paragraph_index": 4}, {"url": "https://palkovic.org/wp-content/uploads/2020/12/wildfires.html", "anchor_text": "here", "paragraph_index": 14}, {"url": "https://palkovic.org/wp-content/uploads/2020/12/USGS_wildfires.html", "anchor_text": "USGS map here", "paragraph_index": 14}, {"url": "https://github.com/SpinelLherzolite/Wildfire_Analysis", "anchor_text": "my Github repository", "paragraph_index": 14}], "all_paragraphs": ["I\u2019ve been very interested in wildfires recently, as 2020 was a record year for them here in Colorado. Loosely continuing on with the theme of my first article, I wanted to do a project on wildfires in the US. During my search for data, I found two awesome geospatial datasets to work with: a Kaggle dataset of points stored in a SQLite database containing records for 1.88 million wildfires from 1992 to 2015[1], and a United States Geological Survey (USGS) dataset of polygon data[2] of wildfires from 1878\u20132019, stored in a shapefile. In general, Kaggle, and US Government agencies are excellent data sources for projects. In this article, I\u2019ll show you how to make an interactive map of this data using open source software (Folium) in Python.", "For this project, you\u2019ll need GeoPandas, Folium and Branca (you also need Pandas and Numpy, but I assume you have those installed already \ud83d\ude03). If you do not have these libraries, pip install them from a Python command prompt or Jupyter Notebook:", "Here, I\u2019ll run through how to plot up points in Folium from the Kaggle dataset. As the data is in a SQLite database, my workflow will be to read the table of interest from the database in to a Pandas dataframe, clean the data up a bit, and then plot the data in Folium for visual analysis.", "First, import the necessary libraries, and establish a connection to the sqlite database using sqlite3:", "Then, use the Pandas method \u2018read_sql_query\u2019 with a simple SQL statement to select all rows from the \u2018Fires\u2019 table. To know which table you are interested in for an analysis, I recommend using DB Browser for SQLite to briefly analyze the database before making this function call.", "Next, I create a new dataframe with only the columns I\u2019m interested in. Note that alternatively, you could have done this during the last step with a longer SQL statement:", "df.shape tells us that this dataset has 1,880,465 rows \u2014 displaying this much data on a map will surely be way too much information. So, I decided to create a new dataframe that only contains fires greater than 1000 acres:", "This new dataset is only a fraction of the size of the original 1.88 million, containing 11,087 wildfires. Now, we\u2019re ready to make the map! Note that \u2018map\u2019 is a Python keyword, so it\u2019s common practice to store the Folium map in a variable \u2018m\u2019 , and call \u2018m\u2019 to display the map when you\u2019re ready. When dealing with points data, create a variable for each \u2018feature group\u2019 that you want to have different characteristics for. You\u2019ll also be able to turn the layer on/off independently from the other layers. I then iterate over each row in the dataframe, and use if statements to populate each of those feature groups.", "Here\u2019s what the finished map will look like. You can hover and pan around the map to view the wildfires. I used fire acreage as a function of the natural logarithm for the marker size (radius) keyword argument, which makes smaller fires appear as smaller circles and larger fires appear as larger circles. Smaller fires are colored in yellow, while bigger fires are colored in red:", "I expected to see many fires in the western US. However, one thing that surprised me in this dataset was the amount of wildfires that have occurred in Florida and southern Georgia, including the ~309,000 acre Honey Prairie fire in 2011, started by lightning (Fig. 1).", "The USGS data comes in a shapefile. We can use GeoPandas to read in the shapefile:", "For this analysis, I\u2019m only plotting wildfires greater than 100,000 acres. The reason I do this is because 65,845 polygons generates way too large of a file \u2014 even with only wildfires > 100,000 acres (280 polygons), this is still going to be a large html file as our final product. The proper way to deal with this much data would probably be to have the web map pull the data directly from a SQL database. Perhaps I will write about that in a future blog post \ud83d\ude03.", "Next, let\u2019s import Branca colormap to generate a linear colormap for our polygons. I scaled the colormap from the size of the smallest fire to the 75th percentile of fire size (\u2018Acres\u2019). This way, the largest 25% of wildfires will all be colored red, while most of the fires (smallest 75%) will exhibit a wide range of colors. I also defined a quick function to reverse the colormap. To view all available colormap options, call \u2018cm.linear\u2019.", "Now we\u2019re ready to plot up the polygons. For the colormap, you\u2019ll need to make a dictionary with \u2018FireName\u2019 as the keys and \u2018Acres\u2019 as the values. I use the dictionary values as an argument in the lambda function for the variable \u2018map colors\u2019, and then pass \u2018map_colors\u2019 as a keyword argument for the style function in the GeoJson folium method.", "You can view the full interactive Kaggle map here, the full interactive USGS map here, or view/download both the maps and notebooks on my Github repository. Note that the USGS map may load slowly in the link above on palkovic.org.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Geoscientist turned Data Engineer, Avid mountain biker and DIYer"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7d6373b6334a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-an-interactive-map-of-wildfire-data-using-folium-in-python-7d6373b6334a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-an-interactive-map-of-wildfire-data-using-folium-in-python-7d6373b6334a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-an-interactive-map-of-wildfire-data-using-folium-in-python-7d6373b6334a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-an-interactive-map-of-wildfire-data-using-folium-in-python-7d6373b6334a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----7d6373b6334a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7d6373b6334a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://martinp303.medium.com/?source=post_page-----7d6373b6334a--------------------------------", "anchor_text": ""}, {"url": "https://martinp303.medium.com/?source=post_page-----7d6373b6334a--------------------------------", "anchor_text": "Martin Palkovic"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6c29787b0cc8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-an-interactive-map-of-wildfire-data-using-folium-in-python-7d6373b6334a&user=Martin+Palkovic&userId=6c29787b0cc8&source=post_page-6c29787b0cc8----7d6373b6334a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7d6373b6334a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-an-interactive-map-of-wildfire-data-using-folium-in-python-7d6373b6334a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7d6373b6334a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-an-interactive-map-of-wildfire-data-using-folium-in-python-7d6373b6334a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@rs2photography?utm_source=medium&utm_medium=referral", "anchor_text": "Ross Stone"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/estimating-future-snowfall-in-denver-colorado-using-machine-learning-in-python-ada88a531001", "anchor_text": "first article"}, {"url": "https://www.kaggle.com/rtatman/188-million-us-wildfires", "anchor_text": "Kaggle dataset"}, {"url": "https://www.sciencebase.gov/catalog/item/5ee13de982ce3bd58d7be7e7", "anchor_text": "dataset"}, {"url": "http://kaggle.com", "anchor_text": "Kaggle"}, {"url": "https://pypi.org/project/geopandas/", "anchor_text": "GeoPandas"}, {"url": "https://pypi.org/project/folium/", "anchor_text": "Folium"}, {"url": "https://pypi.org/project/branca/", "anchor_text": "Branca"}, {"url": "https://sqlitebrowser.org/", "anchor_text": "DB Browser for SQLite"}, {"url": "https://palkovic.org/wp-content/uploads/2020/12/wildfires.html", "anchor_text": "here"}, {"url": "https://palkovic.org/wp-content/uploads/2020/12/USGS_wildfires.html", "anchor_text": "USGS map here"}, {"url": "https://github.com/SpinelLherzolite/Wildfire_Analysis", "anchor_text": "my Github repository"}, {"url": "https://www.kaggle.com/rtatman/188-million-us-wildfires", "anchor_text": "https://www.kaggle.com/rtatman/188-million-us-wildfires"}, {"url": "https://doi.org/10.5066/P9Z2VVRT", "anchor_text": "https://doi.org/10.5066/P9Z2VVRT"}, {"url": "https://medium.com/tag/python?source=post_page-----7d6373b6334a---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/folium?source=post_page-----7d6373b6334a---------------folium-----------------", "anchor_text": "Folium"}, {"url": "https://medium.com/tag/gis?source=post_page-----7d6373b6334a---------------gis-----------------", "anchor_text": "GIS"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7d6373b6334a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-an-interactive-map-of-wildfire-data-using-folium-in-python-7d6373b6334a&user=Martin+Palkovic&userId=6c29787b0cc8&source=-----7d6373b6334a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7d6373b6334a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-an-interactive-map-of-wildfire-data-using-folium-in-python-7d6373b6334a&user=Martin+Palkovic&userId=6c29787b0cc8&source=-----7d6373b6334a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7d6373b6334a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-an-interactive-map-of-wildfire-data-using-folium-in-python-7d6373b6334a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7d6373b6334a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F7d6373b6334a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-an-interactive-map-of-wildfire-data-using-folium-in-python-7d6373b6334a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----7d6373b6334a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----7d6373b6334a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----7d6373b6334a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7d6373b6334a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7d6373b6334a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7d6373b6334a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7d6373b6334a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7d6373b6334a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7d6373b6334a--------------------------------", "anchor_text": ""}, {"url": "https://martinp303.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://martinp303.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Martin Palkovic"}, {"url": "https://martinp303.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "84 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6c29787b0cc8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-an-interactive-map-of-wildfire-data-using-folium-in-python-7d6373b6334a&user=Martin+Palkovic&userId=6c29787b0cc8&source=post_page-6c29787b0cc8--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F452c1d927203&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-an-interactive-map-of-wildfire-data-using-folium-in-python-7d6373b6334a&newsletterV3=6c29787b0cc8&newsletterV3Id=452c1d927203&user=Martin+Palkovic&userId=6c29787b0cc8&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}