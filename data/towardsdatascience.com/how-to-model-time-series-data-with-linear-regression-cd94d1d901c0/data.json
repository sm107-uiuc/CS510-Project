{"url": "https://towardsdatascience.com/how-to-model-time-series-data-with-linear-regression-cd94d1d901c0", "time": 1683005524.802529, "path": "towardsdatascience.com/how-to-model-time-series-data-with-linear-regression-cd94d1d901c0/", "webpage": {"metadata": {"title": "How To Model Time Series Data With Linear Regression | by Jiahui Wang | Towards Data Science", "h1": "How To Model Time Series Data With Linear Regression", "description": "Welcome back! This is the 4th post in the column to explore analysing and modeling time series data with Python code. In the previous three posts, we have covered fundamental statistical concepts\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/tagged/time-series-modeling", "anchor_text": "column", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/fundamental-statistics-7770376593b", "anchor_text": "fundamental statistical concepts", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/how-to-analyse-a-single-time-series-variable-11dcca7bf16c", "anchor_text": "analysis of a single time series variable", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/how-to-analyse-multiple-time-series-variable-5a8d3a242a2e", "anchor_text": "analysis of multiple time series variables", "paragraph_index": 0}, {"url": "https://sg.finance.yahoo.com/quote/AAPL/", "anchor_text": "Yahoo finance", "paragraph_index": 9}], "all_paragraphs": ["Welcome back! This is the 4th post in the column to explore analysing and modeling time series data with Python code. In the previous three posts, we have covered fundamental statistical concepts, analysis of a single time series variable, and analysis of multiple time series variables. From this post onwards, we will make a step further to explore modeling time series data using linear regression.", "We all learnt linear regression in school, and the concept of linear regression seems quite simple. Given a scatter plot of the dependent variable y versus the independent variable x, we can find a line that fits the data well. But wait a moment, how can we measure whether a line fits the data well or not? We cannot just visualize the plot and say a certain line fits the data better than the other lines, because different people may make different evaluation decisions. How can we quantify the evaluation?", "Ordinary least squares (OLS) is a method to quantify the evaluation of the different regression lines. According to OLS, we should choose the regression line that minimizes the sum of the squares of the differences between the observed dependent variable and the predicted dependent variable.", "We can find a line that best fits the observed data according to the evaluation standard of OLS. A general format of the line is:", "Here, \u03bc\u1d62 is the residual term that is the part of y\u1d62 that cannot be explained by x\u1d62. We can find this best regression line according to OLS requirement, but are we sure OLS generates the best estimator? One example is when there is an outlier, the \u2018best\u2019 regression line calculated according to OLS obviously does not fit the observed data well.", "2.1 Gauss-Markov Assumptions for Cross-sectional Data", "It turns out that only when certain assumptions are fulfilled, OLS calculates the best linear unbiased estimator (BLUE) that well estimates the population parameters. For cross-sectional data, Gauss-Marcov assumptions have six assumptions that ensure estimators calculated using OLS are BLUE. When any one of the Gauss-Marcov assumptions is violated, the sample parameters calculated using OLS no longer represent population parameters well.", "2.2 Gauss-Markov Assumptions for Time Series Data", "Time series data is slightly different from the cross-sectional data. For cross-sectional data, we are getting samples from a population and Gauss-Markov assumptions require the independent variable x and dependent variable y are both random variables. For time series data, we are getting samples from the same process, and we can no longer assume that the independent variable x is random variable. Thus, Gauss-Markov assumptions are stricter for time series data in terms of endogeneity, homoscedasticity, and no autocorrelation. Since x is no longer a random variable, the requirement needs to be fulfilled for all x\u2096 at all time points instead of just x\u1d62 at the time point as the residual term \u03bc\u1d62.", "Here, we continue to use the historical AAPL_price and SPY_price obtained from Yahoo finance. We scatter plot AAPL_price against SPY_price first. Then, to find to what extent AAPL_price can be explained by the overall stock market price, we will build linear regression model with SPY_price as the independent variable x and AAPL_price as the dependent variable y.", "Linear regression can be easily done with statsmodels library in Python.", "Together with the plot to visualize the OLS linear regression results, we can print a summary table, which looks like this:", "Why are we doing these complex hypothesis testing? How can we interpret these hypothesis testing results? We will answer these questions in the following sessions.", "3.2 Why Hypothesis Testing on Linear Regression?", "Since we are using samples to estimate the population, we need to evaluate how well the population parameters are estimated by the sample parameters. To conduct hypothesis testing on sample parameters, we need to know the sample parameter distribution.", "According to the central limit theorem, when the sample size is large enough, the sample distribution of \u03b2 is normal distribution:", "However, we do not know the exact population residual variance (\u03c3\u00b2). We can use sample residual variance (\u03c3\u02b0\u1d43\u1d57\u00b2) to estimate population residual variance, but this way sample \u03b2 distribution is no longer a normal distribution. It becomes t distribution instead:", "3.3 How To Interpret OLS Statistical Summary?", "Now it is time to come back to the OLS Regression Results table and try to interpret the summary results.", "The first session of the summary table has R\u00b2 and F-statistic, which measure the overall explainability of the independent variables over the dependent variable.", "R\u00b2 is the explained sum of squared errors divided by the total sum of squared errors. R\u00b2 lies in between 0 and 1, and a larger R\u00b2 indicates the dependent variable is better explained by the independent variables. R\u00b2 = explained sum of squared errors/total sum of squared errors. With more independent variables, the resulting R\u00b2 will be closer to 1, but at the same time, the more independent variables may result in overfitting. Adjusted R\u00b2 prefers fewer independent variables by penalizing the excess independent variables.", "F statistic tests against the joint effect of the independent variables. A low p-value of F statistic test indicates that the independent variables do not explain the dependent variable well.", "The second session of the summary table is the t-statistic which tests against each independent variable. Using the F-statistic and t-statistic together helps to check whether there is collinearity in the independent variables. A good F-statistic and poor t-statistic indicates collinearity.", "Durbin-Watson and Jarque-Bera reported in the third session of the summary table measures the stationarity and normality of the residual term, which will be discussed in detail in the following sessions.", "The residual term is important. By checking whether the Gauss-Marcov assumptions are fulfilled using the residual term, we can infer the quality of the linear regression.", "It is important to test if the residuals are normally distributed. If the residuals are not normally distributed, the residuals should not be used for z test or any other test derived from normal distribution, such as t test, F test and chi2 test.", "If we choose a significance level of 0.05, then all the three normality tests indicate the residual term does not follow normal distribution.", "Three commonly used statistical testing for heteroscedasticity are Goldfeld-Quandt, Breusch-Pagan, White test. In the same sequence, more general homogeneity is tested.", "If we choose a significance level of 0.05, then all the three normality tests indicate the residual term does not follow normal distribution.", "Durbin-Watson test detects autocorrelation of the residual term with lag of 1, while Breusch-Godfrey test detects autocorrelation of the residual term with lag of N, depending on the setting in the test.", "Both Durbin-Watson and Breusch-Godfrey tests indicate there is autocorrelation of the residual term with lag of 1. When Durbin-Watson statistic is 2, there is no autocorrelation. When Durbin-Watson statistic is towards 0, there is positive autocorrelation.", "When the Gauss-Marcov assumptions are violated, the estimators calculated from the samples are no longer BLUE. The following table shows how violation of Gauss-Marcov assumptions affects the linear regression quality.", "To account for heteroscedastic error, Weighted Least Squares (WLS) can be used. WLS transforms the independent variable and the dependent variable, so that OLS remains BLUE after the transformation.", "To account for both heteroscedastic error and serial correlated error, Generalized Least Squares (GLS) can be used. GLS transforms the independent variable and the dependent variable in a more complex way than WLS, so that OLS remains BLUE after the transformation.", "In this post, we learnt that OLS generates good estimators only when Gauss-Marcov assumptions are fulfilled. Thus, after linear regression, it is always important to check the residual terms to ensure the Gauss-Marcov assumptions are not violated. Luckily, using the statsmodels library in Python, many statistical tests are automatically conducted during the linear regression. A simple print of the OLS linear regression summary table enables us to quickly evaluate the quality of the linear regression. If there is violation of the Guass-Marcov assumptions, further solutions of WLS and GLS are also available to transform the independent variable and dependent variable, so that OLS remains BLUE.", "Hope you have enjoyed learning time series data modeling using linear regression!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fcd94d1d901c0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-data-with-linear-regression-cd94d1d901c0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-data-with-linear-regression-cd94d1d901c0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-data-with-linear-regression-cd94d1d901c0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-data-with-linear-regression-cd94d1d901c0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----cd94d1d901c0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cd94d1d901c0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@jhwang1992m?source=post_page-----cd94d1d901c0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jhwang1992m?source=post_page-----cd94d1d901c0--------------------------------", "anchor_text": "Jiahui Wang"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4037e6e33535&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-data-with-linear-regression-cd94d1d901c0&user=Jiahui+Wang&userId=4037e6e33535&source=post_page-4037e6e33535----cd94d1d901c0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcd94d1d901c0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-data-with-linear-regression-cd94d1d901c0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcd94d1d901c0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-data-with-linear-regression-cd94d1d901c0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/time-series-modeling", "anchor_text": "Exploring Time Series Modeling"}, {"url": "https://unsplash.com/@tangib?utm_source=medium&utm_medium=referral", "anchor_text": "tangi bertin"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/tagged/time-series-modeling", "anchor_text": "column"}, {"url": "https://towardsdatascience.com/fundamental-statistics-7770376593b", "anchor_text": "fundamental statistical concepts"}, {"url": "https://towardsdatascience.com/how-to-analyse-a-single-time-series-variable-11dcca7bf16c", "anchor_text": "analysis of a single time series variable"}, {"url": "https://towardsdatascience.com/how-to-analyse-multiple-time-series-variable-5a8d3a242a2e", "anchor_text": "analysis of multiple time series variables"}, {"url": "https://sg.finance.yahoo.com/quote/AAPL/", "anchor_text": "Yahoo finance"}, {"url": "https://medium.com/tag/python?source=post_page-----cd94d1d901c0---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/statistics?source=post_page-----cd94d1d901c0---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/programming?source=post_page-----cd94d1d901c0---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/data-science?source=post_page-----cd94d1d901c0---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/time-series-modeling?source=post_page-----cd94d1d901c0---------------time_series_modeling-----------------", "anchor_text": "Time Series Modeling"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcd94d1d901c0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-data-with-linear-regression-cd94d1d901c0&user=Jiahui+Wang&userId=4037e6e33535&source=-----cd94d1d901c0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcd94d1d901c0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-data-with-linear-regression-cd94d1d901c0&user=Jiahui+Wang&userId=4037e6e33535&source=-----cd94d1d901c0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcd94d1d901c0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-data-with-linear-regression-cd94d1d901c0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cd94d1d901c0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fcd94d1d901c0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-data-with-linear-regression-cd94d1d901c0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----cd94d1d901c0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----cd94d1d901c0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----cd94d1d901c0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----cd94d1d901c0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----cd94d1d901c0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----cd94d1d901c0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----cd94d1d901c0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----cd94d1d901c0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----cd94d1d901c0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jhwang1992m?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jhwang1992m?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Jiahui Wang"}, {"url": "https://medium.com/@jhwang1992m/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "873 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4037e6e33535&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-data-with-linear-regression-cd94d1d901c0&user=Jiahui+Wang&userId=4037e6e33535&source=post_page-4037e6e33535--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F5bfa0b9f9a63&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-time-series-data-with-linear-regression-cd94d1d901c0&newsletterV3=4037e6e33535&newsletterV3Id=5bfa0b9f9a63&user=Jiahui+Wang&userId=4037e6e33535&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}