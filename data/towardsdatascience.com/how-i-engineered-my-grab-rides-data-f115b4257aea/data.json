{"url": "https://towardsdatascience.com/how-i-engineered-my-grab-rides-data-f115b4257aea", "time": 1683011270.134429, "path": "towardsdatascience.com/how-i-engineered-my-grab-rides-data-f115b4257aea/", "webpage": {"metadata": {"title": "Engineered My Grab Rides Data ETL | Towards Data Science", "h1": "How I Engineered My Grab Rides Data", "description": "A serverless approach to extract, transform, and load data from your emails receipts directly into your data warehouse using AWS service in as a stream"}, "outgoing_paragraph_urls": [{"url": "https://hub.grab.com/rides", "anchor_text": "https://hub.grab.com/", "paragraph_index": 10}, {"url": "https://www.certmetrics.com/amazon/public/badge.aspx?t=c&d=2017-12-28&i=1&ci=AWS00296207", "anchor_text": "AWS Solution Architect", "paragraph_index": 12}], "all_paragraphs": ["As an expat in Malaysia, I needed to use the available transportation facilities to move around the country. The public transportation facilities in Malaysia are very good indeed, as long as you stay nearby them. By default, it will be a place that is more expensive than in further areas.", "My problem was that the route from my workplace and the affordable housing area was a little bit far from public transportation. So, I needed to use a taxi or walk for 30 minutes. Walking in Malaysia is good, as long as it is not raining (It is always raining in Kuala Lumpur).", "As a tech guy, I directly decided to use the available technology to solve my problem, and there is nothing more helpful in this situation than the ridesharing services.", "I arrived in Malaysia 2016, and at that time there were only two service providers for the ridesharing services, Uber and Grab.", "For me, both were new\u2026 and a few factors in my consideration:", "So, my criteria in the selection process were simple and all based on my situation as a new foreigner working for a small IT company that did not provide flexible working hours. That\u2019s right, I went to the office during the morning rush hours and left in the evening rush hours. (Dear CEOs, that makes your employees stressed!)", "There are a few reasons that led to my decision to prefer Grab over Uber during my stay in Malaysia. That does not mean that Uber was bad or anything, but my lifestyle and my persona as a customer were more related to Grab than Uber.", "I answered my main choice criteria, and that showed why I preferred Grab over Uber at that time\u2026 until Grab bought Uber\u2019s license in Malaysia! After that, the situation was totally different\u2026 There is no competition or benchmarking at all\u2026 Grab controls everything\u2026", "Now, after four years of living in Malaysia, with an average daily use of Grab Ride service, I have enough data to understand my spending on transportation.", "Unfortunately, Grab doesn\u2019t provide a report about your trips and expenses together in a direct way, it just sends you a receipt for your recent trip, but they don\u2019t send a weekly or monthly summary of your usage and spending\u2026 So, if you want to know how much in total you spent on Grab Rides services, there is no direct way to have it.", "There used to be one way to know your trip\u2019s details in the last 179 days (the last 6 months) from https://hub.grab.com/ which allows you to check and download your latest trips\u2026 So, if you were aware of that website, you could get a good insight into your expenses\u2026 Grab no longer provides this service at the time of writing this article. I tried to use the same website in 2020, but it is no longer possible. It redirects me to create a business account (which I already have) and shows summary inside the app itself.", "But that was not my way to get the data\u2026", "Part of my job as a Data Engineer is finding a smart way to collect data that is required for the Analysis process. Real-life data is scattered everywhere, and not easy to be extracted and be used in a direct format. Add to that my passion for Solution Architecture (I am a certified AWS Solution Architect \u2014 which I studied as a hobby in the beginning. Never worked for a company that uses AWS services, self-taught)", "The key point to collect my Grab trips data was my email. I connected my email account with my Grab account, so I received emails for most of the activities I completed using the Grab app.", "As long as I receive a receipt in my email, I can process all the emails to extract the data of my transportation since the first trip until now. The email usually contains:", "There are two ways to do it, batching and streaming.", "Streaming is a more real-time process to have more insights about what you are tracking. For Data Engineers, having a streaming pipeline is always a higher level than having scheduled patch jobs. After I implemented the patching technique, I decided to convert it all to a serverless streaming process using AWS services.", "I redirect this email To AWS SES (Simple Email Service)", "The email will be delivered to a storage bucket under S3 (Simple Storage Service)", "When a new email file added to the bucket, a Lambda function got triggered to process that file", "Lambda (Serverless Function) will parse the email file, and it will extract all the data.", "Then Lambda function stores this data in DynamoDB table (or any RDP if you want).", "Then the visualization tool or the reporting tool gets this data from the database table and visualizes it in my dashboard.", "Charts always give the big picture of what you want to know. Business analysts always deliver charts to deliver aggregated information. One picture is worth more than a million words.", "Here is a representation of the trip from my workplace to my apartment during the first half of the year in 2017.", "Here is a representation of the same trip from my workplace to my apartment during the first half of the year in 2018.", "You can notice that the pickup point service enhanced and became more accurate compared to 2017, and that was noticeable as we became less struggling in finding the driver.", "Here is my total spending for a whole year in 2017.", "Here is my total spending for a whole year in 2018.", "And my total spending for a whole year in 2019.", "There are a lot of decisions that you can make easily when you review and check your spending on a long run:", "Is it really a win-win situation?", "How much am I paying more now compared to the same quarter last year?", "How much the fare changed by the time?", "During that time, Grab changed their email format multiple times. That required me to update my Lambda function code multiple times and redeploy it to handle the old and the new format. All Data Engineers can relate; when the source schema changes you expect some mismatching and errors.", "Of course, I started with the batching. I downloaded the emails and processed them on my local machine.", "Then I created a Chrome Extension, which extracts the data directly from the email. The extension then sent an API request to AWS APIGateway, which redirected the data to Lambda function. Lambda then inserted the data to DynamoDB.", "That was not dynamic, as I needed to open the mail and run the extension to parse the email and confirm sending the data to the endpoint.", "I started my streaming process to store the data into a DynamoDB table. The decision was based on how simple it is to create a table on DynamoDB and use the boto library to ingest data into it. But, after a few months of adding data to the table, I regretted using it for this application, especially when I was retrieving the data. I know the schema, I know what I wanted to store, and I had full control over it, that all means a rational database should be better. I think Aurora Serverless should be a better choice.", "The data extraction process is not an easy process. The data around us usually not designed to be extracted but to be presented. When the Data Engineer starts his\\her job, there are questions that required answers:", "Answering these questions will lead to the next level of questions, which are focused on the Architecture of his\\her solution:", "There are always more questions that will appear in your way, which will make your journey more fun. Enjoy the Data journey.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff115b4257aea&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-engineered-my-grab-rides-data-f115b4257aea&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-engineered-my-grab-rides-data-f115b4257aea&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-engineered-my-grab-rides-data-f115b4257aea&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-engineered-my-grab-rides-data-f115b4257aea&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f115b4257aea--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f115b4257aea--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@selsaber?source=post_page-----f115b4257aea--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@selsaber?source=post_page-----f115b4257aea--------------------------------", "anchor_text": "Soliman ElSaber"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F73f7c61e6f99&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-engineered-my-grab-rides-data-f115b4257aea&user=Soliman+ElSaber&userId=73f7c61e6f99&source=post_page-73f7c61e6f99----f115b4257aea---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff115b4257aea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-engineered-my-grab-rides-data-f115b4257aea&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff115b4257aea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-engineered-my-grab-rides-data-f115b4257aea&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@kmuza?utm_source=medium&utm_medium=referral", "anchor_text": "Carlos Muza"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://hub.grab.com/rides", "anchor_text": "https://hub.grab.com/"}, {"url": "https://www.certmetrics.com/amazon/public/badge.aspx?t=c&d=2017-12-28&i=1&ci=AWS00296207", "anchor_text": "AWS Solution Architect"}, {"url": "https://medium.com/tag/data-engineering?source=post_page-----f115b4257aea---------------data_engineering-----------------", "anchor_text": "Data Engineering"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----f115b4257aea---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/aws?source=post_page-----f115b4257aea---------------aws-----------------", "anchor_text": "AWS"}, {"url": "https://medium.com/tag/chrome-extension?source=post_page-----f115b4257aea---------------chrome_extension-----------------", "anchor_text": "Chrome Extension"}, {"url": "https://medium.com/tag/grab?source=post_page-----f115b4257aea---------------grab-----------------", "anchor_text": "Grab"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff115b4257aea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-engineered-my-grab-rides-data-f115b4257aea&user=Soliman+ElSaber&userId=73f7c61e6f99&source=-----f115b4257aea---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff115b4257aea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-engineered-my-grab-rides-data-f115b4257aea&user=Soliman+ElSaber&userId=73f7c61e6f99&source=-----f115b4257aea---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff115b4257aea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-engineered-my-grab-rides-data-f115b4257aea&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f115b4257aea--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff115b4257aea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-engineered-my-grab-rides-data-f115b4257aea&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f115b4257aea---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f115b4257aea--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f115b4257aea--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f115b4257aea--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f115b4257aea--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f115b4257aea--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f115b4257aea--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f115b4257aea--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f115b4257aea--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@selsaber?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@selsaber?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Soliman ElSaber"}, {"url": "https://medium.com/@selsaber/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "221 Followers"}, {"url": "https://www.credential.net/profile/solimanelsaber/wallet", "anchor_text": "https://www.credential.net/profile/solimanelsaber/wallet"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F73f7c61e6f99&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-engineered-my-grab-rides-data-f115b4257aea&user=Soliman+ElSaber&userId=73f7c61e6f99&source=post_page-73f7c61e6f99--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7737115969f8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-engineered-my-grab-rides-data-f115b4257aea&newsletterV3=73f7c61e6f99&newsletterV3Id=7737115969f8&user=Soliman+ElSaber&userId=73f7c61e6f99&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}