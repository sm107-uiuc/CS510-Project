{"url": "https://towardsdatascience.com/learning-sql-the-hard-way-4173f11b26f1", "time": 1683001840.366414, "path": "towardsdatascience.com/learning-sql-the-hard-way-4173f11b26f1/", "webpage": {"metadata": {"title": "Learning SQL the Hard Way. By writing it | by Rahul Agarwal | Towards Data Science", "h1": "Learning SQL the Hard Way", "description": "And that seems correct to me in every sense of the world. While we feel much more accomplished creating models and coming up with the different hypotheses, the role of data munging can\u2019t be\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/minimal-pandas-subset-for-data-scientists-6355059629ae", "anchor_text": "Pandas", "paragraph_index": 5}, {"url": "https://towardsdatascience.com/the-hitchhikers-guide-to-handle-big-data-using-spark-90b9be0fe89a", "anchor_text": "Spark", "paragraph_index": 5}, {"url": "https://dev.mysql.com/doc/sakila/en/sakila-structure.html", "anchor_text": "Sakila Sample Database", "paragraph_index": 15}, {"url": "https://coursera.pxf.io/QOvEY9", "anchor_text": "SQL for Data Science", "paragraph_index": 49}, {"url": "https://medium.com/@rahul_agarwal", "anchor_text": "Medium", "paragraph_index": 50}, {"url": "http://eepurl.com/dbQnuX", "anchor_text": "blog", "paragraph_index": 50}, {"url": "https://twitter.com/MLWhiz", "anchor_text": "@mlwhiz", "paragraph_index": 50}, {"url": "http://ko-fi.com/rahulagarwal", "anchor_text": "ko-fi.com/rahulagarwal", "paragraph_index": 53}], "all_paragraphs": ["A Data Scientist who doesn\u2019t know SQL is not worth his salt.", "And that seems correct to me in every sense of the world. While we feel much more accomplished creating models and coming up with the different hypotheses, the role of data munging can\u2019t be understated.", "And with the ubiquitousness of SQL when it comes to ETL and data preparation tasks, everyone should know a little bit of it to at least be useful.", "I still remember the first time I got my hands on SQL. It was the first language (if you can call it that) I learned. And it made an impact on me. I was able to automate things, and that was something I hadn\u2019t thought of before.", "Before SQL, I used to work with Excel \u2014 VLOOKUPs and pivots. I was creating reporting systems, doing the same work again and again. SQL made it all go away. Now I could write a big script, and everything would be automated \u2014 all the crosstabs and analysis generated on the fly.", "That is the power of SQL. And though you could do anything that you do with SQL using Pandas, you still need to learn SQL to deal with systems like HIVE, Teradata and sometimes Spark too.", "This post is about installing SQL, explaining SQL and running SQL.", "Now the best way to learn SQL is to get your hands dirty with it(Same I can say for any other thing you want to learn)", "I will advise against using the web-based recipes like w3schools/tutorialspoint for SQL since you cannot use your data with those.", "Also, I will advise you to go with learning the MySQL flavour of SQL as it is Open Source, easy to set up in your laptop and has a great client named MySQL Workbench to make your life easier.", "As we have gotten these points out of the way, here is a step by step to get set up with MySQL:", "In this tutorial, however, I am going to use the Sakila Movie database which you can install using the following steps:", "Once you do that, you will see a new database added in the SCHEMA list.", "Now we have some data with us. Finally.", "Let\u2019s start with writing some queries.", "You can try to understand the Schema of the Sakila Database in detail using the Sakila Sample Database document.", "Now the basic syntax of any SQL query is:", "There are four elements in this query:", "The above query will help you with most of the simple things you want to find in a database.", "For example, we can find out how differently censored rated movies are timed differently using:", "You should now come up with some questions of your own.", "For Example, you can try to find out all the movies released in the year 2006. Or try to find all of the movies which have a rating of PG and length greater than 50 minutes.", "You can do this by running the following on MySQL Workbench:", "Till now, we have learned how we can work with single tables. But in reality, we need to work with multiple tables.", "So, the next thing we would want to learn is how to do joins.", "Now joins are an integral and an essential part of a MySQL Database and understanding them is necessary. The below visual talks about most of the joins that exist in SQL. I usually end up using just the LEFT JOIN, and INNER JOIN, so I will start with LEFT JOIN.", "The LEFT JOIN is used when you want to keep all the records in the left table(A) and merge B on the matching records. The records of A where B is not merged are kept as NULL in the resulting table. The MySQL Syntax is:", "Here we select col1 and col2 from table A and col3 and col4 from table B. We also specify which common columns to join on using the ON statement.", "The INNER JOIN is used when you want to merge A and B and only to keep the common records in A and B.", "To give you a use case lets go back to our Sakila database. Suppose we wanted to find out how many copies of each movie we do have in our inventory. You can get that by using:", "Does this result look interesting? Not really. IDs don\u2019t make sense to us humans, and if we can get the names of the movies, we would be able to process the information better. So we snoop around and see that the table film has got film_id as well as the title of the film.", "So we have all the data, but how do we get it in a single view?", "Come Joins to the rescue. We need to add the title to our inventory table information. We can do this using \u2014", "This will add another column to your inventory table information. As you might notice some films are in the film table that we don\u2019t have in the inventory. We used a left join since we wanted to keep whatever is in the inventory table and join it with its corresponding counterpart in the film table and not everything in the film table.", "So now we have got the title as another field in the data. This is just what we wanted, but we haven\u2019t solved the whole puzzle yet. We want title and num_copies of the title in the inventory.", "But before we can go any further, we should understand the concept of inner queries first.", "Now you have a query that can give you the above result. One thing you can do is create a new table using", "And then use a simple group by operation using:", "But this is one step too many. And we have to create a temporary table that ends up taking space on the system.", "SQL provides us with the concept of the inner query just for these sort of issues. You can instead write all this in a single query using:", "What we did here was sandwich our first query in parenthesis and gave that table an alias temp. We then did the group by operations considering temp just as we would consider any table. It is because of the inner query concept that we can write SQL queries that span multiple pages at some times.", "HAVING is yet another SQL construct that is useful to understand. So we have got the results, and now we want to get the films whose number of copies are less than or equal to 2.", "We can do this by using the inner query concept and the WHERE clause. Here we nest one inner query inside another. Pretty neat.", "Or, we can use the HAVING Clause.", "The HAVING clause is used to filter on the final aggregated result. It is different from WHERE as where is used to filter the table that is used in the FROM statement. HAVING filters the final result after the GROUP BY happens.", "There are a lot of ways to do the same thing with SQL as you have already seen in the above example. We need to try to come up with the least verbose and thus HAVING makes sense in many cases.", "If you can follow this far, you already know more SQL than most people.", "Try to come up with your questions on your dataset and try to find out the answers you have using SQL.", "Some questions I could provide for a start:", "This was just a simple tutorial on how to use SQL. If you want to learn more about SQL, I would like to call out an excellent course on SQL for Data Science from the University of California. Do check it out as it talks about other SQL concepts like UNION, String Manipulation, functions, Date Handling, etc.", "I am going to be writing more beginner-friendly posts in the future too. Follow me up at Medium or Subscribe to my blog to be informed about them. As always, I welcome feedback and constructive criticism and can be reached on Twitter @mlwhiz.", "Also, a small disclaimer \u2014 There might be some affiliate links in this post to relevant resources, as sharing knowledge is never a bad idea.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "4M Views. Bridging the gap between Data Science and Intuition. MLE@FB, Ex-WalmartLabs, Citi. Connect on Twitter @mlwhiz \u2615\ufe0f ko-fi.com/rahulagarwal"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4173f11b26f1&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearning-sql-the-hard-way-4173f11b26f1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearning-sql-the-hard-way-4173f11b26f1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearning-sql-the-hard-way-4173f11b26f1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearning-sql-the-hard-way-4173f11b26f1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4173f11b26f1--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4173f11b26f1--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mlwhiz.medium.com/?source=post_page-----4173f11b26f1--------------------------------", "anchor_text": ""}, {"url": "https://mlwhiz.medium.com/?source=post_page-----4173f11b26f1--------------------------------", "anchor_text": "Rahul Agarwal"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe8cce06956c9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearning-sql-the-hard-way-4173f11b26f1&user=Rahul+Agarwal&userId=e8cce06956c9&source=post_page-e8cce06956c9----4173f11b26f1---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4173f11b26f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearning-sql-the-hard-way-4173f11b26f1&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4173f11b26f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearning-sql-the-hard-way-4173f11b26f1&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=1246836", "anchor_text": "Pixabay"}, {"url": "https://towardsdatascience.com/minimal-pandas-subset-for-data-scientists-6355059629ae", "anchor_text": "Pandas"}, {"url": "https://towardsdatascience.com/the-hitchhikers-guide-to-handle-big-data-using-spark-90b9be0fe89a", "anchor_text": "Spark"}, {"url": "http://dev.mysql.com/downloads/mysql/", "anchor_text": "Download MySQL Community Server"}, {"url": "https://dev.mysql.com/downloads/workbench/", "anchor_text": "Download MySQL Workbench"}, {"url": "https://dev.mysql.com/doc/index-other.html", "anchor_text": "MySQL Documentation"}, {"url": "https://dev.mysql.com/doc/sakila/en/sakila-structure.html", "anchor_text": "Sakila Sample Database"}, {"url": "https://coursera.pxf.io/QOvEY9", "anchor_text": "SQL for Data Science"}, {"url": "https://medium.com/@rahul_agarwal", "anchor_text": "Medium"}, {"url": "http://eepurl.com/dbQnuX", "anchor_text": "blog"}, {"url": "https://twitter.com/MLWhiz", "anchor_text": "@mlwhiz"}, {"url": "https://medium.com/tag/sql?source=post_page-----4173f11b26f1---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/data-science?source=post_page-----4173f11b26f1---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----4173f11b26f1---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----4173f11b26f1---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/productivity?source=post_page-----4173f11b26f1---------------productivity-----------------", "anchor_text": "Productivity"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4173f11b26f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearning-sql-the-hard-way-4173f11b26f1&user=Rahul+Agarwal&userId=e8cce06956c9&source=-----4173f11b26f1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4173f11b26f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearning-sql-the-hard-way-4173f11b26f1&user=Rahul+Agarwal&userId=e8cce06956c9&source=-----4173f11b26f1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4173f11b26f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearning-sql-the-hard-way-4173f11b26f1&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4173f11b26f1--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4173f11b26f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearning-sql-the-hard-way-4173f11b26f1&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4173f11b26f1---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4173f11b26f1--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4173f11b26f1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4173f11b26f1--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4173f11b26f1--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4173f11b26f1--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4173f11b26f1--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4173f11b26f1--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4173f11b26f1--------------------------------", "anchor_text": ""}, {"url": "https://mlwhiz.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mlwhiz.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Rahul Agarwal"}, {"url": "https://mlwhiz.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "13.9K Followers"}, {"url": "http://ko-fi.com/rahulagarwal", "anchor_text": "ko-fi.com/rahulagarwal"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe8cce06956c9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearning-sql-the-hard-way-4173f11b26f1&user=Rahul+Agarwal&userId=e8cce06956c9&source=post_page-e8cce06956c9--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff41165c9f72f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearning-sql-the-hard-way-4173f11b26f1&newsletterV3=e8cce06956c9&newsletterV3Id=f41165c9f72f&user=Rahul+Agarwal&userId=e8cce06956c9&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}