{"url": "https://towardsdatascience.com/singapore-flat-price-predictor-6f74ed8da311", "time": 1682996486.2126458, "path": "towardsdatascience.com/singapore-flat-price-predictor-6f74ed8da311/", "webpage": {"metadata": {"title": "Singapore Flat Price Predictor. Predict Singapore Flat Price with\u2026 | by gannestweb | Towards Data Science", "h1": "Singapore Flat Price Predictor", "description": "Singapore has been chosen as one of the most expensive country by The Economist Intelligence Unit for the fifth year in a row. As one of the most expensive cities in the world, accommodation\u2026"}, "outgoing_paragraph_urls": [{"url": "https://data.gov.sg/dataset/resale-flat-prices", "anchor_text": "HDB Resale Prices data", "paragraph_index": 2}, {"url": "https://data.gov.sg/", "anchor_text": "online", "paragraph_index": 3}, {"url": "https://twitter.com/jeremyphoward?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor", "anchor_text": "Jeremy Howard", "paragraph_index": 33}, {"url": "https://www.fast.ai/", "anchor_text": "fastai", "paragraph_index": 33}, {"url": "https://github.com/huai99/Singapore-Flat-Price-Prediction", "anchor_text": "repository", "paragraph_index": 58}], "all_paragraphs": ["Singapore has been chosen as one of the most expensive country by The Economist Intelligence Unit for the fifth year in a row. As one of the most expensive cities in the world, accommodation constitutes a very big part of the expenses.", "In order to provide affordable housing for the general population in Singapore, Singapore government has been offering some public housing options in Singapore, more generally known as the HDB Flat.", "For this side project, I have taken the HDB Resale Prices data and trained a machine learning model to predict the flat resale price of Singapore.", "In line with the Smart Nation initiative, Singapore government has published a lot of Singapore data online and it is publicly available to access. Moreover, there are some nice APIs available for the developers to integrate with their application.", "The article is broken down into few sections. Below is an overview of the sections that I am covering:", "Without further ado, let\u2019s dive in and see how to create a flat price predictor yourself !", "Before starting in a machine learning project, it is important that we carry out some standard visualization procedures to understand our data. Only by understanding our data, we would know the right approach in cleaning and preprocessing our data.", "Below are the available columns in this data:", "Resale price would be the target label in this project, and the rest of the columns will form our feature matrix. Let\u2019s go on and plot some graph.", "We can infer from this graph that, the higher the floor area, the higher is the resale price of of the flat. By plotting distribution graph, we can spot if there are any outliers and remove them if they look too unusual.", "Besides that, we can also use boxplot to understand the distribution of our data. Below is a simple diagram of boxplot, and it is helpful in showing us the distribution of the target label given a particular feature.", "In the context of our project, boxplot can help us understand the distribution of the flat price among different flat type.", "Another important visualization that will help us understanding our features would be the correlation matrix:", "So what is the takeaway from this matrix? The color between floor area and the resale price are the lightest among other combinations. It means that floor area and resale price are highly correlated in a positive way \u2014 higher floor area, higher resale price.", "In contrast, toilet number and resale price have very low correlation, which means toilet number might not be very useful in predicting the resale price of the flat.", "The features that are available in this data set are considerably small. But, nothing stop us from creating more!", "Having more features is definitely going to help the machine learning model to learn the patterns of this data set.", "Some of the features that I think will be useful:", "2. Room number & toilet number. Based on the flat type that is given, I check from the HDB website and find out the number of rooms and toilets and create two more new features.", "3. Storey. The storey range features provided in the data is in a string format: 4 TO 6, 7 TO 9, which I think is sub-optimal because if your features are ordinal, you should convert the feature to number.", "The reason being, floor 7 is lower than floor 9, and modeling the feature as number will help the model to learn this relationship. If we leave the feature as string without any processing, the model will miss out this great information.", "So I create a random generator that will generate a number between the lowest storey and highest storey given in the dataset. Look at the example below to understand better:", "4. Sales Year & Month. The month originally given in the data set are in this format: 2018\u20134, so by breaking them up to \u2018year\u2019 and \u2018month\u2019 will allow the model to pick up the ordinal relationship.", "How effective are the newly created features in improving our model\u2019s performance? I will be running multiple experiments and do some comparison with the base model. I will cover that in the later section of Results.", "We would need to split our data into train and test set to validate the accuracy of our model before we actually push this model into production. Something important to note when creating our train test set:", "To produce a good train and test data set, we can use Stratified Sampling. Before we do stratified sampling, we need to decide a key feature that is important and would make sure that your train and test set distribution are similar based on this feature.", "For example, in our project, I have chosen location as the key feature to do stratified sampling. It is a good idea that the flat in train and test set are having a similar distribution in terms of location. Which means if your train set has 50% of flat in central, 30% of flat in west and 20% in east, you should maintain this ratio in your test set.", "A huge part of data science is about carrying out experiments. Creating new features, changing model, tuning hyper-parameters and so on. The effectiveness of all these activities need to be measured by running a lot of experiments.", "In this section, I am going to cover a few tips + tools that can help you to run your experiment more effectively.", "Mlflow is a platform to help you to streamline your machine learning development. There are multiple sub-projects under MLflow such as :", "In this project, I have used MLflow to track my experiment and log the model after training so that I can easily share it with others to reproduce my results. The snippet below shows the interactive UI provided by MLflow :", "It is a good practice to leave some descriptions regarding any changes or extra processing that you have done in the experiment. This will help you later during the analysis of the result.", "Use a smaller sample size for experiment", "I learnt this advice from an amazing instructor \u2014 Jeremy Howard. He is the founder of fastai, that carries the mission to make AI education free and accessible to anyone.", "It is an awesome free online course about machine learning. Do check out their courses if you are interested in getting your hands dirty and kick start your machine learning journey.", "So what does this actually mean? In the earlier section, we have explained about the train test split process so that we can get some feedback for our model. Now we can go one step further to create an even smaller sample from our training set, which is meant for experimenting.", "Why are we doing this? When we are designing our models or adding new features, we want to get quick feedback from all the activities that we are doing. Waiting 5\u201310 minutes to experiment on one thing is not going to be productive. Hence, having a smaller sample size, you can run your experiments faster, gain feedback and make changes.", "How small the sample size should be? Rules of thumbs \u2014 it should be small but representative enough that can help you run your experiment in less than 20 seconds and gain a good rough estimation on the results.", "Sklearn provide a lot of handy libraries that help us to create our model easily. You can create multiple models and run all of them in a single experiment, see the code below as an reference :", "The code might look very minimal, but it requires a great amount of knowledge in understanding the theory behind those models. For instance, you need to know what is the mathematical theory behind the model, what are the hyperparameters, where and when we should use this model.", "Each model deserve one whole article to explain the theory and mechanism behind it thoroughly. Look up the resources online, there are a ton of useful materials out there.", "This is a very useful techniques in machine learning in boosting up the accuracy of your overall model. What it does is to create a bunch of different classifiers (for instance: random forest, elasticnet, xgboost), and ensemble the results of these classifiers to improve the result.", "One simple and common ensemble technique that we could use is simply averaging the prediction of every classifier.", "You might be wondering how does it help? The rationale behind is that, different classifier is learning the pattern of the data set from different perspective. By gathering and averaging the results, we could see some performance gain.", "The ensemble techniques that I am using here is stacking. This is a slightly advanced technique compared to averaging the model. Nevertheless, what it did under the hood is very simple! Below is the simple architecture of stacking:", "We have multiple classifiers learning on the data and outputting many different predictions. Instead of averaging the predictions, we send it to a meta learner, which is another machine learning model to give us the final prediction.", "The meta learner is deciding the weights on the predictions made by the different classifiers. Some classifiers might perform better than the others, so the meta learner will optimize and find the best combination.", "As daunting as the whole process may sound, this actually requires a very minimal amount of codes as the heavy lifting is done by our awesome sklearn library !", "Time to see some results! But first we need to understand what are the metrics before analyzing the result.", "The metrics that we are using here is Root Mean Square Logarithmic Error (RMSLE). I believe most of you have heard and learnt Root Mean Square Error (RMSE) before. The difference between these two metrics are we apply log for the target value and the predict value before calculating the root mean square. See the equations below :", "Why are we using RMSLE instead of RMSE? By doing log, we are only looking at the relative difference/percentage difference between the real and predicted value.", "RMSE gives a very big penalization if the difference between the target value and predict value is numerically big. But RMSLE is looking at the percentage difference and give the same amount of loss score for both cases.", "In our project, the price of different flats varies on a different level, we would like all the errors to be treated on a percentage basis, and that is the main reason why RMSLE is used.", "The lower the loss score, the lower the difference between the target and predicted value, hence means better result. From the comparison above, we can know, among all the feature creations, creating the mapping of flat location to region is the most helpful.", "By combining all the extra features that we created, the overall improvement is quite significant. You can compare the result between the first column and last column to observe the improvement of the loss score.", "The data size that we use for performing all these experiments is only a very small subset of the data. We can run a full experiment (Using all the train data) and compare \u2018The most basic model\u2019 \u2014 Model A and \u2018The model with all the extra features\u2019 \u2014 Model B, to verify that our feature creation is actually helpful. See the results below:", "Model B are performing much better across all the models that we are using. So feature creation definitely helps a lot !", "I would like to highlight the best performing model among these two, which is the stacking classifier. The stacking classifier of the Model B is having a loss score 15% lower than Model A, which is an amazing improvement.", "In a nutshell, I have pretty much highlight the whole process of building a flat price predictor from scratch. You can download the source code from this GitHub repository.", "Besides of the machine learning code, I have also created a web application to perform real time prediction.", "The web application code is in the same repository and you can refer to them if you find it useful for your use case.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Software Engineer in the payment industry, Foodie and Deeply Interested in History, Psychology and Economics"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F6f74ed8da311&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingapore-flat-price-predictor-6f74ed8da311&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingapore-flat-price-predictor-6f74ed8da311&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingapore-flat-price-predictor-6f74ed8da311&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingapore-flat-price-predictor-6f74ed8da311&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----6f74ed8da311--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6f74ed8da311--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@gannestweb?source=post_page-----6f74ed8da311--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@gannestweb?source=post_page-----6f74ed8da311--------------------------------", "anchor_text": "gannestweb"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F65d58216b9a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingapore-flat-price-predictor-6f74ed8da311&user=gannestweb&userId=65d58216b9a9&source=post_page-65d58216b9a9----6f74ed8da311---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6f74ed8da311&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingapore-flat-price-predictor-6f74ed8da311&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6f74ed8da311&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingapore-flat-price-predictor-6f74ed8da311&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@peterng1618?utm_source=medium&utm_medium=referral", "anchor_text": "Peter Nguyen"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://data.gov.sg/dataset/resale-flat-prices", "anchor_text": "HDB Resale Prices data"}, {"url": "https://data.gov.sg/", "anchor_text": "online"}, {"url": "https://flowingdata.com/2008/02/15/how-to-read-and-use-a-box-and-whisker-plot/", "anchor_text": "Flowingdata"}, {"url": "https://unsplash.com/@kellysikkema?utm_source=medium&utm_medium=referral", "anchor_text": "Kelly Sikkema"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://twitter.com/jeremyphoward?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor", "anchor_text": "Jeremy Howard"}, {"url": "https://www.fast.ai/", "anchor_text": "fastai"}, {"url": "https://unsplash.com/@dhudson_creative?utm_source=medium&utm_medium=referral", "anchor_text": "Debby Hudson"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://commons.wikimedia.org/wiki/File:Stacking.png", "anchor_text": "Wikimedia commons"}, {"url": "https://github.com/huai99/Singapore-Flat-Price-Prediction", "anchor_text": "repository"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----6f74ed8da311---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/singapore?source=post_page-----6f74ed8da311---------------singapore-----------------", "anchor_text": "Singapore"}, {"url": "https://medium.com/tag/predictor?source=post_page-----6f74ed8da311---------------predictor-----------------", "anchor_text": "Predictor"}, {"url": "https://medium.com/tag/house-prices?source=post_page-----6f74ed8da311---------------house_prices-----------------", "anchor_text": "House Prices"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----6f74ed8da311---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6f74ed8da311&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingapore-flat-price-predictor-6f74ed8da311&user=gannestweb&userId=65d58216b9a9&source=-----6f74ed8da311---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6f74ed8da311&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingapore-flat-price-predictor-6f74ed8da311&user=gannestweb&userId=65d58216b9a9&source=-----6f74ed8da311---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6f74ed8da311&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingapore-flat-price-predictor-6f74ed8da311&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6f74ed8da311--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F6f74ed8da311&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingapore-flat-price-predictor-6f74ed8da311&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----6f74ed8da311---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----6f74ed8da311--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----6f74ed8da311--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----6f74ed8da311--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----6f74ed8da311--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----6f74ed8da311--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----6f74ed8da311--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----6f74ed8da311--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----6f74ed8da311--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@gannestweb?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@gannestweb?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "gannestweb"}, {"url": "https://medium.com/@gannestweb/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "64 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F65d58216b9a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingapore-flat-price-predictor-6f74ed8da311&user=gannestweb&userId=65d58216b9a9&source=post_page-65d58216b9a9--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe21f931870ee&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingapore-flat-price-predictor-6f74ed8da311&newsletterV3=65d58216b9a9&newsletterV3Id=e21f931870ee&user=gannestweb&userId=65d58216b9a9&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}