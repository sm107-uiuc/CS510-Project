{"url": "https://towardsdatascience.com/how-to-add-api-keys-to-your-aws-api-gateway-api-691bd17c5924", "time": 1683015994.445531, "path": "towardsdatascience.com/how-to-add-api-keys-to-your-aws-api-gateway-api-691bd17c5924/", "webpage": {"metadata": {"title": "How to add API Keys to Your AWS API Gateway API? | by Joos Korstanje | Towards Data Science", "h1": "How to add API Keys to Your AWS API Gateway API?", "description": "In this article, I will explain how to add a basic security level to APIs that have been made using AWS API Gateway. This will be done through adding tokens. Tokens are codes that you need to send\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/how-to-build-an-api-in-aws-using-aws-lambda-and-api-gateway-22a8dee7c8e1", "anchor_text": "he AWS API Gateway API made in this previous article", "paragraph_index": 2}], "all_paragraphs": ["In this article, I will explain how to add a basic security level to APIs that have been made using AWS API Gateway. This will be done through adding tokens.", "Tokens are codes that you need to send with an API request, and that work more or less like a password. If your token allows you to access the data, the API will send you the data. Else it will send you an error.", "To follow alongwith the example, you can use the AWS API Gateway API made in this previous article, which send back a randomly generated password. Or you can use your own AWS API directly.", "Go to the Usage Plans tab and click on Create. This will get you started with setting up a Usage Plan.", "You have to make a choice on how many requests your client can make. For my Basic Plan, I want to allow 100 requests per month. I allow 9 requests per second. I allow there to be a maximum of 100 requests at the same time, in a burst.", "You then need to add an API plus their stage to the Usage Plan as follows:", "You now have a Usage Plan that specifies limits on usage for API requests made by a user that has this Usage Plan. In order to pass this Usage Plan to your users / clients, you need an API Key associated with the Usage Plan. Let\u2019s do that now.", "Click on \u201cAdd API Key to Usage Plan\u201d. This will allow you to add API keys to the Usage Plan that you just created.", "Create a name and a description (can be anything) for the API key and let the API key be automatically generated:", "Then click on done. You now have a first API key associated with your access rules specified by your Usage Plan.", "Right now, we have allowed access with an API Key. But the access without an API Key is still working! We have to change that.", "Click on the Method Request to get in the following menu. A warning message is already waiting for you:", "Now you need to change \u201cAPI Key Required\u201d into \u201cTrue\u201d to make sure that the API accepts only requests with an API Key:", "Now to finalize the addition of an API Keys, you need to deploy your API for the changes to take effect.", "In the small example, we have only a prod stage, so we can deploy directly to prod:", "Now when testing out the API without specifying the API key, we get the correct 403 \u201cAccess Forbidden\u201d Response. The following Python code can be executed from a notebook to test this:", "In order to find your API Key, go to API Keys, select your customer1 API key and click on show. Copy and paste it in order to test out the API:", "In the Python code, you now need to pass the API key in the x-api-key header, as follows:", "And we get a password generated, just as we want, but now a developer is obliged to use an API Key!", "I hope this article was useful for you. Don\u2019t hesitate to stay tuned for more!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist \u2014 Machine Learning \u2014 R, Python, AWS, SQL"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F691bd17c5924&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-add-api-keys-to-your-aws-api-gateway-api-691bd17c5924&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-add-api-keys-to-your-aws-api-gateway-api-691bd17c5924&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-add-api-keys-to-your-aws-api-gateway-api-691bd17c5924&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-add-api-keys-to-your-aws-api-gateway-api-691bd17c5924&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----691bd17c5924--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----691bd17c5924--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@jooskorstanje?source=post_page-----691bd17c5924--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jooskorstanje?source=post_page-----691bd17c5924--------------------------------", "anchor_text": "Joos Korstanje"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8fa2918bdae8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-add-api-keys-to-your-aws-api-gateway-api-691bd17c5924&user=Joos+Korstanje&userId=8fa2918bdae8&source=post_page-8fa2918bdae8----691bd17c5924---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F691bd17c5924&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-add-api-keys-to-your-aws-api-gateway-api-691bd17c5924&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F691bd17c5924&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-add-api-keys-to-your-aws-api-gateway-api-691bd17c5924&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/hands-on-tutorials", "anchor_text": "Hands-on Tutorials"}, {"url": "https://unsplash.com/@glenncarstenspeters?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Glenn Carstens-Peters"}, {"url": "https://unsplash.com/s/photos/computer?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/how-to-build-an-api-in-aws-using-aws-lambda-and-api-gateway-22a8dee7c8e1", "anchor_text": "he AWS API Gateway API made in this previous article"}, {"url": "https://medium.com/tag/data-science?source=post_page-----691bd17c5924---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/aws?source=post_page-----691bd17c5924---------------aws-----------------", "anchor_text": "AWS"}, {"url": "https://medium.com/tag/programming?source=post_page-----691bd17c5924---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/cloud-computing?source=post_page-----691bd17c5924---------------cloud_computing-----------------", "anchor_text": "Cloud Computing"}, {"url": "https://medium.com/tag/hands-on-tutorials?source=post_page-----691bd17c5924---------------hands_on_tutorials-----------------", "anchor_text": "Hands On Tutorials"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F691bd17c5924&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-add-api-keys-to-your-aws-api-gateway-api-691bd17c5924&user=Joos+Korstanje&userId=8fa2918bdae8&source=-----691bd17c5924---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F691bd17c5924&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-add-api-keys-to-your-aws-api-gateway-api-691bd17c5924&user=Joos+Korstanje&userId=8fa2918bdae8&source=-----691bd17c5924---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F691bd17c5924&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-add-api-keys-to-your-aws-api-gateway-api-691bd17c5924&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----691bd17c5924--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F691bd17c5924&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-add-api-keys-to-your-aws-api-gateway-api-691bd17c5924&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----691bd17c5924---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----691bd17c5924--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----691bd17c5924--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----691bd17c5924--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----691bd17c5924--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----691bd17c5924--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----691bd17c5924--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----691bd17c5924--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----691bd17c5924--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jooskorstanje?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jooskorstanje?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Joos Korstanje"}, {"url": "https://medium.com/@jooskorstanje/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.5K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8fa2918bdae8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-add-api-keys-to-your-aws-api-gateway-api-691bd17c5924&user=Joos+Korstanje&userId=8fa2918bdae8&source=post_page-8fa2918bdae8--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F19ed9e2d9286&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-add-api-keys-to-your-aws-api-gateway-api-691bd17c5924&newsletterV3=8fa2918bdae8&newsletterV3Id=19ed9e2d9286&user=Joos+Korstanje&userId=8fa2918bdae8&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}