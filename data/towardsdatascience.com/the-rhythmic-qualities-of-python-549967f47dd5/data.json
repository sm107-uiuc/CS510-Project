{"url": "https://towardsdatascience.com/the-rhythmic-qualities-of-python-549967f47dd5", "time": 1683016718.2872262, "path": "towardsdatascience.com/the-rhythmic-qualities-of-python-549967f47dd5/", "webpage": {"metadata": {"title": "The Rhythmic Qualities of Python. The right way to do dependency\u2026 | by Dimitris Poulopoulos | Towards Data Science", "h1": "The Rhythmic Qualities of Python", "description": "The right way to do dependency management and packaging for Python projects."}, "outgoing_paragraph_urls": [{"url": "https://mailchi.mp/d2d2d4a109b5/learning-rate-newsletter", "anchor_text": "Learning Rate", "paragraph_index": 4}, {"url": "https://mailchi.mp/d2d2d4a109b5/learning-rate-newsletter", "anchor_text": "here", "paragraph_index": 4}, {"url": "https://python-poetry.org/", "anchor_text": "Poetry", "paragraph_index": 6}, {"url": "https://github.com/pypa/pipenv", "anchor_text": "pipenv", "paragraph_index": 31}, {"url": "https://www.anaconda.com/products/individual", "anchor_text": "conda", "paragraph_index": 31}, {"url": "https://www.linkedin.com/in/dpoulopoulos/", "anchor_text": "Dimitris Poulopoulos", "paragraph_index": 32}, {"url": "https://www.arrikto.com/", "anchor_text": "Arrikto", "paragraph_index": 32}, {"url": "https://medium.com/@dpoulopoulos", "anchor_text": "Medium", "paragraph_index": 33}, {"url": "https://www.linkedin.com/in/dpoulopoulos/", "anchor_text": "LinkedIn", "paragraph_index": 33}, {"url": "https://twitter.com/james2pl", "anchor_text": "@james2pl", "paragraph_index": 33}, {"url": "http://www.dimpo.me", "anchor_text": "www.dimpo.me", "paragraph_index": 36}], "all_paragraphs": ["You are running a successful Python application and its userbase has just surpassed 100 thousand monthly active users, hitting its first major milestone. Everything seems streamlined; you have some GitHub issues open, but nothing major.", "Then, one day, your devoted fans start complaining. Something in your system does not let them enjoy their favourite product the way they used to. You have a bug!", "You search through your codebase and git commit history, only to find that nothing has changed in your source code. You look at your precious requirements.txt file and all your dependencies seem locked to the same version. What is happening?", "After one day of countless negative reviews, you finally find the root of the problem: a dependency of your dependencies has made a breaking change for your code. So, the question is\u2026 How could I have prevented it?", "Learning Rate is a newsletter for those who are curious about the world of AI and MLOps. You\u2019ll hear from me every Friday with updates and thoughts on the latest AI news and articles. Subscribe here!", "So, it seems that your precious requirements.txt file is not that perfect after all. What you need is a real dependency manager. However, this is something that Python does not offer by default, like, for example, Rust does.", "Enter Poetry! Poetry can manage your dependencies but it can also do a lot more. You can easily add, upgrade or remove dependencies, track and lock them down, airtight. Moreover, Poetry can create your project\u2019s scaffolding, as well as build and distribute it to PyPI, using a powerful API and an intuitive Command Line Interface.", "But let\u2019s take a step back; what is dependency management?", "Dependency Management is the process of installing, upgrading and removing Python libraries used by your project, in a standardised and consistent manner.", "Simply put, your Python dependency manager should be able to download Python libraries, living most probably on PyPI, install them on your system, upgrade them if necessary and delete them on-demand.", "And what about distribution or packaging?", "Packaging, in a nutshell, is the process of making your project easily installable or usable by yourself or others.", "In the world of Python that would probably mean building a wheel for your project and pushing it to PyPI.", "So how can Poetry help you with all these? Let\u2019s walk through an example where we create a Python project, add some dependencies, build it and push it to PyPI.", "So let\u2019s create a Python project using Poetry, add some dependencies, build it and push it to PyPI. To create the scaffolding for your new project, that is a directory that has the absolutely necessary files to start working, run the following command:", "This will create a new folder called example-project with the following structure:", "The folders and files under this directory are pretty much self-explanatory, but let\u2019s go over them.", "So, let\u2019s take a closer look at the pyproject.toml file. It should look similar to the one below:", "Under tool.poetry you can find some basic information about your project. The fun begins under thetool.poetry.dependencies and tool.poetry.dev-dependencies sections. The former captures your project\u2019s dependencies, while the latter keeps the dependencies you need when actually developing the project, but don't want to package in a production release.", "Let\u2019s now install a dependency. For instance, cd into example-project and run the following command to install requests:", "Poetry will resolve your dependencies, write a lock file and install requests and its dependencies. Take a few seconds to inspect the lock file. This is what enables you to manage your projects in a deterministic way.", "Now, if we run pip freeze we would expect to find requests somewhere in there. But, that\u2019s not the case. Why?", "Under the hood, Poetry creates and manages a virtual environment for us. To locate it run the following command:", "You can use poetry shell to activate this environment. But you don\u2019t have to; if you start your commands with poetry run ... then whatever follows is executed inside the virtual environment. Thus, if you run poetry run pip freeze you will be able to locate requests.", "Note that you can exit your activated environment using the exit command, not deactivate", "Finally, if you want to build and publish your project it\u2019s just two commands; poetry build creates your dist folder and poetry publish uploads it to PyPI. It\u2019s that easy!", "Now that we saw what we can do with Poetry, let\u2019s see how we can install it. The recommended way to install poetry is by running the following command:", "That will work for your OSX or Linux OS. But if you are on Windows and PowerShell change it to this:", "The command will automatically make changes to your PATH to add Poetry binaries. If you are uncomfortable with that, use the --no-modify-path argument. For example:", "If you do this, you can either manually add poetry on your PATH or run its binaries directly from the installation folder.", "Finally, if you want to uninstall Poetry, just use the --uninstall argument, the same way:", "In this story, we saw how we can use Poetry to manage our project\u2019s dependencies, build our project and publish it to PyPI. There are a few alternatives to this, like pipenv or conda, and you are free to explore those options also. However, in my opinion, nothing makes dependency management and packaging that easy as Poetry!", "My name is Dimitris Poulopoulos and I\u2019m a machine learning engineer working for Arrikto. I have worked on designing and implementing AI and software solutions for major clients such as the European Commission, Eurostat, IMF, the European Central Bank, OECD, and IKEA.", "If you are interested in reading more posts about Machine Learning, Deep Learning, Data Science and DataOps follow me on Medium, LinkedIn or @james2pl on Twitter.", "Opinions expressed are solely my own and do not express the views or opinions of my employer.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Machine Learning Engineer. I talk about AI, MLOps, and Python programming. More about me: www.dimpo.me"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F549967f47dd5&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-rhythmic-qualities-of-python-549967f47dd5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-rhythmic-qualities-of-python-549967f47dd5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-rhythmic-qualities-of-python-549967f47dd5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-rhythmic-qualities-of-python-549967f47dd5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----549967f47dd5--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----549967f47dd5--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://dpoulopoulos.medium.com/?source=post_page-----549967f47dd5--------------------------------", "anchor_text": ""}, {"url": "https://dpoulopoulos.medium.com/?source=post_page-----549967f47dd5--------------------------------", "anchor_text": "Dimitris Poulopoulos"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7cc87df5b1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-rhythmic-qualities-of-python-549967f47dd5&user=Dimitris+Poulopoulos&userId=7cc87df5b1&source=post_page-7cc87df5b1----549967f47dd5---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F549967f47dd5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-rhythmic-qualities-of-python-549967f47dd5&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F549967f47dd5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-rhythmic-qualities-of-python-549967f47dd5&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/users/valerioerrani-14513548/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=5065594", "anchor_text": "Valerio Errani"}, {"url": "https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=5065594", "anchor_text": "Pixabay"}, {"url": "https://mailchi.mp/d2d2d4a109b5/learning-rate-newsletter", "anchor_text": "Learning Rate"}, {"url": "https://mailchi.mp/d2d2d4a109b5/learning-rate-newsletter", "anchor_text": "here"}, {"url": "https://python-poetry.org/", "anchor_text": "Poetry"}, {"url": "https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py", "anchor_text": "https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py"}, {"url": "https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py", "anchor_text": "https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py"}, {"url": "https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py", "anchor_text": "https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py"}, {"url": "https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py", "anchor_text": "https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py"}, {"url": "https://github.com/pypa/pipenv", "anchor_text": "pipenv"}, {"url": "https://www.anaconda.com/products/individual", "anchor_text": "conda"}, {"url": "https://www.linkedin.com/in/dpoulopoulos/", "anchor_text": "Dimitris Poulopoulos"}, {"url": "https://www.arrikto.com/", "anchor_text": "Arrikto"}, {"url": "https://medium.com/@dpoulopoulos", "anchor_text": "Medium"}, {"url": "https://www.linkedin.com/in/dpoulopoulos/", "anchor_text": "LinkedIn"}, {"url": "https://twitter.com/james2pl", "anchor_text": "@james2pl"}, {"url": "https://medium.com/tag/technology?source=post_page-----549967f47dd5---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/python?source=post_page-----549967f47dd5---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/dependency-management?source=post_page-----549967f47dd5---------------dependency_management-----------------", "anchor_text": "Dependency Management"}, {"url": "https://medium.com/tag/programming?source=post_page-----549967f47dd5---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----549967f47dd5---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F549967f47dd5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-rhythmic-qualities-of-python-549967f47dd5&user=Dimitris+Poulopoulos&userId=7cc87df5b1&source=-----549967f47dd5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F549967f47dd5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-rhythmic-qualities-of-python-549967f47dd5&user=Dimitris+Poulopoulos&userId=7cc87df5b1&source=-----549967f47dd5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F549967f47dd5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-rhythmic-qualities-of-python-549967f47dd5&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----549967f47dd5--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F549967f47dd5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-rhythmic-qualities-of-python-549967f47dd5&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----549967f47dd5---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----549967f47dd5--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----549967f47dd5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----549967f47dd5--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----549967f47dd5--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----549967f47dd5--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----549967f47dd5--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----549967f47dd5--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----549967f47dd5--------------------------------", "anchor_text": ""}, {"url": "https://dpoulopoulos.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://dpoulopoulos.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Dimitris Poulopoulos"}, {"url": "https://dpoulopoulos.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "12.5K Followers"}, {"url": "http://www.dimpo.me", "anchor_text": "www.dimpo.me"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7cc87df5b1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-rhythmic-qualities-of-python-549967f47dd5&user=Dimitris+Poulopoulos&userId=7cc87df5b1&source=post_page-7cc87df5b1--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb5ab149102ea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-rhythmic-qualities-of-python-549967f47dd5&newsletterV3=7cc87df5b1&newsletterV3Id=b5ab149102ea&user=Dimitris+Poulopoulos&userId=7cc87df5b1&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}