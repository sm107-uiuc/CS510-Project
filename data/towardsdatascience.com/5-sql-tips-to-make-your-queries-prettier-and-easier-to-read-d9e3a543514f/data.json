{"url": "https://towardsdatascience.com/5-sql-tips-to-make-your-queries-prettier-and-easier-to-read-d9e3a543514f", "time": 1683008210.9385478, "path": "towardsdatascience.com/5-sql-tips-to-make-your-queries-prettier-and-easier-to-read-d9e3a543514f/", "webpage": {"metadata": {"title": "5 SQL tips to make your queries prettier and easier to read | by Axel Furlan | Towards Data Science", "h1": "5 SQL tips to make your queries prettier and easier to read", "description": "Well, SQL queries could be thought as usual code. Even though it works, that\u2019s probably not enough and can surely be improved by applying some formatting standards. Prettier code is easy to analyze\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.linkedin.com/in/axelfurlan/", "anchor_text": "https://www.linkedin.com/in/axelfurlan/", "paragraph_index": 31}], "all_paragraphs": ["Well, SQL queries could be thought as usual code. Even though it works, that\u2019s probably not enough and can surely be improved by applying some formatting standards. Prettier code is easy to analyze and easy to maintain. The same principle applies to SQL queries.", "The colleague at your company, who has to review your work, will have a bad time trying to figure out what you are trying to do with a badly formatted query.", "Using the wrong or no styling rules will result in slower times of peer-reviewing, slower times to get into production, more errors slipping through and a general lack of motivation to review your work. Bad formatting and styling will also have a future impact, when the client or colleague asks you to change something in the query you did months ago. That huge query you completely forgot what was it all about.", "Almost all weird syntax errors that my colleagues and I had were primarily due to bad formatting, because it was hard to spot a wrongly placed comma or a missing parenthesis \u2014 those are the worst.", "It is ok to have different casings for different parts of your query, but be consistent. Take a look at this:", "This query is absolutely nasty \ud83d\ude2c. If I were the parser reading through this, I\u2019d definitely throw that query some type of syntax error just for it to be revised.", "Let\u2019s mark a couple of bad things here:", "After some cleaning, the query should look like this:", "Try to read this query and distinguish each section with a quick glance:", "Now, try the same exercise with the following one:", "Can you see how much easier it is to distinguish each part?", "This may be a little change on this query but imagine having to deal with those that have subqueries, multiple joins and maybe even window functions. It is not the same, isn\u2019t it?", "Let\u2019s try to add another level of indentation to see how it gets easier:", "Pro tip: I started using commas before each field in the SELECT clause. Instead of having a trailing comma after each line, I make sure that every line, starting from the second column, starts with a comma. In my opinion, it is easier to read and you don\u2019t have that problem of leaving a comma before the FROM clause giving you a sometimes hard to understand syntax error, depending on your RDBMS.", "There\u2019s probably a bit of preference whether you use 2 spaces or 4 for different levels of your query, but you cannot argue it won\u2019t look much cleaner than just one big line of SQL. Or worse: a big chunk of SQL on the same indentation level.", "Trust me, your coworkers will appreciate it. \ud83d\ude04", "Again, this may be a preference and feel free to take it or not. But throughout my career, I encountered many beginner data analysts that didn\u2019t even know this existed.", "This comes with a bunch of simple benefits:", "The so-called CTEs are tools provided to simplify complex querying. They could be defined as temporary views, since they only live during the execution of the whole query. CTEs give you the ability to create subqueries that will be used for the final thing.", "Let\u2019s look at a simple example:", "Here you can see that we use both employee_by_title and salaries_by_title in our bottom query to produce the final result. This is more readable and maintainable than doing the subquery in the SELECT clause or directly into the FROM clause. Specially if you are going to use many, it is a lot easier to create simple CTEs than a big chunk of FROM clause with different levels of queries inside of it.", "You better be careful though: make sure that you are not reducing performance dramatically by doing things more complex than they should be. To check query performance, you can use EXPLAIN ANALYZE if you\u2019re using PostgreSQL.", "A proper title for each column is crucial. That is the first thing someone sees in a spreadsheet. \u201cWhat columns do I have?\u201d Imagine if that person had a csv with 3 columns named id , 4 named count and others named avg , min and such. He would probably gonna go nuts!", "Let\u2019s look at the following query:", "The result of this query may be the following:", "You can probably tell that John Wick is not a job title, so the second column certainly must be the user name. That can also be true with hitman, you can surely tell that\u2019s a job title. But what is count ? \ud83d\ude05 No one could guess that.", "This query will produce much more readable and understandable columns. The person that receives this report can spot valuable information at a glance and will to be a lot happier than the one that received the previous result.", "I aimed to make your life easier with this article. Whether you are a developer, data analyst, data scientist or just someone that does SQL at your company, this should come in handy and reduce a lot of headaches throughout your work.", "Remember: there\u2019s no single best standard or layout for SQL formatting, but there certainly should be one that you like best. The challenge that comes now is finding that specific one and ensure that you are consistent with it. Discuss with your colleagues what formatting rules they like and reach consensus with the team to ensure you all agree on using the same rules across all the company\u2019s queries.", "I hope you found this useful. Until next time! \ud83d\ude04", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Working as a Data Engineer. Data science amateur. Constantly wanting to travel far. https://www.linkedin.com/in/axelfurlan/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fd9e3a543514f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-sql-tips-to-make-your-queries-prettier-and-easier-to-read-d9e3a543514f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-sql-tips-to-make-your-queries-prettier-and-easier-to-read-d9e3a543514f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-sql-tips-to-make-your-queries-prettier-and-easier-to-read-d9e3a543514f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-sql-tips-to-make-your-queries-prettier-and-easier-to-read-d9e3a543514f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----d9e3a543514f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d9e3a543514f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@axelfurlan_17621?source=post_page-----d9e3a543514f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@axelfurlan_17621?source=post_page-----d9e3a543514f--------------------------------", "anchor_text": "Axel Furlan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4b2ad5f659bd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-sql-tips-to-make-your-queries-prettier-and-easier-to-read-d9e3a543514f&user=Axel+Furlan&userId=4b2ad5f659bd&source=post_page-4b2ad5f659bd----d9e3a543514f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd9e3a543514f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-sql-tips-to-make-your-queries-prettier-and-easier-to-read-d9e3a543514f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd9e3a543514f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-sql-tips-to-make-your-queries-prettier-and-easier-to-read-d9e3a543514f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@zamansizturk?utm_source=medium&utm_medium=referral", "anchor_text": "Ali Y\u0131lmaz"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://unsplash.com/@punttim?utm_source=medium&utm_medium=referral", "anchor_text": "Tim Gouw"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.getdbt.com", "anchor_text": "dbt"}, {"url": "https://unsplash.com/@brucemars?utm_source=medium&utm_medium=referral", "anchor_text": "bruce mars"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/sql?source=post_page-----d9e3a543514f---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/mysql?source=post_page-----d9e3a543514f---------------mysql-----------------", "anchor_text": "MySQL"}, {"url": "https://medium.com/tag/postgres?source=post_page-----d9e3a543514f---------------postgres-----------------", "anchor_text": "Postgres"}, {"url": "https://medium.com/tag/data?source=post_page-----d9e3a543514f---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----d9e3a543514f---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd9e3a543514f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-sql-tips-to-make-your-queries-prettier-and-easier-to-read-d9e3a543514f&user=Axel+Furlan&userId=4b2ad5f659bd&source=-----d9e3a543514f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd9e3a543514f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-sql-tips-to-make-your-queries-prettier-and-easier-to-read-d9e3a543514f&user=Axel+Furlan&userId=4b2ad5f659bd&source=-----d9e3a543514f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd9e3a543514f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-sql-tips-to-make-your-queries-prettier-and-easier-to-read-d9e3a543514f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d9e3a543514f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fd9e3a543514f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-sql-tips-to-make-your-queries-prettier-and-easier-to-read-d9e3a543514f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----d9e3a543514f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----d9e3a543514f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----d9e3a543514f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----d9e3a543514f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----d9e3a543514f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----d9e3a543514f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----d9e3a543514f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----d9e3a543514f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----d9e3a543514f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@axelfurlan_17621?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@axelfurlan_17621?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Axel Furlan"}, {"url": "https://medium.com/@axelfurlan_17621/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "226 Followers"}, {"url": "https://www.linkedin.com/in/axelfurlan/", "anchor_text": "https://www.linkedin.com/in/axelfurlan/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4b2ad5f659bd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-sql-tips-to-make-your-queries-prettier-and-easier-to-read-d9e3a543514f&user=Axel+Furlan&userId=4b2ad5f659bd&source=post_page-4b2ad5f659bd--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fce2814aca92&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-sql-tips-to-make-your-queries-prettier-and-easier-to-read-d9e3a543514f&newsletterV3=4b2ad5f659bd&newsletterV3Id=ce2814aca92&user=Axel+Furlan&userId=4b2ad5f659bd&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}