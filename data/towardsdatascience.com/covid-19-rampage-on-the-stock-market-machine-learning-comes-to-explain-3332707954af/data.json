{"url": "https://towardsdatascience.com/covid-19-rampage-on-the-stock-market-machine-learning-comes-to-explain-3332707954af", "time": 1683006817.5742779, "path": "towardsdatascience.com/covid-19-rampage-on-the-stock-market-machine-learning-comes-to-explain-3332707954af/", "webpage": {"metadata": {"title": "COVID-19 Rampage on the Stock Market. Machine Learning Comes to Explain. | by Vitalii Dodonov | Towards Data Science", "h1": "COVID-19 Rampage on the Stock Market. Machine Learning Comes to Explain.", "description": "In this article, I use Machine Learning to study the companies that lost most of their stock price during COVID-19. To better illustrate what happened, let\u2019s take a look at the S&P 500 index during\u2026"}, "outgoing_paragraph_urls": [{"url": "http://www.vhinny.com/", "anchor_text": "www.vhinny.com", "paragraph_index": 5}, {"url": "https://github.com/vhinny-investing/codebase", "anchor_text": "here", "paragraph_index": 9}], "all_paragraphs": ["In this article, I use Machine Learning to study the companies that lost most of their stock price during COVID-19. To better illustrate what happened, let\u2019s take a look at the S&P 500 index during the most volatile time in the markets in the recent past.", "This COVID-19 crash ended a wonderful decade of the bull market, hammering the stock prices down 33% between February 20 and March 23, 2020. While this recession has an overall negative effect on the stock market, all companies were not affected in the same way. Below is the distribution of returns in the stock market for 1500+ US publicly traded companies during this period.", "On the X axis, I show the price growth between February 20, 2020 and March 23, 2020. On the Y axis, I show the percentage of companies reporting that growth.", "We can see the majority of companies show negative growth. The distribution looks normal, having a mean around -33% and some outliers in the positive return range. This is very different from the normal market conditions which I\u2019ve touched on here:", "This environment presents a great opportunity for investors to study how different company profiles were affected. In particular, what types of companies got hit the hardest against those that were not affected at all. With machine learning at our disposal, I am bringing a Data Scientist\u2019s perspective into the game, sharing my observations on what this recession has taught us.", "For this study, I am using Alpha Dataset from www.vhinny.com which provides fundamental financial data including Balance Sheets, Income Statements and Statements of Cash Flows for the past 8 years. I also use a free AlphaVantage API to access daily stock prices.", "In this study, I am looking to identify drivers behind companies that got hit the hardest. Given the histogram above, I\u2019m interested in companies that lost at least 55% of their price, which holds true for ~20% of all companies in the data.", "There are many ways to approach this problem, spanning from unsupervised clustering to predictive modelling. The approach I\u2019m using here takes advantage of predictive modelling. I\u2019m not aiming to train a model predicting recessions in the future. Instead, I aim for understanding the past. With this objective in mind, I find a simple Decision Tree breakdown to be the best method for the job.", "Decision Trees are notorious for overfitting the training data. Because of this property, they are almost never used in predictive modelling, yielding the way to Random Forest and XGBoost. However, unlike other algorithms, Decision Trees provide accurate visibility into their decision making process, showing the researcher exactly how a decision was made.", "I frame the problem as a classification task, labeling companies that lost at least 55% of their price as positive examples. I then fit a Decision Tree with the following parameters (implementation code may be found here):", "Since my objective is to explain the past instead of predicting the future, I did not split into training and validation as I would in a typical predictive machine learning problem. The parameters I used are not the best parameters to separate positive and negative examples. Instead, the parameters I have chosen to restrict the problem to the dimensions that may be easily interpreted. This way, with a slight sacrifice of performance, I can determine and visualize fundamental trends in the data, which is exactly what I am looking for.", "The plot below shows a Decision Tree fit to identify companies that lost at least 55% of their price during COVID-19 crisis.", "This decision tree was fit on fundamental financial data of 1500+ US publicly traded companies. Each node has a label (class), classifying the leaf as Positive or Negative, depending on what the majority of examples on that leaf is. I use a red-white-blue colour scheme to help visualize the balance of positives and negatives on each node. Solid red means the vast majority of examples are positive. Solid blue means the majority of examples are Negative. The colour becomes more diluted as the ratio of positive and negative examples reach equality. The node would become white (fully transparent) if the number of positive examples is equal to the number of negative examples. The arrows represent a split based on the condition noted on the node itself. The left arrow separates examples that meet the condition, leaving examples that don\u2019t meet the condition to the right arrow.", "The root node contains the entire dataset. It is labeled Negative since the majority of examples (1223) is negative (and 275 positive examples). The split on this node is done based on the Price to Tangibles ratio, a popular metric among value investors. If Price to Tangibles is larger than 0.88, the company is labeled negative, bringing us to the lower right node. This condition is an easy win for us as it brings us to a place where 91% of companies are correctly labeled as negative, 694 out of (694 + 73). If this condition is not met, we go to the left node which leaves us with many potential destinations and possibilities to consider.", "While the global right branch of the tree helped me identify overwhelming majority of negative examples, I hope to find a path towards positive examples on the left branch. The shortest path towards positive examples gets me there with three (3) conditions:", "Putting it in verbal terms, the company must be rather cheap (condition 1), selling below the cost of its tangible assets, and report a loss in its most recent financial year (condition 3). The second condition is more challenging to interpret as it depends on the size of the business, but it suggests improvements in a company\u2019s balance sheet.", "Having gone 7 levels down into the left branch from the root, I find myself at a white node that effectively splits the companies into positives and negatives using Price, Revenue, and Tangible Assets. It is important to note that the examples on the white node are not randomly sampled examples, but examples that have met 6 conditions leading white node.", "At this node, almost all companies (16 out of 17) with Price to Revenue > 1.8 are negative. These are moderately priced companies that lost some money in the previous year but not too expensive as they trade below the value of their tangible assets (based on the history of splits before the white node has been reached).", "Alternatively, companies trading at Price to Revenue \u2264 1.8 and Price to Tangible Assets \u2264 0.04 are mostly positive (37 out of 47). This is the type of companies that are one step away from bankruptcy. Hanging by a thread, the price of their business is hardly twice their annual revenue and all tangible items on their books are worth less than 5 cents on the dollar. With such shaky ground to stand on by any measure, investors are likely selling the shares, hoping to cut their losses and hammering the stock price down further to reflect the intrinsic value of these companies.", "In this article, I\u2019ve broken down financials of 1500+ US publicly traded companies to identify trends among companies losing 55%+ of their price due to the COVID-19 panic. American Companies lost 33% of their price on average between February 20 and March 23, 2020. Companies that lost 55%+ had notoriously poor financial performance, which was partly reflected in their price staying below their tangible assets value even before the crash has begun. A characteristic indicator of losers among these companies were those selling at 4% of tangible assets or lower. Another, less drastic characteristic of companies losing 55%+ of their price, was a reported loss in their previous financial year. With an already low valuation, financial losses in the previous fiscal year have led the investors to sell losers in their portfolios.", "Thanks for reading my article! If you liked it, you may want to check out this one:", "I\u2019m happy to connect with people who share my path, which is the pursuit of financial independence. If you also search for financial independence or if you\u2019d like to collaborate, bounce ideas or exchange thoughts, feel free to reach out! Here are some places to find me:", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Co-founder, Head of Engineering at Stan - enabling creators to become entrepreneurs."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F3332707954af&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-rampage-on-the-stock-market-machine-learning-comes-to-explain-3332707954af&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-rampage-on-the-stock-market-machine-learning-comes-to-explain-3332707954af&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-rampage-on-the-stock-market-machine-learning-comes-to-explain-3332707954af&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-rampage-on-the-stock-market-machine-learning-comes-to-explain-3332707954af&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----3332707954af--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3332707954af--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@vitddnv?source=post_page-----3332707954af--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@vitddnv?source=post_page-----3332707954af--------------------------------", "anchor_text": "Vitalii Dodonov"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F650c747f45df&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-rampage-on-the-stock-market-machine-learning-comes-to-explain-3332707954af&user=Vitalii+Dodonov&userId=650c747f45df&source=post_page-650c747f45df----3332707954af---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3332707954af&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-rampage-on-the-stock-market-machine-learning-comes-to-explain-3332707954af&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3332707954af&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-rampage-on-the-stock-market-machine-learning-comes-to-explain-3332707954af&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://stock.adobe.com/ca/images/destruction-concept/69298723", "anchor_text": "Image"}, {"url": "https://stock.adobe.com/ca/contributor/201376482/sergey-nivens?load_type=author&prev_url=detail", "anchor_text": "Sergey Nivens"}, {"url": "https://www.google.ca/finance", "anchor_text": "Google Finance"}, {"url": "https://github.com/vhinny-investing/codebase/blob/master/apps/covid/eda/Plots.ipynb", "anchor_text": "Source Code"}, {"url": "https://towardsdatascience.com/predicting-the-stock-market-with-machine-learning-introduction-310cd6069ffa", "anchor_text": "Predicting the Stock Market with Machine Learning. Introduction."}, {"url": "http://www.vhinny.com/", "anchor_text": "www.vhinny.com"}, {"url": "https://github.com/vhinny-investing/codebase", "anchor_text": "here"}, {"url": "https://github.com/vhinny-investing/codebase/blob/master/apps/covid/eda/Plots.ipynb", "anchor_text": "Source Code"}, {"url": "https://github.com/vhinny-investing/codebase/blob/master/apps/covid/eda/Plots.ipynb", "anchor_text": "Source Code"}, {"url": "https://github.com/vhinny-investing/codebase/blob/master/apps/covid/eda/Plots.ipynb", "anchor_text": "Source Code"}, {"url": "https://github.com/vhinny-investing/codebase/blob/master/apps/covid/eda/Plots.ipynb", "anchor_text": "Source Code"}, {"url": "https://towardsdatascience.com/stocks-that-recovered-from-covid-19-machine-learning-comes-to-explain-ba712f62456d", "anchor_text": "Stocks that Recovered from COVID-19. Machine Learning Comes to Explain.Using machine learning to identify common factors among stocks that are back to normal after the COVID-19 crash.towardsdatascience.com"}, {"url": "http://www.vhinny.com/", "anchor_text": "www.vhinny.com"}, {"url": "https://www.linkedin.com/company/vhinny", "anchor_text": "https://www.linkedin.com/company/vhinny"}, {"url": "https://medium.com/tag/vhinny?source=post_page-----3332707954af---------------vhinny-----------------", "anchor_text": "Vhinny"}, {"url": "https://medium.com/tag/covid-19?source=post_page-----3332707954af---------------covid_19-----------------", "anchor_text": "Covid-19"}, {"url": "https://medium.com/tag/investing?source=post_page-----3332707954af---------------investing-----------------", "anchor_text": "Investing"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----3332707954af---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/stock-market?source=post_page-----3332707954af---------------stock_market-----------------", "anchor_text": "Stock Market"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3332707954af&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-rampage-on-the-stock-market-machine-learning-comes-to-explain-3332707954af&user=Vitalii+Dodonov&userId=650c747f45df&source=-----3332707954af---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3332707954af&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-rampage-on-the-stock-market-machine-learning-comes-to-explain-3332707954af&user=Vitalii+Dodonov&userId=650c747f45df&source=-----3332707954af---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3332707954af&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-rampage-on-the-stock-market-machine-learning-comes-to-explain-3332707954af&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3332707954af--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F3332707954af&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-rampage-on-the-stock-market-machine-learning-comes-to-explain-3332707954af&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----3332707954af---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----3332707954af--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----3332707954af--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----3332707954af--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----3332707954af--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----3332707954af--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----3332707954af--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----3332707954af--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----3332707954af--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@vitddnv?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@vitddnv?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Vitalii Dodonov"}, {"url": "https://medium.com/@vitddnv/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "233 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F650c747f45df&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-rampage-on-the-stock-market-machine-learning-comes-to-explain-3332707954af&user=Vitalii+Dodonov&userId=650c747f45df&source=post_page-650c747f45df--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F6950772ae056&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-rampage-on-the-stock-market-machine-learning-comes-to-explain-3332707954af&newsletterV3=650c747f45df&newsletterV3Id=6950772ae056&user=Vitalii+Dodonov&userId=650c747f45df&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}