{"url": "https://towardsdatascience.com/how-to-test-your-ml-models-from-hypothesis-to-production-7553430382a9", "time": 1683005090.491622, "path": "towardsdatascience.com/how-to-test-your-ml-models-from-hypothesis-to-production-7553430382a9/", "webpage": {"metadata": {"title": "How to test your ML models from hypothesis to production | by Alexander Osipenko | Towards Data Science", "h1": "How to test your ML models from hypothesis to production", "description": "Often the goal of the Data Science team is to produce predictive models (classifiers, regressors, etc) which then will be used to improve the company\u2019s products. The A/B test with a proper control\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Often the goal of the Data Science team is to produce predictive models (classifiers, regressors, etc) which then will be used to improve the company\u2019s products.", "But how would we know that the new model will be better than the current one?", "The A/B test with a proper control group and randomized permutation test might give us a pretty good understanding. The problem is that many companies can\u2019t afford testing models in a real-life scenario. Imagine if Tesla would A/B test their new autopilot on you, and your car will be in a group with a weaker model. Even if we not talking about people's lives, often companies might experience negative side-effects from the poorer performed models.", "To minimize the negative effects I prefer to be confident in the models' candidates for A/B testing. Of cource we would never be 100% confident, but here 4 steps testing I would normally implement in the teams where I\u2019m working. Each step will incrementally increase our confidence in the model\u2019s quality.", "Model development could often start with a hypothesis, say", "\u201cWhat if we would use the RandomForest model as our classifier?\u201d", "Some team-member then will take that idea as a task that he will work for the next week. At that point, you would probably already have a labeled dataset on which you can train and test your model. So it would be the responsibility of this researcher to correctly split that data for cross-validation or backtesting in case of time-series data.", "So this Data Scientists played with that model and concluded that cross-validation gave him an average accuracy of 95% and the current baseline model has an accuracy of 93% on the same dataset. Good Data Scientists will not stop at these numbers and will perform the permutation test and will calculate p-value to have an idea of whether this difference in accuracy might occur randomly due to data variation.", "Tip: Use the permutation test or other stat-tests that you think more suitable for your particular case. P-value is not a \u201csilver bullet\u201d but it\u2019s useful to always think about random chances getting better performance.", "So our Data Scientists concluded that difference is statistically significant. Great! That means we are on to something. Data Scientists prepared a model for the pipeline, push his code and made Pull-request.", "The second step in the ML model testing I recommend you to implement is testing as part of CI/CD. There are many different ways how you can actually implement that and they all depend on your current architecture, but the main idea is this:", "You need to make sure that your out-of-sample dataset is representative and can provide a reliable evaluation. It also a good idea to have some ceremonies around that CI/CD testing, so your teammate would not spend all day hacking out-of-sample data trying different things and adjusting his model towards better performance on this particular data.", "In my team that kind of testing only be possible when a person proves on the locally made research correctness to other team members. We also had a monitoring system when all teammates and product-manager would receive an email with testing results. So it would be noticeable when anyone might try to abuse that testing.", "The next step is to test your model in the production-like environment. For example, we would deploy develop branch on the stage-server and make it run on the exact same data as production pipeline, the only difference would be that the end-user will not see the results of the develop-branch and results will be stored in the database. There are several questions you would wanna answer before running such an experiment, but the main one is:", "\u2014 \u201cWhen do I stop that experiment?\u201d", "Similar to A/B testing to answer that you need to figure out the effect size you expected to capture and statistical power.", "To make final conclusion about model quality I suggest you use a statistical test to protect yourself from being fulled by randomness, but keep in mind it\u2019s not 100% robust.", "3 steps above will allow you to gain you pretty good confidence in your new model. In some cases A/B test is not possible so you could stop on the shadow testing, some companies can afford to experiment with many different models at the same time, in that cases, shadow testing can be unnecessary and after testing on out-of-sample data model can be tested as part of A/B test.", "Data Science often can be tricky, there are many things that can mislead you during model development.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Leading/Coaching/Building Data Science teams from the scratch"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7553430382a9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-test-your-ml-models-from-hypothesis-to-production-7553430382a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-test-your-ml-models-from-hypothesis-to-production-7553430382a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-test-your-ml-models-from-hypothesis-to-production-7553430382a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-test-your-ml-models-from-hypothesis-to-production-7553430382a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----7553430382a9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7553430382a9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@subpath?source=post_page-----7553430382a9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@subpath?source=post_page-----7553430382a9--------------------------------", "anchor_text": "Alexander Osipenko"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffe96afc141b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-test-your-ml-models-from-hypothesis-to-production-7553430382a9&user=Alexander+Osipenko&userId=fe96afc141b0&source=post_page-fe96afc141b0----7553430382a9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7553430382a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-test-your-ml-models-from-hypothesis-to-production-7553430382a9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7553430382a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-test-your-ml-models-from-hypothesis-to-production-7553430382a9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@victor_g?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Victor Garcia"}, {"url": "https://unsplash.com/s/photos/pipeline?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/machie-learning?source=post_page-----7553430382a9---------------machie_learning-----------------", "anchor_text": "Machie Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----7553430382a9---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/product-management?source=post_page-----7553430382a9---------------product_management-----------------", "anchor_text": "Product Management"}, {"url": "https://medium.com/tag/product-development?source=post_page-----7553430382a9---------------product_development-----------------", "anchor_text": "Product Development"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7553430382a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-test-your-ml-models-from-hypothesis-to-production-7553430382a9&user=Alexander+Osipenko&userId=fe96afc141b0&source=-----7553430382a9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7553430382a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-test-your-ml-models-from-hypothesis-to-production-7553430382a9&user=Alexander+Osipenko&userId=fe96afc141b0&source=-----7553430382a9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7553430382a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-test-your-ml-models-from-hypothesis-to-production-7553430382a9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7553430382a9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F7553430382a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-test-your-ml-models-from-hypothesis-to-production-7553430382a9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----7553430382a9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----7553430382a9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----7553430382a9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7553430382a9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7553430382a9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7553430382a9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7553430382a9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7553430382a9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7553430382a9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@subpath?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@subpath?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Alexander Osipenko"}, {"url": "https://medium.com/@subpath/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "472 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffe96afc141b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-test-your-ml-models-from-hypothesis-to-production-7553430382a9&user=Alexander+Osipenko&userId=fe96afc141b0&source=post_page-fe96afc141b0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff4107f54a8ac&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-test-your-ml-models-from-hypothesis-to-production-7553430382a9&newsletterV3=fe96afc141b0&newsletterV3Id=f4107f54a8ac&user=Alexander+Osipenko&userId=fe96afc141b0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}