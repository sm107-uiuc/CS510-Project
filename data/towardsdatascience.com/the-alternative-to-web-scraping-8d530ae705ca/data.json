{"url": "https://towardsdatascience.com/the-alternative-to-web-scraping-8d530ae705ca", "time": 1683010640.5585809, "path": "towardsdatascience.com/the-alternative-to-web-scraping-8d530ae705ca/", "webpage": {"metadata": {"title": "The Alternative to Web Scraping. The \u201clazy\u201d programmer\u2019s guide to\u2026 | by Doug Guthrie | Towards Data Science", "h1": "The Alternative to Web Scraping", "description": "According to Larry Wall, the author of the Perl programming language, there are three great virtues of a programmer; Laziness, Impatience and Hubris: Granted, web scraping can be a fairly simple\u2026"}, "outgoing_paragraph_urls": [{"url": "https://finance.yahoo.com", "anchor_text": "Yahoo Finance", "paragraph_index": 4}, {"url": "https://stackoverflow.com/search?tab=newest&q=yahoo-finance", "anchor_text": "StackOverflow", "paragraph_index": 4}, {"url": "https://finance.yahoo.com/quote/AGL.AX/key-statistics?p=AGL.AX", "anchor_text": "statistics", "paragraph_index": 8}, {"url": "https://beautifier.io/", "anchor_text": "https://beautifier.io/", "paragraph_index": 20}, {"url": "https://code.visualstudio.com/", "anchor_text": "vscode", "paragraph_index": 20}, {"url": "https://marketplace.visualstudio.com/items?itemName=HookyQR.beautify", "anchor_text": "Beautify", "paragraph_index": 20}], "all_paragraphs": ["According to Larry Wall, the author of the Perl programming language, there are three great virtues of a programmer; Laziness, Impatience and Hubris:", "Laziness: The quality that makes you go to great effort to reduce overall energy expenditure. It makes you write labor-saving programs that other people will find useful and document what you wrote so you don\u2019t have to answer so many questions about it.", "I choose a lazy person to do a hard job. Because a lazy person will find an easy way to do it.", "Granted, web scraping can be a fairly simple programming problem: search for a unique identifier within the document\u2019s source code and extract the relevant data. I think, however, that there is often a far \u201clazier\u201d solution that\u2019s simpler, faster, and can result in more data.", "One of the better sites for financial data is Yahoo Finance. This makes it a prime target for web scraping by finance enthusiasts. There are nearly daily questions on StackOverflow that reference some sort of data retrieval (oftentimes through web scraping) from Yahoo Finance.", "The OP is trying to find the current price for a specific stock, Facebook. Their code is below:", "And that code produced the following output:", "It\u2019s a pretty simple problem with an also simple web scraping solution. However, it\u2019s not lazy enough. Let\u2019s look at the next one.", "The OP is trying to extract data from the statistics tab, the stock\u2019s enterprise value and the number of shares short. His problem actually revolves around retrieving nested dictionary values that may or may not be there, but he seems to have found a better solution as far as retrieving data.", "Take a look at line 3: the OP was able to find the data he\u2019s looking for inside a variable in the javascript:", "From there, the data is retrieved pretty simply by accessing the appropriate nested keys within the dictionary, data. But, as you may have guessed, there is a simpler, lazier solution.", "The lazy alternatives simply altered the request from utilizing the front-end URL to a somewhat unofficial API endpoint, which returns JSON data. It\u2019s simpler and results in more data! What about speed though (pretty sure I promised simpler, more data, and a faster alternative)? Let\u2019s check:", "The lazy alternatives are 4x to 5x faster than their web scraping counterparts!", "You might be thinking though, \u201cThat\u2019s great, but where did you find those URLs?\u201d.", "Think about the two problems we walked through above: the OP\u2019s we\u2019re trying to retrieve the data after it had been loaded into the page. The lazier solutions went right to the source of the data and didn\u2019t bother with the front-end page at all. This is an important distinction and, I think, a good approach whenever you\u2019re trying to extract data from a website.", "An XHR (XMLHttpRequest) object is an API available to web browser scripting languages such as JavaScript. It is used to send HTTP or HTTPs requests to a web server and load the server response data back into the script. Basically, it allows the client to retrieve data from a URL without having to do a full page refresh.", "I\u2019ll be using Chrome for the following demonstrations, but other browsers will have similar functionality.", "Now that we\u2019ve found some of the XHR requests that are made via the browser, let\u2019s search the javascript files to see if we can find any more information. The commonalities I\u2019ve found with the URLs relevant to the XHR requests are \u201cquery1\u201d and \u201cquery2\u201d. In the top-right corner of the developer\u2019s console, select the three vertical dots and then select \u201cSearch\u201d in the dropdown.", "Search for \u201cquery2\u201d in the search bar:", "Select the first option. An additional tab will pop-up containing where \u201cquery2\u201d was found. You should notice something similar here as well:", "It\u2019s the same variable that web scraping solution #2 targeted to extract their data. The console should give you an option to \u201cpretty-print\u201d the variable. You can either select that option or copy and paste the entire line (line 11 above) into something like https://beautifier.io/ or if you use vscode, download the Beautify extension and it will do the same thing. Once it\u2019s formatted appropriately, paste the entire code into a text editor or something similar and search for \u201cquery2\u201d again. You should find one result inside something called \u201cServicePlugin\u201d. That section contains the URLs that Yahoo Finance utilizes to populate data in their pages. The following is taken right out of that section:", "This is the same URL that is utilized in the lazy solutions provided above.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8d530ae705ca&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-alternative-to-web-scraping-8d530ae705ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-alternative-to-web-scraping-8d530ae705ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-alternative-to-web-scraping-8d530ae705ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-alternative-to-web-scraping-8d530ae705ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8d530ae705ca--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8d530ae705ca--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@douglas.p.guthrie?source=post_page-----8d530ae705ca--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@douglas.p.guthrie?source=post_page-----8d530ae705ca--------------------------------", "anchor_text": "Doug Guthrie"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F55e09256a435&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-alternative-to-web-scraping-8d530ae705ca&user=Doug+Guthrie&userId=55e09256a435&source=post_page-55e09256a435----8d530ae705ca---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8d530ae705ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-alternative-to-web-scraping-8d530ae705ca&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8d530ae705ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-alternative-to-web-scraping-8d530ae705ca&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@florianolv?utm_source=medium&utm_medium=referral", "anchor_text": "Florian Olivo"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://finance.yahoo.com", "anchor_text": "Yahoo Finance"}, {"url": "https://stackoverflow.com/search?tab=newest&q=yahoo-finance", "anchor_text": "StackOverflow"}, {"url": "https://stackoverflow.com/questions/62629614/trying-to-test-a-code-that-scrap-from-yahoo-finance", "anchor_text": "trying to test a code that scrap from yahoo financeI\u2019m a python beginner but I like to learn the language by testing it and trying it. so there is a yahoo web scraper\u2026stackoverflow.com"}, {"url": "https://stackoverflow.com/questions/62618756/web-scraping-yahoo-finance-statistics-code-errors-out-on-empty-fields", "anchor_text": "Web Scraping Yahoo Finance Statistics \u2014 Code Errors Out on Empty FieldsI found this useful code snippet: Web scraping of Yahoo Finance statistics using BS4 I have simplified the code as per\u2026stackoverflow.com"}, {"url": "https://finance.yahoo.com/quote/AGL.AX/key-statistics?p=AGL.AX", "anchor_text": "statistics"}, {"url": "https://finance.yahoo.com/quote/AAPL?p=AAPL", "anchor_text": "https://finance.yahoo.com/quote/AAPL?p=AAPL"}, {"url": "https://beautifier.io/", "anchor_text": "https://beautifier.io/"}, {"url": "https://code.visualstudio.com/", "anchor_text": "vscode"}, {"url": "https://marketplace.visualstudio.com/items?itemName=HookyQR.beautify", "anchor_text": "Beautify"}, {"url": "https://towardsdatascience.com/the-alternative-to-web-scraping-part-ii-c2e3c2c06556", "anchor_text": "The Alternative to Web Scraping, Part IIThe DRY approach to retrieving web datatowardsdatascience.com"}, {"url": "https://yahooquery.dpguthrie.com", "anchor_text": "yahooquery"}, {"url": "https://towardsdatascience.com/the-unofficial-yahoo-finance-api-32dcf5d53df", "anchor_text": "The (Unofficial) Yahoo Finance APIA Python interface to endless amounts of datatowardsdatascience.com"}, {"url": "https://medium.com/tag/python?source=post_page-----8d530ae705ca---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/web-scraping?source=post_page-----8d530ae705ca---------------web_scraping-----------------", "anchor_text": "Web Scraping"}, {"url": "https://medium.com/tag/finance?source=post_page-----8d530ae705ca---------------finance-----------------", "anchor_text": "Finance"}, {"url": "https://medium.com/tag/programming?source=post_page-----8d530ae705ca---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/api?source=post_page-----8d530ae705ca---------------api-----------------", "anchor_text": "API"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8d530ae705ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-alternative-to-web-scraping-8d530ae705ca&user=Doug+Guthrie&userId=55e09256a435&source=-----8d530ae705ca---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8d530ae705ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-alternative-to-web-scraping-8d530ae705ca&user=Doug+Guthrie&userId=55e09256a435&source=-----8d530ae705ca---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8d530ae705ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-alternative-to-web-scraping-8d530ae705ca&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8d530ae705ca--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8d530ae705ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-alternative-to-web-scraping-8d530ae705ca&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8d530ae705ca---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8d530ae705ca--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8d530ae705ca--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8d530ae705ca--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8d530ae705ca--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8d530ae705ca--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8d530ae705ca--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8d530ae705ca--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8d530ae705ca--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@douglas.p.guthrie?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@douglas.p.guthrie?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Doug Guthrie"}, {"url": "https://medium.com/@douglas.p.guthrie/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "241 Followers"}, {"url": "http://dpguthrie.com", "anchor_text": "dpguthrie.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F55e09256a435&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-alternative-to-web-scraping-8d530ae705ca&user=Doug+Guthrie&userId=55e09256a435&source=post_page-55e09256a435--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F4ead1cde028&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-alternative-to-web-scraping-8d530ae705ca&newsletterV3=55e09256a435&newsletterV3Id=4ead1cde028&user=Doug+Guthrie&userId=55e09256a435&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}