{"url": "https://towardsdatascience.com/amazon-rds-step-by-step-guide-14f9f3087d28", "time": 1682997095.115316, "path": "towardsdatascience.com/amazon-rds-step-by-step-guide-14f9f3087d28/", "webpage": {"metadata": {"title": "Amazon RDS \u2014 Step-By-Step Guide. Create, connect, and interact with a\u2026 | by Iana Pyrogova | Towards Data Science", "h1": "Amazon RDS \u2014 Step-By-Step Guide", "description": "This article here will guide you how to create a database instance using Amazon Relational Database Service and how to interact with a remote database server using only Python. First, we need an\u2026"}, "outgoing_paragraph_urls": [{"url": "https://aws.amazon.com/rds/postgresql/", "anchor_text": "Amazon Relational Database Service", "paragraph_index": 0}, {"url": "https://portal.aws.amazon.com/billing/signup?nc2=h_ct&src=header_signup&redirect_url=https%3A%2F%2Faws.amazon.com%2Fregistration-confirmation#/start", "anchor_text": "AWS portal", "paragraph_index": 1}, {"url": "http://initd.org/psycopg/", "anchor_text": "psycopg2", "paragraph_index": 10}, {"url": "https://www.kaggle.com/c/titanic/data", "anchor_text": "titanic dataset from Kaggle", "paragraph_index": 14}, {"url": "https://github.com/ianap/aws_ec2_rds_examples", "anchor_text": "here", "paragraph_index": 22}], "all_paragraphs": ["This article here will guide you how to create a database instance using Amazon Relational Database Service and how to interact with a remote database server using only Python.", "First, we need an account on AWS. We are going to an AWS portal to create a new account, or you may use an existing AWS account.", "Amazon Relational Database Service (RDS) forms a central part to set up a relational database in the cloud. Each cloud database we provision is called a database instance. So, first, click on Services and select Database to navigate to the RDS Dashboard:", "Next, to create a new database click on \u201cCreate database\u201d. Database instances are flexible, and you configure them to meet your needs. You can configure your database with a range of engine types including Amazon Aurora, MySQL, PostgreSQL, and others. Beyond the engine types, you can also configure the database instance type and size, allocate storage, and configure different settings like monitoring, backups and many others.", "Now, we are selecting a PostgreSQL engine on which to run the db. In this post, we use a Free tier template. With a free trier, we get a small instance db.t2.micro with 1 CPU and 1GiB memory.", "Next, in the Settings section specify your database instance information: instance name and the master user credentials to log in to your instance. You may also specify a port you want to use to access the database. For PostgreSQL installations, the default port is 5432.", "If you want to give your database instance a public IP address (so devices outside the VPC will be able to connect to your database) choose Yes for Public Accessible inside the Connectivity section. I choose Yes to make my database be available from my local machine.", "You should proceed to the Additional configuration section and specify a database name that Amazon RDS creates when it creates the database instance. For this tutorial, I am going to create a database with a name titanic.", "Remember: a database name and a database instance name are two different names. If you do NOT specify a database name, Amazon RDS does NOT create a database when it creates the database instance.", "Finally, click on Create Database. It may take a few minutes to launch database. The new database instance appears on the Amazon RDS console. You may connect to the instance once its state changes to available.", "Once the database is created we can interact with it. Here, we connect to our database from Jupyter notebook using Python package psycopg2:", "Note, you don\u2019t even need to install Postgres on our local machine. You only need to install a psycopg2 package, by typing inside your terminal: pip install psycopg2", "In the second line, we opened a connection to Postgres by using the connect()method. We passed five parameters into the psycopg2. First is the host which specifies where your database is running. In our case it is a remote RDB, and the host url is the Endpoint value from the Amazon RDS console (see the screenshot below). Next, we passed the username and password (lines 5,6). You may start with using master user credentials which you created earlier. Later, we will add a new user as a way to improve security and division of data. Finally, we passed the database name (which is different with the database instance name!!!). Database name I asked you to enter in the Additional configuration, and in my case it was titanic.", "Last but not least, we need to create a cursor object (line 9) to interact and execute the commands on the Postgres database .", "Once we connected to our database, it\u2019s time to add some data. For this tutorial, I took the titanic dataset from Kaggle (train.csv). After some pre-processing, I split the file into three CSV files: passengers.csv, tripInfo.csv, and survival.csv. The link to my repo with processed dataset and notebook is in the end of article.", "Well, now I am going to copy data from the CSV files into the database, but first, I need to create three tables that fits my dataset. For this purpose, we can use CREATE TABLE command, but pay attention, the columns should be in the same order as in the CSV files with their respective types.", "Remember, every time we need to commit our changes by running connection.commit() at the end of every transaction (line 22). Finally, you may always query the table INFORMATION_SCHEMA.COLUMNS to display schemas of all the public tables. In particular we are interested in the column names and data types. In Python we can also access remote data using pandas method read_sql():", "Once we have our tables, we want to copy data from CSV files. Fortunately, it is super simple with psycopg2 using the copy_from() method:", "We can also create a new user and grant privileges to manage our database:", "Now, our remote database is ready and we can start fetching some data from our database tables using Python pandas.read_sql(). Let\u2019s say we are interested to get the survival rate for each passenger\u2019s class. Below is a simple SQL query with INNER JOIN to do that:", "It is very convenient to use pandas to execute SQL, because it reads SQL query into a DataFrame:", "Last notes. It is a good practice to delete your database instances from AWS which you are no longer using. Otherwise, you will be getting charged for them. So you need to go back to the AWS RDS Console, select your instance and click Delete.", "My repo with processed dataset and notebook is here.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "From time to time I indulge in exploring different datasets and programming Android apps"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F14f9f3087d28&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-rds-step-by-step-guide-14f9f3087d28&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-rds-step-by-step-guide-14f9f3087d28&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-rds-step-by-step-guide-14f9f3087d28&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-rds-step-by-step-guide-14f9f3087d28&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----14f9f3087d28--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----14f9f3087d28--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@aboutiana?source=post_page-----14f9f3087d28--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@aboutiana?source=post_page-----14f9f3087d28--------------------------------", "anchor_text": "Iana Pyrogova"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffe81a7da2a9e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-rds-step-by-step-guide-14f9f3087d28&user=Iana+Pyrogova&userId=fe81a7da2a9e&source=post_page-fe81a7da2a9e----14f9f3087d28---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F14f9f3087d28&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-rds-step-by-step-guide-14f9f3087d28&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F14f9f3087d28&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-rds-step-by-step-guide-14f9f3087d28&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/data-science/home", "anchor_text": "Data Science"}, {"url": "https://unsplash.com/@arnelhasanovic?utm_source=medium&utm_medium=referral", "anchor_text": "Arnel Hasanovic"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://aws.amazon.com/rds/postgresql/", "anchor_text": "Amazon Relational Database Service"}, {"url": "https://portal.aws.amazon.com/billing/signup?nc2=h_ct&src=header_signup&redirect_url=https%3A%2F%2Faws.amazon.com%2Fregistration-confirmation#/start", "anchor_text": "AWS portal"}, {"url": "http://initd.org/psycopg/", "anchor_text": "psycopg2"}, {"url": "https://www.kaggle.com/c/titanic/data", "anchor_text": "titanic dataset from Kaggle"}, {"url": "https://github.com/ianap/aws_ec2_rds_examples", "anchor_text": "here"}, {"url": "https://medium.com/tag/aws?source=post_page-----14f9f3087d28---------------aws-----------------", "anchor_text": "AWS"}, {"url": "https://medium.com/tag/python?source=post_page-----14f9f3087d28---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/postgresql?source=post_page-----14f9f3087d28---------------postgresql-----------------", "anchor_text": "Postgresql"}, {"url": "https://medium.com/tag/amazon-rds?source=post_page-----14f9f3087d28---------------amazon_rds-----------------", "anchor_text": "Amazon Rds"}, {"url": "https://medium.com/tag/ds-in-the-real-world?source=post_page-----14f9f3087d28---------------ds_in_the_real_world-----------------", "anchor_text": "Ds In The Real World"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F14f9f3087d28&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-rds-step-by-step-guide-14f9f3087d28&user=Iana+Pyrogova&userId=fe81a7da2a9e&source=-----14f9f3087d28---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F14f9f3087d28&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-rds-step-by-step-guide-14f9f3087d28&user=Iana+Pyrogova&userId=fe81a7da2a9e&source=-----14f9f3087d28---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F14f9f3087d28&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-rds-step-by-step-guide-14f9f3087d28&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----14f9f3087d28--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F14f9f3087d28&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-rds-step-by-step-guide-14f9f3087d28&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----14f9f3087d28---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----14f9f3087d28--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----14f9f3087d28--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----14f9f3087d28--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----14f9f3087d28--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----14f9f3087d28--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----14f9f3087d28--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----14f9f3087d28--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----14f9f3087d28--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@aboutiana?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@aboutiana?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Iana Pyrogova"}, {"url": "https://medium.com/@aboutiana/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "43 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffe81a7da2a9e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-rds-step-by-step-guide-14f9f3087d28&user=Iana+Pyrogova&userId=fe81a7da2a9e&source=post_page-fe81a7da2a9e--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Ffe81a7da2a9e%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-rds-step-by-step-guide-14f9f3087d28&user=Iana+Pyrogova&userId=fe81a7da2a9e&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}