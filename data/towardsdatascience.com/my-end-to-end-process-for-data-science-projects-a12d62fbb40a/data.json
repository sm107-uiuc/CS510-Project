{"url": "https://towardsdatascience.com/my-end-to-end-process-for-data-science-projects-a12d62fbb40a", "time": 1683009279.7247648, "path": "towardsdatascience.com/my-end-to-end-process-for-data-science-projects-a12d62fbb40a/", "webpage": {"metadata": {"title": "My End-to-End Process for Data Science Projects | by Nathanael Weill | Towards Data Science", "h1": "My End-to-End Process for Data Science Projects", "description": "Why do I write this story? Simply because not every data science project is successful. For sure, you can Google this topic and you will find thousands of reasons. For me, projects that didn\u2019t\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/functional-programing-in-data-science-projects-c909c11138bb", "anchor_text": "previous story", "paragraph_index": 0}, {"url": "https://papers.nips.cc/paper/5656-hidden-technical-debt-in-machine-learning-systems.pdf", "anchor_text": "Hidden Technical Debt in Machine Learning Systems", "paragraph_index": 27}, {"url": "https://towardsdatascience.com/functional-programing-in-data-science-projects-c909c11138bb", "anchor_text": "previous story", "paragraph_index": 30}], "all_paragraphs": ["Why do I write this story? Simply because not every data science project is successful. For sure, you can Google this topic and you will find thousands of reasons. For me, projects that didn\u2019t succeed have been the biggest opportunities to improve my process and my skills. In this story, I will briefly summarize my learnings by providing my current (and still improving) process in a data science project. I do not doubt that this process does not apply to everyone simply because there is not a single definition of a \u201cdata science project\u201d. My aim here is to share my experience by summarizing the different steps of a project. It does not guarantee success, but, at least, this process will try to address all pitfalls that you, as a Data Scientist, can prevent. My role is to create pipelines that consume data and provide insight(s) (see my definition of pipeline in my previous story). This is the process I am using to do so.", "The first step is to scope the solution. Sometimes it is very hard to find the balance between expectations and pricing. My recommendation is to drive any decisions by looking at the real need. This would allow putting aside \u201cnice to have\u201d s and prioritize \u201cmandatory features\u201d.", "To draft the scope of the project, the first step is to work with the client and to understand the pain point and his motivations. In this story, I will use the term client for the person paying for the project. In reality, the client might be a director/VP/CTO of your company. The client is the one that decided to invest in this project. It is mandatory to understand why this person is interested in this project. Maximizing production? Scaling of a process? Avoid failures in his factory? Anything\u2026 What is the pain point? This is very important for the next step. A good trick is to ask how the client is currently treating his pain point. If there is already a metric capturing the efficiency of the current process.", "Many times I had the opportunity to draft a scope without even knowing who will use the solution. This is wrong! A project is successful if the solution is used. I have been in projects where the user is not even clearly identified. This is the best way to create something that will never be used. A CEO of a company says: \u201cAI is trendy and cool, we should do something with it\u201d. RUN!", "Let\u2019s take an example. A director/VP wants to use AI to optimize stock management in his factory. Great! Then I started talking about the solution but the future user is not even in the room. We start working on the project and we decided that the algorithm will provide an email every morning with a forecast of demand to help the stock manager to make the best decision. I work hard and I succeed in this task. We even develop the infrastructure to support the algorithm. Everything is done and the CEO is happy! Well, guess what? This forecast is not even the manager\u2019s biggest concern. He has a hard time figuring out in real-time where and what items are available in the factory. Too bad, a simple interactive dashboard would have done the job. The forecast is useless without this information. The project is a failure.", "In another situation, the manager needs a forecast every week and not every day, or the forecast needs to be available in realtime not per day\u2026 All those situations happen. My best recommendation is to bring the future user as early as you can in the conversation because he is the best person to define the needs.", "At this point, what I want is a clear success criterion.", "Client: \u201cI need the algorithm to predict when my assembly line will fail\u201d.", "Me: \u201cOk\u201d, me looking at the operator, \u201cHow much in advance do you need this prediction?\u201d (Here, I am trying to define the granularity of the problem.)", "Operator: \u201cI need the prediction for 2 days in advance, and I need this information in the morning before 7 am\u201d.", "Me: \u201cGreat, but you have to understand that chances are the algorithm will produce false alarms and also miss some failures. Are you comfortable with this? What is the current situation? How much cost failure and how much cost asking the maintenance team to work on a machine if it is not needed? How many machines you can check within a day?\u201d", "I need all those answers to create a success criterion.", "Me: \u201cHow do you solve this problem right now?\u201d.", "Operator: \u201cWe have 1000 machines and we have at least 1 of them would fail every day. We cannot check them all, so, we prioritize our investigation by checking the one that has not been checked for a long time\u201d.", "The last information is very important because it tells me where is the bar. If I simulate the current strategy, I can evaluate how much better my solution is.", "All this information helps me to define a metric with a success criterion. In this type of situation, I rather use a metric like a Hit Rate. The number of true positives within the top N most probable predicted failures. N is the number of interventions the maintenance team can take care of within a day. I rarely communicate metrics like F-Measure or AUC to the client because he cannot use this measurement to decide if the solution is a success or not. At the end of the conversation, we found out that a Hit Rate of 2 would be valuable enough for the solution to be used. Also, thanks to the information I collected, I can price how much money the client is currently wasting and how much money the client can save with a successful solution. Then, I can convert my metric in dollars when I present progress to the client.", "An important consideration is that my solution will be integrated into an existing system. This system exists for a reason and people are using it. The AI solution will alter this system. This disruption has to be anticipated otherwise the final phase of the project (when people use the solution) may cause unexpected additional costs. This disruption might be so important that the client might finally change his mind and refuse to take the risk of releasing the solution (it happened to me). My recommendation is to introduce this potential disruption in the conversation during the initial scoping of the solution.", "At the end of the discussion, I ask for a snippet of data, some information about the way we can collect the data, etc\u2026 I do data analysis (1\u20132 days) to check if there are no big red flags. Data engineers would also take part in the conversation to draft an architecture.", "Now, I have the scope, I can move to the next step which is working on the solution.", "The objective of this phase is to demonstrate that the project is viable and can bring value. To optimize the process in this phase, you have to consider what needs to be constraints.", "Basically in a POC phase, I cannot constraint the time, the resources, and the accuracy at the same time. Time means the amount of time I can spend on this project. Resources are the number of persons allocated to this project. Accuracy means the accuracy of the model. Theoretically, you can only constraints two of them. In reality, resources are more or less always constrained. Maybe some companies can allocate an \u201cinfinite\u201d number of resources on a project. I have never been in such a situation. If you relax accuracy, it corresponds to a \u201chackathon mode\u201d or \u201cspike\u201d. It is useful when you want to investigate an idea, most probably, for a short time. The most realistic choice is to relax time. Some clients have a hard time working in this mode because they have deadlines to respect and they might have the feeling that the POC will never end. But, the trick is to communicate progress to the client in an efficient way. For that reason, I use the Agile methodology. This paradigm has been invented for software development but I adapt it in the context of a data science project. If you are not familiar with the wording, I invite you to read some articles about Agile.", "I work generally in a sprint of 2 or 3 weeks depending on the client. The objective of the first sprint is to establish a baseline. A baseline is declared when the first end-to-end pipeline (from data to metric) delivers a number. In this initial sprint, I choose the simplest path. This is the only thing that matters. Get a number as fast as possible. For instance, if some variables have missing values, the simplest is to remove those variables from the dataset. Or if I have to choose a model, the simplest is a linear regression or a logistic regression because there is no parametrization. No creasy preprocessing, only simple steps. Avoid any type of step that would imply fine-tuning or calibration. No PCA, no standardization, nothing. Basically, in this sprint, I set up the CI/CD, the git repository, I write a parser, and I create the simplest version of the pipeline to end up with a number for the metric. The only thing that I need to pay attention to is the evaluation strategy. It is hard to compare performances between 2 pipelines if you switch between 66% train 33% test procedure to a cross-validation procedure. The evaluation strategy needs to be as close as possible from the way the pipeline will be used. In the above example, I would use a growing window for the training set and a sliding window for the test set.", "The second sprint is to productize the baseline. With the help of data engineers and DevOps, we set up the architecture to support the pipeline. Some people prefer to wait until the pipeline reaches the level of accuracy as it is defined in the scope. For me, I try to unblock the other teams as early as I can to produce an MVP as soon as possible.For my sprints, I use standard cycles. A stand up meeting every day to check if there are no blockers. We do planning at the beginning of the sprint and demo at the end. We also do retrospective from time to time. At the end of the sprint, we check if the new version of the pipeline provides better results compared to the baseline. If yes, it corresponds to the new baseline for the next sprint. I track this information over sprints and I include it in the demo.", "I show the plot above to the client during the demo. He can decide 1) to continue for another sprint, 2) to declare that we reach the objectives or 3) to drop the project because the current solution is too far from the expectations and it would take a prohibitive amount of time to finish. This early stoping is beneficial for everyone. For the client, he is not wasting money on a project that might be too expensive and for the team to be reallocated to another project with a higher probability of success. The demo is also the opportunity to validate new assumptions.", "During each iteration, I increase the complexity of the pipeline. For instance, I gather external data to augment the dataset, I improve the preprocessing, add more features, use a different algorithm, etc\u2026 The danger here is to over-engineer the pipeline. For instance, I don\u2019t try to draft a new deep learning architecture at the second iteration or I don\u2019t add crazy complex features to nail one or two outliers that would not affect the metric drastically. To identify what can be the most impactful alteration of the pipeline, I often look at instances that have the largest error to try to find an explanation and derive a new cleaning strategy and/or new features. I order those alterations by the amount of work and start with the simplest.", "A note about CI/CD and notebook:", "A measurement of the metric has to be reproducible. So I disregard any data point that has not been produced by the CI/CD pipeline. If the result has been obtained in a Jupyter notebook, I have to convince myself that it can be reproduced on another machine. Notebooks are cool for data analysis but they require strong discipline to make sure the results are reproducible. I know I am not capable of such a thing. For that reason, I only trust numbers from the CI/CD. I have been in a situation where I claimed to the client that we meet the expectation and finally, I was not able to reproduce the results. It is very frustrating and costly for everyone\u2026 I wish you never have to live in this situation.", "I strongly recommend you have a look at the article \u201cHidden Technical Debt in Machine Learning Systems\u201d. The machine learning code is a small piece of the entire solution. It is important to have a clear picture of the additional steps needed for productization. productization requires the support of data engineers and DevOps.", "Hopefully, the POC is done and we met the success criterion. Good!! Now we need to productize the pipeline. There are two main ways to proceed:", "Both approaches have pros and cons. The hands-off approach will make sure that the solution is more stable. Because a data scientist is not always an experimented developer (no offense here), productization of the code is often in the hand of other people. It is often the case in a large company. A detail, in this situation, the ownership of the code does not belong to the data scientist anymore. So fixing bugs is done by the software development team.", "The second approach is to ask the data scientist to wrap his code into a library and it will be used in another system. For instance, in a lambda function in the cloud. This approach is faster since we avoid rewriting code. The code is \u201ccleaned\u201d and the debts are paid. If you follow my recommendations in my previous story, this step can be done efficiently. Finally, the owner of the code remains the data scientist and I am in charge of fixing bugs. This way is often chosen in small companies and startups where a limited number of people can work on each project.", "I prefer to use the second option. I will explain my reason with more detail in the next section. Briefly, when using the first approach, if I want to release improvements of the solution or to add some features, I would have to work on my code base, rewrite specifications, wait for the developer team to update the solution, etc\u2026 This can take months. A fast cycle would imply to minimize hands-off.", "Ok, now my pipeline is in production. However, it is important to create a process to capture the feedback of the operator to continuously improve the solution. For instance, The operator is using the product daily but he proposed some improvements for the algorithm. For instance, instead of predicting if a failure would occur, he prefers to have a score or a probability of failure. To derive a score from the prediction, it would require a minor change in the pipeline. Just returning the probability instead of the predicted class. What I try to do is to set up a feedback process as soon as the first version of the pipeline is accessible (sprint 2\u20133). This feedback loop would also help me to adjust over the sprints but when the product is released, this continuous improvement remains. To have a good interaction with the user, I want improvement to be released as fast as possible. For that reason, I avoid the hands-off strategy to do the improvement myself and get feedback faster. The feedback loop is also important to capture the decisions made by the operator. When decisions don\u2019t match the prediction of the pipelines, it means we can improve the pipeline by incorporating the \u201creasons\u201d the operator took his decision. Over time, the role of the operator will change and get simpler. One consequence is the ability to scale his capabilities. Ultimately, a predictive pipeline can become a prescriptive pipeline. Then, the prediction is not interpreted by the operator anymore and directly connected to take action. This introduces my last point:", "It is important to understand that introducing an AI solution in a company, will disrupt the usual way the employee would work. Sometimes, the employees\u2019 role changes and additional skills might be needed. For example, if you introduce a chatbot to help the customer support team, this team might be reduced or reallocated to other tasks. The solution might also cause some business reorientation in the client company. I have seen some companies changing their strategy from selling products to selling services because of the new solution. This is often not anticipated by the client. Sometimes, it can cause the project to stop for a while. It happened to me that the company would have been so much affected by the algorithm that the reorganization and the integration of the solution in their system would require much more investment. They finally decided not to use it. I try to introduce this subject very early in the process to make sure the client would anticipate the situation.", "I hope you recognized yourself in one or the other situations I described. If you agree, or disagree, please let a comment below.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I went across many different fields in my career. From biochemistry to math and computer science, the only common aspect is the use of machine/deep learning."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa12d62fbb40a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-end-to-end-process-for-data-science-projects-a12d62fbb40a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-end-to-end-process-for-data-science-projects-a12d62fbb40a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-end-to-end-process-for-data-science-projects-a12d62fbb40a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-end-to-end-process-for-data-science-projects-a12d62fbb40a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a12d62fbb40a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a12d62fbb40a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@naweill?source=post_page-----a12d62fbb40a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@naweill?source=post_page-----a12d62fbb40a--------------------------------", "anchor_text": "Nathanael Weill"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F87aa346ee87b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-end-to-end-process-for-data-science-projects-a12d62fbb40a&user=Nathanael+Weill&userId=87aa346ee87b&source=post_page-87aa346ee87b----a12d62fbb40a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa12d62fbb40a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-end-to-end-process-for-data-science-projects-a12d62fbb40a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa12d62fbb40a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-end-to-end-process-for-data-science-projects-a12d62fbb40a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@lephunghia?utm_source=medium&utm_medium=referral", "anchor_text": "Nghia Le"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/functional-programing-in-data-science-projects-c909c11138bb", "anchor_text": "previous story"}, {"url": "https://papers.nips.cc/paper/5656-hidden-technical-debt-in-machine-learning-systems.pdf", "anchor_text": "Hidden Technical Debt in Machine Learning Systems"}, {"url": "https://towardsdatascience.com/functional-programing-in-data-science-projects-c909c11138bb", "anchor_text": "previous story"}, {"url": "https://www.linkedin.com/in/nathanaelweill/", "anchor_text": "here"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a12d62fbb40a---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/agile?source=post_page-----a12d62fbb40a---------------agile-----------------", "anchor_text": "Agile"}, {"url": "https://medium.com/tag/editors-pick?source=post_page-----a12d62fbb40a---------------editors_pick-----------------", "anchor_text": "Editors Pick"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa12d62fbb40a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-end-to-end-process-for-data-science-projects-a12d62fbb40a&user=Nathanael+Weill&userId=87aa346ee87b&source=-----a12d62fbb40a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa12d62fbb40a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-end-to-end-process-for-data-science-projects-a12d62fbb40a&user=Nathanael+Weill&userId=87aa346ee87b&source=-----a12d62fbb40a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa12d62fbb40a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-end-to-end-process-for-data-science-projects-a12d62fbb40a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a12d62fbb40a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa12d62fbb40a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-end-to-end-process-for-data-science-projects-a12d62fbb40a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a12d62fbb40a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a12d62fbb40a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a12d62fbb40a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a12d62fbb40a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a12d62fbb40a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a12d62fbb40a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a12d62fbb40a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a12d62fbb40a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a12d62fbb40a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@naweill?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@naweill?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Nathanael Weill"}, {"url": "https://medium.com/@naweill/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "79 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F87aa346ee87b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-end-to-end-process-for-data-science-projects-a12d62fbb40a&user=Nathanael+Weill&userId=87aa346ee87b&source=post_page-87aa346ee87b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fda338d06a584&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-end-to-end-process-for-data-science-projects-a12d62fbb40a&newsletterV3=87aa346ee87b&newsletterV3Id=da338d06a584&user=Nathanael+Weill&userId=87aa346ee87b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}