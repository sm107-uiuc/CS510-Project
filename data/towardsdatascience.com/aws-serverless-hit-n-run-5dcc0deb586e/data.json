{"url": "https://towardsdatascience.com/aws-serverless-hit-n-run-5dcc0deb586e", "time": 1683017633.287699, "path": "towardsdatascience.com/aws-serverless-hit-n-run-5dcc0deb586e/", "webpage": {"metadata": {"title": "AWS Serverless Hit n\u2019 Run. AWS Lambda Functions + AWS Layers + S3\u2026 | by Agnij Dave | Towards Data Science", "h1": "AWS Serverless Hit n\u2019 Run", "description": "A brief overview of leveraging AWS Lambda Functions for your applications. Integration with various AWS tools + Open-source Python libraries, along with some hacks & general usage. Serverless is like\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/keithrozario/Klayers", "anchor_text": "https://github.com/keithrozario/Klayers", "paragraph_index": 32}], "all_paragraphs": ["A brief overview of leveraging AWS Lambda Functions for your applications. Integration with various AWS tools + Open-source Python libraries, along with some hacks & general usage.", "Serverless is like a trump card for all the minions putting in a shift in the World of Tech. The good part is you only pay for the resources consumed by your application. There is no involvement in deploying and maintaining a server from your side, it is all taken care of by AWS. (How Convenient!? \ud83d\udc4a)", "Why Hit n\u2019 Run? Well, since this was my very first experience with Serverless and It turns out to be very efficient!!", "Now getting back to lambda functions, assuming you have an AWS Subscription (free tier available). Navigate to the Lambda console page:", "Go Ahead and create a basic lambda function. AWS offers various regions that you can select from. The catch being, a trade-off between the latency in response time and pricing.", "After creation, you will come across the following panels: Designer, Function code, Basic Settings, and many more.", "For the scope of this article, we will go with the first three I have mentioned. Once you set up and test your use case a few times the other panels will be handy in optimizing the performance.", "You can trigger your function in various ways. Some of the common ones are through the API Gateway (creating an API that triggers the lambda is simple enough, say a POST call sending some data which is then manipulated via the lambda and returned &/ updated in some DB), S3 Buckets (OBJECT CREATE EVENT, etc), Amazon Simple Notification Service, etc on triggering the code execution begins.", "How about leveraging all the amazing open-source libraries present out there? Well yes AWS has made provisions for this too. In order to proficiently use libraries across lambda functions, we can create Layers.", "You have to create Lambda layers as zip files of the libraries you want to import or else by providing a layer version ARN. An important point to keep in mind while creating these is the folder structure and operating system-", "I have provided links at the end to some very useful articles and resources I came across. These also include one that helps in deploying an ML Model as a Lambda Layer Instead of using an expensive resource such as AWS SageMaker.", "After you create a Layer and add it to your lambda function, you can immediately import it into the Function Code.", "Once a lambda is triggered the function lambda_handler(event, context) of script lambda_function.py gets executed (this is easliy editable via the runtime settings panel, as in you can specify which function has to run once the lambda is triggered, however, do not forget the two parameters \u2018event\u2019 and \u2018context\u2019). From the two parameters event contains the data say the JSON you posted via an API call or S3 OBJECT CREATE EVENT as a JSON containing details about the bucket name, file name, etc", "Once you have configured your lambda the same can be put to test after creating TEST events which simply sends a JSON to your lambda function \u2018event\u2019 parameter. The output of which will be the value returned via your lambda. The logging of the same is available by another AWS Service \u2014 CloudWatch. You can access this via the Monitoring Tab and is available as part of the lambda function, No additional configuration required.", "What Next? Well once you have created and Tested your lambda function, added layers for the libraries you want to import, and APIs or S3 buckets for triggering your lambda function things become a lot smoother for the development of your application.", "S3 is a Simple Storage Device Service offered by Amazon to store files. In order to work with S3 buckets using python \u2014 \u2018boto3\u2019 is the SDK used. An important point to mention is that a few libraries such as boto3, JSON, traceback, re, etc are already provided by AWS and need not be added separately as layers but can be directly imported in your function.", "Using boto3 one can create a bucket, delete a bucket, read/save a file from/to a bucket:", "Before being able to manipulate files present in the S3 Buckets via your lambda function, you will have to attach the \u2018AmazonS3FullAccess\u2019 policy to your lambda function role. Every lambda function is assigned a role name on creation.", "You can view this by navigating to IAM -> Roles -> \u2018your-lambda-name-role\u2019. Here one can attach various policies that behave as permissions.", "You can trigger your lambda function using this service. After creating an API one can configure it on the API Gateway page i.e., create new methods (POST call, GET call), select the lambda function to trigger, and finally deploy it.", "This Folder comes in handy when dealing with the temporary storage of files. It spawns up only during the execution period of a lambda function, Memory (500 MB). It was useful while trying various open-source libraries for the conversion of file formats (PDF Creation, etc).", "These points seem to scratch the possibilities when it comes to lambda functions giving you a basic understanding of the working of lambdas and how one can tune them for their own applications. There are various other resources that you can leverage in sync with AWS Lambdas.", "Based on my experience Once you start working with AWS Lambdas it is simply like working on another IDE, and also, I would suggest against declaring global variables in the function code (In my experience, data got mixed up when multiple instances were spawned \ud83d\ude35) and waiting a few seconds before deploying your code after making some changes on the console browser (or simpler make changes in the zip file and upload \ud83d\ude2c).", "I have listed down some key points to keep in mind while working with lambda functions:", "If you make a request to the function while it is already executing a previous request, it spawns another instance.", "In AWS Unreserved Account concurrency is at 1000. This means if you trigger your lambda 1000 times in 1 second you will have 1000 instances running each executing the same code in your function.", "No hassle of maintaining a server and changing your plan every month based on usage in order to optimize costs.", "Integration with various other amazing AWS Resources such as Textract, SNS, etc.", "1. Time \u2014 A lambda function can run for a maximum of 15 minutes, beyond which the code terminates.", "2. You can send a maximum of 10MB of data using the AWS API Gateway.", "3. You can have a maximum of 5 Layers, the combined size of which should be <250 MB for a lambda.", "I hope this provides some valuable insight to people beginning to use Cloud Based Solutions like AWS Lambdas or rather pushes you into trying it out. \ud83d\ude00", "2. For creating lambda layers using ARN \u2014 https://github.com/keithrozario/Klayers", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5dcc0deb586e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-serverless-hit-n-run-5dcc0deb586e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-serverless-hit-n-run-5dcc0deb586e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-serverless-hit-n-run-5dcc0deb586e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-serverless-hit-n-run-5dcc0deb586e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5dcc0deb586e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5dcc0deb586e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://agnijd.medium.com/?source=post_page-----5dcc0deb586e--------------------------------", "anchor_text": ""}, {"url": "https://agnijd.medium.com/?source=post_page-----5dcc0deb586e--------------------------------", "anchor_text": "Agnij Dave"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2c78daa0d3a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-serverless-hit-n-run-5dcc0deb586e&user=Agnij+Dave&userId=2c78daa0d3a9&source=post_page-2c78daa0d3a9----5dcc0deb586e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5dcc0deb586e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-serverless-hit-n-run-5dcc0deb586e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5dcc0deb586e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-serverless-hit-n-run-5dcc0deb586e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@_twistedplot?utm_source=medium&utm_medium=referral", "anchor_text": "Magda V"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/hosting-your-ml-model-on-aws-lambdas-api-gateway-part-1-9052e6b63b25", "anchor_text": "https://towardsdatascience.com/hosting-your-ml-model-on-aws-lambdas-api-gateway-part-1-9052e6b63b25"}, {"url": "https://github.com/keithrozario/Klayers", "anchor_text": "https://github.com/keithrozario/Klayers"}, {"url": "https://medium.com/@sumindaniro/aws-textract-with-lambda-walkthrough-ed4473aedd9d", "anchor_text": "https://medium.com/@sumindaniro/aws-textract-with-lambda-walkthrough-ed4473aedd9d"}, {"url": "https://github.com/aws-samples/amazon-textract-serverless-large-scale-document-processing", "anchor_text": "https://github.com/aws-samples/amazon-textract-serverless-large-scale-document-processing"}, {"url": "https://medium.com/tag/s3-bucket?source=post_page-----5dcc0deb586e---------------s3_bucket-----------------", "anchor_text": "S3 Bucket"}, {"url": "https://medium.com/tag/aws-lambda-layer?source=post_page-----5dcc0deb586e---------------aws_lambda_layer-----------------", "anchor_text": "Aws Lambda Layer"}, {"url": "https://medium.com/tag/aws-lambda-functions?source=post_page-----5dcc0deb586e---------------aws_lambda_functions-----------------", "anchor_text": "Aws Lambda Functions"}, {"url": "https://medium.com/tag/aws-api-gateway?source=post_page-----5dcc0deb586e---------------aws_api_gateway-----------------", "anchor_text": "Aws Api Gateway"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----5dcc0deb586e---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5dcc0deb586e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-serverless-hit-n-run-5dcc0deb586e&user=Agnij+Dave&userId=2c78daa0d3a9&source=-----5dcc0deb586e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5dcc0deb586e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-serverless-hit-n-run-5dcc0deb586e&user=Agnij+Dave&userId=2c78daa0d3a9&source=-----5dcc0deb586e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5dcc0deb586e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-serverless-hit-n-run-5dcc0deb586e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5dcc0deb586e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5dcc0deb586e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-serverless-hit-n-run-5dcc0deb586e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5dcc0deb586e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5dcc0deb586e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5dcc0deb586e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5dcc0deb586e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5dcc0deb586e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5dcc0deb586e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5dcc0deb586e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5dcc0deb586e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5dcc0deb586e--------------------------------", "anchor_text": ""}, {"url": "https://agnijd.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://agnijd.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Agnij Dave"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2c78daa0d3a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-serverless-hit-n-run-5dcc0deb586e&user=Agnij+Dave&userId=2c78daa0d3a9&source=post_page-2c78daa0d3a9--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F2c78daa0d3a9%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-serverless-hit-n-run-5dcc0deb586e&user=Agnij+Dave&userId=2c78daa0d3a9&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}