{"url": "https://towardsdatascience.com/sql-in-python-for-beginners-b9a4f9293ecf", "time": 1682997314.502323, "path": "towardsdatascience.com/sql-in-python-for-beginners-b9a4f9293ecf/", "webpage": {"metadata": {"title": "Introduction to SQL in Python for Data Scientists | by Nick Minaie, PhD | Towards Data Science", "h1": "Introduction to SQL in Python for Data Scientists", "description": "This article provides an overview for data scientists about leveraging SQL for data queries in Python. SQL engine in Python is described and basic statements are reviewed."}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/SQL", "anchor_text": "SEQUEL (Structured English Query Language)", "paragraph_index": 3}, {"url": "https://en.wikipedia.org/wiki/Help:IPA/English", "anchor_text": "/\u02c8si\u02d0kw\u0259l/", "paragraph_index": 3}, {"url": "https://aws.amazon.com/relational-database/", "anchor_text": "Amazon Web Services provides the best definition for a relational datab", "paragraph_index": 5}, {"url": "https://www.geeksforgeeks.org/sql-using-python/", "anchor_text": "SQLite", "paragraph_index": 8}, {"url": "https://www.w3schools.com/python/python_mysql_getstarted.asp", "anchor_text": "MySQL", "paragraph_index": 8}, {"url": "https://www.sqlalchemy.org/", "anchor_text": "sqlalchemy", "paragraph_index": 9}, {"url": "https://www.sqlalchemy.org/", "anchor_text": "library.", "paragraph_index": 9}, {"url": "https://www.sqlalchemy.org/", "anchor_text": "https://www.sqlalchemy.org/", "paragraph_index": 13}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "Wildcards (or wild characters) are symbols used to replace or represent one or more characters in a word. The one familiar one is", "paragraph_index": 24}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "*", "paragraph_index": 24}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "that is used for", "paragraph_index": 24}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "zero or many characters", "paragraph_index": 24}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "or", "paragraph_index": 24}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "?", "paragraph_index": 24}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "that is used for", "paragraph_index": 24}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "one character", "paragraph_index": 24}, {"url": "https://www.w3schools.com/sql/", "anchor_text": "https://www.w3schools.com/sql/", "paragraph_index": 33}, {"url": "https://www.linkedin.com/in/nickminaie/", "anchor_text": "LinkedIn Profile", "paragraph_index": 34}], "all_paragraphs": ["This article provides an overview of the basic SQL statements for data scientists, and explains how a SQL engine can be instantiated in Python and used for querying data from a database.", "As a data scientist using Python, you often need to get your data from a relational database that is hosted either on your local server, or on the cloud (e.g. AWS cloud). There are many ways to approach this. For example, you can query your data in Oracle, save the file as a .csv file, and then import it in Python. However, the most efficient way it to use SQL directly in Python. Coupling SQL and Pandas would give you many options to query, process, and use the data for your project in Python.", "SQL (aka Structured Query Language) is a programming language used for managing or querying data stored in a relational database management system (RDBMS). SQL has been the dominant language for handling structured data where the entities in the database (e.g. tables, or table entities) are related (that is why these databases are called relational databases). There are other options for handling such data, but SQL has been the most popular, widely used language in the industry.", "SQL was developed at IBM in the early 1970s, and it was originally called \u201cSEQUEL (Structured English Query Language)\u201d. Later on, the name was changed to SQL (Structured Query Language) due to a trademark issue. However, the pronunciation \u201csee-qu-el\u201d (/\u02c8si\u02d0kw\u0259l/ ) stayed with the language, and that is the adopted pronunciation by most practitioners.", "[Pro tip: when you go to an interview, make sure you pronounce it \u201csee-qu-el\u201d, if you want the job!]", "Amazon Web Services provides the best definition for a relational databl:", "A relational database is a collection of data items with pre-defined relationships between them. These items are organized as a set of tables with columns and rows. Tables are used to hold information about the objects to be represented in the database. Each column in a table holds a certain kind of data and a field stores the actual value of an attribute. The rows in the table represent a collection of related values of one object or entity. Each row in a table could be marked with a unique identifier called a primary key, and rows among multiple tables can be made related using foreign keys. This data can be accessed in many different ways without reorganizing the database tables themselves.", "Databases can have very complex designs, with many tables, and each table with many entities (columns) and many rows. It would be extremely difficult, or maybe even impossible, to query data when the relationships between tables is not known. ERD (Entity Relationship Diagram) is used to visualize these relationships and also show the entities in each table and their datatypes. Your database administrator should be able to give your the database\u2019s ERD.", "There are many ways to use SQL in Python. Multiple libraries have been developed for this purpose that can be utilized. SQLite and MySQL are examples of these libraries.", "In this article, we are going to use Python Pandas in conjunction with sqlalchemy library.", "Let\u2019s get started! We need to install and then import the libraries first. We will be using the create_engine feature from this library.", "Once the library is imported, we need to create a SQL engine using this command which creates a new class`.Engine` instance.", "The first argument is usually a string that indicates database dialect and connection arguments in the form of a URL and can be written as:", "where dialect is a database name such as mysql, oracle, postgresql, etc., and driver the name of a DBAPI, such as psycopg2, pyodbc, cx_oracle, etc. More details on this can be found at https://www.sqlalchemy.org/.", "Now that you are connected to the database, you can submit data queries. to use sqlalchemy you need to wrap your SQL statements in a container, send it to the database, get the response back, and then put the response in a panda dataframe. The two primary clauses that must be present in every query are SELECT, and FROM.", "For example, the following code snippet will return all entities (columns) from table_1saves the response into a dataframe, and displays the head.", "Instead, you could also pull specific columns from the table, using this code instead:", "If you are dealing with multiple tables (which you surely will in a real world project), you may need to specify which entity from which table because the entities of interest may come from different tables in the database. We will discuss how multiple entities from multiple tables can be queries, but this example is for entities from one table. In this case, you can use namespacing in your SQL statement:", "You can also assign aliases to each entity name or table name for simplification or readability purposes:", "If you want to get the distinct rows from a column, you can send this SQL statement:", "If you want to order your data by a specific column (or multiple columns) you can use ORDER BY and specify a you want ASC (ascending) or DESC (descending) order. Remember, if you use multiple columns in ORDER BY the order in which SQL orders the data will be from left to right.", "Sometime you are dealing with a very large dataset, but you may only need to retrieve a limited dataset from the database. If this case, you can use LIMIT:", "If you want to include a condition for the query, you can use WHERE. You can either use boolean conditions, or wildcards for string entities. For example:", "or WHERE entity_1 BETWEEN 5 and 10", "Wildcards (or wild characters) are symbols used to replace or represent one or more characters in a word. The one familiar one is * that is used for zero or many charactersor ? that is used for one character. We can use wildcards effectively in SQL when querying string entities using LIKE statement in SQL. The different between % and * is that % also account for underscore, but * does not. In Python, you should use %% instead of one %. The statement below returns all rows in which entity_3 starts with M.", "ILIKE make this query insensitive to the character case, and NOT LIKE returns all rows in which the entity is NOT like the wildcard.", "To deal with the null values, you can use:", "or WHERE entity_1 IS NOT NULL.", "Often you need to aggregate the data, group the data, and apply conditions to aggregated data. These aggregate statements include COUNT, AVG, MIN, MAX, and SUM. For example:", "When using aggregates, you should use HAVING instead of WHERE, like:", "To group your data by specific entity, you can use GROUP BY:", "When querying data from multiple tables, you need to join these tables. There are multiple ways to join tables in SQL. Figure below illustrates these joins. You will likely work with inner joins more often, but it is important to understand what each type of join does.", "Joining tables can only be done when there is a common entity between the two tables, and you need to define that relationship using ON.", "These statements cover the basics of SQL in Python. You can combine these statements based on the database you are dealing with, the type of data you need. There are many more statements that you can use. https://www.w3schools.com/sql/ provides a more comprehensive overview of SQL statements.", "Nick Minaie, PhD (LinkedIn Profile) is a senior consultant and a visionary data scientist, and represents a unique combination of leadership skills, world-class data-science expertise, business acumen, and the ability to lead organizational change. His mission is to advance the practice of Artificial Intelligence (AI) and Machine Learning in the industry.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Machine Learning and Artificial Intelligence Expert, Blockchain Enthusiast, Entrepreneur"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb9a4f9293ecf&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-for-beginners-b9a4f9293ecf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-for-beginners-b9a4f9293ecf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-for-beginners-b9a4f9293ecf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-for-beginners-b9a4f9293ecf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b9a4f9293ecf--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b9a4f9293ecf--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@minaienick?source=post_page-----b9a4f9293ecf--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@minaienick?source=post_page-----b9a4f9293ecf--------------------------------", "anchor_text": "Nick Minaie, PhD"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1854146374b5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-for-beginners-b9a4f9293ecf&user=Nick+Minaie%2C+PhD&userId=1854146374b5&source=post_page-1854146374b5----b9a4f9293ecf---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb9a4f9293ecf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-for-beginners-b9a4f9293ecf&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb9a4f9293ecf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-for-beginners-b9a4f9293ecf&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://en.wikipedia.org/wiki/SQL", "anchor_text": "SEQUEL (Structured English Query Language)"}, {"url": "https://en.wikipedia.org/wiki/Help:IPA/English", "anchor_text": "/\u02c8si\u02d0kw\u0259l/"}, {"url": "https://aws.amazon.com/relational-database/", "anchor_text": "Amazon Web Services provides the best definition for a relational datab"}, {"url": "https://www.visual-paradigm.com/guide/data-modeling/what-is-entity-relationship-diagram/", "anchor_text": "https://www.visual-paradigm.com/guide/data-modeling/what-is-entity-relationship-diagram/"}, {"url": "https://www.geeksforgeeks.org/sql-using-python/", "anchor_text": "SQLite"}, {"url": "https://www.w3schools.com/python/python_mysql_getstarted.asp", "anchor_text": "MySQL"}, {"url": "https://www.sqlalchemy.org/", "anchor_text": "sqlalchemy"}, {"url": "https://www.sqlalchemy.org/", "anchor_text": "library."}, {"url": "https://www.sqlalchemy.org/", "anchor_text": "https://www.sqlalchemy.org/"}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "Wildcards (or wild characters) are symbols used to replace or represent one or more characters in a word. The one familiar one is"}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "*"}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "that is used for"}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "zero or many characters"}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "or"}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "?"}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "that is used for"}, {"url": "https://www.computerhope.com/jargon/w/wildcard.htm", "anchor_text": "one character"}, {"url": "https://www.dofactory.com/sql/join", "anchor_text": "https://www.dofactory.com/sql/join"}, {"url": "https://www.w3schools.com/sql/", "anchor_text": "https://www.w3schools.com/sql/"}, {"url": "https://www.linkedin.com/in/nickminaie/", "anchor_text": "LinkedIn Profile"}, {"url": "https://medium.com/tag/programming?source=post_page-----b9a4f9293ecf---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/sql?source=post_page-----b9a4f9293ecf---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/python?source=post_page-----b9a4f9293ecf---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----b9a4f9293ecf---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----b9a4f9293ecf---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb9a4f9293ecf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-for-beginners-b9a4f9293ecf&user=Nick+Minaie%2C+PhD&userId=1854146374b5&source=-----b9a4f9293ecf---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb9a4f9293ecf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-for-beginners-b9a4f9293ecf&user=Nick+Minaie%2C+PhD&userId=1854146374b5&source=-----b9a4f9293ecf---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb9a4f9293ecf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-for-beginners-b9a4f9293ecf&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b9a4f9293ecf--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb9a4f9293ecf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-for-beginners-b9a4f9293ecf&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b9a4f9293ecf---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b9a4f9293ecf--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b9a4f9293ecf--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b9a4f9293ecf--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b9a4f9293ecf--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b9a4f9293ecf--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b9a4f9293ecf--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b9a4f9293ecf--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b9a4f9293ecf--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@minaienick?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@minaienick?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Nick Minaie, PhD"}, {"url": "https://medium.com/@minaienick/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "268 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1854146374b5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-for-beginners-b9a4f9293ecf&user=Nick+Minaie%2C+PhD&userId=1854146374b5&source=post_page-1854146374b5--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F476193ccce0c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-for-beginners-b9a4f9293ecf&newsletterV3=1854146374b5&newsletterV3Id=476193ccce0c&user=Nick+Minaie%2C+PhD&userId=1854146374b5&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}