{"url": "https://towardsdatascience.com/breaking-down-goodreads-dataset-using-python-388e9b9d6352", "time": 1683002767.8339531, "path": "towardsdatascience.com/breaking-down-goodreads-dataset-using-python-388e9b9d6352/", "webpage": {"metadata": {"title": "Breaking Down Goodreads Dataset using Python | by Shivangi Sareen | Towards Data Science", "h1": "Breaking Down Goodreads Dataset using Python", "description": "I love reading books and am always looking out for the next one to read, even before I start the one recently bought. So, I decided to mess around with this Goodreads dataset I happened to stumble\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/jealousleopard/goodreadsbooks", "anchor_text": "Goodreads dataset", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/demystifying-virtual-environments-in-python-7c0a0b255928", "anchor_text": "post", "paragraph_index": 2}, {"url": "https://www.dataquest.io/blog/settingwithcopywarning/", "anchor_text": "explanation", "paragraph_index": 11}], "all_paragraphs": ["I love reading books and am always looking out for the next one to read, even before I start the one recently bought. So, I decided to mess around with this Goodreads dataset I happened to stumble upon on Kaggle and see what book recommendations I would end up with.", "It was super fun and packed with learning!", "Like always, I used Jupyter notebook and set up a virtual environment using virtualenv. Check out this post for all the steps.", "When reading the csv, we get the following error:", "This is happening because, in certain rows, there are commas that lead to all the values being shifted one place to the right and hence an extra column being added.", "What I ended up doing \u2014 using a text editor and adding a column in the end to avoid the ParseError. I named the column extra and read the csv file using pandas.", "Now we can view and data.", "bookID: unique identification number for each book;title: the name of the book;authors: names of the authors of the book. Multiple authors are delimited with -;average_rating: the average rating of the book;isbn: unique number to identify the book, the International Standard Book Number;isbn13: a 13-digit ISBN to identify the book, instead of the standard 11-digit ISBN;language_code: the primary language of the book;# num_pages: number of pages of the book;ratings_count: total number of ratings the book received;text_reviews_count: total number of written text reviews the book received.", "5 rows out of 13719 are corrupted, i.e., they have a value in the extra field.", "To find out these rows, we check which do not have value NaN in that field, i.e., have an integer value. So, I stored the index of those rows that had an integer value in the field extra.", "Let\u2019s combine the multiple authors into a single field. I join them using a ; in the authors field:", "We get a warning: SettingWithCopyWarning. This isn't an error so nothing is broken. However, it's always good to know what the warning is trying to tell us instead of brushing it off. Here's an explanation.", "The authors have been combined in one column. What\u2019s left to do now is to shift the column values, from the third column onwards (including third since we start from index 0), one space to the left. This is achieved using the shift operator where we specify how many spaces to the left (or right) need to be shifted and whether along the row or column axis.", "The result of this shift is missing values from two columns: # num_pages and text_reviews_count. This is because the data types of the columns do not match those of the final shifted values.", "The solution is to temporarily convert the data type of all columns to str, perform the shift and then convert them back to their original data types.", "We can now delete the last column.", "We now have to convert the data types of the columns back to their original types.", "pd.to_numeric automatically configures float or int data types.", "I want to only keep those books that are in English. First, we need a list of distinct language codes that are being used.", "When we print the list, we see that the English language codes start with en. So, simple use of regex will help us filter the data.", "The output is 5 language codes that correspond to English. We then use define a function to be used directly on the dataframe.", "This leaves us with books in English and reduces the number of rows to 12651. To further decrease the data size, we extract only relevant columns: title, authors, average_rating, ratings_count.", "To get a higher quality list of books, we need to set a threshold of average_rating and ratings_count. I decided to use the mean for both.", "This leaves us with a dataset of 1013 rows \u00d7 4 columns.", "Using average_rating as the only factor to get a list of top rated books isn\u2019t enough.", "The list below is not right.", "We need to factor in ratings_count. I created a new column weighted_rating as the multiplication of ratings_count and average_rating.", "Clearly, Harry Potter takes the lead. Now, I\u2019ve read the entire series and so I don\u2019t want to include any Harry Potter books. This is an easy case of regex.", "The top 20 books in the list:", "There are books in the list that I\u2019ve read and can easily filter out by adding to match_regex but I decided to leave it at that. The book that stood out was \u201cThe Secret Life of Bees\u201d. I hadn\u2019t heard of the book before and one I\u2019m surely going to give a read!", "Unfortunately, this dataset doesn\u2019t have a genre category (horror/crime/funny/\u2026) and a fiction/non-fiction category, which would\u2019ve made the list far more curated and personalised (thinking about creating such a list makes me squeal with excitement)!", "\u2192 Dealing with \u201ccorrupted rows\u201d\u2192 Filtering out data as much as possible to get desired results and increase performance\u2192 A major lesson is to reduce the number of for loops as much as possible, since they are slower than other methods:", "Hope you enjoyed took away some valuable insights!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Software Engineer @Apple | Reader | Writer | The Sustainable Edit"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F388e9b9d6352&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbreaking-down-goodreads-dataset-using-python-388e9b9d6352&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbreaking-down-goodreads-dataset-using-python-388e9b9d6352&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbreaking-down-goodreads-dataset-using-python-388e9b9d6352&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbreaking-down-goodreads-dataset-using-python-388e9b9d6352&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----388e9b9d6352--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----388e9b9d6352--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@shivangisareen?source=post_page-----388e9b9d6352--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@shivangisareen?source=post_page-----388e9b9d6352--------------------------------", "anchor_text": "Shivangi Sareen"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3dedb13989c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbreaking-down-goodreads-dataset-using-python-388e9b9d6352&user=Shivangi+Sareen&userId=3dedb13989c6&source=post_page-3dedb13989c6----388e9b9d6352---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F388e9b9d6352&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbreaking-down-goodreads-dataset-using-python-388e9b9d6352&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F388e9b9d6352&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbreaking-down-goodreads-dataset-using-python-388e9b9d6352&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@eddrobertson?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Ed Robertson"}, {"url": "https://unsplash.com/s/photos/books?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://www.kaggle.com/jealousleopard/goodreadsbooks", "anchor_text": "Goodreads dataset"}, {"url": "https://towardsdatascience.com/demystifying-virtual-environments-in-python-7c0a0b255928", "anchor_text": "post"}, {"url": "https://www.dataquest.io/blog/settingwithcopywarning/", "anchor_text": "explanation"}, {"url": "https://medium.com/tag/data-science?source=post_page-----388e9b9d6352---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----388e9b9d6352---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/pandas?source=post_page-----388e9b9d6352---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/jupyter-notebook?source=post_page-----388e9b9d6352---------------jupyter_notebook-----------------", "anchor_text": "Jupyter Notebook"}, {"url": "https://medium.com/tag/goodreads?source=post_page-----388e9b9d6352---------------goodreads-----------------", "anchor_text": "Goodreads"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F388e9b9d6352&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbreaking-down-goodreads-dataset-using-python-388e9b9d6352&user=Shivangi+Sareen&userId=3dedb13989c6&source=-----388e9b9d6352---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F388e9b9d6352&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbreaking-down-goodreads-dataset-using-python-388e9b9d6352&user=Shivangi+Sareen&userId=3dedb13989c6&source=-----388e9b9d6352---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F388e9b9d6352&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbreaking-down-goodreads-dataset-using-python-388e9b9d6352&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----388e9b9d6352--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F388e9b9d6352&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbreaking-down-goodreads-dataset-using-python-388e9b9d6352&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----388e9b9d6352---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----388e9b9d6352--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----388e9b9d6352--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----388e9b9d6352--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----388e9b9d6352--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----388e9b9d6352--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----388e9b9d6352--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----388e9b9d6352--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----388e9b9d6352--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@shivangisareen?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@shivangisareen?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Shivangi Sareen"}, {"url": "https://medium.com/@shivangisareen/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "668 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3dedb13989c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbreaking-down-goodreads-dataset-using-python-388e9b9d6352&user=Shivangi+Sareen&userId=3dedb13989c6&source=post_page-3dedb13989c6--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F5aef5c3fb45e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbreaking-down-goodreads-dataset-using-python-388e9b9d6352&newsletterV3=3dedb13989c6&newsletterV3Id=5aef5c3fb45e&user=Shivangi+Sareen&userId=3dedb13989c6&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}