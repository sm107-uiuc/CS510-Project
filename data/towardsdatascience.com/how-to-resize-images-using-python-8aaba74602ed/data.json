{"url": "https://towardsdatascience.com/how-to-resize-images-using-python-8aaba74602ed", "time": 1683012565.2770529, "path": "towardsdatascience.com/how-to-resize-images-using-python-8aaba74602ed/", "webpage": {"metadata": {"title": "How to Resize Images Using Python | by Nicholas Ballard | Towards Data Science", "h1": "How to Resize Images Using Python", "description": "It would be a safe bet saying every \u201cperson of the computer\u201d has needed to resize an image at one time or another. MacOS\u2019 Preview can do it; so can Windows PowerToys. If you understand Photoshop or\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/microsoft/PowerToys", "anchor_text": "Windows PowerToys", "paragraph_index": 0}, {"url": "http://szeliski.org/RichardSzeliski.htm", "anchor_text": "dedicate their lives to it", "paragraph_index": 16}, {"url": "https://scikit-image.org/", "anchor_text": "scikit-image", "paragraph_index": 20}, {"url": "https://opencv.org/opencv-3-3/", "anchor_text": "OpenCV", "paragraph_index": 21}, {"url": "https://palletsprojects.com/", "anchor_text": "The Pallets Project", "paragraph_index": 31}, {"url": "https://click.palletsprojects.com/en/7.x/", "anchor_text": "Click", "paragraph_index": 31}], "all_paragraphs": ["It would be a safe bet saying every \u201cperson of the computer\u201d has needed to resize an image at one time or another. MacOS\u2019 Preview can do it; so can Windows PowerToys.", "If you understand Photoshop or Gimp, then you and I\u2026 We are not the same. Command line utilities? Okay, now that is something I can wrap my head around.", "Lucky for us, image manipulation, and command line tooling, are two specialties of Python.", "This article aims to show you three things:", "The command line program we are going to build can resize one or multiple image files at once.", "For this example, we are going to create our own image rather than find a real one to manipulate.", "Why? Because I have to over-complicate things, that\u2019s why!", "Actually, creating our own is a good way to illustrate what an image actually is. This resizing program will work just as well on anything from Instagram.", "So, what is an image? In Python data terms, an image is a list of lists of tuples of integers.", "A NumPyesque definition would be a two-dimensional array of shape (h, w, 4), with h the number of pixels high (up and down), and w the number of pixels across (left to right).", "In other words, an image is a list (whole image) of lists (rows) of pixels (cells). Each pixel is a sequence of 3 integers and 1 optional float: red channel, green channel, blue channel, alpha (float that is optional). The red, green, blue channels \u2014 RGB \u2014 have a value from 0 to 255.", "From here on out we\u2019ll talk about color images without alpha channel to keep it simple. Alpha is the transparency of the pixel. Images can also have only one channel with a value from 0 to 255. This is what greyscale \u2014 aka black and white \u2014 images are. But this is the real world\u2026 we work with color images!", "Vanilla Python is fully capable of creating an image. To display it, I will use the matplotlib library, which you can install with:", "That is the image rendered. Behind the scenes, this is what the data looks like (for a 90x90):", "Now that we have an image, let\u2019s get resizing it!", "Psych! We will not be writing an algorithm for resizing images in Python.", "There is so much that goes into image processing algorithms. Some people dedicate their lives to it. Resampling\u2013using one pixel in a scaled down image to stand in for the many around it in the higher resolution\u2013is a huge topic by itself. If you want to see for yourself, check out Image.py in Pillow's source code when you install it at path/to/site-packages/PIL.", "Then there are optimizations like antialiasing and gap-reduction\u2026 It\u2019s endless. We\u2019re going to stand on the shoulders of giants here, meaning trust the brilliant work of those in the computer vision field, and shamelessly invoke one-liners to solve our problems.", "If you are interested in learning more about what is going on behind the curtain when processing images, I encourage you to check out the topic of \u201cmachine vision\u201d more! It is definitely a booming field, and there\u2019s more niches to explore than one person has time.", "Get good enough, and there\u2019s a legion of companies willing to pay top dollar for your computer vision expertise. Self-driving, IoT, surveillance, you name it; all rely fundamentally on processing pictures (usually in Python or C++).", "A great place to start is checking out scikit-image.", "OpenCV is the end-all, be-all for image processing. Written in C++ and ported to Python, OpenCV is what runs in the trunk of your homemade self-driving car for lane detection.", "The options for the interpolation argument are one of the flags provided in the cv2 package:", "It did what we expected. The image went from 900 pixels high, and 900 pixels across, to 450 X 450 (and still three color channels). The screenshot above doesn\u2019t look so good because of matplotlib colorizations in Jupyter Lab.", "The pillow library has a resizing method on the Image class. The arguments it takes are:", "Here it is for our purposes in a function:", "The function using Pillow is very much the same as OpenCV. The only difference is the PIL.Image.Image class has an attribute size to access the (width, height) of the image.", "Notice how the show method opens the operating system's default program for viewing the image's file type.", "Now we have a function for resizing images, it\u2019s time to bring it full circle with an interface for running the resize.", "Resizing one image is fine. But if we are going through all this trouble, we want the ability to process images in bulk, too.", "The interface we are going to build will be the simplest one possible: a command line utility.", "The Pallets Project is the community of geniuses behind Flask, the Jinja template engine, and relevant to us right now: Click.", "Click is a library for making command line programs. It is way better than using plain argparse or whipping up some if-then logic in the if __name__ == '__main__': statement. So, we're going to use Click to decorate our image resizer.", "Here is the full script for resizing images from the command line!", "The command line program runs from the entrypoint function main. Arguments are passed to main by click.option decorators:", "Run the program from the command line:", "Nice! So the program downsized the image, gave it a descriptive label, and we can see the file size went from ~362KB to ~231KB!", "Just to see the program working on multiple files at once, we\u2019ll run it again:", "Okay, running the program recursively is only for crazy people, but it shows you can run on any number of images matching the pattern all at once. Go, automation!", "Click is an amazing tool. It can wrap a function and run in a module \u201cthe normal way\u201d from an if __name__ == '__main__': statement. (And actually, it doesn\u2019t even need that; you can just define and decorate the function you want to run.) But where it really shines is installing the script as a package.", "That is done with the setuptools library that comes with Python.", "Build the executables / wrap the package with the command:", "Now you can invoke the script without using the python command. Also\u2013as a bonus bonus\u2013if you add the new executable to a folder in your PATH, you can call this program from anywhere on your computer like resize -p *jpg -s 75!", "This tutorial bounced around quite a bit: first going over some of the third party Python libraries for image manipulation. Then building an image from scratch using Python to understand a little more about what an image actually is. Then, choosing one of the options and building a script to downscale images while keeping their proportions. And, finally\u2013inhales\u2013putting that all in a command line utility accepting configurable options with click.", "A few more sentences and I\u2019m done, I promise.", "I just wanted to say: there is a reason as to why I covered all these topics in one go with you. And that reason is not because I have ADHD.", "It\u2019s because programming ideas need to close the loop from idea to execution. A one-off concept on how to do something in Python is fine\u2026 but at the end of the day, a programming language is a tool. It needs to help us get stuff done to have any value.", "When you start to feel tutorials are overwhelming you with \u201cyet another thing you have to learn\u201d\u2013it means it\u2019s time to take a break from reading, and start coding on some small project. Something you can complete in one sitting, and feel you have made progress.", "Remember, code can take hours or days to write. Yet it takes only milliseconds to run. The programs you make don\u2019t have to be big. Any single thing you build that can save you time or let you produce more output, can potentially serve you for the rest of your life!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Software Engineer by day. Engineer, Software by night."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8aaba74602ed&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-resize-images-using-python-8aaba74602ed&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-resize-images-using-python-8aaba74602ed&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-resize-images-using-python-8aaba74602ed&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-resize-images-using-python-8aaba74602ed&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8aaba74602ed--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8aaba74602ed--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@nball?source=post_page-----8aaba74602ed--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nball?source=post_page-----8aaba74602ed--------------------------------", "anchor_text": "Nicholas Ballard"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F441042f5df53&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-resize-images-using-python-8aaba74602ed&user=Nicholas+Ballard&userId=441042f5df53&source=post_page-441042f5df53----8aaba74602ed---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8aaba74602ed&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-resize-images-using-python-8aaba74602ed&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8aaba74602ed&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-resize-images-using-python-8aaba74602ed&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@amir_v_ali?utm_source=medium&utm_medium=referral", "anchor_text": "amirali mirhashemian"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://github.com/microsoft/PowerToys", "anchor_text": "Windows PowerToys"}, {"url": "http://szeliski.org/RichardSzeliski.htm", "anchor_text": "dedicate their lives to it"}, {"url": "https://scikit-image.org/", "anchor_text": "scikit-image"}, {"url": "https://opencv.org/opencv-3-3/", "anchor_text": "OpenCV"}, {"url": "https://palletsprojects.com/", "anchor_text": "The Pallets Project"}, {"url": "https://click.palletsprojects.com/en/7.x/", "anchor_text": "Click"}, {"url": "https://github.com/google/re2", "anchor_text": "RE2"}, {"url": "https://click.palletsprojects.com/en/7.x/", "anchor_text": "click"}, {"url": "https://matplotlib.org/3.2.0/tutorials/introductory/images.html", "anchor_text": "matplotlib"}, {"url": "https://docs.opencv.org/4.4.0/", "anchor_text": "opencv"}, {"url": "https://pillow.readthedocs.io/en/stable/", "anchor_text": "pillow"}, {"url": "https://scikit-image.org/", "anchor_text": "scikit-image"}, {"url": "https://medium.com/tag/command-line?source=post_page-----8aaba74602ed---------------command_line-----------------", "anchor_text": "Command Line"}, {"url": "https://medium.com/tag/data-science?source=post_page-----8aaba74602ed---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/computer-vision?source=post_page-----8aaba74602ed---------------computer_vision-----------------", "anchor_text": "Computer Vision"}, {"url": "https://medium.com/tag/opencv?source=post_page-----8aaba74602ed---------------opencv-----------------", "anchor_text": "Opencv"}, {"url": "https://medium.com/tag/image-resizing?source=post_page-----8aaba74602ed---------------image_resizing-----------------", "anchor_text": "Image Resizing"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8aaba74602ed&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-resize-images-using-python-8aaba74602ed&user=Nicholas+Ballard&userId=441042f5df53&source=-----8aaba74602ed---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8aaba74602ed&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-resize-images-using-python-8aaba74602ed&user=Nicholas+Ballard&userId=441042f5df53&source=-----8aaba74602ed---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8aaba74602ed&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-resize-images-using-python-8aaba74602ed&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8aaba74602ed--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8aaba74602ed&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-resize-images-using-python-8aaba74602ed&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8aaba74602ed---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8aaba74602ed--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8aaba74602ed--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8aaba74602ed--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8aaba74602ed--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8aaba74602ed--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8aaba74602ed--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8aaba74602ed--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8aaba74602ed--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nball?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nball?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Nicholas Ballard"}, {"url": "https://medium.com/@nball/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "90 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F441042f5df53&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-resize-images-using-python-8aaba74602ed&user=Nicholas+Ballard&userId=441042f5df53&source=post_page-441042f5df53--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F4c9426650cb6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-resize-images-using-python-8aaba74602ed&newsletterV3=441042f5df53&newsletterV3Id=4c9426650cb6&user=Nicholas+Ballard&userId=441042f5df53&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}