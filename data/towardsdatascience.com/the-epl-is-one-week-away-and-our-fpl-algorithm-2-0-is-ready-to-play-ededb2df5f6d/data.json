{"url": "https://towardsdatascience.com/the-epl-is-one-week-away-and-our-fpl-algorithm-2-0-is-ready-to-play-ededb2df5f6d", "time": 1683013560.486583, "path": "towardsdatascience.com/the-epl-is-one-week-away-and-our-fpl-algorithm-2-0-is-ready-to-play-ededb2df5f6d/", "webpage": {"metadata": {"title": "The EPL is one week away and our Algorithm 2.0 is ready to play | by Dilyan Kovachev | Towards Data Science", "h1": "The EPL is one week away and our Algorithm 2.0 is ready to play", "description": "If this is the first time you land on one of my Fantasy EPL Blogs, you might want to check out some of my original EPL blogs in my Medium archives written at the beginning of last season(GW1 \u2014 GW9)\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/u/2700c43d12a7?source=post_page-----b618c5291762----------------------", "anchor_text": "Andrew Sproul", "paragraph_index": 0}], "all_paragraphs": ["If this is the first time you land on one of my Fantasy EPL Blogs, you might want to check out some of my original EPL blogs in my Medium archives written at the beginning of last season(GW1 \u2014 GW9) to get familiar with our overall approach and the improvements we\u2019ve made over time. My original partner in crime for this project was Andrew Sproul, who just like me has lots of passion for Data Science, ML / AI and the Fantasy Sports. This year a new EPL enthusiast \u2014 Pulkit Chhabra \u2014 joined the team and added lots of fresh ideas and optimization suggestions to the Algorithm. Thank you for all your hard work so far, Pulkit, and I am looking forward to working together on improving the model as much as humanly possible over the long run!", "Our Algorithm has evolved multiple times over the last 2 seasons as we are always looking for ways to add more data to our decision making process and improve the accuracy of our predictions. That being said we\u2019re excited to share some of the new changes we\u2019ve been working on over the last few months. Below is a list of some of the new metrics we are adding this year:", "Referee Stats: \u201ccards per game\u201d and \u201cpenalties rewarded per game\u201d stats aggregated over the last 3 seasons \u2014 the idea is to have players who are penalty takers on our team during games where the referee is more likely to give 1 or more penalties. Also, we need to be careful with adding players from games where the ref is likely to give a lot of yellow or red cards.", "Team Penalty Stats: \u201ctotal_penalties_awarded\u201d and \u201cpenalty_conversion_ratio\u201d for the last 3 seasons \u2014 the idea is to combine that stat with the ref stat \u201cpenalties rewarded per game\u201d and pick players or even captains from teams that historically are awarded more penalties and the ref of the game has high \u201cpen_awarded coefficient\u201d.", "Bookie Coefficient: For now we are incorporating average coefficient from 8\u201310 major bookies for W/L/D as well as Under 2.5/Over 2.5 stats \u2014 the idea here is to have more attacking players from teams where the Over 2.5 odds are high, and more defensive players in games where Under 2.5 odds are high. Also, we try to have more players from teams with high Win-odds.", "Predictive Modeling: For now we are using the predictions of two ML models based on historical data and combined probability stats for each player on things such as (chance of playing 60+ minutes * chance of scoring * chance of assist * chance of clean sheet * chance of bonus points etc.) \u2014 the idea here is that the average combined predicted value of different ML models is often more accurate than that of one finely tuned model by itself. Our ML models predict projected points over the next n-weeks as well as projected ROI (points per 1M of cost) for each player.", "Prediction Uncertainty: We take the squared difference between the predictions of each model for every player and use that number to assign a level of uncertainty to the prediction to be used when selecting final squad \u2014 the idea here is that if the two models output a very similar value for a given player, then we are more willing to trust those projected point estimates.", "Improved Optimizer: We tweaked the Optimization Algorithm to be able to take a lot of new extra inputs and be much smarter and more flexible in its logic. In the past, the algorithm would mostly output the optimal squad of 15 players each gameweek, aiming to optimize ROI across the full squad. After the recent changes, we can now optimize towards: team formation, number of cheap fillers per position, projected_ROI, projected_total_points, projected_bonus_points, fixed number of transfers etc. \u2014 the possibilities are endless, if we can acquire the data, then we can optimize towards it!", "Since we added a lot of new stats to our Algorithm this year, this Blog will evolve to have more stats and graphs and less text over time. This first post might have a bit more text as we opt to introduce the new changes and set the tone for the rest of the season. Please, see below list of some of the useful stats we\u2019re taking into consideration for our original team selection for GW1:", "As you can see, we will try to stack up on players from teams that have a higher than 50 % chance of winning such as LIV, ARS, CHE, TOT, and LEI.", "Teams with higher probability to draw, especially when the game is combined with high odds for Under 2.5, might be good for selecting defensive players because if the game ends 0:0, that will result in lots of bonus points. Combined with the Under/Over Graph below, we can identify the following games with higher probability of at least one clean sheet \u2014 SHU vs. WOL, WHU vs. NEW, and CRY vs. SOU.", "Inversely, we might want to have more attacking players from games with high odds for Over 2.5 such as LIV vs. LEE, FUL vs. ARS, BHA vs. CHE.", "As we mentioned, we might want to have or even captain the penalty takers in games, where the ref is more likely to award at least one penalty. This stat becomes even more powerful when combined with the \u201cpenalties awarded\u201d and \u201cpenalty conversion rate\u201d stat for each team below:", "I was not surprised to see the two referee \u201cdarlings \u201c\u2014 Man Utd and Man City near the top of that list, but I was definitely surprised to see Leicester and Crystal Palace there. In fact, there is a decent list of team names here that are above the average value of 19.42, so to narrow down our choice of players, let\u2019s also look at the penalty conversion rates per team below:", "The graph above makes things a bit more interesting, as Man City and Man Utd now drop near the bottom of the chart when it comes to penalty conversion ratio (both near 70% success rate). So, this raises some concerns over getting punished with negative points for missed penalties and makes penalty takers from teams with near 100% success rate, such as WOL, BUR, LIV, CHE, TOT, and CRY, more attractive in the long run.", "Referee assignments for the upcoming games are not live, yet, but we will incorporate them when they become available. The last stat below, which we might consider, is \u201ccards per game\u201d for each ref \u2014 the idea here is that if we expect a heated game between two tough opponents, combined with a ref that is likes to show them cards, we might want to be careful selecting players from those games. Beware of refs Madley, Hooper, Tierney, Scott, Mason and Friend, who averaged 7 or more cards per game last 3 seasons.", "Just like last year, we will be looking at adjusted opponent difficulty score (FDR) given each team\u2019s upcoming schedule over the next 3-games, and we will aim to minimize # of players from teams with FDR scores > 75th percentile and maximize # of players from teams with easier schedules. As you can see we will abstain from getting players from BHA, WBA, WOL, or BUR, and we will try to get more from SHU, MUN, TOT, CHE etc.", "It\u2019s time for the crown jewel of this year\u2019s improved Algorithm \u2014 the predicted player stats. There are three major metrics that we take into consideration when tuning our Team Optimizer for the next n-gameweeks \u2014 predicted total points, expected value (ROI), and bonus points per game. Below are the stats for each metric, also broken down by position.", "As you can see there is a large number of options we can choose from for each position, so we will be plugging a lot of the stats above into an Optimization Function in Python, which will output the team with the highest expected total points, given our budget constraints and other metrics that go into our decision making process. Some of the preliminary filters, applied before the Team Selector Code kicks in, include:", "Below are two examples of the text output of the model \u2014 one for a full team optimization and one for a single player transfer.", "As you can see below, the model first looks at parameters that tells it if it should optimize towards full squad of 15 players, or towards a specific formation with 11 key players and 4 cheap fillers. For the fillers, it first looks at preferred formation and uses that to decide how many fillers to get per position. The model then subtracts the total amount spent on the 4 fillers from our initial budget and spends the leftover budget on the key 11 players, given the optimization function and model constraints.", "As last year, not all of our decision making process can be fully automated, which is what makes this game so interesting and exciting. That being said, we often look at multiple outputs of the Optimizer Algorithm ran with a few different constraints and optimization functions and combine those with all the other useful stats described earlier in this article \u2014 Referee Stats, Bookie Odds, FDR scores, Penalty Stats, Bonus Point Stats etc. \u2014 to add a human element to our final team selection process. Please, see below a few different team versions that came out of that process, which will hopefully give you some ideas on some ways you can spend your initial FPL budget wisely and start the season with a decent ROI / total point expectation.", "Optimal Team1 (MD-heavy): Starting with a 4\u20134\u20132 formation, investing in Bruno Fernandes and switching to 3\u20135\u20132 in GW2.", "Optimal Team2 (balanced): All around balanced team, allowing for formation flexibility and more player choices per position.", "Optimal Team3 (ST-heavy): Built around a few expensive Strikers and Midfielders with high point expectations, from teams with low FDR scores and high Over 2.5 and Win odds.", "If you are still reading this long-winded Blog \u2014 Thank you for bearing with us till the end! Hopefully, this means that you found the information shared interesting and useful, which is what matters the most to us as developers and writers, who love to contribute to the FPL community. If you enjoyed reading about our optimization approach above, please come back and check out our weekly status updates and team recommendations before the transfer deadline of each FPL gameweek. Also, please feel free to reach out with suggestions on new data sources or optimization techniques that you think we can add to our decision making process. One idea that we have is to bring tweet data from popular Tweeter accounts that focus on FPL recommendations and updates and add those to the player-selection logic. If you follow any accounts in particular that you\u2019d like to recommend, please share with us. Thanks in advance and good luck during this season\u2019s FPL!!!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "A curious mind with an affinity for numbers, trying to understand the world through Data Science"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fededb2df5f6d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-epl-is-one-week-away-and-our-fpl-algorithm-2-0-is-ready-to-play-ededb2df5f6d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-epl-is-one-week-away-and-our-fpl-algorithm-2-0-is-ready-to-play-ededb2df5f6d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-epl-is-one-week-away-and-our-fpl-algorithm-2-0-is-ready-to-play-ededb2df5f6d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-epl-is-one-week-away-and-our-fpl-algorithm-2-0-is-ready-to-play-ededb2df5f6d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://me.dm/@pruchka", "anchor_text": "Mastodon"}, {"url": "https://towardsdatascience.com/?source=post_page-----ededb2df5f6d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ededb2df5f6d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://pruchka.medium.com/?source=post_page-----ededb2df5f6d--------------------------------", "anchor_text": ""}, {"url": "https://pruchka.medium.com/?source=post_page-----ededb2df5f6d--------------------------------", "anchor_text": "Dilyan Kovachev"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbce75dcdb2c0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-epl-is-one-week-away-and-our-fpl-algorithm-2-0-is-ready-to-play-ededb2df5f6d&user=Dilyan+Kovachev&userId=bce75dcdb2c0&source=post_page-bce75dcdb2c0----ededb2df5f6d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fededb2df5f6d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-epl-is-one-week-away-and-our-fpl-algorithm-2-0-is-ready-to-play-ededb2df5f6d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fededb2df5f6d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-epl-is-one-week-away-and-our-fpl-algorithm-2-0-is-ready-to-play-ededb2df5f6d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/u/2700c43d12a7?source=post_page-----b618c5291762----------------------", "anchor_text": "Andrew Sproul"}, {"url": "https://medium.com/tag/fantasy-football?source=post_page-----ededb2df5f6d---------------fantasy_football-----------------", "anchor_text": "Fantasy Football"}, {"url": "https://medium.com/tag/english-premier-league?source=post_page-----ededb2df5f6d---------------english_premier_league-----------------", "anchor_text": "English Premier League"}, {"url": "https://medium.com/tag/sports-betting?source=post_page-----ededb2df5f6d---------------sports_betting-----------------", "anchor_text": "Sports Betting"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----ededb2df5f6d---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/soccer?source=post_page-----ededb2df5f6d---------------soccer-----------------", "anchor_text": "Soccer"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fededb2df5f6d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-epl-is-one-week-away-and-our-fpl-algorithm-2-0-is-ready-to-play-ededb2df5f6d&user=Dilyan+Kovachev&userId=bce75dcdb2c0&source=-----ededb2df5f6d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fededb2df5f6d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-epl-is-one-week-away-and-our-fpl-algorithm-2-0-is-ready-to-play-ededb2df5f6d&user=Dilyan+Kovachev&userId=bce75dcdb2c0&source=-----ededb2df5f6d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fededb2df5f6d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-epl-is-one-week-away-and-our-fpl-algorithm-2-0-is-ready-to-play-ededb2df5f6d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ededb2df5f6d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fededb2df5f6d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-epl-is-one-week-away-and-our-fpl-algorithm-2-0-is-ready-to-play-ededb2df5f6d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ededb2df5f6d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ededb2df5f6d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ededb2df5f6d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ededb2df5f6d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ededb2df5f6d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ededb2df5f6d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ededb2df5f6d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ededb2df5f6d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ededb2df5f6d--------------------------------", "anchor_text": ""}, {"url": "https://pruchka.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://pruchka.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Dilyan Kovachev"}, {"url": "https://pruchka.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "904 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbce75dcdb2c0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-epl-is-one-week-away-and-our-fpl-algorithm-2-0-is-ready-to-play-ededb2df5f6d&user=Dilyan+Kovachev&userId=bce75dcdb2c0&source=post_page-bce75dcdb2c0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F78c2e919302&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-epl-is-one-week-away-and-our-fpl-algorithm-2-0-is-ready-to-play-ededb2df5f6d&newsletterV3=bce75dcdb2c0&newsletterV3Id=78c2e919302&user=Dilyan+Kovachev&userId=bce75dcdb2c0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}