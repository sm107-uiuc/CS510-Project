{"url": "https://towardsdatascience.com/stl-decomposition-how-to-do-it-from-scratch-b686711986ec", "time": 1683001270.9669702, "path": "towardsdatascience.com/stl-decomposition-how-to-do-it-from-scratch-b686711986ec/", "webpage": {"metadata": {"title": "STL decomposition : How to do it from Scratch? | by Rajat Sharma | Towards Data Science", "h1": "STL decomposition : How to do it from Scratch?", "description": "This article will help you understand what is STL decomposition and how to do it from scratch. At the end, I will use statsmodel library too, to get the results in seconds. So, STL stands for\u2026"}, "outgoing_paragraph_urls": [{"url": "https://blogs.sas.com/content/iml/2016/10/17/what-is-loess-regression.html", "anchor_text": "click here", "paragraph_index": 6}, {"url": "https://www.kaggle.com/c/favorita-grocery-sales-forecasting/data", "anchor_text": "Corporaci\u00f3n Favorita Grocery Sales Forecasting dataset", "paragraph_index": 7}, {"url": "https://pypi.org/project/statsmodels/", "anchor_text": "installation", "paragraph_index": 17}, {"url": "https://github.com/rajatsharma369007/blog_codes/blob/master/STL_decoposition.ipynb", "anchor_text": "link to the notebook", "paragraph_index": 19}, {"url": "https://www.rajatsharma.cc/book-online", "anchor_text": "https://www.rajatsharma.cc/book-online", "paragraph_index": 23}], "all_paragraphs": ["This article will help you understand what is STL decomposition and how to do it from scratch. At the end, I will use statsmodel library too, to get the results in seconds.", "So, STL stands for Seasonal and Trend decomposition using Loess. This is a statistical method of decomposing a Time Series data into 3 components containing seasonality, trend and residual.", "Now, what is a Time Series data? Well, it is a sequence of data points that varies across a continuous time axis. Below is an example of a time series data where you can see the time axis is at an hour level and value of stock varies across the time.", "Now let\u2019s talk about trend. Trend gives you a general direction of the overall data. From the above example, I can say that from 9:00am to 11:00am there is a downward trend and from 11:00am to 1:00pm there is an upward trend and after 1:00pm the trend is constant.", "Whereas seasonality is a regular and predictable pattern that recur at a fixed interval of time. For example, the below plot helps us understand the total units sold per month for a retailer. So, if we try to watch carefully, we can see an increment in the unit sales during the month of December every year. So, there is a regular pattern or seasonality in the unit sales associated with a period of 12 months.", "Randomness or Noise or Residual is the random fluctuation or unpredictable change. This is something which we cannot guess. For example, there is a high unit sales associated during March 2014, which is something irregular across every March month. So, we can say it has some high percentage of noise or residual during this month.", "Now, let\u2019s talk about Loess. So, loess is a regression technique that uses local weighted regression to fit a smooth curve through points in a sequence, which in our case is the Time Series data. To learn about loess in great detail, click here.", "So here I am taking Corporaci\u00f3n Favorita Grocery Sales Forecasting dataset for visualization of each step. I have aggregated the data at month level for better understanding.", "The Time Series data for this dataset will look like this. Here we can observe the value of units sold for each month from 2013 to 2016.", "Find the Approximate Trend line which fits the above time series data.", "Find the De-trended series by subtracting time series data with approximate trend line.", "Find the Seasonal Component. Here I am finding out seasonality on month level (for a period = 12). So I have to group the De-trended series by month to find the average value of units sold for each month across the whole data (for 48 months).", "Populate this component across the whole data (for 48 months).", "Find the De-seasonalised time series by subtracting time series data with seasonal data.", "Find the trend by fitting the De-seasonalised data to a polynomial model.", "Find the residual by subtracting time series data with seasonal and trend.", "So, here are the final figures of STL decomposition:", "First you have to do the pip installation of the statsmodel library. Then, run the following lines of code.", "By comparing the results from both the techniques, we can see that there is just a significant change in trend and residual components and seasonal component is same as it is.", "Here is the link to the notebook for the above performed observations.", "At the end, I just want to say that once you use a library for completion of any statistical and machine learning task, try to know the implementation and mathematics required to built those. That will help you to better understand the usage of the parameters of the methods of each defined classes of any library.", "Stay tuned for the next blog\u2026", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Student Reviewer and Mentor @ Udacity | Book my services \ud83d\udc49\ud83c\udffb https://www.rajatsharma.cc/book-online"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb686711986ec&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstl-decomposition-how-to-do-it-from-scratch-b686711986ec&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstl-decomposition-how-to-do-it-from-scratch-b686711986ec&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstl-decomposition-how-to-do-it-from-scratch-b686711986ec&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstl-decomposition-how-to-do-it-from-scratch-b686711986ec&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b686711986ec--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b686711986ec--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@rajatsharma369007?source=post_page-----b686711986ec--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rajatsharma369007?source=post_page-----b686711986ec--------------------------------", "anchor_text": "Rajat Sharma"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8f25edd1a5d8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstl-decomposition-how-to-do-it-from-scratch-b686711986ec&user=Rajat+Sharma&userId=8f25edd1a5d8&source=post_page-8f25edd1a5d8----b686711986ec---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb686711986ec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstl-decomposition-how-to-do-it-from-scratch-b686711986ec&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb686711986ec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstl-decomposition-how-to-do-it-from-scratch-b686711986ec&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://blogs.sas.com/content/iml/2016/10/17/what-is-loess-regression.html", "anchor_text": "click here"}, {"url": "https://www.kaggle.com/c/favorita-grocery-sales-forecasting/data", "anchor_text": "Corporaci\u00f3n Favorita Grocery Sales Forecasting dataset"}, {"url": "https://pypi.org/project/statsmodels/", "anchor_text": "installation"}, {"url": "https://github.com/rajatsharma369007/blog_codes/blob/master/STL_decoposition.ipynb", "anchor_text": "link to the notebook"}, {"url": "https://medium.com/tag/data-science?source=post_page-----b686711986ec---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----b686711986ec---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data?source=post_page-----b686711986ec---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/mathematics?source=post_page-----b686711986ec---------------mathematics-----------------", "anchor_text": "Mathematics"}, {"url": "https://medium.com/tag/statistics?source=post_page-----b686711986ec---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb686711986ec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstl-decomposition-how-to-do-it-from-scratch-b686711986ec&user=Rajat+Sharma&userId=8f25edd1a5d8&source=-----b686711986ec---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb686711986ec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstl-decomposition-how-to-do-it-from-scratch-b686711986ec&user=Rajat+Sharma&userId=8f25edd1a5d8&source=-----b686711986ec---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb686711986ec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstl-decomposition-how-to-do-it-from-scratch-b686711986ec&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b686711986ec--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb686711986ec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstl-decomposition-how-to-do-it-from-scratch-b686711986ec&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b686711986ec---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b686711986ec--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b686711986ec--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b686711986ec--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b686711986ec--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b686711986ec--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b686711986ec--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b686711986ec--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b686711986ec--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rajatsharma369007?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rajatsharma369007?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Rajat Sharma"}, {"url": "https://medium.com/@rajatsharma369007/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "120 Followers"}, {"url": "https://www.rajatsharma.cc/book-online", "anchor_text": "https://www.rajatsharma.cc/book-online"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8f25edd1a5d8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstl-decomposition-how-to-do-it-from-scratch-b686711986ec&user=Rajat+Sharma&userId=8f25edd1a5d8&source=post_page-8f25edd1a5d8--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7c3f9d2e702f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstl-decomposition-how-to-do-it-from-scratch-b686711986ec&newsletterV3=8f25edd1a5d8&newsletterV3Id=7c3f9d2e702f&user=Rajat+Sharma&userId=8f25edd1a5d8&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}