{"url": "https://towardsdatascience.com/why-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis-3b9f8613bcc1", "time": 1683007666.5344472, "path": "towardsdatascience.com/why-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis-3b9f8613bcc1/", "webpage": {"metadata": {"title": "Why you shouldn\u2019t use zip codes for your hyperlocal & last-mile analysis | by Himanshu Thakur | Towards Data Science", "h1": "Why you shouldn\u2019t use zip codes for your hyperlocal & last-mile analysis", "description": "At Locale.ai, we work with a number of last-mile and hyperlocal and mobility companies. For most of these companies, geospatial analysis is critical and typically, they have internal dashboards built\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.locale.ai/", "anchor_text": "Locale.ai", "paragraph_index": 0}, {"url": "https://www.kaggle.com/fivethirtyeight/uber-pickups-in-new-york-city#uber-raw-data-apr14.csv", "anchor_text": "here", "paragraph_index": 10}, {"url": "https://data.cityofnewyork.us/Transportation/2014-Yellow-Taxi-Trip-Data/gn7m-em8n", "anchor_text": "here", "paragraph_index": 10}, {"url": "https://geodata.lib.berkeley.edu/download/file/nyu-2451-34509-geojson.json", "anchor_text": "NYC zip-code areas", "paragraph_index": 11}, {"url": "https://eng.uber.com/h3/", "anchor_text": "here", "paragraph_index": 17}, {"url": "https://www.linkedin.com/in/himansh005/", "anchor_text": "LinkedIn", "paragraph_index": 27}, {"url": "https://www.linkedin.com/in/aditi-sinha-6b774ba9/", "anchor_text": "LinkedIn", "paragraph_index": 33}, {"url": "https://twitter.com/aditi1002", "anchor_text": "Twitter", "paragraph_index": 33}], "all_paragraphs": ["At Locale.ai, we work with a number of last-mile and hyperlocal and mobility companies. For most of these companies, geospatial analysis is critical and typically, they have internal dashboards built on a BI platform or in-house using open source tools.", "One of the reasons they use our product is to highlight what areas to focus on and how to contextualize their strategies to those areas. A caveat here is that these areas are not our traditional defined areas in a city or zip-codes. In this post, we will deep dive into why using traditional area definitions is not a good idea to carry out geospatial analysis.", "Based on intuitive logic, companies either go with a zip-code boundary or some hand-drawn neighbourhood boundaries to map their most critical metrics like market potential, utilisation, average customer value, etc. These form an important part of decisions like what areas to expand into, shoot promotions in, or provision more supply.", "Now, if you\u2019re a business with little or no intra-city operations, the difference might not be significant to you. But if you provide services in the last mile or at a hyperlocal level, the differences in insights have a significant impact on the decisions that the business and city teams use.", "Which brings me to the next question: Why is this difference significant?", "Often what happens is the zip codes or arbitrarily defined neighbourhood boundaries that the nuances that the different areas depict tend to get dissolved.", "In other words, a zip code that we treat as one big cell for analysis consists of many smaller cells without any similarity in demographics or economic potential.", "This is illustrated by the fact that, if you live in Palo Alto, you are a part of the world\u2019s foremost innovation hub and are paying median home prices of $1.18 million. However, just right across the train tracks, 18% percent of East Palo Alto residents live below the poverty line where the average yearly income per person is $18,385.", "The characteristic behaviour of these two areas would be very different and while they would be present in the data that you collect, they often aren\u2019t so easy to unearth.", "In the next section, we would like to show you how easily the maps can lie and why different members in your team recommend completely different areas in a city to focus on based on the same set of metrics!", "Let\u2019s consider that you are Uber\u2019s city manager, and want to run contextual promotions and discounts in areas where you have high market potential or market share. For this exercise, we used the Uber Cab dataset available here and the NYC Yellow Taxi dataset available here. Now, we can simply define market-potential as", "For our area definitions, we choose the NYC housing areas and NYC zip-code areas. Using these two area definitions, we calculate the market potential and here\u2019s the plot:", "Greener means more Market Potential for Uber and pinker means it is already doing well in that area. When we try to filter areas by M.P greater than 70% to identify the top areas to run promotions in, we see the following areas:", "The areas we got are quite different!", "Hence, it is safe to conclude that the decision completely changes based on what set of boundaries we use for our analysis. This is a classical problem in geospatial data science known as the Modifiable Areal Unit Problem (MAUP).", "Because of the MAUP problem, our decision becomes reliant on the shape and size of the area instead of the actual characteristics of the users within it.", "The ideal area should have the ideal shape and size. Let\u2019s consider finding that ideal shape. We could divide the geographic plane into squares of the same size, or maybe triangles, pentagons, or something else! We at Locale use hexagons instead of any other shape and you can get a glimpse of why here:", "Let\u2019s use hexes to plot the MP for NYC. Uber has a well-suited library that converts lat, longs to hexes of a given size. You can find out more about it here.", "From the visualization, we can see the distribution of Market Potential across the city in a much uniform way. We can filter these hexagons by market potential to get the best area to run promotions in.", "Another way to reduce more bias would be to not bind locations to areas initially which leads to our next section.", "The idea is to let data decide what the significant areas are on which MP should ideally be computed. A simple density-based clustering algorithm like DBSCAN could be a good place to start! We have written about the other types of clustering in case you want to check that out:", "We cluster all locations based on proximity to each other, hence finding dense clusters. Then, we compute the convex hull of these areas to get area boundaries. Now, we have areas generated from the data itself, suitable for computing MP in a reduced human-bias way. Again, we filter by areas where M.P is more than 70% and get these places:", "It\u2019s worth noting that a simple density-based approach can work here because of the nature and definition of the problem.", "Since we consider only locations, a density-based spatial clustering extracts the underlying areas which are more closely knit in terms of the user behaviour.", "For this decision to be actually reliable for a business use case, instead of using just one metric, we take a set of metrics that largely affect the user behaviour in one area. For example, office-goers in an area vs university students might show completely different travel patterns.", "Now, as highlighted here, using the automated learning techniques for similarity and clustering analyses that we have built at Locale.ai, our algorithms work hard to find what areas behave similarly based on the metrics that you care about (growth potential, unit economics, power users) and show you what areas to focus on for each unit of your business.", "This enables you to save or export these areas profiles and keep reusing them for different kinds of analysis and then track them to maximize your revenue, demand and profitability in each of those areas rather than using arbitrarily defined boundaries.", "Also, if you have any suggestions, doubts or feedback on the implementation, you can find me here: LinkedIn", "If you\u2019ve reached this far, here is a sneak peek into why this forms the base of our entire platform and what all techniques we have developed on top of this:", "Our geospatial models not only find clusters of areas having unique characteristic, but also tell us why the area is unique. Hence, while identifying clusters of areas based on a combination of metrics, it also pin points the factors that have the most significant impact on these metrics.", "Two different areas don\u2019t necessarily have to be close in order to behave similarly. You can probably use one as a test area to observe and apply the same strategies across cities.", "It doesn\u2019t make sense is not quite enough to just know that SLAs are not being met only in Bangalore or SFO. Knowing where orders are getting delayed or cancelled, or whether an abnormally high delay in an area is caused by a sudden supply drop because of rain can be very valuable.", "Adding the context of location along with anomalies can make the insights very actionable for us and makes decision-making very simple.", "At Locale, we are building an analytics and visualisation product to help city and business teams get precise, real-time insights about how their operations perform without any compromises and dependencies. If you would like a demo, then visit our website for more details or get in touch with us on LinkedIn or Twitter.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F3b9f8613bcc1&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis-3b9f8613bcc1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis-3b9f8613bcc1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis-3b9f8613bcc1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis-3b9f8613bcc1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----3b9f8613bcc1--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3b9f8613bcc1--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@scihimanshu10?source=post_page-----3b9f8613bcc1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@scihimanshu10?source=post_page-----3b9f8613bcc1--------------------------------", "anchor_text": "Himanshu Thakur"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F95dca3d48d6b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis-3b9f8613bcc1&user=Himanshu+Thakur&userId=95dca3d48d6b&source=post_page-95dca3d48d6b----3b9f8613bcc1---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3b9f8613bcc1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis-3b9f8613bcc1&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3b9f8613bcc1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis-3b9f8613bcc1&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.linkedin.com/in/rishabh-jain-2b0377b6/", "anchor_text": "Rishabh Jain"}, {"url": "https://www.locale.ai/", "anchor_text": "Locale.ai"}, {"url": "https://www.kaggle.com/fivethirtyeight/uber-pickups-in-new-york-city#uber-raw-data-apr14.csv", "anchor_text": "here"}, {"url": "https://data.cityofnewyork.us/Transportation/2014-Yellow-Taxi-Trip-Data/gn7m-em8n", "anchor_text": "here"}, {"url": "https://geodata.lib.berkeley.edu/download/file/nyu-2451-34509-geojson.json", "anchor_text": "NYC zip-code areas"}, {"url": "https://medium.com/locale-ai/spatial-modelling-tidbits-honeycomb-or-fishnets-68a453ac455e", "anchor_text": "Spatial Modelling Tidbits: Honeycomb or Fishnets?Why we at Locale.ai are fond of hexagonal grids?medium.com"}, {"url": "https://eng.uber.com/h3/", "anchor_text": "here"}, {"url": "https://medium.com/locale-ai/geospatial-clustering-types-and-use-cases-6caedecfc7f0", "anchor_text": "Geospatial Clustering: Types and Use CasesDeep Dive into all the different kinds of clustering with their use cases.medium.com"}, {"url": "https://github.com/localeai/Modifiable-Areal-Unit-Problem", "anchor_text": "here"}, {"url": "https://www.linkedin.com/in/himansh005/", "anchor_text": "LinkedIn"}, {"url": "https://www.linkedin.com/in/aditi-sinha-6b774ba9/", "anchor_text": "LinkedIn"}, {"url": "https://twitter.com/aditi1002", "anchor_text": "Twitter"}, {"url": "https://blog.locale.ai/why-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis/", "anchor_text": "Why you shouldn't use zip codes for your hyperlocal & last-mile analysisCo-author: Rishabh Jain At Locale.ai, we work with a number of last-mile and hyperlocal and mobility companies. For\u2026blog.locale.ai"}, {"url": "https://medium.com/locale-ai/spatial-autocorrelation-how-spatial-objects-affect-other-nearby-spatial-objects-e05fa7d43de8", "anchor_text": "Spatial Autocorrelation: How spatial objects affect other nearby spatial objectsDeep dive into spatial autocorrelation and their industry use casesmedium.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----3b9f8613bcc1---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/geospatial?source=post_page-----3b9f8613bcc1---------------geospatial-----------------", "anchor_text": "Geospatial"}, {"url": "https://medium.com/tag/location-intelligence?source=post_page-----3b9f8613bcc1---------------location_intelligence-----------------", "anchor_text": "Location Intelligence"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----3b9f8613bcc1---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/zip-code?source=post_page-----3b9f8613bcc1---------------zip_code-----------------", "anchor_text": "Zip Code"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3b9f8613bcc1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis-3b9f8613bcc1&user=Himanshu+Thakur&userId=95dca3d48d6b&source=-----3b9f8613bcc1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3b9f8613bcc1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis-3b9f8613bcc1&user=Himanshu+Thakur&userId=95dca3d48d6b&source=-----3b9f8613bcc1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3b9f8613bcc1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis-3b9f8613bcc1&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3b9f8613bcc1--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F3b9f8613bcc1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis-3b9f8613bcc1&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----3b9f8613bcc1---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----3b9f8613bcc1--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----3b9f8613bcc1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----3b9f8613bcc1--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----3b9f8613bcc1--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----3b9f8613bcc1--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----3b9f8613bcc1--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----3b9f8613bcc1--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----3b9f8613bcc1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@scihimanshu10?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@scihimanshu10?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Himanshu Thakur"}, {"url": "https://medium.com/@scihimanshu10/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "8 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F95dca3d48d6b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis-3b9f8613bcc1&user=Himanshu+Thakur&userId=95dca3d48d6b&source=post_page-95dca3d48d6b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F95dca3d48d6b%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-you-shouldnt-use-zip-codes-for-your-hyperlocal-last-mile-analysis-3b9f8613bcc1&user=Himanshu+Thakur&userId=95dca3d48d6b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}