{"url": "https://towardsdatascience.com/plotting-spatial-data-in-r-a38a405a07f1", "time": 1682995329.455476, "path": "towardsdatascience.com/plotting-spatial-data-in-r-a38a405a07f1/", "webpage": {"metadata": {"title": "Visualizing Location based data in R | by Aditya Tandel | Towards Data Science", "h1": "Visualizing Location based data in R", "description": "I recently got an opportunity to work on spatial data and wanted to share my analysis on one such dataset. The data consisted of various registered business in the San Francisco Bay Area which can be\u2026"}, "outgoing_paragraph_urls": [{"url": "https://drive.google.com/drive/u/2/folders/1VOsECCRNLX3oVVAr_fgBoSJup6dxh4_3", "anchor_text": "here", "paragraph_index": 1}, {"url": "https://data.sfgov.org/Economy-and-Community/Registered-Business-Locations-San-Francisco/g8m3-pdis", "anchor_text": "here", "paragraph_index": 1}], "all_paragraphs": ["I recently got an opportunity to work on spatial data and wanted to share my analysis on one such dataset.", "The data consisted of various registered business in the San Francisco Bay Area which can be found here. An updated version can be found here.", "Spatial data pertains to data which is associated with locations. Typically its described by a coordinate reference system, latitude and longitude.", "The goal of this exercise was to find pockets of neighborhoods in San Francisco with high concentration of businesses. You would need to get a key from Google\u2019s Geolocation API to use their maps. I used the ggmap package in R to plot this data. Then I narrowed down my analysis on one particular high concentration neighborhood to see how businesses were dispersed within that area.", "For the purpose of this exercise I was only concerned with the Neighborhoods, address, dates and most importantly the location columns which contained latitude and longitude data for each business. Names of the businesses and their codes (which are assigned by the city for registered businesses) were not considered for now.", "After doing basic data cleaning activities such as eliminating duplicates and nulls I extracted information only pertaining to the city of SF and eliminated records related to adjoining cities in the Bay Area.", "Identify data pertaining to San Francisco only", "There were a few ways I could go about achieving this; filter dataset based on city or by business.location or by zip codes. I chose to use the zip code logic as the other two fields had inconsistent patterns of the San Francisco city name which could easily be missed out. I have however included commands for all three methods of filtering this data.", "Next I wanted to eliminate businesses which had ceased to exist. For this I used the end dates for each location. However the date fields were stored as factors which were converted to posixct as that generally helps in further analysis when it comes to dates.", "Businesses which seized to exist after December 1, 2018 were eliminated.", "Stripping out coordinates from the Business Location field", "The Business Location column contained addresses along with the coordinates information. So the latitude and longitude information needed to be extracted.", "Other characters needed to be cleaned out too.", "I then converted latitude and longitude variables from discrete to continuous and stored them as numerical variables as this helps when plotting/visualizing data and to avoid errors.", "The resultant dataset had 88,785 records which needed to be plot on a Google map. Interpreting these many records on a map would be overwhelming to say the least! Although sampling would be one way to proceed, I instead tried to find out the top 10 neighborhoods which had the largest number of businesses and plot one such neighborhood on the map.", "I then created a histogram of these top 10 neighborhoods.", "Let\u2019s look at the Financial District/South Beach neighborhood in more detail since it has the maximum number of active businesses.", "I installed the \u201cggmap\u201d, \u201cdigest\u201d and \u201cglue\u201d packages then registered with Google API to get the the Geolocation API key.", "Google provides terrain, satellite, hybrid among other types of maps. I chose to use the terrain map. A simple Google search can give you the city coordinates for San Francisco.", "By adjusting the zoom you can get a closer look. The two images below are with different zoom sizes", "A heatmap will probably make the visualization more intuitive. To make this happen we need to add one more aesthetic in addition to the x and y coordinates; z. This aesthetic is the total count of businesses in a particular lat.-lon. combination.", "Areas around Powell Street bart station, Union Square and Embarcadero bart station have a relatively large number of businesses while as areas around South Beach and and Lincoln Hill are sparse populated.", "Similarly other individual neighborhoods can be plotted to understand the distribution of businesses there.", "This was a fairly straightforward way of visualizing spatial data. I welcome any feedback and constructive criticism.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I am a data analyst with Kaiser. I research and write about topics related to Data Analysis, Product Growth, Data Science and Machine Learning."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa38a405a07f1&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-spatial-data-in-r-a38a405a07f1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-spatial-data-in-r-a38a405a07f1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-spatial-data-in-r-a38a405a07f1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-spatial-data-in-r-a38a405a07f1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a38a405a07f1--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a38a405a07f1--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://adityatandel.medium.com/?source=post_page-----a38a405a07f1--------------------------------", "anchor_text": ""}, {"url": "https://adityatandel.medium.com/?source=post_page-----a38a405a07f1--------------------------------", "anchor_text": "Aditya Tandel"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F61af7a5b334b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-spatial-data-in-r-a38a405a07f1&user=Aditya+Tandel&userId=61af7a5b334b&source=post_page-61af7a5b334b----a38a405a07f1---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa38a405a07f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-spatial-data-in-r-a38a405a07f1&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa38a405a07f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-spatial-data-in-r-a38a405a07f1&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@anastasia_p?utm_source=medium&utm_medium=referral", "anchor_text": "Anastasia Petrova"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://drive.google.com/drive/u/2/folders/1VOsECCRNLX3oVVAr_fgBoSJup6dxh4_3", "anchor_text": "here"}, {"url": "https://data.sfgov.org/Economy-and-Community/Registered-Business-Locations-San-Francisco/g8m3-pdis", "anchor_text": "here"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a38a405a07f1---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----a38a405a07f1---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/data-analytics?source=post_page-----a38a405a07f1---------------data_analytics-----------------", "anchor_text": "Data Analytics"}, {"url": "https://medium.com/tag/r-programming?source=post_page-----a38a405a07f1---------------r_programming-----------------", "anchor_text": "R Programming"}, {"url": "https://medium.com/tag/spatial-analysis?source=post_page-----a38a405a07f1---------------spatial_analysis-----------------", "anchor_text": "Spatial Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa38a405a07f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-spatial-data-in-r-a38a405a07f1&user=Aditya+Tandel&userId=61af7a5b334b&source=-----a38a405a07f1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa38a405a07f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-spatial-data-in-r-a38a405a07f1&user=Aditya+Tandel&userId=61af7a5b334b&source=-----a38a405a07f1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa38a405a07f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-spatial-data-in-r-a38a405a07f1&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a38a405a07f1--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa38a405a07f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-spatial-data-in-r-a38a405a07f1&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a38a405a07f1---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a38a405a07f1--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a38a405a07f1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a38a405a07f1--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a38a405a07f1--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a38a405a07f1--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a38a405a07f1--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a38a405a07f1--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a38a405a07f1--------------------------------", "anchor_text": ""}, {"url": "https://adityatandel.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://adityatandel.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Aditya Tandel"}, {"url": "https://adityatandel.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "60 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F61af7a5b334b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-spatial-data-in-r-a38a405a07f1&user=Aditya+Tandel&userId=61af7a5b334b&source=post_page-61af7a5b334b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fad6991aa2767&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-spatial-data-in-r-a38a405a07f1&newsletterV3=61af7a5b334b&newsletterV3Id=ad6991aa2767&user=Aditya+Tandel&userId=61af7a5b334b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}