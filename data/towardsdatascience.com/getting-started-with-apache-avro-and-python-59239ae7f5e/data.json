{"url": "https://towardsdatascience.com/getting-started-with-apache-avro-and-python-59239ae7f5e", "time": 1683012038.932056, "path": "towardsdatascience.com/getting-started-with-apache-avro-and-python-59239ae7f5e/", "webpage": {"metadata": {"title": "Getting started with Apache Avro and Python | by Adnan Siddiqi | Towards Data Science", "h1": "Getting started with Apache Avro and Python", "description": "In this post, I am going to talk about Apache Avro, an open-source data serialization system that is being used by tools like Spark, Kafka, and others for big data processing. Basically, Avro is a\u2026"}, "outgoing_paragraph_urls": [{"url": "https://avro.apache.org/docs/current/", "anchor_text": "Apache Avro", "paragraph_index": 0}, {"url": "https://avro.apache.org/docs/1.10.0/gettingstartedpython.html", "anchor_text": "here", "paragraph_index": 5}, {"url": "https://github.com/fastavro/fastavro", "anchor_text": "FastAvro", "paragraph_index": 5}, {"url": "http://blog.adnansiddiqi.me/tag/spark/", "anchor_text": "Apache Spark", "paragraph_index": 12}, {"url": "http://blog.adnansiddiqi.me/tag/kafka/", "anchor_text": "Kafka", "paragraph_index": 12}, {"url": "http://adnansiddiqi.me", "anchor_text": "http://adnansiddiqi.me", "paragraph_index": 14}], "all_paragraphs": ["In this post, I am going to talk about Apache Avro, an open-source data serialization system that is being used by tools like Spark, Kafka, and others for big data processing.", "Avro is a row-oriented remote procedure call and data serialization framework developed within Apache\u2019s Hadoop project. It uses JSON for defining data types and protocols, and serializes data in a compact binary format. Its primary use is in Apache Hadoop, where it can provide both a serialization format for persistent data, and a wire format for communication between Hadoop nodes, and from client programs to the Hadoop services. Avro uses a schema to structure the data that is being encoded. It has two different types of schema languages; one for human editing (Avro IDL) and another which is more machine-readable based on JSON.[3]", "Basically, Avro is a language-independent data serialization system developed by the father of Hadoop Doug Cutting. Before I discuss further Avro, allow me to discuss in brief about data serialization and advantages of it.", "Data Serialization is the process of converting complex objects( array, dicts, lists, class objects, JSON, etc) into byte streams so that they can be stored or transferred to other machines. The reason for data serialization of transferring data among computers who have different architecture, hardware, or operating systems. Once the data is received at the other end, it can be revert back to the original form. The process is called Deserialization.", "Now you know what is it all about, let\u2019s dig in and play with some code.", "There are two libraries that are currently being used in Python applications. One is simply called avro which you can access here. And the other is FastAvro which claims to be faster than the previous one. The working of both is the same. Since we are working on a toy example therefore the previous lib is sufficient for us. So, as always use the typical pip tool to install it:", "Apache Avro format is actually a JSON structure. You can say that Avro format is actually a combination of a JSON data structure and a schema for validation purposes. So before we create our Avro file which has an extension .avro, we will be creating its schema.", "OK, so I have come up with a schema above which you can see is a JSON structure. We will be mentioning a namespace first. It is nothing but a string. Usually, it follows the same format which is used by the Java packaging naming convention that is the reverse of your domain name but not necessary. Here I mentioned the reverse of my blog URL. After that you mentioned the type of your schema, here it is of record type. There are other types too like enum, arrays etc. After that, we mention the name of the schema which is User here. The next is field item which could be one or more. It has mandatory fields like name and type and optional fields like doc and alias. The doc field is used to document your field while alias is used to give the field a name other than the one mentioned in name. So far so good. The schema we created, we will be saving in a file called users.avsc.", "Now we will be writing the code that will read the schema from the schema file and then will be adding a few records in the Avro file. Later, we will be retrieving the records and display them. Let\u2019s write the code!", "After importing the necessary modules, the very first thing I am doing is reading the schema file. DatumWriter is responsible for data translation into Avro format w.r.t the input schema. DataFileWriter is responsible for writing the data in the file. After inserting a couple of records by we close the writer. The DataFileReader is working similarly, the only difference is that here DatumReader() is responsible for deserialization of data which is stored in users.avro and then make it available for display. When you run the code it will display like the below:", "So far so good? Now let\u2019s make a bit of change in the schema. I changed age field to dob and when I run it gives the following error:", "Cool, No? Similarly, if you make changes in the data it will scream and tell you to fix things up.", "I hope you will have learned a bit about Apache Avro and how Python lets you use it to transfer data across devices and systems. I have just touched the surface of it and there is more about it. Avro is also heavily used by Apache Spark and Kafka for data transfer.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Pakistani | Husband | Father | Software Consultant | Developer | blogger. I occasionally try to make stuff with code. http://adnansiddiqi.me"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F59239ae7f5e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-apache-avro-and-python-59239ae7f5e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-apache-avro-and-python-59239ae7f5e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-apache-avro-and-python-59239ae7f5e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-apache-avro-and-python-59239ae7f5e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----59239ae7f5e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----59239ae7f5e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://pknerd.medium.com/?source=post_page-----59239ae7f5e--------------------------------", "anchor_text": ""}, {"url": "https://pknerd.medium.com/?source=post_page-----59239ae7f5e--------------------------------", "anchor_text": "Adnan Siddiqi"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb935c6f80f22&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-apache-avro-and-python-59239ae7f5e&user=Adnan+Siddiqi&userId=b935c6f80f22&source=post_page-b935c6f80f22----59239ae7f5e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F59239ae7f5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-apache-avro-and-python-59239ae7f5e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F59239ae7f5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-apache-avro-and-python-59239ae7f5e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/photos/LqKhnDzSF-8", "anchor_text": "https://unsplash.com/photos/LqKhnDzSF-8"}, {"url": "https://avro.apache.org/docs/current/", "anchor_text": "Apache Avro"}, {"url": "https://avro.apache.org/docs/1.10.0/gettingstartedpython.html", "anchor_text": "here"}, {"url": "https://github.com/fastavro/fastavro", "anchor_text": "FastAvro"}, {"url": "http://blog.adnansiddiqi.me/tag/spark/", "anchor_text": "Apache Spark"}, {"url": "http://blog.adnansiddiqi.me/tag/kafka/", "anchor_text": "Kafka"}, {"url": "http://blog.adnansiddiqi.me/getting-started-with-apache-avro-and-python/", "anchor_text": "http://blog.adnansiddiqi.me"}, {"url": "https://medium.com/tag/python?source=post_page-----59239ae7f5e---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/apache-avro?source=post_page-----59239ae7f5e---------------apache_avro-----------------", "anchor_text": "Apache Avro"}, {"url": "https://medium.com/tag/big-data?source=post_page-----59239ae7f5e---------------big_data-----------------", "anchor_text": "Big Data"}, {"url": "https://medium.com/tag/data-serialization?source=post_page-----59239ae7f5e---------------data_serialization-----------------", "anchor_text": "Data Serialization"}, {"url": "https://medium.com/tag/data-engineering?source=post_page-----59239ae7f5e---------------data_engineering-----------------", "anchor_text": "Data Engineering"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F59239ae7f5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-apache-avro-and-python-59239ae7f5e&user=Adnan+Siddiqi&userId=b935c6f80f22&source=-----59239ae7f5e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F59239ae7f5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-apache-avro-and-python-59239ae7f5e&user=Adnan+Siddiqi&userId=b935c6f80f22&source=-----59239ae7f5e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F59239ae7f5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-apache-avro-and-python-59239ae7f5e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----59239ae7f5e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F59239ae7f5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-apache-avro-and-python-59239ae7f5e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----59239ae7f5e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----59239ae7f5e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----59239ae7f5e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----59239ae7f5e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----59239ae7f5e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----59239ae7f5e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----59239ae7f5e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----59239ae7f5e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----59239ae7f5e--------------------------------", "anchor_text": ""}, {"url": "https://pknerd.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://pknerd.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Adnan Siddiqi"}, {"url": "https://pknerd.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "2.9K Followers"}, {"url": "http://adnansiddiqi.me", "anchor_text": "http://adnansiddiqi.me"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb935c6f80f22&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-apache-avro-and-python-59239ae7f5e&user=Adnan+Siddiqi&userId=b935c6f80f22&source=post_page-b935c6f80f22--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Faba5366391b8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-apache-avro-and-python-59239ae7f5e&newsletterV3=b935c6f80f22&newsletterV3Id=aba5366391b8&user=Adnan+Siddiqi&userId=b935c6f80f22&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}