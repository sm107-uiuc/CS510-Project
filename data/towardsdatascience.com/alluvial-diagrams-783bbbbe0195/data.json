{"url": "https://towardsdatascience.com/alluvial-diagrams-783bbbbe0195", "time": 1682993549.1933591, "path": "towardsdatascience.com/alluvial-diagrams-783bbbbe0195/", "webpage": {"metadata": {"title": "Alluvial Diagrams. Plotting pathways over time | by Eric Green | Towards Data Science", "h1": "Alluvial Diagrams", "description": "I show you how to use the alluvial package for R to create an alluvial diagram that depicts how individuals flow across time points."}, "outgoing_paragraph_urls": [{"url": "https://onlinelibrary.wiley.com/doi/pdf/10.1111/jcpp.12955", "anchor_text": "Journal of Child Psychology and Psychiatry", "paragraph_index": 0}, {"url": "https://ericpgreen.github.io/JCPP2018/jcpp.html", "anchor_text": "public archiving", "paragraph_index": 0}, {"url": "https://github.com/mbojan/alluvial", "anchor_text": "alluvial", "paragraph_index": 1}, {"url": "https://github.com/mbojan/alluvial", "anchor_text": "package", "paragraph_index": 1}, {"url": "http://cesd-r.com/", "anchor_text": "CESD-R", "paragraph_index": 3}], "all_paragraphs": ["A paper I co-wrote was published last week in the Journal of Child Psychology and Psychiatry. This paper reports the results of a secondary analysis of the impact of a school support intervention on depression among orphans in Kenya. In the process of preparing the data for public archiving, I thought it would be neat to try visualizing our longitudinal data on depression as an alluvial diagram.", "The figure below is an example of an alluvial diagram of the Titanic dataset created by Micha\u0142 Bojanowski, author of the alluvial package for R. The diagram flows backwards from whether passengers survived. For instance, you can trace back from Survived==\"No\" to see that most of the Titanic crew did not survive.", "I\u2019m going to show you how to use this package to create a different type of alluvial diagram that depicts how individuals flow across time points.", "My colleagues designed a cluster randomized trial in Kenya and recruited more than 800 adolescents from 26 primary schools to participate in a study of school support (i.e., free tuition, school uniforms, and nurse visits). As part of a baseline survey, kids were asked a subset of questions from a questionnaire called the CESD-R to assess depression severity. Half of the schools were then randomly assigned to receive the school support intervention, and the research team followed the kids over four years.", "In our secondary analysis, we created an indicator of depression that was the average of five CESD-R questions that were rescaled to have a range of 0 to 3. Higher scores indicate greater severity.", "Here is Figure 1 from our paper showing the mean depression score by study arm and year. It\u2019s a concise summary of the trial data, but it does not give us a sense of how individuals changed over time. All of that information is collapsed into the means.", "The line plot shows that, on average, the groups were similar in terms of severity until Year 4 when the control group\u2019s score increased, creating separation from the treatment group. So let\u2019s explore what\u2019s happening in Year 4.", "One way of looking at the data is to label participants as \u201cpossibly depressed\u201d or not based on their yearly severity score and compare the study arms on this status in Year 4 relative to where they started in Year 1. This is what we did in Figure 3, labeling everyone as:", "This figure hints at the fact that participants have different pathways to their Year 4 depression scores, but the data are still summarized by group. Let\u2019s try dropping all aggregation and showing the scores for each adolescent at each time point.", "Here\u2019s the script to get the raw data and wrangle it into the right shape for plotting:", "And now we can plot each person\u2019s yearly score as a line:", "What a mess! Data science may be both art and science, but this plot is is squarely in the art camp.", "Now I\u2019ll use the alluvial package to lump participants together by pathway. Here\u2019s the code:", "This plot does not facet on study arm to keep things simple, but such faceting is possible. The bigger picture to grasp is how alluvial plots can trace all possible pathways that participants take in a longitudinal dataset.", "For instance, adolescents who never scored above the depression cutoff form a straight-line grey band at the bottom from that goes from \u201cnot depressed\u201d in Year 4 all the way back to \u201cnot depressed\u201d in Years 3, 2, and 1. There is a parallel always depressed group represented by the straight-line red band at the top. The waves in the middle are participants who changed status one or more times.", "The next time you see reports based on pre/post data, you might wonder what is happening in between observations. If you actually collect longitudinal data, try plotting this change with an alluvial diagram.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I'm a psychologist and professor at Duke University who studies health and technology. I'm also a Co-Founder of Nivi, a digital health company (Boston/Kenya)."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F783bbbbe0195&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falluvial-diagrams-783bbbbe0195&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falluvial-diagrams-783bbbbe0195&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falluvial-diagrams-783bbbbe0195&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falluvial-diagrams-783bbbbe0195&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----783bbbbe0195--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----783bbbbe0195--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@ericpgreen?source=post_page-----783bbbbe0195--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ericpgreen?source=post_page-----783bbbbe0195--------------------------------", "anchor_text": "Eric Green"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc3dc9bdc0078&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falluvial-diagrams-783bbbbe0195&user=Eric+Green&userId=c3dc9bdc0078&source=post_page-c3dc9bdc0078----783bbbbe0195---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F783bbbbe0195&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falluvial-diagrams-783bbbbe0195&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F783bbbbe0195&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falluvial-diagrams-783bbbbe0195&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://onlinelibrary.wiley.com/doi/pdf/10.1111/jcpp.12955", "anchor_text": "Journal of Child Psychology and Psychiatry"}, {"url": "https://ericpgreen.github.io/JCPP2018/jcpp.html", "anchor_text": "public archiving"}, {"url": "https://github.com/mbojan/alluvial", "anchor_text": "alluvial"}, {"url": "https://github.com/mbojan/alluvial", "anchor_text": "package"}, {"url": "https://cran.r-project.org/web/packages/alluvial/vignettes/alluvial.html", "anchor_text": "created by Michal Bojanowski"}, {"url": "http://cesd-r.com/", "anchor_text": "CESD-R"}, {"url": "https://medium.com/tag/data-science?source=post_page-----783bbbbe0195---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/r?source=post_page-----783bbbbe0195---------------r-----------------", "anchor_text": "R"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----783bbbbe0195---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F783bbbbe0195&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falluvial-diagrams-783bbbbe0195&user=Eric+Green&userId=c3dc9bdc0078&source=-----783bbbbe0195---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F783bbbbe0195&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falluvial-diagrams-783bbbbe0195&user=Eric+Green&userId=c3dc9bdc0078&source=-----783bbbbe0195---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F783bbbbe0195&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falluvial-diagrams-783bbbbe0195&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----783bbbbe0195--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F783bbbbe0195&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falluvial-diagrams-783bbbbe0195&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----783bbbbe0195---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----783bbbbe0195--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----783bbbbe0195--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----783bbbbe0195--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----783bbbbe0195--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----783bbbbe0195--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----783bbbbe0195--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----783bbbbe0195--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----783bbbbe0195--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ericpgreen?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ericpgreen?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Eric Green"}, {"url": "https://medium.com/@ericpgreen/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "137 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc3dc9bdc0078&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falluvial-diagrams-783bbbbe0195&user=Eric+Green&userId=c3dc9bdc0078&source=post_page-c3dc9bdc0078--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F27b96b796a84&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falluvial-diagrams-783bbbbe0195&newsletterV3=c3dc9bdc0078&newsletterV3Id=27b96b796a84&user=Eric+Green&userId=c3dc9bdc0078&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}