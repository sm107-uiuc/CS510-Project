{"url": "https://towardsdatascience.com/causalimpact-and-r-analysing-time-series-interventions-27a5dfaec999", "time": 1683014693.852108, "path": "towardsdatascience.com/causalimpact-and-r-analysing-time-series-interventions-27a5dfaec999/", "webpage": {"metadata": {"title": "CausalImpact and R: Analysing Time Series Interventions | by Michael Grogan | Towards Data Science", "h1": "CausalImpact and R: Analysing Time Series Interventions", "description": "Disclaimer: This article is written on an \u201cas is\u201d basis and without warranty. It was written with the intention of providing an overview of data science concepts, and should not be interpreted as\u2026"}, "outgoing_paragraph_urls": [{"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com", "paragraph_index": 27}], "all_paragraphs": ["Disclaimer: This article is written on an \u201cas is\u201d basis and without warranty. It was written with the intention of providing an overview of data science concepts, and should not be interpreted as investment advice, or any other sort of professional advice.", "Interventions (or external factors independent of a time series) can often influence said series.", "For instance, a marketing campaign can influence the number of sales a company makes going forward. A change in government policy can significantly influence economic activity.", "The main problem in analysing interventions is that it is not possible to analyse what would have happened had the intervention not occurred \u2014 at least not directly.", "The CausalImpact library in R allows for analysis of intervention effects through using a separate series (one which is not affected by the intervention) as a covariate.", "In November 2017, the Bank of England decided to raise interest rates. When the central bank of a country decides to manipulate interest rates in this manner \u2014 the value of a currency can be affected \u2014 given that such a decision affects the rate that investors can yield through holding that particular currency.", "In this regard, we would like to examine if a rise in interest rates affected the value of the GBP/USD.", "To do this, the EUR/USD currency is chosen as a covariate \u2014 this currency is hypothesised as not being affected by the intervention \u2014 as the ECB did not raise interest rates during this period.", "The relevant data is sourced from the FRED database using Quandl.", "Here is a plot of the two currencies:", "When working with financial time series, it is common to convert data into logarithmic format. While this makes sense when it comes to analysing stock prices that have significantly different price scales, the data is analysed \u201cas is\u201d in this example.", "The reason is that currency data has a much smaller scale than most other asset prices, and using a logarithmic scale would bring the values so close together that any interventions that could be detected across the original series may not be detected when using a logarithmic scale.", "Using this data, a pre-period and post-period is defined, with the data then plotted.", "A summary of the impact is generated:", "We see that the predicted vs. actual values (average) are the same at 1.3, with only a slight difference across the cumulative values (25.5 vs. 25.4).", "The posterior probability of a causal effect is 56%.", "Let\u2019s take a closer look at the generated summary report. Part of it states:", "When the same example was analysed with pycausalimpact, the results came in slightly differently.", "The model was defined as follows:", "Unlike the model formulated in R, this model predicted a 100% posterior probability of a causal effect.", "The R and Python versions of this library differ in the way they analyse interventions. Specifically, R relies more on prior probabilities whereby previous knowledge is factored into the model assumptions, whereby Python relies more on analysis of the structural time series components in order to maximise the likelihood function.", "That said, suppose the prior is now set to None, i.e. prior_level_sd=None.", "This model does predict a change in the rate from 1.34 to 1.35, but the model notes:", "In this regard, the choice of prior can significantly affect the assumptions of the model and hence whether an intervention will ultimately be detected or not.", "In this article, you have seen:", "Many thanks for reading, and any questions or feedback are greatly welcomed.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Science Consultant with expertise in economics, time series analysis, and Bayesian methods | michael-grogan.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F27a5dfaec999&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausalimpact-and-r-analysing-time-series-interventions-27a5dfaec999&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausalimpact-and-r-analysing-time-series-interventions-27a5dfaec999&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausalimpact-and-r-analysing-time-series-interventions-27a5dfaec999&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausalimpact-and-r-analysing-time-series-interventions-27a5dfaec999&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----27a5dfaec999--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----27a5dfaec999--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----27a5dfaec999--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----27a5dfaec999--------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausalimpact-and-r-analysing-time-series-interventions-27a5dfaec999&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178----27a5dfaec999---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F27a5dfaec999&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausalimpact-and-r-analysing-time-series-interventions-27a5dfaec999&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F27a5dfaec999&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausalimpact-and-r-analysing-time-series-interventions-27a5dfaec999&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/users/monoar_cgi_artis-2240009/", "anchor_text": "Monoar_CGI_Artis"}, {"url": "https://pixabay.com/photos/clock-alarm-clock-watch-time-old-1274699/", "anchor_text": "Pixabay"}, {"url": "https://github.com/dafiti/causalimpact", "anchor_text": "GitHub: dafiti/causalimpact"}, {"url": "https://www.youtube.com/watch?v=GTgZfCltMm8", "anchor_text": "Inferring the effect of an event using CausalImpact by Kay Brodersen"}, {"url": "https://www.investing.com/economic-calendar/interest-rate-decision-170", "anchor_text": "investing.com: U.K. Interest Rate Decision"}, {"url": "https://www.rdocumentation.org/packages/CausalImpact/versions/1.2.4/topics/CausalImpact", "anchor_text": "RDocumentation: CausalImpact"}, {"url": "https://medium.com/tag/data-science?source=post_page-----27a5dfaec999---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----27a5dfaec999---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/time-series?source=post_page-----27a5dfaec999---------------time_series-----------------", "anchor_text": "Time Series"}, {"url": "https://medium.com/tag/rstats?source=post_page-----27a5dfaec999---------------rstats-----------------", "anchor_text": "Rstats"}, {"url": "https://medium.com/tag/r-programming?source=post_page-----27a5dfaec999---------------r_programming-----------------", "anchor_text": "R Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F27a5dfaec999&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausalimpact-and-r-analysing-time-series-interventions-27a5dfaec999&user=Michael+Grogan&userId=eec017a8b178&source=-----27a5dfaec999---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F27a5dfaec999&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausalimpact-and-r-analysing-time-series-interventions-27a5dfaec999&user=Michael+Grogan&userId=eec017a8b178&source=-----27a5dfaec999---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F27a5dfaec999&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausalimpact-and-r-analysing-time-series-interventions-27a5dfaec999&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----27a5dfaec999--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F27a5dfaec999&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausalimpact-and-r-analysing-time-series-interventions-27a5dfaec999&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----27a5dfaec999---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----27a5dfaec999--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----27a5dfaec999--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----27a5dfaec999--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----27a5dfaec999--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----27a5dfaec999--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----27a5dfaec999--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----27a5dfaec999--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----27a5dfaec999--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://mgcodesandstats.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.5K Followers"}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausalimpact-and-r-analysing-time-series-interventions-27a5dfaec999&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3c6e2607915&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausalimpact-and-r-analysing-time-series-interventions-27a5dfaec999&newsletterV3=eec017a8b178&newsletterV3Id=3c6e2607915&user=Michael+Grogan&userId=eec017a8b178&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}