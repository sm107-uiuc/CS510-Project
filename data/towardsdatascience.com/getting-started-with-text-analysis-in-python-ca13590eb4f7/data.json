{"url": "https://towardsdatascience.com/getting-started-with-text-analysis-in-python-ca13590eb4f7", "time": 1683010814.9610848, "path": "towardsdatascience.com/getting-started-with-text-analysis-in-python-ca13590eb4f7/", "webpage": {"metadata": {"title": "Getting started with text analysis in Python | by Lisa A. Chalaguine | Towards Data Science", "h1": "Getting started with text analysis in Python", "description": "So, apparently using MS Excel for text data is a thing, because there are add-ons you can install that create word counts and word clouds and can apparently even perform sentiment analysis. However\u2026"}, "outgoing_paragraph_urls": [{"url": "https://text2data.com/Excel", "anchor_text": "add-ons", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/how-to-get-started-with-data-analysis-and-data-science-in-python-and-r-a-pragmatic-approach-a6ff498dec61", "anchor_text": "previous article", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/how-to-get-started-with-data-analysis-and-data-science-in-python-and-r-a-pragmatic-approach-a6ff498dec61", "anchor_text": "my previous article", "paragraph_index": 2}, {"url": "https://github.com/lisanka93/text_analysis_python_101/blob/master/Railroad_incidents_USA2019.ipynb", "anchor_text": "here", "paragraph_index": 3}, {"url": "https://towardsdatascience.com/a-quick-introduction-to-the-pandas-python-library-f1b678f34673", "anchor_text": "this medium article", "paragraph_index": 4}, {"url": "https://stackoverflow.com/", "anchor_text": "stackoverflow", "paragraph_index": 5}, {"url": "https://stackoverflow.com/questions/33098383/merge-multiple-column-values-into-one-column-in-python-pandas", "anchor_text": "several columns", "paragraph_index": 9}, {"url": "https://github.com/lisanka93/text_analysis_python_101/blob/master/Dummy%20movie%20dataset.ipynb", "anchor_text": "my dummy notebook", "paragraph_index": 10}, {"url": "https://github.com/lisanka93/DataScience_summer_school_2019/blob/master/day9/titanic-logisticreg_and_NB.ipynb", "anchor_text": "this notebook", "paragraph_index": 11}, {"url": "https://www.nltk.org/", "anchor_text": "NLTK", "paragraph_index": 14}, {"url": "http://www.ai.mit.edu/projects/jmlr/papers/volume5/lewis04a/a11-smart-stop-list/english.stop", "anchor_text": "stopword list", "paragraph_index": 15}, {"url": "https://github.com/lisanka93/text_analysis_python_101/blob/master/Railroad_incidents_USA2019.ipynb", "anchor_text": "notebook", "paragraph_index": 16}, {"url": "https://medium.com/factory-mind/regex-tutorial-a-simple-cheatsheet-by-examples-649dc1c3f285", "anchor_text": "tutorials", "paragraph_index": 20}, {"url": "https://towardsdatascience.com/stemming-vs-lemmatization-2daddabcb221", "anchor_text": "Lemmatisation and stemming", "paragraph_index": 22}, {"url": "https://github.com/lisanka93/text_analysis_python_101/blob/master/Dummy%20movie%20dataset.ipynb", "anchor_text": "here", "paragraph_index": 25}, {"url": "http://procure.ai", "anchor_text": "procure.ai", "paragraph_index": 29}], "all_paragraphs": ["So, apparently using MS Excel for text data is a thing, because there are add-ons you can install that create word counts and word clouds and can apparently even perform sentiment analysis. However, I honestly do not know why someone would do that if free and less awkward tools exist \u2014 like Python.", "I have outlined in a previous article, that many people are reluctant to pick up coding because they believe that it is difficult and in-depth math knowledge is required. Neither is true. If you can write long and awkward functions in Excel, let me reassure you that Python is way easier and more intuitive. Besides, there exist various Python libraries for natural language processing (NLP) with a huge plethora of in-built functions that will do the heavy lifting for you.", "In this article, I want to start with the very basics of text analysis in Python. Some Python knowledge is necessary, so I suggest you check out my previous article in which I give tips on how to get started with Python or R for Data Analysis. This article will be of a similar format. There are plenty of tutorials and articles on how to get started with NLP in Python, some of which I will link to in this article. However, I want to give a pragmatic example on how to deal with real-world text data which you might encounter in your daily work life. I want to show how to apply some simple, but powerful, text analysis techniques and how to tackle problems you might run into.", "I will give some code samples from a notebook that I created for a friend who wanted to get started with text analysis in Python for his job. The whole notebook is available here, if you want to go through it. It is not the most exciting dataset since I tried to find a public dataset which is similar to the type of data that he has to analyse at work. The dataset contains US railroad incidents from 2019.", "Unlike the nicely cleaned and formatted datasets that you get to analyse in tutorials, real-world data is often messy and noisy. For example, when importing the US railroad data, the incident text which was supposed to be in one column, somehow ended up in 15 columns. I am not sure about MS Excel (haven\u2019t used that in years) but in LibreOffice Calc (the open-source version that comes with Ubuntu) you\u2019d have to merge the columns row-by-row. This is already tedious for 20 rows, not to mention for 2000. In Python, of course, you can automate it, and the best library for data manipulation is called pandas (check out this medium article for an intro).", "In my opinion, the best way to learn something new, is to get your hands dirty. Of course, you should spend some time to familiarise yourself with the basics, but no one has time to do tutorials on all useful Python libraries. If you don\u2019t know how to perform a certain operation (like merging columns using pandas) \u2013 Google (or Baidu, or Yandex\u2026) is your friend. I can assure you that someone has asked that question before and got an answer on stackoverflow.", "The hardest part for everyone new to programming (or anything actually) is to formulate the right question when they get stuck, in order to find the answer they are looking for. Asking the right question and googling is a skill and comes with practice. In the beginning, it might, therefore, take you longer to find an answer on the web. But don\u2019t worry \u2014 you will pick up the necessary vocabulary and experience soon enough.", "Problem: Data which should be in one column is split into multiple columnsEnd goal: Have one new column which contains all the data from the columns and delete the redundant columns", "Google query: Merge multiple columns pandas", "Google suggests several stackoverflow posts. The main one is not the most ideal since we have more than two columns. But there is another question that asks about several columns.", "This is a very neat solution. Why? Because it\u2019s general and takes into consideration other problems you could encounter down the line: like NaN-values (empty cells) and different data types in different columns (NaNs are of type float). I am going through step-by-step what the function does in my dummy notebook.", "Given I want to focus on text data, I will not cover how to handle missing data. I am giving some examples of how to impute missing numerical data in this notebook (note: It\u2019s in R, not Python). For the railroad incident dataset, I just checked for duplicate rows and dropped them. I suggest you do everything necessary with your data that makes your life easier. If you are only interested in certain columns \u2014 select only those and store them in a data frame. If you are interested only in a certain part of your data \u2014 select that (e.g. only incidents that happen in Kansas City).", "In this section I want to go over some important NLP concepts and show code examples on how to apply them on text data.", "Stopword removalStop words are words that may not carry any valuable information, like articles (\u201cthe\u201d), conjunctions (\u201cand\u201d), or propositions (\u201cwith\u201d). Why would you want to remove them? Because finding out that \u201cthe\u201d and \u201ca\u201d are the most common words in your dataset doesn\u2019t tell you much about the data. However, if the most common words include \u201cdamage\u201d and \u201cderail\u201d you can already make certain inferences about the types of incidents (in the US railroad dataset).", "NLP Python libraries like NLTK usually come with an in-built stopword list which you can easily import.", "The NLTK stopword list, however, only has around 200 stopwords. The stopword list which I use for my text analysis contains almost 600 words\u00b9. I keep it in a file, where I have deleted apostrophes (ain\u2019t \u2192 aint) because I remove punctuation and tokenise the text before I remove stopwords.", "Note, that in some cases stop words matter. For example, in identifying negative reviews or recommendations. People will use stop words like \u201cno\u201d and \u201cnot\u201d in negative reviews: \u201cI will not buy this product again. I saw no benefits in using it\u201d. I am addressing negation in the notebook.", "As you have already seen in the code snippet above, we need to tokenise the text into single words and store them in a list, in order to loop through the list and remove the stop words. Single words are called unigrams, two words bi-grams, and three words tri-grams.", "When dealing with a new dataset I often find it helpful to extract the most common words to get an idea of what the data is about. You usually want to extract the most common unigrams first, but it can also be useful to extract n-grams with larger n to identify patterns. You should, however, still read at least a few of your data points in order to identify potential problems. In the railroad incident texts, for example, I have noticed that some reports specify that no damage or hazmat (hazardous materials) release occurred. I then used bi-grams and tri-grams to identify negations and distinguish between incidents where damage and hazmat release occurred and those where it did not.", "NLTK has in-built bigrams, trigrams and ngrams functions.", "Punctuation is not always useful in predicting the meaning of texts, so they are often removed along with stop words. Removing punctuation leaves you only with alpha-numeric characters. I will not get into Regex expressions here \u2014 there are many tutorials on them on the internet. Below are two regex expressions \u2014 one which deletes all punctuation and numbers, and one that leaves numbers in the text.", "Note that whether deleting punctuation is a good idea depends entirely on your data. If you want to extract specific information, e.g. the $ amount of the damages, you want to keep the dollar sign in so you can extract the amount that follows it. Another example, where keeping punctuation is beneficial is for training a spam-ham classifier. Spam e-mails or texts usually contain more punctuation and can, therefore, be a useful feature.", "Lemmatisation and stemming both refer to a process of reducing a word to its root. The difference is that stem might not be an actual word whereas, a lemma is an actual word. It\u2019s a handy tool if you want to avoid treating different forms of the same word as different words, e.g. derailment, derailing, derail and derailed.", "Lemmatising: considered, considering, consider \u2192 \u201cconsider\u201dStemming: considered, considering, consider \u2192 \u201cconsid\u201d", "I personally have never noticed a significat difference between lemmatising and stemming when training classifiers. However, I suggest you try out yourself. NLTK comes with many different in-built lemmatisers and stemmers, so just plug and play.", "Now you should know enough to get you started with text analysis in Python. Let\u2019s put it all together by using a dummy dataset I created with 5 movie reviews. The notebook can be found for download here.", "The preprocessing function in the notebook I have written at the very beginning of my PhD and have been copy-pasting it throughout different projects. If you always deal with the same type of data in your job, it\u2019s easy to code up some functions that automate the preprocessing, exploration, and analysis, which you can copy-paste every time you have to deal with a new dataset.", "I hope you found this article useful and it will help you getting started with Python pandas, NLTK, and any other libraries out there that will make your job easier. I will cover some more advanced NLP topics in the next article, so if you have any suggestions on what I should cover, let me know!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I just finished my PhD in Computer Science at UCL and currently work as a Data Scientist at procure.ai - LinkedIn: lisanka93"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fca13590eb4f7&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-text-analysis-in-python-ca13590eb4f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-text-analysis-in-python-ca13590eb4f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-text-analysis-in-python-ca13590eb4f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-text-analysis-in-python-ca13590eb4f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ca13590eb4f7--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ca13590eb4f7--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://lisanka.medium.com/?source=post_page-----ca13590eb4f7--------------------------------", "anchor_text": ""}, {"url": "https://lisanka.medium.com/?source=post_page-----ca13590eb4f7--------------------------------", "anchor_text": "Lisa A. Chalaguine"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2dd28e5ad562&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-text-analysis-in-python-ca13590eb4f7&user=Lisa+A.+Chalaguine&userId=2dd28e5ad562&source=post_page-2dd28e5ad562----ca13590eb4f7---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fca13590eb4f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-text-analysis-in-python-ca13590eb4f7&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fca13590eb4f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-text-analysis-in-python-ca13590eb4f7&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com", "anchor_text": "Source"}, {"url": "https://text2data.com/Excel", "anchor_text": "add-ons"}, {"url": "https://towardsdatascience.com/how-to-get-started-with-data-analysis-and-data-science-in-python-and-r-a-pragmatic-approach-a6ff498dec61", "anchor_text": "previous article"}, {"url": "https://towardsdatascience.com/how-to-get-started-with-data-analysis-and-data-science-in-python-and-r-a-pragmatic-approach-a6ff498dec61", "anchor_text": "my previous article"}, {"url": "https://github.com/lisanka93/text_analysis_python_101/blob/master/Railroad_incidents_USA2019.ipynb", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/a-quick-introduction-to-the-pandas-python-library-f1b678f34673", "anchor_text": "this medium article"}, {"url": "https://stackoverflow.com/", "anchor_text": "stackoverflow"}, {"url": "https://stackoverflow.com/questions/33098383/merge-multiple-column-values-into-one-column-in-python-pandas", "anchor_text": "several columns"}, {"url": "https://github.com/lisanka93/text_analysis_python_101/blob/master/Dummy%20movie%20dataset.ipynb", "anchor_text": "my dummy notebook"}, {"url": "https://github.com/lisanka93/DataScience_summer_school_2019/blob/master/day9/titanic-logisticreg_and_NB.ipynb", "anchor_text": "this notebook"}, {"url": "https://www.nltk.org/", "anchor_text": "NLTK"}, {"url": "http://www.ai.mit.edu/projects/jmlr/papers/volume5/lewis04a/a11-smart-stop-list/english.stop", "anchor_text": "stopword list"}, {"url": "https://github.com/lisanka93/text_analysis_python_101/blob/master/Railroad_incidents_USA2019.ipynb", "anchor_text": "notebook"}, {"url": "https://medium.com/factory-mind/regex-tutorial-a-simple-cheatsheet-by-examples-649dc1c3f285", "anchor_text": "tutorials"}, {"url": "https://towardsdatascience.com/stemming-vs-lemmatization-2daddabcb221", "anchor_text": "Lemmatisation and stemming"}, {"url": "https://github.com/lisanka93/text_analysis_python_101/blob/master/Dummy%20movie%20dataset.ipynb", "anchor_text": "here"}, {"url": "http://www.jmlr.org/papers/volume5/lewis04a/lewis04a.pdf", "anchor_text": "Rcv1: A new benchmark collection for text categorization research."}, {"url": "https://medium.com/tag/text-analysis?source=post_page-----ca13590eb4f7---------------text_analysis-----------------", "anchor_text": "Text Analysis"}, {"url": "https://medium.com/tag/nlp?source=post_page-----ca13590eb4f7---------------nlp-----------------", "anchor_text": "NLP"}, {"url": "https://medium.com/tag/python?source=post_page-----ca13590eb4f7---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ca13590eb4f7---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/beginner?source=post_page-----ca13590eb4f7---------------beginner-----------------", "anchor_text": "Beginner"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fca13590eb4f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-text-analysis-in-python-ca13590eb4f7&user=Lisa+A.+Chalaguine&userId=2dd28e5ad562&source=-----ca13590eb4f7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fca13590eb4f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-text-analysis-in-python-ca13590eb4f7&user=Lisa+A.+Chalaguine&userId=2dd28e5ad562&source=-----ca13590eb4f7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fca13590eb4f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-text-analysis-in-python-ca13590eb4f7&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ca13590eb4f7--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fca13590eb4f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-text-analysis-in-python-ca13590eb4f7&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ca13590eb4f7---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ca13590eb4f7--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ca13590eb4f7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ca13590eb4f7--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ca13590eb4f7--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ca13590eb4f7--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ca13590eb4f7--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ca13590eb4f7--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ca13590eb4f7--------------------------------", "anchor_text": ""}, {"url": "https://lisanka.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://lisanka.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Lisa A. Chalaguine"}, {"url": "https://lisanka.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "131 Followers"}, {"url": "http://procure.ai", "anchor_text": "procure.ai"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2dd28e5ad562&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-text-analysis-in-python-ca13590eb4f7&user=Lisa+A.+Chalaguine&userId=2dd28e5ad562&source=post_page-2dd28e5ad562--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fcbee7682310f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-text-analysis-in-python-ca13590eb4f7&newsletterV3=2dd28e5ad562&newsletterV3Id=cbee7682310f&user=Lisa+A.+Chalaguine&userId=2dd28e5ad562&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}