{"url": "https://towardsdatascience.com/using-dotenv-to-hide-sensitive-information-in-r-8b878fa72020", "time": 1683016215.531782, "path": "towardsdatascience.com/using-dotenv-to-hide-sensitive-information-in-r-8b878fa72020/", "webpage": {"metadata": {"title": "Hiding Sensitive Information in R | Drew Seewald | Towards Data Science", "h1": "Using dotenv to Hide Sensitive Information in R", "description": "Leaving your credentials or API tokens in your code isn't ideal, especially when you're committing it to GitHub. The dotenv package in R helps avoid it!"}, "outgoing_paragraph_urls": [{"url": "https://cran.rstudio.com/web/packages/mapsapi/vignettes/intro.html", "anchor_text": "mapsapi", "paragraph_index": 1}, {"url": "https://developers.google.com/maps/documentation/geocoding/overview", "anchor_text": "Google Maps API", "paragraph_index": 1}, {"url": "https://stackoverflow.com/a/17785474", "anchor_text": "API token", "paragraph_index": 1}, {"url": "https://github.com/", "anchor_text": "GitHub", "paragraph_index": 2}, {"url": "https://medium.com/@jdmedlock", "anchor_text": "Jim Medlock", "paragraph_index": 5}, {"url": "https://medium.com/chingu/an-introduction-to-environment-variables-and-how-to-use-them-f602f66d15fa", "anchor_text": "An Introduction to Environment Variables and How to Use Them", "paragraph_index": 5}, {"url": "https://en.wikipedia.org/wiki/Environment_variable", "anchor_text": "environment variable", "paragraph_index": 6}, {"url": "https://atom.io/", "anchor_text": "Atom", "paragraph_index": 13}, {"url": "https://notepad-plus-plus.org/", "anchor_text": "Notepad++", "paragraph_index": 13}, {"url": "https://www.microsoft.com/en-us/p/windows-notepad/9msmlrh6lzf3?activetab=pivot:overviewtab", "anchor_text": "Notepad", "paragraph_index": 13}, {"url": "https://google.github.io/styleguide/shellguide.html#s7.3-constants-and-environment-variable-names", "anchor_text": "convention", "paragraph_index": 13}, {"url": "https://github.com/", "anchor_text": "GitHub", "paragraph_index": 15}, {"url": "https://stat.ethz.ch/R-manual/R-devel/library/base/html/getwd.html", "anchor_text": "current working directory", "paragraph_index": 20}, {"url": "https://github.com/gaborcsardi/dotenv", "anchor_text": "GitHub Repository", "paragraph_index": 25}, {"url": "http://www.linkedin.com/in/realdrewdata", "anchor_text": "www.linkedin.com/in/realdrewdata", "paragraph_index": 27}], "all_paragraphs": ["Often when learning a new package or testing out some code, I find myself writing my credentials and API tokens in plain text in my code. This is not the ideal way to code, especially if I don\u2019t want to regenerate my tokens and change my passwords every time I share my code. Using credentials and API tokens in your data science and programming projects is inevitable, but leaving them exposed is avoidable. Using the dotenv package in R is one way to keep these sensitive bits of information safe from prying eyes.", "In a previous project, I used the mapsapi package to access the Google Maps API. I had a data frame of points of interest, cities, states, and countries that I wanted to geocode, or get the longitude and latitude for. To get this information from the Google Maps API, I needed an API token. This API token is specific to me, and for a higher number of calls to the API, you need to pay.", "So imagine you created a similar project and uploaded it to GitHub. You soon see a very large charge on your credit card. Why? You left your API token in the code and someone abused your access to the API and ran up serious charges on your account.", "You left your API token in your code and someone ran up serious charges on your account", "API tokens give enormous amounts of power to control applications. With certain API\u2019s, usage is monitored and you will be billed for your usage! With this in mind, it is important to keep your credentials safe when using them in your coding projects.", "Enter environment variables. Jim Medlock has a great explanation of what they are in his An Introduction to Environment Variables and How to Use Them. In that post he says:", "An environment variable is a variable whose value is set outside the program, typically through functionality built into the operating system or microservice. An environment variable is made up of a name/value pair, and any number may be created and available for reference at a point in time.", "Here I will use them to keep my Google Maps API token safely out of my GitHub commits. This same process can be used for any other sensitive information you add to your code. For example, if you need to use your username or password for accessing a database, you will want to use something like the dotenv package to keep it safe.", "Note: I say a solution because there are multiple ways to do everything. This is the one I find simple and useful for my projects", "Before we begin, here is a quick look at the snippet of code that we will be improving with environment variables. It loads the required package, defines the API key in plain text, and sends a request to the API for each location in the places character vector.", "Our goal is to remove the need to keep the token in this script, but still be able to use it in our code.", "Let\u2019s start with installing the package. We can do this using the install.packages() function.", "Now let\u2019s setup our .env file. This file should always live in the project\u2019s top level folder, or root directory. Create a new text file in that location, renaming it to .env. Windows will ask you to confirm that you want to change the file type. Click yes.", "Next, open the .env file with a text editor. I prefer Atom or Notepad++, but Notepad will work just fine. By convention, environment variables are all uppercase with words separated by underscores. We can name ours GOOGLE_MAPS_API and paste our token in. Save and close the file.", "Note: Make sure you create a blank line at the end of this file otherwise R will have an issue processing the file", "Now the assumption here is that you are using GitHub for version control in your data science projects. If you aren\u2019t, you should be! It is a great way to roll back changes to your code if something goes wrong. GitHub also enables collaboration with others. You wouldn\u2019t want them to also have your token, so we have some work to do. If you don\u2019t have a repository setup for the project or don\u2019t know how to, don\u2019t sweat it, I\u2019ll cover this in another post. You can safely move on to the next section.", "GitHub will save all of the changes to the code, but we need to exclude the .env file as that is what contains our token. To make sure that the .env file is not committed to the repository, open up the .gitignore file in your project folder and add the following line.", "Adding this line will ignore the .env file that we created earlier. By using the asterisk (*), we are excluding all files in the top level folder or root directory that have the .env extension from being committed to the repository.", "Now that we have the .env file with our sensitive information and it won\u2019t get committed to our repository, we need to actually use it in our R script.", "First we need to load the dotenv package. Add this to the example script.", "The load_dot_env() function will be used to load the .env file to the environment variables. This function will look for the .env file in the current working directory.", "If you had to name your file something other than .env, the function call should look like below, with cred.env replaced with your filename.", "To use the environment variable in our script, we can use the Sys.getenv() function in our mp_geocode() function (or wherever else you are using your environment variables).", "The last thing to do is delete the line that has the API key in plain text. After that the final script will look like this:", "The dotenv package is a great way to obscure sensitive information. It doesn\u2019t have to be limited to use with the Google Maps API. Anywhere code is using login credentials, database connection information, API tokens, or anything else you don\u2019t want to share with the world, put it in your .env file.", "For more on the dotenv R package, check out the GitHub Repository for the package. It includes more documentation for the package.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist | Twitter @RealDrewData | LinkedIn: www.linkedin.com/in/realdrewdata"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8b878fa72020&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-dotenv-to-hide-sensitive-information-in-r-8b878fa72020&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-dotenv-to-hide-sensitive-information-in-r-8b878fa72020&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-dotenv-to-hide-sensitive-information-in-r-8b878fa72020&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-dotenv-to-hide-sensitive-information-in-r-8b878fa72020&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8b878fa72020--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8b878fa72020--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://realdrewdata.medium.com/?source=post_page-----8b878fa72020--------------------------------", "anchor_text": ""}, {"url": "https://realdrewdata.medium.com/?source=post_page-----8b878fa72020--------------------------------", "anchor_text": "Drew Seewald"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fdff5f2854781&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-dotenv-to-hide-sensitive-information-in-r-8b878fa72020&user=Drew+Seewald&userId=dff5f2854781&source=post_page-dff5f2854781----8b878fa72020---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8b878fa72020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-dotenv-to-hide-sensitive-information-in-r-8b878fa72020&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8b878fa72020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-dotenv-to-hide-sensitive-information-in-r-8b878fa72020&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@thomasbormans?utm_source=medium&utm_medium=referral", "anchor_text": "Thomas Bormans"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://cran.rstudio.com/web/packages/mapsapi/vignettes/intro.html", "anchor_text": "mapsapi"}, {"url": "https://developers.google.com/maps/documentation/geocoding/overview", "anchor_text": "Google Maps API"}, {"url": "https://stackoverflow.com/a/17785474", "anchor_text": "API token"}, {"url": "https://github.com/", "anchor_text": "GitHub"}, {"url": "https://medium.com/@jdmedlock", "anchor_text": "Jim Medlock"}, {"url": "https://medium.com/chingu/an-introduction-to-environment-variables-and-how-to-use-them-f602f66d15fa", "anchor_text": "An Introduction to Environment Variables and How to Use Them"}, {"url": "https://en.wikipedia.org/wiki/Environment_variable", "anchor_text": "environment variable"}, {"url": "https://atom.io/", "anchor_text": "Atom"}, {"url": "https://notepad-plus-plus.org/", "anchor_text": "Notepad++"}, {"url": "https://www.microsoft.com/en-us/p/windows-notepad/9msmlrh6lzf3?activetab=pivot:overviewtab", "anchor_text": "Notepad"}, {"url": "https://google.github.io/styleguide/shellguide.html#s7.3-constants-and-environment-variable-names", "anchor_text": "convention"}, {"url": "https://github.com/", "anchor_text": "GitHub"}, {"url": "https://stat.ethz.ch/R-manual/R-devel/library/base/html/getwd.html", "anchor_text": "current working directory"}, {"url": "https://github.com/gaborcsardi/dotenv", "anchor_text": "GitHub Repository"}, {"url": "https://realdrewdata.medium.com/membership", "anchor_text": "Join Medium with my referral link - Drew SeewaldAs a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026realdrewdata.medium.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----8b878fa72020---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----8b878fa72020---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----8b878fa72020---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----8b878fa72020---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/technology?source=post_page-----8b878fa72020---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8b878fa72020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-dotenv-to-hide-sensitive-information-in-r-8b878fa72020&user=Drew+Seewald&userId=dff5f2854781&source=-----8b878fa72020---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8b878fa72020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-dotenv-to-hide-sensitive-information-in-r-8b878fa72020&user=Drew+Seewald&userId=dff5f2854781&source=-----8b878fa72020---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8b878fa72020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-dotenv-to-hide-sensitive-information-in-r-8b878fa72020&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8b878fa72020--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8b878fa72020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-dotenv-to-hide-sensitive-information-in-r-8b878fa72020&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8b878fa72020---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8b878fa72020--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8b878fa72020--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8b878fa72020--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8b878fa72020--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8b878fa72020--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8b878fa72020--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8b878fa72020--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8b878fa72020--------------------------------", "anchor_text": ""}, {"url": "https://realdrewdata.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://realdrewdata.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Drew Seewald"}, {"url": "https://realdrewdata.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "229 Followers"}, {"url": "http://www.linkedin.com/in/realdrewdata", "anchor_text": "www.linkedin.com/in/realdrewdata"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fdff5f2854781&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-dotenv-to-hide-sensitive-information-in-r-8b878fa72020&user=Drew+Seewald&userId=dff5f2854781&source=post_page-dff5f2854781--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff18c5782a69f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-dotenv-to-hide-sensitive-information-in-r-8b878fa72020&newsletterV3=dff5f2854781&newsletterV3Id=f18c5782a69f&user=Drew+Seewald&userId=dff5f2854781&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}