{"url": "https://towardsdatascience.com/build-machine-learning-models-that-work-8cb060117584", "time": 1683003690.512959, "path": "towardsdatascience.com/build-machine-learning-models-that-work-8cb060117584/", "webpage": {"metadata": {"title": "Build machine learning models that work | by Sherry Wang | Towards Data Science", "h1": "Build machine learning models that work", "description": "150 Successful Machine Learning Models: 6 Lessons Learned at Booking.com is a paper accepted by 2019 KDD conference. Unlike most of the papers in the industry that focus heavily on theoretical\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kdd.org/kdd2019/accepted-papers/view/150-successful-machine-learning-models-6-lessons-learned-at-booking.com", "anchor_text": "150 Successful Machine Learning Models: 6 Lessons Learned at Booking.com", "paragraph_index": 0}, {"url": "https://www.kdd.org/", "anchor_text": "KDD conference", "paragraph_index": 0}, {"url": "https://medium.com/u/7a925ed40bb4?source=post_page-----8cb060117584--------------------------------", "anchor_text": "William Caicedo-Torres", "paragraph_index": 14}, {"url": "https://www.kdd.org/kdd2019/accepted-papers/view/150-successful-machine-learning-models-6-lessons-learned-at-booking.com", "anchor_text": "here", "paragraph_index": 26}], "all_paragraphs": ["150 Successful Machine Learning Models: 6 Lessons Learned at Booking.com is a paper accepted by 2019 KDD conference. Unlike most of the papers in the industry that focus heavily on theoretical aspects of machine learning, this paper is more practical oriented and discussed challenges Bookings.com has encountered while building their rich collection of models. I found this paper a very interesting read because it provided insights into 6 questions that have always been on my mind as a data scientist; in this article I\u2019ll try to summarize their answers to each of them:", "One of the tasks for data science teams is to identify areas in the organization that can be improved by machine learning, and prioritize model building tasks so that there\u2019s short term gain to prove team\u2019s value, and there\u2019s long term plan to expand team\u2019s capability. Bookings.com has developed a taxonomy for their machine learning models, which could serve as a great point of reference for such planing. They grouped their models into two big categories: specific models and general purpose models:", "Advantage: good Performance thus strong business impact", "Disadvantage: limited impact on specific business metric", "2. How to improve business KPIs with machine learning?", "Machine learning models oftentimes optimize a correlated metric but not directly the business KPI. For example bookings.com cares about hotel bookings rates, but (one of) their recommendation model optimizes towards click through rate, i.e. click into a hotel description page rate. Unless model optimize directly the business KPI, model offline performance gain wouldn\u2019t always translate to business value gain. Couple reasons mentioned in this paper are:", "a) Model metric correlates but differs from business metric, and could unintentionally encouraged unfavored behaviors. For example, the hotel recommendation model that optimizes for click through rate (model metric) would recommend similar to ones that users has had engaged with, which encourages users to click and compare more hotel listings. However, this may draw the user into the paradox of choice and actually hurt booking rate (business KPI).", "b) There\u2019s an upper limit to how much machine learning models can contribute to the business value.", "c) Too good of a model, i.e. the model knows you better than yourself. This is unsettling to some consumers and thus would creates negative effect as users would intentionally try to behave opposite to what models suggest.", "There\u2019s no obvious solution to this issue, but the paper suggested to use offline metric only as a health check, and evaluate models base more on online testing of business metric. One example given in the paper, is when diversity was hypothesized to be important for a recommender system, and a new model with lower root mean square error (RMSE) but more diversity was developed, it should be tested online against current model regardless of its lower RMSE, to see if it provides better business value gain.", "3. How to improve model performance?", "When talking about improving existing model performance, collecting more training data or experimenting with different algorithms are oftentimes the first things come to mind. There\u2019s a different option mentioned in this paper though \u2014 to change the model set up.", "There usually are different ways to construct target variables when solving one problem (e.g. date flexibility as willing to change dates for better value, or as considering more dates than a typical user etc.), and there could be different learning setup for the same constructed target variable (e.g a regression predicting length of hotel stay can be turned into multi-class classification). Changing set up is a very effective way to unlock value.", "4. How to evaluate models when there\u2019s delayed/incomplete feedback?", "Metrics for evaluating classification model usually compare true target and predictions. However, sometimes targets can not be obtained at the time of model development. To tackle this problem, the paper suggested to check prediction distribution and make a judgement call based on heuristics. The screenshots below are 4 possible prediction distributions from a binary classification model and what they mean. (I didn\u2019t find explanation for what the redline is in the paper, but thank William Caicedo-Torres for pointing out they are cumulative probability distributions for each case)", "5. What are some ways to speed up the prediction process?", "a) Copy and distribute models across clusters", "b) Build in-house linear prediction engine reducible to inner products", "c) Build sparse model with fewer parameters", "d) Precompute all predictions and save in key value pair when feature space is small; precompute frequent requests when feature space is large", "e) Bulk requests to one when requiring many requests per prediction", "6. How to A/B test machine learning systems?", "The paper described 3 situations where a traditional randomized A/B testing isn\u2019t sufficient enough, and a more sophisticated system that allows customized trigger is needed.", "The first experiment set up mentioned is to trigger the experiment only when test subjects are exposed to the model. One example I can think of that requires such set up is when testing algorithms that only make a prediction for a subset of users. In this case, we want to ensure that only such users are included in the test.", "The second situation is when treatment criteria depend on the model output. The paper mentioned an example where they show a block with alternative destinations only to users identified as destination-flexible by the model.The experiment would set up to compare random selected control group users with users who were predicted to be destination-flexible and were shown alternative destinations, as well as users who were predicted to be destination-flexible but were not shown alternative destinations. Experiment group users who were predicted to be not destination-flexible were excluded from the treatment group.", "The 3rd scenario is specifically for testing model updates. In the above screenshot Model 1 is the original model and model 2 is the updated challenger model. The experiment is set up so that only the cases where two models disagree were included in the treatment group for analysis.", "If you are interested in more details, you can find the paper here; it\u2019s very easy to digest and I highly recommend everyone to give it a read.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Love people, art, music, science, tech. Adventurer, creator and dreamer. Doing data science for a living. Dreaming to be a writer. Learning to be a mother."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8cb060117584&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-machine-learning-models-that-work-8cb060117584&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-machine-learning-models-that-work-8cb060117584&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-machine-learning-models-that-work-8cb060117584&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-machine-learning-models-that-work-8cb060117584&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8cb060117584--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8cb060117584--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@sherry_wang?source=post_page-----8cb060117584--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sherry_wang?source=post_page-----8cb060117584--------------------------------", "anchor_text": "Sherry Wang"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6d9e595bc5e8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-machine-learning-models-that-work-8cb060117584&user=Sherry+Wang&userId=6d9e595bc5e8&source=post_page-6d9e595bc5e8----8cb060117584---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8cb060117584&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-machine-learning-models-that-work-8cb060117584&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8cb060117584&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-machine-learning-models-that-work-8cb060117584&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@sortino?utm_source=medium&utm_medium=referral", "anchor_text": "Joshua Sortino"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.kdd.org/kdd2019/accepted-papers/view/150-successful-machine-learning-models-6-lessons-learned-at-booking.com", "anchor_text": "150 Successful Machine Learning Models: 6 Lessons Learned at Booking.com"}, {"url": "https://www.kdd.org/", "anchor_text": "KDD conference"}, {"url": "https://medium.com/u/7a925ed40bb4?source=post_page-----8cb060117584--------------------------------", "anchor_text": "William Caicedo-Torres"}, {"url": "https://www.kdd.org/kdd2019/accepted-papers/view/150-successful-machine-learning-models-6-lessons-learned-at-booking.com", "anchor_text": "here"}, {"url": "https://medium.com/tag/data-science?source=post_page-----8cb060117584---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----8cb060117584---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8cb060117584&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-machine-learning-models-that-work-8cb060117584&user=Sherry+Wang&userId=6d9e595bc5e8&source=-----8cb060117584---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8cb060117584&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-machine-learning-models-that-work-8cb060117584&user=Sherry+Wang&userId=6d9e595bc5e8&source=-----8cb060117584---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8cb060117584&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-machine-learning-models-that-work-8cb060117584&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8cb060117584--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8cb060117584&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-machine-learning-models-that-work-8cb060117584&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8cb060117584---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8cb060117584--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8cb060117584--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8cb060117584--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8cb060117584--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8cb060117584--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8cb060117584--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8cb060117584--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8cb060117584--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sherry_wang?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sherry_wang?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sherry Wang"}, {"url": "https://medium.com/@sherry_wang/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "88 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6d9e595bc5e8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-machine-learning-models-that-work-8cb060117584&user=Sherry+Wang&userId=6d9e595bc5e8&source=post_page-6d9e595bc5e8--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fcadab8e2435f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-machine-learning-models-that-work-8cb060117584&newsletterV3=6d9e595bc5e8&newsletterV3Id=cadab8e2435f&user=Sherry+Wang&userId=6d9e595bc5e8&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}