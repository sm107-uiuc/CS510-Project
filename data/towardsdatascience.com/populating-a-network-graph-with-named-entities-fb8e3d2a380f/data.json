{"url": "https://towardsdatascience.com/populating-a-network-graph-with-named-entities-fb8e3d2a380f", "time": 1683008161.109878, "path": "towardsdatascience.com/populating-a-network-graph-with-named-entities-fb8e3d2a380f/", "webpage": {"metadata": {"title": "Populating a Network Graph with Named-Entities | by Ednalyn C. De Dios | Towards Data Science", "h1": "Populating a Network Graph with Named-Entities", "description": "I do a lot of natural language processing and usually, the results are pretty boring to the eye. When I learned about network graphs, it got me thinking, why not use keywords as nodes and connect\u2026"}, "outgoing_paragraph_urls": [{"url": "https://spacy.io/usage", "anchor_text": "spaCy", "paragraph_index": 6}, {"url": "https://networkx.github.io/documentation/stable/install.html", "anchor_text": "networkx", "paragraph_index": 6}, {"url": "https://pypi.org/project/fuzzywuzzy/", "anchor_text": "fuzzywuzzy", "paragraph_index": 6}, {"url": "https://github.com/ecdedios/networkx-ner-quick-start", "anchor_text": "here", "paragraph_index": 9}, {"url": "https://newspaper.readthedocs.io/en/latest/", "anchor_text": "newspaper", "paragraph_index": 9}, {"url": "https://www.npr.org/sections/coronavirus-live-updates", "anchor_text": "npr.org", "paragraph_index": 9}, {"url": "https://pypi.org/project/fuzzywuzzy/", "anchor_text": "pypi.org", "paragraph_index": 15}, {"url": "https://gephi.org/", "anchor_text": "Gephi", "paragraph_index": 31}, {"url": "https://npr.org", "anchor_text": "npr.org", "paragraph_index": 33}, {"url": "https://spacy.io/", "anchor_text": "spaCy", "paragraph_index": 35}, {"url": "https://networkx.github.io/", "anchor_text": "networkx", "paragraph_index": 35}, {"url": "https://pypi.org/project/fuzzywuzzy/", "anchor_text": "fuzzywuzzy", "paragraph_index": 35}, {"url": "https://gephi.org/", "anchor_text": "Gephi", "paragraph_index": 35}, {"url": "https://twitter.com/ecdedios", "anchor_text": "Twitter", "paragraph_index": 36}, {"url": "https://www.linkedin.com/in/ednalyn-de-dios/", "anchor_text": "LinkedIn", "paragraph_index": 36}, {"url": "https://medium.com/@ednalyn.dedios/membership", "anchor_text": "https://medium.com/@ednalyn.dedios/membership", "paragraph_index": 38}], "all_paragraphs": ["I do a lot of natural language processing and usually, the results are pretty boring to the eye. When I learned about network graphs, it got me thinking, why not use keywords as nodes and connect them together to create a network graph?", "In this post, we\u2019ll do exactly that. We\u2019re going to extract named-entities from news articles about coronavirus and then use their relationships to connect them together in a network graph.", "Network graphs are a cool visual that contains nodes (vertices) and edges (lines). It\u2019s often used in social network analysis and network analysis but data scientists also use it for natural language processing.", "Natural Language Processing or NLP is a branch of artificial intelligence that deals with programming computers to process and analyze large volumes of text and derive meaning out of them.\u00b9 In other words, it\u2019s all about teaching computers how to understand human language\u2026 like a boss!", "Enough introduction, let\u2019s get to coding!", "To get started, let\u2019s make sure to take care of all dependencies. Open up a terminal and execute the following commands:", "This will install spaCy and download the trained model for English. The third command installs networkx. This should work for most systems. If it doesn\u2019t work for you, check out the documentation for spaCy and networkx. Also, we\u2019re using fuzzywuzzy for some text preprocessing.", "With that out of the way, let\u2019s fire up a Jupyter notebook and get started!", "Run the following code block into a cell to get all the necessary imports into our Python environment.", "If you want to follow along, you can download the sample dataset here. The file was created using newspaper to import news articles from the npr.org. If you\u2019re feeling adventurous, use the code snippet below to build your own dataset.", "Next, we\u2019ll start by loading spaCy\u2019s English model:", "In the above code block, we created an empty list called entities to store a list of lists that contains the extracted entities from each of the articles. In the for-loop, we looped through the first 50 articles of the corpus. For each iteration, we converted each articles into tokens (words) and then we looped through all those words to get the entities that are labeled as GPE for countries, states, and cities. We used ent.text to extract the actual entity and appended them one by one to entities.", "Note that North Carolina has several variations of its name and some have \u201cthe\u201d prefixed in their names. Let\u2019s get rid of them.", "In the code block above, we\u2019re simply traversing the list of lists articles and cleaning the entities one by one. With each iteration, we\u2019re stripping the prefix \u201cthe\u201d and getting rid of 's.", "Looking at the entities, I\u2019ve noticed that there are also variations in the \u201cUnited States\u201d is represented. There exists \u201cUnited States of America\u201d while some are just \u201cUnited States\u201d. We can trim these down into a more standard naming convention.", "Described by pypi.org as \u201cstring matching like a boss,\u201d FiuzzyWuzzy uses Levenshtein distance to calculate the similarities between words.\u00b9 For a really good tutorial on how to use FuzzyWuzzy, check out Thanh Huynh\u2019s article.", "Here\u2019s the optional code for using FuzzyWuzzy:", "For the final step before creating the network graph, let\u2019s get rid of the empty lists within our list of list that were generated by articles who didn\u2019t have any GPE entity types.", "For the next step, we\u2019ll create the world into which the graph will exist.", "Then, we\u2019ll manually add the nodes with G.add_nodes_from().", "Let\u2019s see what the graph looks like with:", "Next, let\u2019s add the edges that will connect the nodes.", "For each iteration of the code above, we used a conditional that will only entertain a list of entities that has two or more entities. Then, we manually connect each of the entities with G.add_edges_from().", "Let\u2019s see what the graph looks like now:", "This graph reminds me of spiders! LOL.", "To organize it a bit, I decided to use the shell version of the network graph:", "We can tell that some nodes are heavier on connections than others. To see which nodes have the most connections, let\u2019s use G.degree().", "This gives the following degree view:", "Let\u2019s find out which node or entity has the most number of connections.", "To find out which other nodes have the most number of connections, let\u2019s check the top 5:", "Above, sorted_degrees is a list that contains all the nodes and their degree values. We only wanted the top 5 like so:", "Gephi is an open-source and free desktop application that lets us visualize, explore, and analyze all kinds of graphs and networks.\u00b2", "Let\u2019s export our graph data into a file so we can import it into Gephi.", "This time, we only processed 50 articles from npr.org. What would happen if we processed all 300 articles from our dataset? What will we see if we change the entity type from GPE to PERSON? How else can we use network graphs to visualize natural language processing results?", "There\u2019s always more to do. The possibilities are endless!", "I hope you enjoyed today\u2019s post. The code is not perfect and we have a long way to go towards realizing insights from the data. I encourage you to dive deeper and learn more about spaCy, networkx, fuzzywuzzy, and even Gephi.", "You can reach me on Twitter or LinkedIn.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Machine Learning Engineer / Data Scientist / Python Developer / Food Lover https://medium.com/@ednalyn.dedios/membership"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ffb8e3d2a380f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulating-a-network-graph-with-named-entities-fb8e3d2a380f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulating-a-network-graph-with-named-entities-fb8e3d2a380f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulating-a-network-graph-with-named-entities-fb8e3d2a380f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulating-a-network-graph-with-named-entities-fb8e3d2a380f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----fb8e3d2a380f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fb8e3d2a380f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@ednalyn.dedios?source=post_page-----fb8e3d2a380f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ednalyn.dedios?source=post_page-----fb8e3d2a380f--------------------------------", "anchor_text": "Ednalyn C. De Dios"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F92e30e2c69cb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulating-a-network-graph-with-named-entities-fb8e3d2a380f&user=Ednalyn+C.+De+Dios&userId=92e30e2c69cb&source=post_page-92e30e2c69cb----fb8e3d2a380f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffb8e3d2a380f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulating-a-network-graph-with-named-entities-fb8e3d2a380f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffb8e3d2a380f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulating-a-network-graph-with-named-entities-fb8e3d2a380f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@utsavsrestha?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Utsav Srestha"}, {"url": "https://unsplash.com/s/photos/news?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://www.flickr.com/photos/arenamontanus/", "anchor_text": "Anders Sandberg"}, {"url": "https://www.flickr.com/photos/arenamontanus/268427309/in/photolist-pHL64-pHM2v-6tMfEz-4WFXny-869jFp-5RKqLt-cAT173-bWngsQ-5UT2bk-a1Jv37-a1Kpgb-22X1B-QmWPYi-c19Geu-2N9Z6h-6UVCQJ-pNWn9-44h6ju-btejyK-9M2QU4-7A9A3C-74oaKo-jR9gc-pNUDF-dHMZYj-t7tgKB-29KdY5-bkztuc-66JvbF-4CS4g3-5RKqMK-bWN8Sm-33Nf4C-7UYR2T-x9m1S-2N5zxK-bS9WnP-ciKZHy-5J95ED-n3DZZ-aFhJjH-THTRQG-SxKctc-btTTPU-TDNAMg-7yZcaX-29Kted-9pT4Ni-91471X-26ary2u", "anchor_text": "Flicker"}, {"url": "https://www.flickr.com/photos/brewbooks/", "anchor_text": "brewbooks"}, {"url": "https://www.flickr.com/photos/brewbooks/10805411174/in/photolist-UKMdza-hsQyhE-2iCStmP-2iStoUE-2e5EAr1-2iw1pBb-2iUPEcB-2iXqdWL-PaWqhd-2iJbARo-2iNM3hT-FdCYsS-2iQNUxy-Jec8po-2iMvVpU-2iL4DjL-2iARgAa", "anchor_text": "Flickr"}, {"url": "https://spacy.io/usage", "anchor_text": "spaCy"}, {"url": "https://networkx.github.io/documentation/stable/install.html", "anchor_text": "networkx"}, {"url": "https://pypi.org/project/fuzzywuzzy/", "anchor_text": "fuzzywuzzy"}, {"url": "https://github.com/ecdedios/networkx-ner-quick-start", "anchor_text": "here"}, {"url": "https://newspaper.readthedocs.io/en/latest/", "anchor_text": "newspaper"}, {"url": "https://www.npr.org/sections/coronavirus-live-updates", "anchor_text": "npr.org"}, {"url": "https://pypi.org/project/fuzzywuzzy/", "anchor_text": "pypi.org"}, {"url": "https://towardsdatascience.com/fuzzywuzzy-find-similar-strings-within-one-column-in-a-pandas-data-frame-99f6c2a0c212", "anchor_text": "FuzzyWuzzy: Find Similar Strings within one column in PythonToken Sort Ratio vs. Token Set Ratiotowardsdatascience.com"}, {"url": "https://gephi.org/", "anchor_text": "Gephi"}, {"url": "https://npr.org", "anchor_text": "npr.org"}, {"url": "https://spacy.io/", "anchor_text": "spaCy"}, {"url": "https://networkx.github.io/", "anchor_text": "networkx"}, {"url": "https://pypi.org/project/fuzzywuzzy/", "anchor_text": "fuzzywuzzy"}, {"url": "https://gephi.org/", "anchor_text": "Gephi"}, {"url": "https://twitter.com/ecdedios", "anchor_text": "Twitter"}, {"url": "https://www.linkedin.com/in/ednalyn-de-dios/", "anchor_text": "LinkedIn"}, {"url": "https://en.wikipedia.org/wiki/Natural_language_processing", "anchor_text": "https://en.wikipedia.org/wiki/Natural_language_processing"}, {"url": "https://gephi.org/", "anchor_text": "https://gephi.org/"}, {"url": "https://medium.com/tag/data-science?source=post_page-----fb8e3d2a380f---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/nlp?source=post_page-----fb8e3d2a380f---------------nlp-----------------", "anchor_text": "NLP"}, {"url": "https://medium.com/tag/network-graph?source=post_page-----fb8e3d2a380f---------------network_graph-----------------", "anchor_text": "Network Graph"}, {"url": "https://medium.com/tag/networkx?source=post_page-----fb8e3d2a380f---------------networkx-----------------", "anchor_text": "Networkx"}, {"url": "https://medium.com/tag/spacy?source=post_page-----fb8e3d2a380f---------------spacy-----------------", "anchor_text": "Spacy"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffb8e3d2a380f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulating-a-network-graph-with-named-entities-fb8e3d2a380f&user=Ednalyn+C.+De+Dios&userId=92e30e2c69cb&source=-----fb8e3d2a380f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffb8e3d2a380f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulating-a-network-graph-with-named-entities-fb8e3d2a380f&user=Ednalyn+C.+De+Dios&userId=92e30e2c69cb&source=-----fb8e3d2a380f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffb8e3d2a380f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulating-a-network-graph-with-named-entities-fb8e3d2a380f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fb8e3d2a380f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ffb8e3d2a380f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulating-a-network-graph-with-named-entities-fb8e3d2a380f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----fb8e3d2a380f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----fb8e3d2a380f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----fb8e3d2a380f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----fb8e3d2a380f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----fb8e3d2a380f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----fb8e3d2a380f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----fb8e3d2a380f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----fb8e3d2a380f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----fb8e3d2a380f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ednalyn.dedios?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ednalyn.dedios?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Ednalyn C. De Dios"}, {"url": "https://medium.com/@ednalyn.dedios/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "838 Followers"}, {"url": "https://medium.com/@ednalyn.dedios/membership", "anchor_text": "https://medium.com/@ednalyn.dedios/membership"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F92e30e2c69cb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulating-a-network-graph-with-named-entities-fb8e3d2a380f&user=Ednalyn+C.+De+Dios&userId=92e30e2c69cb&source=post_page-92e30e2c69cb--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F508dc0490c9a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulating-a-network-graph-with-named-entities-fb8e3d2a380f&newsletterV3=92e30e2c69cb&newsletterV3Id=508dc0490c9a&user=Ednalyn+C.+De+Dios&userId=92e30e2c69cb&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}