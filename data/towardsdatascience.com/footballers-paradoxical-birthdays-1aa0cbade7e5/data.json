{"url": "https://towardsdatascience.com/footballers-paradoxical-birthdays-1aa0cbade7e5", "time": 1683005334.093567, "path": "towardsdatascience.com/footballers-paradoxical-birthdays-1aa0cbade7e5/", "webpage": {"metadata": {"title": "Footballers\u2019 Paradoxical Birthdays | by Marcell Ferencz | Towards Data Science", "h1": "Footballers\u2019 Paradoxical Birthdays", "description": "Okay, fine. The title is somewhat misleading \u2014 clickbait, even. Well, at least 66% of it is. For one, the phenomenon I\u2019m tackling today isn\u2019t unique to football players, but given that all football\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.linkedin.com/in/marcell-ferencz-9892a3a6", "anchor_text": "LinkedIn", "paragraph_index": 53}], "all_paragraphs": ["Okay,\u00a0fine. The title is somewhat misleading\u200a\u2014\u200aclickbait, even. Well, at least 66% of it is. For one, the phenomenon I\u2019m tackling today isn\u2019t unique to football players, but given that all football outside of Belarus is cancelled for the foreseeable future, I thought we could all get our fix this way. Secondly, there is nothing paradoxical about their birthdays at all. The birthday paradox is so named purely because of its counter-intuitive nature; it\u2019s nothing but cold hard statistics.", "The Birthday Problem (as we\u2019ll henceforth be referring to it more accurately), states that, given a room full of only 70 people, there is a 99.9% chance that at least two of them share the same birthday. In fact, 23 people in the room will ensure that we have a better chance than a coin toss (>50%) that we\u2019ll be singing Happy Birthday to more than one person on at least one day of the year. This, given that there are at least 365 possible birthdays in a year, sounds outlandish. In fact, we will not believe it. We will prove it. With evidence.", "See, as fate would have it, competing nations are allowed to bring along a maximum of 23 players to international football competitions. This is very handy for us because we just made the claim that there is (over) a 50% chance that a room full of 23 people will have at least one pair of individuals sharing a birthday. Therefore, if we look at a number of international football squads, about half of them should have players cutting the cake together.", "But, even if it turns out to be true, it could happen by chance \u2014 I hear you say \u2014 maybe you\u2019ll just get lucky. And I admire your skepticism. Which is why we\u2019ll use Bayesian Inference to find how significant our results are, and rip the metaphorical Scooby-Doo villain mask off this \u2018paradox\u2019 once and for all.", "Well, why not. Unless you\u2019re forecasting for office cake expenses, you\u2019d be hard-pressed to find a direct business relevance to the Birthday Problem. But we will explore two basic tools from a data scientist\u2019s Swiss Army Knife of techniques:", "Besides, I find the Birthday Problem an interesting one, and who doesn\u2019t love a good proof?", "Let\u2019s run through our plan of attack and the required concepts.", "How does the Birthday Problem work? We made some bold claims above, so let\u2019s provide a mathematical explanation. To better understand the probability of at least two people having the same birthday, it\u2019s helpful to think about the probability of no people having the same birthday in any group:", "Consider two people in a room, Aaron and Beatrice. What\u2019s the probability of them not sharing a birthday? Aaron will have a birthday on one day of the year, and Beatrice can have her birthday on any other day of the year, for them to not share a birthday. Therefore the probability is 364/365.", "Note: I will be using 365-day years throughout the exercise. I\u2019ll make the assumption that if anyone was born on a Leap Day, their parents will have mercifully fudged their birth certificate.", "What if a third person, Cecile comes along? Well, Aaron has a birthday, Beatrice has another birthday, so she is left with 363 days to choose from. Her probability of not sharing a birthday with either Aaron and Cecile is therefore 363/365. The probability of Aaron and Beatrice not sharing a birthday, and Cecile not sharing a birthday with either Aaron or Beatrice is 364/365 \u00d7 363/365. And then Dimitri comes along, and he is left with a 363/365 probability, and so on and so forth\u2026", "The probability of no two people our of Aaron, Beatrice, Cecile, and Dimitri having the same birthday is, therefore:", "Since in our setup there are two possible outcomes, no two people having the same birthday or at least two people having the same birthday, the probabilities of these results must add up to 1. The probability of at least one of Aaron, Beatrice, Cecile, and Dimitri having the same birthday is, therefore:", "If we extend this thought process to 23 people (and save me the trouble of having to come up with 19 more alphabetical names), we get:", "The probability of at least two people sharing a birthday given a room full of 23 is indeed more than 50%. But that still doesn\u2019t feel right. Worry not, for we will prove it with data.", "What data will we use? I mentioned above that, handily, international football squads consist of 23 players each. We will, therefore, analyse squads from the 18/19 FIFA World Cup and collect each of their players\u2019 birthdays.", "We will get the list of players in each country\u2019s squad using these Wikipedia pages:", "Combining these will give us 56 groups, which is a decent sample.", "How will we prove the para\u2026 erm, the problem? We will analyse all birthdays in our 56 groups of 23, and check whether there are any matches within. The percentage of teams that have at least one matching pair of birthdays will be our experimental result against the theoretical value of 50.73%.", "But how reliable will our result be? If you consider our problem carefully, this is essentially a series of coin tosses\u2014 an experiment with a binary outcome (teams either have players who share a birthday or they don\u2019t), and we can easily test the significance of our result in such a case. The only difference is that our coin is ever so slightly biased towards one side, given the probability is slightly above 50%.", "The frequentist approach to testing this would be using the p-value. We would set up a null hypothesis, namely that the probability of having matching birthdays is indeed 50.73%, i.e. that our coin is fair. We would then count the number of teams with matching birthdays (i.e. number of heads) and calculate the probability of getting that number given our sample. This would give us our p-value, which, if under a pre-determined value (usually 1%-5%), we would reject our null hypothesis and say that our theory is wrong, i.e. that our coin is unfair.", "We are no mere frequentists, however. We will instead use Thomas Bayes\u2019 answer to the p-value, the Bayes Factor. It compares two probability models and helps us select the more appropriate one, and is defined as:", "Which, in English, is the likelihood of getting our data, D, given model M1, divided by the likelihood of getting the data D given model M2. In general, a ratio of at least 5-to-1 (i.e. a value of >5) means substantial support for M1.", "One of the key benefits of the Bayes Factor over the p-value is its ambivalence to sample size. Although I did say that we have a decent sample with 56 teams, it\u2019s not exactly big data.", "We will set up two basic models to describe the theoretical probability given the experimental result. Our first model, M1 will be that the probability is exactly 50.73%. The probability density for M1 is therefore \u221e at that point and 0 elsewhere. Our second model will be very na\u00efve, where we\u2019ll assume that we simply don\u2019t know the probability, and they\u2019re all equally likely:", "The Wikipedia pages list each player in each nation\u2019s squad in a separate table. We want to build up a data frame with a player in each row, including their dates of birth and which nation they played for. This means that we\u2019ll need from Wikipedia:", "First, let\u2019s parse the HTML content of the Wikipedia page using BeautifulSoup:", "We\u2019ll look to get this information from the Wikipedia page, and find out the HMTL element tags/classes that contain them, to prepare for scraping:", "Country: The tables are listed sequentially and each of them is headed by the country name, which is an h3 HTML element with class \u2018mw-headline\u2019. There were 32 competing countries in the competition, so we\u2019ll take the first 32 h3 elements on the page (there are subsequent h3 texts which we don\u2019t want). We\u2019ll then use np.repeat() to repeat each country 23 times (once for each player):", "Table: There are separate tables with player information for each country. Their class is \u201csortable wikitable plainrowheaders\u201d, and there are no more tables of this kind on the page, so we\u2019ll collect them all:", "Row: In each table, we\u2019ll loop through the rows to get the data within. We can identify the rows in each table using:", "Name and Date of Birth: We\u2019ll find the second link in each row and get the text associated with it; we\u2019ll also get the date of birth from each row, which is a span element with class \u2018bday\u2019:", "Pulling it all together into a function, and parametrising the number of teams to ensure we can repeat the process for the women\u2019s teams (of which there are 24 instead of 32):", "Which we\u2019ll apply to both the men\u2019s and women\u2019s squad pages, and combine the resulting data frames into one:", "Let\u2019s take a peek at our data:", "In this section, we\u2019ll identify teams with at least one pair of identical birthdays. To do that, we\u2019ll first extract the month and day elements of each date of birth:", "Then we\u2019ll create a column to indicate whether the birthday is duplicated within a team (indicated by 1 if it\u2019s duplicated and 0 otherwise):", "Counting the number of duplicates in each team and visualising the results:", "The Polish Men\u2019s team had as many as 4 pairs of duplicate birthdays out of 23 players; the Portuguese men had 3; the Moroccan men\u2019s team and both Brazilian teams had 2 each. More importantly, 28 of 56 teams had matching birthdays, which is exactly half. Seems pretty lucky! Or is it?", "We have flipped our metaphorical coin, which supposedly lands on heads 50.73% of the time, 56 times and it landed on heads half of the time. Is our coin fair, i.e. is our model of 50.73% probability correct?", "The likelihood of getting 28 teams with matching birthdays, given a theoretical probability of 50.73% is given by the binomial probability mass function:", "Where n is the number of trials, k is the number of successes, and p is our theoretical probability. We\u2019ll find the exact likelihood with Python.", "First, we calculate the exact theoretical probability for getting at least one pair of matching birthdays with 23 people:", "Which yields 0.5072972343239852. Our k and n are simply the number of teams with matching birthdays and the total number of teams, respectively:", "We\u2019ll use the binom() function from Scipy to calculate the likelihood:", "Our alternative prior belief is that all probabilities are equally likely\u200a\u2014\u200ai.e. we don\u2019t know the probability. This can be modelled with a Beta-Binomial prior distribution with Beta function parameters \u03b1 = 1, \u03b2 = 1. The Beta-Binomial probability mass function is:", "Where B() is the Beta function and the parameters are as explained above. SciPy luckily has a one-liner for this, too:", "The above is the likelihood of getting 28 teams with matching birthdays given a uniform probability density prior. This comes out as:", "We recall that the Bayes Factor is the ratio of the two likelihoods:", "A value of K over 5 points to \u201csubstantial\u201d evidence for M1, supporting our hypothesis that our results are far better described by a probability of 50.73%, than a random one.", "So what did we learn from all of this?", "Riveting stuff, if I may say so.", "Did I do something wrong? Could I have done something better? Did I do something well?", "Please don\u2019t hesitate to reach out to me on LinkedIn; I\u2019m always happy to be challenged or just have a chat if you\u2019re interested in my work.", "If you want to play with the code yourself, please follow the link to my Google Colab notebook:", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1aa0cbade7e5&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootballers-paradoxical-birthdays-1aa0cbade7e5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootballers-paradoxical-birthdays-1aa0cbade7e5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootballers-paradoxical-birthdays-1aa0cbade7e5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootballers-paradoxical-birthdays-1aa0cbade7e5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----1aa0cbade7e5--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1aa0cbade7e5--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@m.ferencz?source=post_page-----1aa0cbade7e5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@m.ferencz?source=post_page-----1aa0cbade7e5--------------------------------", "anchor_text": "Marcell Ferencz"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe39ae6af99a5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootballers-paradoxical-birthdays-1aa0cbade7e5&user=Marcell+Ferencz&userId=e39ae6af99a5&source=post_page-e39ae6af99a5----1aa0cbade7e5---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1aa0cbade7e5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootballers-paradoxical-birthdays-1aa0cbade7e5&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1aa0cbade7e5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootballers-paradoxical-birthdays-1aa0cbade7e5&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@seagull_tree?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Caterina Berger"}, {"url": "https://unsplash.com/s/photos/birthday?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://en.wikipedia.org/wiki/2018_FIFA_World_Cup_squads", "anchor_text": "FIFA 2018 Men\u2019s World Cup Squads"}, {"url": "https://en.wikipedia.org/wiki/2019_FIFA_Women%27s_World_Cup_squads", "anchor_text": "FIFA 2019 Women\u2019s World Cup Squads"}, {"url": "https://www.linkedin.com/in/marcell-ferencz-9892a3a6", "anchor_text": "LinkedIn"}, {"url": "https://colab.research.google.com/drive/1BfeeVJbHqets02tTNwIiEeWpQ7xtX163", "anchor_text": "Google ColaboratoryEdit descriptioncolab.research.google.com"}, {"url": "https://medium.com/tag/web-scraping?source=post_page-----1aa0cbade7e5---------------web_scraping-----------------", "anchor_text": "Web Scraping"}, {"url": "https://medium.com/tag/bayesian-statistics?source=post_page-----1aa0cbade7e5---------------bayesian_statistics-----------------", "anchor_text": "Bayesian Statistics"}, {"url": "https://medium.com/tag/birthday-paradox?source=post_page-----1aa0cbade7e5---------------birthday_paradox-----------------", "anchor_text": "Birthday Paradox"}, {"url": "https://medium.com/tag/data-science?source=post_page-----1aa0cbade7e5---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/mathematics?source=post_page-----1aa0cbade7e5---------------mathematics-----------------", "anchor_text": "Mathematics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1aa0cbade7e5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootballers-paradoxical-birthdays-1aa0cbade7e5&user=Marcell+Ferencz&userId=e39ae6af99a5&source=-----1aa0cbade7e5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1aa0cbade7e5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootballers-paradoxical-birthdays-1aa0cbade7e5&user=Marcell+Ferencz&userId=e39ae6af99a5&source=-----1aa0cbade7e5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1aa0cbade7e5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootballers-paradoxical-birthdays-1aa0cbade7e5&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1aa0cbade7e5--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1aa0cbade7e5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootballers-paradoxical-birthdays-1aa0cbade7e5&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1aa0cbade7e5---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1aa0cbade7e5--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1aa0cbade7e5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1aa0cbade7e5--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1aa0cbade7e5--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1aa0cbade7e5--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1aa0cbade7e5--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1aa0cbade7e5--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1aa0cbade7e5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@m.ferencz?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@m.ferencz?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Marcell Ferencz"}, {"url": "https://medium.com/@m.ferencz/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "44 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe39ae6af99a5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootballers-paradoxical-birthdays-1aa0cbade7e5&user=Marcell+Ferencz&userId=e39ae6af99a5&source=post_page-e39ae6af99a5--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fe39ae6af99a5%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootballers-paradoxical-birthdays-1aa0cbade7e5&user=Marcell+Ferencz&userId=e39ae6af99a5&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}