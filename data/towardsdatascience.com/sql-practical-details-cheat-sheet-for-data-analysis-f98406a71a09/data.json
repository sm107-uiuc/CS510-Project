{"url": "https://towardsdatascience.com/sql-practical-details-cheat-sheet-for-data-analysis-f98406a71a09", "time": 1683004270.139717, "path": "towardsdatascience.com/sql-practical-details-cheat-sheet-for-data-analysis-f98406a71a09/", "webpage": {"metadata": {"title": "SQL \u2014 Practical Details Cheat Sheet for Data Analysis | by Eklavya Saxena | Towards Data Science", "h1": "SQL \u2014 Practical Details Cheat Sheet for Data Analysis", "description": "Data is considered more valuable than oil due to insight and knowledge that can be extracted from it \u2014 hence the importance of Data Analytics. And it all starts from querying the database, making SQL\u2026"}, "outgoing_paragraph_urls": [{"url": "https://dev.mysql.com/doc/refman/8.0/en/problems-with-alias.html", "anchor_text": "column alias", "paragraph_index": 2}, {"url": "https://dev.mysql.com/doc/refman/8.0/en/group-by-modifiers.html", "anchor_text": "WITH ROLLUP", "paragraph_index": 9}, {"url": "https://dev.mysql.com/doc/refman/8.0/en/select-into.html", "anchor_text": "SELECT \u2026 INTO", "paragraph_index": 12}, {"url": "https://www.eversql.com/sql-order-of-operations-sql-query-order-of-execution/", "anchor_text": "SQL Order of Operations \u2014 In Which Order MySQL Executes Queries?", "paragraph_index": 14}, {"url": "https://blog.jooq.org/2016/07/05/say-no-to-venn-diagrams-when-explaining-joins/", "anchor_text": "Note: Do Not Confuse SQL JOINs Visual Analogy to Venn Diagrams", "paragraph_index": 28}], "all_paragraphs": ["Data is considered more valuable than oil due to insight and knowledge that can be extracted from it \u2014 hence the importance of Data Analytics. And it all starts from querying the database, making SQL its core. There are plentiful of SQL tutorials and cheat sheets available. Therefore, I will refrain from discussing the basics and will focus more on the most important aspects or practical details that I have learnt from my experience.", "In this section, SELECT statement\u2019s MySQL syntax is described with most commonly used clauses and their practical details.", "It is NOT permissible to refer to a column alias in a WHERE clause, because the column value might not yet be determined when the WHERE clause is executed (explained in next section).", "It is NOT permissible to refer to an aggregate function in a WHERE clause, because WHERE clause doesn\u2019t have access to entire set but is applied to each row as it is presented to the db engine. Whereas aggregate functions (e.g. SUM()) work on sets of data.", "WHERE clause requires at least one condition. And, if multiple conditions, connect them using AND or OR logic operators.", "Good Practice:In production environment, always compliment UPDATE and DELETE queries with WHERE clause to avoid accidental updates and/or deletes.", "An advantage of HAVING clause over WHERE clause is that it filters the aggregated data whereas the latter filters the base data. In other words, WHERE clause acts as a pre-filter whereas HAVING clause as a post-filter. Hence, aggregate functions can be used with HAVING clause.", "NOTE: Aliases in HAVING clause: Surprisingly, query successfully executes for \u2018column aliases\u2019 and fails for \u2018aggregate function\u2019 aliases.Best practice is to refrain from using aliases in HAVING clause also.", "Do not use HAVING for items that should be in the WHERE clause, because WHERE is more optimized.", "SELECT list should include a function (e.g. SUM(), COUNT()) that summarizes the data. WITH ROLLUP modifier can be used to include extra rows that represent higher-level (that is, super-aggregate) summary operations.SELECT cat, COUNT(*) AS total ... GROUP BY category WITH ROLLUP;", "ORDER BY clause should include at least one column name or alias. If more than one column is included, separated by a comma, then the columns are ordered in the order they are mentioned.", "Take advantage of [offset,] modifier (default value = 0) of LIMIT clause which indicates after which row to begin the row count. For e.g. LIMIT 10, 5 starts the row count after 10th row, and returns 5 rows \u2014 11th, 12th\u2026, 15th.", "SELECT \u2026 INTO form is considered to be DML because it manipulates (i.e. modifies) the data. For e.g. you have an empty table `table` and want to insert data from table `backup` . Then the following query will act as DML:SELECT * INTO backup FROM table;", "While assigning a value to the variable, if WHERE clause returns multiple values, then only the last value returned by the WHERE clause will be assigned to the variable. For e.g. if WHERE clause in the below query returns (horror, comedy, romantic) then `romantic ` will be assigned to the variable:SELECT @category := category FROM films WHERE rating > 3;", "This section is briefly curated from a blog \u201cSQL Order of Operations \u2014 In Which Order MySQL Executes Queries?\u201d written by Tomer Shay @ EverSQL.I hope this will enable you to write optimized queries with few hit and trials.", "NOTE: The actual physical execution of the statement is determined by the query processor and the order may vary from the table below. Although, it will give the same result as if the query ran in below(default) execution order.", "Determines the entire working set, that is data from all tables according to the JOINs ON clauses and also sub-queries", "Filters the data according to the conditions", "Aggregates the data according to one/more columns. Splitting data to different chunks or buckets, where each bucket has one key and a list of rows that match that key", "Filters the aggregated data, that is it is used to filter out some buckets created by GROUP BY clause", "Just like grouping : performs calculation on a set of rows but each row will keep its own identity and won\u2019t be grouped into a bucket of other similar rows", "Selects data after filtering & grouping. Use column names, aggregations and sub-queries inside it", "Discard rows with duplicate values from remaining rows left after the filtering and aggregations", "Combines the result sets of two queries into one result set", "Sorts the entire result set using columns, aliases, aggregate functions, even if they are not part of selected data.NOTE: using DISTINCT prevents sorting by a non-selected column", "Discard all rows but the first X rows of the query\u2019s result", "Hoping you\u2019re familiar with varied JOIN statements, I want to set a very practical analogy on how to differentiate between JOINs and SETs.", "A circle has only 1 dimension \u2014 radius.That is, while performing JOIN statement, we only need a common field (radius) to combine data or rows from two or more tables (circles).", "Note: Do Not Confuse SQL JOINs Visual Analogy to Venn Diagrams", "A rectangle has 2 dimensions \u2014 length and breadth.That is, while performing SET statement, fields (length and breadth) used in the select statements (rectangles) must be in the same order, same number and same data type, to combine and produce the result set as UNION, UNION ALL, EXCEPT or INTERSECT of separate select statements.", "Sub-queries are very powerful when used in WHERE clause and/or coupled with IN, NOT IN, ANY / SOME, ALL, EXISTS, NOT EXISTS comparison conditions.", "E.g.: Suppose that there is a row in t1 containing (10)then the expression is:", "E.g.: Suppose that there is a row in t1 containing (10) then the expression is:", "As[NOT] EXISTS sub-query almost always contains correlations. A realistic example would be following query answering \u201cWhat kind of store is present in one or more cities?\u201d with correlation cities_stores.store_type = stores.store_type", "Thank you for reading! Let me know in a comment if you felt like this did or didn\u2019t help. If this article was helpful, share it.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Science proficient graduate from Northeastern University with experience in interpreting & analyzing data to drive growth"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff98406a71a09&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-practical-details-cheat-sheet-for-data-analysis-f98406a71a09&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-practical-details-cheat-sheet-for-data-analysis-f98406a71a09&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-practical-details-cheat-sheet-for-data-analysis-f98406a71a09&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-practical-details-cheat-sheet-for-data-analysis-f98406a71a09&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f98406a71a09--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f98406a71a09--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://eklavyasaxena.medium.com/?source=post_page-----f98406a71a09--------------------------------", "anchor_text": ""}, {"url": "https://eklavyasaxena.medium.com/?source=post_page-----f98406a71a09--------------------------------", "anchor_text": "Eklavya Saxena"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7084d98beb92&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-practical-details-cheat-sheet-for-data-analysis-f98406a71a09&user=Eklavya+Saxena&userId=7084d98beb92&source=post_page-7084d98beb92----f98406a71a09---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff98406a71a09&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-practical-details-cheat-sheet-for-data-analysis-f98406a71a09&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff98406a71a09&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-practical-details-cheat-sheet-for-data-analysis-f98406a71a09&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://dev.mysql.com/doc/refman/8.0/en/problems-with-alias.html", "anchor_text": "column alias"}, {"url": "https://dev.mysql.com/doc/refman/8.0/en/group-by-modifiers.html", "anchor_text": "WITH ROLLUP"}, {"url": "https://dev.mysql.com/doc/refman/8.0/en/select-into.html", "anchor_text": "SELECT \u2026 INTO"}, {"url": "https://www.eversql.com/sql-order-of-operations-sql-query-order-of-execution/", "anchor_text": "SQL Order of Operations \u2014 In Which Order MySQL Executes Queries?"}, {"url": "https://mysqlserverteam.com/mysql-8-0-2-introducing-window-functions/", "anchor_text": "WINDOW functions"}, {"url": "https://creativecommons.org/licenses/by/3.0", "anchor_text": "https://creativecommons.org/licenses/by/3.0"}, {"url": "https://blog.jooq.org/2016/07/05/say-no-to-venn-diagrams-when-explaining-joins/", "anchor_text": "Note: Do Not Confuse SQL JOINs Visual Analogy to Venn Diagrams"}, {"url": "https://dev.mysql.com/doc/refman/8.0/en/exists-and-not-exists-subqueries.html", "anchor_text": "More Examples"}, {"url": "https://dev.mysql.com/doc/refman/8.0/en/", "anchor_text": "MySQL 8.0 Reference Manual"}, {"url": "https://www.eversql.com/sql-order-of-operations-sql-query-order-of-execution/", "anchor_text": "A blog written by Tomer Shay @ EverSQL"}, {"url": "https://commons.wikimedia.org/wiki/File:SQL_Joins.svg", "anchor_text": "JOIN image Arbeck/CC BY https://creativecommons.org/licenses/by/3.0"}, {"url": "https://www.linkedin.com/in/eklavyasaxena/", "anchor_text": "Eklavya Saxena - Greater New York City Area | Professional Profile | LinkedInProficient data analyst and aspiring data scientist with more than 2 years of industry experience in sales or customer\u2026www.linkedin.com/in/EklavyaSaxena"}, {"url": "https://medium.com/tag/sql?source=post_page-----f98406a71a09---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----f98406a71a09---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/query-optimization?source=post_page-----f98406a71a09---------------query_optimization-----------------", "anchor_text": "Query Optimization"}, {"url": "https://medium.com/tag/query-understanding?source=post_page-----f98406a71a09---------------query_understanding-----------------", "anchor_text": "Query Understanding"}, {"url": "https://medium.com/tag/mysql?source=post_page-----f98406a71a09---------------mysql-----------------", "anchor_text": "MySQL"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff98406a71a09&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-practical-details-cheat-sheet-for-data-analysis-f98406a71a09&user=Eklavya+Saxena&userId=7084d98beb92&source=-----f98406a71a09---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff98406a71a09&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-practical-details-cheat-sheet-for-data-analysis-f98406a71a09&user=Eklavya+Saxena&userId=7084d98beb92&source=-----f98406a71a09---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff98406a71a09&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-practical-details-cheat-sheet-for-data-analysis-f98406a71a09&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f98406a71a09--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff98406a71a09&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-practical-details-cheat-sheet-for-data-analysis-f98406a71a09&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f98406a71a09---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f98406a71a09--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f98406a71a09--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f98406a71a09--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f98406a71a09--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f98406a71a09--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f98406a71a09--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f98406a71a09--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f98406a71a09--------------------------------", "anchor_text": ""}, {"url": "https://eklavyasaxena.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://eklavyasaxena.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Eklavya Saxena"}, {"url": "https://eklavyasaxena.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "176 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7084d98beb92&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-practical-details-cheat-sheet-for-data-analysis-f98406a71a09&user=Eklavya+Saxena&userId=7084d98beb92&source=post_page-7084d98beb92--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Faa9ee1a8b963&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-practical-details-cheat-sheet-for-data-analysis-f98406a71a09&newsletterV3=7084d98beb92&newsletterV3Id=aa9ee1a8b963&user=Eklavya+Saxena&userId=7084d98beb92&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}