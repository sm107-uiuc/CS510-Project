{"url": "https://towardsdatascience.com/stream-your-data-changes-in-mysql-into-elasticsearch-using-debizium-kafka-and-confluent-jdbc-b93821d4997b", "time": 1683007544.080526, "path": "towardsdatascience.com/stream-your-data-changes-in-mysql-into-elasticsearch-using-debizium-kafka-and-confluent-jdbc-b93821d4997b/", "webpage": {"metadata": {"title": "Stream your data changes in MySQL into ElasticSearch using Debezium, Kafka, and Confluent JDBC Sink Connector | by Rizqi Nugroho | Towards Data Science", "h1": "Stream your data changes in MySQL into ElasticSearch using Debezium, Kafka, and Confluent JDBC Sink Connector", "description": "In this article, I will demonstrate how we can stream CDC in MySQL into ElasticSearch search using Debizium, Kafka, and Confluent JDBC Sink Connector"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/u/92236fea730d?source=post_page-----b93821d4997b--------------------------------", "anchor_text": "Erfin Feluzy", "paragraph_index": 2}, {"url": "http://www.apache.org/licenses/LICENSE-2.0.html", "anchor_text": "Apache License, Version 2.0", "paragraph_index": 4}, {"url": "https://en.wikipedia.org/wiki/Open-source_software", "anchor_text": "open-source", "paragraph_index": 5}, {"url": "https://en.wikipedia.org/wiki/Stream_processing", "anchor_text": "stream-processing", "paragraph_index": 5}, {"url": "https://en.wikipedia.org/wiki/LinkedIn", "anchor_text": "LinkedIn", "paragraph_index": 5}, {"url": "https://en.wikipedia.org/wiki/Apache_Software_Foundation", "anchor_text": "Apache Software Foundation", "paragraph_index": 5}, {"url": "https://en.wikipedia.org/wiki/Scala_(programming_language)", "anchor_text": "Scala", "paragraph_index": 5}, {"url": "https://en.wikipedia.org/wiki/Java_(programming_language)", "anchor_text": "Java", "paragraph_index": 5}, {"url": "https://www.elastic.co/guide/en/elasticsearch/reference/6.8/indices-create-index.html", "anchor_text": "index", "paragraph_index": 6}, {"url": "https://medium.com/u/92236fea730d?source=post_page-----b93821d4997b--------------------------------", "anchor_text": "Erfin Feluzy", "paragraph_index": 45}, {"url": "https://medium.com/@erfin.feluzy/tutorial-streaming-cdc-mysql-ke-kafka-dengan-debezium-3a1ec9150cf8", "anchor_text": "https://medium.com/@erfin.feluzy/tutorial-streaming-cdc-mysql-ke-kafka-dengan-debezium-3a1ec9150cf8", "paragraph_index": 45}], "all_paragraphs": ["Fast search capability, realtime integrated data, nowadays is a necessity if we want to build something like e-catalog or e-commerce. We don\u2019t want our users to get angry because they spend a lot of time just to get information from our portal. We also want the product information that inputted by our product team in the different applications immediately ready to search by our users or customers.", "Say the product team using MySQL as the main data source. And we will use ElasticSearch as a search engine service in our portal. We need every change in MySQL will immediately affect the ElasticSearch Index. How to achieve that requirement?", "In this my first article, I will demonstrate how can we stream our data changes in MySQL into ElasticSearch using Debezium, Kafka, and Confluent JDBC Sink Connector to achieve the above use case requirement. Credit to my master Erfin Feluzy that introduce me to Debezium and give me the inspiration to write my first article on medium.", "Debezium is a distributed platform that turns your existing databases into event streams, so applications can quickly react to each row-level change in the databases. Debezium is built on top of Kafka and provides Kafka Connect compatible connectors that monitor specific database management systems. Debezium records the history of data changes in Kafka logs, so your application can be stopped and restarted at any time and can easily consume all of the events it missed while it was not running, ensuring that all events are processed correctly and completely.", "Debezium is open source under the Apache License, Version 2.0", "Apache Kafka is an open-source stream-processing software platform developed by LinkedIn and donated to the Apache Software Foundation, written in Scala and Java. The project aims to provide a unified, high-throughput, low-latency platform for handling real-time data feeds.", "The Kafka Connect Elasticsearch sink connector allows moving data from Apache Kafka\u00ae to Elasticsearch. It writes data from a topic in Apache Kafka\u00ae to an index in Elasticsearch and all data for a topic have the same", "In this tutorial, we will use a separate container for each service and don\u2019t use persistent volume. ZooKeeper and Kafka would typically store their data locally inside the containers, which would require you to mount directories on the host machine as volumes. So in this tutorial, all persisted data is lost when a container is stopped", "Start zookeeper in the container using debezium/zookeeper image. The container will run with the name zookeeperdbz", "check the run log to verify zookeeper run successfully and listening on port 2181", "Start Kafka in the container using debezium/kafka docker image. The container will run with the name kafkadbz", "In this demonstration, I will use a pre-configured Docker image that also contains sample data provided by Debezium.", "Start MySQL in a container using debezium/example-mysql image. The container will run with name mysqldbz", "the above command will create a container named mysqldbz.", "Next, let's execute the container and enter the interactive bash shell on the container.", "To use capture the CDC on MySQL, Debezium needs bin_log configuration in our MySQL enabled. Thanks to Debezium, since we\u2019re using a pre-configured MySQL Docker image, we don\u2019t need to configure it anymore. Let\u2019s check the configuration.", "As you can see, bin_log enabled, by default it's disabled.", "here we will use single-node elastic and elastic version 7.7. The container will run with the name elasticdbz.", "This service exposes REST API to manage the Debezium MySQL connector. The container will run with the name connectdbz.", "don\u2019t forget to link this container with kafkadbz, zookeeperdbz, elasticdbz since this service needs to communicate with kafkadbz, zookeeperdbz, elasticdbz services.", "check the status of Debezium Kafka Connect Service using CURL, from the response we will see we\u2019re using version 2.4.0", "Let\u2019s Register MySQL connector to monitor CDC in the inventory DB", "verify the connector is registered in the list of connectors", "now, inventory-connector is registered in the list of connectors", "This step is only for example watch the changes on DB, if you want to consume the topic, you have to write your Kafka Consumer", "After deploying Debezium MySQL connector, it starts monitoring inventory database for data changes events.", "To watch the dbserver1.inventory.customers topic, we will need to start Kafka console consumers. The container will run with the name watcher.", "after running the watcher, we can see that Debezium starts monitoring the inventory database and put the result as dbserver1.inventory.customers topic.", "It looks like the last event from the Kafka topic matching with the records in the Customers inventory table", "Let\u2019s try to update the customer table.", "And here is the result in the watcher", "until the step, we have achieved to integrate MySQL-Debezium-Kafka.We will get streamed data from Kafka's topic when there is new or changed data in MySQL.", "To make an integration with Elastic Search we need Kafka Connect Elastic Sink Connector installed on our Debezium Kafka connect container.", "Step 8 Extract downloaded zip file", "Step 9 Rename lib folder into kafka-connect-jdbc", "Step 10 Copy kafka-connect-jdbc into debezium the container of kafka-connect", "Step 11 Verify that all dependency is copied", "Step 12 Restart Debezium Kafka Connect container", "we need to restart Kafka connect service to make Kafka connect can detect newly installed connector plugin", "verify ElasticsearchSinkConnector connector is registered in the list of connectors", "Step 14 Check MySQL ElasticSearch Synchronization", "Let\u2019s check if the databases and the search server are synchronized.", "as we can see, now all data in MySQL is synchronized. All the data in MySQL can be found in the above elastic index.", "Let\u2019s insert new data into the Customers table and see what happens in the elastic index.", "Viola New data with first_name Rizqi is inserted", "Thanks to the article written by my master Erfin Feluzy article https://medium.com/@erfin.feluzy/tutorial-streaming-cdc-mysql-ke-kafka-dengan-debezium-3a1ec9150cf8 that inspired me to create this article.", "Finally, we made integration between MySQL and ElasticSearch using Debezium. I hope this demonstration can help you to solve the data latency problem between MySQL DB and ElasticSearch. Now all changed in MySQL DB will immediately be affected in Elastic Index. You can try to use another DB such as PostgreSQL, Oracle, DB2, MSSQL, etc.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb93821d4997b&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstream-your-data-changes-in-mysql-into-elasticsearch-using-debizium-kafka-and-confluent-jdbc-b93821d4997b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstream-your-data-changes-in-mysql-into-elasticsearch-using-debizium-kafka-and-confluent-jdbc-b93821d4997b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstream-your-data-changes-in-mysql-into-elasticsearch-using-debizium-kafka-and-confluent-jdbc-b93821d4997b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstream-your-data-changes-in-mysql-into-elasticsearch-using-debizium-kafka-and-confluent-jdbc-b93821d4997b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b93821d4997b--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b93821d4997b--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@rizqi.adhi?source=post_page-----b93821d4997b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rizqi.adhi?source=post_page-----b93821d4997b--------------------------------", "anchor_text": "Rizqi Nugroho"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F88ba0289334a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstream-your-data-changes-in-mysql-into-elasticsearch-using-debizium-kafka-and-confluent-jdbc-b93821d4997b&user=Rizqi+Nugroho&userId=88ba0289334a&source=post_page-88ba0289334a----b93821d4997b---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb93821d4997b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstream-your-data-changes-in-mysql-into-elasticsearch-using-debizium-kafka-and-confluent-jdbc-b93821d4997b&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb93821d4997b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstream-your-data-changes-in-mysql-into-elasticsearch-using-debizium-kafka-and-confluent-jdbc-b93821d4997b&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@jeromeprax?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "J\u00e9r\u00f4me Prax"}, {"url": "https://unsplash.com/s/photos/water-stream?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://medium.com/u/92236fea730d?source=post_page-----b93821d4997b--------------------------------", "anchor_text": "Erfin Feluzy"}, {"url": "http://www.apache.org/licenses/LICENSE-2.0.html", "anchor_text": "Apache License, Version 2.0"}, {"url": "https://en.wikipedia.org/wiki/Open-source_software", "anchor_text": "open-source"}, {"url": "https://en.wikipedia.org/wiki/Stream_processing", "anchor_text": "stream-processing"}, {"url": "https://en.wikipedia.org/wiki/LinkedIn", "anchor_text": "LinkedIn"}, {"url": "https://en.wikipedia.org/wiki/Apache_Software_Foundation", "anchor_text": "Apache Software Foundation"}, {"url": "https://en.wikipedia.org/wiki/Scala_(programming_language)", "anchor_text": "Scala"}, {"url": "https://en.wikipedia.org/wiki/Java_(programming_language)", "anchor_text": "Java"}, {"url": "https://www.elastic.co/guide/en/elasticsearch/reference/6.8/indices-create-index.html", "anchor_text": "index"}, {"url": "https://www.confluent.io/hub/confluentinc/kafka-connect-elasticsearch", "anchor_text": "https://www.confluent.io/hub/confluentinc/kafka-connect-elasticsearch"}, {"url": "http://localhost:9200/customers/_search?pretty", "anchor_text": "http://localhost:9200/"}, {"url": "http://localhost:9200/customers/_search?pretty", "anchor_text": "/_search?pretty"}, {"url": "http://localhost:9200/customers/_search?pretty", "anchor_text": "http://localhost:9200/"}, {"url": "http://localhost:9200/customers/_search?pretty", "anchor_text": "/_search?pretty"}, {"url": "http://localhost:9200/customers/_search?pretty", "anchor_text": "http://localhost:9200/"}, {"url": "http://localhost:9200/customers/_search?pretty", "anchor_text": "/_search?pretty"}, {"url": "https://medium.com/u/92236fea730d?source=post_page-----b93821d4997b--------------------------------", "anchor_text": "Erfin Feluzy"}, {"url": "https://medium.com/@erfin.feluzy/tutorial-streaming-cdc-mysql-ke-kafka-dengan-debezium-3a1ec9150cf8", "anchor_text": "https://medium.com/@erfin.feluzy/tutorial-streaming-cdc-mysql-ke-kafka-dengan-debezium-3a1ec9150cf8"}, {"url": "https://debezium.io/documentation/reference/1.1/tutorial.html", "anchor_text": "https://debezium.io/documentation/reference/1.1/tutorial.html"}, {"url": "https://docs.confluent.io/current/connect/kafka-connect-elasticsearch/index.html", "anchor_text": "https://docs.confluent.io/current/connect/kafka-connect-elasticsearch/index.html"}, {"url": "https://medium.com/tag/data-engineering?source=post_page-----b93821d4997b---------------data_engineering-----------------", "anchor_text": "Data Engineering"}, {"url": "https://medium.com/tag/big-data?source=post_page-----b93821d4997b---------------big_data-----------------", "anchor_text": "Big Data"}, {"url": "https://medium.com/tag/data-pipeline?source=post_page-----b93821d4997b---------------data_pipeline-----------------", "anchor_text": "Data Pipeline"}, {"url": "https://medium.com/tag/debezium?source=post_page-----b93821d4997b---------------debezium-----------------", "anchor_text": "Debezium"}, {"url": "https://medium.com/tag/apache-kafka?source=post_page-----b93821d4997b---------------apache_kafka-----------------", "anchor_text": "Apache Kafka"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb93821d4997b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstream-your-data-changes-in-mysql-into-elasticsearch-using-debizium-kafka-and-confluent-jdbc-b93821d4997b&user=Rizqi+Nugroho&userId=88ba0289334a&source=-----b93821d4997b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb93821d4997b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstream-your-data-changes-in-mysql-into-elasticsearch-using-debizium-kafka-and-confluent-jdbc-b93821d4997b&user=Rizqi+Nugroho&userId=88ba0289334a&source=-----b93821d4997b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb93821d4997b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstream-your-data-changes-in-mysql-into-elasticsearch-using-debizium-kafka-and-confluent-jdbc-b93821d4997b&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b93821d4997b--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb93821d4997b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstream-your-data-changes-in-mysql-into-elasticsearch-using-debizium-kafka-and-confluent-jdbc-b93821d4997b&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b93821d4997b---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b93821d4997b--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b93821d4997b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b93821d4997b--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b93821d4997b--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b93821d4997b--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b93821d4997b--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b93821d4997b--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b93821d4997b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rizqi.adhi?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rizqi.adhi?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Rizqi Nugroho"}, {"url": "https://medium.com/@rizqi.adhi/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "36 Followers"}, {"url": "http://DANA.id", "anchor_text": "DANA.id"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F88ba0289334a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstream-your-data-changes-in-mysql-into-elasticsearch-using-debizium-kafka-and-confluent-jdbc-b93821d4997b&user=Rizqi+Nugroho&userId=88ba0289334a&source=post_page-88ba0289334a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff1bb50b8f6a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstream-your-data-changes-in-mysql-into-elasticsearch-using-debizium-kafka-and-confluent-jdbc-b93821d4997b&newsletterV3=88ba0289334a&newsletterV3Id=f1bb50b8f6a0&user=Rizqi+Nugroho&userId=88ba0289334a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}