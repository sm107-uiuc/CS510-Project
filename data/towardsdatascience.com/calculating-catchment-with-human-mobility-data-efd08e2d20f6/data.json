{"url": "https://towardsdatascience.com/calculating-catchment-with-human-mobility-data-efd08e2d20f6", "time": 1683002669.118478, "path": "towardsdatascience.com/calculating-catchment-with-human-mobility-data-efd08e2d20f6/", "webpage": {"metadata": {"title": "Calculating Catchment Areas with Human Mobility Data | by Miguel \u00c1lvarez Garc\u00eda | Towards Data Science", "h1": "Calculating Catchment Areas with Human Mobility Data", "description": "Traditional approaches like isochrones or buffers fail to capture where people visiting a specific location actually come from. Learn how to build better Catchment with Human Mobility Data."}, "outgoing_paragraph_urls": [{"url": "https://carto.com/solutions/vodafone-analytics/", "anchor_text": "Vodafone Analytics", "paragraph_index": 5}, {"url": "https://en.wikipedia.org/wiki/Alpha_shape", "anchor_text": "alpha shape", "paragraph_index": 22}, {"url": "https://pypi.org/project/alphashape/", "anchor_text": "alphashape", "paragraph_index": 22}, {"url": "https://carto.com/platform/location-data-streams/", "anchor_text": "location data streams", "paragraph_index": 32}, {"url": "https://carto.com/blog/calculating-catchment-human-mobility-data/", "anchor_text": "CARTO blog", "paragraph_index": 33}, {"url": "https://www.linkedin.com/in/alvaro-arredondo/", "anchor_text": "\u00c1lvaro Arredondo", "paragraph_index": 33}, {"url": "https://twitter.com/mamataakella?lang=en", "anchor_text": "Mamata Akella", "paragraph_index": 34}], "all_paragraphs": ["Catchment areas (i.e. trade areas) are the geographic areas from which retailers, wholesalers, and other commercial locations draw most of their business. Calculating them properly is essential in sectors such as Retail and Real Estate as they allow organizations to better understand customers and develop appropriate business strategies.", "There are numerous techniques to calculate catchment areas, from circular trade areas, through isochrones, gravitational models, to more sophisticated techniques that incorporate location-specific variables. The chosen technique often depends on the information and data available, and the available expertise in the different techniques.", "When a new store is opened, the lack of available data makes it very difficult to know what customers will come to that store or where they will come from. In the absence of this data, the most common approach is to calculate buffers or isochrones around the target location, but this approach lacks precision and can lead to unreliable findings.", "For example, taking the same time-isochrone for two locations regardless of the population density around them will most certainly lead to unreliable findings. This is because people who live in low-density areas normally travel longer distances to do shopping than people who live in high-density areas. Here we aim at calculating reliable potential catchment areas using human mobility data as a proxy of the potential customers.", "The results obtained show that traditional approaches like isochrones or buffers fail to capture where people visiting a specific location actually come from. They don\u2019t provide the flexibility to build targeted catchment areas in the way that the use of human mobility data does; being able to compute, for example, different catchment areas for weekday and weekend visitors.", "The base of our method is the use of human mobility data from Vodafone Analytics. This data provides insights into the number of people visiting any 250m x 250m grid cell covering the entire territory of study. Vodafone anonymizes, aggregates, and then extrapolates the data measured in the network to provide insights representing the overall national and international population.", "In addition, this data provides the origins of the visitors aggregated at different levels depending on the distance to the destination cell. For visitors coming from the same municipality, the origins are provided also at the 250m x 250m cell level; for visitors coming from other municipalities within the same province, visits are aggregated at the municipality level; and for visitors coming from other provinces, visits are aggregated at the province level. Although it is also provided, given the characteristics of this study we are not going to consider the origins of visitors coming from different countries.", "In addition, this data can be disaggregated by type of activity at origin (home/work), day of the week, and time of the day (morning/afternoon/evening). The data can also be disaggregated by sociodemographic variables: age range, gender, and economic status.", "For the purposes of this use case, we selected a target location in the city of Sevilla, in Spain, to show the methodology. On the map below the origins from where visitors come from are shown.", "We also use demographic data from Unica360 to normalize visitor data. Unica360\u2019s data is provided aggregated in a 100m x 100m cell grid, and includes, among other variables, population, population by age range, and number of households. The data aggregation is upscaled to fit Vodafone\u2019s 250m x 250m cell grid applying areal interpolation.", "The first idea for calculating the catchment areas was to compute for every origin-destination pair, an index measuring the destination\u2019s visitor attraction potential with respect to that origin. Here the destination is understood as the grid cell containing the location for the new store.", "The index would be defined as:", "Based on this index, we would calculate every destination cell\u2019s catchment area by selecting the origins with the highest index value that made up 70% of the total visits at that destination cell.", "However, since the number of visitors coming from other municipalities and provinces is not available at the cell level, this first idea needs to be adapted with a new approach that allows one to compare the number of visitors at different aggregation levels (cell, municipality, and province).", "This new approach has two main steps:", "As mentioned before, visitors coming from other municipalities in the same province and from other provinces are aggregated at the municipality and province level, respectively. Isochrones allow us to consider only those areas within a municipality/province which are closer (in time) to the destination cell. The method developed calculates increasingly larger isochrones until 80% of the destination cell\u2019s total visitors are covered.", "In order to calculate the number of visitors coming from the intersection of an isochrone with a province (or municipality), nvisitorsIntersection, the next steps are followed:", "The function \u221a assigns more visitors as coming from areas within the province that are closer to the destination cell (and hence, fewer to areas further away). In figure 3 it can be seen how this function will assign 70% of the visitors coming from a province/municipality to an area containing only 40% of the population but that is closer to the destination cell. Again, we are applying this formula based on the assumption that people living closer to the destination cell are more likely to visit it. More sophisticated models could give better predictions.", "Once we have the minimal isochrone, the next step is to calculate the index value of each origin within the minimal isochrone, which is defined as follows:", "This index is calculated using the normalized number of visitors coming from each origin, norm_nvisitorsIntersection. The normalization is done by dividing by the number of population cells within the intersection, npopcellsIntersection, i.e., the number of visitors is distributed uniformly among all population cells within the intersection polygon.", "This normalization allows the comparison of visitors coming from cells within the same municipality with visitors coming from other municipalities and provinces. By selecting the origins with the highest index values that make up 70% of the destination cell\u2019s total visitors, we get its estimated catchment area.", "The following figure shows the three iterations needed to calculate the minimal isochrone containing at least 80% of the total visitors of a destination cell in the city of Sevilla.", "Once the minimal isochrone is found and the index is calculated for every origin, we can build the catchment area. Finally, the concave hull (aka alpha shape) of the catchment area is calculated to have manageable connected areas. For calculating the convex hull we used the Python library alphashape.", "The figure below shows the raw catchment area for the destination cell in Sevilla and its concave hull.", "If we compare the catchment area just obtained with the 15-kilometer buffer and the 20-minute-drive isochrone we can see they look very different from one another. The visualization below shows the three catchment areas with the population cells each of them contains.", "From this comparison, we can see how the isochrone expands towards north and west, missing a very important urban area in the south of the city, which is, in fact, a very important source of visitors to the destination cell as can be seen in Figure 4. In every iteration of the minimal isochrone process, it can be seen that there is a polygon in the south of the city with a very high number of visitors corresponding to this urban area. This area is only partially contained in the buffer catchment area and fully contained by the catchment area we just built using human mobility data.", "As mentioned above, Vodafone Analytics data can be disaggregated by, among other variables, type of activity at origin (home/work), day of the week, and time of the day (morning/afternoon/evening). This gives a lot of flexibility and, depending on the business sector or even the use case, it may be interesting to use this information to build tailored catchment areas. One example would be to build different catchment areas for weekdays and weekends.", "In the figure below, we have \u2014 for the same target location \u2014 the catchment area built using all visits (left), using only visits from Monday through Thursday (center), and using only visits from Friday through Sunday (right). It is very interesting to see how on weekends people tend to travel longer distances than on weekdays.", "This level of granularity allows for more powerful business insights. A Real Estate firm using this method can provide more detail to potential investors. For a retailer, this more accurate catchment can inform decisions around staffing and location management, inventory, and much more.", "For example, if we analyze this last level of insight more deeply, we can see the catchment area built using weekday visits fits quite well with the 20-minute-drive isochrone, while the catchment area built based on weekend visits does not (see figure below). This information can be used to identify the right spots to place advertising, or have different marketing strategies depending on the day of the week because customers come from different places.", "Vodafone analytics data can also be disaggregated by sociodemographic variables: age range, gender, and economic status. This allows for the construction of catchment areas focused on a target customer profile. This can provide even further insight when deciding on store format and retail category.", "Knowing and understanding the characteristics of the areas where a company draws most of its business from is crucial for them to succeed. When starting a new business or expanding an existing one, the lack of historical data makes it very challenging to know where customers will come from.", "Human mobility data, enriched with other location data streams, can make a difference when tackling this challenge and help businesses stand out from their competitors.", "This article was originally published on the CARTO blog. The work was done together with \u00c1lvaro Arredondo.", "Special thanks to Mamata Akella, CARTO\u2019s Head of Cartography, for her support in the creation of the maps in this post.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fefd08e2d20f6&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcalculating-catchment-with-human-mobility-data-efd08e2d20f6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcalculating-catchment-with-human-mobility-data-efd08e2d20f6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcalculating-catchment-with-human-mobility-data-efd08e2d20f6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcalculating-catchment-with-human-mobility-data-efd08e2d20f6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----efd08e2d20f6--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----efd08e2d20f6--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@malvarez_89900?source=post_page-----efd08e2d20f6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@malvarez_89900?source=post_page-----efd08e2d20f6--------------------------------", "anchor_text": "Miguel \u00c1lvarez Garc\u00eda"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe03b44b5baba&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcalculating-catchment-with-human-mobility-data-efd08e2d20f6&user=Miguel+%C3%81lvarez+Garc%C3%ADa&userId=e03b44b5baba&source=post_page-e03b44b5baba----efd08e2d20f6---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fefd08e2d20f6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcalculating-catchment-with-human-mobility-data-efd08e2d20f6&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fefd08e2d20f6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcalculating-catchment-with-human-mobility-data-efd08e2d20f6&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://carto.com/solutions/vodafone-analytics/", "anchor_text": "Vodafone Analytics"}, {"url": "https://en.wikipedia.org/wiki/Tobler%27s_first_law_of_geography", "anchor_text": "Tobler\u2019s law of geography"}, {"url": "https://en.wikipedia.org/wiki/Alpha_shape", "anchor_text": "alpha shape"}, {"url": "https://pypi.org/project/alphashape/", "anchor_text": "alphashape"}, {"url": "https://carto.com/platform/location-data-streams/", "anchor_text": "location data streams"}, {"url": "https://carto.com/blog/calculating-catchment-human-mobility-data/", "anchor_text": "CARTO blog"}, {"url": "https://www.linkedin.com/in/alvaro-arredondo/", "anchor_text": "\u00c1lvaro Arredondo"}, {"url": "https://twitter.com/mamataakella?lang=en", "anchor_text": "Mamata Akella"}, {"url": "https://medium.com/tag/urban-planning?source=post_page-----efd08e2d20f6---------------urban_planning-----------------", "anchor_text": "Urban Planning"}, {"url": "https://medium.com/tag/location-intelligence?source=post_page-----efd08e2d20f6---------------location_intelligence-----------------", "anchor_text": "Location Intelligence"}, {"url": "https://medium.com/tag/human-mobility-data?source=post_page-----efd08e2d20f6---------------human_mobility_data-----------------", "anchor_text": "Human Mobility Data"}, {"url": "https://medium.com/tag/catchment-area?source=post_page-----efd08e2d20f6---------------catchment_area-----------------", "anchor_text": "Catchment Area"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fefd08e2d20f6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcalculating-catchment-with-human-mobility-data-efd08e2d20f6&user=Miguel+%C3%81lvarez+Garc%C3%ADa&userId=e03b44b5baba&source=-----efd08e2d20f6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fefd08e2d20f6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcalculating-catchment-with-human-mobility-data-efd08e2d20f6&user=Miguel+%C3%81lvarez+Garc%C3%ADa&userId=e03b44b5baba&source=-----efd08e2d20f6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fefd08e2d20f6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcalculating-catchment-with-human-mobility-data-efd08e2d20f6&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----efd08e2d20f6--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fefd08e2d20f6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcalculating-catchment-with-human-mobility-data-efd08e2d20f6&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----efd08e2d20f6---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----efd08e2d20f6--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----efd08e2d20f6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----efd08e2d20f6--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----efd08e2d20f6--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----efd08e2d20f6--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----efd08e2d20f6--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----efd08e2d20f6--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----efd08e2d20f6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@malvarez_89900?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@malvarez_89900?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Miguel \u00c1lvarez Garc\u00eda"}, {"url": "https://medium.com/@malvarez_89900/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "90 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe03b44b5baba&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcalculating-catchment-with-human-mobility-data-efd08e2d20f6&user=Miguel+%C3%81lvarez+Garc%C3%ADa&userId=e03b44b5baba&source=post_page-e03b44b5baba--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ffd675c26eec2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcalculating-catchment-with-human-mobility-data-efd08e2d20f6&newsletterV3=e03b44b5baba&newsletterV3Id=fd675c26eec2&user=Miguel+%C3%81lvarez+Garc%C3%ADa&userId=e03b44b5baba&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}