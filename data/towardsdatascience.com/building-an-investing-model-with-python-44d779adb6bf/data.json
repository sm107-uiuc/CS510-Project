{"url": "https://towardsdatascience.com/building-an-investing-model-with-python-44d779adb6bf", "time": 1683010379.202857, "path": "towardsdatascience.com/building-an-investing-model-with-python-44d779adb6bf/", "webpage": {"metadata": {"title": "Building an Investing Model with Python | by Jose Manu (CodingFun) | Towards Data Science", "h1": "Building an Investing Model with Python", "description": "During this post, we are going to build an investment model to find out attractive stocks based on financial ratios using Python. We will screen all technology related stocks in the Nasdaq exchange\u2026"}, "outgoing_paragraph_urls": [{"url": "https://financialmodelingprep.com/", "anchor_text": "financialmodelingprep API", "paragraph_index": 2}, {"url": "https://codingandfun.com/finding-high-dividend-stocks-with-python/", "anchor_text": "how to find high dividend paying s", "paragraph_index": 3}, {"url": "https://codingandfun.com/?s=financial+ratios", "anchor_text": "learn more about financial ratios", "paragraph_index": 13}, {"url": "https://codingandfun.com/analyze-a-firm-roe-with-python/", "anchor_text": "DuPont method to analyse the return on equity (ROE)", "paragraph_index": 19}, {"url": "https://codingandfun.com/gordon-growth-model-valuing-a-company-with-python/", "anchor_text": "value the company using the Gordon Growth model", "paragraph_index": 19}, {"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines", "paragraph_index": 21}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms", "paragraph_index": 21}], "all_paragraphs": ["During this post, we are going to build an investment model to find out attractive stocks based on financial ratios using Python. We will screen all technology related stocks in the Nasdaq exchange. Then, we will get the main financial ratios for each stock. Finally, based on a custom ranking criteria, we will build a model to find the most attractive stocks.", "Let\u2019s start with the Python code to build our investment model:", "As in my previous posts, I will be using financialmodelingprep API which offers a few free API calls per month upon registration. Below are the main steps that we will follow to build our investment model based on financial ratios:", "As already covered in one of my previous posts (i.e. see how to find high dividend paying stocks), we will extract and append each of the company tickers trading in NASDAQ into a Python list. Note that you will need to create an account in financialmodelingprep in order to get an API with a few free API calls per day.", "It is a good idea to select companies operating in the same sector and with similar size. That will ensure that the companies can be compared between them. Therefore, we select companies operating in the Technological sector with a market capitalisation of more than $10 billion.", "Next, we extract all financial ratios from the Nasdaq companies that we obtained in the previous section. For our investment model, we will work with below selected financial ratios.", "Note that we have included an if statement to limit to 30 the number of companies for which we will include in our model. Feel free to remove this restriction.", "And below we have a sample of the obtained response containing a list of financial ratios for all of our Nasdaq companies. We have added them to a Python dictionary in order to be able to access them easily.", "In the next step, we are going to convert the Python dictionary into a Pandas DataFrame. The reason for it is simply to benefit from all the nice capabilities offered by Pandas to work with our data:", "So far, we have managed to add all financial ratios for the selected Nasdaq companies into a Pandas DataFrame.", "Now it is time to create our investment model to rank the stocks from more attractive to less attractive. The ranking criteria is totally up to us. I propose below ranking criteria for each of the financial ratios. Feel free to change them as per your preferences.", "A positive number will indicate that the ratio is a good sign. The higher the number, the more relevant will that ratio be in our investment model. For example, ROE (return on equity) will have a bigger impact than ROA (return on assets) since 1.2 is bigger than 1.1.", "On the other hand, a negative number will make the stock less attractive. For example, a higher Price to Book ratio (PB) may indicate that the company is overvalued. Therefore, I have allocated a negative number to the PB ratio.", "In case that you want to learn more about financial ratios, please have a look at some of my previous posts explaining the majority of them.", "In addition, and before calculating our ranking, we need to normalize the financial ratios to enable comparison across them:", "Great, we are almost there. The last step will be to add a new column into our Pandas DataFrame containing the ranking factor:", "Now, we can simply print the DataFrame including the ranking factor for each of the stocks in our investment model:", "As we can see in the above picture, our investment models predict that CSCO will be the best stock to invest in as per our selected criteria with a ranking of 48 points. Of course, this is only a model and further analysis of the stock would be required before putting money into it.", "We have covered quite a bit in this post. We have created an investment model based on key financial ratios and a customized ranking factor.", "Such investment models are particularly helpful in order to preliminary identify a few potential good investments to focus our analysis on them. For example, we could analyse some of the financial ratios more in deep for some of our best ranked companies. We could apply the DuPont method to analyse the return on equity (ROE) . Or value the company using the Gordon Growth model.", "One limitation of using financial ratios that I would like to highlight is the fact that financial ratios are mostly calculated using the latest available and public data. Therefore, if a company financials were published 3 months ago, financial ratios using balance sheet or income statement data may be outdated. Especially if there has been a material event impacting company operations.", "Note from Towards Data Science\u2019s editors: While we allow independent authors to publish articles in accordance with our rules and guidelines, we do not endorse each author\u2019s contribution. You should not rely on an author\u2019s works without seeking professional advice. See our Reader Terms for details.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Python for Finance. Learn step by step how to automate cool financial analysis tools."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F44d779adb6bf&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-an-investing-model-with-python-44d779adb6bf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-an-investing-model-with-python-44d779adb6bf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-an-investing-model-with-python-44d779adb6bf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-an-investing-model-with-python-44d779adb6bf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----44d779adb6bf--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----44d779adb6bf--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://codingfun89.medium.com/?source=post_page-----44d779adb6bf--------------------------------", "anchor_text": ""}, {"url": "https://codingfun89.medium.com/?source=post_page-----44d779adb6bf--------------------------------", "anchor_text": "Jose Manu (CodingFun)"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F57de827b2dd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-an-investing-model-with-python-44d779adb6bf&user=Jose+Manu+%28CodingFun%29&userId=57de827b2dd&source=post_page-57de827b2dd----44d779adb6bf---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F44d779adb6bf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-an-investing-model-with-python-44d779adb6bf&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F44d779adb6bf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-an-investing-model-with-python-44d779adb6bf&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.pexels.com/@burst?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels", "anchor_text": "Burst"}, {"url": "https://www.pexels.com/photo/1-wtc-america-architecture-buildings-374710/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels", "anchor_text": "Pexels"}, {"url": "https://financialmodelingprep.com/", "anchor_text": "financialmodelingprep API"}, {"url": "https://codingandfun.com/finding-high-dividend-stocks-with-python/", "anchor_text": "how to find high dividend paying s"}, {"url": "https://financialmodelingprep.com/api/v3/stock-screener?marketCapMoreThan={marketcap}&betaMoreThan=1&volumeMoreThan=10000&sector=Technology&exchange=NASDAQ&dividendMoreThan=0&limit=1000&apikey={demo}'", "anchor_text": "https://financialmodelingprep.com/api/v3/stock-screener?marketCapMoreThan={marketcap}&betaMoreThan=1&volumeMoreThan=10000&sector=Technology&exchange=NASDAQ&dividendMoreThan=0&limit=1000&apikey={demo}'"}, {"url": "https://financialmodelingprep.com/api/v3/ratios/{company}?apikey={demo}').json()", "anchor_text": "https://financialmodelingprep.com/api/v3/ratios/{company}?apikey={demo}').json()"}, {"url": "https://financialmodelingprep.com/api/v3/financial-growth/AAPL?apikey=demo", "anchor_text": "https://financialmodelingprep.com/api/v3/financial-growth/AAPL?apikey=demo"}, {"url": "https://financialmodelingprep.com/api/v3/financial-growth/{company}?apikey={demo}').json()", "anchor_text": "https://financialmodelingprep.com/api/v3/financial-growth/{company}?apikey={demo}').json()"}, {"url": "https://codingandfun.com/?s=financial+ratios", "anchor_text": "learn more about financial ratios"}, {"url": "https://codingandfun.com/analyze-a-firm-roe-with-python/", "anchor_text": "DuPont method to analyse the return on equity (ROE)"}, {"url": "https://codingandfun.com/gordon-growth-model-valuing-a-company-with-python/", "anchor_text": "value the company using the Gordon Growth model"}, {"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines"}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms"}, {"url": "https://codingandfun.com/building-an-investing-model-using-financial-ratios-and-python/", "anchor_text": "https://codingandfun.com"}, {"url": "https://medium.com/tag/investment?source=post_page-----44d779adb6bf---------------investment-----------------", "anchor_text": "Investment"}, {"url": "https://medium.com/tag/money?source=post_page-----44d779adb6bf---------------money-----------------", "anchor_text": "Money"}, {"url": "https://medium.com/tag/data-science?source=post_page-----44d779adb6bf---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----44d779adb6bf---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/finance?source=post_page-----44d779adb6bf---------------finance-----------------", "anchor_text": "Finance"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F44d779adb6bf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-an-investing-model-with-python-44d779adb6bf&user=Jose+Manu+%28CodingFun%29&userId=57de827b2dd&source=-----44d779adb6bf---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F44d779adb6bf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-an-investing-model-with-python-44d779adb6bf&user=Jose+Manu+%28CodingFun%29&userId=57de827b2dd&source=-----44d779adb6bf---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F44d779adb6bf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-an-investing-model-with-python-44d779adb6bf&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----44d779adb6bf--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F44d779adb6bf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-an-investing-model-with-python-44d779adb6bf&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----44d779adb6bf---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----44d779adb6bf--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----44d779adb6bf--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----44d779adb6bf--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----44d779adb6bf--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----44d779adb6bf--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----44d779adb6bf--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----44d779adb6bf--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----44d779adb6bf--------------------------------", "anchor_text": ""}, {"url": "https://codingfun89.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://codingfun89.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Jose Manu (CodingFun)"}, {"url": "https://codingfun89.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.2K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F57de827b2dd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-an-investing-model-with-python-44d779adb6bf&user=Jose+Manu+%28CodingFun%29&userId=57de827b2dd&source=post_page-57de827b2dd--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa6a80235fd35&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-an-investing-model-with-python-44d779adb6bf&newsletterV3=57de827b2dd&newsletterV3Id=a6a80235fd35&user=Jose+Manu+%28CodingFun%29&userId=57de827b2dd&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}