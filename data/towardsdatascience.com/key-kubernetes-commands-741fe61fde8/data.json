{"url": "https://towardsdatascience.com/key-kubernetes-commands-741fe61fde8", "time": 1682995918.306228, "path": "towardsdatascience.com/key-kubernetes-commands-741fe61fde8/", "webpage": {"metadata": {"title": "Key Kubernetes Commands. Up and running with K8s | by Jeff Hale | Towards Data Science", "h1": "Key Kubernetes Commands", "description": "Kubernetes is the premier technology for deploying and manage large apps. In this article, we\u2019ll get up and running with K8s on your local machine. Then you\u2019ll Deploy your first app. Finally, you\u2019ll\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/key-kubernetes-concepts-62939f4bc08e?source=friends_link&sk=d46386ce56c00701dbf41aa8d308a14d", "anchor_text": "previous article", "paragraph_index": 1}, {"url": "https://kubernetes.io/docs/setup/minikube/", "anchor_text": "Minikube", "paragraph_index": 2}, {"url": "https://microk8s.io/", "anchor_text": "MicroK8s", "paragraph_index": 4}, {"url": "https://www.docker.com/products/docker-desktop", "anchor_text": "here", "paragraph_index": 6}, {"url": "https://stackoverflow.com/", "anchor_text": "Stack Overflow", "paragraph_index": 10}, {"url": "https://console.cloud.google.com/gcr/images/hello-minikube-zero-install/GLOBAL/hello-node?gcrImageListsize=30", "anchor_text": "Google Container Registry", "paragraph_index": 13}, {"url": "https://kubernetes.io/docs/tutorials/hello-minikube/", "anchor_text": "the official Kubernetes Hello Minikube tutoria", "paragraph_index": 13}, {"url": "https://towardsdatascience.com/learn-enough-docker-to-be-useful-b0b44222eef5", "anchor_text": "here", "paragraph_index": 15}, {"url": "http://localhost:8080/", "anchor_text": "http://localhost:8080/", "paragraph_index": 23}, {"url": "https://medium.com/@jeffhale", "anchor_text": "me", "paragraph_index": 24}, {"url": "https://kubernetes.io/docs/reference/kubectl/overview/", "anchor_text": "kubectl", "paragraph_index": 26}, {"url": "https://medium.com/diary-of-an-sre/how-do-you-really-pronounce-kubectl-4f58f76090e5", "anchor_text": "or many other ways", "paragraph_index": 26}, {"url": "https://towardsdatascience.com/10-git-commands-you-should-know-df54bea1595c", "anchor_text": "this article", "paragraph_index": 29}, {"url": "https://towardsdatascience.com/key-kubernetes-concepts-62939f4bc08e?source=friends_link&sk=d46386ce56c00701dbf41aa8d308a14d", "anchor_text": "my previous article", "paragraph_index": 32}, {"url": "https://kubernetes.io/docs/reference/kubectl/overview/", "anchor_text": "here", "paragraph_index": 35}, {"url": "https://medium.com/google-cloud/kubernetes-best-practices-8d5cd03446e2", "anchor_text": "here", "paragraph_index": 44}, {"url": "https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands", "anchor_text": "here", "paragraph_index": 48}, {"url": "https://cheatsheet.dennyzhang.com/cheatsheet-kubernetes-A4", "anchor_text": "longer cheatsheet", "paragraph_index": 50}, {"url": "https://kubernetes.io/docs", "anchor_text": "Kubernetes docs", "paragraph_index": 51}, {"url": "https://medium.com/@jeffhale", "anchor_text": "me", "paragraph_index": 53}, {"url": "https://medium.com/@jeffhale", "anchor_text": "here", "paragraph_index": 54}, {"url": "https://dataawesome.com", "anchor_text": "https://dataawesome.com", "paragraph_index": 56}], "all_paragraphs": ["Kubernetes is the premier technology for deploying and manage large apps. In this article, we\u2019ll get up and running with K8s on your local machine. Then you\u2019ll Deploy your first app. Finally, you\u2019ll see the top K8s commands to know.", "If you\u2019re new to Kubernetes, check out my previous article to learn fundamental K8s concepts.", "Until recently, Minikube was the primary means of creating a local, single-node Kubernetes cluster. It works on Mac, Windows, and Linux. Minikube runs inside a virtual environment with drivers for many different virtual environments. It also has an extensive API. However, when using Minikube with VirtualBox, I found it to be slow and buggy.", "If you are playing with K8s locally on a Mac or Windows machine, I recommend you use the K8s version that comes with Docker Desktop. It uses HyperKit as its virtual environment. I found it to be a breath of fresh air. \ud83c\udf37", "If you\u2019re using a Linux machine with K8s locally, check out MicroK8s. It\u2019s lightweight and uses a snap instead of a virtual environment.", "For this article, I\u2019m running K8s v1.13.0 from Docker Desktop CE, Edge version in April 2019.", "To install and start K8s on a Mac, first download Docker Desktop with K8s here.", "Once installed, go to your apps and start Docker. Install and start K8s by selecting Preferences from the Docker icon at the top of your screen.", "Select the Kubernetes tab and check the Enable Kubernetes box.", "Agree to install Kubernetes. It might take a minute or two to fire up. Click on the Docker dropdown and you should see Kubernetes is starting and then eventually, Kubernetes is running.", "If you see two green circles, then you\u2019re set! If you don\u2019t see two green circles, Google and Stack Overflow are a developer\u2019s best friends. \ud83d\ude04", "Let\u2019s make a hello world Deployment that will pull a Docker image for a node.js app. Our app will display Hello World in the browser. In production, you\u2019ll do things differently. This exercise is a first few steps to get your feet wet. \ud83d\udc63", "With K8s running, enter the following command in your terminal:", "We\u2019re using the kubectl API to create a deployment named hello-node that uses a Docker image stored in the Google Container Registry. We\u2019re using the Docker container from the official Kubernetes Hello Minikube tutorial.", "Here are the contents of the Dockerfile:", "We\u2019re using an official node.js image, copying the contents of server.js, exposing port 8080, and running the server.js program with node. For more on Docker files, check out my article here.", "This code will create a server that listens on port 8080. When the server receives a request, it writes a helpful message to the console and returns \u201cHello World!\u201d.", "After running the kubectl create command, you should see a message in your terminal that your Deployment has been created. Your app won\u2019t be ready to use right away, though. K8s needs to pull the Docker image and spin up your container.", "You can view the status of all K8s resources with kubectl get all. It will take a few minutes to pull the image and spin up the container, so you\u2019ll probably enter this command a few times. You can peak behind the curtain and see what K8s is doing with kubectl get events.", "When you see 1 Pod is showing Available, you\u2019re good to go.", "To make the Pod accessible to the world outside the K8s cluster, you need to expose the Pod as a Service. Create a Service with the command kubectl expose deployment hello-node --type=LoadBalancer --port=8080.", "You specified the name of the Cluster, the type of Service, and the port for it to use. Not all Service types create an IP that can be accessed from the outside world, but LoadBalancer does.", "You should be able to see that the Service has been created by entering kubectl get services in your shell.", "Assuming you\u2019re running K8s locally, navigate your browser to http://localhost:8080/ and you should see the message \u201cHello World!\u201d. \ud83d\udc4d", "Instead of creating and specifying your whole Deployment and Service via the command line, you could have specified them in a YAML file. Using a file has several advantages, including reusability and documentation. I plan to cover YAML specification files in depth in future articles, so follow me to make sure you don\u2019t miss them.", "Now let\u2019s check out popular K8s commands.", "kubectl \u2014 pronounced cube control, cube cuttle \u2014 or many other ways \u2014 is the command line tool for K8s. Here\u2019s how it works:", "Names and flags are optional in many cases.", "For example, to get information about all existing Pods you could run this common command: kubectl get pods.", "Tip: If you want to avoid typing kubectl a bajilllion times, make a Bash alias. With alias k='kubectl' you can just type k instead of kubectl. I show how to make Bash aliases on a Mac in this article.", "Without further ado, here are the most common K8s resources and their shortcuts.", "You can write out the full term or the shortcut.", "If you are fuzzy about these resources, check out my previous article on K8s concepts. Two other terms to know are all and events.", "Unsurprisingly, all is used to refer to all existing resources. kubectl get all shows essential information about running Pods, Services, Deployments, and ReplicaSets. This command is super handy. \ud83d\ude04", "Likewise, kubectl get events shows a history of events. It\u2019s like a log at the K8s level instead of at the container level.", "If you want to see more kubectl resources, check out the official docs here. Now let\u2019s look at actions to apply to our resources.", "help \u2014 get helpget \u2014 display information about a resource or resourcesdescribe \u2014 display detailed information about a resource or resourceslogs \u2014 show the logs for a containerexec\u2014 enter a running process in a containerapply \u2014create or alter a resourcedelete \u2014 delete a resource or resources", "Let\u2019s look at each command briefly.", "Type --help after a command for help with that command. For example, kubectl get pods --help.", "kubectl get all shows essential information about running Pods, Services, Deployments, and ReplicaSets. It\u2019s the go-to command to check the status of things. You can use get with individual objects and add the --watch flag to observe real-time updates.", "kubectl describe all shows lots of detailed information about pretty much everything related to your Cluster. You can use describe with individual objects, too. It\u2019s helpful when debugging.", "logs requires a Pod name. My \"hello world\u201d app shows the logs for my Pod with the command kubectl logs hello-node-7f5b6bd6b8-gr7m7. Use the flag -c my-container to specify a container when multiple are in a Pod. Use the --previous flag to get info about a container that is no longer running.", "exec helps you debug a container process. It allows you to execute a process within the container through a psuedo-terminal with -it. For example, to enter the container in my_pod and run Bash, enter kubectl exec -it my_pod bash.", "Using apply with a YAML or JSON file is the recommended way to create or alter a resource. If a resource doesn\u2019t exist, apply will create it. If it does exist, apply will alter it. apply can add Services to an applicable resource, or automate horizontal scaling of a Deployment by adding Pods.", "Note that you could use create to make a Deployment and expose to make a Service\u2014 that\u2019s what we did above. However, using a YAML file with apply is a better option for documentation and reuse. We\u2019ll cover that method a future article. See a discussion of best practices for creating resources here.", "apply is your SwissArmy knife for creating and updating resources.", "kubectl delete pod my_pod deletes the Pod named my_pod.", "To delete all resources of the same type pass the --all flag. For example, you can delete all ReplicaSets with kubectl delete rs --all. Note that if you try this, the ReplicaSets will restart unless you delete your Deployment first. \ud83d\ude04", "Now you\u2019ve seen the key K8s commands. As you become a Kubernetes n\u0335i\u0335n\u0335j\u0335a\u0335 peaceful warrior, you\u2019ll acquire others. A full list of kubectl actions can be found here.", "--help \u2014 get help about a resourceget \u2014 display information about a resource or resources.describe \u2014 display detailed information about a resource or resources.logs \u2014 show the logs for a container.exec\u2014 enter a running process in a container.apply \u2014create or alter a resource.delete \u2014 delete a resource or resources.", "If you want to go deeper and you\u2019re into lists, check out this longer cheatsheet.", "As you explore K8s, be sure to spend some time with the official Kubernetes docs. They are detailed and can be overwhelming when starting out, but they are uncommonly well written. \ud83c\udf89", "I hope you found this article useful. You saw how to set up K8s and and run your first K8s app. Then you saw how to inspect, create, and delete your K8 resources with common commands. If you found this article helpful, please share it on your favorite social media channels so others can find it, too. \ud83d\udc4d", "I have future K8s articles in the works. Follow me to make sure you don\u2019t miss them. \ud83d\ude03", "I write about data science, cloud computing, and DevOps. Check out my other articles here, if you\u2019re into that stuff.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I write about data science. Join my Data Awesome mailing list to stay on top of the latest data tools and tips: https://dataawesome.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F741fe61fde8&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkey-kubernetes-commands-741fe61fde8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkey-kubernetes-commands-741fe61fde8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkey-kubernetes-commands-741fe61fde8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkey-kubernetes-commands-741fe61fde8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----741fe61fde8--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----741fe61fde8--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://jeffhale.medium.com/?source=post_page-----741fe61fde8--------------------------------", "anchor_text": ""}, {"url": "https://jeffhale.medium.com/?source=post_page-----741fe61fde8--------------------------------", "anchor_text": "Jeff Hale"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F451599b1142a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkey-kubernetes-commands-741fe61fde8&user=Jeff+Hale&userId=451599b1142a&source=post_page-451599b1142a----741fe61fde8---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F741fe61fde8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkey-kubernetes-commands-741fe61fde8&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F741fe61fde8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkey-kubernetes-commands-741fe61fde8&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/key-kubernetes-concepts-62939f4bc08e?source=friends_link&sk=d46386ce56c00701dbf41aa8d308a14d", "anchor_text": "previous article"}, {"url": "https://kubernetes.io/docs/setup/minikube/", "anchor_text": "Minikube"}, {"url": "https://microk8s.io/", "anchor_text": "MicroK8s"}, {"url": "https://www.docker.com/products/docker-desktop", "anchor_text": "here"}, {"url": "https://stackoverflow.com/", "anchor_text": "Stack Overflow"}, {"url": "https://console.cloud.google.com/gcr/images/hello-minikube-zero-install/GLOBAL/hello-node?gcrImageListsize=30", "anchor_text": "Google Container Registry"}, {"url": "https://kubernetes.io/docs/tutorials/hello-minikube/", "anchor_text": "the official Kubernetes Hello Minikube tutoria"}, {"url": "https://towardsdatascience.com/learn-enough-docker-to-be-useful-b0b44222eef5", "anchor_text": "here"}, {"url": "http://localhost:8080/", "anchor_text": "http://localhost:8080/"}, {"url": "https://medium.com/@jeffhale", "anchor_text": "me"}, {"url": "https://kubernetes.io/docs/reference/kubectl/overview/", "anchor_text": "kubectl"}, {"url": "https://medium.com/diary-of-an-sre/how-do-you-really-pronounce-kubectl-4f58f76090e5", "anchor_text": "or many other ways"}, {"url": "https://towardsdatascience.com/10-git-commands-you-should-know-df54bea1595c", "anchor_text": "this article"}, {"url": "https://towardsdatascience.com/key-kubernetes-concepts-62939f4bc08e?source=friends_link&sk=d46386ce56c00701dbf41aa8d308a14d", "anchor_text": "my previous article"}, {"url": "https://kubernetes.io/docs/reference/kubectl/overview/", "anchor_text": "here"}, {"url": "https://medium.com/google-cloud/kubernetes-best-practices-8d5cd03446e2", "anchor_text": "here"}, {"url": "https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands", "anchor_text": "here"}, {"url": "https://cheatsheet.dennyzhang.com/cheatsheet-kubernetes-A4", "anchor_text": "longer cheatsheet"}, {"url": "https://kubernetes.io/docs", "anchor_text": "Kubernetes docs"}, {"url": "https://medium.com/@jeffhale", "anchor_text": "me"}, {"url": "https://medium.com/@jeffhale", "anchor_text": "here"}, {"url": "https://dataawesome.com", "anchor_text": ""}, {"url": "https://medium.com/tag/kubernetes?source=post_page-----741fe61fde8---------------kubernetes-----------------", "anchor_text": "Kubernetes"}, {"url": "https://medium.com/tag/software-development?source=post_page-----741fe61fde8---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/docker?source=post_page-----741fe61fde8---------------docker-----------------", "anchor_text": "Docker"}, {"url": "https://medium.com/tag/technology?source=post_page-----741fe61fde8---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----741fe61fde8---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F741fe61fde8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkey-kubernetes-commands-741fe61fde8&user=Jeff+Hale&userId=451599b1142a&source=-----741fe61fde8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F741fe61fde8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkey-kubernetes-commands-741fe61fde8&user=Jeff+Hale&userId=451599b1142a&source=-----741fe61fde8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F741fe61fde8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkey-kubernetes-commands-741fe61fde8&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----741fe61fde8--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F741fe61fde8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkey-kubernetes-commands-741fe61fde8&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----741fe61fde8---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----741fe61fde8--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----741fe61fde8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----741fe61fde8--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----741fe61fde8--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----741fe61fde8--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----741fe61fde8--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----741fe61fde8--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----741fe61fde8--------------------------------", "anchor_text": ""}, {"url": "https://jeffhale.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://jeffhale.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Jeff Hale"}, {"url": "https://jeffhale.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "18K Followers"}, {"url": "https://dataawesome.com", "anchor_text": "https://dataawesome.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F451599b1142a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkey-kubernetes-commands-741fe61fde8&user=Jeff+Hale&userId=451599b1142a&source=post_page-451599b1142a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe7ae6804f27a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkey-kubernetes-commands-741fe61fde8&newsletterV3=451599b1142a&newsletterV3Id=e7ae6804f27a&user=Jeff+Hale&userId=451599b1142a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}