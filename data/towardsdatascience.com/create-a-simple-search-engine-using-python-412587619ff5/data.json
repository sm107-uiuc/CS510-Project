{"url": "https://towardsdatascience.com/create-a-simple-search-engine-using-python-412587619ff5", "time": 1683014154.5159838, "path": "towardsdatascience.com/create-a-simple-search-engine-using-python-412587619ff5/", "webpage": {"metadata": {"title": "Create A Simple Search Engine Using Python | Towards Data Science", "h1": "Create A Simple Search Engine Using Python", "description": "In this article, I will show you on how to build a simple search engine to find similar articles with cosine similarity using Python."}, "outgoing_paragraph_urls": [{"url": "https://colab.research.google.com/drive/1LNB053OAFBgK5xmMy9GwMxY77R9aqO-0#scrollTo=memATAT_6CtF", "anchor_text": "here", "paragraph_index": 2}, {"url": "https://colab.research.google.com/drive/1LNB053OAFBgK5xmMy9GwMxY77R9aqO-0#scrollTo=memATAT_6CtF", "anchor_text": "kompas.com", "paragraph_index": 4}], "all_paragraphs": ["All of us have used a search engine, in example Google, in every single day for searching everything, even on simple things. But have you ever imagined, how that search engine can retrieve all of our documents based on what we want to search (query)?", "In this article, I will show you on how to build a simple search engine from scratch using Python and its supporting library. After you read the article, I hope you can understand how to build your own search engine based on what you need. Without further, let\u2019s go!", "Side note: I\u2019ve also created a notebook of the code, so if you want to follow along with me you can click on this link here. Also, the documents that I will use is in Indonesian. But don\u2019t worry, you can use any documents regardless of the language.", "Before we get our hands dirty, let me give you the steps on how to implement this, and on each section, I will explain on how to build it. They are,", "The first thing that we have to do is to retrieve the documents from the Internet. In this case, we can use web scraping to extract documents from a website. I will scrape documents from kompas.com on sport category, especially on the popular articles. Because of the documents are using HTML format, we initialize a BeautifulSoup object to parse the HTML file, so we can extract each element that we want much easier.", "Based on the figures below, I\u2019ve shown the screenshot of the website with an inspect element to it. On Figure 1, I\u2019ve shown the tags that we want to retrieve, which is the href attribute of the highlighted <a> tag with class \u201cmost__link\u201d. On the Figure 2, We will retrieve text on <p> tags from <div> tag with class \u201cread__content\u201d.", "Here is the code that I used for extracting the documents and its explanations on each line,", "Right after we extract the documents, we have to clean it, so our retrieval process becomes much easier. For each document, we have to remove all unnecessary words, numbers and punctuations, lowercase the word, and remove the doubled space. Here is the code for it,", "After each document is clean, it\u2019s time to create a matrix. Thankfully, scikit-learn library has prepared for us the code of it, so we don\u2019t have to implement it from scratch. The code looks like this,", "The result (matrix) will become a representation of the documents. By using that, we can find the similarity between different documents based on the matrix. The matrix looks like this,", "The matrix above is called as Term-Document Matrix. It consists of rows that represent by each token (term) from all documents, and the columns consist of the identifier of the document. Inside of the cell is the number of frequency of each word that is weighted by some number.", "We will use the column vector, which is a vector that represents each document to calculate the similarity with a given query. We can call this vector as embeddings.", "For calculating the cell value, the code uses the TF-IDF method to do this. TF-IDF (Term Frequency \u2014 Inverse Document Frequency) is a frequency of a word that is weighted by IDF. Let me explain each one of them,", "Term Frequency (TF) is a frequency of term (t) on document (d). The formula looks like this,", "Beside of that, we can use a log with bases of 10 to calculate the TF, so the number becomes smaller, and the computation process becomes faster. Also, make sure to add one on it because we don\u2019t want log 0 exist.", "Then, there is the Inverse Document Frequency (IDF). This formula will be used for calculating the rarity of the word in all documents. It will be used as weights for the TF. If a word is frequent, then the IDF will be smaller. In opposite, if the word is less frequent, then the IDF will be larger. The formula looks like this,", "Recall the TF-IDF, we can see how does it affect the value on each cell. It will remove all the words that are frequently shown in documents but at the same time not important, such as and, or, even, actually, etc. Based on that, we use this as the value on each cell on our matrix.", "After we create the matrix, we can prepare our query to find articles based on the highest similarity between the document and the query. To calculate the similarity, we can use the cosine similarity formula to do this. It looks like this,", "The formula calculates the dot product divided by the multiplication of the length on each vector. The value ranges from [1, 0], but in general, the cosine value ranges from [-1, 1]. Because there are no negative values on it, we can ignore the negative value because it never happens.", "Now, we will implement the code to find similarities on documents based on a query. The first thing that we have to do is to transform the query as a vector on the matrix that we have. Then, we calculate the similarities between them. And finally, we retrieve all documents that have values above 0 in similarity. The code looks like this,", "Suppose that we want to find articles that talk about Barcelona. If we run the code based on that, we will get the result like this,", "That is how we can create a simple search engine using Python and its dependencies. It still very basic, but I hope you can learn something from here and can implement your own search engine based on what you need. Thank you.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F412587619ff5&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-simple-search-engine-using-python-412587619ff5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-simple-search-engine-using-python-412587619ff5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-simple-search-engine-using-python-412587619ff5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-simple-search-engine-using-python-412587619ff5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----412587619ff5--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----412587619ff5--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@irfanalghani11?source=post_page-----412587619ff5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@irfanalghani11?source=post_page-----412587619ff5--------------------------------", "anchor_text": "Irfan Alghani Khalid"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F44601cf05927&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-simple-search-engine-using-python-412587619ff5&user=Irfan+Alghani+Khalid&userId=44601cf05927&source=post_page-44601cf05927----412587619ff5---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F412587619ff5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-simple-search-engine-using-python-412587619ff5&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F412587619ff5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-simple-search-engine-using-python-412587619ff5&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@freegraphictoday?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "AbsolutVision"}, {"url": "https://unsplash.com/s/photos/information?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://colab.research.google.com/drive/1LNB053OAFBgK5xmMy9GwMxY77R9aqO-0#scrollTo=memATAT_6CtF", "anchor_text": "here"}, {"url": "https://colab.research.google.com/drive/1LNB053OAFBgK5xmMy9GwMxY77R9aqO-0#scrollTo=memATAT_6CtF", "anchor_text": "kompas.com"}, {"url": "https://bola.kompas.com/'", "anchor_text": "https://bola.kompas.com/'"}, {"url": "https://web.stanford.edu/~jurafsky/slp3/", "anchor_text": "Speech and Language Processing"}, {"url": "https://medium.com/tag/data-science?source=post_page-----412587619ff5---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/information-retrieval?source=post_page-----412587619ff5---------------information_retrieval-----------------", "anchor_text": "Information Retrieval"}, {"url": "https://medium.com/tag/nlp?source=post_page-----412587619ff5---------------nlp-----------------", "anchor_text": "NLP"}, {"url": "https://medium.com/tag/programming?source=post_page-----412587619ff5---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/python?source=post_page-----412587619ff5---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F412587619ff5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-simple-search-engine-using-python-412587619ff5&user=Irfan+Alghani+Khalid&userId=44601cf05927&source=-----412587619ff5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F412587619ff5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-simple-search-engine-using-python-412587619ff5&user=Irfan+Alghani+Khalid&userId=44601cf05927&source=-----412587619ff5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F412587619ff5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-simple-search-engine-using-python-412587619ff5&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----412587619ff5--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F412587619ff5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-simple-search-engine-using-python-412587619ff5&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----412587619ff5---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----412587619ff5--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----412587619ff5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----412587619ff5--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----412587619ff5--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----412587619ff5--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----412587619ff5--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----412587619ff5--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----412587619ff5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@irfanalghani11?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@irfanalghani11?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Irfan Alghani Khalid"}, {"url": "https://medium.com/@irfanalghani11/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.2K Followers"}, {"url": "https://www.linkedin.com/in/alghaniirfan/", "anchor_text": "https://www.linkedin.com/in/alghaniirfan/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F44601cf05927&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-simple-search-engine-using-python-412587619ff5&user=Irfan+Alghani+Khalid&userId=44601cf05927&source=post_page-44601cf05927--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F309de219c913&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-simple-search-engine-using-python-412587619ff5&newsletterV3=44601cf05927&newsletterV3Id=309de219c913&user=Irfan+Alghani+Khalid&userId=44601cf05927&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}