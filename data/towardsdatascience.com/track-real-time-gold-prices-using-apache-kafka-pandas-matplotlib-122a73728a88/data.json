{"url": "https://towardsdatascience.com/track-real-time-gold-prices-using-apache-kafka-pandas-matplotlib-122a73728a88", "time": 1683015751.639053, "path": "towardsdatascience.com/track-real-time-gold-prices-using-apache-kafka-pandas-matplotlib-122a73728a88/", "webpage": {"metadata": {"title": "Track Real-Time Gold Prices using Apache Kafka, Pandas & MatPlotLib | by Manoj Kukreja | Towards Data Science", "h1": "Track Real-Time Gold Prices using Apache Kafka, Pandas & MatPlotLib", "description": "Note from Towards Data Science\u2019s editors: While we allow independent authors to publish articles in accordance with our rules and guidelines, we do not endorse each author\u2019s contribution. You should\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms", "paragraph_index": 0}, {"url": "http://www.datafence.com", "anchor_text": "Datafence Cloud Academy", "paragraph_index": 29}], "all_paragraphs": ["Note from Towards Data Science\u2019s editors: While we allow independent authors to publish articles in accordance with our rules and guidelines, we do not endorse each author\u2019s contribution. You should not rely on an author\u2019s works without seeking professional advice. See our Reader Terms for details.", "We are in the era where tracking, processing and analyzing real-time data is becoming a necessity of many businesses. Needless to say handling streaming data sets is becoming one of the most crucial and sought of skills for Data Engineers and Scientists.", "For this article I am assuming that you are familiar with Apache Kafka \u2014 an open-source distributed event streaming platform. Apache Kafka has built-in partitioning, replication, and fault tolerance mechanisms. I have used Apache Kafka on several projects in the past for several use cases including metrics collection, log collection and stream processing.", "Apache Kafka is a hot discussion topic with my students in my Data Engineering and Data Science course. Out of the many examples that I cover during the course I decided to share this one.", "We will ingest streaming data from the following API into Kafka.", "We will start by creating a Kafka Producer that will read data from the API above and continuously push data to Kafka.", "We will also create Kafka Consumer that will continuously read data from Kafka. once the message is read we will extract the latest gold price and and plot the results on a bar chart.", "Tech Stack: Apache Kafka, Pandas, Python, kafka-python library and MatPlotLib", "Start Zookeeper and Kafka Server in background", "Create a new Kafka Topic \u2014 Goldrates", "Install the Kafka Producer notebook in Jupyter. I am going to run through the steps for understanding the flow.", "KafkaProducer \u2014 High Level class for creating asynchronous message producer.", "Declare some constants that will be used in the program. The brokers can be a list of brokers participating in your Apache Kafka cluster.", "This initializes a new Kafka Producer. This producer will serialize data before sending it to the list of brokers. Data will be converted to JSON and encoded using utf-8.", "This code runs in an never ending loop. It fetches data from the Goldrates API, coverts incoming JSON object to a Python object and finally send this data to a particular topic in Kafka. After every iteration it sleep for a period=sleep_time constant declared previously.", "If everything is running fine in you Kafka Producer you should see an output as follows:", "Leave this notebook running so that the Kafka consumer can consume these messages.", "Install the Kafka Consumer notebook in Jupyter. As done previously, I am going to run through the steps for understanding the flow.", "KafkaConsumer \u2014 High Level class for creating asynchronous message consumer.", "Declare some constants that will be used in the program. The brokers can be a list of brokers participating in your Apache Kafka cluster. Offset=latest means the code should fetch the latest message from the Kafka queue. You also have the option of starting with the earliest.", "This initializes a new Kafka Consumer.", "auto_offset_reset \u2014 is used only if the consumer runs into unexpected problems. In this case we are asking the consumer to restart reading messages from the latest message. You also have the option of starting with the earliest.", "auto_commit_interval_ms \u2014 time period between two commits.", "Finally, we are asking the consumer to subscribe i.e. get messages from the topic as defined as the constant.", "For every message the JSON is loaded in a Pandas Dataframe. The latest price of Gold and the timestamp are extracted from the Dataframe and stored in a Python Dictionary. Finally, the Python Dictionary is used to plot a bar chart as follows:", "X Axis \u2014 Timestamp of the Gold Price Reading", "Y Axis \u2014 Gold Price Value", "If everything workes well, for every iteration the latest Gold Price will be plotted as follows:", "All the code for this article can be found on the link below:", "I hope this article was helpful. The topic of Apache Kafka is covered in greater detail as part of the Big Data Hadoop, Spark & Kafka course offered by Datafence Cloud Academy.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Author, Big Data Engineering, Data Science, Data Lakes, Cloud Computing and IT security specialist."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F122a73728a88&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-real-time-gold-prices-using-apache-kafka-pandas-matplotlib-122a73728a88&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-real-time-gold-prices-using-apache-kafka-pandas-matplotlib-122a73728a88&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-real-time-gold-prices-using-apache-kafka-pandas-matplotlib-122a73728a88&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-real-time-gold-prices-using-apache-kafka-pandas-matplotlib-122a73728a88&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----122a73728a88--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----122a73728a88--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mkukreja1.medium.com/?source=post_page-----122a73728a88--------------------------------", "anchor_text": ""}, {"url": "https://mkukreja1.medium.com/?source=post_page-----122a73728a88--------------------------------", "anchor_text": "Manoj Kukreja"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4076fc16cb6a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-real-time-gold-prices-using-apache-kafka-pandas-matplotlib-122a73728a88&user=Manoj+Kukreja&userId=4076fc16cb6a&source=post_page-4076fc16cb6a----122a73728a88---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F122a73728a88&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-real-time-gold-prices-using-apache-kafka-pandas-matplotlib-122a73728a88&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F122a73728a88&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-real-time-gold-prices-using-apache-kafka-pandas-matplotlib-122a73728a88&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@chrisliverani?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Chris Liverani"}, {"url": "https://unsplash.com/s/photos/price-graph?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines"}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms"}, {"url": "https://forex-data-feed.swissquote.com/public-quotes/bboquotes/instrument/XAU/USD", "anchor_text": "https://forex-data-feed.swissquote.com/public-quotes/bboquotes/instrument/XAU/USD"}, {"url": "http://apache.forsale.plus/kafka/2.5.0/kafka_2.13-2.5.0.tgz", "anchor_text": "http://apache.forsale.plus/kafka/2.5.0/kafka_2.13-2.5.0.tgz"}, {"url": "https://forex-data-feed.swissquote.com/public-quotes/bboquotes/instrument/XAU/USD", "anchor_text": "https://forex-data-feed.swissquote.com/public-quotes/bboquotes/instrument/XAU/USD"}, {"url": "https://github.com/mkukreja1/blogs/tree/master/kafka/gold-rates", "anchor_text": "mkukreja1/blogsYou can't perform that action at this time. You signed in with another tab or window. You signed out in another tab or\u2026github.com"}, {"url": "http://www.datafence.com", "anchor_text": "Datafence Cloud Academy"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----122a73728a88---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----122a73728a88---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/kafka?source=post_page-----122a73728a88---------------kafka-----------------", "anchor_text": "Kafka"}, {"url": "https://medium.com/tag/aws?source=post_page-----122a73728a88---------------aws-----------------", "anchor_text": "AWS"}, {"url": "https://medium.com/tag/data-science?source=post_page-----122a73728a88---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F122a73728a88&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-real-time-gold-prices-using-apache-kafka-pandas-matplotlib-122a73728a88&user=Manoj+Kukreja&userId=4076fc16cb6a&source=-----122a73728a88---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F122a73728a88&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-real-time-gold-prices-using-apache-kafka-pandas-matplotlib-122a73728a88&user=Manoj+Kukreja&userId=4076fc16cb6a&source=-----122a73728a88---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F122a73728a88&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-real-time-gold-prices-using-apache-kafka-pandas-matplotlib-122a73728a88&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----122a73728a88--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F122a73728a88&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-real-time-gold-prices-using-apache-kafka-pandas-matplotlib-122a73728a88&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----122a73728a88---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----122a73728a88--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----122a73728a88--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----122a73728a88--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----122a73728a88--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----122a73728a88--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----122a73728a88--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----122a73728a88--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----122a73728a88--------------------------------", "anchor_text": ""}, {"url": "https://mkukreja1.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mkukreja1.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Manoj Kukreja"}, {"url": "https://mkukreja1.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "626 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4076fc16cb6a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-real-time-gold-prices-using-apache-kafka-pandas-matplotlib-122a73728a88&user=Manoj+Kukreja&userId=4076fc16cb6a&source=post_page-4076fc16cb6a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ffc0268f00243&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-real-time-gold-prices-using-apache-kafka-pandas-matplotlib-122a73728a88&newsletterV3=4076fc16cb6a&newsletterV3Id=fc0268f00243&user=Manoj+Kukreja&userId=4076fc16cb6a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}