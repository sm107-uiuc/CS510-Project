{"url": "https://towardsdatascience.com/chess2vec-map-of-chess-moves-712906da4de9", "time": 1683017719.860808, "path": "towardsdatascience.com/chess2vec-map-of-chess-moves-712906da4de9/", "webpage": {"metadata": {"title": "Chess2Vec \u2014 Map of Chess Moves. Word Vectors for Chess Moves | by Andreas St\u00f6ckl | Towards Data Science", "h1": "Chess2Vec \u2014 Map of Chess Moves", "description": "In this article, I want to analyze which moves in a game of chess are close, in the sense that they often occur in similar situations in games. If two moves often occur after or before the same\u2026"}, "outgoing_paragraph_urls": [{"url": "http://www.lichess.org", "anchor_text": "Lichess", "paragraph_index": 3}, {"url": "https://database.lichess.org/", "anchor_text": "https://database.lichess.org/", "paragraph_index": 3}, {"url": "https://de.wikipedia.org/wiki/Portable_Game_Notation", "anchor_text": "Portable Game Notation (PGN) format", "paragraph_index": 3}, {"url": "https://www.cs.kent.ac.uk/people/staff/djb/pgn-extract/help.html", "anchor_text": "pgnextract", "paragraph_index": 5}, {"url": "https://pypi.org/project/chess/", "anchor_text": "Python library \u201cChess\u201d", "paragraph_index": 8}, {"url": "https://radimrehurek.com/gensim/", "anchor_text": "Gensim", "paragraph_index": 18}, {"url": "http://www.stoeckl.ai/profil/", "anchor_text": "http://www.stoeckl.ai/profil/", "paragraph_index": 35}], "all_paragraphs": ["In this article, I want to analyze which moves in a game of chess are close, in the sense that they often occur in similar situations in games. If two moves often occur after or before the same moves, then these moves are similar in a certain sense.", "For example, which move is close to the opening with the queenside pawn \u201cd4\u201d?", "Is it possible to recognize a general structure and to represent it visually?", "The source for my analyses are files of games played on the internet chess server Lichess. At https://database.lichess.org/ you can find all the games played on this server collected by month for download in Portable Game Notation (PGN) format. These are simple text files with a defined structure, which on the one hand can be read and written by almost any chess software, and on the other hand, can be easily manipulated as text files. There are millions of games per month, which allows me to do my analyses.", "The moves in the files are given in Standard Algebraic Notation. Here an example:", "To be able to use the data for my purposes, I did some pre-processing. With the command line program \u201cpgnextract\u201d all comments and move numbers were removed and each game was written into one line of a text file. With the command:", "all games from July 2016 are pre-processed.", "An example of such a game per line:", "The games can be completely reconstructed from the lines. In the example, the Python library \u201cChess\u201d was used to execute the moves and display the board.", "Now I read the text file after pre-processing into a data frame with one game per line.", "In this example, I use more than 5.8 million games. By splitting at the spaces, I turn the strings into lists of the individual moves.", "Calculation of the number of different moves that occur in the data results:", "Now I calculate the frequency with which each move occurs and select the most common ones for later presentation.", "In this example, the top 150 moves were selected.", "In order to be able to calculate a similarity between moves, we use an idea from Natural Language Processing in which words are represented by vectors. Vectors are chosen in such a way that words that often occur in the same context in texts are considered similar and are therefore assigned vectors that have a small distance between them.", "In our example, moves in chess are considered similar if they often occur before or after the same moves in games. In the pre-processing, I have chosen to represent the games in such a way that a game corresponds to a sentence and each move corresponds to a word.", "To find these vectors, neural networks are trained to predict either a word from the surrounding words or the surrounding words from the word. A \u201cwindow\u201d of a certain length around a word is considered. In this task, the model \u201clearns\u201d to find the best possible vector representations for the words. We do the same with our chess games as a sequence of moves.", "A description of the procedure in the context of natural language can be found at:", "For the implementation of the procedure, we use the program package \u201cGensim\u201d which offers a fast implementation. A description of the use of Word2vec with Gensim can be found at:", "The games are used as \u201csets\u201d in the form of a data frame for calculation. The dimension of the vectors can be freely chosen, a sensible choice depends on the size of the vocabulary, in our case the number of different moves. Usually, several hundred dimensions are used, but since we are working with a rather small amount of data and a small vocabulary size compared to natural language, I chose 100.", "The \u201cwindow\u201d of surrounding moves I have chosen here is 3, so only the previous and the next move are used to calculate the similarity.", "The calculation in the example with 6 million games takes several minutes, depending on the hardware. With larger game databases, as can be found on Lichess, it may take considerably longer. Therefore, it makes sense to save a model for later use.", "Now we can look at the vectors for individual moves.", "Of course, we can\u2019t do much with the numbers alone. But on the basis of this representation, we can now do things like find similar moves to a given one, or display moves on a map depending on their similarity.", "Gensim offers a function to find the most similar words for a given word, i.e. move. The example shows these moves together with a measure of similarity (\u201cdistance\u201d). These are indeed moves that a chess player would expect in the vicinity of the move \u201cd4\u201d.", "Now, as announced at the beginning of the article, I would like to create a map of the most frequent chess moves, on which similar moves are shown close to each other.", "In order to be able to represent the 100-dimensional vectors in 2D, we need a method to carry out this reduction of the dimension. The TSNE method has proven to be very useful in such cases.", "A description can be found, for example, under:", "to t-SNE with Python Example\nIntroductionmedium.com", "The following auxiliary function is responsible for the display of the map and implements the procedure. The color of the dots indicates the frequency of the moves. (Red frequently \u2014 blue less frequently)", "The following graphic shows a map of the most frequent 150 moves.", "As a chess player, you can recognize a structure on this \u201cmap\u201d, for example, the groups of moves marked in the illustration are probably to be expected in similar situations in games.", "Frequent moves, such as the typical opening moves (\u201ce4\u201d, \u201cd4\u201d, \u201ce5\u201d, \u2026) and the short castling are clearly recognizable from the color code.", "A practical application of this vector representation in the creation of chess software could be in the sorting of moves in the search. If a typical expected move from the list of possible moves is searched first in the search tree, the alpha-bata method commonly used in computer chess may produce results more quickly.More about the structure of typical chess software can be found at:", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "University of Applied Sciences Upper Austria / School of Informatics, Communications and Media http://www.stoeckl.ai/profil/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F712906da4de9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchess2vec-map-of-chess-moves-712906da4de9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchess2vec-map-of-chess-moves-712906da4de9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchess2vec-map-of-chess-moves-712906da4de9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchess2vec-map-of-chess-moves-712906da4de9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----712906da4de9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----712906da4de9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://andreasstckl.medium.com/?source=post_page-----712906da4de9--------------------------------", "anchor_text": ""}, {"url": "https://andreasstckl.medium.com/?source=post_page-----712906da4de9--------------------------------", "anchor_text": "Andreas St\u00f6ckl"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F740bbeed0647&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchess2vec-map-of-chess-moves-712906da4de9&user=Andreas+St%C3%B6ckl&userId=740bbeed0647&source=post_page-740bbeed0647----712906da4de9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F712906da4de9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchess2vec-map-of-chess-moves-712906da4de9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F712906da4de9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchess2vec-map-of-chess-moves-712906da4de9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "http://www.lichess.org", "anchor_text": "Lichess"}, {"url": "https://database.lichess.org/", "anchor_text": "https://database.lichess.org/"}, {"url": "https://de.wikipedia.org/wiki/Portable_Game_Notation", "anchor_text": "Portable Game Notation (PGN) format"}, {"url": "https://lichess.org/mtajwKao", "anchor_text": "https://lichess.org/mtajwKao"}, {"url": "https://www.cs.kent.ac.uk/people/staff/djb/pgn-extract/help.html", "anchor_text": "pgnextract"}, {"url": "https://pypi.org/project/chess/", "anchor_text": "Python library \u201cChess\u201d"}, {"url": "https://medium.com/@zafaralibagh6/a-simple-word2vec-tutorial-61e64e38a6a1", "anchor_text": "A simple Word2vec tutorialIn this tutorial we are going to explain, one of the emerging and prominent word embedding technique called Word2Vec\u2026medium.com"}, {"url": "https://radimrehurek.com/gensim/", "anchor_text": "Gensim"}, {"url": "https://medium.com/analytics-vidhya/word2vector-using-gensim-e055d35f1cb4", "anchor_text": "Word2Vector using GensimIntro : The goal is to build Word2Vec Word Embedding model with the help of Gensim for NLP Tasks.medium.com"}, {"url": "https://medium.com/@violante.andre/an-introduction-to-t-sne-with-python-example-47e6ae7dc58f", "anchor_text": "An Introduction to t-SNE with Python ExampleIntroductionto t-SNE with Python Example Introductionmedium.com"}, {"url": "https://andreasstckl.medium.com/writing-a-chess-program-in-one-day-30daff4610ec", "anchor_text": "Writing a chess program in one dayThe post is about how to write a simple computer chess program within one day with only a few lines of code. The\u2026andreasstckl.medium.com"}, {"url": "https://medium.com/tag/chess?source=post_page-----712906da4de9---------------chess-----------------", "anchor_text": "Chess"}, {"url": "https://medium.com/tag/naturallanguageprocessing?source=post_page-----712906da4de9---------------naturallanguageprocessing-----------------", "anchor_text": "Naturallanguageprocessing"}, {"url": "https://medium.com/tag/data-science?source=post_page-----712906da4de9---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----712906da4de9---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/computer-chess?source=post_page-----712906da4de9---------------computer_chess-----------------", "anchor_text": "Computer Chess"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F712906da4de9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchess2vec-map-of-chess-moves-712906da4de9&user=Andreas+St%C3%B6ckl&userId=740bbeed0647&source=-----712906da4de9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F712906da4de9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchess2vec-map-of-chess-moves-712906da4de9&user=Andreas+St%C3%B6ckl&userId=740bbeed0647&source=-----712906da4de9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F712906da4de9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchess2vec-map-of-chess-moves-712906da4de9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----712906da4de9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F712906da4de9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchess2vec-map-of-chess-moves-712906da4de9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----712906da4de9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----712906da4de9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----712906da4de9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----712906da4de9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----712906da4de9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----712906da4de9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----712906da4de9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----712906da4de9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----712906da4de9--------------------------------", "anchor_text": ""}, {"url": "https://andreasstckl.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://andreasstckl.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andreas St\u00f6ckl"}, {"url": "https://andreasstckl.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "545 Followers"}, {"url": "http://www.stoeckl.ai/profil/", "anchor_text": "http://www.stoeckl.ai/profil/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F740bbeed0647&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchess2vec-map-of-chess-moves-712906da4de9&user=Andreas+St%C3%B6ckl&userId=740bbeed0647&source=post_page-740bbeed0647--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F2bb71a8d4a5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchess2vec-map-of-chess-moves-712906da4de9&newsletterV3=740bbeed0647&newsletterV3Id=2bb71a8d4a5e&user=Andreas+St%C3%B6ckl&userId=740bbeed0647&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}