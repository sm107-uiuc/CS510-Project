{"url": "https://towardsdatascience.com/a-practical-introduction-to-pandas-pivot-table-function-3e1002dcd4eb", "time": 1683014764.428812, "path": "towardsdatascience.com/a-practical-introduction-to-pandas-pivot-table-function-3e1002dcd4eb/", "webpage": {"metadata": {"title": "A Practical Introduction to Pandas pivot_table() function | by B. Chen | Towards Data Science", "h1": "A Practical Introduction to Pandas pivot_table() function", "description": "Pivot tables are one of Excel\u2019s most powerful features. A pivot table allows us to draw insights from data. Pandas provides a similar function called pivot_table(). Pandas pivot_table() is a simple\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/003-pandas-pivot-table/003-pandas-pivot-table.ipynb", "anchor_text": "Notebook", "paragraph_index": 2}, {"url": "https://github.com/BindiChen/machine-learning", "anchor_text": "Github Repo", "paragraph_index": 2}, {"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/003-pandas-pivot-table/003-pandas-pivot-table.ipynb", "anchor_text": "notebook on my Github", "paragraph_index": 23}, {"url": "https://github.com/BindiChen/machine-learning", "anchor_text": "Github", "paragraph_index": 25}], "all_paragraphs": ["Pivot tables are one of Excel\u2019s most powerful features. A pivot table allows us to draw insights from data. Pandas provides a similar function called pivot_table(). Pandas pivot_table() is a simple function but can produce very powerful analysis very quickly.", "In this article, we\u2019ll explore how to use Pandas pivot_table() with the help of examples. Examples cover the following tasks:", "Please check out the Notebook for the source code. More tutorials are available from Github Repo.", "In this tutorial, we will be working on coffee sales data. You can download it from my Github repo.", "Let\u2019s import some libraries and load data to get started.", "We created a function load_data() to load coffee_sales.csv file with column 'order_date' as date datatype.", "The simplest pivot table must have an index. In our example, let\u2019s use the region as our index. By default, it is performing the 'mean' aggregation function on all available numerical columns.", "To display multiple indexes, we can pass a list to index:", "The values to index are the keys to group by on the pivot table. You can change the order of the values to get a different visual representation, for example, we want to take a look at average values by grouping the region with the product_category.", "By default, pivot_table performs the mean aggregation function on all numerical columns and returns the result. To explicitly specify the columns we care about, use the values argument.", "To perform an aggregation other than mean , we can pass a valid string function to aggfunc , for example, let\u2019s do a sum:", "aggfunc can be a dict, and below is the dict equivalent.", "aggfunc can be a list of functions, and below is an example to display the sum and count", "If we would like to see sales broken down by product_category, the columns argument allows us to do that", "You probably notice a NaN value from the previous output. We have got that because there aren't any Tea sales in the South. If we want to replace it, we could use fill_value argument, for example, to set NaN to 0.", "If we would like to see the sum of cost as well, we can add the cost column to the values list.", "This does work, but the visual representation doesn\u2019t seem to be useful when we would like to compare the cost and sales side by side. To get a better visual representation, we can move product_category from the columns and add to the index.", "Now, the pivot table is much convientent to see the difference between sales and cost side by side.", "Another common display in pivot table is to show the total. In Panda pivot_table() , we can simply pass margins=True:", "Raw sales data is rarely aggregated by month for us. This type of data is often captured by the day. However, managers often want reports by month instead of detail by day. To generate a monthy sales report with Panda pivot_table(), here are the steps:", "(1) defines a groupby instruction using Grouper() with key='order_date' and freq='M'", "(2) defines a condition to filter the data by year, for example 2010", "(3) Use Pandas method chaining to chain the filtering and pivot_table().", "Please checkout the notebook on my Github for the source code.", "Stay tuned if you are interested in the practical aspect of machine learning.", "More can be found from my Github", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F3e1002dcd4eb&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-introduction-to-pandas-pivot-table-function-3e1002dcd4eb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-introduction-to-pandas-pivot-table-function-3e1002dcd4eb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-introduction-to-pandas-pivot-table-function-3e1002dcd4eb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-introduction-to-pandas-pivot-table-function-3e1002dcd4eb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----3e1002dcd4eb--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3e1002dcd4eb--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://bindichen.medium.com/?source=post_page-----3e1002dcd4eb--------------------------------", "anchor_text": ""}, {"url": "https://bindichen.medium.com/?source=post_page-----3e1002dcd4eb--------------------------------", "anchor_text": "B. Chen"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F563d09da62a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-introduction-to-pandas-pivot-table-function-3e1002dcd4eb&user=B.+Chen&userId=563d09da62a&source=post_page-563d09da62a----3e1002dcd4eb---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3e1002dcd4eb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-introduction-to-pandas-pivot-table-function-3e1002dcd4eb&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3e1002dcd4eb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-introduction-to-pandas-pivot-table-function-3e1002dcd4eb&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@firmbee?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "William Iven"}, {"url": "https://unsplash.com/s/photos/data-analysis?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/003-pandas-pivot-table/003-pandas-pivot-table.ipynb", "anchor_text": "Notebook"}, {"url": "https://github.com/BindiChen/machine-learning", "anchor_text": "Github Repo"}, {"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/003-pandas-pivot-table/003-pandas-pivot-table.ipynb", "anchor_text": "notebook on my Github"}, {"url": "https://towardsdatascience.com/when-to-use-pandas-transform-function-df8861aa0dcf", "anchor_text": "When to use Pandas transform() function"}, {"url": "https://medium.com/@bindiatwork/using-pandas-method-chaining-to-improve-code-readability-d8517c5626ac", "anchor_text": "Using Pandas method chaining to improve code readability"}, {"url": "https://towardsdatascience.com/working-with-datetime-in-pandas-dataframe-663f7af6c587", "anchor_text": "Working with datetime in Pandas DataFrame"}, {"url": "https://towardsdatascience.com/working-with-missing-values-in-pandas-5da45d16e74", "anchor_text": "Working with missing values in Pandas"}, {"url": "https://medium.com/@bindiatwork/all-the-pandas-read-csv-you-should-know-to-speed-up-your-data-analysis-1e16fe1039f3", "anchor_text": "Pandas read_csv() tricks you should know"}, {"url": "https://towardsdatascience.com/4-tricks-you-should-know-to-parse-date-columns-with-pandas-read-csv-27355bb2ad0e", "anchor_text": "4 tricks you should know to parse date columns with Pandas read_csv()"}, {"url": "https://github.com/BindiChen/machine-learning", "anchor_text": "Github"}, {"url": "https://medium.com/tag/pandas?source=post_page-----3e1002dcd4eb---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/python?source=post_page-----3e1002dcd4eb---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----3e1002dcd4eb---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----3e1002dcd4eb---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/pivot-tables?source=post_page-----3e1002dcd4eb---------------pivot_tables-----------------", "anchor_text": "Pivot Tables"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3e1002dcd4eb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-introduction-to-pandas-pivot-table-function-3e1002dcd4eb&user=B.+Chen&userId=563d09da62a&source=-----3e1002dcd4eb---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3e1002dcd4eb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-introduction-to-pandas-pivot-table-function-3e1002dcd4eb&user=B.+Chen&userId=563d09da62a&source=-----3e1002dcd4eb---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3e1002dcd4eb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-introduction-to-pandas-pivot-table-function-3e1002dcd4eb&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3e1002dcd4eb--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F3e1002dcd4eb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-introduction-to-pandas-pivot-table-function-3e1002dcd4eb&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----3e1002dcd4eb---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----3e1002dcd4eb--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----3e1002dcd4eb--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----3e1002dcd4eb--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----3e1002dcd4eb--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----3e1002dcd4eb--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----3e1002dcd4eb--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----3e1002dcd4eb--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----3e1002dcd4eb--------------------------------", "anchor_text": ""}, {"url": "https://bindichen.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://bindichen.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "B. Chen"}, {"url": "https://bindichen.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "4K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F563d09da62a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-introduction-to-pandas-pivot-table-function-3e1002dcd4eb&user=B.+Chen&userId=563d09da62a&source=post_page-563d09da62a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F56a3bfbb80dc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-introduction-to-pandas-pivot-table-function-3e1002dcd4eb&newsletterV3=563d09da62a&newsletterV3Id=56a3bfbb80dc&user=B.+Chen&userId=563d09da62a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}