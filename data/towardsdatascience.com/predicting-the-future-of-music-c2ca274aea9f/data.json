{"url": "https://towardsdatascience.com/predicting-the-future-of-music-c2ca274aea9f", "time": 1682996387.797937, "path": "towardsdatascience.com/predicting-the-future-of-music-c2ca274aea9f/", "webpage": {"metadata": {"title": "Predicting the Future (of Music). Using Python and linear regression to\u2026 | by Taylor Fogarty | Towards Data Science", "h1": "Predicting the Future (of Music)", "description": "Developing a model to predict a song\u2019s placement on Spotify\u2019s Top 100 List and evaluating the model in various ways"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/nadintamer/top-spotify-tracks-of-2018/", "anchor_text": "Kaggle.com", "paragraph_index": 3}], "all_paragraphs": ["Taylor Fogarty, Peter Worcester, Lata Goudel", "In the era of Big Data, we have the all-time advantage when it comes to making predictions. With websites like Kaggle.com and OurWorldinData.org, we have endless data at our fingertips- data we can use to predict things like who will win the NCAA tournament in 2020, how many avocados will be sold globally next month, or the crime rate in Chicago 10 years from now. Of course these are all still predictions, but these predictions can\u2019t be made without appropriate data.", "For instance, we spent a beautiful summer day testing to see if you can predict a song\u2019s placement on Spotify\u2019s Top 100 List based on a given set of metrics.", "From Kaggle.com, we obtained this list for 2018 which included 13 variables such as tempo, duration, acoustic-ness, and valence (positivity) for each song as well as identifiers (artist name, track id, and artist name). For our purposes, we ignored the identifiers in order to focus on the numeric qualities of the songs since we already know that Post Malone releases the greatest hits of this generation. Our main goal: find the most important factors in determining what makes one song more popular than another so we can predict how popular a new song may be. To do this, we used three different metrics for evaluating different linear models. For the sake of simplicity, we did not include higher order or interaction terms, so there very well may be more to this than the variables we used (spoiler alert: there definitely is).", "Important note: All 3 of these metrics should be used whenever you are evaluating and comparing models. They are separated into \u201cmethods\u201d for our purposes, but should be used cohesively in order to best evaluate a model\u2019s accuracy.", "Once a model has been developed, the next step is to see how well it performs. To measure the success of the model, data scientists have developed error metrics to judge just how well the predicted and actual values match up. The differences between our expected and predicted values is called the set of residuals, essentially a measure of how far the data is from the fitted regression line that we\u2019re using to predict. While we can inspect the residuals for each data point to measure the usefulness of the model this can be particularly tedious with large data sets. There are many statistics that summarize the residuals, but we will stick to Mean Squared Error, Mean Absolute Error, Root Mean Square Error, and Mean Absolute Percentage Error.", "To explain these, let\u2019s take a look at our reduced model, found with a stepwise selection procedure*:", "Popularity= loudness + liveness + tempo + key", "The Mean Square Error and Root Mean Square Error are by far the most commonly used error metric. MSE is the average of squared residuals and is often referred to as the variance of a model. The RMSE is the square root of the MSE, or the standard deviation of the model, and is most useful for comparing variation between different models since the units of RMSE are the same as the target variable. Both can be easily found using the scikit-learn library:", "The MSE and RMSE for this model are 2196.52 and 46.87 respectively. This means that the data is very spread out when you remember that our target only ranges from 1 to 100. However, if you look at the residual graph below, while the predicted popularities are much different than the actual placement on the list, there appears to be an outlier, or at least an unexpected value. We should keep in mind that MSE and RMSE can be affected heavily by outliers since the residuals are squared and look at the other metrics.", "We can also use the Mean Absolute Error which better accounts for outliers because it takes the absolute value of the residuals instead of squaring them. This can also be reported by the Mean Absolute Percentage Error, which is the percentage equivalent. MAE can also be found using scikit-learn very easily:", "Again, this value of 46.42 is high considering the data we have, so we can conclude that the model is struggling to accurately predict a song\u2019s popularity given these parameters. However, we still want to find a model to estimate a song\u2019s popularity, so we will continue on to a few different prediction equations and some different evaluation metrics.", "We can instead evaluate the model based on determination by looking at the R-squared and adjusted R-squared values. The former, often called the coefficient of determination, is the percentage of variability that is explained by the model, or how close the data fits the regression line. The goal is to have a R-squared of 1, meaning that 100% of the variation is explained by the model, but this rarely happens due to random error. Most statistical analyses look at the R-squared value to evaluate how accurate the model is, therefore it is also easily found using scikit-learn:", "Unfortunately, the R-squared for the complete model is not high at 0.164. The model only explains 16.4% of the variation which means roughly 84% of the variation is coming from somewhere else, whether it\u2019s from an 14th variable that we don\u2019t have or from the popularity of songs being random. To better understand how accurate this model is, we should also look at the adjusted R-squared which penalizes a model for including variables that don\u2019t add to the explanation of variation. Essentially, if we had a very reduced model of Popularity = tempo and decided to see if adding energy to that, Popularity = tempo + energy, and the addition of energy did not make the predictions any closer, the adjusted R-squared would decrease. This is important to look at because the unadjusted R-squared will always increase with the addition of more parameters, but it can result in the overfitting of a model. We can see this play out below where we start with a reduced model of all the parameters except loudness and duration. By adding these variables back in, the unadjusted R-squared increases minimally, but the adjusted R-squared visibly decreases.", "As you can see, the adjusted R-squared is much lower than the unadjusted, revealing that the model has included parameters that are not helping with predictions. So, let\u2019s look back at our prediction equation:", "Popularity = tempo + key + liveness + loudness", "While the unadjusted R-squared decreased to 13.3%, the adjusted R-squared increased to 9.6% which gives us confidence that this is a better model than the complete model. Sadly, it\u2019s still a poor model. We can\u2019t accurately make predictions with this model, but it\u2019s the best we have\u2026", "Now let\u2019s say we want to compare how much better this model is than the complete model. For this, we would use two metrics: the Akaike Information Criterion (AIC) and the Bayesian Information Criterion (BIC). These two evaluators are used less often that error statistics and the coefficients of determination, but they are very helpful when it comes to comparing models.", "AIC and BIC both measure the quality of a model and accounts for both overfitting and under-fitting models. The main difference between the two is the BIC favors parsimonious models, penalizing for complexity or the addition of more parameters similarly to the adjusted R-squared.", "For the complete model with a random training set taken from the data, the AIC and BIC are 94.446 and 100.373 respectively. As you can guess, the BIC is slightly higher because of the penalizing factor for more parameters. However, AIC and BIC are often reported in comparison to the best model.", "In order to compare the models, we ran each model created through 10,000 iterations of these calculations in order to find the average AIC and BIC. This was important since our sample size was so small that the values heavily depended on which observations were chosen for the training set.", "From the graph, it\u2019s clear to see that the addition of parameters increases both the AIC and BIC, but that the likely best model has 3 parameters (liveness, loudness, and tempo). This model as an AIC of 78.04, a BIC of 75.97, a R-squared of 0.105, an adjusted R-squared of 0.077, a MAE of 43.9, and a MSE of 1933.7.", "Overall, we can conclude that using these variables in the dataset, we cannot accurately predict a song\u2019s popularity. We can\u2019t even really get close. Even the best model is predicting the song at spot 100 to be up around spot 50.", "Looking at the data, there are quite obviously no trends in any of the variables. Is this surprising? No. Music popularity is a vastly complex thing and variables like the artist\u2019s reputation, lyrical meaning, genre, and the time of year a song is released can impact it\u2019s popularity beyond the randomness of humans\u2019 quick obsession with already culturally popular songs.", "*The stepwise selection procedure was done with an entry level of 0.1 and stay level of 0.1. These are higher alpha levels than most procedures, but due to the variables being weak predictors generally, a standard procedure produced a model with zero variables included which is not very helpful.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Analyst @ CapTech, Data Visualization and Data Engineering"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc2ca274aea9f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-the-future-of-music-c2ca274aea9f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-the-future-of-music-c2ca274aea9f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-the-future-of-music-c2ca274aea9f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-the-future-of-music-c2ca274aea9f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c2ca274aea9f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c2ca274aea9f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://tjfogarty.medium.com/?source=post_page-----c2ca274aea9f--------------------------------", "anchor_text": ""}, {"url": "https://tjfogarty.medium.com/?source=post_page-----c2ca274aea9f--------------------------------", "anchor_text": "Taylor Fogarty"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F41b5dbfbc409&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-the-future-of-music-c2ca274aea9f&user=Taylor+Fogarty&userId=41b5dbfbc409&source=post_page-41b5dbfbc409----c2ca274aea9f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc2ca274aea9f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-the-future-of-music-c2ca274aea9f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc2ca274aea9f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-the-future-of-music-c2ca274aea9f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://variety.com/2018/music/news/spotify-reveals-its-top-songs-of-the-summer-1202917332/", "anchor_text": "https://variety.com/2018/music/news/spotify-reveals-its-top-songs-of-the-summer-1202917332/"}, {"url": "https://www.kaggle.com/nadintamer/top-spotify-tracks-of-2018/", "anchor_text": "Kaggle.com"}, {"url": "https://medium.com/tag/spotify?source=post_page-----c2ca274aea9f---------------spotify-----------------", "anchor_text": "Spotify"}, {"url": "https://medium.com/tag/python?source=post_page-----c2ca274aea9f---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----c2ca274aea9f---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/regression-metrics?source=post_page-----c2ca274aea9f---------------regression_metrics-----------------", "anchor_text": "Regression Metrics"}, {"url": "https://medium.com/tag/regression-procedure?source=post_page-----c2ca274aea9f---------------regression_procedure-----------------", "anchor_text": "Regression Procedure"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc2ca274aea9f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-the-future-of-music-c2ca274aea9f&user=Taylor+Fogarty&userId=41b5dbfbc409&source=-----c2ca274aea9f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc2ca274aea9f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-the-future-of-music-c2ca274aea9f&user=Taylor+Fogarty&userId=41b5dbfbc409&source=-----c2ca274aea9f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc2ca274aea9f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-the-future-of-music-c2ca274aea9f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c2ca274aea9f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc2ca274aea9f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-the-future-of-music-c2ca274aea9f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c2ca274aea9f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c2ca274aea9f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c2ca274aea9f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c2ca274aea9f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c2ca274aea9f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c2ca274aea9f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c2ca274aea9f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c2ca274aea9f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c2ca274aea9f--------------------------------", "anchor_text": ""}, {"url": "https://tjfogarty.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://tjfogarty.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Taylor Fogarty"}, {"url": "https://tjfogarty.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "192 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F41b5dbfbc409&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-the-future-of-music-c2ca274aea9f&user=Taylor+Fogarty&userId=41b5dbfbc409&source=post_page-41b5dbfbc409--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fc48f254e9fc0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-the-future-of-music-c2ca274aea9f&newsletterV3=41b5dbfbc409&newsletterV3Id=c48f254e9fc0&user=Taylor+Fogarty&userId=41b5dbfbc409&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}