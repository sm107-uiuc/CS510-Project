{"url": "https://towardsdatascience.com/garch-google-getting-along-good-gg-aaaefff2e498", "time": 1683010793.985392, "path": "towardsdatascience.com/garch-google-getting-along-good-gg-aaaefff2e498/", "webpage": {"metadata": {"title": "GARCH & Google getting along good. GG! | by Swarnim Pandey | Towards Data Science", "h1": "GARCH & Google getting along good. GG!", "description": "Generalized Autoregressive Conditional Heteroskedasticity, or GARCH, is a method that explicitly models the change in variance over time in a time series. In this article, we will be focusing on\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Autoregressive%E2%80%93moving-average_model", "anchor_text": "refer", "paragraph_index": 1}, {"url": "https://machinelearningmastery.com/autoregression-models-time-series-forecasting-python/", "anchor_text": "AR(p)", "paragraph_index": 2}, {"url": "https://otexts.com/fpp2/MA.html", "anchor_text": "MA(q)", "paragraph_index": 2}, {"url": "https://tradingqna.com/t/why-stock-returns-are-calculated-in-log-scale/806", "anchor_text": "here", "paragraph_index": 6}, {"url": "https://www.machinelearningplus.com/time-series/augmented-dickey-fuller-test/#:~:text=Augmented%20Dickey%20Fuller%20test%20(ADF%20Test)%20is%20a%20common%20statistical,the%20stationary%20of%20a%20series.", "anchor_text": "Augmented Dicky Fuller", "paragraph_index": 8}, {"url": "https://www.itl.nist.gov/div898/handbook/pmc/section4/pmc442.htm#:~:text=A%20common%20assumption%20in%20many,do%20not%20change%20over%20time.&text=The%20differenced%20data%20will%20contain%20one%20less%20point%20than%20the%20original%20data.", "anchor_text": "why?", "paragraph_index": 9}, {"url": "https://www.r-bloggers.com/formal-ways-to-compare-forecasting-models-rolling-windows/", "anchor_text": "rolling window forecast", "paragraph_index": 13}, {"url": "https://en.wikipedia.org/wiki/White_noise", "anchor_text": "white noise", "paragraph_index": 16}, {"url": "https://www.statisticshowto.com/ljung-box-test/", "anchor_text": "Ljung-Box", "paragraph_index": 19}, {"url": "https://github.com/swarn6/GARCH/blob/master/Untitled4.ipynb", "anchor_text": "GitHub", "paragraph_index": 24}], "all_paragraphs": ["Generalized Autoregressive Conditional Heteroskedasticity, or GARCH, is a method that explicitly models the change in variance over time in a time series. In this article, we will be focusing on GARCH/ARCH models and their significance, especially in finance-related fields. Here, we will be modeling and forecasting the volatility of Google stock price returns followed by some inferences related to how \u2018jumpy\u2019 the return values are and will be for the upcoming few days. In application, if a stock\u2019s returns are less volatile, we are likely to invest in it with lesser risk than if the same models to be a more volatile or varied one for a given period.", "The main motivation for the study of conditional heteroskedasticity is related to the volatility of asset returns in finance. The significance of volatility is evident by its wide variety of applications such as Options Pricing, Risk Management (Value at Risk calculation), Volatility Index (VIX) trading. Hence, if we can effectively predict volatility/variance, we could create more sophisticated tools to strategize the trade involved. Here\u2019s a quick introduction to the terms involved overlooking the mathematical equations here. For more, refer.", "The AR or auto-regressive term highlights the linear combination of variance with itself associated with the prior elements in the series. The AR lag order, p defines the order of lagged version used to regress the variance on, in a given time series. In other words ARCH(p) process follows an AR(p) process. It is relevant to ask if we can apply the MA(q) or moving average model to model our variance along with the AR process and this is the motivation for GARCH or Generalised ARCH process which tries to take into account, the moving average component along with the autoregressive one. Hence, a GARCH(2,2) process is composed of both AR(2) and MA(2) processes. Whereas a simple ARCH process does not take into account the moving average term; ARCH(p) model.", "Let\u2019s quickly have a quick look at what we mean by heteroskedasticity first and then on the conditional part. When in a collection of variables we see a fairly increasing or decreasing variance grouped over a certain region (or subset), say in a period, which typically differs from the remaining variables in the set and we can see a \u2018clustering\u2019 of changing variance, then this form of regular variability is mathematically referred to as heteroskedasticity. This varying form of volatility in finance can be triggered due to various reasons which lead to serially correlated heteroskedasticity, \u2018conditional\u2019 on the periods of changing variance. In other words, an increase in variance is correlated to a further increase in variance.", "Now that we have a rough idea as to what we are proceeding with, let\u2019s just get started with the implementation, and make some interesting predictions by forecasting values over time.", "The yfinance package in Python enables the easy fetching of stock data straight from yahoo finance. We have to provide the correct ticker symbols like \u2018GOOG\u2019 for Google or \u2018MSFT\u2019 for Microsoft to create the Ticker wrapper. Then, we use the .history() method of the wrapper to get the data in the form of a data frame (df_goog, here) by specifying the start and end dates for the data. We fetch the data from the year 2015 till the latest date available.", "We calculate the log returns, (know here why log-returns are better than normal returns) by shifting our data frame by one period and then using NumPy\u2019s .log() method. A column for the same is added to our data frame.", "Next, we visualize our asset returns by plotting data for each day since 2015.", "To check if the returns are stationary or not we apply the Augmented Dicky Fuller test; a statistical test with the null hypothesis stating that the series is non-stationary due to the trend component. From statsmodels.tsa.stattools we import adfuller API as adf. The p-value of the test is the second element of the test results.", "Hence, we may conclude that our returns are fairly stationary and can be modeled. It is necessary to ensure stationarity because such models like ARMA, ARIMA, GARCH, etc. can be applied to a stationary process. (Know why?) Also, no seasonality could be seen intuitively.", "Determining the order and fitting the GARCH model", "By plotting partial autocorrelation of the square of the returns on several lags we get the idea of the order p and q of the GARCH process. The plot_pacf of statsmodels.graphics.tsaplots is used to achieve this purpose.", "We observe that the plot kind of shuts down after lag 2 indicating it\u2019s significance. This suggests that we could try for a GARCH(2,2) process. So now, we fit the model and for this, we make use of the arch_model function of the arch API. The distribution function for the standardized residuals is assumed to be that of a student\u2019s t.", "For training our model we use the technique of a fixed rolling window forecast (a type of backtesting) where the window size is fixed. The idea is to forecast the values over a certain horizon and then move the window to include those forecasted values when the actual (true) values over that horizon are known to us, to train our model better and again forecast over the next horizon. This adapts forecast to new observations and avoids look-back bias. It is also less subject to over-fitting. The process is repeated over the size of the window taken.", "Here, we take a window size of 5 times the number of trade days in a year (i.e. 252) and make use of historical data to train our model. A plot of the returns along with the forecasted values is generated. After fitting a model using the arch_model function, we use the .forecast() method to predict the immediate next value by setting the parameter horizon = 1. To be precise, a 1-day rolling window forecast is performed. Keep in mind that we need to find the standard deviation which is why we take the square root of the forecasted variance.", "We can see that our model is able to capture the changing variance over time. It is necessary to know that the orange plot indicates how jumpy our stock returns are. Wherever the returns deviate from the mean, the volatility plot also deviates to indicate the period of changing variance. Long orange spikes indicate periods of high volatility whereas the shorter ones suggest the less volatile periods of the asset returns. Visually, our model seems to work fairly but it is good practice to validate it with the help of other statistical tests.", "Mathematically, a standard residual is a residual divided by its standard deviation. It is a measure of the strength of the difference between observed and expected values. The standard residual should follow a white noise process; a process where variables are serially uncorrelated (independent of each other at any lag), have a zero mean and a finite variance. We will be using three validation techniques here:", "a) plot the standardized residuals to see intuitively if the residuals follow a white noise process. Here, the standardized residuals, std_resid is calculated by using .resid and .conditional_volatility attributes of our model object as shown in the code below.", "b) plot an auto correlogram to verify that the standard residuals are not significantly correlated at any lags. No significant lag other than the lag zero can be seen in the plot.", "c) perform a Ljung-Box test. The motivation of this test is to not just check the randomness at distinct lags like in the case b, instead, it gives us the idea of the overall randomness of the variables based on the specified number of lags. Null hypothesis: data is independently distributed. The p-value at each lag is greater than 5% suggesting that we fail to reject the null hypothesis.", "In all three cases above, it can be fairly concluded that since our model is producing standardized residuals that signify a white noise process, the variables are random hence not correlated with each other, the model which we have fit and trained is working considerably.", "Finally, its time to make some predictions! We will be using our model to get a volatility forecast for the next seven days. To achieve this, we specify the horizon parameter to be equal to 7. It is important to note here, that these forecasts gradually tend to move towards the long term mean.", "The prediction suggests a slight increase and then an eventual decrease in the volatility changes. So are the returns highly or less volatile? Is it a very risky time to invest in Google? How confident you could be?", "Note: You can go for the higher-order models such as an GARCH(3, 0) or a GARCH(3,3) models but keep in mind the omega, alpha, and beta parameters in the model summary should come out to be significant in value. Also do not forget to check and validate the corresponding standard residuals.", "Find the jupyter notebook on my GitHub.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Faaaefff2e498&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgarch-google-getting-along-good-gg-aaaefff2e498&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgarch-google-getting-along-good-gg-aaaefff2e498&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgarch-google-getting-along-good-gg-aaaefff2e498&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgarch-google-getting-along-good-gg-aaaefff2e498&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----aaaefff2e498--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----aaaefff2e498--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@swarnim.pandey6?source=post_page-----aaaefff2e498--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@swarnim.pandey6?source=post_page-----aaaefff2e498--------------------------------", "anchor_text": "Swarnim Pandey"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F881b8a60b1c0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgarch-google-getting-along-good-gg-aaaefff2e498&user=Swarnim+Pandey&userId=881b8a60b1c0&source=post_page-881b8a60b1c0----aaaefff2e498---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Faaaefff2e498&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgarch-google-getting-along-good-gg-aaaefff2e498&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Faaaefff2e498&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgarch-google-getting-along-good-gg-aaaefff2e498&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@angelacompagnone?utm_source=medium&utm_medium=referral", "anchor_text": "Angela Compagnone"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://en.wikipedia.org/wiki/Autoregressive%E2%80%93moving-average_model", "anchor_text": "refer"}, {"url": "https://machinelearningmastery.com/autoregression-models-time-series-forecasting-python/", "anchor_text": "AR(p)"}, {"url": "https://otexts.com/fpp2/MA.html", "anchor_text": "MA(q)"}, {"url": "https://in.finance.yahoo.com/", "anchor_text": "Yahoo finance"}, {"url": "https://tradingqna.com/t/why-stock-returns-are-calculated-in-log-scale/806", "anchor_text": "here"}, {"url": "https://www.machinelearningplus.com/time-series/augmented-dickey-fuller-test/#:~:text=Augmented%20Dickey%20Fuller%20test%20(ADF%20Test)%20is%20a%20common%20statistical,the%20stationary%20of%20a%20series.", "anchor_text": "Augmented Dicky Fuller"}, {"url": "https://www.itl.nist.gov/div898/handbook/pmc/section4/pmc442.htm#:~:text=A%20common%20assumption%20in%20many,do%20not%20change%20over%20time.&text=The%20differenced%20data%20will%20contain%20one%20less%20point%20than%20the%20original%20data.", "anchor_text": "why?"}, {"url": "https://www.r-bloggers.com/formal-ways-to-compare-forecasting-models-rolling-windows/", "anchor_text": "rolling window forecast"}, {"url": "https://eng.uber.com/omphalos/", "anchor_text": "Image source"}, {"url": "https://en.wikipedia.org/wiki/White_noise", "anchor_text": "white noise"}, {"url": "https://www.statisticshowto.com/ljung-box-test/", "anchor_text": "Ljung-Box"}, {"url": "https://github.com/swarn6/GARCH/blob/master/Untitled4.ipynb", "anchor_text": "GitHub"}, {"url": "https://www.quantstart.com/articles/Generalised-Autoregressive-Conditional-Heteroskedasticity-GARCH-p-q-Models-for-Time-Series-Analysis/", "anchor_text": "Generalised Autoregressive Conditional Heteroskedasticity GARCH(p, q) Models for Time Series\u2026In this article we are going to consider the famous Generalised Autoregressive Conditional Heteroskedasticity model of\u2026www.quantstart.com"}, {"url": "https://www.linkedin.com/in/swarn6/", "anchor_text": "Swarnim Pandey \u2014 SRM University \u2014 Lucknow, Uttar Pradesh, India | LinkedInView Swarnim Pandey\u2019s profile on LinkedIn, the world\u2019s largest professional community. Swarnim has 2 jobs listed on\u2026www.linkedin.com"}, {"url": "https://medium.com/tag/time-series-forecasting?source=post_page-----aaaefff2e498---------------time_series_forecasting-----------------", "anchor_text": "Time Series Forecasting"}, {"url": "https://medium.com/tag/stocks?source=post_page-----aaaefff2e498---------------stocks-----------------", "anchor_text": "Stocks"}, {"url": "https://medium.com/tag/jupyter-notebook?source=post_page-----aaaefff2e498---------------jupyter_notebook-----------------", "anchor_text": "Jupyter Notebook"}, {"url": "https://medium.com/tag/google?source=post_page-----aaaefff2e498---------------google-----------------", "anchor_text": "Google"}, {"url": "https://medium.com/tag/data-science?source=post_page-----aaaefff2e498---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Faaaefff2e498&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgarch-google-getting-along-good-gg-aaaefff2e498&user=Swarnim+Pandey&userId=881b8a60b1c0&source=-----aaaefff2e498---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Faaaefff2e498&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgarch-google-getting-along-good-gg-aaaefff2e498&user=Swarnim+Pandey&userId=881b8a60b1c0&source=-----aaaefff2e498---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Faaaefff2e498&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgarch-google-getting-along-good-gg-aaaefff2e498&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----aaaefff2e498--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Faaaefff2e498&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgarch-google-getting-along-good-gg-aaaefff2e498&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----aaaefff2e498---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----aaaefff2e498--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----aaaefff2e498--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----aaaefff2e498--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----aaaefff2e498--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----aaaefff2e498--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----aaaefff2e498--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----aaaefff2e498--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----aaaefff2e498--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@swarnim.pandey6?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@swarnim.pandey6?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Swarnim Pandey"}, {"url": "https://medium.com/@swarnim.pandey6/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "13 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F881b8a60b1c0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgarch-google-getting-along-good-gg-aaaefff2e498&user=Swarnim+Pandey&userId=881b8a60b1c0&source=post_page-881b8a60b1c0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F881b8a60b1c0%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgarch-google-getting-along-good-gg-aaaefff2e498&user=Swarnim+Pandey&userId=881b8a60b1c0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}