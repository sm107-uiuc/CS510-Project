{"url": "https://towardsdatascience.com/making-sankey-diagrams-in-googlevis-f9cabf433ffc", "time": 1683000164.024958, "path": "towardsdatascience.com/making-sankey-diagrams-in-googlevis-f9cabf433ffc/", "webpage": {"metadata": {"title": "Making Sankey Diagrams in googleVis | by Anthony B. Masters | Towards Data Science", "h1": "Making Sankey Diagrams in googleVis", "description": "I used an R package to create a Sankey diagram, showing the flow from recalled 2016 EU referendum vote to current voting intention in a General Election. The data tables from polls by British Polling\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.opinium.co.uk/political-polling-8th-august-2019/", "anchor_text": "Opinium poll of 2,003 UK adults", "paragraph_index": 1}, {"url": "https://cran.r-project.org/web/packages/googleVis/googleVis.pdf", "anchor_text": "The googleVis package", "paragraph_index": 5}, {"url": "https://developers.google.com/chart/interactive/docs/gallery/sankey#data-format", "anchor_text": "somewhat complicated structure for its options", "paragraph_index": 5}, {"url": "https://jenthompson.me/2017/01/27/sankey-googlevis/", "anchor_text": "Jen Thompson also provides a guide", "paragraph_index": 9}, {"url": "https://docs.google.com/spreadsheets/d/e/2PACX-1vTKa00ft1lPW9ScbvBkUf0OOcpNNXh9SQCTq2R_YBWu6jIWIAgOoBfErC8kmNnzZxURa2dalDGaDAtl/pubhtml", "anchor_text": "downloaded", "paragraph_index": 9}, {"url": "https://rpubs.com/anthonybmasters/opinium-sankey", "anchor_text": "my RPubs article", "paragraph_index": 9}], "all_paragraphs": ["I used an R package to create a Sankey diagram, showing the flow from recalled 2016 EU referendum vote to current voting intention in a General Election.", "The data tables from polls by British Polling Council members show the answers to questions (such as vote intention) by different segments. Using an Opinium poll of 2,003 UK adults, conducted via an internet panel between 8\u20139th August 2019. This poll was sponsored by The Observer.", "These data tables provide exact count of respondents:", "We can then create tables, showing Remain and Leave vote recall by the major parties (Conservatives, Labour, Liberal Democrats, Brexit Party) and other parties.", "The prepared data table shows source and target variables, and their values:", "The googleVis package allows R to interface with Google Chart tools. The function for creating a Sankey diagram is called gvisSankey, and has a somewhat complicated structure for its options.", "To input the correct colours for the nodes, it is ordered by, in their original order in the table: the first source, the targets, and the subsequent sources. This was not immediately clear, and required some trial and error.", "The diagram shows the flow from 2016 recalled EU referendum vote, to current voting intention in a General Election. These are the central estimates from the Opinium poll:", "Creating effective data visualisations takes time. There are limitations in using googleVis, such as the inability to set a title for the plot.", "Jen Thompson also provides a guide for using gvisSankey. The Google Sheet file may be downloaded, and my RPubs article is available to read.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "This blog looks at the use of statistics in Britain and beyond. It is written by RSS Statistical Ambassador and Chartered Statistician @anthonybmasters."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff9cabf433ffc&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-sankey-diagrams-in-googlevis-f9cabf433ffc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-sankey-diagrams-in-googlevis-f9cabf433ffc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-sankey-diagrams-in-googlevis-f9cabf433ffc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-sankey-diagrams-in-googlevis-f9cabf433ffc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f9cabf433ffc--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f9cabf433ffc--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://anthonybmasters.medium.com/?source=post_page-----f9cabf433ffc--------------------------------", "anchor_text": ""}, {"url": "https://anthonybmasters.medium.com/?source=post_page-----f9cabf433ffc--------------------------------", "anchor_text": "Anthony B. Masters"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F87baf6ff44bb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-sankey-diagrams-in-googlevis-f9cabf433ffc&user=Anthony+B.+Masters&userId=87baf6ff44bb&source=post_page-87baf6ff44bb----f9cabf433ffc---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff9cabf433ffc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-sankey-diagrams-in-googlevis-f9cabf433ffc&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff9cabf433ffc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-sankey-diagrams-in-googlevis-f9cabf433ffc&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.opinium.co.uk/political-polling-8th-august-2019/", "anchor_text": "Opinium poll of 2,003 UK adults"}, {"url": "https://www.opinium.co.uk/political-polling-8th-august-2019/", "anchor_text": "Opinium/Observer"}, {"url": "https://cran.r-project.org/web/packages/googleVis/googleVis.pdf", "anchor_text": "The googleVis package"}, {"url": "https://developers.google.com/chart/interactive/docs/gallery/sankey#data-format", "anchor_text": "somewhat complicated structure for its options"}, {"url": "http://rpubs.com/anthonybmasters/518971", "anchor_text": "R/googleVis"}, {"url": "https://jenthompson.me/2017/01/27/sankey-googlevis/", "anchor_text": "Jen Thompson also provides a guide"}, {"url": "https://docs.google.com/spreadsheets/d/e/2PACX-1vTKa00ft1lPW9ScbvBkUf0OOcpNNXh9SQCTq2R_YBWu6jIWIAgOoBfErC8kmNnzZxURa2dalDGaDAtl/pubhtml", "anchor_text": "downloaded"}, {"url": "https://rpubs.com/anthonybmasters/opinium-sankey", "anchor_text": "my RPubs article"}, {"url": "https://medium.com/tag/brexit?source=post_page-----f9cabf433ffc---------------brexit-----------------", "anchor_text": "Brexit"}, {"url": "https://medium.com/tag/data-visualisation?source=post_page-----f9cabf433ffc---------------data_visualisation-----------------", "anchor_text": "Data Visualisation"}, {"url": "https://medium.com/tag/rstats?source=post_page-----f9cabf433ffc---------------rstats-----------------", "anchor_text": "Rstats"}, {"url": "https://medium.com/tag/statistics?source=post_page-----f9cabf433ffc---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/polling?source=post_page-----f9cabf433ffc---------------polling-----------------", "anchor_text": "Polling"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff9cabf433ffc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-sankey-diagrams-in-googlevis-f9cabf433ffc&user=Anthony+B.+Masters&userId=87baf6ff44bb&source=-----f9cabf433ffc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff9cabf433ffc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-sankey-diagrams-in-googlevis-f9cabf433ffc&user=Anthony+B.+Masters&userId=87baf6ff44bb&source=-----f9cabf433ffc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff9cabf433ffc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-sankey-diagrams-in-googlevis-f9cabf433ffc&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f9cabf433ffc--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff9cabf433ffc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-sankey-diagrams-in-googlevis-f9cabf433ffc&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f9cabf433ffc---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f9cabf433ffc--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f9cabf433ffc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f9cabf433ffc--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f9cabf433ffc--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f9cabf433ffc--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f9cabf433ffc--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f9cabf433ffc--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f9cabf433ffc--------------------------------", "anchor_text": ""}, {"url": "https://anthonybmasters.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://anthonybmasters.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Anthony B. Masters"}, {"url": "https://anthonybmasters.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "433 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F87baf6ff44bb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-sankey-diagrams-in-googlevis-f9cabf433ffc&user=Anthony+B.+Masters&userId=87baf6ff44bb&source=post_page-87baf6ff44bb--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F26c7872c404f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-sankey-diagrams-in-googlevis-f9cabf433ffc&newsletterV3=87baf6ff44bb&newsletterV3Id=26c7872c404f&user=Anthony+B.+Masters&userId=87baf6ff44bb&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}