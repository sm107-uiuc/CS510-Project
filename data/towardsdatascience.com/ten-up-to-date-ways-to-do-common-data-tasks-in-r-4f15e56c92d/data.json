{"url": "https://towardsdatascience.com/ten-up-to-date-ways-to-do-common-data-tasks-in-r-4f15e56c92d", "time": 1683013220.820808, "path": "towardsdatascience.com/ten-up-to-date-ways-to-do-common-data-tasks-in-r-4f15e56c92d/", "webpage": {"metadata": {"title": "Ten Up-To-Date Ways to do Common Data Tasks in R | by Keith McNulty | Towards Data Science", "h1": "Ten Up-To-Date Ways to do Common Data Tasks in R", "description": "Whether or not you are a fan of the tidyverse, there is no doubt that this collection of R packages offers some neat and attractive ways of wrangling data that is often very intuitive to users. In\u2026"}, "outgoing_paragraph_urls": [{"url": "https://cran.r-project.org/web/packages/tidyselect/tidyselect.pdf", "anchor_text": "here", "paragraph_index": 6}, {"url": "https://en.wikipedia.org/wiki/Simpson%27s_paradox", "anchor_text": "Simpson\u2019s Paradox", "paragraph_index": 21}, {"url": "https://www.linkedin.com/in/keith-mcnulty/", "anchor_text": "LinkedIn", "paragraph_index": 22}, {"url": "https://twitter.com/dr_keithmcnulty", "anchor_text": "Twitter", "paragraph_index": 22}, {"url": "http://drkeithmcnulty.com/", "anchor_text": "drkeithmcnulty.com", "paragraph_index": 22}, {"url": "http://keithmcnulty.org", "anchor_text": "keithmcnulty.org", "paragraph_index": 24}], "all_paragraphs": ["Whether or not you are a fan of the tidyverse, there is no doubt that this collection of R packages offers some neat and attractive ways of wrangling data that is often very intuitive to users. In the earlier versions of tidyverse packages, some elements of user control of output were sacrificed in favor of simpler functions which could be picked up and easily used by newbies. In recent updates to dplyr and tidyr, there has been significant progress to restoring some of this control.", "This means that there are new functions and methods available in the tidyverse that you may not be aware of. They allow you to better transform your data how you want, and to perform operations more flexibly. They also provide new and alternative ways to perform tasks like nesting, modeling or graphing in a way where your code is more readable and understandable to many. In fact, I am convinced that users are only just scratching the surface of what can be done with the latest updates to this important set of packages.", "It\u2019s incumbent on any programmer to stay up to date with methods. Here are ten examples of new approaches to common data tasks that are offered by the latest tidyverse updates. For these examples, I will use the new Palmer Penguins dataset, which is an alternative to the controversial Iris dataset which is known to have been used by Fischer in his work around eugenics. As we will see, it\u2019s actually a better all round dataset for teaching and illustrating data wrangling, and I\u2019d encourage you to use and explore it.", "First let\u2019s load our tidyverse packages and the Palmer Penguins dataset and take a quick look at it. I\u2019d encourage you to install the latest versions of these packages before you try to replicate the work in this article.", "We can see that the dataset presents several measurements of various anatomical features of penguins of different species, sexes and native locations, as well as the year in which the measures were taken.", "tidyselect helper functions are now built in to allow you to save time by selecting columns using dplyr::select()based on common conditions. In this case, if I want to reduce the dataset to just bill measurements I can use this (noting that all measurement columns contain an underscore):", "A full set of tidyselect helper functions can be found in the documentation here.", "dplyr::relocate() allows a new way to reorder specific columns or sets of columns. For example, if I want to make sure that all of my measurement columns are at the end of the dataset, I can use this (noting that my last column is year):", "Similar to .after you can also use .before as an argument here.", "You\u2019ll note in the penguins dataset that there are no unique identifiers for each penguin. This can be problematic when you have multiple penguins of the same species, island, sex and year in the dataset. To address this and prepare for later examples, let\u2019s add a unique identifier using dplyr::mutate(), and here we can illustrate how mutate() now allows you to position your new column in a similar way to relocate():", "The penguins dataset is clearly in a wide form \u2014 it gives multiple observations across the columns. For many reasons we may want to transform data from wide to long. In long data, each observation has its own row. The older function gather() in tidyr was popular for this sort of task but its new version pivot_longer() is even more powerful. In this case we have different body parts, measures and units inside these column names, but we can break them out very simply like this:", "It\u2019s just as easy to move back from long to wide. pivot_wider() gives much more flexibility compared to the older spread():", "dplyr can how apply multiple summary functions to grouped data using the across adverb, helping you be more efficient. If we wanted to summarise all bill and flipper measurements in our penguins we would do this:", "You\u2019ll see above how the multiple columns in penguin_stats have been given default names which are not that intuitive. If you name your summary functions, you can then use the .names argument to control precisely how you want these columns named. This uses glue notation. For example, here I want to construct the new column names by taking the existing column names, removing any underscores or \u2018mm\u2019 metrics, and pasting to the summary function name using an underscore:", "The output of summarise() can now be literally anything, because dplyr now allows different column types. You can generate summary vectors, dataframes or other objects like models or graphs.", "If you wanted to run a model for each species you could do it like this:", "It\u2019s not usually that useful to keep model objects in a dataframe, but you could use other tidy-oriented packages to summarise the statistics of the models and return them all as nicely integrated dataframes:", "Often we have to work with subsets of our data, and it can be useful to group data by subset so that we can apply a common function or operation across all subsets of the data. For example, maybe we want to take a look at our different species of penguins and make some different graphs of them. Grouping based on subsets could previously be achieved by the following somewhat awkward combination of tidyverse functions.", "The new function nest_by() provides a more intuitive and faster way to do the same thing:", "Note that the nested data will be stored in a column called data unless you specify otherwise using a .key argument.", "Armed with nest_by() and the fact that we can summarise or mutate virtually any type of object now, this allows us to generate graphs across subsets and store them in a dataframe for later use. Let\u2019s scatter plot bill length and depth for our three penguin species:", "Now we can easily display the different scatter plots to show, for example, that our penguins exemplify Simpson\u2019s Paradox:", "Originally I was a Pure Mathematician, then I became a Psychometrician and a Data Scientist. I am passionate about applying the rigor of all those disciplines to complex people questions. I\u2019m also a coding geek and a massive fan of Japanese RPGs. Find me on LinkedIn or on Twitter. Also check out my blog on drkeithmcnulty.com.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Expert and Author in Applied Mathematics, Data Science, Statistics. Also writes History, Science, Culture. Find me on Twitter or keithmcnulty.org"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4f15e56c92d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ften-up-to-date-ways-to-do-common-data-tasks-in-r-4f15e56c92d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ften-up-to-date-ways-to-do-common-data-tasks-in-r-4f15e56c92d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ften-up-to-date-ways-to-do-common-data-tasks-in-r-4f15e56c92d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ften-up-to-date-ways-to-do-common-data-tasks-in-r-4f15e56c92d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4f15e56c92d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4f15e56c92d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://keith-mcnulty.medium.com/?source=post_page-----4f15e56c92d--------------------------------", "anchor_text": ""}, {"url": "https://keith-mcnulty.medium.com/?source=post_page-----4f15e56c92d--------------------------------", "anchor_text": "Keith McNulty"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa859aab532a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ften-up-to-date-ways-to-do-common-data-tasks-in-r-4f15e56c92d&user=Keith+McNulty&userId=a859aab532a0&source=post_page-a859aab532a0----4f15e56c92d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4f15e56c92d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ften-up-to-date-ways-to-do-common-data-tasks-in-r-4f15e56c92d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4f15e56c92d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ften-up-to-date-ways-to-do-common-data-tasks-in-r-4f15e56c92d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://cran.r-project.org/web/packages/tidyselect/tidyselect.pdf", "anchor_text": "here"}, {"url": "https://en.wikipedia.org/wiki/Simpson%27s_paradox", "anchor_text": "Simpson\u2019s Paradox"}, {"url": "https://www.linkedin.com/in/keith-mcnulty/", "anchor_text": "LinkedIn"}, {"url": "https://twitter.com/dr_keithmcnulty", "anchor_text": "Twitter"}, {"url": "http://drkeithmcnulty.com/", "anchor_text": "drkeithmcnulty.com"}, {"url": "https://twitter.com/allison_horst", "anchor_text": "@allison_horst"}, {"url": "https://medium.com/tag/data-science?source=post_page-----4f15e56c92d---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/learning?source=post_page-----4f15e56c92d---------------learning-----------------", "anchor_text": "Learning"}, {"url": "https://medium.com/tag/programming?source=post_page-----4f15e56c92d---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/analytics?source=post_page-----4f15e56c92d---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/tag/development?source=post_page-----4f15e56c92d---------------development-----------------", "anchor_text": "Development"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4f15e56c92d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ften-up-to-date-ways-to-do-common-data-tasks-in-r-4f15e56c92d&user=Keith+McNulty&userId=a859aab532a0&source=-----4f15e56c92d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4f15e56c92d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ften-up-to-date-ways-to-do-common-data-tasks-in-r-4f15e56c92d&user=Keith+McNulty&userId=a859aab532a0&source=-----4f15e56c92d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4f15e56c92d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ften-up-to-date-ways-to-do-common-data-tasks-in-r-4f15e56c92d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4f15e56c92d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4f15e56c92d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ften-up-to-date-ways-to-do-common-data-tasks-in-r-4f15e56c92d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4f15e56c92d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4f15e56c92d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4f15e56c92d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4f15e56c92d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4f15e56c92d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4f15e56c92d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4f15e56c92d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4f15e56c92d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4f15e56c92d--------------------------------", "anchor_text": ""}, {"url": "https://keith-mcnulty.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://keith-mcnulty.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Keith McNulty"}, {"url": "https://keith-mcnulty.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "11K Followers"}, {"url": "http://keithmcnulty.org", "anchor_text": "keithmcnulty.org"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa859aab532a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ften-up-to-date-ways-to-do-common-data-tasks-in-r-4f15e56c92d&user=Keith+McNulty&userId=a859aab532a0&source=post_page-a859aab532a0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7991b3dbcee9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ften-up-to-date-ways-to-do-common-data-tasks-in-r-4f15e56c92d&newsletterV3=a859aab532a0&newsletterV3Id=7991b3dbcee9&user=Keith+McNulty&userId=a859aab532a0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://peopleanalytics-regression-book.org/", "anchor_text": "Handbook of Regression Modeling in People Analytics2021"}, {"url": "https://ona-book.org", "anchor_text": "Handbook of Graphs and Networks in People Analytics2022"}, {"url": "https://medium.com/@keith-mcnulty/books?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "See all (2)"}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}