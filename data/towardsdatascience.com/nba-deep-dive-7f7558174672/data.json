{"url": "https://towardsdatascience.com/nba-deep-dive-7f7558174672", "time": 1683009463.1923358, "path": "towardsdatascience.com/nba-deep-dive-7f7558174672/", "webpage": {"metadata": {"title": "NBA Deep Dive. Steph Curry is paid too much and James\u2026 | by Max Brenner | Towards Data Science", "h1": "NBA Deep Dive", "description": "The NBA has tons of stats for stat-heads and machine learning lovers to dive into. There are a bunch of websites that have a wide range of NBA data such as nba.com and basketball-reference.com\u2026"}, "outgoing_paragraph_urls": [{"url": "https://stats.nba.com/leaders/", "anchor_text": "nba.com", "paragraph_index": 0}, {"url": "https://www.basketball-reference.com/", "anchor_text": "basketball-reference.com", "paragraph_index": 0}, {"url": "https://www.tableau.com/", "anchor_text": "Tableau", "paragraph_index": 1}, {"url": "https://www.w3schools.com/sql/", "anchor_text": "SQL", "paragraph_index": 1}, {"url": "https://www.basketball-reference.com/about/glossary.html", "anchor_text": "glossary", "paragraph_index": 3}, {"url": "https://stats.nba.com/teams/advanced/?sort=W&dir=-1", "anchor_text": "one", "paragraph_index": 3}, {"url": "https://github.com/maxbren/nba-deep-dive", "anchor_text": "This repo", "paragraph_index": 3}, {"url": "https://en.wikipedia.org/wiki/Value_over_replacement_player", "anchor_text": "VORP stands for Value Over Replacement Player", "paragraph_index": 6}, {"url": "https://www.sports-reference.com/cbb/about/ws.html", "anchor_text": "Offensive Win Share (OWS) and Defensive Win Share (DWS)", "paragraph_index": 8}, {"url": "https://fivethirtyeight.com/features/draymond-green-is-a-star-but-only-in-the-right-system/", "anchor_text": "tricky player to analyze", "paragraph_index": 15}, {"url": "https://bleacherreport.com/articles/934839-nba-home-court-advantage-why-it-exists-but-isnt-as-important-as-you-think", "anchor_text": "Home-court advantage does exist but isn\u2019t as important as some may think.", "paragraph_index": 19}, {"url": "https://en.wikipedia.org/wiki/Pearson_correlation_coefficient", "anchor_text": "Pearson correlation", "paragraph_index": 22}, {"url": "https://projects.fivethirtyeight.com/2020-nba-predictions/", "anchor_text": "RAPTOR", "paragraph_index": 26}, {"url": "https://www.nba.com/scores#/", "anchor_text": "nba.com", "paragraph_index": 29}, {"url": "https://www.pivotanalysis.com/post/net-rating", "anchor_text": "pivot analysis", "paragraph_index": 32}, {"url": "https://github.com/maxbren/nba-deep-dive", "anchor_text": "the repo", "paragraph_index": 35}], "all_paragraphs": ["The NBA has tons of stats for stat-heads and machine learning lovers to dive into. There are a bunch of websites that have a wide range of NBA data such as nba.com and basketball-reference.com.", "Exploring this data is also a great way to brush up on your Tableau and SQL skills. Which is exactly what I did. The plots below are all made in Tableau and the tables with SQL (SQLite in Python).", "Without further ado, let\u2019s explore the data and build a model!", "Many of the variables explored (team and player stats) can be found in this glossary or in this one. This repo contains the data, tableau worksheets, SQL queries and models.", "Before we answer the above question let\u2019s look at the current number of NBA players (still in the league as of the 19\u201320 season) born in each state.", "No surprises here, California is #1 with 44 players. And many mid-west states have one- or two-offs.", "Something a little more interesting could be the average VORP of each state. VORP stands for Value Over Replacement Player which is basically how much better having an individual player on the team is verses a generic replacement player. It can be a good metric for success of a player.", "California has the highest average VORP with big name players like Harden, Westbrook, Lillard, Leonard, PG, etc. Florida is currently the lowest. If this was the early-2000s FL would be higher with Vince Carter at the helm.", "Next, let\u2019s look at which states tend to produce players that are more offensive or defensive. Below is the average difference between Offensive Win Share (OWS) and Defensive Win Share (DWS) which are good measures of a players\u2019 offensive and defensive contributions respectively. Redder color means more focus on OWS and bluer color means more focus on DWS.", "NBA players from California focus more on the offense which makes sense given some of the names listed above and because VORP tends to favor offense. NY is the most defensive with players such as Andre Drummond and Danny Green.", "Let\u2019s take a look at the number of current NBA players from each college.", "Kentucky and Duke have the most by far with North Carolina behind them in third.", "While Duke, for example, has many players in the NBA, it does not fair as well in average VORP for these players. (I had to point that out because I\u2019m a North Carolina alum)", "Kemba Walker and Andre Drummond contribute to most of the VORP from Conneticut. And while Kentucky has top players such as AD, Bam Adebayo and Karl-Anthony Towns it also has many sub-par players bringing down the average.", "Comparing defensive and offensive abilities of players is always fun, let\u2019s do this for the colleges\u2019 current NBA players.", "Wake Forest has the largest difference, meaning NBA players from this college tend to contribute to offense more than defense. Chris Paul is the highest contributor here. Draymond Green contributes the most to Michigan state being higher on DWS. Draymond Green is a tricky player to analyze but he is undisputedly one of the greats at defense.", "James Harden is considered one of the best NBA players of all-time. However, he is also considered to be lacking some defensive prowess. There is one other NBA player that in the past season was even more about shooting over blocking than Harden.", "Damian Lillard has a whopping 8.1 for his difference in OWS and DWS. While Harden gets a 5.6. The drop-off continues with DeMar DeRozan and then smooths out. The numbers don\u2019t lie Lillard has a much lower DWS than Harden and only slightly better OWS.", "Now a look at an interesting stat; Whether home-court advantage exists. Let\u2019s look at the visitor and home win ratio for the top 5 and bottom 5 teams of this past season.", "2 of the top 5 teams AND 2 of the bottom 5 teams actually did better away than at home. Overall, 10 / 30 teams actually perform better when they are playing away. So the majority of wins for most teams do happen at home but not by a very wide margin. Home-court advantage does exist but isn\u2019t as important as some may think.", "First, a look at which positions tend to have a better average salary. You might guess Power Forward with great players like Giannis, LeBron James and AD. Or maybe Point Guard with Steph Curry, Westbrook and Lillard. But it\u2019s actually \u2026 Centers!", "In the 17\u201318 season, Centers averaged almost $8 mil. While Point Guards averaged $5.5 mil. What gives?", "Next, I measured the Pearson correlation between the advanced player stats and salary and found that Win Share (WS) and then VORP more strongly correlate with a player\u2019s salary.", "Another important thing was found \u2026 and it was disturbing. During the 17\u201318 season Steph Curry (red circle) was paid not only the most but also much more than what the average would indicate for both his WS and VORP. The trend-lines below shows how off he is from the projection.", "James Harden (purple circle) was paid just right. And Karl-Anthony Towns (blue circle) was criminally underpaid for his contributions to his team (unfortunately it was the Timberwolves). He had a higher WS and VORP than Curry but was paid much less.", "This just goes to show how much more teams value offensive over defensive players.", "Now let\u2019s see if a model can be built to predict which team will win in a match-up. I\u2019ve collected all the regular season games from the past 5 seasons. This model will be no RAPTOR but it is a start.", "First, let's build a simple baseline model that predicts the winner to be the team with more wins up to that point in the given season. In other words, this model never predicts \u201cupsets\u201d. With this simple metric, the winner can be found 70% of the time.", "Now onto the model. Each row contains", "The data is a little bit cheaty as the advanced stats for teams and players are actually the total stats from the end of that season. Unfortunately, that is all I could easily find, however, an alternative would be to actually calculate each stats\u2019 total up to that current game with nba.com.", "I used XGBoost and performed a grid search over multiple hyper-parameters. The best performance I could get was around 70% with 5-fold cross validation. This is just as good as the baseline. Meaning even with all of these advanced stats a better model could not be made. There are two possible reasons for this. Either certain more nuanced variables are missing from this data that would better predict a winner or the variance is just too high. Let\u2019s explore more:", "The most important features are shown below, calculated by gain.", "The best feature is the net rating of the team. It is defined as \u201chow much better or worse the team is when a specific player is on the court\u201d by pivot analysis. Other advanced stats for both starters and the whole team are important. Notably, special variables such as how far the visiting team had to travel and if a team had a starter change were not used by the model at all, as they had null gain.", "Somewhat similar; The model and baseline match on 82% of their predictions. So most of the time the model predicted no-upset as well but 18% of the time it predicted an upset. However, it still didn\u2019t perform better. Also, the model was the least confident when it predicted an upset whether or not it was correct. Try training a model on only upsets and combining it with this baseline to get better results.", "If we try removing predictions with a confidence margin lower than 0.1, the accuracy goes from 70% to 72%. Therefore, the model is pretty confident in its incorrect predictions.", "That is just a taste at what can be done with this data. There is a lot more to explore given all the data the NBA has to offer! And many more models to make too. Check out the repo and do some exploring for yourself.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Interested in all things machine learning, procedural and generative"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7f7558174672&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnba-deep-dive-7f7558174672&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnba-deep-dive-7f7558174672&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnba-deep-dive-7f7558174672&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnba-deep-dive-7f7558174672&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----7f7558174672--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7f7558174672--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@maxbrenner110?source=post_page-----7f7558174672--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@maxbrenner110?source=post_page-----7f7558174672--------------------------------", "anchor_text": "Max Brenner"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe83c3988e008&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnba-deep-dive-7f7558174672&user=Max+Brenner&userId=e83c3988e008&source=post_page-e83c3988e008----7f7558174672---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7f7558174672&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnba-deep-dive-7f7558174672&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7f7558174672&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnba-deep-dive-7f7558174672&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@echaparro?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Edgar Chaparro"}, {"url": "https://towardsdatascience.com/s/photos/nba?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://stats.nba.com/leaders/", "anchor_text": "nba.com"}, {"url": "https://www.basketball-reference.com/", "anchor_text": "basketball-reference.com"}, {"url": "https://www.tableau.com/", "anchor_text": "Tableau"}, {"url": "https://www.w3schools.com/sql/", "anchor_text": "SQL"}, {"url": "https://www.basketball-reference.com/about/glossary.html", "anchor_text": "glossary"}, {"url": "https://stats.nba.com/teams/advanced/?sort=W&dir=-1", "anchor_text": "one"}, {"url": "https://github.com/maxbren/nba-deep-dive", "anchor_text": "This repo"}, {"url": "https://en.wikipedia.org/wiki/Value_over_replacement_player", "anchor_text": "VORP stands for Value Over Replacement Player"}, {"url": "https://www.sports-reference.com/cbb/about/ws.html", "anchor_text": "Offensive Win Share (OWS) and Defensive Win Share (DWS)"}, {"url": "https://fivethirtyeight.com/features/draymond-green-is-a-star-but-only-in-the-right-system/", "anchor_text": "tricky player to analyze"}, {"url": "https://bleacherreport.com/articles/934839-nba-home-court-advantage-why-it-exists-but-isnt-as-important-as-you-think", "anchor_text": "Home-court advantage does exist but isn\u2019t as important as some may think."}, {"url": "https://en.wikipedia.org/wiki/Pearson_correlation_coefficient", "anchor_text": "Pearson correlation"}, {"url": "https://projects.fivethirtyeight.com/2020-nba-predictions/", "anchor_text": "RAPTOR"}, {"url": "https://www.nbastuffer.com/analytics101/pace/", "anchor_text": "Pace"}, {"url": "https://en.wikipedia.org/wiki/Value_over_replacement_player", "anchor_text": "VORP"}, {"url": "https://www.quora.com/What-does-WS-stand-for-in-basketball", "anchor_text": ", WS"}, {"url": "https://www.basketball-reference.com/about/bpm2.html", "anchor_text": "BPM"}, {"url": "https://www.nba.com/scores#/", "anchor_text": "nba.com"}, {"url": "https://www.pivotanalysis.com/post/net-rating", "anchor_text": "pivot analysis"}, {"url": "https://github.com/maxbren/nba-deep-dive", "anchor_text": "the repo"}, {"url": "https://medium.com/tag/nba?source=post_page-----7f7558174672---------------nba-----------------", "anchor_text": "NBA"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----7f7558174672---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----7f7558174672---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/sql?source=post_page-----7f7558174672---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/tableau?source=post_page-----7f7558174672---------------tableau-----------------", "anchor_text": "Tableau"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7f7558174672&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnba-deep-dive-7f7558174672&user=Max+Brenner&userId=e83c3988e008&source=-----7f7558174672---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7f7558174672&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnba-deep-dive-7f7558174672&user=Max+Brenner&userId=e83c3988e008&source=-----7f7558174672---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7f7558174672&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnba-deep-dive-7f7558174672&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7f7558174672--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F7f7558174672&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnba-deep-dive-7f7558174672&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----7f7558174672---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----7f7558174672--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----7f7558174672--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7f7558174672--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7f7558174672--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7f7558174672--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7f7558174672--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7f7558174672--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7f7558174672--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@maxbrenner110?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@maxbrenner110?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Max Brenner"}, {"url": "https://medium.com/@maxbrenner110/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "238 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe83c3988e008&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnba-deep-dive-7f7558174672&user=Max+Brenner&userId=e83c3988e008&source=post_page-e83c3988e008--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ffb2cbe1972e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnba-deep-dive-7f7558174672&newsletterV3=e83c3988e008&newsletterV3Id=fb2cbe1972e0&user=Max+Brenner&userId=e83c3988e008&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}