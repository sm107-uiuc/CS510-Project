{"url": "https://towardsdatascience.com/how-to-conduct-market-basket-analysis-f14f391a8625", "time": 1683016489.232348, "path": "towardsdatascience.com/how-to-conduct-market-basket-analysis-f14f391a8625/", "webpage": {"metadata": {"title": "How to conduct market basket analysis | by Sambit Das | Towards Data Science", "h1": "How to conduct market basket analysis", "description": "Market basket analysis is one of the key techniques that is used by large retailers to uncover hidden associations between items. Market basket analysis uses transaction data i.e. the list of all\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.amazon.com/s?k=modeling+techniques+in+predictive+analytics&i=digital-text&ref=nb_sb_noss_2", "anchor_text": "Modeling Techniques in Predictive Analytics", "paragraph_index": 31}, {"url": "https://www.researchgate.net/publication/228961197_Visualizing_Association_Rules_Introduction_to_the_R-extension_Package_arulesViz", "anchor_text": "Visualizing Association rules : Introduction to the R-extension arulesViz", "paragraph_index": 32}, {"url": "https://webfocusinfocenter.informationbuilders.com/wfappent/TLs/TL_rstat/source/marketbasket49.htm", "anchor_text": "Rstat Building a Market Basket Model", "paragraph_index": 33}], "all_paragraphs": ["Market basket analysis is one of the key techniques that is used by large retailers to uncover hidden associations between items. Market basket analysis uses transaction data i.e. the list of all items bought by a customer in a single purchase to determine what products are ordered or purchased together and identify patterns of co-occurrence. This powerful analysis helps to reveal consumer preferences which will be very challenging to capture through an online survey. Retailers use the results of the market basket analysis to guide product placement in stores, cross-category and co-marketing promotions among others.", "My last shopping experience was a fairly unpredictable one. I ended up in an Asian store to pick up a few items. Here is a look at my market basket.", "This list will go into one row of the store\u2019s database along with thousands of shopping trips or market baskets from other customers. Association rule mining is one of the most popular methods of extracting useful insights from the transaction data stored in the database. An item set is a collection of items selected from all items for sale in a grocery store. An item set can consist of 2 , 3 items and so on. The association rule determines the relationships between the items in the item set. These relationships are then used to build profiles containing IF-Then rules of the items purchased.", "The rules could be written as :", "The IF part of the rule is known as antecedent and the THEN part of the rule is known as consequent. Hence the antecedent is the condition and the consequent is the result. The association rule has three key measures that together determine the strength of the rule : Support , Confidence and Lift.", "Lets assume that there are 100 customers. 10 of them brought milk , 8 of them bought butter and 6 bought both of them. If we were to evaluate the association rule \u201cIf someone buys milk , they will also buy butter \u201c, then the Support of the association rule can be calculated as :", "(Probability of Milk and Butter) or in other words (No of baskets containing both milk and butter) / (No of total baskets)", "A support criterion of 0.06 means six in every hundred market baskets have both milk and butter items.", "Confidence = Support of the item set divided by the support of sebset of items in the antecedent. In other words it is the Conditional probability P(Butter | Milk) calculated as :", "Finally lift is a measure of relative predictive confidence. It is the confidence with which we can predict that a customer will buy Butter given he has bought milk in the association rule \u201cIF Milk THEN Butter\u201d.", "Lift values greater than 1 reflect stronger associations.", "For this analysis I draw upon a grocery dataset analysed by Hahsler , Hornik and Reutterer (2006). There are a total of 9835 transactions containing 169 unique grocery items.", "A closer look at the dataset reveals each row having a subset of items.", "Let\u2019s take a look at a frequency plot to determine the frequency of items appearing in the market baskets. We set the the support to 0. to ensure each item in the plot appears in every 10 market baskets at a minimum", "Let\u2019s take a look at the top 20 frequently appearing items in the shopping baskets.", "So whole milk , vegetables , rolls , soda and yogurt are the top 5 most purchased items in the store.", "The Apriori algorithm implemented in the arules package in R helps to mine the association rules. A set of 344 rules are obtained by setting the thresholds for support and confidence of 0.025 and 0.05.", "Let\u2019s investigate the top 10 association rules sorted by the lift value.", "A review of all the 344 association rules manually will be extremely tiresome and is not a viable option. Using the R package arulesViz , we will implement visualization techniques to explore the relationships.", "It is possible to view a scattered plot with support in the horizontal axis and lift in the vertical axis. Colour coding of the points relates to confidence.", "Unwin , Hofmann and Bernt (2001) introduced a special version of a scatter plot called Two-key plot. Here support and confidence represent the X and Y axis respectively and the colour points are used to indicate the \u201corder\u201d i.e the number of items contained in each rule.", "From the above plot , it is clear that the order and the support are inversely proportional to each other.", "The below plot provides a clearer view of the identified association rules in the form of a matrix bubbled chart. An item in the antecedent (left hand side) of the association rule is represented in the labels at the top of the matrix while the item in the consequent (right hand side) of an association rule is represented at the right of the matrix. Support is represented by the size of each bubble and lift is reflected in the colour intensity.", "Now if i were to identify what are the products that are commonly bought with vegetables , I can filter and report the data from the overall association rules. Below I rank these rules by lift and also identify the top 10 association rules.", "Next I represent the association rules for commonly bought products with vegetables below in a network diagram.", "From the network diagram, it is evident that a customer is likely to buy beef, dairy, produce, bread, sausage when buying vegetables.", "As a relative frequency or probability estimate, the support value lies between 0 to 1. Lower values of support are ok as long as it is not very low. Confidence also takes the value between 0 to 1 as it is a conditional probability measure. Higher values of confidence is generally preferred. Finally, the lift value needs to be greater than 1.0 to be taken seriously by the management.", "The analysis we have done above is descriptive in nature as the shopping data was analysed to study the shopping behaviour. Taking this analysis to the next step is to implement the insights from this study at the ground and on the stores.", "Retailers frequently use the findings of association rules to make decisions about store layout , product bundling or cross-selling. Store managers are also running ground experiments such as A/B tests to study how shoppers respond to new store layouts. This is an ongoing and fascinating research to truly test the performance of market basket predictive modelling.", "So the next time you walk into your local supermarket store and find the arrangements have been changed, you now know why.", "I would like to especially thank Professor Miller for his guidance and inspiration. Having studied in his classes during my Masters in Data science course with Northwestern, his books and his classes have had a profound influence on my data science career. My work draws upon the following literature :", "Thomas W. Miller (2014) Modeling Techniques in Predictive Analytics", "M. Hahsler, S. Chelluboina (2015) Visualizing Association rules : Introduction to the R-extension arulesViz", "Rstat Building a Market Basket Model", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist , Freelancer and a Masters in Data Science graduate. Specializations include Artificial Intelligence , Natural language processing and Modeling."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff14f391a8625&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conduct-market-basket-analysis-f14f391a8625&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conduct-market-basket-analysis-f14f391a8625&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conduct-market-basket-analysis-f14f391a8625&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conduct-market-basket-analysis-f14f391a8625&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f14f391a8625--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f14f391a8625--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@sambit_das?source=post_page-----f14f391a8625--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sambit_das?source=post_page-----f14f391a8625--------------------------------", "anchor_text": "Sambit Das"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fefcd0cfb40d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conduct-market-basket-analysis-f14f391a8625&user=Sambit+Das&userId=efcd0cfb40d&source=post_page-efcd0cfb40d----f14f391a8625---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff14f391a8625&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conduct-market-basket-analysis-f14f391a8625&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff14f391a8625&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conduct-market-basket-analysis-f14f391a8625&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@robmaxwell?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Rob Maxwell"}, {"url": "https://unsplash.com/s/photos/shopping-grocery?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://www.amazon.com/s?k=modeling+techniques+in+predictive+analytics&i=digital-text&ref=nb_sb_noss_2", "anchor_text": "Modeling Techniques in Predictive Analytics"}, {"url": "https://www.researchgate.net/publication/228961197_Visualizing_Association_Rules_Introduction_to_the_R-extension_Package_arulesViz", "anchor_text": "Visualizing Association rules : Introduction to the R-extension arulesViz"}, {"url": "https://webfocusinfocenter.informationbuilders.com/wfappent/TLs/TL_rstat/source/marketbasket49.htm", "anchor_text": "Rstat Building a Market Basket Model"}, {"url": "https://medium.com/tag/marketing?source=post_page-----f14f391a8625---------------marketing-----------------", "anchor_text": "Marketing"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f14f391a8625---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/market-basket-analysis?source=post_page-----f14f391a8625---------------market_basket_analysis-----------------", "anchor_text": "Market Basket Analysis"}, {"url": "https://medium.com/tag/retail?source=post_page-----f14f391a8625---------------retail-----------------", "anchor_text": "Retail"}, {"url": "https://medium.com/tag/analytics?source=post_page-----f14f391a8625---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff14f391a8625&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conduct-market-basket-analysis-f14f391a8625&user=Sambit+Das&userId=efcd0cfb40d&source=-----f14f391a8625---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff14f391a8625&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conduct-market-basket-analysis-f14f391a8625&user=Sambit+Das&userId=efcd0cfb40d&source=-----f14f391a8625---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff14f391a8625&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conduct-market-basket-analysis-f14f391a8625&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f14f391a8625--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff14f391a8625&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conduct-market-basket-analysis-f14f391a8625&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f14f391a8625---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f14f391a8625--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f14f391a8625--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f14f391a8625--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f14f391a8625--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f14f391a8625--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f14f391a8625--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f14f391a8625--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f14f391a8625--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sambit_das?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sambit_das?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sambit Das"}, {"url": "https://medium.com/@sambit_das/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "60 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fefcd0cfb40d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conduct-market-basket-analysis-f14f391a8625&user=Sambit+Das&userId=efcd0cfb40d&source=post_page-efcd0cfb40d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7f8e02268e02&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-conduct-market-basket-analysis-f14f391a8625&newsletterV3=efcd0cfb40d&newsletterV3Id=7f8e02268e02&user=Sambit+Das&userId=efcd0cfb40d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}