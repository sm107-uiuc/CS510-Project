{"url": "https://towardsdatascience.com/3-techniques-to-make-your-python-code-faster-193ffab5eb36", "time": 1683002455.547308, "path": "towardsdatascience.com/3-techniques-to-make-your-python-code-faster-193ffab5eb36/", "webpage": {"metadata": {"title": "3 techniques to make your Python code faster | by Dhanesh Budhrani | Towards Data Science", "h1": "3 techniques to make your Python code faster", "description": "In this post I\u2019ll be sharing 3 Python efficiency techniques that you may use in your daily scripting, and how to measure the performance improvement between 2 solutions. Let\u2019s get started\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Speedup", "anchor_text": "speedup", "paragraph_index": 2}, {"url": "https://docs.python.org/3/library/stdtypes.html#str.join", "anchor_text": "join()", "paragraph_index": 8}, {"url": "https://docs.python.org/3/library/functions.html#map", "anchor_text": "Python\u2019s built-in map function", "paragraph_index": 12}, {"url": "https://docs.python.org/3/library/functions.html#map", "anchor_text": "map\u2019s", "paragraph_index": 14}], "all_paragraphs": ["In this post I\u2019ll be sharing 3 Python efficiency techniques that you may use in your daily scripting, and how to measure the performance improvement between 2 solutions. Let\u2019s get started!", "Performance may refer to many different factors in a solution (e.g. execution time, CPU usage, memory usage, etc.). In this post, though, we\u2019ll be focusing on the execution time.", "The improvement in the execution time of a new solution can be computed as simply as making a division. That is, we\u2019ll be dividing the execution time of the old (or non-optimized) solution by the new (or optimized) solution: Told / Tnew. This metric is commonly referred to as speedup. For instance, if we got a speedup factor of 2, our improved solution would be taking half as much time as the original solution.", "In order to compare the performance of our functions, we\u2019ll create a function that receives both of them, calculates their execution time and computes the obtained speedup:", "In order to obtain significant results, we\u2019ll be using a relatively large array (100.000 elements), and pass it to both functions as an argument. We\u2019ll then compute the execution time using the time module and finally deliver the obtained speedup.", "Note that we are also passing an optional argument that would allow us to change the type of our list elements.", "A common situation you may find is having to form a string with multiple subparts of it. Python has a convenient + operator that allows us to comfortably concatenate strings in the following way:", "Even though it seems a clean approach to us, Python\u2019s strings were created to be immutable, and therefore cannot be modified. That means that every time we use the + operator, Python is actually creating a new string based on both substrings and returning the new string. Consider that, in our case, this operation would be executed 100.000 times.", "This approach clearly has a cost, and we may find a cheaper solution using join(), such as in the following example:", "This solution takes the array of substrings and joins them with the empty string separator. Let\u2019s check our performance improvement:", "I\u2019m getting a speedup factor of 7,25! Not too bad I\u2019d say, considering the small amount of work needed to implement this technique.", "When we need to operate on every element in a list we may normally do it in the following way: we apply generator comprehension and work on the current element. Then, we may iterate over it when necessary:", "However, in many situations you may prefer using Python\u2019s built-in map function, which applies the same operation to every element in an iterable and yields the results. It may be implemented as simply as follows:", "It\u2019s time to check how much we\u2019ve improved the execution time! Run our compute_speedup function as follows:", "I\u2019m obtaining a speedup of 1,55. It may be argued that comprehensions are more readable, but I\u2019d say that it takes very little to get used to map\u2019s syntax as well, at least in simple scenarios (e.g. when no condition over the iterable is required).", "Whenever you find yourself repeatedly using the same function over an element inside a loop block, such as:", "\u2026 or simply using such function once inside the loop block, but over a large list, such as in the following case:", "\u2026 you may take advantage of another optimization technique.", "You may save the cost of reevaluating a function if you previously keep it as a variable and reuse it in the loop block. The following snippet shows this behaviour:", "Note that if you need to append the current element to different lists, you\u2019ll have to create a new variable for each list\u2019s append function.", "Let\u2019s check the speedup using compute_speedup:", "In this case, I\u2019m obtaining a speedup of 2,07! Again, we didn\u2019t need to make any major changes to obtain such improvement.", "Want more efficiency tips? Check these articles out!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F193ffab5eb36&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-techniques-to-make-your-python-code-faster-193ffab5eb36&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-techniques-to-make-your-python-code-faster-193ffab5eb36&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-techniques-to-make-your-python-code-faster-193ffab5eb36&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-techniques-to-make-your-python-code-faster-193ffab5eb36&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----193ffab5eb36--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----193ffab5eb36--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://dbudhrani.medium.com/?source=post_page-----193ffab5eb36--------------------------------", "anchor_text": ""}, {"url": "https://dbudhrani.medium.com/?source=post_page-----193ffab5eb36--------------------------------", "anchor_text": "Dhanesh Budhrani"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F752059edf124&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-techniques-to-make-your-python-code-faster-193ffab5eb36&user=Dhanesh+Budhrani&userId=752059edf124&source=post_page-752059edf124----193ffab5eb36---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F193ffab5eb36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-techniques-to-make-your-python-code-faster-193ffab5eb36&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F193ffab5eb36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-techniques-to-make-your-python-code-faster-193ffab5eb36&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/images/id-332857/", "anchor_text": "source"}, {"url": "https://en.wikipedia.org/wiki/Speedup", "anchor_text": "speedup"}, {"url": "https://docs.python.org/3/library/stdtypes.html#str.join", "anchor_text": "join()"}, {"url": "https://docs.python.org/3/library/functions.html#map", "anchor_text": "Python\u2019s built-in map function"}, {"url": "https://docs.python.org/3/library/functions.html#map", "anchor_text": "map\u2019s"}, {"url": "https://towardsdatascience.com/3-simple-python-efficiency-tips-f7c35b511503", "anchor_text": "3 simple Python efficiency tips"}, {"url": "https://towardsdatascience.com/finding-performance-bottlenecks-in-python-4372598b7b2c", "anchor_text": "Finding performance bottlenecks in Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----193ffab5eb36---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/python?source=post_page-----193ffab5eb36---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/performance?source=post_page-----193ffab5eb36---------------performance-----------------", "anchor_text": "Performance"}, {"url": "https://medium.com/tag/optimization?source=post_page-----193ffab5eb36---------------optimization-----------------", "anchor_text": "Optimization"}, {"url": "https://medium.com/tag/efficiency?source=post_page-----193ffab5eb36---------------efficiency-----------------", "anchor_text": "Efficiency"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F193ffab5eb36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-techniques-to-make-your-python-code-faster-193ffab5eb36&user=Dhanesh+Budhrani&userId=752059edf124&source=-----193ffab5eb36---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F193ffab5eb36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-techniques-to-make-your-python-code-faster-193ffab5eb36&user=Dhanesh+Budhrani&userId=752059edf124&source=-----193ffab5eb36---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F193ffab5eb36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-techniques-to-make-your-python-code-faster-193ffab5eb36&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----193ffab5eb36--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F193ffab5eb36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-techniques-to-make-your-python-code-faster-193ffab5eb36&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----193ffab5eb36---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----193ffab5eb36--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----193ffab5eb36--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----193ffab5eb36--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----193ffab5eb36--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----193ffab5eb36--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----193ffab5eb36--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----193ffab5eb36--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----193ffab5eb36--------------------------------", "anchor_text": ""}, {"url": "https://dbudhrani.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://dbudhrani.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Dhanesh Budhrani"}, {"url": "https://dbudhrani.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "235 Followers"}, {"url": "https://www.linkedin.com/in/dhanesh-budhrani/", "anchor_text": "https://www.linkedin.com/in/dhanesh-budhrani/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F752059edf124&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-techniques-to-make-your-python-code-faster-193ffab5eb36&user=Dhanesh+Budhrani&userId=752059edf124&source=post_page-752059edf124--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F9534807d57ce&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-techniques-to-make-your-python-code-faster-193ffab5eb36&newsletterV3=752059edf124&newsletterV3Id=9534807d57ce&user=Dhanesh+Budhrani&userId=752059edf124&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}