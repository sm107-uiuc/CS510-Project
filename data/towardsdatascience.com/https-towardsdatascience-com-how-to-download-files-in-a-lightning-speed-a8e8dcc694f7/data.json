{"url": "https://towardsdatascience.com/https-towardsdatascience-com-how-to-download-files-in-a-lightning-speed-a8e8dcc694f7", "time": 1683000193.277438, "path": "towardsdatascience.com/https-towardsdatascience-com-how-to-download-files-in-a-lightning-speed-a8e8dcc694f7/", "webpage": {"metadata": {"title": "How to download files in lightning speed | by Low Wei Hong | Towards Data Science", "h1": "How to download files in lightning speed", "description": "Detail comparison between different tools to parse HTML page and also a way to know whether a link contain downloadable resource."}, "outgoing_paragraph_urls": [{"url": "http://en.wikipedia.org/wiki/Daniel_Keys_Moran", "anchor_text": "Daniel Keys Moran", "paragraph_index": 0}, {"url": "http://kern.humdrum.org/search?s=t&keyword=Bach%20Johann&fbclid=IwAR39fsc8gUWjN6eYAUkewldNkeV499lX0Ew6VP8Nrrd_T1T7plaIIIb5nFQ", "anchor_text": "website", "paragraph_index": 10}, {"url": "https://docs.python.org/3.7/library/html.parser.html?highlight=htmlparser", "anchor_text": "HTML parser", "paragraph_index": 15}, {"url": "https://github.com/lexborisov/Modest/", "anchor_text": "Modest", "paragraph_index": 16}, {"url": "https://www.linkedin.com/in/lowweihong/?source=post_page---------------------------", "anchor_text": "Low Wei Hong", "paragraph_index": 21}, {"url": "https://www.thedataknight.com/", "anchor_text": "this website", "paragraph_index": 22}, {"url": "https://www.linkedin.com/in/lowweihong/?source=post_page---------------------------", "anchor_text": "LinkedIn", "paragraph_index": 23}, {"url": "https://medium.com/@lowweihong?source=post_page---------------------------", "anchor_text": "Medium", "paragraph_index": 23}, {"url": "https://www.thedataknight.com/", "anchor_text": "https://www.thedataknight.com/", "paragraph_index": 25}], "all_paragraphs": ["You can have data without information, but you cannot have information without data. \u2014 Daniel Keys Moran", "As analytical skill is highly emphasized in recent days, it is also important on how to obtain a good quality of data. Without having more or quality data, great analysis is always unable to be performed.", "A friend of mine asks me.", "\u201cWei Hong, before clicking the link to download music files, would you know whether the media files will be downloaded immediately?", "What if the link is going to another website, and it displays an error message? I do not want to download the message, I just need the media file.\u201d", "I said, \u201cwell that\u2019s a good question. Let me figure out and get back to you soon.\u201d", "Some time passes by, I said, \u201chere you go!\u201d", "The above function will be used to check whether a URL contains a downloadable source and its logic is shown as follow:", "Next, I am thinking of speeding up the code. Instead of using BeautifulSoup to parse the Html, is there any other alternative that can give me the same result but faster than BeautifulSoup?", "The answer is yes, below I am going to show you how you can use other Html parser which is faster. Before that let\u2019s compare each of the more well-known tools in extracting data from Html.", "This is the website which we are going to scrape, we will be clicking the M in order to download the music from Bach Johann.", "Above snippet is the code for using BeautifulSoup as our tool.", "Beautiful Soup will never be as fast as the parsers it sits on top of.", "Since it is built on LXML, we will use it as our parser. As you realize, we are using CSS to locate the data.", "The code above illustrates how to access HTML using LXML parser. As you can observe, the syntax looks really similar to BeautifulSoup. Besides, LXML not only support CSS but also Xpath, so if you are more familiar with using Xpath, then Lxml will be a better option for you, as opposed to BeautifulSoup.", "Python framework has an HTML parser built-in, and the above code uses it to extract URLs. It\u2019s a bit more complicated because we need to create our own HTMLParser class to override the handle_starttag method in the original class. For me, I seldom use HTMLParser as other available tools are easier to implement.", "I came to know the Selectolax package is when someone replies to my Reddit comments, telling me to try out this package. (Thanks to this friend from Reddit!\ud83e\udd17) Basically, it is a Cython wrapper to the Modest engine. After trying it, the speed of parsing HTML page improve but not by a lot. Same advice, if you are more familiar with XPATH, use LXML instead.", "As the experiment, I downloaded a total of 1349 MID files using different tools. After running for 20 times and average out the time taken for each of the tools, here are the result:", "Selectolax is the fastest among all but the difference is not significant.", "In conclusion, if you really need to improve the speed of your scraper or crawler, then maybe it is better to go for Selectolax. If you are more familiar with Xpath, go for LXML. Besides, maybe you are dealing with a poorly design website (in term of the Html document structure), it is better to go for BeautifulSoup. Last but not least, if you want to challenge yourself, then go for HTMLParser \ud83d\ude0e\ud83d\ude0e\ud83d\ude0e.", "By now, I hope you have a better understanding of each Python package for parsing the Html page.", "Low Wei Hong is a Data Scientist at Shopee. His experiences involved more on crawling websites, creating data pipeline and also implementing machine learning models on solving business problems.", "He provides crawling services that are able to provide you with the accurate and cleaned data which you need. You can visit this website to view his portfolio and also to contact him for crawling services.", "You can connect with him on LinkedIn and Medium.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist | Web Scraping Service: https://www.thedataknight.com/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa8e8dcc694f7&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhttps-towardsdatascience-com-how-to-download-files-in-a-lightning-speed-a8e8dcc694f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhttps-towardsdatascience-com-how-to-download-files-in-a-lightning-speed-a8e8dcc694f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhttps-towardsdatascience-com-how-to-download-files-in-a-lightning-speed-a8e8dcc694f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhttps-towardsdatascience-com-how-to-download-files-in-a-lightning-speed-a8e8dcc694f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a8e8dcc694f7--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a8e8dcc694f7--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@lowweihong?source=post_page-----a8e8dcc694f7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lowweihong?source=post_page-----a8e8dcc694f7--------------------------------", "anchor_text": "Low Wei Hong"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F46a7a7d19f50&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhttps-towardsdatascience-com-how-to-download-files-in-a-lightning-speed-a8e8dcc694f7&user=Low+Wei+Hong&userId=46a7a7d19f50&source=post_page-46a7a7d19f50----a8e8dcc694f7---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa8e8dcc694f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhttps-towardsdatascience-com-how-to-download-files-in-a-lightning-speed-a8e8dcc694f7&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa8e8dcc694f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhttps-towardsdatascience-com-how-to-download-files-in-a-lightning-speed-a8e8dcc694f7&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "http://en.wikipedia.org/wiki/Daniel_Keys_Moran", "anchor_text": "Daniel Keys Moran"}, {"url": "http://kern.humdrum.org/search?s=t&keyword=Bach%20Johann&fbclid=IwAR39fsc8gUWjN6eYAUkewldNkeV499lX0Ew6VP8Nrrd_T1T7plaIIIb5nFQ", "anchor_text": "website"}, {"url": "https://docs.python.org/3.7/library/html.parser.html?highlight=htmlparser", "anchor_text": "HTML parser"}, {"url": "https://github.com/lexborisov/Modest/", "anchor_text": "Modest"}, {"url": "https://stackoverflow.com/questions/4967103/beautifulsoup-and-lxml-html-what-to-prefer", "anchor_text": "https://stackoverflow.com/questions/4967103/beautifulsoup-and-lxml-html-what-to-prefer"}, {"url": "https://www.mschweighauser.com/fast-url-parsing-with-python/", "anchor_text": "https://www.mschweighauser.com/fast-url-parsing-with-python/"}, {"url": "https://www.codementor.io/aviaryan/downloading-files-from-urls-in-python-77q3bs0un", "anchor_text": "https://www.codementor.io/aviaryan/downloading-files-from-urls-in-python-77q3bs0un"}, {"url": "https://stackoverflow.com/questions/71151/html-parser-in-python", "anchor_text": "https://stackoverflow.com/questions/71151/html-parser-in-python"}, {"url": "https://stackoverflow.com/questions/6126789/selecting-attribute-values-from-lxml", "anchor_text": "https://stackoverflow.com/questions/6126789/selecting-attribute-values-from-lxml"}, {"url": "https://www.linkedin.com/in/lowweihong/?source=post_page---------------------------", "anchor_text": "Low Wei Hong"}, {"url": "https://www.thedataknight.com/", "anchor_text": "this website"}, {"url": "https://www.linkedin.com/in/lowweihong/?source=post_page---------------------------", "anchor_text": "LinkedIn"}, {"url": "https://medium.com/@lowweihong?source=post_page---------------------------", "anchor_text": "Medium"}, {"url": "https://medium.com/@lowweihong?source=post_page-----3efb6878f8db----------------------", "anchor_text": "Low Wei Hong \u2014 MediumRead writing from Low Wei Hong on Medium. Data Scientist | Web Scraping Service: http://datainfinite.mystrikingly.com/\u2026medium.com"}, {"url": "https://medium.com/tag/python?source=post_page-----a8e8dcc694f7---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/download?source=post_page-----a8e8dcc694f7---------------download-----------------", "anchor_text": "Download"}, {"url": "https://medium.com/tag/advice?source=post_page-----a8e8dcc694f7---------------advice-----------------", "anchor_text": "Advice"}, {"url": "https://medium.com/tag/comparison?source=post_page-----a8e8dcc694f7---------------comparison-----------------", "anchor_text": "Comparison"}, {"url": "https://medium.com/tag/scraper?source=post_page-----a8e8dcc694f7---------------scraper-----------------", "anchor_text": "Scraper"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa8e8dcc694f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhttps-towardsdatascience-com-how-to-download-files-in-a-lightning-speed-a8e8dcc694f7&user=Low+Wei+Hong&userId=46a7a7d19f50&source=-----a8e8dcc694f7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa8e8dcc694f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhttps-towardsdatascience-com-how-to-download-files-in-a-lightning-speed-a8e8dcc694f7&user=Low+Wei+Hong&userId=46a7a7d19f50&source=-----a8e8dcc694f7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa8e8dcc694f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhttps-towardsdatascience-com-how-to-download-files-in-a-lightning-speed-a8e8dcc694f7&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a8e8dcc694f7--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa8e8dcc694f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhttps-towardsdatascience-com-how-to-download-files-in-a-lightning-speed-a8e8dcc694f7&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a8e8dcc694f7---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a8e8dcc694f7--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a8e8dcc694f7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a8e8dcc694f7--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a8e8dcc694f7--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a8e8dcc694f7--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a8e8dcc694f7--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a8e8dcc694f7--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a8e8dcc694f7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lowweihong?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lowweihong?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Low Wei Hong"}, {"url": "https://medium.com/@lowweihong/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.2K Followers"}, {"url": "https://www.thedataknight.com/", "anchor_text": "https://www.thedataknight.com/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F46a7a7d19f50&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhttps-towardsdatascience-com-how-to-download-files-in-a-lightning-speed-a8e8dcc694f7&user=Low+Wei+Hong&userId=46a7a7d19f50&source=post_page-46a7a7d19f50--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8d2dc5634cb1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhttps-towardsdatascience-com-how-to-download-files-in-a-lightning-speed-a8e8dcc694f7&newsletterV3=46a7a7d19f50&newsletterV3Id=8d2dc5634cb1&user=Low+Wei+Hong&userId=46a7a7d19f50&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}