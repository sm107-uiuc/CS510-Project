{"url": "https://towardsdatascience.com/would-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e", "time": 1683003402.858688, "path": "towardsdatascience.com/would-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e/", "webpage": {"metadata": {"title": "Would You Survive the Titanic? \u2014 A Classic Challenge on Kaggle | by Eden Au | Towards Data Science", "h1": "Would You Survive the Titanic? \u2014 A Classic Challenge on Kaggle", "description": "Kaggle is a platform for data scientists to share data, exchange thoughts, and compete in predictive analytics problems. People often think that Kaggle is not for beginners, or it has a very steep\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/edenau/Titanic", "anchor_text": "GitHub", "paragraph_index": 5}, {"url": "https://towardsdatascience.com/deploying-a-keras-deep-learning-model-as-a-web-application-in-p-fc0f2354a7ff", "anchor_text": "Will Koehrsen", "paragraph_index": 32}, {"url": "http://edenau.mailchimpsites.com/", "anchor_text": "sign up for my newsletter", "paragraph_index": 37}], "all_paragraphs": ["Kaggle is a platform for data scientists to share data, exchange thoughts, and compete in predictive analytics problems. People often think that Kaggle is not for beginners, or it has a very steep learning curve.", "They are not wrong. But they do offer challenges for people who are getting started like you and me. As a (junior) data scientist, I could not resist searching for interesting datasets to start my journey on Kaggle. And I bumped into the Titanic.", "Kaggle is an Airbnb for data scientists \u2014 this is where they spend their nights and weekends. \u2014 Zeeshan-ul-hassan Usmani", "The dataset contains the information of the passengers on the Titanic.", "I used Python to visualize and understand more about the dataset. I trained an ensemble of classifiers using scikit-learn that would predict one\u2019s chances of survival. I then saved the model using pickle and deployed it as a Web App on localhost using Flask. Finally, I leveraged AWS to cloud-host it.", "The code is available on GitHub.", "First thing first. I imported the data into a Pandas DataFrame. It consists of passenger ID, survival, ticket class, name, sex, age, number of siblings and spouses onboard, number of parents and children onboard, ticket number, passenger fare, cabin number, and port of embarkation.", "What immediately came to my mind was:", "I decided to drop the variable Ticket for now for simplicity. It could possibly be holding useful information, but it would require extensive feature engineering to extract them. We should start with the easiest, and take it from there.", "On the other hand, let\u2019s take a closer look at the missing data. There are a few missing entries in variables Embarked and Fare. On the other hand, around 20% of passenger ages were not recorded. This might pose a problem to us since Age is likely to be one of the key predictors in the dataset. \u2018Women and children first\u2019 was a code of conduct back then, and reports suggested that they were indeed saved first. There are >77% of missing entries in Cabin, which is unlikely to be very helpful, and let\u2019s drop it for now.", "Pair plot (not shown below) is usually my go-to at the beginning of a data visualization task, as it is usually helpful, and it has a high information-to-lines-of-code ratio. One single line seaborn.pairplot() gives you n\u00b2 plots (technically n(n+1)/2 distinct plots), where n represents the number of variables. It gives you a basic understanding of the relationship between every pair of variables, and the distribution of each variable itself. Let\u2019s dive into different variables.", "We first inspect the relationship of target variable Survived with each predictor one by one. By seaborn.countplot(), we found that most people belonged to the third class, which wasn\u2019t surprising; and in general they had a lower probability of survival. Even with this single predictor, given everything else unknown, we could infer that a first-class passenger would be more likely to survive, while this would be unlikely for a third-class passenger.", "Meanwhile, women and children were more likely to survive, which aligned with the aforementioned theory of \u2018women and children first\u2019. First-class young female passengers would now be the ones with the highest chance of survival if we only examine three variables Pclass, Sex, and Age.", "Nevertheless, it might be harder to interpret the density plot seaborn.kdeplot() of passenger fare. For both \u2018survived\u2019 and \u2018not survived\u2019 classes, they span over a wide range of fare, with the \u2018not survived\u2019 class having a smaller mean and variance. Note that there is a funny tail in the distribution of \u2018survived\u2019 class, which corresponds to three people getting their first-class tickets with 512 dollars each. They all got on board at the port of Cherbourg, and all of them survived.", "On the other hand, the port of embarkation seems to also play a role in determining who would survive. Most people embarked at the port of Southampton \u2014 the first stop of the journey, and they had the lowest survival rate. Maybe they were assigned to cabins further away from exits, or spending more time on a cruise would make people relaxed or tired. Or maybe it\u2019s just indirectly caused by some third variable \u2014 say maybe there were fewer women/children/first-class passengers that got onboard at the first port. Further investigation is required.", "If you are a fan of tables instead of plots, we can also visualize the data by pandas.DataFrame.groupby() and take the mean for each class. However, I don\u2019t think there is a clear pattern shown in the table of Parch below.", "Correlation matrix generated by seaborn.heatmap() illustrates the strength of correlation between any two variables. As you can see, Sex has the highest magnitude of correlation with Survived, whereas Fare and Pclass are highly correlated. SibSp and Parch do not seem to play a big role in predicting one\u2019s survival chance, although our instinct suggests otherwise.", "We have found earlier in Data Inspection that there were many missing data entries. For instance, we seem to have no clue how much did a 60-year-old Thomas Storey pay for his ticket. Instinct tells us that ticket fare hugely depends on ticket class and port of embarkation, and we can cross-check with the correlation matrix above. Therefore, we will just take the average of third-class fare at Southampton. This is just an educated guess and is probably wrong, but it is good enough. Bear in mind that it is impossible to have noiseless data, and machine learning models should be robust against noise.", "There were also two women whom we had no idea where they got on the ship. This should be strongly correlated with ticket class and fare. As they both paid 80 dollars for a first-class seat, I would bet my money on Cherbourg (C in the plots).", "If there are only a few missing entries in a particular variable, we can use the tricks above to make educated guesses by essentially taking the maximum likelihood value. Nonetheless, it would be really dangerous to do the same thing if we have more missing data, like in Age where about 20% of them are missing.", "We can no longer make educated guesses by inspection. Since we dropped variable Cabin, and all other missing entries are filled in, we can leverage all other variables to infer the missing Age by a random forest regressor. There are 80% of \u2018training\u2019 data to infer the remaining 20%.", "While most of them had titles of \u2018Mr\u2019, \u2018Mrs\u2019, and \u2018Miss\u2019, there were quite a number of less frequent titles \u2014 \u2018Dr\u2019, \u2018The Reverend\u2019, \u2018Colonel\u2019 etc., some of them only appeared once, such as \u2018Lady\u2019, \u2018Do\u00f1a\u2019, \u2018Captain\u2019 etc.. Their rare appearance would not help much in model training. In order to find patterns with data science, you need data. One datum point has no patterns whatsoever. Let\u2019s just categorize all those relatively rare titles as \u2018Rare\u2019.", "Categorical data requires extra care before model training. Classifiers simply cannot process string inputs like \u2018Mr\u2019, \u2018Southampton\u2019 etc.. While we can map them to integers, say (\u2018Mr\u2019, \u2018Miss\u2019, \u2018Mrs\u2019, \u2018Rare\u2019) \u2192 (1, 2, 3, 4), there should be no concept of ordering amongst titles. Being a Dr does not make you superior. In order not to mislead machines and accidentally construct a sexist AI, we should one-hot-encode them. They become:", "On the other hand, I decided to add two more variables \u2014 FamilySize and IsAlone. Adding FamilySize = SibSp + Parch + 1 makes more sense since the whole family would have stayed together on the cruise. You wouldn\u2019t have a moment with your partner but abandon your parents, would you? Besides, being alone might be one of the crucial factors. You could be more likely to make reckless decisions, or you could be more flexible without taking care of your family. By adding variables one at a time, I found that their presence in the model improved the overall predictability.", "I tried most popular classifiers I know \u2014 random forest, SVM, KNN, AdaBoost, and so forth. XGBoost stands out eventually with an 87% test accuracy. To increase the robustness of our classifier, an ensemble of classifiers with different natures was trained and final results were obtained by majority voting.", "Finally, I submitted it to Kaggle and achieved 80% accuracy. Not bad. There is always room for improvement.", "For instance, there is surely some useful information hidden in Cabin and Ticket, but we dropped them for simplicity. We could also create more features, e.g. a binary class Underage that is 1 if Age < 18 or 0 otherwise.", "But I will move on for now.", "Flask is an easy-to-use web framework in Python.", "and voil\u00e0! You can browse it in your localhost.", "What else do we need? We want people to fill in a form to collect the data required and pass it to the machine learning model. The model would have an output, which we will redirect users to that page.", "We will use WTForms to build a form in Python, and a single form is defined by a class, which looks like the following:", "I found an HTML template from Will Koehrsen and built on top of it.", "You look at the people who have been there before you, the people who have dealt with this before, the people who have built the spaghetti code, and you thank them very much for making it open source, and you give them credit, and you take what they have made and you put it in your program, and you never ever look at it again. \u2014 Tom Scott", "Now that the webpage can be viewed via my localhost, and everything works fine. The last step would be hosting it online. There are 3 major cloud hosting services now \u2014 AWS, GCP, and Azure. AWS is by far the most popular one, so I went for its 12-month free tier.", "I connected to the Linux server instance with my private key, migrated my repository to the server, ran my script, and it worked!", "Mmm\u2026 that does not look good for me\u2026", "Thank you for reading. You can sign up for my newsletter to receive updates on my new articles. If you are interested in data science, the following articles might be useful:", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F3efaa22bfb5e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwould-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwould-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwould-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwould-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----3efaa22bfb5e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3efaa22bfb5e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://edenau.medium.com/?source=post_page-----3efaa22bfb5e--------------------------------", "anchor_text": ""}, {"url": "https://edenau.medium.com/?source=post_page-----3efaa22bfb5e--------------------------------", "anchor_text": "Eden Au"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F9a831eeffa24&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwould-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e&user=Eden+Au&userId=9a831eeffa24&source=post_page-9a831eeffa24----3efaa22bfb5e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3efaa22bfb5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwould-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3efaa22bfb5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwould-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@antsphotography14?utm_source=medium&utm_medium=referral", "anchor_text": "Anthony Metcalfe"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://github.com/edenau/Titanic", "anchor_text": "GitHub"}, {"url": "https://unsplash.com/@dhika88?utm_source=medium&utm_medium=referral", "anchor_text": "Andhika Soreng"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://unsplash.com/@alexsiale?utm_source=medium&utm_medium=referral", "anchor_text": "Alex Siale"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "http://twitter.com/app", "anchor_text": "@app"}, {"url": "https://unsplash.com/@andrewfurlan?utm_source=medium&utm_medium=referral", "anchor_text": "Andrew Furlan"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/deploying-a-keras-deep-learning-model-as-a-web-application-in-p-fc0f2354a7ff", "anchor_text": "Will Koehrsen"}, {"url": "http://edenau.mailchimpsites.com/", "anchor_text": "sign up for my newsletter"}, {"url": "https://towardsdatascience.com/5-python-features-i-wish-i-had-known-earlier-bc16e4a13bf4", "anchor_text": "5 Python features I wish I had known earlierPython tricks beyond lambda, map, and filtertowardsdatascience.com"}, {"url": "https://towardsdatascience.com/6-new-features-in-python-3-8-for-python-newbies-dc2e7b804acc", "anchor_text": "6 New Features in Python 3.8 for Python NewbiesPrepare yourself as Python 2 is no longer supportedtowardsdatascience.com"}, {"url": "https://towardsdatascience.com/4-common-mistakes-python-beginners-should-avoid-89bcebd2c628", "anchor_text": "4 Common Mistakes Python Beginners should AvoidI learned them the hard way, but you don\u2019t need totowardsdatascience.com"}, {"url": "https://edenau.github.io", "anchor_text": "edenau.github.io"}, {"url": "https://medium.com/tag/technology?source=post_page-----3efaa22bfb5e---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----3efaa22bfb5e---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----3efaa22bfb5e---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/ai?source=post_page-----3efaa22bfb5e---------------ai-----------------", "anchor_text": "AI"}, {"url": "https://medium.com/tag/python?source=post_page-----3efaa22bfb5e---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3efaa22bfb5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwould-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e&user=Eden+Au&userId=9a831eeffa24&source=-----3efaa22bfb5e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3efaa22bfb5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwould-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e&user=Eden+Au&userId=9a831eeffa24&source=-----3efaa22bfb5e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3efaa22bfb5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwould-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3efaa22bfb5e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F3efaa22bfb5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwould-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----3efaa22bfb5e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----3efaa22bfb5e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----3efaa22bfb5e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----3efaa22bfb5e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----3efaa22bfb5e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----3efaa22bfb5e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----3efaa22bfb5e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----3efaa22bfb5e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----3efaa22bfb5e--------------------------------", "anchor_text": ""}, {"url": "https://edenau.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://edenau.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Eden Au"}, {"url": "https://edenau.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.7K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F9a831eeffa24&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwould-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e&user=Eden+Au&userId=9a831eeffa24&source=post_page-9a831eeffa24--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe7efa567e96e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwould-you-survive-the-titanic-a-classic-challenge-on-kaggle-3efaa22bfb5e&newsletterV3=9a831eeffa24&newsletterV3Id=e7efa567e96e&user=Eden+Au&userId=9a831eeffa24&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}