{"url": "https://towardsdatascience.com/how-to-auto-detect-format-errors-in-a-dataset-6609a9e9aacc", "time": 1683004678.405278, "path": "towardsdatascience.com/how-to-auto-detect-format-errors-in-a-dataset-6609a9e9aacc/", "webpage": {"metadata": {"title": "How to Auto-Detect Errors in a Dataset | by Dimitris Poulopoulos | Towards Data Science", "h1": "How to Auto-Detect Errors in a Dataset", "description": "Given a large, structured dataset, like an excel spreadsheet or a CSV file, is there a way to avoid the exhausting and productivity-sucking chore of detecting the unavoidable errors?"}, "outgoing_paragraph_urls": [{"url": "https://scholar.google.com/citations?user=WdEqRxEAAAAJ&hl=en&oi=sra", "anchor_text": "Zhipeng Huang", "paragraph_index": 1}, {"url": "https://dl.acm.org/doi/abs/10.1145/3183713.3196889?casa_token=SAUDUyrv2lwAAAAA:Aao6vxthGuNfNSEJyUYX_CyjUyrn0LM6fXrRsUvpGfB8GiQBBSJ6ZFJS-Q2_SQ3u3dPDzGwTJmYSTw", "anchor_text": "\u201cAuto-Detect: Data-Driven Error Detection in Tables\u201d", "paragraph_index": 1}, {"url": "https://mailchi.mp/d2d2d4a109b5/learning-rate-newsletter", "anchor_text": "Learning Rate", "paragraph_index": 2}, {"url": "https://mailchi.mp/d2d2d4a109b5/learning-rate-newsletter", "anchor_text": "here", "paragraph_index": 2}, {"url": "https://bigdatastack.eu/", "anchor_text": "BigDataStack", "paragraph_index": 25}, {"url": "https://medium.com/@dpoulopoulos", "anchor_text": "Medium", "paragraph_index": 25}, {"url": "https://www.linkedin.com/in/dpoulopoulos/", "anchor_text": "LinkedIn", "paragraph_index": 25}, {"url": "https://twitter.com/james2pl", "anchor_text": "@james2pl", "paragraph_index": 25}, {"url": "http://www.dimpo.me", "anchor_text": "www.dimpo.me", "paragraph_index": 27}], "all_paragraphs": ["Given a large, structured dataset, like an excel spreadsheet or a CSV file, is there a way to avoid the exhausting and productivity-sucking chore of detecting the unavoidable errors?", "In this story, we apply the idea of Zhipeng Huang and Yeye He presented into \u201cAuto-Detect: Data-Driven Error Detection in Tables\u201d, to automatically detect format errors in tabular data.", "Learning Rate is a newsletter for those who are curious about the world of AI and MLOps. You\u2019ll hear from me every Friday with updates and thoughts on the latest AI news and articles. Subscribe here!", "Corrupted data or missing values can have a severe negative impact on an analytical pipeline. The phrase garbage-in garbage-out expresses this issue laconically. However, detecting these errors can be a very challenging problem due to their heterogeneity; simple typos, format errors, integration with stale data, denial constraints, etc.", "To address the problem, data scientists have designed many techniques that broadly fall into two categories: single-column methods to detect errors occurring within a single column and multi-column methods to identify violations such as denial constraints.", "Error detection techniques broadly fall into two categories: single-column and multi-column methods.", "In this story, we focus on a single-column method and discuss how to detect format errors automatically. It turns out that format errors do not only affect the quality of downstream analytical results but can break an automated pipeline altogether. Imagine having a data column where the format is 03/11/2020 and there is a value using the format 02.11.2020. The best-case scenario is that an automated job extracting the dates will throw an exception. The worst-case outcome will produce logical errors that are very hard to debug.", "Let us get to the definition of the problem. Given a structured dataset, we construct a set containing its columns. What we want is to detect values that have low probability existing within a single column. In the aforementioned example, if most of the dates conform to the first format, we would like to assign a low probability to values following a different date pattern.", "We live in the era of Big-Data, thus, a solution would be to gather a large corpus of tabular data (e.g. Wikipedia tables, publicly available excel sheets, etc.) and extract a set C, which contains all the columns present in this collection.", "We expect these columns to be for the most part clean, hence, they can provide a good statistical measurement for the intra-column co-occurrence of two values v, u. Intuitively, if two values v,u co-exist frequently in columns they should be compatible.", "To this end, we can use a statistical measure called point-wise mutual information (PMI). First, we compute the probability of encountering a value v in a column.", "In this formula, c(v) denotes the number of columns with value v and |C| is the column count. Accordingly, we compute the probability of two values v,u co-occurring.", "Now, c(u,v) indicates the number of columns containing both u and v. We are ready now to compute the PMI for values v,u.", "The result ranges from minus infinity to plus infinity. Thus, we normalize it by dividing with -log p(v,u) to get the Normalized PMI (NPMI). Note that if v and u are co-occurring by chances p(u,v) is equal to p(v)p(u), the ratio is 1 and PMI 0 for no correlation. On the other hand, if the values frequently co-occur and are positively correlated PMI is greater than 0; otherwise, PMI takes values less that 0.", "Let us see a concrete example. Let v = 1 and u = 2. Suppose we have 100M columns in our set C and we have c(v) = 1M, c(u) = 2M, c(u,v) = 500K. We can compute p(v) = 0.01, p(u) = 0.02 and p(u,v) = 0.005. Having these values we can calculate NPMI to be equal to 0.6, which is greater than 0. We can say intuitively that values u and v are highly compatible. You can try what happens if one of those two values is an error which rarely occurs.", "We have a promising solution but it is a naive one. For instance, imagine we have two dates: 03.17.2019 and 03.18.2019. These seem perfectly compatible to be in the same column as they conform to the same date pattern. Still, nothing guarantees us that we will see these exact values in the same column, no matter how big is our set of columns |C|. Thus, our method will flag them as a potential error leading to many false positives. Sparsity is a problem here.", "The solution is to generalize values into patterns; instead of letting out values be 03.17.2019 and 03.18.2019, we could generalize them to both be a pattern like \\d{2}.\\d{2}.\\d{4}. Now, just a column that has this type of date format can give us what we want. We can achieve this type of generalization using Generalization Trees and Generalization Languages. An example of a generalization tree is given in the figure below.", "From that tree, we can instantiate many generalization languages. We can think the generalization language as a function mapping an arbitrary input to any level of a generalization tree. To understand it better, let us construct two generalization languages deriving by the tree in the figure.", "The first language will transform 03.17.2019 into \\A{2}.\\A{2}.\\A{4}. Seems that we have solved our problem right? Well, not exactly; let us see the definition of another language.", "Using the second language 03.17.2019 gets transformed into \\D{2}\\S\\D{2}\\S\\D{4}. But what about 03-17-2019? Generalization language 2 transforms it into exactly the same pattern. We won\u2019t be able to spot the problem here. As we can see, picking the right language is crucial.", "The example of the previous section presented the importance of picking the right language for each case. Note that we can pick more than one language and then find a clever way to aggregate the results.", "In any case, there are two issues we need to consider:", "Thus, the problem is actually a constrained optimization puzzle: given a generalization tree, select a specific number of generalization languages that can capture different types of format errors, subject to an accuracy metric and a memory budget.", "In this story, we presented an idea sketched by Zhipeng Huang and Yeye He, and frame it to automatically detect format errors in structured datasets. We showed how can we solve the problem using point-wise mutual information and gave the definitions of generalization trees and generalization languages.", "Finally, we concluded that our problem reduces to the constrained optimization challenge: given a generalization tree, select a specific number of generalization languages that can capture different types of format errors, subject to an accuracy metric and a memory budget. A suggested solution to this problem can be found in the story below.", "My name is Dimitris Poulopoulos and I\u2019m a machine learning researcher at BigDataStack and PhD(c) at the University of Piraeus, Greece. I have worked on designing and implementing AI and software solutions for major clients such as the European Commission, Eurostat, IMF, the European Central Bank, OECD, and IKEA. If you are interested in reading more posts about Machine Learning, Deep Learning and Data Science, follow me on Medium, LinkedIn or @james2pl on twitter.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Machine Learning Engineer. I talk about AI, MLOps, and Python programming. More about me: www.dimpo.me"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F6609a9e9aacc&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-auto-detect-format-errors-in-a-dataset-6609a9e9aacc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-auto-detect-format-errors-in-a-dataset-6609a9e9aacc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-auto-detect-format-errors-in-a-dataset-6609a9e9aacc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-auto-detect-format-errors-in-a-dataset-6609a9e9aacc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----6609a9e9aacc--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6609a9e9aacc--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://dpoulopoulos.medium.com/?source=post_page-----6609a9e9aacc--------------------------------", "anchor_text": ""}, {"url": "https://dpoulopoulos.medium.com/?source=post_page-----6609a9e9aacc--------------------------------", "anchor_text": "Dimitris Poulopoulos"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7cc87df5b1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-auto-detect-format-errors-in-a-dataset-6609a9e9aacc&user=Dimitris+Poulopoulos&userId=7cc87df5b1&source=post_page-7cc87df5b1----6609a9e9aacc---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6609a9e9aacc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-auto-detect-format-errors-in-a-dataset-6609a9e9aacc&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6609a9e9aacc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-auto-detect-format-errors-in-a-dataset-6609a9e9aacc&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.pexels.com/@eye4dtail", "anchor_text": "George Becker"}, {"url": "https://www.pexels.com/search/mistake/", "anchor_text": "Pexels"}, {"url": "https://scholar.google.com/citations?user=WdEqRxEAAAAJ&hl=en&oi=sra", "anchor_text": "Zhipeng Huang"}, {"url": "https://dl.acm.org/doi/abs/10.1145/3183713.3196889?casa_token=SAUDUyrv2lwAAAAA:Aao6vxthGuNfNSEJyUYX_CyjUyrn0LM6fXrRsUvpGfB8GiQBBSJ6ZFJS-Q2_SQ3u3dPDzGwTJmYSTw", "anchor_text": "\u201cAuto-Detect: Data-Driven Error Detection in Tables\u201d"}, {"url": "https://mailchi.mp/d2d2d4a109b5/learning-rate-newsletter", "anchor_text": "Learning Rate"}, {"url": "https://mailchi.mp/d2d2d4a109b5/learning-rate-newsletter", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/how-to-auto-detect-errors-in-a-dataset-part-ii-683b114865be", "anchor_text": "How to Use Generalization Languages to Auto-Detect Errors in a DatasetGenerate validation data using distant-supervision and aggregate prediction results to find the needle in a haystack.towardsdatascience.com"}, {"url": "https://bigdatastack.eu/", "anchor_text": "BigDataStack"}, {"url": "https://medium.com/@dpoulopoulos", "anchor_text": "Medium"}, {"url": "https://www.linkedin.com/in/dpoulopoulos/", "anchor_text": "LinkedIn"}, {"url": "https://twitter.com/james2pl", "anchor_text": "@james2pl"}, {"url": "https://medium.com/tag/data-science?source=post_page-----6609a9e9aacc---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-cleaning?source=post_page-----6609a9e9aacc---------------data_cleaning-----------------", "anchor_text": "Data Cleaning"}, {"url": "https://medium.com/tag/analytics?source=post_page-----6609a9e9aacc---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/tag/data-analytics?source=post_page-----6609a9e9aacc---------------data_analytics-----------------", "anchor_text": "Data Analytics"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----6609a9e9aacc---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6609a9e9aacc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-auto-detect-format-errors-in-a-dataset-6609a9e9aacc&user=Dimitris+Poulopoulos&userId=7cc87df5b1&source=-----6609a9e9aacc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6609a9e9aacc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-auto-detect-format-errors-in-a-dataset-6609a9e9aacc&user=Dimitris+Poulopoulos&userId=7cc87df5b1&source=-----6609a9e9aacc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6609a9e9aacc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-auto-detect-format-errors-in-a-dataset-6609a9e9aacc&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6609a9e9aacc--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F6609a9e9aacc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-auto-detect-format-errors-in-a-dataset-6609a9e9aacc&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----6609a9e9aacc---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----6609a9e9aacc--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----6609a9e9aacc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----6609a9e9aacc--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----6609a9e9aacc--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----6609a9e9aacc--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----6609a9e9aacc--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----6609a9e9aacc--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----6609a9e9aacc--------------------------------", "anchor_text": ""}, {"url": "https://dpoulopoulos.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://dpoulopoulos.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Dimitris Poulopoulos"}, {"url": "https://dpoulopoulos.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "12.5K Followers"}, {"url": "http://www.dimpo.me", "anchor_text": "www.dimpo.me"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7cc87df5b1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-auto-detect-format-errors-in-a-dataset-6609a9e9aacc&user=Dimitris+Poulopoulos&userId=7cc87df5b1&source=post_page-7cc87df5b1--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb5ab149102ea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-auto-detect-format-errors-in-a-dataset-6609a9e9aacc&newsletterV3=7cc87df5b1&newsletterV3Id=b5ab149102ea&user=Dimitris+Poulopoulos&userId=7cc87df5b1&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}