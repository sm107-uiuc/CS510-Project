{"url": "https://towardsdatascience.com/archiving-and-logging-your-use-of-public-data-5c19a7ac360", "time": 1683015726.796403, "path": "towardsdatascience.com/archiving-and-logging-your-use-of-public-data-5c19a7ac360/", "webpage": {"metadata": {"title": "Archiving and Logging Your Use of Public Data | by Dan Valenzuela | Towards Data Science", "h1": "Archiving and Logging Your Use of Public Data", "description": "One worry that I always have when downloading data sets off the internet is their impermanence. Links die, data changes, ashes to ashes, dust to dust. That\u2019s why I\u2019ve been introducing the Wayback\u2026"}, "outgoing_paragraph_urls": [{"url": "http://web.archive.org/", "anchor_text": "Wayback Machine", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/linear-regressions-for-the-survey-of-consumer-finances-ed2c10b2670c?sk=fa2330fb7d48fd5cea3134d74d8c1778", "anchor_text": "Survey of Consumer Finances", "paragraph_index": 2}, {"url": "https://pypi.org/project/waybackpy/", "anchor_text": "WaybackPy", "paragraph_index": 4}, {"url": "http://www.google.com", "anchor_text": "www.google.com", "paragraph_index": 6}], "all_paragraphs": ["One worry that I always have when downloading data sets off the internet is their impermanence. Links die, data changes, ashes to ashes, dust to dust.", "That\u2019s why I\u2019ve been introducing the Wayback Machine into my workflow. But even then, it\u2019s tough to be consistent with whether I\u2019m downloading data off an archived website or a live website and it\u2019s tough to understand what I did in the past.", "What I\u2019ve done through my work with the Survey of Consumer Finances (SCF) is implement a system of simultaneously archiving and logging the data that I use. Below is a summary of what I\u2019ve done but if you just want to see the code, scroll to the bottom of this post for a gist of the functions I\u2019ve implemented with respect to the SCF.", "The big thing I wanted to accomplish with this project was to make sure that I was using recent Wayback archives as much as possible when downloading data. Else, with any data that did not have archives, I wanted to be sure it got archived on Wayback for future use.", "The best package I found for this was WaybackPy, although I needed to make a few changes to make it work for my purposes.", "First, I needed to implement attributes that would allow me to see the age of the latest archive. This way I could check to see if a new archive would be needed given a provided archive_age_limit .", "By way of illustration, if you were to get the len() of a WaybackPy Url object passing through www.google.com as an argument you\u2019d get 0, or the number of days since the last archive.", "Makes sense given that a new archive is practically generated every day.", "With WaybackPy, archiving is the easy part. Just make sure to call the save() method for archives that are older than a certain age, store some key data and you\u2019re good to go.", "The harder part is adding that key data to a CSV for further examination. This is especially the case for new archives that cannot be directly accessed from the Wayback Machine.", "Below is an implemented function that takes in as arguments the URL where the data you want exists and the target directory where it is locally saved. What it returns is a dictionary containing the URL and timestamp of the latest archive. To examine its behavior let\u2019s look at how it\u2019s used with the SCF.", "At the bottom of this post is a complete gist showing how to archive, log, and download SCF data. The process is relatively straightforward:", "The log itself behaves in the following ways:", "So if you were to download the SCF data from 2019, 2016 and 2013 today , the last one being downloaded twice, you would expect the log to show 4 records with archive_age_limit = 30 since the 2019 data set is the only one that has an archive within the last 30 days. Below is an example of what you would see.", "The log I\u2019ve implemented is definitely useful for my purposes, but I\u2019ve yet to explore fully how this code can break. It\u2019s especially difficult to figure out how to best deal with recently-archived sites that aren\u2019t updated on Wayback immediately, but the \u201cover-logging\u201d behavior described above is better than none.", "The other potential issues might be with different file types but the basic archive behavior should stay the same. At the very least this code will work for the SCF\u2019s zip files if you feel so inclined to take a look at it.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5c19a7ac360&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farchiving-and-logging-your-use-of-public-data-5c19a7ac360&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farchiving-and-logging-your-use-of-public-data-5c19a7ac360&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farchiving-and-logging-your-use-of-public-data-5c19a7ac360&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farchiving-and-logging-your-use-of-public-data-5c19a7ac360&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5c19a7ac360--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5c19a7ac360--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://danvalen1.medium.com/?source=post_page-----5c19a7ac360--------------------------------", "anchor_text": ""}, {"url": "https://danvalen1.medium.com/?source=post_page-----5c19a7ac360--------------------------------", "anchor_text": "Dan Valenzuela"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe6589878150b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farchiving-and-logging-your-use-of-public-data-5c19a7ac360&user=Dan+Valenzuela&userId=e6589878150b&source=post_page-e6589878150b----5c19a7ac360---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5c19a7ac360&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farchiving-and-logging-your-use-of-public-data-5c19a7ac360&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5c19a7ac360&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farchiving-and-logging-your-use-of-public-data-5c19a7ac360&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@ula_kuzma", "anchor_text": "Ula Ku\u017ama"}, {"url": "http://web.archive.org/", "anchor_text": "Wayback Machine"}, {"url": "https://towardsdatascience.com/linear-regressions-for-the-survey-of-consumer-finances-ed2c10b2670c?sk=fa2330fb7d48fd5cea3134d74d8c1778", "anchor_text": "Survey of Consumer Finances"}, {"url": "https://pypi.org/project/waybackpy/", "anchor_text": "WaybackPy"}, {"url": "http://www.google.com", "anchor_text": "www.google.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----5c19a7ac360---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/consumer-finance?source=post_page-----5c19a7ac360---------------consumer_finance-----------------", "anchor_text": "Consumer Finance"}, {"url": "https://medium.com/tag/federal-reserve?source=post_page-----5c19a7ac360---------------federal_reserve-----------------", "anchor_text": "Federal Reserve"}, {"url": "https://medium.com/tag/workflow?source=post_page-----5c19a7ac360---------------workflow-----------------", "anchor_text": "Workflow"}, {"url": "https://medium.com/tag/work?source=post_page-----5c19a7ac360---------------work-----------------", "anchor_text": "Work"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5c19a7ac360&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farchiving-and-logging-your-use-of-public-data-5c19a7ac360&user=Dan+Valenzuela&userId=e6589878150b&source=-----5c19a7ac360---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5c19a7ac360&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farchiving-and-logging-your-use-of-public-data-5c19a7ac360&user=Dan+Valenzuela&userId=e6589878150b&source=-----5c19a7ac360---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5c19a7ac360&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farchiving-and-logging-your-use-of-public-data-5c19a7ac360&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5c19a7ac360--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5c19a7ac360&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farchiving-and-logging-your-use-of-public-data-5c19a7ac360&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5c19a7ac360---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5c19a7ac360--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5c19a7ac360--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5c19a7ac360--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5c19a7ac360--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5c19a7ac360--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5c19a7ac360--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5c19a7ac360--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5c19a7ac360--------------------------------", "anchor_text": ""}, {"url": "https://danvalen1.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://danvalen1.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Dan Valenzuela"}, {"url": "https://danvalen1.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "18 Followers"}, {"url": "https://github.com/danvalen1", "anchor_text": "https://github.com/danvalen1"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe6589878150b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farchiving-and-logging-your-use-of-public-data-5c19a7ac360&user=Dan+Valenzuela&userId=e6589878150b&source=post_page-e6589878150b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fe6589878150b%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farchiving-and-logging-your-use-of-public-data-5c19a7ac360&user=Dan+Valenzuela&userId=e6589878150b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}