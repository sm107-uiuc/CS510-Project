{"url": "https://towardsdatascience.com/working-with-missing-values-in-pandas-5da45d16e74", "time": 1683006052.229249, "path": "towardsdatascience.com/working-with-missing-values-in-pandas-5da45d16e74/", "webpage": {"metadata": {"title": "Working with missing values in Pandas | by B. Chen | Towards Data Science", "h1": "Working with missing values in Pandas", "description": "The real-world data is rarely clean and homogeneous. In particular, many interesting datasets will have some amount of values missing. In this article, we will discuss how missing value is\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["The real-world data is rarely clean and homogeneous. In particular, many interesting datasets will have some amount of values missing.", "In this article, we will discuss how missing value is represented in Pandas, how to deal with other characters representations and Pandas built-in methods for handling missing values.", "Schemes for indicating the presence of missing values are generally around one of two strategies [1]:", "In the mask approach, it might be a same-sized Boolean array representation or use one bit to represent the local state of missing entry.", "In the sentinel value approach, a tag value is used for indicating the missing value, such as NaN (Not a Number), null or a special value which is part of the programming language.", "None of these approaches is without trade-offs [1]. The mask approach requires allocations of an additional Boolean array, which adds overhead in both storage and computation. A sentinel value reduces the range of valid values that can be represented and may require extra logic in CPU and GPU arithmetic.", "Pandas use sentinels to handle missing values, and more specifically Pandas use two already-existing Python null value:", "The first sentinel value used by Pandas is None, a Python \u2018object\u2019 data that is most often used for missing data in Python code. Because it is a Python object, None cannot be used in any arbitrary NumPy/Pandas array, but only in arrays with data type \u2018object\u2019.", "The use of Python object in an array also means that you will generally get an error if you perform aggregations like sum() or min().", "The second sentinel value used by Pandas is NaN, is acronym for Not a Number and a special floating-point value use the standard IEEE floating-point representation.", "Keep in mind that NaN is specifically a floating-point value; there is no equivalent value for integers, strings or other types. And you should be aware that regardless of the operations, the result of arithmetic with NaN will be another NaN . For example", "Will all output NaN. NumPy does provide some special aggregations that will ignore the missing data, such as nansum() , nanmin() , and nanmax() .", "Pandas is built to handle the None and NaN nearly interchangeably, converting between them where appropriate:", "For types that don\u2019t have an available sentinel value, Pandas automatically type-casts when NaN values are present.", "For example, let\u2019s create a Panda Series with dtype=int.", "If we set a value in an integer array to np.nan, it will automatically be upcast to a floating-point type to accommodate the NaN:", "Not all missing values come in nice and clean np.nan . If we know what kind of characters used as missing values in the dataset, we can handle them while creating the DataFrame using na_values parameter:", "When the DataFrame is already created, we can use pandas replace() function to handle these values:", "Before we diving into the details, let\u2019s create a DataFrame with some missing values:", "Pandas has two useful methods for detecting missing values: isnull() and notnull() . Either one will return a Boolean mask over the data. For example:", "df.isnull() returns a Boolean same-sized DataFrame indicating if values are missing", "df.notnull() returns a Boolean same-sized DataFrame which is just opposite of isnull()", "When the dataset is large, you can count the number of missing values instead.", "df.isnull().sum() returns the number of missing values for each column (Pandas Series)", "df.isnull().sum().sum() returns the total number of missing values", "In addition to the masking used before, there is the convenience method dropna() to remove missing values [2]. The method is defined as:", "To recap, here is the DataFrame df we are using", "To drop row if any NaN values are present:", "To drop column if any NaN values are present:", "To drop row if the number of non-NaN is less than 6.", "Data is a valuable asset so we should not give it up easily. Also, machine learning models almost always tend to perform better with more data. Therefore, depending on the situation, we may prefer replacing missing values instead of dropping.", "There is the convenience method fillna() to replace missing values [3]. The method is defined as:", "To recap, here is the DataFrane df we are using", "To replace all NaN values with a scalar", "To replaces NaN values with the values in the previous row.", "To replace NaN values with the values in the previous column.", "The same, you can also replace NaN values with the values in the next row or column.", "The other common replacement is to replace NaN values with the mean. For example to replace NaN values in column B with the mean.", "And that\u2019s about it. Thanks for reading.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5da45d16e74&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-missing-values-in-pandas-5da45d16e74&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-missing-values-in-pandas-5da45d16e74&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-missing-values-in-pandas-5da45d16e74&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-missing-values-in-pandas-5da45d16e74&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5da45d16e74--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5da45d16e74--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://bindichen.medium.com/?source=post_page-----5da45d16e74--------------------------------", "anchor_text": ""}, {"url": "https://bindichen.medium.com/?source=post_page-----5da45d16e74--------------------------------", "anchor_text": "B. Chen"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F563d09da62a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-missing-values-in-pandas-5da45d16e74&user=B.+Chen&userId=563d09da62a&source=post_page-563d09da62a----5da45d16e74---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5da45d16e74&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-missing-values-in-pandas-5da45d16e74&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5da45d16e74&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-missing-values-in-pandas-5da45d16e74&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://jakevdp.github.io/PythonDataScienceHandbook/03.04-missing-values.html", "anchor_text": "Python Data Science Handbook"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.dropna.html", "anchor_text": "Pandas Official documentation \u2014 dropna"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.fillna.html", "anchor_text": "Pandas Official documentation \u2014 fillna"}, {"url": "https://medium.com/tag/pandas?source=post_page-----5da45d16e74---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/missing-values?source=post_page-----5da45d16e74---------------missing_values-----------------", "anchor_text": "Missing Values"}, {"url": "https://medium.com/tag/python?source=post_page-----5da45d16e74---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----5da45d16e74---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/data-science?source=post_page-----5da45d16e74---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5da45d16e74&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-missing-values-in-pandas-5da45d16e74&user=B.+Chen&userId=563d09da62a&source=-----5da45d16e74---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5da45d16e74&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-missing-values-in-pandas-5da45d16e74&user=B.+Chen&userId=563d09da62a&source=-----5da45d16e74---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5da45d16e74&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-missing-values-in-pandas-5da45d16e74&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5da45d16e74--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5da45d16e74&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-missing-values-in-pandas-5da45d16e74&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5da45d16e74---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5da45d16e74--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5da45d16e74--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5da45d16e74--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5da45d16e74--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5da45d16e74--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5da45d16e74--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5da45d16e74--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5da45d16e74--------------------------------", "anchor_text": ""}, {"url": "https://bindichen.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://bindichen.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "B. Chen"}, {"url": "https://bindichen.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "4K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F563d09da62a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-missing-values-in-pandas-5da45d16e74&user=B.+Chen&userId=563d09da62a&source=post_page-563d09da62a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F56a3bfbb80dc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-missing-values-in-pandas-5da45d16e74&newsletterV3=563d09da62a&newsletterV3Id=56a3bfbb80dc&user=B.+Chen&userId=563d09da62a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}