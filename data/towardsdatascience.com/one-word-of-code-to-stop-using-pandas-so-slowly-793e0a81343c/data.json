{"url": "https://towardsdatascience.com/one-word-of-code-to-stop-using-pandas-so-slowly-793e0a81343c", "time": 1683001138.67983, "path": "towardsdatascience.com/one-word-of-code-to-stop-using-pandas-so-slowly-793e0a81343c/", "webpage": {"metadata": {"title": "One Word of Code to Stop Using Pandas So Slowly | by Tyler Folkman | Towards Data Science", "h1": "One Word of Code to Stop Using Pandas So Slowly", "description": "You have your data all loaded into a Panda\u2019s dataframe, ready to do some exploratory analysis, but first, you need to create a few additional features. Naturally, you turn to the apply function\u2026"}, "outgoing_paragraph_urls": [{"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.apply.html", "anchor_text": "apply", "paragraph_index": 0}, {"url": "https://github.com/jmcarpenter2/swifter", "anchor_text": "Swifter", "paragraph_index": 2}, {"url": "https://datascienceleadership.substack.com/", "anchor_text": "Get your FREE copy of 11 INCREDIBLY useful resources to MASTER data science", "paragraph_index": 14}, {"url": "https://datascienceleadership.substack.com/", "anchor_text": "https://datascienceleadership.substack.com/", "paragraph_index": 16}], "all_paragraphs": ["You have your data all loaded into a Panda\u2019s dataframe, ready to do some exploratory analysis, but first, you need to create a few additional features. Naturally, you turn to the apply function. Apply is great because it makes it easy to use a function on all the rows of your data. You get it all set up, run your code and\u2026", "It turns out it can take a while to process every row of a large dataset. Thankfully, there is a very simple solution that could save you a significant amount of time.", "Swifter is a library which, \u201capplies any function to a pandas dataframe or series in the fastest available manner.\u201d To understand how we need to first discuss a few principles.", "For this use case, we will define vectorization as using Numpy to express calculations on entire arrays instead of their elements.", "For example, imagine you have two arrays:", "And you wish to create a new array which is the sum of the two arrays resulting in this:", "You could sum these arrays with a for-loop in Python, but that is very slow. Instead, Numpy allows you to operate directly on the arrays, which is significantly faster (especially with large arrays)", "The key takeaway is that you want to use vectorized operations whenever possible.", "Pretty much all computers have multiple processors. That means that you can speed up your code pretty easily for some things by utilizing them all. Since apply is just applying a function to every row of our dataframe, it is simple to parallelize. You can just split the dataframe into multiple chunks, feed each chunk to its processor, and then combine the chunks back into a single dataframe at the end.", "This is all nicely shown in the graph above. You can see that no matter the data size, you are almost always better off using vectorization. If that is not possible, you get the best speed from vanilla Pandas until your data are of a large enough size. Once the size threshold is exceeded, parallel processing makes the most sense.", "You can see the \u201cswiftapply\u201d line is what swifter would do and it automatically chooses the best option for you.", "How do you make use of this magic you ask? Easy.", "Just add the swifter call before the apply as shown above and you are now running your Pandas apply faster than ever with just a single word.", "Now, you can spend less time staring at a progress bar and more time doing science. That is life-changing. Though, you may have less time for sword battles.", "Get your FREE copy of 11 INCREDIBLY useful resources to MASTER data science", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Chief Technology and AI Officer at BEN/TubeBuddy. Get your FREE list of useful data science resources: https://datascienceleadership.substack.com/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F793e0a81343c&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-word-of-code-to-stop-using-pandas-so-slowly-793e0a81343c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-word-of-code-to-stop-using-pandas-so-slowly-793e0a81343c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-word-of-code-to-stop-using-pandas-so-slowly-793e0a81343c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-word-of-code-to-stop-using-pandas-so-slowly-793e0a81343c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----793e0a81343c--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----793e0a81343c--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@tylerfolkman?source=post_page-----793e0a81343c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@tylerfolkman?source=post_page-----793e0a81343c--------------------------------", "anchor_text": "Tyler Folkman"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F47ca8d25c93f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-word-of-code-to-stop-using-pandas-so-slowly-793e0a81343c&user=Tyler+Folkman&userId=47ca8d25c93f&source=post_page-47ca8d25c93f----793e0a81343c---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F793e0a81343c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-word-of-code-to-stop-using-pandas-so-slowly-793e0a81343c&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F793e0a81343c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-word-of-code-to-stop-using-pandas-so-slowly-793e0a81343c&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@lanceanderson?utm_source=medium&utm_medium=referral", "anchor_text": "Lance Anderson"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.apply.html", "anchor_text": "apply"}, {"url": "https://github.com/jmcarpenter2/swifter", "anchor_text": "Swifter"}, {"url": "https://github.com/jmcarpenter2/swifter", "anchor_text": "https://github.com/jmcarpenter2/swifter"}, {"url": "https://dask.org/", "anchor_text": "Dask"}, {"url": "https://xkcd.com/303/", "anchor_text": "https://xkcd.com/303/"}, {"url": "https://datascienceleadership.substack.com/", "anchor_text": "Get your FREE copy of 11 INCREDIBLY useful resources to MASTER data science"}, {"url": "https://medium.com/tag/data-science?source=post_page-----793e0a81343c---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/technology?source=post_page-----793e0a81343c---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----793e0a81343c---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/programming?source=post_page-----793e0a81343c---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----793e0a81343c---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F793e0a81343c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-word-of-code-to-stop-using-pandas-so-slowly-793e0a81343c&user=Tyler+Folkman&userId=47ca8d25c93f&source=-----793e0a81343c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F793e0a81343c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-word-of-code-to-stop-using-pandas-so-slowly-793e0a81343c&user=Tyler+Folkman&userId=47ca8d25c93f&source=-----793e0a81343c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F793e0a81343c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-word-of-code-to-stop-using-pandas-so-slowly-793e0a81343c&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----793e0a81343c--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F793e0a81343c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-word-of-code-to-stop-using-pandas-so-slowly-793e0a81343c&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----793e0a81343c---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----793e0a81343c--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----793e0a81343c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----793e0a81343c--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----793e0a81343c--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----793e0a81343c--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----793e0a81343c--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----793e0a81343c--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----793e0a81343c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@tylerfolkman?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@tylerfolkman?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Tyler Folkman"}, {"url": "https://medium.com/@tylerfolkman/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "2.5K Followers"}, {"url": "https://datascienceleadership.substack.com/", "anchor_text": "https://datascienceleadership.substack.com/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F47ca8d25c93f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-word-of-code-to-stop-using-pandas-so-slowly-793e0a81343c&user=Tyler+Folkman&userId=47ca8d25c93f&source=post_page-47ca8d25c93f--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F2ee8b13cc0ac&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-word-of-code-to-stop-using-pandas-so-slowly-793e0a81343c&newsletterV3=47ca8d25c93f&newsletterV3Id=2ee8b13cc0ac&user=Tyler+Folkman&userId=47ca8d25c93f&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}