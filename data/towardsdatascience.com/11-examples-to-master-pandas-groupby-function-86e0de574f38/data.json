{"url": "https://towardsdatascience.com/11-examples-to-master-pandas-groupby-function-86e0de574f38", "time": 1683013273.106339, "path": "towardsdatascience.com/11-examples-to-master-pandas-groupby-function-86e0de574f38/", "webpage": {"metadata": {"title": "11 Examples to Master Pandas Groupby Function | by Soner Y\u0131ld\u0131r\u0131m | Towards Data Science", "h1": "11 Examples to Master Pandas Groupby Function", "description": "Pandas Groupby function is a versatile and easy-to-use function that helps to get an overview of the data. It makes it easier to explore the dataset and unveil the underlying relationships among\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/sonalidasgupta95/churn-prediction-of-bank-customers", "anchor_text": "customer churn dataset", "paragraph_index": 2}, {"url": "http://linkedin.com/in/soneryildirim/", "anchor_text": "linkedin.com/in/soneryildirim/", "paragraph_index": 29}, {"url": "http://twitter.com/snr14", "anchor_text": "twitter.com/snr14", "paragraph_index": 29}], "all_paragraphs": ["Pandas Groupby function is a versatile and easy-to-use function that helps to get an overview of the data. It makes it easier to explore the dataset and unveil the underlying relationships among variables.", "In this post, we will go through 11 different examples to have a comprehensive understanding of the groupby function and see how it can be useful in exploring the data.", "I will use a customer churn dataset for the examples. The first step is to read the dataset into a pandas dataframe.", "We have some features about the customers and their products at a bank. The goal here is to predict whether a customer will churn (i.e. exited = 1) using the provided features.", "In terms of machine earning, this is a classification problem. Groupby function can be used to explore how features are related or have an effect on the target variable (\u201cExited\u201d).", "The following figure represents the logic and working principle of groupby function.", "The first one is to check if gender makes any difference in customer churn.", "We take a subset of the dataframe which consists of gender and exited columns. We then group the rows based on the values in the gender column which are male and female. Finally, an aggregate function is applied. The result is the average churn rate for females and males.", "In addition to the mean, you may also want to see how many males and females exist in the dataset. If there is an extreme imbalance, checking the mean may cause false assumptions.", "The solution is to apply both mean and count as aggregate functions.", "The number of females and males are close so there is not a considerable imbalance. On average, the churn rate for females is higher than that of males.", "You may think that it is too general to make a comparison based on gender only. In this case, we can group by multiple columns by passing a list of columns to groupby function.", "Churn rate is higher for females in the three countries in our dataset.", "We can also sort the results.", "The results are in ascending order but we can change it using the ascending parameter.", "We can also check multiple features based on groups in another feature. Let\u2019s check how age and tenure changes in different countries.", "The average and maximum values of age and tenure columns are pretty close in the three countries.", "Let\u2019s also add the \u201cExited\u201d column to example 6.", "We can sort the results based on any column. However, since it is a multi-index, we need to pass a tuple to the sort_values function.", "The results are sorted by (\u2018Age\u2019, \u2018mean\u2019) column.", "The variables in the groupby function are returned as the index of the resulting dataframe. We can change it by setting the as_index parameter as false.", "Each column in the groupby function is represented with a column. There is a row for each combination of categories.", "The groupby function drops the missing values by default. Our dataset does not have any missing values. Let\u2019s add some missing values and see how the dropna parameter is used.", "Although we have missing values in the geography column, they are ignored. We can change it by setting the dropna parameter as false.", "As you can see, there is another category for missing values.", "Note: In order to use the dropna parameter of the groupby function, you need to have pandas version 1.1.0 or higher.", "We can diversify the examples but the underlying logic is the same. Groupby function can be used as a first step in the exploratory data analysis process because it gives us an idea about the relationships between variables in the dataset.", "Thanks for reading. Please let me know if you have any feedback.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist | Top 10 Writer in AI and Data Science | linkedin.com/in/soneryildirim/ | twitter.com/snr14"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F86e0de574f38&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F11-examples-to-master-pandas-groupby-function-86e0de574f38&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F11-examples-to-master-pandas-groupby-function-86e0de574f38&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F11-examples-to-master-pandas-groupby-function-86e0de574f38&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F11-examples-to-master-pandas-groupby-function-86e0de574f38&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----86e0de574f38--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----86e0de574f38--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://sonery.medium.com/?source=post_page-----86e0de574f38--------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=post_page-----86e0de574f38--------------------------------", "anchor_text": "Soner Y\u0131ld\u0131r\u0131m"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2cf6b549448&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F11-examples-to-master-pandas-groupby-function-86e0de574f38&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=post_page-2cf6b549448----86e0de574f38---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F86e0de574f38&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F11-examples-to-master-pandas-groupby-function-86e0de574f38&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F86e0de574f38&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F11-examples-to-master-pandas-groupby-function-86e0de574f38&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@markusspiske?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Markus Spiske"}, {"url": "https://unsplash.com/s/photos/different-colors?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://www.kaggle.com/sonalidasgupta95/churn-prediction-of-bank-customers", "anchor_text": "customer churn dataset"}, {"url": "https://medium.com/tag/programming?source=post_page-----86e0de574f38---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/data-science?source=post_page-----86e0de574f38---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----86e0de574f38---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----86e0de574f38---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/pandas?source=post_page-----86e0de574f38---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F86e0de574f38&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F11-examples-to-master-pandas-groupby-function-86e0de574f38&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=-----86e0de574f38---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F86e0de574f38&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F11-examples-to-master-pandas-groupby-function-86e0de574f38&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=-----86e0de574f38---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F86e0de574f38&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F11-examples-to-master-pandas-groupby-function-86e0de574f38&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----86e0de574f38--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F86e0de574f38&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F11-examples-to-master-pandas-groupby-function-86e0de574f38&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----86e0de574f38---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----86e0de574f38--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----86e0de574f38--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----86e0de574f38--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----86e0de574f38--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----86e0de574f38--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----86e0de574f38--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----86e0de574f38--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----86e0de574f38--------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Soner Y\u0131ld\u0131r\u0131m"}, {"url": "https://sonery.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "21K Followers"}, {"url": "http://linkedin.com/in/soneryildirim/", "anchor_text": "linkedin.com/in/soneryildirim/"}, {"url": "http://twitter.com/snr14", "anchor_text": "twitter.com/snr14"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2cf6b549448&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F11-examples-to-master-pandas-groupby-function-86e0de574f38&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=post_page-2cf6b549448--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7cdf5377373a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F11-examples-to-master-pandas-groupby-function-86e0de574f38&newsletterV3=2cf6b549448&newsletterV3Id=7cdf5377373a&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}