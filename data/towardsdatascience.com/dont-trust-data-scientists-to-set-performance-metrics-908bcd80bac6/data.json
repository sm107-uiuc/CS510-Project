{"url": "https://towardsdatascience.com/dont-trust-data-scientists-to-set-performance-metrics-908bcd80bac6", "time": 1683007768.946765, "path": "towardsdatascience.com/dont-trust-data-scientists-to-set-performance-metrics-908bcd80bac6/", "webpage": {"metadata": {"title": "Don\u2019t trust data scientists to set performance metrics | by Gianluca Gindro | Towards Data Science", "h1": "Don\u2019t trust data scientists to set performance metrics", "description": "You are the founder of an e-commerce start-up selling bikes and bike accessories. Your website right now is the same for all users, but you want to introduce a personalization feature that shows the\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Loss_function", "anchor_text": "loss function", "paragraph_index": 28}, {"url": "https://en.wikipedia.org/wiki/Least_squares", "anchor_text": "least-squares", "paragraph_index": 29}, {"url": "http://thedatamba.com", "anchor_text": "thedatamba.com", "paragraph_index": 46}], "all_paragraphs": ["You are the founder of an e-commerce start-up selling bikes and bike accessories. Your website right now is the same for all users, but you want to introduce a personalization feature that shows the most relevant 3 products at the top of the page.", "You walk to the desk of the Data Science team and explain to them the problem. \u201cHow should I decide which products to show?\u201d, they ask. \u201cThe ones that are more relevant to the user\u201d, you explain. \u201cRelevant in what sense?\u201d \u201cWell, the ones where users are more likely to click on\u201d, you reply, as that seems straightforward to you.", "But a couple of weeks after the new feature has gone live, your reports show that it has generated lots of additional clicks, but very few sales. Apparently, lots of \u2018click-bait\u2019 products have been promoted! They might be a fancy bike helmet advertised with a big discount, but out of stock. This is not good.", "So you complain to your Data Science team and ask them to change the concept of relevance. \u201cOf course it does not make sense to promote products that do not convert. We need only products that the user will eventually buy!\u201d you explain.", "Good, so your data scientists go back at work, and this time their algorithm maximizes the number of items sold. But then you discover a lot of $3.99 pedals like these were sold!", "You now make clear that total revenue needs to be maximized, as selling lots of cheap items won\u2019t help too much your bottom line. But, wait, is it the total price of the item or your gross profit that you want to maximize? And what if it\u2019s generally the gross profit, but you still want to sell certain low-margin products because they tend to bring high-value and more loyal customers?", "Bottom line is, a machine learning product is as good as the objectives that you give to it, and that is a business-driven decision, often not straightforward.", "But what are the levers that you have control on?", "Three crucial things need to be decided in every ML product:", "Let\u2019s look at them one by one.", "Performance metrics of a machine learning model can represent business variables, but not necessarily so. The business focus is particularly useful when the model lacks in interpretability, which can then be compensated by more user-friendly performance metrics.", "A key aspect to take into account when setting metrics and targets for a predictive model is the cost of making a mistake for the business. Let\u2019s see that in action with the example of a classification engine.", "An online hotel booking platform wants to predict the customers who will likely cancel their reservation.", "The machine learning model workflow looks like the one below, flagging each customer as either \u2018likely to cancel\u2019 or \u2018not likely to cancel\u2019.", "The Data Science team comes out with a model that has an accuracy of 90%, that is, 90% of the customers are predicted correctly. Should you congratulate your Data Science team?", "Let\u2019s look at the outcome in more detail. There are 1000 customers, out of which 900 have been predicted correctly.", "But when we look at it in more detail, we realize that not all errors are born equal. There is a difference in making a mistake of a customer predicted to cancel that eventually doesn\u2019t VS a customer predicted not to cancel that eventually travels.", "There are two questions in particular that we want to ask:", "In this case, when the model predicts a customer will cancel, it will only be right 25% of the time. And out of the customers that will eventually cancel, it only catches 5% of them! Hardly a good classifier, even though it has an accuracy of 90%. Consider also that a dummy classifier, simply predicting NO for all customers, would have an accuracy of 91% in this scenario (895 + 15 correct predictions out of 1000). This is a typical problem of imbalanced classes, well known for example to those designing medical tests to identify rare diseases.", "What is the best metric to choose, then?", "Let\u2019s view now a couple of business applications of this model that would have different business priorities and hence would require different metrics to be optimized.", "Hotel cancellation prediction for an overbooking use case", "The Optimization Team wants to perform overbooking of reservations of those customers with a very high probability to cancel. They have a big cost of making mistakes (customer will remain without a place to sleep!) but does not necessarily need a huge list of customers to be flagged. What should we optimize this model for?", "This model will be optimized for precision, so would flag few bookings, but for those it will be super-confident.", "Hotel cancellation prediction for customer service reminder calls", "Consider instead now the same model to be used by Customer Service to schedule reminder calls to customers more likely to cancel, so to try to engage with them and prevent their cancellation.", "In this case, the cost of making the phone call can be quite low, and the cost of making a mistake (e.g. calling someone who was not even considering canceling) is not too high. So you might want to flag a larger share of customers with different levels of confidence, and you will end up with a classifier with lower precision but higher recall/sensitivity.", "At this stage, you might have chosen an ideal set of performance metrics to measure your machine learning model ex-post, but chances are you also want the model to be optimized for those metrics while it is being built in the first place.", "This is achieved through the so-called loss function, that is the error function that the model tries to minimize when it is trained (ie when it is learning from past data), and can also be seen as the reverse of an optimization function.", "This step spans quite technical and mathematical considerations, even though lots of pre-built algorithms work best with certain default functions. For example, if you are running a linear regression, it\u2019s quite uncommon that you want to deviate from least-squares as a loss function.", "But this is not always the case, and in some situations, this can also become a business decision.", "For example, if you are trying to cluster shops similar to each other, you need to consider both a \u2018category\u2019 dimension (the type of shop) and a geographical component (its location).", "The clustering model will try to define clusters based on a distance criteria, but there is not a single way to define such distance: for example, depending on your business use case, you might want to use a broader definition of categories (e.g. all food shops together) vs wider geographical areas of clusters (e.g. all shops in a city rather than a neighborhood).", "A question that could arise is:", "Why do we need to define a loss function separatly by the performance metrics and not simply use the same one?", "There are two reasons for that:", "In general, though, the loss function should be aligned with the evaluation metrics. At the end of the day, the model sees only its loss function while it\u2019s being trained, but you will assess it using the evaluation metrics at the end. If the two start to diverge, it\u2019s not going to be good.", "Measuring the performance of a machine learning product per see is only part of the story, as the very end objective normally is to improve the business overall. Business and product objectives can differ for several reasons, but here are two common examples, one negative and one positive:", "Let\u2019s consider an example of a personalized newsletter. You might be able to accurately measure the product-specific metrics vs a control group, such as increased revenues, conversions, etc, by attributing additional sales when the user clicks on the newsletter and then purchases a product.", "But what if the customer sees a product in the newsletter, doesn\u2019t click on it, but then later in the day remembers it and buys it directly on the website? In most attribution models, this would be considered as a \u2018direct channel\u2019 purchase, hence not attributed to the newsletter.", "On the opposite side of the spectrum, your newsletter could drive certain sales that might have occurred anyway from other channels.", "A way to try to measure these wider effects is to measure the uplift performance based on the customer as a whole, regardless of the channel. In this example, if you are comparing treated vs control customers from your newsletter, you would need to measure their activity across the entire platform (e.g. whether they bought a product in the day across all channels)", "This is however easier said than done for two main reasons:", "In any case, even though it might be impossible to account for all these variables, it\u2019s important to keep them in mind at least from a qualitative point of view, even when it\u2019s impossible to quantify them.", "Setting the right performance metrics can be a tricky task and needs to be a business decision. If you are from the business side, involve your data scientists, but remember that at the end of the day it\u2019s your call and needs to be based on business priorities. If you are a data scientist, make sure you are fully aligned with the business and try to put yourself in their shoes before making these decisions.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data guy. No-nonsense approach to data science. INSEAD. Head of data science & analytics at Commonplace. Founder and lead instructor at thedatamba.com."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F908bcd80bac6&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdont-trust-data-scientists-to-set-performance-metrics-908bcd80bac6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdont-trust-data-scientists-to-set-performance-metrics-908bcd80bac6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdont-trust-data-scientists-to-set-performance-metrics-908bcd80bac6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdont-trust-data-scientists-to-set-performance-metrics-908bcd80bac6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----908bcd80bac6--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----908bcd80bac6--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://thedatamba.medium.com/?source=post_page-----908bcd80bac6--------------------------------", "anchor_text": ""}, {"url": "https://thedatamba.medium.com/?source=post_page-----908bcd80bac6--------------------------------", "anchor_text": "Gianluca Gindro"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feb02ab3988d4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdont-trust-data-scientists-to-set-performance-metrics-908bcd80bac6&user=Gianluca+Gindro&userId=eb02ab3988d4&source=post_page-eb02ab3988d4----908bcd80bac6---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F908bcd80bac6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdont-trust-data-scientists-to-set-performance-metrics-908bcd80bac6&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F908bcd80bac6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdont-trust-data-scientists-to-set-performance-metrics-908bcd80bac6&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/photos/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=690161", "anchor_text": "Free-Photos"}, {"url": "https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=690161", "anchor_text": "Pixabay"}, {"url": "https://pixabay.com/users/Skitterphoto-324082/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=2846147", "anchor_text": "Rudy and Peter Skitterians"}, {"url": "https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=2846147", "anchor_text": "Pixabay"}, {"url": "https://www.evanscycles.com/m-part-standard-plastic-pedals-9-16-inch-thread-EV173724", "anchor_text": "Evanscycles"}, {"url": "https://medium.com/swlh/recall-precision-f1-roc-auc-and-everything-542aedf322b9", "anchor_text": "precision-recall"}, {"url": "https://en.wikipedia.org/wiki/Loss_function", "anchor_text": "loss function"}, {"url": "https://en.wikipedia.org/wiki/Least_squares", "anchor_text": "least-squares"}, {"url": "https://en.wikipedia.org/wiki/Click-through_rate", "anchor_text": "CTR"}, {"url": "https://medium.com/tag/data-science?source=post_page-----908bcd80bac6---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----908bcd80bac6---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/product-management?source=post_page-----908bcd80bac6---------------product_management-----------------", "anchor_text": "Product Management"}, {"url": "https://medium.com/tag/analytics?source=post_page-----908bcd80bac6---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/tag/metrics?source=post_page-----908bcd80bac6---------------metrics-----------------", "anchor_text": "Metrics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F908bcd80bac6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdont-trust-data-scientists-to-set-performance-metrics-908bcd80bac6&user=Gianluca+Gindro&userId=eb02ab3988d4&source=-----908bcd80bac6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F908bcd80bac6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdont-trust-data-scientists-to-set-performance-metrics-908bcd80bac6&user=Gianluca+Gindro&userId=eb02ab3988d4&source=-----908bcd80bac6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F908bcd80bac6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdont-trust-data-scientists-to-set-performance-metrics-908bcd80bac6&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----908bcd80bac6--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F908bcd80bac6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdont-trust-data-scientists-to-set-performance-metrics-908bcd80bac6&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----908bcd80bac6---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----908bcd80bac6--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----908bcd80bac6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----908bcd80bac6--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----908bcd80bac6--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----908bcd80bac6--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----908bcd80bac6--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----908bcd80bac6--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----908bcd80bac6--------------------------------", "anchor_text": ""}, {"url": "https://thedatamba.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://thedatamba.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Gianluca Gindro"}, {"url": "https://thedatamba.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "191 Followers"}, {"url": "http://thedatamba.com", "anchor_text": "thedatamba.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feb02ab3988d4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdont-trust-data-scientists-to-set-performance-metrics-908bcd80bac6&user=Gianluca+Gindro&userId=eb02ab3988d4&source=post_page-eb02ab3988d4--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8138d177b937&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdont-trust-data-scientists-to-set-performance-metrics-908bcd80bac6&newsletterV3=eb02ab3988d4&newsletterV3Id=8138d177b937&user=Gianluca+Gindro&userId=eb02ab3988d4&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}