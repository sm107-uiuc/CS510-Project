{"url": "https://towardsdatascience.com/image-difference-using-computer-vision-in-ios-14-7753b8d61e82", "time": 1683011913.2032902, "path": "towardsdatascience.com/image-difference-using-computer-vision-in-ios-14-7753b8d61e82/", "webpage": {"metadata": {"title": "Anomaly Detection in iOS \u2014 Compute Image Differences Using Core Image in SwiftUI | by Anupam Chugh | Better Programming", "h1": "Anomaly Detection in iOS \u2014 Compute Image Differences Using Core Image in SwiftUI", "description": "Human eyes are very receptive to visual representations. Similarly, computer vision enables systems to understand and process images. Core Image and Vision are the two main pillars of Computer Vision\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/anupamchugh/CoreImageAbsoluteColorDiff", "anchor_text": "Github Repository", "paragraph_index": 22}, {"url": "http://linktr.ee/anupamchugh", "anchor_text": "linktr.ee/anupamchugh", "paragraph_index": 27}], "all_paragraphs": ["Human eyes are very receptive to visual representations. Similarly, computer vision enables systems to understand and process images.", "Core Image and Vision are the two main pillars of Computer Vision in iOS. During WWDC 2020 Apple pushed the envelope for both of them.", "Core Image in iOS 14 now includes a few new built-in filters for image processing. Specifically, we have a CIColorThreshold filter to convert an image into just black and white by setting threshold value as well as another CIColorThresholdOtsu which determines the appropriate threshold from the image\u2019s histogram.", "More importantly, we can now compare two images using the new CIColorAbsoluteDifference filter \u2014 our main focus in this article.", "In the following sections, we\u2019ll explore the use cases that can be achieved by analyzing the difference between images.", "This image processing task involves computing the absolute difference of each pixel across two images and adding them up.", "In doing so, we get a new transformed image that shows the variations across the two images.", "In the new Core Image filter, if the two images are exactly, the same, our output image would be black.", "By comparing color differences across images we can:", "Next up, we\u2019ll explore a few examples of comparing two images.", "Let\u2019s create a new SwiftUI application that performs image processing.", "Core Image requires setting the input CIImage(which we\u2019ll convert from UIImage) onto the CIFilter. Subsequently, we can set thresholds if any, and retrieve the outputImage instance from the filter. That outputImage instance is basically a copy of the inputImage which is then passed into CIContext\u2019s function createCGImage to perform the transformation.", "CIContext is where all the image processing takes place.", "The following example shows the classic \u201cspot the difference in images\u201d puzzle. But with computer vision.", "CIFilter.colorAbsoluteDifference() creates the CIFilter and we passed the two images on it.", "We can also transform the two images into grayscale before comparing them.", "It\u2019s common to come across a task where you need to ensure that a watermark or logo overlay is set over the image. Again, using the CIColorAbsoluteDifference we can determine that as shown below:", "Scanning credit cards in our mobile applications and extracting the digits is a fairly common computer vision task.", "We can further leverage the power of the above Core Image Filter to determine if the credit card\u2019s image hasn\u2019t tampered. Moreover, we can keep a reference credit card image that\u2019s blank and compare it with a scanned image to only extract the digits.", "The following example shows how to do both of these things:", "In the left-hand side image, to fully detect if outlier/anomaly is present using computer vision, we can extend the above example by comparing the output image with an opaque black image.", "Here\u2019s the complete code for computing image differences:", "The full source code of the above SwiftUI + CoreImage application is available in this Github Repository.", "Apple\u2019s image processing framework CoreImage is handy for image transformations and augmentations when preparing datasets.", "We discussed a new filter CIColorAbsoluteDifference available in iOS 14 that compares two images by the color of each pixel(without the need of OpenCV).", "This is useful in spotting blemishes across images, determining and removing duplicate images from a video or dataset.", "That\u2019s it for this one. Thanks for reading.", "Human bot and a Debugger at Better Programming. Satirist for controversial opinions. Freelance iOS dev. Mr. Chatterbox (per school teacher)linktr.ee/anupamchugh"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7753b8d61e82&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Fimage-difference-using-computer-vision-in-ios-14-7753b8d61e82&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Fbetterprogramming.pub%2Fimage-difference-using-computer-vision-in-ios-14-7753b8d61e82&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Fimage-difference-using-computer-vision-in-ios-14-7753b8d61e82&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Fbetterprogramming.pub%2Fimage-difference-using-computer-vision-in-ios-14-7753b8d61e82&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://me.dm/@anupamchugh", "anchor_text": "Mastodon"}, {"url": "https://betterprogramming.pub/?source=post_page-----7753b8d61e82--------------------------------", "anchor_text": ""}, {"url": "https://betterprogramming.pub/?source=post_page-----7753b8d61e82--------------------------------", "anchor_text": "Better Programming"}, {"url": "https://anupamchugh.medium.com/?source=post_page-----7753b8d61e82--------------------------------", "anchor_text": ""}, {"url": "https://anupamchugh.medium.com/?source=post_page-----7753b8d61e82--------------------------------", "anchor_text": "Anupam Chugh"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F9833cc01f515&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Fimage-difference-using-computer-vision-in-ios-14-7753b8d61e82&user=Anupam+Chugh&userId=9833cc01f515&source=post_page-9833cc01f515----7753b8d61e82---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7753b8d61e82&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Fimage-difference-using-computer-vision-in-ios-14-7753b8d61e82&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7753b8d61e82&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Fimage-difference-using-computer-vision-in-ios-14-7753b8d61e82&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@franckinjapan?utm_source=medium&utm_medium=referral", "anchor_text": "Franck V."}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://github.com/anupamchugh/CoreImageAbsoluteColorDiff", "anchor_text": "Github Repository"}, {"url": "https://medium.com/tag/ios?source=post_page-----7753b8d61e82---------------ios-----------------", "anchor_text": "IOS"}, {"url": "https://medium.com/tag/computer-vision?source=post_page-----7753b8d61e82---------------computer_vision-----------------", "anchor_text": "Computer Vision"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----7753b8d61e82---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/programming?source=post_page-----7753b8d61e82---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/swiftui?source=post_page-----7753b8d61e82---------------swiftui-----------------", "anchor_text": "Swiftui"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fbetter-programming%2F7753b8d61e82&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Fimage-difference-using-computer-vision-in-ios-14-7753b8d61e82&user=Anupam+Chugh&userId=9833cc01f515&source=-----7753b8d61e82---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fbetter-programming%2F7753b8d61e82&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Fimage-difference-using-computer-vision-in-ios-14-7753b8d61e82&user=Anupam+Chugh&userId=9833cc01f515&source=-----7753b8d61e82---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7753b8d61e82&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Fimage-difference-using-computer-vision-in-ios-14-7753b8d61e82&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://betterprogramming.pub/?source=post_page-----7753b8d61e82--------------------------------", "anchor_text": "More from Better Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Fbetter-programming%2F7753b8d61e82&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Fimage-difference-using-computer-vision-in-ios-14-7753b8d61e82&collection=Better+Programming&collectionId=d0b105d10f0a&source=post_page-----7753b8d61e82---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://betterprogramming.pub/?source=post_page-----7753b8d61e82--------------------------------", "anchor_text": "Read more from Better Programming"}, {"url": "https://medium.com/?source=post_page-----7753b8d61e82--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7753b8d61e82--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7753b8d61e82--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7753b8d61e82--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7753b8d61e82--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7753b8d61e82--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7753b8d61e82--------------------------------", "anchor_text": ""}, {"url": "https://anupamchugh.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://anupamchugh.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Anupam Chugh"}, {"url": "https://anupamchugh.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "28K Followers"}, {"url": "http://linktr.ee/anupamchugh", "anchor_text": "linktr.ee/anupamchugh"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F9833cc01f515&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Fimage-difference-using-computer-vision-in-ios-14-7753b8d61e82&user=Anupam+Chugh&userId=9833cc01f515&source=post_page-9833cc01f515--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Faef2b78e9b90&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Fimage-difference-using-computer-vision-in-ios-14-7753b8d61e82&newsletterV3=9833cc01f515&newsletterV3Id=aef2b78e9b90&user=Anupam+Chugh&userId=9833cc01f515&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}