{"url": "https://towardsdatascience.com/set-up-a-dask-cluster-for-distributed-machine-learning-31f587b1b553", "time": 1683004277.717828, "path": "towardsdatascience.com/set-up-a-dask-cluster-for-distributed-machine-learning-31f587b1b553/", "webpage": {"metadata": {"title": "Set up a Dask Cluster for Distributed Machine Learning | by Aadarsh Vadakattu | Towards Data Science", "h1": "Set up a Dask Cluster for Distributed Machine Learning", "description": "If you know what Dask is capable of and how it can distribute your machine learning processes, you are in the right place! This article will explain how to create a simple SSH cluster, which you can\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/u/360640c0a123?source=post_page-----31f587b1b553--------------------------------", "anchor_text": "Pablo Salvador Lopez", "paragraph_index": 0}, {"url": "https://medium.com/u/bb4e30a633db?source=post_page-----31f587b1b553--------------------------------", "anchor_text": "Aadarsh Vadakattu", "paragraph_index": 0}], "all_paragraphs": ["Collaboratively written by Pablo Salvador Lopez and Aadarsh Vadakattu", "If you know what Dask is capable of and how it can distribute your machine learning processes, you are in the right place! This article will explain how to create a simple SSH cluster, which you can use as a foundation to implement a Dask environment that can distribute your machine learning workflow.", "A Dask cluster can be spun up in multiple ways:", "In this article, we will show how we spun up a working Dask test environment by using SSH connections.", "Setting up a Dask cluster using SSH connections might seem like the easiest of the bunch, but it is also the most unstable, insecure and tedious to build. Use this approach for testing purposes only and not for somewhere in production. Based on your production environment, you can either try implementing Dask with Hadoop or with Kubernetes or with cloud solutions as they are much more organized and stable.", "Dask runs on a Scheduler-Worker network where the scheduler assigns the tasks and the nodes communicate with each other to finish the assigned task. So, every machine in the network must be able to connect and contact each other. Dask sometimes also tries to connect from a source node to the same source node, so we should make sure every connection gateway on all machines, including a connection to itself available.", "After you find a bunch of machines that you can use to implement a distributed cluster,", "The following test setup is implemented on a bunch of machines running on Red Hat Enterprise Linux 7 (RHEL 7). You can develop or deploy this architecture anywhere by starting a bunch of Virtual Machines either locally or in the cloud or on real machines that are accessible through a network.", "You can confirm that your connection is not obstructed by using the ping command. If you do not receive the transmitted packets by ping, there is an issue with your network.", "If security is not significant for your test setup, you can disable the firewall to reduce some hassle. To do this, run this command on all machines. This will shut down the firewall on the machine you run.", "You can check the firewall status by running the following command:", "After all your machines are made discoverable from each other machine, you need to let them connect using SSH so that they can communicate and transfer data.", "Usually, SSHing to a machine would need an IP to the system and a password for authentication. This type of login can be done manually, but Dask will not know how and where to enter a password if the destination machine requests it. To overcome this, we can make all the other possible destination machines in the planned cluster as an SSH known host, making the login secure and password-less.", "If you have not created an SSH key before, run the ssh-keygen command as shown. You can either put in a passphrase if needed or you can leave it blank.", "Now run the following command to copy the SSH ID of your destination machine. Assuming it is 10.1.1.93,", "Running the above command may show you an output similar to this:", "You can also confirm if all possible destinations in your cluster are made as hosts by checking the ~/.ssh/known_hosts file.", "Make sure you run this step for each machine you are planning to include in the cluster(Including the IP of the current machine you might be working on. As mentioned, Dask sometimes tries to connect to itself and it fails because there is no SSH authorization to do it.)", "After you run these for all machines, you should be able to log in from one machine to the other seamlessly without the use of a password. The following example shows two machines where 10.1.1.107 has no SSH ID copied, while 10.1.1.93 has it\u2019s ID copied on the current working machine.", "Now you can set up a place where Dask can access your data. You can do this with the help of an application called SSHFS, which creates mount points on the directory you specify on any machine. When you specify a mount source on a destination machine, this transfers data from source to destination and from destination to the source to keep all files and folders in that specific directory in sync across machines. The good thing with this approach is \u2014 this copies and syncs the data from both locations and not only where the mount point source is created.", "Dask sometimes gets confused if you place your data to be processed in different directory paths on the machines you have. Thus, make sure you choose a specific directory that is common across machines. A simple example can be /tmp/daskdata/ .", "To designate this directory as a mount point,", "The above command assumes you already logged in to a machine and you are pointing your /tmp/daskdata/ on this machine to /tmp/daskdata/ on 10.10.10.10 which can be the source.", "After you implement the mount points correctly, make sure it is running by creating a file in your mounted directory in any machine. You can easily create a test file with touch dummy which creates an empty file with the name \u201cdummy\u201d. Creating this file at any one location must copy the file to all locations, which means it should be found in /tmp/daskdata/ directories in all machines.", "Finally, you have to make sure all Python libraries that you need are running with the same versions across all clusters. To do this,", "You are now ready to put data in your mounted folder and write a Dask application!", "Stay tuned for other ways to run Dask effectively, including Setting up via HDFS and YARN, Setting up using Kubernetes and Setting up in Azure Cloud.", "Thanks a lot for reading! Now that you have a cluster set up, you can create and run a Dask program and see all the run statistics in the Dask dashboard!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Lead Data Engineer at ProKarma. Loves to work with Data and Analytics. Also loves writing and talking to people."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F31f587b1b553&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fset-up-a-dask-cluster-for-distributed-machine-learning-31f587b1b553&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fset-up-a-dask-cluster-for-distributed-machine-learning-31f587b1b553&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fset-up-a-dask-cluster-for-distributed-machine-learning-31f587b1b553&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fset-up-a-dask-cluster-for-distributed-machine-learning-31f587b1b553&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----31f587b1b553--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----31f587b1b553--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@thedatabuddy?source=post_page-----31f587b1b553--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@thedatabuddy?source=post_page-----31f587b1b553--------------------------------", "anchor_text": "Aadarsh Vadakattu"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbb4e30a633db&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fset-up-a-dask-cluster-for-distributed-machine-learning-31f587b1b553&user=Aadarsh+Vadakattu&userId=bb4e30a633db&source=post_page-bb4e30a633db----31f587b1b553---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F31f587b1b553&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fset-up-a-dask-cluster-for-distributed-machine-learning-31f587b1b553&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F31f587b1b553&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fset-up-a-dask-cluster-for-distributed-machine-learning-31f587b1b553&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "http://towardsdatascience.com/tagged/daskdistributedml", "anchor_text": "Distributed Machine Learning with Python and Dask"}, {"url": "https://medium.com/u/360640c0a123?source=post_page-----31f587b1b553--------------------------------", "anchor_text": "Pablo Salvador Lopez"}, {"url": "https://medium.com/u/bb4e30a633db?source=post_page-----31f587b1b553--------------------------------", "anchor_text": "Aadarsh Vadakattu"}, {"url": "https://download-ib01.fedoraproject.org/pub/epel/7/x86_64/Packages/e/epel-release-7-12.noarch.rpm", "anchor_text": "https://download-ib01.fedoraproject.org/pub/epel/7/x86_64/Packages/e/epel-release-7-12.noarch.rpm"}, {"url": "https://docs.dask.org/en/latest/install.html#optional-dependencies", "anchor_text": "link"}, {"url": "https://conda.github.io/conda-pack", "anchor_text": "https://conda.github.io/conda-pack/"}, {"url": "https://jcrist.github.io/venv-pack", "anchor_text": "https://jcrist.github.io/venv-pack/"}, {"url": "https://medium.com/tag/data-science?source=post_page-----31f587b1b553---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----31f587b1b553---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/python?source=post_page-----31f587b1b553---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/distributed-computing?source=post_page-----31f587b1b553---------------distributed_computing-----------------", "anchor_text": "Distributed Computing"}, {"url": "https://medium.com/tag/daskdistributedml?source=post_page-----31f587b1b553---------------daskdistributedml-----------------", "anchor_text": "Daskdistributedml"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F31f587b1b553&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fset-up-a-dask-cluster-for-distributed-machine-learning-31f587b1b553&user=Aadarsh+Vadakattu&userId=bb4e30a633db&source=-----31f587b1b553---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F31f587b1b553&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fset-up-a-dask-cluster-for-distributed-machine-learning-31f587b1b553&user=Aadarsh+Vadakattu&userId=bb4e30a633db&source=-----31f587b1b553---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F31f587b1b553&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fset-up-a-dask-cluster-for-distributed-machine-learning-31f587b1b553&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----31f587b1b553--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F31f587b1b553&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fset-up-a-dask-cluster-for-distributed-machine-learning-31f587b1b553&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----31f587b1b553---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----31f587b1b553--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----31f587b1b553--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----31f587b1b553--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----31f587b1b553--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----31f587b1b553--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----31f587b1b553--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----31f587b1b553--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----31f587b1b553--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@thedatabuddy?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@thedatabuddy?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Aadarsh Vadakattu"}, {"url": "https://medium.com/@thedatabuddy/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "57 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbb4e30a633db&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fset-up-a-dask-cluster-for-distributed-machine-learning-31f587b1b553&user=Aadarsh+Vadakattu&userId=bb4e30a633db&source=post_page-bb4e30a633db--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fbb4e30a633db%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fset-up-a-dask-cluster-for-distributed-machine-learning-31f587b1b553&user=Aadarsh+Vadakattu&userId=bb4e30a633db&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}