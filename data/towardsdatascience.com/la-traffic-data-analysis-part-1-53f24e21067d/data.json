{"url": "https://towardsdatascience.com/la-traffic-data-analysis-part-1-53f24e21067d", "time": 1683005795.115368, "path": "towardsdatascience.com/la-traffic-data-analysis-part-1-53f24e21067d/", "webpage": {"metadata": {"title": "LA Traffic Data Analysis \ud83d\ude97. Using open-source data to analyze\u2026 | by Jai Bansal | Towards Data Science", "h1": "LA Traffic Data Analysis \ud83d\ude97", "description": "Traffic is an issue that\u2019s familiar to pretty much everyone. As a 7-year Los Angeles resident, I\u2019ve sat in more than my fair share of gridlock, seemingly regardless of time of day or day of week\u2026"}, "outgoing_paragraph_urls": [{"url": "https://data.lacity.org/A-Safe-City/Traffic-Collision-Data-from-2010-to-Present/d5tf-ez2w", "anchor_text": "traffic collision data set", "paragraph_index": 0}, {"url": "https://data.lacity.org/browse", "anchor_text": "bunch of others", "paragraph_index": 1}, {"url": "https://github.com/jai-bansal", "anchor_text": "https://github.com/jai-bansal", "paragraph_index": 64}], "all_paragraphs": ["Traffic is an issue that\u2019s familiar to pretty much everyone. As a 7-year Los Angeles resident, I\u2019ve sat in more than my fair share of gridlock, seemingly regardless of time of day or day of week. That\u2019s why I was so interested when I stumbled upon a traffic collision data set maintained by the city of Los Angeles. This data is cool for several reasons. While it doesn\u2019t directly measure traffic, it measures a closely-related proxy. It\u2019s not a stretch to hypothesize that more traffic correlates with more collisions which directly cause more traffic.", "I am hopeful that data sets like this one can be used to create safer and more efficient communities for everyone. In that spirit, this data set (and a bunch of others) is actively maintained by the city of Los Angeles and is freely available to the public.", "After browsing the data, I settled on 3 major questions I wanted to attempt to answer:", "Before getting into the questions above, let\u2019s learn more about the data set.", "The data begins in January 2010 and is updated weekly. In my particular case, I use data from January 2010 - July 2019, which ends up being ~500K rows. Each row corresponds to a collision. This data is transcribed from original paper traffic reports, so it\u2019s very likely that there are errors. Below is a sample of some of the key fields:", "The availability of these fields inspired the key questions listed above.", "As with any data set, this one needs cleaning before starting any analysis. There are a few columns with only one value, reflecting the fact that all rows in this data correspond to traffic collisions.", "There are also multiple fields with the approximate street names of collisions (not shown above). These text fields need cleaning, specifically removing extra spaces. Similarly, in the image above we can see the latitude/longitude coordinates contained in a string. I extract these coordinates in separate columns for later use.", "The next step is to check for null or missing values. ~16% of collisions (~78K) don\u2019t have an associated victim age. There is also a small number (~400) of collisions that do not have valid latitude/longitude coordinates and will be excluded from the mapping section in part 2.", "After cleaning, but before diving into the main questions, I want to do some general data exploration. This sort of analysis is typically useful. Even without a specific goal in mind, I often find helpful trends or insights. I\u2019ll start by plotting a few of the variables in the data. By the way, all of this work was done in R and the code is linked at the bottom of the post!", "Here\u2019s what jumps out at me:", "I emailed the data owner about these questions, but unfortunately haven\u2019t heard back. I\u2019ll add an update if I get a response.", "Next, let\u2019s look at collisions by gender.", "This work would be more interesting if I had the total number of drivers by gender, allowing for a collisions per capita measure. This will be a recurring shortcoming of this data and would be one of my main extensions of this analysis.", "The next thing I want to do is look at the lowest and highest collision days in the data. I only include the top and bottom 0.5% on either end so I can review the results manually. Here are the lowest collision days:", "And here are the highest collision days:", "These results bring up a few questions and thoughts outside the scope of this analysis.", "With this descriptive analysis in mind, I\u2019m ready to tackle the key questions I outlined at the beginning of this post. The first one is about analyzing collisions over time.", "In this section, I analyze how collision patterns vary by time of day, day of week, and time of year.", "First, I plot daily collisions for 2018. Plotting all of the data starting from 2010 is too chaotic and so I focus only on 2018 for many parts of this section. In addition to collision date, the data has a field for the reporting date. This is the date the collision was actually reported to police. In most cases, the reporting date is the same day or one day after the collision date.", "Let\u2019s see a similar plot aggregated by month. At this level, I can include the entire time frame from 2010\u20132019.", "So, why do monthly collisions rise in the plot above? Did the number of people living and driving in LA rise from 2014 - 2017? Could it be related to the rise of ride-sharing services? It\u2019s not clear from this data, but these are possible starting points for a separate post.", "Next, I analyze the distribution of collisions throughout the day.", "These results likely mirror the number of vehicles on the road. It seems intuitive that many collisions occur during the evening rush hour. As I mentioned before, having access to a measure of total vehicles on the road per hour would allow me to calculate collisions per capita. There are no hourly timestamps available for when collisions are reported, so I can\u2019t plot that field by hour.", "The next step is to examine collisions by day of week.", "The end of the working week is the obvious hypothesis for the high number of Friday collisions. I haven\u2019t come up with any others so far!", "Finally, I plot results by month.", "So, collisions tend to be lower in colder months. One possible explanation for this is less tourists visiting LA in the colder months. Regarding the high number of collisions in March, my initial hypothesis was Daylight Savings Time. However, none of the highest collision days were on this date. Perhaps this result stems from spring break tourists?", "This concludes my analysis of the temporal patterns of collisions. Here\u2019s my summary of the results above.", "Next up is looking at collisions by geography.", "In addition to latitude/longitude coordinates, the data has multiple fields describing where a collision occurred. I\u2019ll start out by looking at these fields. First, I\u2019ll plot the distribution of collisions by area.", "Some areas obviously have more collisions than others. But without additional information such as size or traffic density per area, this graphic isn\u2019t too informative.", "The data also includes fields called location and cross_street. location is the main street a collision occurred on, while cross_street is the nearest cross street. I\u2019ll look at the 10 most common values for these fields and their combination.", "The 10 most common location are some of the longest and most trafficked roads in LA. These top 10 streets account for >10% of total collisions. There are >25K total location, so there\u2019s a very long tail. Now, I\u2019ll look at the cross_street field.", "5% of collisions have no associated cross_street. Otherwise, this list has a lot of overlap with the previous list. The obvious next step is to look at the most common intersections for collisions by combining these two fields.", "The most common intersections (location / cross_street combinations) for collisions contains many of the same streets that were in the previous lists. However, there are exceptions: the components of row 2 (Tampa Ave. and Nordhoff St.) don\u2019t appear in either the most common location or cross_street. Even the most collision-prone intersections account for only a small proportion of overall collisions.", "Now it\u2019s time to take advantage of the geographic coordinates in the data and start mapping collisions. As a reminder, there are a small number of collisions that do not have valid latitude/longitude data and so are excluded from this section.", "This map is pretty cluttered. For a better view, I\u2019ll zoom in to a window showing much of central and downtown Los Angeles.", "The previous maps showed overall collisions. How does this data look if I add time of day?", "Let\u2019s look at a similar map broken out by weekday/weekend.", "To conclude this section, I plot collisions by time of year.", "These are my conclusions for the Collisions by Geography section:", "The final section deals with trying to predict collisions. I specifically try to predict the number of collisions that will occur per month and area.", "I\u2019ll start by looking at an example of the collision time series for a single area:", "Let\u2019s decompose this time series into trend, seasonality, and remainder components. As an aside, I\u2019ll be focusing on the analysis results in this post and won\u2019t delve into the theory of the time series methods I\u2019m using. However, there are lots of resources available online if you\u2019d like to learn more!", "Let\u2019s compare the area 2 decomposition to the overall monthly collisions decomposition.", "Next, I\u2019ll look at the auto-correlation function (ACF) and partial auto-correlation function (PACF) for area 2. The ACF analyzes how correlated lagged values of collisions are to the current value. The PACF shows how much previously unexplained variance each lag explains.", "I try a few different model types to predict collisions:", "MA models average past values to generate predictions and are the simplest type of time series model. ARIMA models can use past values, differencing, and previous errors. Prophet is an additive forecasting model where non-linear trends are fit with yearly and monthly seasonality.", "Prophet is much newer than ARIMA or MA models. You can find more info on it here:", "I evaluate each model on the final 12 months of data (August 2018 to July 2019) with the following metrics:", "The MAPE gives me an idea of how far my predictions are from actual collision values while the bias tells me if I am systematically over- or under-estimating the data.", "I auto-fit ARIMA models for each area. So each one can have a different p, d, and q. I also test multiple Prophet model specifications (and show the best results below). Here are the model MAPE and bias results averaged over all areas:", "Let\u2019s look at model predictions for area 2 only.", "Next, I\u2019ll look at the average MAPE per month per model. This plot includes all areas.", "It\u2019s also worth looking at the average bias per month per model.", "Now, I\u2019ll look at the average MAPE and bias per model per area.", "Next, I\u2019ll look at the worst area/month predictions per model.", "Based on the worst predictions, I\u2019ll zoom into area14.", "Here are my conclusions for the Collision Prediction section:", "This concludes my analysis on Los Angeles collision data! Feel free to get in touch if you have other approaches to these questions.", "You can find all of the code I used in the GitHub repository below:", "If you enjoyed this post, check out some of my other work below!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist | Whiskey Enthusiast | Board Game Extraordinaire | https://github.com/jai-bansal"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F53f24e21067d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-traffic-data-analysis-part-1-53f24e21067d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-traffic-data-analysis-part-1-53f24e21067d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-traffic-data-analysis-part-1-53f24e21067d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-traffic-data-analysis-part-1-53f24e21067d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----53f24e21067d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----53f24e21067d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@jai_bansal?source=post_page-----53f24e21067d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jai_bansal?source=post_page-----53f24e21067d--------------------------------", "anchor_text": "Jai Bansal"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe2bf67968ed7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-traffic-data-analysis-part-1-53f24e21067d&user=Jai+Bansal&userId=e2bf67968ed7&source=post_page-e2bf67968ed7----53f24e21067d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F53f24e21067d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-traffic-data-analysis-part-1-53f24e21067d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F53f24e21067d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-traffic-data-analysis-part-1-53f24e21067d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/users/Jsig9-15103906/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=4824646", "anchor_text": "Jsig9"}, {"url": "https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=4824646", "anchor_text": "Pixabay"}, {"url": "https://data.lacity.org/A-Safe-City/Traffic-Collision-Data-from-2010-to-Present/d5tf-ez2w", "anchor_text": "traffic collision data set"}, {"url": "https://data.lacity.org/browse", "anchor_text": "bunch of others"}, {"url": "https://facebook.github.io/prophet/", "anchor_text": "ProphetProphet is a forecasting procedure implemented in R and Python. It is fast and provides completely automated forecasts\u2026facebook.github.io"}, {"url": "https://github.com/jai-bansal/los-angeles-collision-analysis", "anchor_text": "jai-bansal/los-angeles-collision-analysisThis repo contains materials surrounding an analysis of collision data in Los Angeles. Below is a description of the\u2026github.com"}, {"url": "https://towardsdatascience.com/how-to-use-random-seeds-effectively-54a4cd855a79", "anchor_text": "How to Use Random Seeds EffectivelyThis post is about an aspect of the machine process that doesn\u2019t typically get much attention: random seeds.towardsdatascience.com"}, {"url": "https://medium.com/@jai_bansal/7-tips-for-developing-technical-trainings-for-your-organization-928cf7744d44", "anchor_text": "7 Tips for Developing Technical Trainings for your OrganizationTechniques to bring your next training course idea to lifemedium.com"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----53f24e21067d---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/data-science?source=post_page-----53f24e21067d---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/los-angeles?source=post_page-----53f24e21067d---------------los_angeles-----------------", "anchor_text": "Los Angeles"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----53f24e21067d---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/programming?source=post_page-----53f24e21067d---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F53f24e21067d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-traffic-data-analysis-part-1-53f24e21067d&user=Jai+Bansal&userId=e2bf67968ed7&source=-----53f24e21067d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F53f24e21067d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-traffic-data-analysis-part-1-53f24e21067d&user=Jai+Bansal&userId=e2bf67968ed7&source=-----53f24e21067d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F53f24e21067d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-traffic-data-analysis-part-1-53f24e21067d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----53f24e21067d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F53f24e21067d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-traffic-data-analysis-part-1-53f24e21067d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----53f24e21067d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----53f24e21067d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----53f24e21067d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----53f24e21067d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----53f24e21067d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----53f24e21067d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----53f24e21067d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----53f24e21067d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----53f24e21067d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jai_bansal?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jai_bansal?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Jai Bansal"}, {"url": "https://medium.com/@jai_bansal/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "29 Followers"}, {"url": "https://github.com/jai-bansal", "anchor_text": "https://github.com/jai-bansal"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe2bf67968ed7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-traffic-data-analysis-part-1-53f24e21067d&user=Jai+Bansal&userId=e2bf67968ed7&source=post_page-e2bf67968ed7--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fecefe8e6b094&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-traffic-data-analysis-part-1-53f24e21067d&newsletterV3=e2bf67968ed7&newsletterV3Id=ecefe8e6b094&user=Jai+Bansal&userId=e2bf67968ed7&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}