{"url": "https://towardsdatascience.com/getting-started-with-time-series-using-pandas-b6b9c9d11949", "time": 1683017270.987394, "path": "towardsdatascience.com/getting-started-with-time-series-using-pandas-b6b9c9d11949/", "webpage": {"metadata": {"title": "Getting started with Time Series using Pandas | by Parul Pandey | Towards Data Science", "h1": "Getting started with Time Series using Pandas", "description": "Time series analysis is the backbone for many companies since most businesses work by analyzing their past data to predict their future decisions. Analyzing such data can be tricky but Python, as a\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.atap.gov.au/tools-techniques/travel-demand-modelling/6-forecasting-evaluation", "anchor_text": "here.", "paragraph_index": 4}, {"url": "https://en.wikipedia.org/wiki/Maruti_Suzuki", "anchor_text": "Maruti Suzuki India Limited", "paragraph_index": 6}, {"url": "https://en.wikipedia.org/wiki/Suzuki", "anchor_text": "Suzuki Motor Corporation", "paragraph_index": 6}, {"url": "https://en.wikipedia.org/wiki/Maruti_Suzuki", "anchor_text": "Wikipedia", "paragraph_index": 6}, {"url": "https://www.kaggle.com/parulpandey/getting-started-with-time-series-using-pandas/data?select=MARUTI.csv", "anchor_text": "Kaggle", "paragraph_index": 7}, {"url": "https://nbviewer.jupyter.org/github/parulnith/Data-Science-Articles/tree/main/Getting%20started%20with%20Time%20Series%20using%20Pandas/", "anchor_text": "here", "paragraph_index": 7}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.to_datetime.html#pandas-to-datetime", "anchor_text": "to_datetime", "paragraph_index": 11}, {"url": "https://www.investopedia.com/terms/v/vwap.asp", "anchor_text": "volume-weighted average price (VWAP)", "paragraph_index": 14}, {"url": "https://www.investopedia.com/terms/v/vwap.asp", "anchor_text": "Investopedia", "paragraph_index": 14}, {"url": "https://pandas.pydata.org/", "anchor_text": "pandas'", "paragraph_index": 15}, {"url": "https://en.wikipedia.org/wiki/Panel_data", "anchor_text": "panel data", "paragraph_index": 15}, {"url": "https://en.wikipedia.org/wiki/Econometrics", "anchor_text": "econometrics", "paragraph_index": 15}, {"url": "https://en.wikipedia.org/wiki/Pandas_(software)", "anchor_text": "source", "paragraph_index": 15}, {"url": "http://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases", "anchor_text": "pandas\u2019 documentation.", "paragraph_index": 30}], "all_paragraphs": ["Time series analysis is the backbone for many companies since most businesses work by analyzing their past data to predict their future decisions. Analyzing such data can be tricky but Python, as a programming language, can help to deal with such data. Python has both inbuilt tools and external libraries, making the whole analysis process both seamless and easy. Python\u2019s Pandas library is frequently used to import, manage, and analyze datasets in various formats. However, in this article, we\u2019ll use it to analyze stock prices and perform some basic time-series operations.", "Time Series data is a sequence of data points listed in time order. It is a set of observations at specified times and equal intervals. Time series data is pretty common in our day to day lives, and some common examples include:", "Time series data usually has some date-time index and a corresponding value for that date-time index.", "Time series data mainly consists of four components:", "Here is a visual interpretation of the various components of the time series to make this concept clearer. You can view the original diagram with its context here.", "This article aims to introduce some standard techniques used in time-series analysis and walks through the iterative steps required to manipulate and visualize time-series data.", "Maruti Suzuki India Limited, formerly known as Maruti Udyog Limited, is an automobile manufacturer in India. It is a 56.21% owned subsidiary of the Japanese car and motorcycle manufacturer Suzuki Motor Corporation. As of July 2018, it had a market share of 53% of the Indian passenger car market[Wikipedia]", "Fire up the editor of your choice and type in the following code to import the required libraries and data. The data has been taken from Kaggle. The code along with the dataset can be accessed from here.", "Let\u2019s look at the first few columns of the dataset.", "To keep things simple, let\u2019s limit the number of columns.", "Let us now look at the datatypes of the various components.", "It appears that the Date column is being treated as a string rather than as dates. Let\u2019s make things right. For this, we shall use the pandas\u2019 to_datetime feature, which converts the arguments to dates. Lastly, we want to make sure that the Date column is the index column.", "The data has been imported, and we are ready to begin our analysis. Next, we will look at some of the essential attributes of stock data.", "Before beginning any analysis, we must understand the data first. A typical stock data consists of many columns. Let\u2019s dive a bit deeper into some of them:", "The volume-weighted average price (VWAP) is crucial because it provides traders with insight into both the security trend and value.[Investopedia]", "As the pandas' library was developed in financial modeling, it contains a comprehensive set of tools for working with dates, times, and time-indexed data. The name pandas is derived from the term \u201cpanel data,\u201d an econometrics term for data sets that include observations over multiple time periods for the same individuals[source]. Let\u2019s look at the main pandas' data structures for working with time-series data.", "Python\u2019s necessary objects for working with dates and times reside in the built-in datetime module. In pandas, a single point in time is represented as a Timestamp And we can use datetime() function to create Timestamps from strings in a wide variety of date/time formats.", "We can now create timestamps by using the above attributes.", "We have selected only the day, month, and year. We could also include more details like an hour, minute, and second, if necessary.", "For our stock price dataset, the index column is of the type. DatetimeIndex. We can use pandas to obtain the minimum and maximum dates in the data.", "We can also calculate the latest date index location and the Earliest Date index location as follows:", "Instead of working with the entire data, it is prudent to slice the time series data to highlight the portion of the data we are interested in. Since the volume-weighted average price (VWAP) is a trading benchmark, we shall limit our analysis to only that column.", "The data can also be sliced on year, month, or day, as follows:", "Visualizing the time series data can offer a better perspective instead of merely looking at the numbers.", "It appears that Maruti had a more or less steady increase in its stock price from 2004 to the mid-2018 window. There seems to be some drop in 2019, though. Let\u2019s further analyze the data for the year 2018.", "We see a dip in the stock prices, particularly around the end of October and November. Let\u2019s further zoom in on these dates.", "So there is a dip in stock prices around the last week of October and the first week of November. One could investigate it further by finding out if there was some special event on that day.", "Let\u2019s extract time and date features from the Date column.", "Time resampling is a way to aggregate data with respect to a defined time period. We have the stock price data for each day, but this doesn\u2019t make much sense if we want to see the trend for a financial institution. What is useful is the aggregated information for every month or every quarter. This helps the management to get an overview instantly and then make decisions based on this overview.", "Pandas library has a resample() function which resamples time-series data. The resample method in pandas is similar to its groupby method since it is essentially grouping by a specific time span.", "So here we have the average stock data displayed on the 31st of each month. Below is a complete list of the offset values. The list can be found in the pandas\u2019 documentation.", "We can also use time sampling to plot charts for some specific columns.", "The above bar plot corresponds to Maruti\u2019s average adjusted close price at year-end. Similarly, here is the monthly maximum opening price for Maruti", "Sometimes, it is desirable to shift or move the data forward or backward in time. This shifting is done along a time index by the desired number of time-frequency increments. Here is the original dataset without any shiftings.", "To shift our data forward, we will pass the desired number of periods (or increments) through the shift() function, which in this case, needs to be a positive value. Let\u2019s move our data forward by one period or index, which means that all values which earlier corresponded to row N will now belong to row N+1. Here is the output:", "Similarly, there is a concept of backward shifting. To shift our data backward, the number of periods (or increments) to change by, must be negative.", "6.3 Shifting based off Time String Code", "We can also use the offset from the offset table (from the Time Resampling section )for time-shifting. For that, we will make use of the pandas' tshift() function. We only need to pass in the periods and freq parameters. The period attribute defines the number of steps to be shifted, and the freq parameters denote the size of those steps.", "Let\u2019s say we want to shift the data 3 months forward:", "We would get the following as an output.", "Time series data can be noisy, and as a result, it becomes difficult to gauge the trend or pattern due to the high fluctuations. For instance, here is the visualization of the VWAP price of the Maruti stock over the years.", "There\u2019s quite a bit of noise here because this is the daily data. It would be nice to average this out by a week, which is where a rolling mean comes in. A rolling mean or Moving average is a transformation method that tends to average out this noise from the data. The idea is simple. Split the data into windows, and the data in each of these windows is then aggregated by some function like mean(), median(), count(), etc.", "For this example, we shall use a rolling mean for seven days.", "The first six values have become blank because there wasn\u2019t enough data to fill since we chose a window of 7 days.", "So what are the significant effects of calculating a moving average or using this rolling method? Our data becomes a lot less noisy and becomes more reflective of the trend than the actual data. Let\u2019s plot this out. We shall plot the original data and then the rolling data for 30 days in the same graph.", "The blue line is the original noisy data, while the orange line with a 30-day rolling window ends up having not as much noise as the blue line. Now, once you run this code, an important aspect to keep in mind is that the first 29 days aren\u2019t going to have that orange line because there wasn\u2019t enough data actually to calculate that rolling mean.", "Pandas is a powerful library with a lot of inbuilt functions for analyzing time-series data. This article saw how Python\u2019s pandas\u2019 library could be used for wrangling and visualizing time series data. We also performed tasks like time sampling, time-shifting, and rolling on the stock data. These are usually the first steps in investigating any time series data. Going forward, we could use this data in several ways. One way could be to perform a basic financial analysis by calculating the daily percentage change in stocks to get an idea about the stock price volatility. Another way would be to use this data to predict Maruti\u2019s stock price for the next few days by employing Machine Learning Techniques. Whatever assignment you choose, the preliminary steps shown in this article would come in handy.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Principal Data Scientist @H2O.ai | Author of Machine Learning for High-Risk Applications"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb6b9c9d11949&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-time-series-using-pandas-b6b9c9d11949&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-time-series-using-pandas-b6b9c9d11949&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-time-series-using-pandas-b6b9c9d11949&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-time-series-using-pandas-b6b9c9d11949&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b6b9c9d11949--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b6b9c9d11949--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://pandeyparul.medium.com/?source=post_page-----b6b9c9d11949--------------------------------", "anchor_text": ""}, {"url": "https://pandeyparul.medium.com/?source=post_page-----b6b9c9d11949--------------------------------", "anchor_text": "Parul Pandey"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7053de462a28&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-time-series-using-pandas-b6b9c9d11949&user=Parul+Pandey&userId=7053de462a28&source=post_page-7053de462a28----b6b9c9d11949---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb6b9c9d11949&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-time-series-using-pandas-b6b9c9d11949&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb6b9c9d11949&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-time-series-using-pandas-b6b9c9d11949&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.freepik.com/free-photos-vectors/business", "anchor_text": "Freepik"}, {"url": "https://www.atap.gov.au/tools-techniques/travel-demand-modelling/6-forecasting-evaluation", "anchor_text": "here."}, {"url": "https://www.atap.gov.au/tools-techniques/travel-demand-modelling/6-forecasting-evaluation", "anchor_text": "Components of Time Series"}, {"url": "https://en.wikipedia.org/wiki/Maruti_Suzuki", "anchor_text": "Maruti Suzuki India Limited"}, {"url": "https://en.wikipedia.org/wiki/Suzuki", "anchor_text": "Suzuki Motor Corporation"}, {"url": "https://en.wikipedia.org/wiki/Maruti_Suzuki", "anchor_text": "Wikipedia"}, {"url": "https://www.kaggle.com/parulpandey/getting-started-with-time-series-using-pandas/data?select=MARUTI.csv", "anchor_text": "Kaggle"}, {"url": "https://nbviewer.jupyter.org/github/parulnith/Data-Science-Articles/tree/main/Getting%20started%20with%20Time%20Series%20using%20Pandas/", "anchor_text": "here"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.to_datetime.html#pandas-to-datetime", "anchor_text": "to_datetime"}, {"url": "https://www.investopedia.com/terms/v/vwap.asp", "anchor_text": "volume-weighted average price (VWAP)"}, {"url": "https://www.investopedia.com/terms/v/vwap.asp", "anchor_text": "Investopedia"}, {"url": "https://pandas.pydata.org/", "anchor_text": "pandas'"}, {"url": "https://en.wikipedia.org/wiki/Panel_data", "anchor_text": "panel data"}, {"url": "https://en.wikipedia.org/wiki/Econometrics", "anchor_text": "econometrics"}, {"url": "https://en.wikipedia.org/wiki/Pandas_(software)", "anchor_text": "source"}, {"url": "http://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases", "anchor_text": "pandas\u2019 documentation."}, {"url": "http://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases", "anchor_text": "Offset Aliases for TIme Resampling"}, {"url": "http://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases", "anchor_text": "Source"}, {"url": "https://medium.com/tag/time-series-analysis?source=post_page-----b6b9c9d11949---------------time_series_analysis-----------------", "anchor_text": "Time Series Analysis"}, {"url": "https://medium.com/tag/financial-analysis?source=post_page-----b6b9c9d11949---------------financial_analysis-----------------", "anchor_text": "Financial Analysis"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----b6b9c9d11949---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/exploratory-data-analysis?source=post_page-----b6b9c9d11949---------------exploratory_data_analysis-----------------", "anchor_text": "Exploratory Data Analysis"}, {"url": "https://medium.com/tag/stock-market-analysis?source=post_page-----b6b9c9d11949---------------stock_market_analysis-----------------", "anchor_text": "Stock Market Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb6b9c9d11949&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-time-series-using-pandas-b6b9c9d11949&user=Parul+Pandey&userId=7053de462a28&source=-----b6b9c9d11949---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb6b9c9d11949&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-time-series-using-pandas-b6b9c9d11949&user=Parul+Pandey&userId=7053de462a28&source=-----b6b9c9d11949---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb6b9c9d11949&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-time-series-using-pandas-b6b9c9d11949&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b6b9c9d11949--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb6b9c9d11949&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-time-series-using-pandas-b6b9c9d11949&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b6b9c9d11949---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b6b9c9d11949--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b6b9c9d11949--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b6b9c9d11949--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b6b9c9d11949--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b6b9c9d11949--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b6b9c9d11949--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b6b9c9d11949--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b6b9c9d11949--------------------------------", "anchor_text": ""}, {"url": "https://pandeyparul.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://pandeyparul.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Parul Pandey"}, {"url": "https://pandeyparul.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "20K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7053de462a28&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-time-series-using-pandas-b6b9c9d11949&user=Parul+Pandey&userId=7053de462a28&source=post_page-7053de462a28--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F5be6ccf82bc8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-time-series-using-pandas-b6b9c9d11949&newsletterV3=7053de462a28&newsletterV3Id=5be6ccf82bc8&user=Parul+Pandey&userId=7053de462a28&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}