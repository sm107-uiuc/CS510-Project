{"url": "https://towardsdatascience.com/one-of-the-most-common-unintentional-mistakes-when-running-an-anova-in-r-cfa55d332a", "time": 1683002517.5547159, "path": "towardsdatascience.com/one-of-the-most-common-unintentional-mistakes-when-running-an-anova-in-r-cfa55d332a/", "webpage": {"metadata": {"title": "One of the most common mistakes when running an ANOVA in R | by Matthieu Renard | Towards Data Science", "h1": "One of the most common mistakes when running an ANOVA in R", "description": "Imagine this scenario: You are running an ANOVA in R while controlling for other variables (technically, an ANCOVA). However, the results seem weird: The order of the independent variables matter and\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/doing-and-reporting-your-first-anova-and-ancova-in-r-1d820940f2ef", "anchor_text": "If you are looking for a more general introduction to ANOVAs, check out my article on that topic.", "paragraph_index": 1}, {"url": "https://books.google.ch/books?id=wd2K2zC3swIC&lpg=PP1&hl=de&pg=PA475#v=onepage&q&f=false", "anchor_text": "this page", "paragraph_index": 8}, {"url": "https://amzn.to/2t2Tf9l", "anchor_text": "Andy Field\u2019s book \u201cDiscovering Statistics Using R", "paragraph_index": 8}], "all_paragraphs": ["Imagine this scenario: You are running an ANOVA in R while controlling for other variables (technically, an ANCOVA). However, the results seem weird: The order of the independent variables matter and influence the results \u2014 how can that be? And if you try to enter the same model as a linear regression, the results are also totally different. Again, how can that be?", "This article aims to shed light on this common issue. First, let\u2019s start by recreating this issue. If you are looking for a more general introduction to ANOVAs, check out my article on that topic.", "We will recreate this issue using the salaries dataset included in base R. It contains data on professors' salaries and other variables that would intuitively influence professors\u2019 salaries, such as discipline and seniority. You can access it using the following command.", "Now, let\u2019s say we\u2019re interested in whether a professor\u2019s sex influences their salary when controlling for other intuitively important independent variables. One could analyze these differences using an ANOVA. Therefore, let\u2019s analyze the differences between the two groups in the dataset with an ANOVA.", "This ANOVA seems to imply that sex has a significant impact on a professor\u2019s salary. However, if you run the same analysis as a linear regression model, it leads to a different conclusion.", "Here, the impact of sex on a professor\u2019s salary seems insignificant. So what is it? Does sex influence a professor\u2019s salary or not? Another strange thing appears: If you rerun the ANOVA 1.1 from before but change the independent variables' order, it also shows different results. In the below example, we changed the position of the independent variables of sex and rank.", "Again, different results. Now we have three sets of results and ultimate confusion. Sex is insignificant as for the regression, but, e.g., yrs.since.phd is also insignificant, which is different from the regression results. What is going on? Which independent variable influences a professor\u2019s salary? Why are all results different?", "The reason is Types of Sum of Squares. It describes how R incorporates the error term into the regression model, and different ways of incorporating errors lead to differently fitted models. By default, R uses Type I (\u201cone\u201d) Sum of Squares for ANOVAs \u2014 Type 1 is perfectly fine for an ANOVA with only one independent variable. However, when you add more independent variables (technically an ANCOVA), Type I will produce incorrect results. For regressions (when using the lm() function), R uses Type III (\u201cthree\u201d) Sum of Squares by default.", "In the above example, all the ANOVAs were wrong, and only the lm() function produced correct results. While I will not explain the differences between different Types of Sums of Squares, it will suffice to say that you should almost always be using Type III Sum of Squares. If you wish to find out more about the different Types of Sums of Squares, check out this page in Andy Field\u2019s book \u201cDiscovering Statistics Using R.\u201d", "So, if we are running an ANOVA with more than one independent variable (technically an ANCOVA), we need to override R's default settings and tell it that it has to use Type III Sum of Squares.", "As the aov() function doesn\u2019t allow us to modify the Type of Sum of Squares, we need to use another ANOVA function from a different package to specify this. We will be using the car package. Run the below command to install the car package if you haven\u2019t already installed it.", "Then, run the car Anova command on our original ANOVA object (aov1.1), specifying that we wish to use Type III errors.", "Now looking at the results, you can see that they are consistent with the regression output.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fcfa55d332a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-of-the-most-common-unintentional-mistakes-when-running-an-anova-in-r-cfa55d332a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-of-the-most-common-unintentional-mistakes-when-running-an-anova-in-r-cfa55d332a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-of-the-most-common-unintentional-mistakes-when-running-an-anova-in-r-cfa55d332a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-of-the-most-common-unintentional-mistakes-when-running-an-anova-in-r-cfa55d332a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----cfa55d332a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cfa55d332a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@friedpacker?source=post_page-----cfa55d332a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@friedpacker?source=post_page-----cfa55d332a--------------------------------", "anchor_text": "Matthieu Renard"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4de55f79f1ad&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-of-the-most-common-unintentional-mistakes-when-running-an-anova-in-r-cfa55d332a&user=Matthieu+Renard&userId=4de55f79f1ad&source=post_page-4de55f79f1ad----cfa55d332a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcfa55d332a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-of-the-most-common-unintentional-mistakes-when-running-an-anova-in-r-cfa55d332a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcfa55d332a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-of-the-most-common-unintentional-mistakes-when-running-an-anova-in-r-cfa55d332a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/doing-and-reporting-your-first-anova-and-ancova-in-r-1d820940f2ef", "anchor_text": "If you are looking for a more general introduction to ANOVAs, check out my article on that topic."}, {"url": "https://unsplash.com/@imagoiq?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Lo\u00efc F\u00fcrhoff"}, {"url": "https://unsplash.com/s/photos/university?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://books.google.ch/books?id=wd2K2zC3swIC&lpg=PP1&hl=de&pg=PA475#v=onepage&q&f=false", "anchor_text": "this page"}, {"url": "https://amzn.to/2t2Tf9l", "anchor_text": "Andy Field\u2019s book \u201cDiscovering Statistics Using R"}, {"url": "https://medium.com/tag/data-science?source=post_page-----cfa55d332a---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/statistics?source=post_page-----cfa55d332a---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcfa55d332a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-of-the-most-common-unintentional-mistakes-when-running-an-anova-in-r-cfa55d332a&user=Matthieu+Renard&userId=4de55f79f1ad&source=-----cfa55d332a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcfa55d332a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-of-the-most-common-unintentional-mistakes-when-running-an-anova-in-r-cfa55d332a&user=Matthieu+Renard&userId=4de55f79f1ad&source=-----cfa55d332a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcfa55d332a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-of-the-most-common-unintentional-mistakes-when-running-an-anova-in-r-cfa55d332a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cfa55d332a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fcfa55d332a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-of-the-most-common-unintentional-mistakes-when-running-an-anova-in-r-cfa55d332a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----cfa55d332a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----cfa55d332a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----cfa55d332a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----cfa55d332a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----cfa55d332a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----cfa55d332a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----cfa55d332a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----cfa55d332a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----cfa55d332a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@friedpacker?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@friedpacker?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Matthieu Renard"}, {"url": "https://medium.com/@friedpacker/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "135 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4de55f79f1ad&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-of-the-most-common-unintentional-mistakes-when-running-an-anova-in-r-cfa55d332a&user=Matthieu+Renard&userId=4de55f79f1ad&source=post_page-4de55f79f1ad--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe2f4cdc333d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fone-of-the-most-common-unintentional-mistakes-when-running-an-anova-in-r-cfa55d332a&newsletterV3=4de55f79f1ad&newsletterV3Id=e2f4cdc333d9&user=Matthieu+Renard&userId=4de55f79f1ad&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}