{"url": "https://towardsdatascience.com/dna-search-command-line-interfaces-with-argparse-8b11c0862495", "time": 1682997168.5717099, "path": "towardsdatascience.com/dna-search-command-line-interfaces-with-argparse-8b11c0862495/", "webpage": {"metadata": {"title": "DNA Search- Command Line Interfaces with argparse | by Stephen Fordham | Towards Data Science", "h1": "DNA Search- Command Line Interfaces with argparse", "description": "In bioinformatics, it is often necessary to run our programs on the command line. Fortunately Python\u2019s argparse module- part of the standard library makes this easy. Python has a collection of useful\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/StephenFordham", "anchor_text": "https://github.com/StephenFordham", "paragraph_index": 31}], "all_paragraphs": ["In bioinformatics, it is often necessary to run our programs on the command line. Fortunately Python\u2019s argparse module- part of the standard library makes this easy.", "Python has a collection of useful libraries which make it easy to build user interfaces. Ordinarily, when we think about user interfaces, a graphical point and click interface comes to mind. However, a user interface is anything that allows a user to interact with your program, including command line interfaces- the focus of this article.", "To introduce argparse, I will build a small program which searches for specific small segments of DNA specified as input by the user. These small segments of DNA that the program will search for are called restriction enzymes sites, i.e. small Python strings with a length between 4\u20136 characters. This program will search the genome of bacteria to see how often they are present!", "The program has two clear intentions:", "To begin, import the argparse module and create an ArgumentParser object:", "It is not necessary, but I find it helpful to provide a descriptive string using the description keyword argument. When help is called on the command line later in the program, a descriptive overview of the python program is provided. This may be useful, if there are multiple users, and time elapse between program runs.", "Following this, we then tell the argument parser object what arguments to expect by calling the add_argument() method. Once all the arguments has been added, we can tell it to go ahead and parse the command line arguments by calling the parse_args ()method.", "Three arguments have been added by the add_argument() method. In addition, various other optional parameters have been added, such as help=, type=, choice=, default= ect.", "This is where the argparse module really comes into its own.", "The short and long arguments are specified with either a single hyphen(-), or a double hyphen ( \u2014 ) respectively. This means that on the command line in the terminal, when the program is run, the argument can be expressed in a shorthand way, -i for the input file name, or as the longhand way, \u2014 input_filename for the input file name. A further benefit of short and long arguments is that they can be expressed in any order on the command line!", "Short and long arguments in a mix and matched arrangement are shown below.", "We can make the help text even better by calling add_argument() with the help keyword argument. When the program is now run with no command line arguments, useful help text appears for the three arguments (highlighted in yellow):", "The type= parameter in the parser.add_argument method accepts the name of a Python function", "The type parameter refers to a function, for example the \u2014 input_filename is checked by the function called file_check. This function shown below, checks that the file actually exists.", "Finally the choice and nargs arguments means the user can choose any of the elements in the choice list. As the user can choose multiple arguments, the nargs parameters is need and an asterisks is specified.", "Finally, now all the arguments have been added and functions added for input validation, a small script can be written. I first write a small dictionary, where the restriction enzymes names are the keys and their corresponding sequences that the restriction enzyme recognizes are their values.", "For completeness, I have included the modules required for this program above the restriciton_enzyme_dict dictionary.", "The parameters specified by the user are prefixed with the args followed by their input name.", "The DNA file is first opened, and read using the .read() method. Following this, the pattern(s) specified by the user are iterated over. The pattern(s) represent a restriction enzyme(s) and are the keys shown in the dict above, e.g EcoRI is the key in the dict; restriction_enzyme_dict, and it\u2019s value is \u2018GAATTC\u2019, i.e. the sequence it recognizes in any DNA sample.", "For each restriction enzyme I find it\u2019s value using the .get() method. It\u2019s value is the sequence it recognizes in the genome. The regular expression re.findall finds all occurrences of the sequences in the DNA, and append the sequences to a results list.", "The results list is converted to a special dictionary using the collection.Counter method () which counts how many times a unique sequence is found.", "To finish, this new dictionary created by collections.Counter called restriction_sites_dict can be iterated over and if the sequence is above a count specified by the user a message is printed telling the user how many times it was found and its sequence.", "To see the program in action, lets run a few test examples!", "Here, I searched for the three restriction enzymes, -p HindIII, EcoRI and KpnI using the p flag (the p flag corresponds to the pattern specified by the user). In the first run, I did not specify a count. Earlier, in the add_argument for count_no I set a useful default to 0.", "When I run the program again, with a count threshold of 500, the program informs me that the HindIII site is below the 500 threshold I specified.", "This program is working nicely. The results are returned quickly and the restriction enzymes sites within the whole genome of E.coli have been searched! Pretty cool (this Fasta file was obtained from NCBI), but on our command line we could easily choose to search other bacterial genomes, by specifying their respective filename.", "To finish, it would be useful to address an earlier intention. Specifically, the program was designed to be flexible. What happens if the users adds an incorrect restriction enzyme called for example, FakeEnzyme?", "Lets run the program to find out.", "I have highlighted the useful error message that appears if the user enters an incorrect choice which prompts the user to choose from the selection list provided.", "This brief tutorial has shown how a command line interface can be added to a program. Thankfully Python provides useful libraries for building interfaces, of which argparse is one.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Articles on Data Science and Programming https://github.com/StephenFordham"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8b11c0862495&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdna-search-command-line-interfaces-with-argparse-8b11c0862495&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdna-search-command-line-interfaces-with-argparse-8b11c0862495&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdna-search-command-line-interfaces-with-argparse-8b11c0862495&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdna-search-command-line-interfaces-with-argparse-8b11c0862495&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8b11c0862495--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8b11c0862495--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@stephenfordham?source=post_page-----8b11c0862495--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@stephenfordham?source=post_page-----8b11c0862495--------------------------------", "anchor_text": "Stephen Fordham"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5d3f46276e7e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdna-search-command-line-interfaces-with-argparse-8b11c0862495&user=Stephen+Fordham&userId=5d3f46276e7e&source=post_page-5d3f46276e7e----8b11c0862495---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8b11c0862495&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdna-search-command-line-interfaces-with-argparse-8b11c0862495&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8b11c0862495&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdna-search-command-line-interfaces-with-argparse-8b11c0862495&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@nci", "anchor_text": "National Cancer Institute"}, {"url": "https://medium.com/tag/programming?source=post_page-----8b11c0862495---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/data-science?source=post_page-----8b11c0862495---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/science?source=post_page-----8b11c0862495---------------science-----------------", "anchor_text": "Science"}, {"url": "https://medium.com/tag/software-development?source=post_page-----8b11c0862495---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----8b11c0862495---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8b11c0862495&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdna-search-command-line-interfaces-with-argparse-8b11c0862495&user=Stephen+Fordham&userId=5d3f46276e7e&source=-----8b11c0862495---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8b11c0862495&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdna-search-command-line-interfaces-with-argparse-8b11c0862495&user=Stephen+Fordham&userId=5d3f46276e7e&source=-----8b11c0862495---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8b11c0862495&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdna-search-command-line-interfaces-with-argparse-8b11c0862495&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8b11c0862495--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8b11c0862495&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdna-search-command-line-interfaces-with-argparse-8b11c0862495&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8b11c0862495---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8b11c0862495--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8b11c0862495--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8b11c0862495--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8b11c0862495--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8b11c0862495--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8b11c0862495--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8b11c0862495--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8b11c0862495--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@stephenfordham?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@stephenfordham?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Stephen Fordham"}, {"url": "https://medium.com/@stephenfordham/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "977 Followers"}, {"url": "https://github.com/StephenFordham", "anchor_text": "https://github.com/StephenFordham"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5d3f46276e7e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdna-search-command-line-interfaces-with-argparse-8b11c0862495&user=Stephen+Fordham&userId=5d3f46276e7e&source=post_page-5d3f46276e7e--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fbd4ed43cae00&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdna-search-command-line-interfaces-with-argparse-8b11c0862495&newsletterV3=5d3f46276e7e&newsletterV3Id=bd4ed43cae00&user=Stephen+Fordham&userId=5d3f46276e7e&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}