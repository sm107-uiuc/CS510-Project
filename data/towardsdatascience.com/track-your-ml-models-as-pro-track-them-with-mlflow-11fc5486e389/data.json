{"url": "https://towardsdatascience.com/track-your-ml-models-as-pro-track-them-with-mlflow-11fc5486e389", "time": 1683014445.043317, "path": "towardsdatascience.com/track-your-ml-models-as-pro-track-them-with-mlflow-11fc5486e389/", "webpage": {"metadata": {"title": "Track Your ML models as a Pro, Track them with MLflow. | by Fernando L\u00f3pez | Towards Data Science", "h1": "Track Your ML models as a Pro, Track them with MLflow.", "description": "As a machine learning engineer or data scientist, most of your time is spent experimenting with machine learning models, for example adjusting parameters, comparing metrics, creating and saving\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/mlflow/mlflow", "anchor_text": "here", "paragraph_index": 2}, {"url": "https://archive.ics.uci.edu/ml/datasets/Mushroom", "anchor_text": "source", "paragraph_index": 7}], "all_paragraphs": ["As a machine learning engineer or data scientist, most of your time is spent experimenting with machine learning models, for example adjusting parameters, comparing metrics, creating and saving visualizations, generating reports, etc. However, on many occasions we do not usually carry out this tracking in a healthy way. A healthy, simple and efficient way to carry out this tracking is by making use of tools that facilitate this type of activity, such is the case of MLflow.", "In this blog, you will learn how to install, how track metrics, how to track parameters and how to save and reuse a scikit-learn ML model. So this blog is divided into the following sections:", "MLflow is an open source platform to manage the ML lifecycle, including experimentation, reproducibility, deployment, and a central model registry [1]. MLflow is python-based, you can find the source code here. So, essentially MLflow offers:", "Basically MLflow offers a set of tools to make our life of machine learning engineer or data scientist more efficient and effective.", "In this blog we will focus on the part of tracking the parameters and metrics as well as generating a model, saving it and loading it to be used again. So let\u2019s move on to the installation!", "Since MLflow is python-based the installation is quite easy, you can do it with pip, such as:", "Great, assuming the installation was successful, we are going to build a simple pipeline in which we are going to train a decision tree to generate predictions on the mushroom dataset. So let\u2019s go for it!", "As we mentioned, we are going to build a machine learning model using the mushroom dataset (you can find the dataset here: source). So the pipeline will have the following form:", "In each part of the pipeline we are going to perform specific tasks such as:", "Then, the specific tasks of each component of the pipeline are described as follows:", "Then, the pipeline without being tracked would be as follows:", "As we can see, each of these functions that belong to a class, represent each of the components of the pipeline, each one with its specific activities. However, in our day to day we need to create different versions of a model under different contexts, that is, we need to track the changes and results of the model. Let\u2019s see how to do this with MLflow!", "In order to track the pipeline, we are going to use some important modules provided by MLflow:", "So, first we need to create an experiment or if we already have an existing one, take the id to launch the previously created experiment, let\u2019s see the following code:", "On line 15 we are creating a client instance. Which, in the \u201ctry-except\u201d block, is used to create a new experiment with name \u201cdata_name\u201d provided by the command line. In case there is already an experiment created with the name \u201cdata_name\u201d, it\u2019s taken the id of such experiment.", "In line 29 we are generating a context to execute mlflow.start_run() with the experiment id and the run name as parameters.", "Well, once the above is done, it is time to start tracking artifacts, metrics and parameters. Let\u2019s see how we do with 3 components of the pipeline: load_data(), parameter_tuning() and k_fold_cross_validation().", "What happens in line 6 is that we are saving the path of the dataset that will be loaded in a dataframe within the context of MLflow.", "Once the optimal parameters have been found, they are tracked with MLflow using mlflow.log_param() as seen in the lines 16, 17 and 18.", "As we can see, to track metrics we have to make use of mlflow.log_metric(), as you can see in lines 10 and 11.", "Finally, this is how the entire pipeline tracked with MLflow would look like:", "Finally, since we are working with a decision tree, we may want to save it and compare it with other trees. Likewise, we will also need to save the final model, we will do this as follows:", "MLflow provides a tool to easily view all the tracks made in your experiments, this functionality is: mlflow ui", "Once we create an experiment and track artifacts, parameters or metrics, from the command line we launch the UI as follows:", "and it will be showed and output like this one:", "So you just need to go to your browser and visit your local host. Then we will see something like:", "If you click on the date of runs, you can view in more detail some items, such as the artifacts that we track:", "In this blog we saw what MLflow is, what its advantages are, how to implement it from installation to tracking a basic pipeline as well as interpreting the visualization of the graphical interface.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Machine Learning Engineer | Data Scientist | Software Engineer"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F11fc5486e389&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-ml-models-as-pro-track-them-with-mlflow-11fc5486e389&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-ml-models-as-pro-track-them-with-mlflow-11fc5486e389&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-ml-models-as-pro-track-them-with-mlflow-11fc5486e389&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-ml-models-as-pro-track-them-with-mlflow-11fc5486e389&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----11fc5486e389--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----11fc5486e389--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://ferneutron.medium.com/?source=post_page-----11fc5486e389--------------------------------", "anchor_text": ""}, {"url": "https://ferneutron.medium.com/?source=post_page-----11fc5486e389--------------------------------", "anchor_text": "Fernando L\u00f3pez"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd606f5d846f2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-ml-models-as-pro-track-them-with-mlflow-11fc5486e389&user=Fernando+L%C3%B3pez&userId=d606f5d846f2&source=post_page-d606f5d846f2----11fc5486e389---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F11fc5486e389&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-ml-models-as-pro-track-them-with-mlflow-11fc5486e389&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F11fc5486e389&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-ml-models-as-pro-track-them-with-mlflow-11fc5486e389&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@victor_g?utm_source=medium&utm_medium=referral", "anchor_text": "Victor Garcia"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://github.com/mlflow/mlflow", "anchor_text": "here"}, {"url": "https://mlflow.org/", "anchor_text": "source"}, {"url": "https://github.com/FernandoLpz/Tracking-ML-model-MLflow", "anchor_text": "https://github.com/FernandoLpz/Tracking-ML-model-MLflow"}, {"url": "https://archive.ics.uci.edu/ml/datasets/Mushroom", "anchor_text": "source"}, {"url": "https://github.com/FernandoLpz/Tracking-ML-model-MLflow", "anchor_text": "https://github.com/FernandoLpz/Tracking-ML-model-MLflow"}, {"url": "https://mlflow.org/", "anchor_text": "https://mlflow.org/"}, {"url": "https://www.mlflow.org/docs/latest/_modules/mlflow/tracking/client.html", "anchor_text": "https://www.mlflow.org/docs/latest/_modules/mlflow/tracking/client.html"}, {"url": "https://www.mlflow.org/docs/latest/python_api/mlflow.html#mlflow.start_run", "anchor_text": "https://www.mlflow.org/docs/latest/python_api/mlflow.html"}, {"url": "https://www.mlflow.org/docs/latest/python_api/mlflow.sklearn.html", "anchor_text": "https://www.mlflow.org/docs/latest/python_api/mlflow.sklearn.html"}, {"url": "https://medium.com/tag/mlflow?source=post_page-----11fc5486e389---------------mlflow-----------------", "anchor_text": "Mlflow"}, {"url": "https://medium.com/tag/scikit-learn?source=post_page-----11fc5486e389---------------scikit_learn-----------------", "anchor_text": "Scikit Learn"}, {"url": "https://medium.com/tag/classification?source=post_page-----11fc5486e389---------------classification-----------------", "anchor_text": "Classification"}, {"url": "https://medium.com/tag/tracking?source=post_page-----11fc5486e389---------------tracking-----------------", "anchor_text": "Tracking"}, {"url": "https://medium.com/tag/decision-tree?source=post_page-----11fc5486e389---------------decision_tree-----------------", "anchor_text": "Decision Tree"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F11fc5486e389&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-ml-models-as-pro-track-them-with-mlflow-11fc5486e389&user=Fernando+L%C3%B3pez&userId=d606f5d846f2&source=-----11fc5486e389---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F11fc5486e389&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-ml-models-as-pro-track-them-with-mlflow-11fc5486e389&user=Fernando+L%C3%B3pez&userId=d606f5d846f2&source=-----11fc5486e389---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F11fc5486e389&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-ml-models-as-pro-track-them-with-mlflow-11fc5486e389&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----11fc5486e389--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F11fc5486e389&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-ml-models-as-pro-track-them-with-mlflow-11fc5486e389&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----11fc5486e389---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----11fc5486e389--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----11fc5486e389--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----11fc5486e389--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----11fc5486e389--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----11fc5486e389--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----11fc5486e389--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----11fc5486e389--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----11fc5486e389--------------------------------", "anchor_text": ""}, {"url": "https://ferneutron.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://ferneutron.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Fernando L\u00f3pez"}, {"url": "https://ferneutron.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "537 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd606f5d846f2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-ml-models-as-pro-track-them-with-mlflow-11fc5486e389&user=Fernando+L%C3%B3pez&userId=d606f5d846f2&source=post_page-d606f5d846f2--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F14c367392dfa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-ml-models-as-pro-track-them-with-mlflow-11fc5486e389&newsletterV3=d606f5d846f2&newsletterV3Id=14c367392dfa&user=Fernando+L%C3%B3pez&userId=d606f5d846f2&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}