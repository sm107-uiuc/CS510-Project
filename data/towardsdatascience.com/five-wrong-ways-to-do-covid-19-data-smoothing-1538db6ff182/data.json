{"url": "https://towardsdatascience.com/five-wrong-ways-to-do-covid-19-data-smoothing-1538db6ff182", "time": 1683014530.34467, "path": "towardsdatascience.com/five-wrong-ways-to-do-covid-19-data-smoothing-1538db6ff182/", "webpage": {"metadata": {"title": "5 Wrong Ways to Do Covid-19 Data Smoothing | by Steve McConnell | Towards Data Science", "h1": "5 Wrong Ways to Do Covid-19 Data Smoothing", "description": "You might think that raw data is more accurate than smoothed data. But in the case of the Covid-19 pandemic, smoothed data reduces reporting anomalies and is a more accurate representation of timing\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.cdc.gov/coronavirus/2019-ncov/covid-data/forecasting-us.html", "anchor_text": "Ensemble model", "paragraph_index": 29}, {"url": "https://stevemcconnell.com/covid", "anchor_text": "website", "paragraph_index": 29}, {"url": "http://stevemcconnell.com", "anchor_text": "stevemcconnell.com", "paragraph_index": 32}], "all_paragraphs": ["You might think that raw data is more accurate than smoothed data. But in the case of the Covid-19 pandemic, smoothed data reduces reporting anomalies and is a more accurate representation of timing than the raw data is. But only if the smoothing is done correctly.", "Raw state-level data is noisy, and it\u2019s difficult to see trends in raw data. The example below shows the current raw data report from Hawaii. The light blue lines represent positive tests, and the red lines represent deaths.", "Are tests going up or down? It\u2019s virtually impossible to tell from this depiction of the data.", "In contrast, what does the figure below tell you about whether positive tests are currently up or down? Visually, it\u2019s clear that positive tests have been flat to slightly increasing for about a week.", "Most states have made corrections to their data over the course of the pandemic, and, in many cases, states dump weeks or months worth of corrections into the data pool all on one day.", "New York\u2019s data (the figure below) includes a correction they made to death data in early May (the tall red line). If you take this data literally, 1000 people died in one day. But 1000 people didn\u2019t really die in one day; New York just reported a correction of that size in one day. This sort of spike significantly undermines analysis for the period that includes the spike.", "The smoothed data (below) is still affected by this correction \u2014 you can see the hump in May from the 1000-death correction \u2014 but the smoothed data is less affected by the spike.", "Many states do not report results daily. Many states show weekly cycles of under-reporting on certain days and over-reporting on other days. For example, my state (Washington) underreports on Sundays and then overreports in the days that follow. You can see the weekly rhythm of underreporting and overreporting for Washington in the figure below.", "Smoothing periods shorter than 7 days or longer than 7 days risk disproportionately weighting the days on which results are under-reported or over-reported. Here are the typical deviations from the trend by weekday at the national level:", "As one example of why a 7-day period is needed, suppose smoothing of deaths data was done on a 3-day basis for the period Saturday through Monday. In that case, the 5-day period would be 71% of trend, because of typical underreporting on Sunday and Monday.", "Similarly, if smoothing of deaths was performed for the 3 days of Tuesday through Thursday, that 3-day period would be 124% of trend. A full 7 days needs to be included to obtain an accurate picture of the data for the week.", "Visually, this shows up as the smoothed data not looking very smooth. Here\u2019s recent US data smoothed on a 7-day basis, which looks pretty smooth:", "Here\u2019s the same data smoothed on a 5-day basis, which doesn\u2019t look very smooth:", "You might assume that the reason the 7-day smoothing is smoother than 5-day smoothing is because it\u2019s a longer period. That is not correct. Periods longer than 7 days have the same problem that periods shorter than 7 days have: they double-count days that are lower than average or higher than average, and therefore reduce accuracy. Here\u2019s the same data as before with 9 day smoothing:", "The 9-day smoothing is smoother than 5 days, but rougher than 7 days. The smoothing issue is the weekly cycle, not the sheer quantity of days per se.", "Smoothing periods that are multiples of 7 days do not have this problem. Smoothing periods of 7, 14, and 21 days can all be accurate.", "Some smoothing techniques use a 7-day smoothing period, but they calculate the 7-day average on a lagging basis. In other words, they calculate the value for day number n by averaging days n, n-1, n-2, n-3, n-4, n-5, and n-6.", "Smoothing on a backward-looking basis means the average of the data is based on a midpoint 3.5 days earlier. The data that is purportedly showing day n is actually showing data for day n-3.5.", "It\u2019s easy to spot this phenomenon on graphs that show both raw and smoothed data, such as this one:", "If you study the graph, you can see the smoothed line lags the raw data lines. The peaks and valleys are offset by 3\u20134 days. If the smoothing is done properly, the smoothing line will be right on top of the raw data lines, as shown here:", "7-day smoothing needs to be based on 3 days prior to the date of record, the date of record, and 3 days after the date of record, e.g., based on days n-3, n-2, n-1, n, n+1, n+2, and n+3.", "If the date of record is today, that means that days n+1, n+2, and n+3 haven\u2019t happened yet. We\u2019re missing 3 days of look-ahead data.", "The same issue applies to yesterday, which is missing 2 days of look-ahead data, and the day before yesterday, which is missing 1 day of data.", "So we need a plan for smoothing the most recent 3 days, for which only partial smoothing data is available. A few options are available:", "The last approach is the most correct, but it limits the ability to make use of the most recent days.", "The first three approaches have the potential to introduce error into the smoothing for the most recent days. However, those errors are temporary, and they will be corrected over the next 3 days as full data becomes available.", "The failure mode in this area is not consciously choosing the approach that\u2019s best for the situation. Have a plan, and think through the implications of shifting to projecting forward, looking backward, or using incomplete data as you run out of look-ahead days.", "Smoothing done well enhances the accuracy and usability of Covid-19 data. Smoothing done poorly introduces error into the data.", "Incorrect smoothing techniques can be a blind spot in Covid-19 data analysis. Fortunately, this particular blind spot is an easy one to correct.", "I lead the team that contributes the CovidComplete forecasts into the CDC\u2019s Ensemble model. For updates to these graphs, more graphs, forecasts at the US and state-level, and forecast evaluations, check out my Covid-19 Information website.", "For the past 20 years, I have focused on understanding the data analytics of software development, including quality, productivity, and estimation. The techniques I\u2019ve learned from working with noisy data, bad data, uncertainty, and forecasting all apply to COVID-19.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Author of Code Complete and More Effective Agile, CEO at Construx Software, Dog Walker, Motorcyclist, Cinephile, DIYer, Rotarian. See stevemcconnell.com."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1538db6ff182&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffive-wrong-ways-to-do-covid-19-data-smoothing-1538db6ff182&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffive-wrong-ways-to-do-covid-19-data-smoothing-1538db6ff182&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffive-wrong-ways-to-do-covid-19-data-smoothing-1538db6ff182&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffive-wrong-ways-to-do-covid-19-data-smoothing-1538db6ff182&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----1538db6ff182--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1538db6ff182--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://stevemcc.medium.com/?source=post_page-----1538db6ff182--------------------------------", "anchor_text": ""}, {"url": "https://stevemcc.medium.com/?source=post_page-----1538db6ff182--------------------------------", "anchor_text": "Steve McConnell"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbb47e8ceaa73&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffive-wrong-ways-to-do-covid-19-data-smoothing-1538db6ff182&user=Steve+McConnell&userId=bb47e8ceaa73&source=post_page-bb47e8ceaa73----1538db6ff182---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1538db6ff182&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffive-wrong-ways-to-do-covid-19-data-smoothing-1538db6ff182&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1538db6ff182&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffive-wrong-ways-to-do-covid-19-data-smoothing-1538db6ff182&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.cdc.gov/coronavirus/2019-ncov/covid-data/forecasting-us.html", "anchor_text": "Ensemble model"}, {"url": "https://stevemcconnell.com/covid", "anchor_text": "website"}, {"url": "https://medium.com/tag/covid-19-data?source=post_page-----1538db6ff182---------------covid_19_data-----------------", "anchor_text": "Covid 19 Data"}, {"url": "https://medium.com/tag/covid-19?source=post_page-----1538db6ff182---------------covid_19-----------------", "anchor_text": "Covid-19"}, {"url": "https://medium.com/tag/data?source=post_page-----1538db6ff182---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/data-science?source=post_page-----1538db6ff182---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----1538db6ff182---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1538db6ff182&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffive-wrong-ways-to-do-covid-19-data-smoothing-1538db6ff182&user=Steve+McConnell&userId=bb47e8ceaa73&source=-----1538db6ff182---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1538db6ff182&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffive-wrong-ways-to-do-covid-19-data-smoothing-1538db6ff182&user=Steve+McConnell&userId=bb47e8ceaa73&source=-----1538db6ff182---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1538db6ff182&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffive-wrong-ways-to-do-covid-19-data-smoothing-1538db6ff182&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1538db6ff182--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1538db6ff182&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffive-wrong-ways-to-do-covid-19-data-smoothing-1538db6ff182&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1538db6ff182---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1538db6ff182--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1538db6ff182--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1538db6ff182--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1538db6ff182--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1538db6ff182--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1538db6ff182--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1538db6ff182--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1538db6ff182--------------------------------", "anchor_text": ""}, {"url": "https://stevemcc.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://stevemcc.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Steve McConnell"}, {"url": "https://stevemcc.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "73 Followers"}, {"url": "http://stevemcconnell.com", "anchor_text": "stevemcconnell.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbb47e8ceaa73&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffive-wrong-ways-to-do-covid-19-data-smoothing-1538db6ff182&user=Steve+McConnell&userId=bb47e8ceaa73&source=post_page-bb47e8ceaa73--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F28cc5305ba71&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffive-wrong-ways-to-do-covid-19-data-smoothing-1538db6ff182&newsletterV3=bb47e8ceaa73&newsletterV3Id=28cc5305ba71&user=Steve+McConnell&userId=bb47e8ceaa73&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://smile.amazon.com/Code-Complete-Practical-Handbook-Construction/dp/0735619670/", "anchor_text": "Code complete2004"}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}