{"url": "https://towardsdatascience.com/sentiment-analysis-in-10-minutes-with-rule-based-vader-and-nltk-72067970fb71", "time": 1683017644.2493849, "path": "towardsdatascience.com/sentiment-analysis-in-10-minutes-with-rule-based-vader-and-nltk-72067970fb71/", "webpage": {"metadata": {"title": "Sentiment Analysis in 10 Minutes with Rule-Based VADER and NLTK | by Orhan G. Yal\u00e7\u0131n | Towards Data Science", "h1": "Sentiment Analysis in 10 Minutes with Rule-Based VADER and NLTK", "description": "Using the \"Valence Aware Dictionary and sEntiment Reasoner\" on the IMDB Reviews Dataset for Rule-based Sentiment Analysis"}, "outgoing_paragraph_urls": [{"url": "https://www.mturk.com/", "anchor_text": "Amazon Mechanical Turk", "paragraph_index": 3}, {"url": "https://en.wikipedia.org/wiki/Lexicon", "anchor_text": "lexicon is the vocabulary of a person, language, or branch of knowledge.", "paragraph_index": 8}, {"url": "https://pypi.org/project/vaderSentiment/", "anchor_text": "VADER", "paragraph_index": 10}, {"url": "http://www.wjh.harvard.edu/~inquirer/", "anchor_text": "Harvard\u2019s General Inquirer", "paragraph_index": 13}, {"url": "https://www3.nd.edu/~mcdonald/Word_Lists_files/Documentation/Documentation_LoughranMcDonald_MasterDictionary.pdf", "anchor_text": "Loughran McDonald", "paragraph_index": 13}, {"url": "https://www.cs.uic.edu/~liub/FBS/sentiment-analysis.html", "anchor_text": "Hu & Liu", "paragraph_index": 13}, {"url": "https://www.imdb.com/", "anchor_text": "IMDB", "paragraph_index": 15}, {"url": "https://ai.stanford.edu/~amaas/data/sentiment/", "anchor_text": "IMDB Reviews", "paragraph_index": 15}, {"url": "http://eepurl.com/hd6Xfv", "anchor_text": "Newsletter", "paragraph_index": 35}, {"url": "https://linkedin.com/in/orhangaziyalcin/", "anchor_text": "Linkedin", "paragraph_index": 37}, {"url": "https://linkedin.com/in/orhangaziyalcin/", "anchor_text": "Orhan G. Yal\u00e7\u0131n \u2014 Linkedin", "paragraph_index": 37}, {"url": "http://Vizio.ai", "anchor_text": "Vizio.ai", "paragraph_index": 40}], "all_paragraphs": ["For a long time, I have been writing on statistical NLP topics and sharing tutorials. The sub-field of statistical NLP is responsible for several impressive advancements in the field of natural language processing, and it has the highest potential among competing approaches. However, in some cases, the contribution of rule-based classical natural language processing might be sought.", "In cases where researchers have deep pockets with lots of talented researchers and dealing with general problems, statistical NLP is usually the preferred way to tackle the NLP problem. But, in the following cases, the rule-based approach might be fruitful:", "We have great pre-trained models such as GPT-3, BERT, ELMo, which do wonders on generic language problems. However, when we try to use them in domain-specific problems such as financial news sentiment analysis or legal text classification, the specificity required for such tasks may not be satisfied by these state-of-the-art models. Therefore, we either have to fine-tune these models with additional labeled data or rely on rule-based models.", "Even though we might want to fine-tune a model, it may not always be possible. Especially, if you are with a small team or don\u2019t have the funds to hire people via freelancing platforms such as Amazon Mechanical Turk, you cannot generate labeled data to fine-tune a pre-trained model, not to mention build your own deep learning model. Lastly, it may not be possible to collect a meaningful amount of data to train a deep learning model. In the end, statistical NLP models are very data-hungry.", "Even though you have some available labeled specific data, training a dedicated model has its own cost. Not only that, you would need a group of star data scientists, but you also need distributed-servers to train your model, and your pockets may not be that deep.", "If you have one of these issues, your best bet might be rule-based NLP, and the accuracy levels of rule-based NLPs are not as bad as you might think. In this post, we will build a simple Lexicon-based Sentiment Classifier without much tuning, and we will achieve an acceptable accuracy performance, which may be increased even further.", "Before starting, though, let\u2019s cover some basics:", "Lexicon sounds like a fancy technical term, but it means a dictionary, usually in a particular domain. In other words:", "A lexicon is the vocabulary of a person, language, or branch of knowledge.", "In a rule-based NLP study for sentiment analysis, we need a lexicon that serves as a reference manual to measure the sentiment of a chunk of text (e.g., word, phrase, sentence, paragraph, full text). Lexicon-based sentiment analysis can be as simple as positive-labeled words minus negative-labeled words to see if a text has a positive sentiment. It can also be very complex with negation rules, distance calculations, added-variance, and several additional rules. One of the main differences between rule-based NLP and statistical NLP is that in rule-based NLP, the researcher is completely free to add any rule they deem useful. Therefore, in rule-based NLP, what we usually see is that highly trained experts develop theory-based rules in a particular domain and apply them to a particular problem in this particular domain.", "One of the most popular rule-based sentiment analysis models is VADER. VADER, or Valence Aware Dictionary and sEntiment Reasoner, is a lexicon and rule-based sentiment analysis tool specifically attuned to sentiments expressed in social media.", "VADER is like the GPT-3 of Rule-Based NLP Models.", "Since it is tuned for social media content, it performs best on the content you can find on social media. However, it still offers acceptable F1 Scores on other test sets, and provides a comparable performance compared to complex statistical models such as Support Vector Machines, as you can see below:", "Note that there are several alternative lexicons that you can use for your project, such as Harvard\u2019s General Inquirer, Loughran McDonald, Hu & Liu. In this tutorial, we will adopt the VADER\u2019s lexicon along with its methodology.", "Now that you have a basic understanding of rule-based NLP models, we can proceed with our tutorial. This tutorial will approach a classic sentiment analysis problem from a rule-based NLP perspective: A Lexicon-based sentiment analysis on the IMDB Reviews Dataset.", "IMDB Reviews Dataset is a large movie review dataset collected and prepared by Andrew L. Maas from the popular movie rating service, IMDB. The IMDB Reviews dataset is used for binary sentiment classification, whether a review is positive or negative. It contains 25,000 movie reviews for training and 25,000 for testing. All these 50,000 reviews are labeled data that may be used for supervised deep learning. Besides, there is an additional 50,000 unlabeled reviews that we will not use in this case study. In this case study, we will only use the training dataset.", "We will start by loading the IMDB dataset by using Keras\u2019s Data API. However, Keras provides the dataset in the encoded version. Luckily we can also load the index dictionary to decode it to original reviews. The following lines will load the encoded reviews along with the index. We will also create the reverse index for decoding:", "Before decoding the entire dataset, let\u2019s see the operation with an example:", "As you can see, we can decode our encoded reviews using the reversed index. If we can decode one review, for all the reviews, all we need is a for loop. With the code below, we will create a nested list in which we place the sentiment label and the decoded review text. We also need to do error handling due to a typo in the dataset (apparently Keras team encoded one of the words wrong :/). But, the code below handles this error as well:", "Finally, we will create a pandas DataFrame from the nested list we created above:", "Now that our data is ready, we can load VADER.", "Python\u2019s most advanced NLP tool, NLTK, provides a module for VADER, and we can easily import a SentimentIntensityAnalzer with the following code:", "To test how our model works, let\u2019s feed a simple sentence with neutral and negative words:", "We use the polarity_score calculator of our SentimentIntensityAnalyzer model. This model gives us four scores: (i) Negativity, (ii) Positivity, (iii) Neutrality score of the sentence, and finally, (iv) Compound sentiment score of the sentence. The compound score is basically an aggregated version of the first three scores, and we will be using this score to measure the sentiment of our reviews. Here is the output of our dummy sentence: \u201cHello, world. I am terrible\u201d.", "Since we successfully calculated the sentiment score of a single sentence, all we have to do is run a loop for the entire dataset. Before calculating the score, although not necessary, I will shuffle the dataset first:", "Instead of for loop, we will use a more efficient alternative: apply a lambda function on our dataset column Text and create a new column to save the results with the name Prediction. The following single line does these:", "The code above will simply convert negative compound scores to -1 and positive compound scores to 1. Since our IMDB Reviews dataset has 1 for positive sentiments and 0 for negative sentiments, we will change 0s with -1s so that we can calculate the accuracy of our predictions, which will be in a new column, called Accuracy:", "Finally, I want to create a confusion matrix to properly measure our rule-based NLP sentiment classifier's success. A confusion matrix shows True Positives, True Negatives, False Positives, and False Negatives, which we can use to calculate Accuracy, Recall, Precision, and F1 Scores. With the lines below, I will create a custom function to generate confusion matrix tags and apply them as a lambda function, as I did above:", "The code above will create a column, Conf_Matrix, and tag each prediction with abbreviations of True Positives, True Negatives, False Positives, and False Negatives.", "Let\u2019s see how the tail of our final DataFrame looks:", "To see how we did with our VADER model, I will use several custom formulas to calculate Accuracy, Recall, Precision, and F1 Score. Although there are several API solutions for confusion matrix calculations, I decided to use custom calculations:", "Thanks to the Conf_Matrix column, these calculations are straightforward to handle, and here are the results:", "As you can see, without a single second of training or customization, we achieved a 70% accuracy on the movie reviews dataset. Don\u2019t forget that VADER is a social-media lexicon. Therefore, using a movie-reviews-based Lexicon would give us even higher performances.", "You have successfully built a sentiment classifier that is based on rule-based NLP. One of the biggest advantages of rule-based NLP methods is that they are fully explainable as opposed to glamorous transformer-based NLP models such as BERT and GPT-3. Therefore, apart from its budget-friendly nature, the model's explainability is another great reason to rely on rule-based NLP models, especially in sensitive areas.", "Besides my latest content, I also share my Google Colab notebooks with my subscribers, containing full codes for every post I published.", "If you liked this post, consider subscribing to the Newsletter! \u2709\ufe0f", "Also, if you insist on statistical NLP, I have the same sentiment analysis tutorial made with BERT, TensorFlow, and Hugging Face; check it out:", "Since you are reading this article, I am sure that we share similar interests and are/will be in similar industries. So let\u2019s connect via Linkedin! Please do not hesitate to send a contact request! Orhan G. Yal\u00e7\u0131n \u2014 Linkedin", "If you like this article, check out my other NLP articles:", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I write about AI and data apps here building them at Vizio.ai with my team. Feel free to get in touch!"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F72067970fb71&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsentiment-analysis-in-10-minutes-with-rule-based-vader-and-nltk-72067970fb71&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsentiment-analysis-in-10-minutes-with-rule-based-vader-and-nltk-72067970fb71&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsentiment-analysis-in-10-minutes-with-rule-based-vader-and-nltk-72067970fb71&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsentiment-analysis-in-10-minutes-with-rule-based-vader-and-nltk-72067970fb71&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----72067970fb71--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----72067970fb71--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://blog.orhangaziyalcin.com/?source=post_page-----72067970fb71--------------------------------", "anchor_text": ""}, {"url": "https://blog.orhangaziyalcin.com/?source=post_page-----72067970fb71--------------------------------", "anchor_text": "Orhan G. Yal\u00e7\u0131n"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fff47ab81282a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsentiment-analysis-in-10-minutes-with-rule-based-vader-and-nltk-72067970fb71&user=Orhan+G.+Yal%C3%A7%C4%B1n&userId=ff47ab81282a&source=post_page-ff47ab81282a----72067970fb71---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F72067970fb71&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsentiment-analysis-in-10-minutes-with-rule-based-vader-and-nltk-72067970fb71&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F72067970fb71&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsentiment-analysis-in-10-minutes-with-rule-based-vader-and-nltk-72067970fb71&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@mkunsplash84?utm_source=medium&utm_medium=referral", "anchor_text": "Marian Kroell"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.mturk.com/", "anchor_text": "Amazon Mechanical Turk"}, {"url": "https://en.wikipedia.org/wiki/Lexicon", "anchor_text": "lexicon is the vocabulary of a person, language, or branch of knowledge."}, {"url": "https://pypi.org/project/vaderSentiment/", "anchor_text": "VADER"}, {"url": "https://www.aaai.org/ocs/index.php/ICWSM/ICWSM14/paper/view/8109/8122", "anchor_text": "paper"}, {"url": "http://www.wjh.harvard.edu/~inquirer/", "anchor_text": "Harvard\u2019s General Inquirer"}, {"url": "https://www3.nd.edu/~mcdonald/Word_Lists_files/Documentation/Documentation_LoughranMcDonald_MasterDictionary.pdf", "anchor_text": "Loughran McDonald"}, {"url": "https://www.cs.uic.edu/~liub/FBS/sentiment-analysis.html", "anchor_text": "Hu & Liu"}, {"url": "https://www.imdb.com/", "anchor_text": "IMDB"}, {"url": "https://ai.stanford.edu/~amaas/data/sentiment/", "anchor_text": "IMDB Reviews"}, {"url": "http://eepurl.com/hd6Xfv", "anchor_text": "Newsletter"}, {"url": "http://eepurl.com/hd6Xfv", "anchor_text": "Subscribe Now"}, {"url": "https://towardsdatascience.com/sentiment-analysis-in-10-minutes-with-bert-and-hugging-face-294e8a04b671", "anchor_text": "Sentiment Analysis in 10 Minutes with BERT and Hugging FaceLearn the basics of the pre-trained NLP model, BERT, and build a sentiment classifier using the IMDB movie reviews\u2026towardsdatascience.com"}, {"url": "https://linkedin.com/in/orhangaziyalcin/", "anchor_text": "Linkedin"}, {"url": "https://linkedin.com/in/orhangaziyalcin/", "anchor_text": "Orhan G. Yal\u00e7\u0131n \u2014 Linkedin"}, {"url": "https://towardsdatascience.com/mastering-word-embeddings-in-10-minutes-with-tensorflow-41e25da6aa54", "anchor_text": "Mastering Word Embeddings in 10 Minutes with TensorFlowCovering the Basics of Word Embedding, One Hot Encoding, Text Vectorization, Embedding Layers, and an Example Neural\u2026towardsdatascience.com"}, {"url": "https://towardsdatascience.com/mastering-word-embeddings-in-10-minutes-with-imdb-reviews-c345f83e054e", "anchor_text": "Mastering Word Embeddings in 10 Minutes with IMDB ReviewsLearn the Basics of Text Vectorization, Create a Word Embedding Model trained with a Neural Network on IMDB Reviews\u2026towardsdatascience.com"}, {"url": "https://medium.com/tag/nlp?source=post_page-----72067970fb71---------------nlp-----------------", "anchor_text": "NLP"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----72067970fb71---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----72067970fb71---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/programming?source=post_page-----72067970fb71---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/data-science?source=post_page-----72067970fb71---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F72067970fb71&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsentiment-analysis-in-10-minutes-with-rule-based-vader-and-nltk-72067970fb71&user=Orhan+G.+Yal%C3%A7%C4%B1n&userId=ff47ab81282a&source=-----72067970fb71---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F72067970fb71&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsentiment-analysis-in-10-minutes-with-rule-based-vader-and-nltk-72067970fb71&user=Orhan+G.+Yal%C3%A7%C4%B1n&userId=ff47ab81282a&source=-----72067970fb71---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F72067970fb71&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsentiment-analysis-in-10-minutes-with-rule-based-vader-and-nltk-72067970fb71&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----72067970fb71--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F72067970fb71&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsentiment-analysis-in-10-minutes-with-rule-based-vader-and-nltk-72067970fb71&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----72067970fb71---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----72067970fb71--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----72067970fb71--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----72067970fb71--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----72067970fb71--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----72067970fb71--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----72067970fb71--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----72067970fb71--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----72067970fb71--------------------------------", "anchor_text": ""}, {"url": "https://blog.orhangaziyalcin.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://blog.orhangaziyalcin.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Orhan G. Yal\u00e7\u0131n"}, {"url": "https://blog.orhangaziyalcin.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.7K Followers"}, {"url": "http://Vizio.ai", "anchor_text": "Vizio.ai"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fff47ab81282a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsentiment-analysis-in-10-minutes-with-rule-based-vader-and-nltk-72067970fb71&user=Orhan+G.+Yal%C3%A7%C4%B1n&userId=ff47ab81282a&source=post_page-ff47ab81282a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F6340e0deb03&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsentiment-analysis-in-10-minutes-with-rule-based-vader-and-nltk-72067970fb71&newsletterV3=ff47ab81282a&newsletterV3Id=6340e0deb03&user=Orhan+G.+Yal%C3%A7%C4%B1n&userId=ff47ab81282a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}