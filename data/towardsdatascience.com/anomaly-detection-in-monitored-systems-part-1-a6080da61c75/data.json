{"url": "https://towardsdatascience.com/anomaly-detection-in-monitored-systems-part-1-a6080da61c75", "time": 1683010936.499017, "path": "towardsdatascience.com/anomaly-detection-in-monitored-systems-part-1-a6080da61c75/", "webpage": {"metadata": {"title": "Anomaly detection in monitored systems | Yonatan Alon | Towards Data Science", "h1": "Anomaly detection in monitored systems (part 1)", "description": "Learning how Gaussian distributions and the properties they have can help us perform anomaly detection on monitored data."}, "outgoing_paragraph_urls": [{"url": "https://medium.com/@yonatanalon/anomaly-detection-in-monitored-systems-part-2-c2108c143a6", "anchor_text": "safely skip", "paragraph_index": 6}], "all_paragraphs": ["Monitoring solutions have been around since the first computers came into being in the middle of the last century and have been trying to answer one simple question ever since: \u201cWhat\u2019s happening inside my computer?\u201d. In the same way a teacher might ask a student to explain his thought process, we would like to gain knowledge about the internal workings of our program. If we figure out what went wrong during its runtime, we can gain better insights that can help us correct its behaviour.", "The simplest way to answer that question might be writing data to any standard output, such as your computer screen or to a log file. Periodic logging at predefined intervals or when reaching a certain point at the execution of our program allows us to compare its state with the results we would have expected. If the output does not match the one we\u2019d have expected, we can modify our code to correct the situation.", "Over the years, computers have evolved in many different paths. The bulky computers you might have seen in an old movie have been replaced by laptops, mobile phones, IoT devices, network systems, industrial computers, you name it; These systems, which I will call \u201cdevices\u201d from now on, usually have many applications in which we cannot monitor the internals of the given device. Since we still want to monitor their behaviour to verify they are running as expected, we need to find a new approach that can give us reliable results based on the output alone.", "The initial approach was to write custom monitoring solutions for specific devices. For example, if we have a component that sends us the power consumption of an office building, we can write a program with a given set of instructions to monitor the output values of that device. While this was considered a good approach when such solutions were first made available, they have two major drawbacks. The first one is that we must know the allowed operating parameters of our program at the time of writing it, which in many cases we do not know. The second drawback is that even if we do know these parameters, we need to write a tailor-made algorithm with a fixed set of instructions for checking the device\u2019s output is within the allowed operating parameters.", "Unless you are an expert electrician or engineer, you would have to monitor your device for a very long time and suffer many power faults, surges and shortages before you could distinguish between normal power consumption and anomalous power consumption. And even then, your knowledge would only be useful for one office building with one range of power consumption.", "Can we overcome these two shortcomings? The answer is yes, and this is where things become interesting: a measure called \u201cmultivariate distribution\u201d can help us generalize our monitoring solution, requires very little data for initial predictions, and can detect anomalies without us specifying any thresholds during the writing of our algorithm.", "So what is this multivariate distribution thing? Let\u2019s start with the \u201cdistribution\u201d part in this article before learning how to use it in the second article and explaining the \u201cmultivariate\u201d part in the last one. If you feel confident when reading equations and know your way around basic statistics, you can safely skip to the next article.", "In statistics, a distribution shows us all possible values our data can take, along with the probability of any additional samples falling within a given range. To make things simple, and because I don\u2019t want to dive in too deep to the math behind the problem, I\u2019m going to assume our data is \u201cnormally distributed\u201d. If you study statistics you should know what it means, but for those of you who didn\u2019t it suffices to know that normal distributions give us some useful properties about our monitored output.", "If we treat the output from our monitored device as numbers (which I will call \u201cdata\u201d from now on) and assume it is normally distributed, we can start making predictions about them. If you don\u2019t remember what functions are from high school, it is enough to know that functions will return us numbers according to numbers we give them. Normally distributed data can be described by a function called the Gaussian function. It has a slightly more complicated formula than your standard high-school function, but if you ever saw the famous \u201cbell curve\u201d shown for IQ tests, they are both the exact same function.", "What exactly does this function describe? It turns out it describes many things. The first of these is called \u201cprobability\u201d. Probability tells us the chance a random number in our data will have a given value. It turns out the probability of having any given value is exactly zero, but the Gaussian function can tell us the probability of a number being between two values.", "It does that by calculating the area beneath the curve, as delimited by these two values. In the example above, the area limited by the numbers 3 and 4 is bigger than the area limited by the numbers 5 and 6. This means that if we measure a random number from our data, and call it x, there is a higher probability x will be between 3 and 4, than between 5 and 6. We denote this probability as p(x).", "A second question that arises is about the many symbols in the formula for the Gaussian function: what do they mean? Besides the mathematical operations, we have four letters in the formula: e, \u03c0, \u03bc, and \u03c3. The first two are well known constant values with many applications in mathematics. e is roughly equal to 2.71828, while \u03c0 is about 3.14159. It is the latter two that might require some explanation.", "Mathematicians have this weird habit of taking the first letter from English terms and denoting them with the Greek letters that sound the same. This makes the Greek letter \u03bc (Mu) the standard symbol for denoting the English word \u201cmean\u201d. If we mark every output in our data with a combination of a letter and a number, we can get a series of values that look like the following: x1, x2, x3 \u2026 and so forth. One measure we have about this series is the mean, which gives us the average of all values we received:", "where n is the number of values we have measured the mean for. A more compact way to write this formula will be using \u201cSigma notation\u201d. The Greek letter \u03a3 (uppercase Sigma) marks a sum of multiple elements. If we want to sum over all values of x, we could write", "This means that we iterate over all values between 1 and n; marking the current iterated value with i, we take the i\u2019th value of x and add it to all previously summed values. We can now define our mean using Sigma notation:", "The second value is called the \u201cstandard deviation\u201d and describes how much the different values of x deviate from the mean. Standard deviation is marked with the Greek letter \u03c3 (lowercase Sigma), and its formula is given as:", "We can now combine the four values to give us the equation for the Gaussian function:", "The Gaussian function has two other neat properties: the largest value it takes is equal to the mean of our data, and the height and width of the curve are proportional to the standard deviation. This can clearly be seen in the graph below: the purple curve has twice the standard deviation of the red curve, but they both share the same mean.", "This gives us a geometric insight about the values x can take: the closer a given range of values is to the mean of our data, the higher the probability that x will be contained inside that range. If the value is too far away from the mean of our data, we can classify it as an anomaly.", "To recap, we have learned that:", "\u00b7 We would like to detect anomalies in monitored systems, but this is not always simple", "\u00b7 Anomalies in our output can be detected by treating it as data and looking at its distribution", "\u00b7 What the mean, standard deviation and probability represent in our data", "\u00b7 The Gaussian function has many interesting properties that can be used to detect anomalies.", "That\u2019s all in the meantime. In the next article, we will discuss how we can detect anomalies in practice using the Gaussian function and implement a simple program that does exactly that.", "Part two in the series is now ready:", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data scientist @ InfiniGrow; Independent ML researcher and aspiring writer in my free time"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa6080da61c75&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-monitored-systems-part-1-a6080da61c75&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-monitored-systems-part-1-a6080da61c75&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-monitored-systems-part-1-a6080da61c75&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-monitored-systems-part-1-a6080da61c75&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a6080da61c75--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a6080da61c75--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://yonatanalon.medium.com/?source=post_page-----a6080da61c75--------------------------------", "anchor_text": ""}, {"url": "https://yonatanalon.medium.com/?source=post_page-----a6080da61c75--------------------------------", "anchor_text": "Yonatan Alon"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe4cd28429f72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-monitored-systems-part-1-a6080da61c75&user=Yonatan+Alon&userId=e4cd28429f72&source=post_page-e4cd28429f72----a6080da61c75---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa6080da61c75&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-monitored-systems-part-1-a6080da61c75&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa6080da61c75&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-monitored-systems-part-1-a6080da61c75&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://upload.wikimedia.org/", "anchor_text": "wikimedia"}, {"url": "https://medium.com/@yonatanalon/anomaly-detection-in-monitored-systems-part-2-c2108c143a6", "anchor_text": "safely skip"}, {"url": "https://medium.com/@yonatanalon/anomaly-detection-in-monitored-systems-part-2-c2108c143a6", "anchor_text": "https://medium.com/@yonatanalon/anomaly-detection-in-monitored-systems-part-2-c2108c143a6"}, {"url": "https://medium.com/tag/statistics?source=post_page-----a6080da61c75---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/probability?source=post_page-----a6080da61c75---------------probability-----------------", "anchor_text": "Probability"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a6080da61c75---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----a6080da61c75---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/anomaly-detection?source=post_page-----a6080da61c75---------------anomaly_detection-----------------", "anchor_text": "Anomaly Detection"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa6080da61c75&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-monitored-systems-part-1-a6080da61c75&user=Yonatan+Alon&userId=e4cd28429f72&source=-----a6080da61c75---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa6080da61c75&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-monitored-systems-part-1-a6080da61c75&user=Yonatan+Alon&userId=e4cd28429f72&source=-----a6080da61c75---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa6080da61c75&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-monitored-systems-part-1-a6080da61c75&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a6080da61c75--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa6080da61c75&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-monitored-systems-part-1-a6080da61c75&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a6080da61c75---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a6080da61c75--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a6080da61c75--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a6080da61c75--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a6080da61c75--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a6080da61c75--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a6080da61c75--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a6080da61c75--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a6080da61c75--------------------------------", "anchor_text": ""}, {"url": "https://yonatanalon.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://yonatanalon.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Yonatan Alon"}, {"url": "https://yonatanalon.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "37 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe4cd28429f72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-monitored-systems-part-1-a6080da61c75&user=Yonatan+Alon&userId=e4cd28429f72&source=post_page-e4cd28429f72--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F5330ef2858ba&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-monitored-systems-part-1-a6080da61c75&newsletterV3=e4cd28429f72&newsletterV3Id=5330ef2858ba&user=Yonatan+Alon&userId=e4cd28429f72&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}