{"url": "https://towardsdatascience.com/3-ways-to-compute-a-weighted-average-in-python-4e066de7a719", "time": 1683015931.888108, "path": "towardsdatascience.com/3-ways-to-compute-a-weighted-average-in-python-4e066de7a719/", "webpage": {"metadata": {"title": "3 Ways To Compute A Weighted Average in Python | by Antonello Benedetto | Towards Data Science", "h1": "3 Ways To Compute A Weighted Average in Python", "description": "Tutorial on how to compute Weighted Averages in Python with NumPy or self-defined function."}, "outgoing_paragraph_urls": [{"url": "https://www.linkedin.com/in/anbento4/", "anchor_text": "https://www.linkedin.com/in/anbento4/", "paragraph_index": 17}], "all_paragraphs": ["Update: Many of you contacted me asking for valuable resources to automate Excel tasks with Python or to apply popular statistical concepts in Python. Below I share four courses that I would recommend:", "Hope you\u2019ll find them useful too! Now enjoy the article :D", "Suppose you had to analyze the table below, showing the yearly salary for the employees of a small company divided in five groups (from lower to higher salary):", "If you computed the simple average of the Salary Per Year column you would obtain:", "But is \u00a362,000 an accurate representation of the average salary across the groups? Because data comes already aggregated and each group has a different Employees Number, the average Salary Per Year for each group weights differently in the overall average. In computing the simple average, the same weight was assigned to each group leading to a biased result.", "In this cases, the solution is to take into account the weight of each group by computing a weighted average that can be represented algebraically with the formula:", "Where x represents the distribution ( Salary Per Year ) and w represents the weight to be assigned ( Employees Number). Given that the table includes five groups, the formula above becomes:", "An by replacing x and w with actual figures, you should obtain the result below:", "Note how taking weights into account, the average Salary Per Year across the groups is almost \u00a318,000 lower than the one computed with the simple average and this is an accurate way to describe our dataset given the number of employees in each group.", "Now that the theory has been covered, let\u2019s see how to obtain a weighted average in Python using 3 different methods. In order to do that, the first step is to import packages and the employees_salary table itself:", "If you wish to code your own algorithm, the first very straightforward way to compute a weighted average is to use list comprehension to obtain the product of each Salary Per Year with the corresponding Employee Number ( numerator ) and then divide it by the sum of the weights ( denominator).", "The function above could easily be rewritten as a one liner:", "Instead of using list comprehensions, you could simply start from and empty list ( weighted_sum ) and append the product of the average salary for each group by its weight . The zip() function is very handy as it generates an iterator of tuples that helps pairing each salary to the corresponding weight .", "The numpy package includes an average() function (that has been imported above) where you can specify a list of weights to calculate a weighted average. This is by far the easiest and more flexible method to perform these kind of computations in production:", "In this brief tutorial, we learnt how weighted averages should be the preferred option every time data is presented in an aggregated or grouped way, where some quantities or frequencies can be identified. We also found at least 3 methods to compute a weighted average with Python either with a self-defined function or a built-in one. I would be curious to know if you use any other algorithm or package to compute weighted averages, so please do leave a comment!", "This post includes affiliate links for which I may make a small commission at no extra cost to you, should you make a purchase.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Engineer @Wise | \ud83c\udfc6 Among Top Writers In Engineering \ud83d\udcbb Trying To Be Good At Tough Sports\ud83c\udfca\ud83c\udffb \ud83d\udeb4\ud83c\udffd\ud83c\udfc3\ud83c\udffb Connect Via https://www.linkedin.com/in/anbento4/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4e066de7a719&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-ways-to-compute-a-weighted-average-in-python-4e066de7a719&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-ways-to-compute-a-weighted-average-in-python-4e066de7a719&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-ways-to-compute-a-weighted-average-in-python-4e066de7a719&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-ways-to-compute-a-weighted-average-in-python-4e066de7a719&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4e066de7a719--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4e066de7a719--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://anbento4.medium.com/?source=post_page-----4e066de7a719--------------------------------", "anchor_text": ""}, {"url": "https://anbento4.medium.com/?source=post_page-----4e066de7a719--------------------------------", "anchor_text": "Antonello Benedetto"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2d93b58a0f8a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-ways-to-compute-a-weighted-average-in-python-4e066de7a719&user=Antonello+Benedetto&userId=2d93b58a0f8a&source=post_page-2d93b58a0f8a----4e066de7a719---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4e066de7a719&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-ways-to-compute-a-weighted-average-in-python-4e066de7a719&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4e066de7a719&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-ways-to-compute-a-weighted-average-in-python-4e066de7a719&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/programming", "anchor_text": "Programming"}, {"url": "https://towardsdatascience.com/tagged/interviewing", "anchor_text": "Interviewing"}, {"url": "https://towardsdatascience.com/tagged/office-hours", "anchor_text": "Office Hours"}, {"url": "https://www.pexels.com/@dmitry-sidorov-2775764", "anchor_text": "Dmitry Sidorov"}, {"url": "https://www.pexels.com/", "anchor_text": "Pexels"}, {"url": "https://imp.i115008.net/2rrmW7", "anchor_text": "Programming For Data Science In Python (Nano-Degree)"}, {"url": "https://datacamp.pxf.io/jWm44P", "anchor_text": "Practicing Statistics Interview Questions In Python"}, {"url": "https://towardsdatascience.com/3-nanodegrees-you-should-consider-to-advance-your-data-engineering-career-in-2021-baf597debc72", "anchor_text": "3 Nanodegrees You Should Consider To Advance Your Data Engineering Career in 2021towardsdatascience.com"}, {"url": "https://towardsdatascience.com/10-algorithms-to-solve-before-your-python-coding-interview-feb74fb9bc27", "anchor_text": "10 Algorithms To Solve Before your Python Coding InterviewIn this article I present and share the solution for a number of basic algorithms that recurrently appear in FAANG\u2026towardsdatascience.com"}, {"url": "https://towardsdatascience.com/7-fundamental-sql-concepts-you-will-be-challenged-with-in-faang-interviews-d26097a8d867", "anchor_text": "7 Fundamental SQL Concepts To Master Before Your Next Coding InterviewPractice by solving problems from real interviews and finally get the job you deserve.towardsdatascience.com"}, {"url": "https://towardsdatascience.com/connect-to-databases-using-python-and-hide-secret-keys-with-env-variables-a-brief-tutorial-4f68e33a6dc6", "anchor_text": "Hide Your Passwords Using Environment VariablesA tutorial on how to keep your secret keys hidden using environment variables while connecting to databases with Pythontowardsdatascience.com"}, {"url": "https://towardsdatascience.com/15-git-commands-you-should-learn-before-your-very-first-project-f8eebb8dc6e9", "anchor_text": "15 Git Commands To Master Before Your Very First ProjectThe last Git tutorial you are going to need to master version control at the command line.towardsdatascience.com"}, {"url": "https://medium.com/tag/data-engineering?source=post_page-----4e066de7a719---------------data_engineering-----------------", "anchor_text": "Data Engineering"}, {"url": "https://medium.com/tag/python?source=post_page-----4e066de7a719---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----4e066de7a719---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/careers?source=post_page-----4e066de7a719---------------careers-----------------", "anchor_text": "Careers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4e066de7a719&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-ways-to-compute-a-weighted-average-in-python-4e066de7a719&user=Antonello+Benedetto&userId=2d93b58a0f8a&source=-----4e066de7a719---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4e066de7a719&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-ways-to-compute-a-weighted-average-in-python-4e066de7a719&user=Antonello+Benedetto&userId=2d93b58a0f8a&source=-----4e066de7a719---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4e066de7a719&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-ways-to-compute-a-weighted-average-in-python-4e066de7a719&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4e066de7a719--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4e066de7a719&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-ways-to-compute-a-weighted-average-in-python-4e066de7a719&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4e066de7a719---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4e066de7a719--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4e066de7a719--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4e066de7a719--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4e066de7a719--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4e066de7a719--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4e066de7a719--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4e066de7a719--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4e066de7a719--------------------------------", "anchor_text": ""}, {"url": "https://anbento4.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://anbento4.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Antonello Benedetto"}, {"url": "https://anbento4.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.4K Followers"}, {"url": "https://www.linkedin.com/in/anbento4/", "anchor_text": "https://www.linkedin.com/in/anbento4/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2d93b58a0f8a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-ways-to-compute-a-weighted-average-in-python-4e066de7a719&user=Antonello+Benedetto&userId=2d93b58a0f8a&source=post_page-2d93b58a0f8a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7fbba797bc8f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-ways-to-compute-a-weighted-average-in-python-4e066de7a719&newsletterV3=2d93b58a0f8a&newsletterV3Id=7fbba797bc8f&user=Antonello+Benedetto&userId=2d93b58a0f8a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}