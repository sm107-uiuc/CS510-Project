{"url": "https://towardsdatascience.com/3-high-availability-cloud-concepts-you-should-know-93f3bab2cb4a", "time": 1683015295.029668, "path": "towardsdatascience.com/3-high-availability-cloud-concepts-you-should-know-93f3bab2cb4a/", "webpage": {"metadata": {"title": "3 High Availability Cloud Concepts You Should Know | \u0141. Gebel | Towards Data Science", "h1": "3 High Availability Cloud Concepts You Should Know", "description": "Implementing highly available cloud solution is not an easy task. With these 3 cloud concept you will gain understaning how to do it."}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Having a solution available in public usually means you need to deploy and keep it working \u201csomewhere\u201d. Nowadays \u201csomewhere\u201d is very often a cloud environment. It is a flexible solution, where you can start small and increase the capacity as your business grows. However, despite what kind of system you own, you need to make it highly available so users can rely on it.", "Cloud environments make it possible to build reliable systems, but it doesn\u2019t mean that clouds themself are immune to failures. It doesn\u2019t work that way. You need to be aware and make your system ready to deal with failures, rather than believing that all cloud components you use are always available.", "Let\u2019s go through the main cloud concepts that are crucial to making your systems highly available.", "Making your system ready for changing load and keeping the minimal needed capacity is a way of ensuring high availability. When you start small a big load is not an issue, however, using cloud mechanisms like scale sets is still a good idea. They can keep the minimal number of virtual machines your system needs to be up. In case of unexpected events like a machine being taken down, the scale set rule should spin up a new instance for you. There are two main kinds of scaling, horizontal scaling, and vertical scaling.", "Horizontal scaling means that you add or remove the same type of instances (like virtual machine instance or a container running an application) to your stack. The new instance is the same as other instances in terms of the resources it uses and is capable of handling the load. It\u2019s also called scaling out (increasing the number of instances) and scaling in (decreasing the number of instances). To scale horizontally your system needs to be ready for it, and every single instance has to be capable of working independently. It\u2019s particularly important in the case of stateful systems when some kind of synchronization may be needed.", "Vertical scaling is done when you increase the resources of one of your instances. You can add more RAM, CPUs, GPUs, disk space, or any other resource. It\u2019s like making your machine more powerful, which is well described by the picture at the beginning of this section. Vertical scaling is also known as scaling up (adding resources) or scaling down (removing resources). The main drawback of this type of scaling is that sometimes it requires stopping an instance, adding resources, and starting it again. It can cause disruption. It\u2019s not the case while using horizontal scaling.", "Scaling your system is not an easy task. If load fluctuates a lot it may be hard to find a way to keep low costs and be ready for high demand. Usually, you can use different metrics of the system to build scaling rules. CPU utilization, amount of memory, or disk space are some examples of the metrics. You can also think of using metrics like the number of requests that reach the system, the capacity of queues (if you use them), or any specific information related to load changes. For more complex cases, there are even Machine Learning algorithms that help to find optimal scaling rules.", "In cloud environments systems are deployed in units called regions. A region is a data center or a set of data centers that are located close to each other. There is also a more granular unit inside of the regions, called an availability zone. Each availability zone is a single data center within one region.", "Both regions and availability zones serve well to the availability of a system. What\u2019s more when you deploy the system in different regions like West Europe and East US users can benefit from lower latency, as they\u2019ll connect to the nearest instance.", "Having your system deployed in different regions and/or different availability zones makes it more resistant to region failures. It simply adds more redundancy to your architecture. When given cloud service you use is down in your region, you still have another region that works well. That\u2019s the main idea behind multi-region deployments.", "Sometimes the whole region or a couple of regions may go down, it\u2019s rare, but it may happen. In such cases, you can\u2019t do much if you use one cloud provider. On the other hand, using multiple providers and multiple regions is costly so you need to calculate what\u2019s the best choice for you.", "How many regions are available in different cloud environments? Let\u2019s look at Azure and AWS.", "As you can see these providers chose different strategies. Microsoft went for regions and availability zones as an expansion, while Amazon chose to equip every region with availability zones, but has fewer regions. Despite which solution you choose it will fit your high availability requirements.", "If you decide to go for a multi-region strategy you need to think if your architecture fits it. Let\u2019s say you have a system that can be deployed in multiple regions and each deployment can work on its own. In such a case there is no problem, you can choose whatever region or availability zone that fits your users\u2019 needs.", "However, if your system has components that need to communicate with each other and send a lot of data through the network, multi-region deployment may harm its performance. In the picture, you can see a tradeoff between availability and latency.", "If you choose to have only one region, one availability zone, your instances will be in one data center. It gives you lower availability because if the data center goes down, the system goes down. However, system components will be placed close to each other so it will have the lowest latency.", "If you choose to deploy your system in many availability zones inside one region, you\u2019ll spread your instances through different data centers. It will increase the theoretical availability of your system. You will add some latency, however, availability zones are connected with a fast fiber network, so it should not be so bad.", "Finally, if you go for multi-region deployment your components will communicate between huge distances. It has the highest availability, as regions are far away from each other, natural disasters should not affect multiple regions. But latency between regions will be much higher than in other cases.", "No matter which strategy you choose, you\u2019ll end up with at least one deployment in one datacenter. That\u2019s why it\u2019s important to understand failure domains and update domains.", "Instances can land in the same or different failure domains. One failure domain is basically a rack with the power supply. If a failure domain goes down, all instances from the rack are also down. You can check how many failure domains are available in the region you chose.", "Update domains work in the same manner as failure domains but they help when cloud providers introduce changes (like patching operating systems) or need to run some maintenance actions. If instances are spread into different update domains you can be sure that during maintenance only a part of them (inside one update domain) will be unavailable.", "In AWS you can also define virtual machines placement groups. There are three types of them. Cluster type keeps your instances on one rack. Partition enables you to create a logical partition and decide which instances go to which partition. Finally, spread (default), tries to dispatch your instances as much as possible so they\u2019re less vulnerable to outages.", "Ok, but why I need to understand and take care of it? I\u2019m just a cloud user, I pay for services and I want to have it working. As I wrote before, using the cloud doesn\u2019t mean you can ignore how it works under the hood. You are responsible for the architecture of your system and making it highly available.", "Let\u2019s describe it using an example. In our theoretical system, we have an Apache Zookeeper cluster [1]. It\u2019s a tool that supports the coordination of distributed systems. It helps with distributed configuration and state.", "Zookeepers need to work in a quorum. In very particular quorum. Basically, you need to have 2N + 1 Zookeepers. N is a natural number. The minimal highly available setup contains three Zookeepers. One can go down and the cluster works, however, if two go down, the whole cluster is down. Let\u2019s say you didn\u2019t care much and deployed your Zookeepers in the data center with two failure domains (racks). Zookeepers will be spread like that:", "Now you have 50% percent of chances that your cluster goes down when one of the racks gets broken. So your system is not really highly available, one failure makes it down:", "Ok, so maybe we can scale Zookeepers? Let\u2019s go for N = 2, in such a setup, two Zookeepers can go down without any issue:", "But wait a moment, if you have only two racks they can be spread like this (best case scenario):", "As you can see it doesn\u2019t help much. Your cluster is as vulnerable as with three Zookeepers. That depicts why it\u2019s important to understand what\u2019s going on behind the scenes.", "We went through three basic yet useful concepts that can help to make your system highly available. Implementing them together with having well-designed architecture will increase the availability of your services and make them ready for unexpected, yet possible events. And trust me, if you use cloud you\u2019ll experience them sooner or later.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Software Engineer by day, Machine Learning enthusiast at night. Tech conferences speaker. I love to learn, share, read, play football \u2014 in no particular order."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F93f3bab2cb4a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-high-availability-cloud-concepts-you-should-know-93f3bab2cb4a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-high-availability-cloud-concepts-you-should-know-93f3bab2cb4a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-high-availability-cloud-concepts-you-should-know-93f3bab2cb4a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-high-availability-cloud-concepts-you-should-know-93f3bab2cb4a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----93f3bab2cb4a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----93f3bab2cb4a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@luk.gebel?source=post_page-----93f3bab2cb4a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@luk.gebel?source=post_page-----93f3bab2cb4a--------------------------------", "anchor_text": "\u0141ukasz Gebel"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feca79ff2b5d0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-high-availability-cloud-concepts-you-should-know-93f3bab2cb4a&user=%C5%81ukasz+Gebel&userId=eca79ff2b5d0&source=post_page-eca79ff2b5d0----93f3bab2cb4a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F93f3bab2cb4a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-high-availability-cloud-concepts-you-should-know-93f3bab2cb4a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F93f3bab2cb4a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-high-availability-cloud-concepts-you-should-know-93f3bab2cb4a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@paniscusbcn?utm_source=medium&utm_medium=referral", "anchor_text": "Josep Castells"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://pixabay.com/pl/users/1117826-1117826/", "anchor_text": "1117826"}, {"url": "https://pixabay.com/pl/vectors/monitor-ekran-komputer-elektronika-1130493/", "anchor_text": "Pixabay"}, {"url": "https://pixabay.com/pl/users/camellia_sasanqua-2366387/", "anchor_text": "camelia_sasquana"}, {"url": "https://pixabay.com/pl/vectors/cloud-computing-czarny-bia%C5%82y-1924338/", "anchor_text": "Pixabay"}, {"url": "https://pixabay.com/pl/users/camellia_sasanqua-2366387/", "anchor_text": "camelia_sasquana"}, {"url": "https://pixabay.com/pl/users/1117826-1117826/", "anchor_text": "1117826"}, {"url": "https://pixabay.com/pl/users/openclipart-vectors-30363/", "anchor_text": "OpenClipart-Vectors"}, {"url": "https://pixabay.com/", "anchor_text": "Pixabay"}, {"url": "https://pixabay.com/pl/users/clker-free-vector-images-3736/", "anchor_text": "Clker-Free-Vector-Images"}, {"url": "https://pixabay.com/pl/vectors/komputer-serwer-przyciski-pc-305534/", "anchor_text": "Pixabay"}, {"url": "https://svn.apache.org/repos/asf/comdev/project-logos/originals/zookeeper.svg", "anchor_text": "Apache Zookeeper logo"}, {"url": "https://svn.apache.org/repos/asf/comdev/project-logos/originals/zookeeper.svg", "anchor_text": "Apache Zookeeper logo"}, {"url": "https://svn.apache.org/repos/asf/comdev/project-logos/originals/zookeeper.svg", "anchor_text": "Apache Zookeeper logo"}, {"url": "https://svn.apache.org/repos/asf/comdev/project-logos/originals/zookeeper.svg", "anchor_text": "Apache Zookeeper logo"}, {"url": "https://azure.microsoft.com/en-us/global-infrastructure/geographies/", "anchor_text": "https://azure.microsoft.com/en-us/global-infrastructure/geographies/"}, {"url": "https://aws.amazon.com/about-aws/global-infrastructure/regions_az/", "anchor_text": "https://aws.amazon.com/about-aws/global-infrastructure/regions_az/"}, {"url": "https://zookeeper.apache.org/", "anchor_text": "https://zookeeper.apache.org/"}, {"url": "https://medium.com/tag/cloud-computing?source=post_page-----93f3bab2cb4a---------------cloud_computing-----------------", "anchor_text": "Cloud Computing"}, {"url": "https://medium.com/tag/software-development?source=post_page-----93f3bab2cb4a---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/software-architecture?source=post_page-----93f3bab2cb4a---------------software_architecture-----------------", "anchor_text": "Software Architecture"}, {"url": "https://medium.com/tag/technology?source=post_page-----93f3bab2cb4a---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/devops?source=post_page-----93f3bab2cb4a---------------devops-----------------", "anchor_text": "DevOps"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F93f3bab2cb4a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-high-availability-cloud-concepts-you-should-know-93f3bab2cb4a&user=%C5%81ukasz+Gebel&userId=eca79ff2b5d0&source=-----93f3bab2cb4a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F93f3bab2cb4a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-high-availability-cloud-concepts-you-should-know-93f3bab2cb4a&user=%C5%81ukasz+Gebel&userId=eca79ff2b5d0&source=-----93f3bab2cb4a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F93f3bab2cb4a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-high-availability-cloud-concepts-you-should-know-93f3bab2cb4a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----93f3bab2cb4a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F93f3bab2cb4a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-high-availability-cloud-concepts-you-should-know-93f3bab2cb4a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----93f3bab2cb4a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----93f3bab2cb4a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----93f3bab2cb4a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----93f3bab2cb4a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----93f3bab2cb4a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----93f3bab2cb4a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----93f3bab2cb4a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----93f3bab2cb4a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----93f3bab2cb4a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@luk.gebel?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@luk.gebel?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "\u0141ukasz Gebel"}, {"url": "https://medium.com/@luk.gebel/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "140 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feca79ff2b5d0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-high-availability-cloud-concepts-you-should-know-93f3bab2cb4a&user=%C5%81ukasz+Gebel&userId=eca79ff2b5d0&source=post_page-eca79ff2b5d0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fc58b6b6c505d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-high-availability-cloud-concepts-you-should-know-93f3bab2cb4a&newsletterV3=eca79ff2b5d0&newsletterV3Id=c58b6b6c505d&user=%C5%81ukasz+Gebel&userId=eca79ff2b5d0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}