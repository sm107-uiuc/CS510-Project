{"url": "https://towardsdatascience.com/did-liverpool-deserve-to-win-the-premier-league-eda7a4e1b9ca", "time": 1683011743.854218, "path": "towardsdatascience.com/did-liverpool-deserve-to-win-the-premier-league-eda7a4e1b9ca/", "webpage": {"metadata": {"title": "Did Liverpool Deserve to Win the Premier League? | Towards Data Science", "h1": "Did Liverpool Deserve to Win the Premier League?", "description": "Liverpool might have won the 2019/20 Premier League title at a canter, but did they really deserve the trophy? Expected Goals suggests they didn't"}, "outgoing_paragraph_urls": [{"url": "https://fbref.com/en/expected-goals-model-explained/#:~:text=Very%20simply%2C%20xG%20(or%20expected,what%20angle%20on%20the%20pitch%3F", "anchor_text": "here", "paragraph_index": 2}, {"url": "https://www.bbc.com/sport/football/50822875", "anchor_text": "made its way to the media", "paragraph_index": 4}, {"url": "https://www.youtube.com/watch?v=JBWKGij9Y5A#t=26s", "anchor_text": "speaking to certain pundits", "paragraph_index": 4}, {"url": "https://fbref.com/en/comps/9/schedule/Premier-League-Scores-and-Fixtures", "anchor_text": "FbRef", "paragraph_index": 6}, {"url": "https://statsbomb.com/", "anchor_text": "StatsBomb\u2019s", "paragraph_index": 6}, {"url": "https://dashee87.github.io/data%20science/football/r/predicting-football-results-with-statistical-modelling/", "anchor_text": "this is a great site for it", "paragraph_index": 11}, {"url": "https://stat.ethz.ch/R-manual/R-devel/library/stats/html/Poisson.html", "anchor_text": "Poisson package", "paragraph_index": 12}, {"url": "https://rstudio.com/", "anchor_text": "RStudio", "paragraph_index": 18}, {"url": "https://www.youtube.com/watch?v=bsAl0JjFvU8", "anchor_text": "maybe David de Gea and Harry Maguire aren\u2019t that bad after all", "paragraph_index": 23}, {"url": "https://www.youtube.com/watch?v=BC-WGSeynp8", "anchor_text": "much better at taking certain types of chances than others", "paragraph_index": 33}], "all_paragraphs": ["I returned, and saw under the sun, that the race is not to the swift, nor the battle to the strong, neither yet bread to the wise, nor yet riches to men of understanding, nor yet favour to men of skill; but time and chance happeneth to them all.", "What happens if a football team massively over-performs and wins the league by a country mile? How do we know if they won by luck, or if they were just that much better than everyone else?", "One of the metrics in football that the sports analytics industry developed over the last 10 years to assess performance is the much-fabled expected goals (xG). The idea is that a goal being scored is just one of a number of outcomes that could have happened (shot hits the crossbar, keeper saves, shot goes wide, foul, etc.). Now I don\u2019t want to go too much into detail over the xG definition (FbRef has a great explanation and method of computing it here) as there are many differing opinions available on what an xG is, or how to calculate it.", "For simplicity, let\u2019s think of xG as an indicator of how well a player has taken a shot (or chance) that might result in a goal. A player with a 1-v-1 chance against the goalkeeper? High xG. A midfielder takes a shot on goal from 40 yards past a wall of players? Low xG. Penalty? High xG. A shot taken from near the corner flag? Low xG.", "Professional football clubs have been using xG to track performance for a few years now, as opposed to simply drawing conclusions by looking at the final result. It\u2019s slowly made its way to the media to help inform debate- although maybe try avoiding it when speaking to certain pundits.", "Now that we\u2019ve established xG, the goal (no pun intended) of this project is to determine how well teams have performed in the 2019/20 Premier League season, relative to their final position- specifically, if Liverpool were deserving winners. We\u2019re going to need a few things for this:", "First off, let\u2019s get the xG data. FbRef are a fantastic open source site for this, and they are powered by StatsBomb\u2019s model (who many consider as one of the best in the industry). There are two ways of getting the xG data in the link above, the first being the method below which uses Scrapy in Python. In xg_spider.py:", "Now type this into the terminal:", "Let\u2019s clean up the data in R (I know we could do this all in Python, but I already had a Scrapy scraper ready and most of my models were already in R):", "Et voila, you now have a csv with the Premier League 2019/20 xG data!", "Or\u2026 you could just have easily used Microsoft Excel to copy and paste those tables and clean the data into a csv manually.", "Right, here\u2019s where it starts to get interesting. Football scores can be approximated using a Poisson distribution. I don\u2019t want to go into detail as there\u2019s plenty of literature online, and if you want to check out code in Python or R that describes the approximation process, this is a great site for it.", "Anyway, we can use R\u2019s in built Poisson package to calculate the correct score of a football match, given the scoring rate of either team. Open up a file called FootballMatchResult.R:", "This simple Poisson model doesn\u2019t actually fit the data as well as you would like because the low scores and draw probabilities are much more likely than the model makes them but\u2026 in the interest of time, let\u2019s leave that for another day.", "Using this model, we can now derive a team\u2019s expected points (xPts) in a match. In the first match (Liverpool v Norwich City) for instance, Liverpool had 1.9 xG and Norwich City were assigned 1.0- now given a team gets 3 points for a win and 1 for a draw, we may derive the match outcome probabilities by typing", "into the R console, which would output the home win, draw, and away in probabilities in a vector:", "So if we wanted to compute Liverpool\u2019s xPts, we would multiply the first entry by 3 and add the middle entry. Same goes for Norwich City, but in their case, it would be multiplying the final entry by 3 and adding the middle one.", "Let\u2019s compute each match from the prem1920 data frame into an xPts table to see how well the teams performed based on their xG in a match. We\u2019ll sum up three attributes and sort them into a league table. The attributes are: expected points (xPts), expected goals scored (xG_For) and expected goals against (xG_Against). Here\u2019s the code", "With the magic of RStudio, fire off", "into the terminal. We\u2019re now able to derive this xPts table:", "Contrast that with the actual, final league table:", "Right, where do we even begin? Let\u2019s first of all answer the question if Liverpool deserved to win the league this year. Sadly for the mighty Reds, according to the xPts table the answer is a resounding no. They didn\u2019t even come 2nd in the table based on xPts- Chelsea were expected to finish ahead of them based on xG!", "Manchester City absolutely blew everybody away this year on performance, scoring 102 goals against 93.1 xG and letting in pretty much the number of goals they were expected to concede (35 against an xG of 35.2). Their xPts was pretty accurate as well, 81.89 against an actual tally of 81. That\u2019s more than 10 xPts ahead of 2nd place! Pep Guardiola can consider his team extremely unlucky this year- but hey, they got their UEFA Champions League ban overturned, so swings and roundabouts.", "The top four teams were, well, the top four teams- except that Manchester United should probably have finished in fourth instead of third place. However, the xPts table projected that they had the second best defence in the league after their city rivals, so maybe David de Gea and Harry Maguire aren\u2019t that bad after all\u2026", "Despite Leicester City\u2019s disappointment at missing out on a Champions League spot on the final day of the season, the xPts table suggests that they had a great year and ultimately finished where they should have. The same can\u2019t be said of Spurs, unfortunately. They finished sixth, but the xPts table suggests that they weren\u2019t even a top half team! Jose Mourinho seemingly has a lot to do to improve his team (as well as his own reputation)\u2026", "Now we\u2019re discussing the bottom teams. Watford surely must feel particularly hard done by- they did more than enough to stay clear of the bottom three spots. Bournemouth were another team who might feel like they deserved to stay up this year according to the xPts table.", "Norwich City\u2019s performances probably warranted a bit more as well, although perhaps not enough to survive another year in the Premier League. If I were a coach or a staff member on the books of the recruitment team at Aston Villa, Crystal Palace, or West Ham, I would be looking over my shoulder, somewhat worried about my team\u2019s prospects next season if nothing changes during the summer break.", "Yet none of them should be as worried as Newcastle United. Although they pretty much matched their projected goals numbers, they finished rock bottom in the xPts table with the lowest projected xG. Somehow Steve Bruce\u2019s side managed to nab 8 points more than they deserved, which was enough to pull them clear into safety. Just goes to show how fine the margins are between staying up and being relegated!", "There\u2019s one final trick left in the book. We can use R to simulate 1,000 seasons based on the xPts table (code not included, as I swear the lights in my home must\u2019ve started flickering due to the power required to run the sims off my boilerplate code). Here\u2019s the final position heatmap based on 1,000 season simulations (V1 = first place, V2 = second place, and so on). The more pink the colour, the more times a team finished in that particular position:", "Manchester City have basically cemented first place, with few challengers (Liverpool and Chelsea were the closest to dethroning them). It looks like Manchester United have become Arsenal during Wenger\u2019s middle years at the club, whilst Arsenal have become\u2026 the Spurs of the early 2000s. At the other end of the table, Newcastle United were firmly anchored to the bottom places, rarely making it out of the final 4 or 5 positions.", "While xG has become one of the analytics industry\u2019s standard indicators to forecast team performance, it\u2019s probably wise to discuss its limitations now- as well as those of this project.", "The first is that there are several ways of defining an xG- none of the firms seem to agree on the best way to compute it. Some analysts might add more weight to an xG based on the angle of the chance, whereas some might penalise a long shot more than others, and so on. Think about it this way- everybody knows what a goal is. The same goes for a yellow card, or a corner. They\u2019re all well-defined, tangible statistics. But what is an xG? Until this is standardised, it will continue to be an issue.", "Next- every model has limitations, and our naive Poisson football model is no exception. It assumes independence between goals in a match- for instance, if a goal has been scored, it does not influence the outcome. In reality, this is just nonsense- if you\u2019re a player, you would change approach if there has been a goal in your game. As a result, a team chasing a match where they are 1\u20130 down will behave differently than one with a two goal cushion. There needs to be some computation for dependency in the model for it to be more useful. Just remember the classic football cliche- goals change games.", "Finally, is xG really that great an indicator of a team\u2019s performance? Amongst other limitations, the metric does not account for individual players (or their relative skills). At the end of the day, most xG models are built off a database of thousands of shots and chances- the final output will be an average, not specific to the player. For argument\u2019s sake, just think that a striker, in general, should have a much better finishing rate than a defender in certain positions. Then there might be some players who are much better at taking certain types of chances than others. This is where the metric starts to break down, and understanding this is key to getting the most out of xG.", "So\u2026 did Liverpool deserve to win? Who cares really- it still happened. At the end of the day, despite everything, the only thing that matters is still the result.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Feda7a4e1b9ca&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdid-liverpool-deserve-to-win-the-premier-league-eda7a4e1b9ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdid-liverpool-deserve-to-win-the-premier-league-eda7a4e1b9ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdid-liverpool-deserve-to-win-the-premier-league-eda7a4e1b9ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdid-liverpool-deserve-to-win-the-premier-league-eda7a4e1b9ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----eda7a4e1b9ca--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----eda7a4e1b9ca--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@ourandy?source=post_page-----eda7a4e1b9ca--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ourandy?source=post_page-----eda7a4e1b9ca--------------------------------", "anchor_text": "Andy Lee"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4d1657156354&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdid-liverpool-deserve-to-win-the-premier-league-eda7a4e1b9ca&user=Andy+Lee&userId=4d1657156354&source=post_page-4d1657156354----eda7a4e1b9ca---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Feda7a4e1b9ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdid-liverpool-deserve-to-win-the-premier-league-eda7a4e1b9ca&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Feda7a4e1b9ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdid-liverpool-deserve-to-win-the-premier-league-eda7a4e1b9ca&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@shaunyness", "anchor_text": "shaunyness"}, {"url": "https://unsplash.com/photos/bIyzFopbVOg", "anchor_text": "Unsplash"}, {"url": "https://fbref.com/en/expected-goals-model-explained/#:~:text=Very%20simply%2C%20xG%20(or%20expected,what%20angle%20on%20the%20pitch%3F", "anchor_text": "here"}, {"url": "https://www.bbc.com/sport/football/50822875", "anchor_text": "made its way to the media"}, {"url": "https://www.youtube.com/watch?v=JBWKGij9Y5A#t=26s", "anchor_text": "speaking to certain pundits"}, {"url": "https://fbref.com/en/comps/9/schedule/Premier-League-Scores-and-Fixtures", "anchor_text": "FbRef"}, {"url": "https://statsbomb.com/", "anchor_text": "StatsBomb\u2019s"}, {"url": "https://dashee87.github.io/data%20science/football/r/predicting-football-results-with-statistical-modelling/", "anchor_text": "this is a great site for it"}, {"url": "https://stat.ethz.ch/R-manual/R-devel/library/stats/html/Poisson.html", "anchor_text": "Poisson package"}, {"url": "https://rstudio.com/", "anchor_text": "RStudio"}, {"url": "https://www.youtube.com/watch?v=bsAl0JjFvU8", "anchor_text": "maybe David de Gea and Harry Maguire aren\u2019t that bad after all"}, {"url": "https://www.youtube.com/watch?v=BC-WGSeynp8", "anchor_text": "much better at taking certain types of chances than others"}, {"url": "https://towardsdatascience.com/randomness-in-sport-6e60c6132838", "anchor_text": "Randomness in SportWhy do more teams win the Super Bowl than the Premier League?towardsdatascience.com"}, {"url": "https://towardsdatascience.com/making-up-the-odds-73fbc509ee7f", "anchor_text": "Making up the OddsA short history on Britain\u2019s Betting Boom, from Bayes to Betfairtowardsdatascience.com"}, {"url": "https://medium.com/tag/python?source=post_page-----eda7a4e1b9ca---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----eda7a4e1b9ca---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----eda7a4e1b9ca---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/football?source=post_page-----eda7a4e1b9ca---------------football-----------------", "anchor_text": "Football"}, {"url": "https://medium.com/tag/analytics?source=post_page-----eda7a4e1b9ca---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Feda7a4e1b9ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdid-liverpool-deserve-to-win-the-premier-league-eda7a4e1b9ca&user=Andy+Lee&userId=4d1657156354&source=-----eda7a4e1b9ca---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Feda7a4e1b9ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdid-liverpool-deserve-to-win-the-premier-league-eda7a4e1b9ca&user=Andy+Lee&userId=4d1657156354&source=-----eda7a4e1b9ca---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Feda7a4e1b9ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdid-liverpool-deserve-to-win-the-premier-league-eda7a4e1b9ca&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----eda7a4e1b9ca--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Feda7a4e1b9ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdid-liverpool-deserve-to-win-the-premier-league-eda7a4e1b9ca&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----eda7a4e1b9ca---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----eda7a4e1b9ca--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----eda7a4e1b9ca--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----eda7a4e1b9ca--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----eda7a4e1b9ca--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----eda7a4e1b9ca--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----eda7a4e1b9ca--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----eda7a4e1b9ca--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----eda7a4e1b9ca--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ourandy?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ourandy?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andy Lee"}, {"url": "https://medium.com/@ourandy/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "73 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4d1657156354&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdid-liverpool-deserve-to-win-the-premier-league-eda7a4e1b9ca&user=Andy+Lee&userId=4d1657156354&source=post_page-4d1657156354--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7a34a89270b1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdid-liverpool-deserve-to-win-the-premier-league-eda7a4e1b9ca&newsletterV3=4d1657156354&newsletterV3Id=7a34a89270b1&user=Andy+Lee&userId=4d1657156354&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}