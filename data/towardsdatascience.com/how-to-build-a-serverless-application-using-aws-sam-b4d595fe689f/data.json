{"url": "https://towardsdatascience.com/how-to-build-a-serverless-application-using-aws-sam-b4d595fe689f", "time": 1683015380.717925, "path": "towardsdatascience.com/how-to-build-a-serverless-application-using-aws-sam-b4d595fe689f/", "webpage": {"metadata": {"title": "How to Build a Serverless Application using AWS SAM | by Siben Nayak | Towards Data Science", "h1": "How to Build a Serverless Application using AWS SAM", "description": "In my previous article, I talked about AWS Chalice and how we could quickly build a Python based serverless application and deploy it on AWS within a few minutes. While it was a quick and fun\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/how-to-build-a-serverless-application-using-aws-chalice-91024416d84f", "anchor_text": "article", "paragraph_index": 0}, {"url": "https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/", "anchor_text": "create one", "paragraph_index": 3}, {"url": "https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html", "anchor_text": "here", "paragraph_index": 5}, {"url": "https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-quickstart.html", "anchor_text": "configure", "paragraph_index": 6}, {"url": "https://docs.docker.com/get-docker/", "anchor_text": "here", "paragraph_index": 31}, {"url": "https://towardsdatascience.com/how-to-build-a-serverless-application-using-aws-chalice-91024416d84f", "anchor_text": "earlier", "paragraph_index": 43}, {"url": "https://github.com/theawesomenayak/daily-news-java", "anchor_text": "here", "paragraph_index": 45}, {"url": "https://www.linkedin.com/in/theawesomenayak", "anchor_text": "https://www.linkedin.com/in/theawesomenayak", "paragraph_index": 47}], "all_paragraphs": ["In my previous article, I talked about AWS Chalice and how we could quickly build a Python based serverless application and deploy it on AWS within a few minutes.", "While it was a quick and fun prototype, Python may not be the language of choice for many when it comes to running large scale production applications. Many organisations use Java as their primary development language, and a lot of developers are also moving towards newer languages like Go.", "In this article, I will walk you through the steps required to build and deploy the same serverless application that gets the latest news from Google News. But this time, we will use AWS Serverless Application Model (SAM) and Java for our development. Like Chalice, AWS SAM CLI offers a rich set of tools that enable developers to build serverless applications quickly.", "This tutorial requires an AWS account. If you don\u2019t have one already, go ahead and create one. Our application is going to use only the free-tier resources, so cost shouldn\u2019t be an issue.", "You also need to configure security and create users and roles for your access.", "SAM uses the AWS Command Line Interface (CLI) behind the scenes to deploy the project. If you haven\u2019t used AWS\u2019s CLI before to work with AWS resources, you can install it by following the guidelines here.", "Once installed, you need to configure your AWS CLI to use the credentials from your AWS account.", "Next, you need to install SAM. We will be using Java in this tutorial, but you can use any language runtime supported by AWS Lambda.", "Depending on your OS, the installation instructions for SAM CLI will vary. This article covers the instructions for installing it on MacOS.", "The recommended approach for installing the SAM CLI on macOS is to use the Homebrew package manager.", "Verify that if you have Homebrew installed.", "If not, you can install Homebrew using the following command.", "Next, install SAM using the following command.", "Next, run the sam-init command to create a new project.", "By default, SAM creates a Python project. Since we want to create a Java project, we will need to pass some additional parameters.", "This will create a daily-news-java folder in your current directory. You can see that SAM has created several files in this folder.", "Let\u2019s take a look at the App.java file.", "The sam-init command created a simple Lambda function that returns the JSON body {\"message\": \"hello world\"} and the machine\u2019s IP address when called. We can now change this template and add more code to read news from Google.", "Now let\u2019s take a look at the template.yml file.", "This contains the CloudFormation template that creates our Amazon API Gateway and AWS Lambda resources.", "The Lambda configuration specifies that we have a HelloWorldFunction lambda that runs on Java 11 and 512 MB memory.", "The API gateway configuration defines a single GET method with a /hello path that we will use to invoke the API.", "We will be using Java\u2019s internal HTTP and XML parsing libraries, so we don\u2019t need to add any dependencies to our pom.xml file. Note that the default pom.xml provided as part of the boilerplate code comes with compiler source set to 1.8. We will need to update that to 11 so that we can use the new HTTP library that is part of Java 11.", "Going by the object-oriented way of Java, let\u2019s also create a NewsItem class that contains the title and publication date of a news item.", "Note that we have overridden the toString method. This is to create a JSON representation of the object and avoid usage of any JSON parsing libraries.", "Next, you need to add a method to fetch the RSS feed from Google, parse it to extract the news title and publication date, and create a list of news items. To do this, add the following code to your App.java", "Now let\u2019s update the handleRequest method in App.java to invoke this method and return the list of news items as result.", "Don\u2019t forget to update the unit tests as well. They were written to test the presence of \u201chello world\u201d in the response and will start failing after our change.", "From the daily-news-java folder, run the sam build command.", "This compiles your source code and builds any dependencies that you have in the application. It then moves all the files into the .aws-sam/build folder so that they are ready to be packaged and deployed. It also updates the template.yml file accordingly.", "Now here\u2019s the beautiful part about SAM. You can deploy and test your application locally!! This is really helpful during the development stage when you want to test your code without having to deploy it to AWS.", "SAM CLI provides the sam local command to run your application locally. This internally uses Docker to simulate the execution environment of Lambda. If you don\u2019t have Docker installed, you can get it from here.", "We can locally test our application in two ways:", "Let\u2019s take a look at both the options.", "Use the following command to start the API locally.", "This internally creates a local server and exposes a local endpoint that replicates your REST API.", "Once the Docker container is loaded, you can access the api on localhost.", "Use the following command to invoke the Lambda function.", "This directly invokes the Lambda function (just like we would call the main method) and passes the event.json file as payload.", "Let\u2019s deploy the application. From the daily-news-java folder, run the sam deploy --guided command. Follow the prompts and provide required inputs (or just press Enter to accept the defaults).", "This deploys our application on AWS using Amazon API Gateway and AWS Lambda. It takes the deployment artifacts that we built with the sam build command, packages and uploads them to an Amazon S3 bucket created by AWS SAM CLI, and deploys the application using AWS CloudFormation.", "We can now try accessing the API using the endpoint URL provided above.", "We can use the aws cloudformation delete-stack command to delete the AWS CloudFormation stack along with all the resources it created when we ran the sam deploy command.", "Congratulations!! You just deployed a serverless application on AWS using AWS SAM. It did involve a bit more work than earlier, but it wasn\u2019t too hard either.", "You can now go ahead and make any modifications to your App.java file and rerun sam deploy to redeploy your changes.", "The full source code for this tutorial can be found here.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Staff Software Engineer @ Intuit, ex-Amazon, Intel \u2022 Blogger \u2022 Speaker \u2022 Love Coding and Distributed Systems \u2022 https://www.linkedin.com/in/theawesomenayak"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb4d595fe689f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-serverless-application-using-aws-sam-b4d595fe689f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-serverless-application-using-aws-sam-b4d595fe689f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-serverless-application-using-aws-sam-b4d595fe689f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-serverless-application-using-aws-sam-b4d595fe689f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b4d595fe689f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b4d595fe689f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://theawesomenayak.medium.com/?source=post_page-----b4d595fe689f--------------------------------", "anchor_text": ""}, {"url": "https://theawesomenayak.medium.com/?source=post_page-----b4d595fe689f--------------------------------", "anchor_text": "Siben Nayak"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F843573af65d4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-serverless-application-using-aws-sam-b4d595fe689f&user=Siben+Nayak&userId=843573af65d4&source=post_page-843573af65d4----b4d595fe689f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb4d595fe689f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-serverless-application-using-aws-sam-b4d595fe689f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb4d595fe689f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-serverless-application-using-aws-sam-b4d595fe689f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/hands-on-tutorials", "anchor_text": "Hands-on Tutorials"}, {"url": "https://www.canva.com/p/pixabay/", "anchor_text": "Pixabay"}, {"url": "https://www.canva.com/media/MADQ4_ajPZc", "anchor_text": "Canva"}, {"url": "https://towardsdatascience.com/how-to-build-a-serverless-application-using-aws-chalice-91024416d84f", "anchor_text": "article"}, {"url": "https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/", "anchor_text": "create one"}, {"url": "https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html", "anchor_text": "here"}, {"url": "https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-quickstart.html", "anchor_text": "configure"}, {"url": "https://raw.githubusercontent.com/Homebrew/install/master/install.sh", "anchor_text": "https://raw.githubusercontent.com/Homebrew/install/master/install.sh"}, {"url": "https://docs.docker.com/get-docker/", "anchor_text": "here"}, {"url": "http://127.0.0.1:3000/hello", "anchor_text": "http://127.0.0.1:3000/hello"}, {"url": "https://towardsdatascience.com/how-to-build-a-serverless-application-using-aws-chalice-91024416d84f", "anchor_text": "earlier"}, {"url": "https://github.com/theawesomenayak/daily-news-java", "anchor_text": "here"}, {"url": "https://medium.com/tag/serverless?source=post_page-----b4d595fe689f---------------serverless-----------------", "anchor_text": "Serverless"}, {"url": "https://medium.com/tag/cloud-computing?source=post_page-----b4d595fe689f---------------cloud_computing-----------------", "anchor_text": "Cloud Computing"}, {"url": "https://medium.com/tag/aws?source=post_page-----b4d595fe689f---------------aws-----------------", "anchor_text": "AWS"}, {"url": "https://medium.com/tag/programming?source=post_page-----b4d595fe689f---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/hands-on-tutorials?source=post_page-----b4d595fe689f---------------hands_on_tutorials-----------------", "anchor_text": "Hands On Tutorials"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb4d595fe689f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-serverless-application-using-aws-sam-b4d595fe689f&user=Siben+Nayak&userId=843573af65d4&source=-----b4d595fe689f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb4d595fe689f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-serverless-application-using-aws-sam-b4d595fe689f&user=Siben+Nayak&userId=843573af65d4&source=-----b4d595fe689f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb4d595fe689f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-serverless-application-using-aws-sam-b4d595fe689f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b4d595fe689f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb4d595fe689f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-serverless-application-using-aws-sam-b4d595fe689f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b4d595fe689f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b4d595fe689f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b4d595fe689f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b4d595fe689f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b4d595fe689f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b4d595fe689f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b4d595fe689f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b4d595fe689f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b4d595fe689f--------------------------------", "anchor_text": ""}, {"url": "https://theawesomenayak.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://theawesomenayak.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Siben Nayak"}, {"url": "https://theawesomenayak.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "231 Followers"}, {"url": "https://www.linkedin.com/in/theawesomenayak", "anchor_text": "https://www.linkedin.com/in/theawesomenayak"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F843573af65d4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-serverless-application-using-aws-sam-b4d595fe689f&user=Siben+Nayak&userId=843573af65d4&source=post_page-843573af65d4--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8bfa1239f5af&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-serverless-application-using-aws-sam-b4d595fe689f&newsletterV3=843573af65d4&newsletterV3Id=8bfa1239f5af&user=Siben+Nayak&userId=843573af65d4&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}