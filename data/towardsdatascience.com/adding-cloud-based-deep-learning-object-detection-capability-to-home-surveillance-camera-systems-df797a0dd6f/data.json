{"url": "https://towardsdatascience.com/adding-cloud-based-deep-learning-object-detection-capability-to-home-surveillance-camera-systems-df797a0dd6f", "time": 1683009226.728745, "path": "towardsdatascience.com/adding-cloud-based-deep-learning-object-detection-capability-to-home-surveillance-camera-systems-df797a0dd6f/", "webpage": {"metadata": {"title": "Adding Cloud-Based Deep-Learning Object Detection Capability to Home Surveillance Camera Systems | by Pen C. Li | Towards Data Science", "h1": "Adding Cloud-Based Deep-Learning Object Detection Capability to Home Surveillance Camera Systems", "description": "If you want to use your deep learning programs simulated in Jupyter in real life, this article shows you how to upgrade an off-the-shelf home surveillance system with cutting-edge deep learning object detection using serverless APIs."}, "outgoing_paragraph_urls": [{"url": "https://github.com/penli9/dl-lambda/blob/master/template.json", "anchor_text": "template.json", "paragraph_index": 6}, {"url": "http://d2yf3xcp7rorxr.cloudfront.net/", "anchor_text": "d2yf3xcp7rorxr.cloudfront.net", "paragraph_index": 8}, {"url": "https://github.com/penli9/dl-lambda/blob/master/demo/dl-lambda.ipynb", "anchor_text": "dl-lambda.ipynb", "paragraph_index": 11}, {"url": "https://github.com/penli9/dl-lambda/blob/master/demo/inference.py", "anchor_text": "inference.py", "paragraph_index": 11}, {"url": "https://aws.amazon.com/blogs/machine-learning/", "anchor_text": "Deploying machine learning models as serverless APIs", "paragraph_index": 15}, {"url": "https://aws.amazon.com/blogs/machine-learning/how-to-deploy-deep-learning-models-with-aws-lambda-and-tensorflow/", "anchor_text": "How to Deploy Deep Learning Models with AWS Lambda and Tensorflow", "paragraph_index": 16}], "all_paragraphs": ["I recently installed a surveillance system equipped with four cameras and a Network Video Recorder (NVR) around my house. Unfortunately, almost all false alarms were triggered by moving plants or tree shadows or squirrels. None of these alarms can be filtered out by traditional image processing capabilities coming with the system.", "Like most deep learning practitioners, I know object detection programs can filter out these false alarms. But they either require an expensive commercial contract or a computer on my home network. Since I want to keep the cost low, having a computer seems the right choice. However, it\u2019s still a rather large initial capital investment plus the recurring 24/7 electricity cost. The computer also requires setup, maintenance, and shelf space. Its fan noise or heat dissipation from the closet is another nonsense I prefer not to deal with at home.", "Upon further research, I found out using serverless web APIs is the best solution. It not only gives fast response but also charges a very small fee based on usages. I also want to optimize the deep learning algorithm by myself or to reconfigure the implementation for advanced deep learning applications. I have thus chosen MXNet running on AWS. The combination allows easy deep learning code development using Jupyter, optimized library performance, abundant pre-trained models, and the powerful open cloud infrastructure.", "The following is how I implement it. To make it clear, my goal is to keep it low cost while being able to use my preferred object detection algorithm. For example, I choose not to upload the entire video and then use the video recognition algorithm. It would have cost (a lot) more for the network bandwidth, memory, CPU, and storage in the cloud.", "Since every security system is different, in this article I just focus on how I set it up in AWS. To demonstrate the capability in this article, I use a web interface in CloudFront to retrieve any image from the internet. Once the image is received, it triggers the Lambda function to invoke the Object Detection code to process the photo. The resulting image with the bounding boxes is then stored in S3. For more information, please see [1] and [2]. Debugging on Lambda is almost impossible so I program my object detection code on Jupyter first before porting it to Lambda.", "All scripts and codes are available on Github. After reading this article, you can choose to optimize your object detection code by reusing the cloud stack. Or you can reuse the object detection code by adapting the cloud stack to your needs.", "You first need an AWS account. To implement the application in this article, it\u2019s well within the free tier. After login into AWS, you go to CloudFormation and create a stack using template.json.", "In the next screen, give the stack a name (I used \u201cdl-lambda\u201d). The CloudFormation will automatically build the cloud infrastructure.", "After the stack is successfully created, go to Outputs where the value (in this case it\u2019s d2yf3xcp7rorxr.cloudfront.net) is the URL to access the Lambda function.", "Click on that, you will come to a web site specified by the frontend.html stored in your S3 bucket dl-lambda-inferenceapp-*****. In this image, my friendly mailman carrying a package has triggered an event on my NVR. My NVR thus 1) stores the video, 2) generates a photo, and then 3) sends the photo to this Web API.", "The photo with the bounding box around the mailman is then stored in the S3 bucket dl-lambda-image-outgoing.", "Before I started this, I had programmed my object detection code dl-lambda.ipynb in Jupyter. To keep it simple in this article, I use the pre-trained Single Shot Multibox Detector based on ResNet from the Model Zoo. I then copy and paste the Python code from Jupyter into inference.py, which runs the Lambda handler function. Note that I\u2019ve clearly marked the sections of code for easy porting.", "After running the code for a few weeks, my 4-camera system costs about $2 a month even before serious optimization. If your cost is too high, use the image processing functions on your machine to reduce the number of false alarm events. Increase the duration of video per photo also helps reduces the number of Lambda events. Note that you don\u2019t need images larger than 512x512 as most algorithms don\u2019t use data more than that.", "Here are some thoughts for the next step:", "With a few simple steps, you can upgrade the off-the-shelf surveillance camera system to the cutting-edge deep learning capabilities while keeping the cost down.", "[1] Anders Christiansen, Deploying machine learning models as serverless APIs, Deploying machine learning models as serverless APIs (2020), AWS Machine Learning Blog", "[2] Boris Ivanovic and Zoran Ivanovic, How to Deploy Deep Learning Models with AWS Lambda and Tensorflow (2017), AWS Machine Learning Blog", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fdf797a0dd6f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-cloud-based-deep-learning-object-detection-capability-to-home-surveillance-camera-systems-df797a0dd6f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-cloud-based-deep-learning-object-detection-capability-to-home-surveillance-camera-systems-df797a0dd6f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-cloud-based-deep-learning-object-detection-capability-to-home-surveillance-camera-systems-df797a0dd6f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-cloud-based-deep-learning-object-detection-capability-to-home-surveillance-camera-systems-df797a0dd6f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----df797a0dd6f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----df797a0dd6f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@penli9?source=post_page-----df797a0dd6f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@penli9?source=post_page-----df797a0dd6f--------------------------------", "anchor_text": "Pen C. Li"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1b39c300fbe6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-cloud-based-deep-learning-object-detection-capability-to-home-surveillance-camera-systems-df797a0dd6f&user=Pen+C.+Li&userId=1b39c300fbe6&source=post_page-1b39c300fbe6----df797a0dd6f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdf797a0dd6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-cloud-based-deep-learning-object-detection-capability-to-home-surveillance-camera-systems-df797a0dd6f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdf797a0dd6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-cloud-based-deep-learning-object-detection-capability-to-home-surveillance-camera-systems-df797a0dd6f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/penli9/dl-lambda/blob/master/template.json", "anchor_text": "template.json"}, {"url": "http://d2yf3xcp7rorxr.cloudfront.net/", "anchor_text": "d2yf3xcp7rorxr.cloudfront.net"}, {"url": "https://github.com/penli9/dl-lambda/blob/master/demo/dl-lambda.ipynb", "anchor_text": "dl-lambda.ipynb"}, {"url": "https://github.com/penli9/dl-lambda/blob/master/demo/inference.py", "anchor_text": "inference.py"}, {"url": "https://aws.amazon.com/blogs/machine-learning/", "anchor_text": "Deploying machine learning models as serverless APIs"}, {"url": "https://aws.amazon.com/blogs/machine-learning/how-to-deploy-deep-learning-models-with-aws-lambda-and-tensorflow/", "anchor_text": "How to Deploy Deep Learning Models with AWS Lambda and Tensorflow"}, {"url": "https://medium.com/tag/deep-learning?source=post_page-----df797a0dd6f---------------deep_learning-----------------", "anchor_text": "Deep Learning"}, {"url": "https://medium.com/tag/object-detection?source=post_page-----df797a0dd6f---------------object_detection-----------------", "anchor_text": "Object Detection"}, {"url": "https://medium.com/tag/serverless-application?source=post_page-----df797a0dd6f---------------serverless_application-----------------", "anchor_text": "Serverless Application"}, {"url": "https://medium.com/tag/home-surveillance-system?source=post_page-----df797a0dd6f---------------home_surveillance_system-----------------", "anchor_text": "Home Surveillance System"}, {"url": "https://medium.com/tag/jupyter-notebook?source=post_page-----df797a0dd6f---------------jupyter_notebook-----------------", "anchor_text": "Jupyter Notebook"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdf797a0dd6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-cloud-based-deep-learning-object-detection-capability-to-home-surveillance-camera-systems-df797a0dd6f&user=Pen+C.+Li&userId=1b39c300fbe6&source=-----df797a0dd6f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdf797a0dd6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-cloud-based-deep-learning-object-detection-capability-to-home-surveillance-camera-systems-df797a0dd6f&user=Pen+C.+Li&userId=1b39c300fbe6&source=-----df797a0dd6f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdf797a0dd6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-cloud-based-deep-learning-object-detection-capability-to-home-surveillance-camera-systems-df797a0dd6f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----df797a0dd6f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fdf797a0dd6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-cloud-based-deep-learning-object-detection-capability-to-home-surveillance-camera-systems-df797a0dd6f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----df797a0dd6f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----df797a0dd6f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----df797a0dd6f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----df797a0dd6f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----df797a0dd6f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----df797a0dd6f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----df797a0dd6f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----df797a0dd6f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----df797a0dd6f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@penli9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@penli9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Pen C. Li"}, {"url": "https://medium.com/@penli9/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "19 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1b39c300fbe6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-cloud-based-deep-learning-object-detection-capability-to-home-surveillance-camera-systems-df797a0dd6f&user=Pen+C.+Li&userId=1b39c300fbe6&source=post_page-1b39c300fbe6--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3942bed59fb5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-cloud-based-deep-learning-object-detection-capability-to-home-surveillance-camera-systems-df797a0dd6f&newsletterV3=1b39c300fbe6&newsletterV3Id=3942bed59fb5&user=Pen+C.+Li&userId=1b39c300fbe6&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}