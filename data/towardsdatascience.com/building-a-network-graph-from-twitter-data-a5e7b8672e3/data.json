{"url": "https://towardsdatascience.com/building-a-network-graph-from-twitter-data-a5e7b8672e3", "time": 1683014765.197561, "path": "towardsdatascience.com/building-a-network-graph-from-twitter-data-a5e7b8672e3/", "webpage": {"metadata": {"title": "Building a network graph from Twitter data | by Mananai Saengsuwan | Towards Data Science", "h1": "Building a network graph from Twitter data", "description": "In this article, we will build a data science project. We collect data from Twitter because it has an enormous amount of data and it allows us to get those. We prefer Java because it\u2019s a compiled\u2026"}, "outgoing_paragraph_urls": [{"url": "https://developer.twitter.com/en/docs/api-reference-index", "anchor_text": "here", "paragraph_index": 8}, {"url": "https://gephi.org/users/", "anchor_text": "here", "paragraph_index": 18}, {"url": "https://github.com/gephi/gephi/wiki/Import-CSV-Data", "anchor_text": "here", "paragraph_index": 18}], "all_paragraphs": ["In this article, we will build a data science project. We collect data from Twitter because it has an enormous amount of data and it allows us to get those. We prefer Java because it\u2019s a compiled language and it has a strong concurrency library. Finally, we summarise those data by using Gephi which is an open-source graph platform.", "We need the followings to do the project:", "By the way, readers could use whatever language or platform they like, Python or Node.js. Our sample code is in Java.", "The followings are steps to build the Twitter network graph:", "For the first step, we collect sample tweets and then write those to tables. To do this:", "The code in the callable task will save tweets and related objects like users to tables. By using executor service, we decouple tweet processing and database related task. Even if sometimes tweets are coming faster than the database could process, our app still would not miss anything. Also, since we use Sqlite database and there could be only one writing to the database at a single moment, the executor service must be Single Thread Executor. The following is a part of code of the task:", "From the previous step, we get a list of users we\u2019d like to know all their friends. Twitter API returns friend IDs of a specified user but no more than 5,000 IDs at a single request. We need to call multiple times if that user has more than that. Also, Twitter has rate limits. It allows only 15 requests per 15-minute window. Basically, 1 request per minute.", "So, we get friend IDs. Need other API calls to convert user IDs to user objects. Twitter provides API for this. For each request, we could query up to 100 user IDs. The rate limit for this is 300 request per 15-minute window. So, it\u2019s 20 requests per minute.", "More details of Twitter API and rate limits here.", "To handle rate limits effectively, we will have 2 threads. the 1st thread will invoke friend IDs query. The 2nd thread will do users look up part. The friend finder thread will pass the user ids to the user lookup thread via a blocking queue. Basically, we use producer-consumer pattern here.", "The following code is partial of FriendsLookupRunnable.", "The following is the command to create User_Friend table which stores result of the 1st thread:", "The following code is UsersLookupRunnable class.", "The following is the command to create User table which stores the result of the 2nd thread:", "The main method would do these:", "The code should look something like this:", "Sometimes, we\u2019d like to see only part of the whole data. It\u2019s quite simple to do this because data is in SQL tables already. Let\u2019s say we\u2019d like to see how top 100 users with most followers in our sample tweets follow each others. Here are what to do:", "This part is simple. Use database tool to export data to CSV files.", "Gephi is an open-source graph analysis and visualisation. There are many Gephi tutorials out there. Take a look here. For importing CSV files tutorial, find it here.", "The followings are overview of steps to do in our project:", "We need to show node labels. Configure node size and colours. Apply some layout.", "After these are done, the graph looks more meaningful:", "We have built Java applications to collect tweets, users and friends data from Twitter and put into a relational database. We\u2019ve done some filter on the data. Then, imported to Gephi, graph platform and visualisation tool and produce a social network graph.", "This is a very small part of what we could have done with the Twitter data. Gephi has a lot more to offer us. Also, there are more Graph analytics platforms out there. Neo4j, for example, could allow us to store data to its database and do run graph algorithms.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa5e7b8672e3&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-network-graph-from-twitter-data-a5e7b8672e3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-network-graph-from-twitter-data-a5e7b8672e3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-network-graph-from-twitter-data-a5e7b8672e3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-network-graph-from-twitter-data-a5e7b8672e3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a5e7b8672e3--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a5e7b8672e3--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mananaisaengsuwan.medium.com/?source=post_page-----a5e7b8672e3--------------------------------", "anchor_text": ""}, {"url": "https://mananaisaengsuwan.medium.com/?source=post_page-----a5e7b8672e3--------------------------------", "anchor_text": "Mananai Saengsuwan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F246dba19b1ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-network-graph-from-twitter-data-a5e7b8672e3&user=Mananai+Saengsuwan&userId=246dba19b1ca&source=post_page-246dba19b1ca----a5e7b8672e3---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa5e7b8672e3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-network-graph-from-twitter-data-a5e7b8672e3&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa5e7b8672e3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-network-graph-from-twitter-data-a5e7b8672e3&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "http://twitter4j.org/en/index.html", "anchor_text": "here"}, {"url": "https://gephi.org", "anchor_text": "here"}, {"url": "https://developer.twitter.com/en/docs/api-reference-index", "anchor_text": "here"}, {"url": "https://gephi.org/users/", "anchor_text": "here"}, {"url": "https://github.com/gephi/gephi/wiki/Import-CSV-Data", "anchor_text": "here"}, {"url": "https://medium.com/tag/java?source=post_page-----a5e7b8672e3---------------java-----------------", "anchor_text": "Java"}, {"url": "https://medium.com/tag/sql?source=post_page-----a5e7b8672e3---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/graph-analytics?source=post_page-----a5e7b8672e3---------------graph_analytics-----------------", "anchor_text": "Graph Analytics"}, {"url": "https://medium.com/tag/twitter-data?source=post_page-----a5e7b8672e3---------------twitter_data-----------------", "anchor_text": "Twitter Data"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a5e7b8672e3---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa5e7b8672e3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-network-graph-from-twitter-data-a5e7b8672e3&user=Mananai+Saengsuwan&userId=246dba19b1ca&source=-----a5e7b8672e3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa5e7b8672e3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-network-graph-from-twitter-data-a5e7b8672e3&user=Mananai+Saengsuwan&userId=246dba19b1ca&source=-----a5e7b8672e3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa5e7b8672e3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-network-graph-from-twitter-data-a5e7b8672e3&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a5e7b8672e3--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa5e7b8672e3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-network-graph-from-twitter-data-a5e7b8672e3&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a5e7b8672e3---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a5e7b8672e3--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a5e7b8672e3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a5e7b8672e3--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a5e7b8672e3--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a5e7b8672e3--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a5e7b8672e3--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a5e7b8672e3--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a5e7b8672e3--------------------------------", "anchor_text": ""}, {"url": "https://mananaisaengsuwan.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mananaisaengsuwan.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Mananai Saengsuwan"}, {"url": "https://mananaisaengsuwan.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "69 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F246dba19b1ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-network-graph-from-twitter-data-a5e7b8672e3&user=Mananai+Saengsuwan&userId=246dba19b1ca&source=post_page-246dba19b1ca--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb32b8271992b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-network-graph-from-twitter-data-a5e7b8672e3&newsletterV3=246dba19b1ca&newsletterV3Id=b32b8271992b&user=Mananai+Saengsuwan&userId=246dba19b1ca&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}