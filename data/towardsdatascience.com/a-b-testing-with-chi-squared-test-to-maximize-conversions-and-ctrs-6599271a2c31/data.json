{"url": "https://towardsdatascience.com/a-b-testing-with-chi-squared-test-to-maximize-conversions-and-ctrs-6599271a2c31", "time": 1683008382.414815, "path": "towardsdatascience.com/a-b-testing-with-chi-squared-test-to-maximize-conversions-and-ctrs-6599271a2c31/", "webpage": {"metadata": {"title": "A/B Testing with Chi-Squared Test to Maximize Conversions and CTRs | by Terence Shin | Towards Data Science", "h1": "A/B Testing with Chi-Squared Test to Maximize Conversions and CTRs", "description": "The first four sections explain the concepts that are used for this A/B test and the last two sections go over a step-by-step example of performing an A/B test on conversion rates. Arguably one of\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/zhangluyuan/ab-testing", "anchor_text": "here is the link to the data set", "paragraph_index": 19}, {"url": "https://shintwin.com/", "anchor_text": "ShinTwin", "paragraph_index": 34}, {"url": "https://www.linkedin.com/in/terenceshin/", "anchor_text": "LinkedIn", "paragraph_index": 34}, {"url": "http://terenceshin.com/", "anchor_text": "here", "paragraph_index": 34}, {"url": "https://www.linkedin.com/in/terenceshin/", "anchor_text": "https://www.linkedin.com/in/terenceshin/", "paragraph_index": 36}], "all_paragraphs": ["The first four sections explain the concepts that are used for this A/B test and the last two sections go over a step-by-step example of performing an A/B test on conversion rates.", "Arguably one of the most practical data science concepts in the workplace is A/B Testing. And yet, it is a concept that is quite misunderstood because there are a lot of intricacies to it.", "To give an example, many experimentalists use the t-test to determine if there are significant differences between the two alternatives. But what if the distribution is not assumed to be Gaussian? What if the standard deviations of the two groups are different? What if the distribution is completed unknown?", "In this article, I\u2019m going to talk about a particular A/B Testing method that works well for comparing click-through rates and conversions.", "A/B testing in its simplest sense is an experiment on two variants to see which performs better based on a given metric. Typically, two consumer groups are exposed to two different versions of the same thing to see if there is a significant difference in metrics like sessions, click-through rate, and/or conversions.", "Using the visual above as an example, we could randomly split our customer base into two groups, a control group and a variant (or treatment) group. Then, we can expose our variant group with a red website banner and see if we get a significant increase in conversions. It\u2019s important to note that all other variables need to be held constant when performing an A/B test.", "Getting more technical, A/B testing is a form of statistical and two-sample hypothesis testing. Statistical hypothesis testing is a method in which a sample dataset is compared against the population data. Two-sample hypothesis testing is a method in determining whether the differences between the two samples are statistically significant or not.", "What do click-through rates and conversions have in common? They have a Bernoulli Distribution, the discrete probability distribution that has a probability of being 1 and a probability of being 0. For click-through rates, a user will either click (1) or not click (0). Similarly, for conversions, a user will either convert (1) or not convert (0).", "Because we\u2019re performing an A/B Test on conversions which is a categorical variable that follows a Bernoulli distribution, we\u2019ll be using the Chi-Squared Test.", "The steps to conducting a chi-squared test are as follows:", "This will make more sense when you follow along with the project walkthrough.", "The equation to determine the chi-squared test statistic is as follows:", "Let\u2019s go through an example to make more sense out of this.", "Imagine we showed two different advertisements, A and B, to test whether users clicked or didn\u2019t click the advertisement. At the end of the test, the following information was collected:", "In this case, we would have to make four calculations and then sum them:", "Let\u2019s use advertisement A as an example. We would need to calculate the observed value and the expected value.", "The observed value is equal to 360, as shown in the table above.", "The expected value is equal to the number of times ad A is shown multiplied by the probability of a click. Thus, expected value = 500 * (660/1050) = 31.429. These numbers are taken from the table above as well.", "After calculating this for all four scenarios, the numbers can be inputted into the x\u00b2 equation to determine the chi-squared test statistic.", "The dataset that I used to perform this A/B test is taken from Kaggle (here is the link to the data set).", "This dataset contains the result of an A/B test where two groups, the control group and the treatment group, were exposed to an old webpage and a new webpage respectively. The purpose of this test was to determine if the new webpage resulted in a significant increase in conversions compared to the old webpage. Each row represents a unique user and shows whether they\u2019re in the control or treatment group and whether they converted or not.", "As always, I started off by importing the relevant libraries and the data.", "Before performing the chi-squared test, I wanted to check a couple of things since I didn\u2019t know how clean the data was. The first thing I checked was to see if there were any users in the control group that saw the new web page and vice versa.", "Above, you can see that there seems to be an error where some users in the control group saw the new page and some users in the treatment group saw the old page. Since I wasn\u2019t sure which way to revert the misclassified users, I decided to remove it with the code below.", "Now, the control group is restricted to the old page and the treatment group is restricted to the new page. The next thing that I wanted to check for was duplicate values based on user_id.", "Since there was a duplicate, I wanted to dig into it more.", "It looked like this user saw the new landing page twice and didn\u2019t convert both times. For the simplicity of the experiment, I wanted to restrict it to each user\u2019s first decision only. Thus, I removed the second instance for this user.", "Once my data was cleaned, I wanted to get a better understanding of my data. I plotted the data against a bar chart to see what the proportion of conversions was for both groups. It appears that they have similar conversion rates (approx. 1/7), but we\u2019ll see whether there\u2019s a significant difference or not through the chi-squared test.", "As well, I wanted to see if the proportion between the number of users in each group were similar in size using a pie chart.", "At this point, I was ready to prepare my data for the chi-squared data. The code below is equivalent to the example in the section above where I explained how to calculate the chi-squared test statistic.", "Once my data was in the proper format, I was ready to conduct the test. This can simply be done by importing stats from the Scipy library. This step calculates both the chi-squared statistic and the p-value.", "The p-value was calculated to be 19%. Assuming a 5% level of significance, we can deduce that the p-value is greater than the alpha and that we do not reject the null hypothesis. In simpler terms, there is no significance in conversions between the old and new webpage.", "As a sanity check, I calculated the conversion rates between the two groups and the difference between them is minimal, which reassures that this was conducted properly.", "And that\u2019s the end of this tutorial! I hope you found this useful. :)", "Founder of ShinTwin | Let\u2019s connect on LinkedIn | Project Portfolio is here.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Science @ KOHO, Saturn Cloud | MSc, MBA | https://www.linkedin.com/in/terenceshin/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F6599271a2c31&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-with-chi-squared-test-to-maximize-conversions-and-ctrs-6599271a2c31&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-with-chi-squared-test-to-maximize-conversions-and-ctrs-6599271a2c31&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-with-chi-squared-test-to-maximize-conversions-and-ctrs-6599271a2c31&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-with-chi-squared-test-to-maximize-conversions-and-ctrs-6599271a2c31&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----6599271a2c31--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6599271a2c31--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://terenceshin.medium.com/?source=post_page-----6599271a2c31--------------------------------", "anchor_text": ""}, {"url": "https://terenceshin.medium.com/?source=post_page-----6599271a2c31--------------------------------", "anchor_text": "Terence Shin"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F360a9d4d19ab&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-with-chi-squared-test-to-maximize-conversions-and-ctrs-6599271a2c31&user=Terence+Shin&userId=360a9d4d19ab&source=post_page-360a9d4d19ab----6599271a2c31---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6599271a2c31&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-with-chi-squared-test-to-maximize-conversions-and-ctrs-6599271a2c31&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6599271a2c31&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-with-chi-squared-test-to-maximize-conversions-and-ctrs-6599271a2c31&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.kaggle.com/zhangluyuan/ab-testing", "anchor_text": "here is the link to the data set"}, {"url": "https://shintwin.com/", "anchor_text": "ShinTwin"}, {"url": "https://www.linkedin.com/in/terenceshin/", "anchor_text": "LinkedIn"}, {"url": "http://terenceshin.com/", "anchor_text": "here"}, {"url": "https://medium.com/tag/data-science?source=post_page-----6599271a2c31---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/statistics?source=post_page-----6599271a2c31---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/programming?source=post_page-----6599271a2c31---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/science?source=post_page-----6599271a2c31---------------science-----------------", "anchor_text": "Science"}, {"url": "https://medium.com/tag/technology?source=post_page-----6599271a2c31---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6599271a2c31&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-with-chi-squared-test-to-maximize-conversions-and-ctrs-6599271a2c31&user=Terence+Shin&userId=360a9d4d19ab&source=-----6599271a2c31---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6599271a2c31&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-with-chi-squared-test-to-maximize-conversions-and-ctrs-6599271a2c31&user=Terence+Shin&userId=360a9d4d19ab&source=-----6599271a2c31---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6599271a2c31&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-with-chi-squared-test-to-maximize-conversions-and-ctrs-6599271a2c31&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6599271a2c31--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F6599271a2c31&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-with-chi-squared-test-to-maximize-conversions-and-ctrs-6599271a2c31&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----6599271a2c31---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----6599271a2c31--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----6599271a2c31--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----6599271a2c31--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----6599271a2c31--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----6599271a2c31--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----6599271a2c31--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----6599271a2c31--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----6599271a2c31--------------------------------", "anchor_text": ""}, {"url": "https://terenceshin.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://terenceshin.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terence Shin"}, {"url": "https://terenceshin.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "120K Followers"}, {"url": "https://www.linkedin.com/in/terenceshin/", "anchor_text": "https://www.linkedin.com/in/terenceshin/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F360a9d4d19ab&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-with-chi-squared-test-to-maximize-conversions-and-ctrs-6599271a2c31&user=Terence+Shin&userId=360a9d4d19ab&source=post_page-360a9d4d19ab--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa05efe3d278a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-with-chi-squared-test-to-maximize-conversions-and-ctrs-6599271a2c31&newsletterV3=360a9d4d19ab&newsletterV3Id=a05efe3d278a&user=Terence+Shin&userId=360a9d4d19ab&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}