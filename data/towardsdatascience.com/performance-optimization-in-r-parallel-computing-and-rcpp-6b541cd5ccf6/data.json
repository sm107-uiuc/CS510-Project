{"url": "https://towardsdatascience.com/performance-optimization-in-r-parallel-computing-and-rcpp-6b541cd5ccf6", "time": 1683008809.378247, "path": "towardsdatascience.com/performance-optimization-in-r-parallel-computing-and-rcpp-6b541cd5ccf6/", "webpage": {"metadata": {"title": "Performance Optimization in R: Parallel Computing and Rcpp | by Emanuele Guidotti | Towards Data Science", "h1": "Performance Optimization in R: Parallel Computing and Rcpp", "description": "Many computations in R can be made faster by the use of parallel computation. Generally, parallel computation is the simultaneous execution of different pieces of a larger computation across multiple\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Many computations in R can be made faster by the use of parallel computation. Generally, parallel computation is the simultaneous execution of different pieces of a larger computation across multiple computing processors or cores.", "The parallel package can be used to send tasks (encoded as function calls) to each of the processing cores on your machine in parallel.", "The mclapply() function essentially parallelizes calls to lapply(). The first two arguments to mclapply() are exactly the same as they are for lapply(). However, mclapply() has further arguments (that must be named), the most important of which is the mc.cores argument which you can use to specify the number of processors/cores you want to split the computation across. For example, if your machine has 4 cores on it, you might specify mc.cores = 4 to break your parallelize your operation across 4 cores (although this may not be the best idea if you are running other operations in the background besides R).", "The first thing you might want to check with the parallel package is if your computer in fact has multiple cores that you can take advantage of.", "The mclapply() function (and related mc* functions) works via the fork mechanism on Unix-style operating systems. Because of the use of the fork mechanism, the mc* functions are generally not available to users of the Windows operating system.", "Using the forking mechanism on your computer is one way to execute parallel computation but it\u2019s not the only way that the parallel package offers. Another way to build a \u201ccluster\u201d using the multiple cores on your computer is via sockets.", "Building a socket cluster is simple to do in R with the makeCluster() function.", "The cl object is an abstraction of the entire cluster and is what we\u2019ll use to indicate to the various cluster functions that we want to do parallel computation.", "To do a lapply() operation over a socket cluster we can use the parLapply() function.", "You\u2019ll notice, unfortunately, that there\u2019s an error in running this code. The reason is that while we have loaded the sulfate data into our R session, the data is not available to the independent child processes that have been spawned by the makeCluster() function. The data, and any other information that the child process will need to execute your code, needs to be exported to the child process from the parent process via the clusterExport() function. The need to export data is a key difference in behavior between the \u201cmulticore\u201d approach and the \u201csocket\u201d approach.", "clusterEvalQ() evaluates a literal expression on each cluster node. It can be used to load packages into each node.", "Once you\u2019ve finished working with your cluster, it\u2019s good to clean up and stop the cluster child processes (quitting R will also stop all of the child processes).", "The Rcpp package provides C++ classes that greatly facilitate interfacing C or C++ code in R packages using the .Call() interface provided by R. It provides a powerful API on top of R, permitting direct interchange of rich R objects (including S3, S4 or Reference Class objects) between R and C++.", "Maintaining C++ code in it\u2019s own source file provides several benefits (recommended). However, it\u2019s also possible to do inline declaration and execution of C++ code, which will be used in the following example.", "Let\u2019s implement the Fibonacci sequence both in R and C++:", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F6b541cd5ccf6&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fperformance-optimization-in-r-parallel-computing-and-rcpp-6b541cd5ccf6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fperformance-optimization-in-r-parallel-computing-and-rcpp-6b541cd5ccf6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fperformance-optimization-in-r-parallel-computing-and-rcpp-6b541cd5ccf6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fperformance-optimization-in-r-parallel-computing-and-rcpp-6b541cd5ccf6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----6b541cd5ccf6--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6b541cd5ccf6--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@eguidotti?source=post_page-----6b541cd5ccf6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@eguidotti?source=post_page-----6b541cd5ccf6--------------------------------", "anchor_text": "Emanuele Guidotti"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F801c3a07a28c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fperformance-optimization-in-r-parallel-computing-and-rcpp-6b541cd5ccf6&user=Emanuele+Guidotti&userId=801c3a07a28c&source=post_page-801c3a07a28c----6b541cd5ccf6---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6b541cd5ccf6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fperformance-optimization-in-r-parallel-computing-and-rcpp-6b541cd5ccf6&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6b541cd5ccf6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fperformance-optimization-in-r-parallel-computing-and-rcpp-6b541cd5ccf6&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/users/alan9187-2347/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=534120", "anchor_text": "alan9187"}, {"url": "https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=534120", "anchor_text": "Pixabay"}, {"url": "https://bookdown.org/rdpeng/rprogdatascience/parallel-computation.html", "anchor_text": "https://bookdown.org/rdpeng/rprogdatascience/parallel-computation.html"}, {"url": "http://heather.cs.ucdavis.edu/~matloff/158/RcppTutorial.pdf", "anchor_text": "http://heather.cs.ucdavis.edu/~matloff/158/RcppTutorial.pdf"}, {"url": "https://medium.com/tag/r?source=post_page-----6b541cd5ccf6---------------r-----------------", "anchor_text": "R"}, {"url": "https://medium.com/tag/parallel-computing?source=post_page-----6b541cd5ccf6---------------parallel_computing-----------------", "anchor_text": "Parallel Computing"}, {"url": "https://medium.com/tag/cpp?source=post_page-----6b541cd5ccf6---------------cpp-----------------", "anchor_text": "Cpp"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----6b541cd5ccf6---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6b541cd5ccf6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fperformance-optimization-in-r-parallel-computing-and-rcpp-6b541cd5ccf6&user=Emanuele+Guidotti&userId=801c3a07a28c&source=-----6b541cd5ccf6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6b541cd5ccf6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fperformance-optimization-in-r-parallel-computing-and-rcpp-6b541cd5ccf6&user=Emanuele+Guidotti&userId=801c3a07a28c&source=-----6b541cd5ccf6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6b541cd5ccf6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fperformance-optimization-in-r-parallel-computing-and-rcpp-6b541cd5ccf6&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6b541cd5ccf6--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F6b541cd5ccf6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fperformance-optimization-in-r-parallel-computing-and-rcpp-6b541cd5ccf6&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----6b541cd5ccf6---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----6b541cd5ccf6--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----6b541cd5ccf6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----6b541cd5ccf6--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----6b541cd5ccf6--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----6b541cd5ccf6--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----6b541cd5ccf6--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----6b541cd5ccf6--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----6b541cd5ccf6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@eguidotti?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@eguidotti?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Emanuele Guidotti"}, {"url": "https://medium.com/@eguidotti/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "8 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F801c3a07a28c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fperformance-optimization-in-r-parallel-computing-and-rcpp-6b541cd5ccf6&user=Emanuele+Guidotti&userId=801c3a07a28c&source=post_page-801c3a07a28c--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F801c3a07a28c%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fperformance-optimization-in-r-parallel-computing-and-rcpp-6b541cd5ccf6&user=Emanuele+Guidotti&userId=801c3a07a28c&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}