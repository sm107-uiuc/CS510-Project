{"url": "https://towardsdatascience.com/redacting-sensitive-information-from-doctors-patient-notes-51773a9c494b", "time": 1683006082.7154071, "path": "towardsdatascience.com/redacting-sensitive-information-from-doctors-patient-notes-51773a9c494b/", "webpage": {"metadata": {"title": "Redacting sensitive information from doctors\u2019 patient notes | by Aziz Ketari | Towards Data Science", "h1": "Redacting sensitive information from doctors\u2019 patient notes", "description": "This article is the second one of a series about the release of a public dataset made of doctors medical notes about patients affected by COVID19. You will find learnings about Google Cloud DLP API\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/covid19-public-dataset-on-gcp-nlp-knowledge-graph-193e628fa5cb", "anchor_text": "first article here", "paragraph_index": 0}, {"url": "https://github.com/azizketari/covid19_ISMIR", "anchor_text": "Github repo", "paragraph_index": 1}, {"url": "https://www.linkedin.com/in/jeromemassot/", "anchor_text": "J\u00e9r\u00f4me MASSOT", "paragraph_index": 2}, {"url": "https://cloud.google.com/healthcare/docs/how-tos/dicom-deidentify", "anchor_text": "DICOM images", "paragraph_index": 6}, {"url": "https://cloud.google.com/healthcare/docs/how-tos/fhir-deidentify", "anchor_text": "FHIR resources", "paragraph_index": 6}, {"url": "https://console.cloud.google.com/bigquery?authuser=1&organizationId=819335046878&project=aketari-covid19-public&p=aketari-covid19-public&d=covid19&t=ISMIR_redacted&page=table", "anchor_text": "BigQuery Dataset", "paragraph_index": 9}], "all_paragraphs": ["This article is the second one of a series about the release of a public dataset made of doctors medical notes about patients affected by COVID19. You will find learnings about Google Cloud DLP API that was used for the redaction of sensitive information from medical notes. If you haven\u2019t seen it already, you can find the first article here.", "To reiterate my commitment to the community, I will keep the public database up-to-date with the latest cases published by the Italian Society of Medical and Interventional Radiology (ISMIR). And if, as a side effect, you can learn a thing or two about GCP, then this series will exceed my expectations \ud83d\udcaa \ud83d\ude4f . The code used in this pipeline is available in my Github repo.", "By the way, I\u2019m very proud to see that the community is thinking of ways to leverage this data. An avenue raised by J\u00e9r\u00f4me MASSOT is to leverage this dataset and conduct a:", "\u201cco-occurences analysis between extracted entities for Knowledge Graph framework construction.\u201d", "When it comes to orchestrating pipelines, Google Cloud offers several options, including but not limited to:", "When it comes to de-identifying (i.e masking, redacting, replacing) sensitive information, you really have 2 choices on GCP:", "1. Healthcare API: This service is focused on Protected Health Information (PHI) in DICOM images and FHIR resources (for now \ud83d\ude09). Since the pipeline extract raw text from pdfs, this API doesn\u2019t really apply in this case.", "2. Data Loss Prevention (DLP) API (Implemented): Depending on your use case, you will de-identify data by masking, replacing or encrypting it. In the case of medical notes, I chose to encrypt the data using (CryptoDeterministicConfig transformation) so that I could re-identify that data (provided I kept the CryptoKey used to originally de-identify the data) if needed for other purposes.", "Given that the data is composed of medical notes from Italy, it potentially contains people\u2019s personal information making the following INFO_TYPES relevant: [\u201cFIRST_NAME\u201d, \u201dLAST_NAME\u201d, \u201dFEMALE_NAME\u201d, \u201dMALE_NAME\u201d, \u201dPERSON_NAME\u201d, \u201dSTREET_ADDRESS\u201d, \u201cITALY_FISCAL_CODE\u201d]", "The redacted dataset is now present in a pubic BigQuery Dataset under the table ISMIR_redacted. It is publicly available for all researchers and contributors.", "Observations:1. One of the experiments that I ran was to redact the same text in Italian and English with the same INFO_TYPES and see if the DLP API would redact the same fields or not. To my surprise, it does NOT necessarily. Quite surprising! Not sure how the de-identification works in DLP background, but one hypothesis that emanates from this experiment is that the language of the text might induce changes for the dictionaries of candidate FIRST NAME, LAST NAME \u2026", "2. Following the first observation, the DLP API seems to display performance divergence when names are from a different origin than the language of the text in which they appeared. Take case 67 as an example. When redacting names with an Asian origin (e.g Chen, Jianpu and Wang, Xiang and Zhang \u2026), the DLP API failed to identify them in the text in Italian whereas it successfully did in the English text.", "3. If you use the encryption transformation: CryptoReplaceFfxFpeConfig, you will need to make sure that the \u201calphabet\u201d (parameter) you use contains all the characters of the field you\u2019re trying to redact. Using \u201cALPHA_NUMERIC\u201d will cover characters ranging in [0\u20139A-Za-z]. If the text that you are trying to redact contains let\u2019s say the symbol $, you will need to create a custom alphabet.", "I hope you enjoyed the sequel of this series! If you have any improvement suggestions, please let me know. Also, please share your feedback or comments about any issues that you\u2019re facing on Google Cloud.", "I would love to hear from anybody that is able to leverage this dataset and/or code. Drop a comment about what you\u2019re working on.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F51773a9c494b&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fredacting-sensitive-information-from-doctors-patient-notes-51773a9c494b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fredacting-sensitive-information-from-doctors-patient-notes-51773a9c494b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fredacting-sensitive-information-from-doctors-patient-notes-51773a9c494b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fredacting-sensitive-information-from-doctors-patient-notes-51773a9c494b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----51773a9c494b--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----51773a9c494b--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://aziz-ketari.medium.com/?source=post_page-----51773a9c494b--------------------------------", "anchor_text": ""}, {"url": "https://aziz-ketari.medium.com/?source=post_page-----51773a9c494b--------------------------------", "anchor_text": "Aziz Ketari"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Faee91bddfb05&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fredacting-sensitive-information-from-doctors-patient-notes-51773a9c494b&user=Aziz+Ketari&userId=aee91bddfb05&source=post_page-aee91bddfb05----51773a9c494b---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F51773a9c494b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fredacting-sensitive-information-from-doctors-patient-notes-51773a9c494b&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F51773a9c494b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fredacting-sensitive-information-from-doctors-patient-notes-51773a9c494b&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/covid19-public-dataset-on-gcp-nlp-knowledge-graph-193e628fa5cb", "anchor_text": "first article here"}, {"url": "https://www.sirm.org/category/senza-categoria/covid-19/", "anchor_text": "Societ\u00e0 Italiana di Radiologia Medica e Interventistica"}, {"url": "https://unsplash.com/photos/Q5BVSGt9Ljc", "anchor_text": "credits"}, {"url": "https://github.com/azizketari/covid19_ISMIR", "anchor_text": "Github repo"}, {"url": "https://www.linkedin.com/in/jeromemassot/", "anchor_text": "J\u00e9r\u00f4me MASSOT"}, {"url": "https://cloud.google.com/composer", "anchor_text": "Cloud Composer"}, {"url": "https://cloud.google.com/run", "anchor_text": "Cloud Run"}, {"url": "https://cloud.google.com/healthcare/docs/how-tos/dicom-deidentify", "anchor_text": "DICOM images"}, {"url": "https://cloud.google.com/healthcare/docs/how-tos/fhir-deidentify", "anchor_text": "FHIR resources"}, {"url": "https://console.cloud.google.com/bigquery?authuser=1&organizationId=819335046878&project=aketari-covid19-public&p=aketari-covid19-public&d=covid19&t=ISMIR_redacted&page=table", "anchor_text": "BigQuery Dataset"}, {"url": "https://stackoverflow.com/questions/60471428/gcp-dlpdata-loss-prevention-getting-decryption-failed-the-ciphertext-is-inva", "anchor_text": "open thread 1"}, {"url": "https://stackoverflow.com/questions/60719396/gcp-dlpdata-loss-prevention-getting-decryption-failed-the-ciphertext-is-inva", "anchor_text": "open thread 2"}, {"url": "https://github.com/GoogleCloudPlatform/python-docs-samples/issues/3245", "anchor_text": "github issues"}, {"url": "https://cloud.google.com/dlp/docs/reference/rest/v2/organizations.deidentifyTemplates#DeidentifyTemplate.PrimitiveTransformation", "anchor_text": "useful link"}, {"url": "https://medium.com/tag/covid-19?source=post_page-----51773a9c494b---------------covid_19-----------------", "anchor_text": "Covid-19"}, {"url": "https://medium.com/tag/google-cloud-platform?source=post_page-----51773a9c494b---------------google_cloud_platform-----------------", "anchor_text": "Google Cloud Platform"}, {"url": "https://medium.com/tag/nlp?source=post_page-----51773a9c494b---------------nlp-----------------", "anchor_text": "NLP"}, {"url": "https://medium.com/tag/cloud-computing?source=post_page-----51773a9c494b---------------cloud_computing-----------------", "anchor_text": "Cloud Computing"}, {"url": "https://medium.com/tag/bigquery?source=post_page-----51773a9c494b---------------bigquery-----------------", "anchor_text": "Bigquery"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F51773a9c494b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fredacting-sensitive-information-from-doctors-patient-notes-51773a9c494b&user=Aziz+Ketari&userId=aee91bddfb05&source=-----51773a9c494b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F51773a9c494b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fredacting-sensitive-information-from-doctors-patient-notes-51773a9c494b&user=Aziz+Ketari&userId=aee91bddfb05&source=-----51773a9c494b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F51773a9c494b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fredacting-sensitive-information-from-doctors-patient-notes-51773a9c494b&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----51773a9c494b--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F51773a9c494b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fredacting-sensitive-information-from-doctors-patient-notes-51773a9c494b&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----51773a9c494b---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----51773a9c494b--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----51773a9c494b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----51773a9c494b--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----51773a9c494b--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----51773a9c494b--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----51773a9c494b--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----51773a9c494b--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----51773a9c494b--------------------------------", "anchor_text": ""}, {"url": "https://aziz-ketari.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://aziz-ketari.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Aziz Ketari"}, {"url": "https://aziz-ketari.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "66 Followers"}, {"url": "https://github.com/azizketari/", "anchor_text": "https://github.com/azizketari/"}, {"url": "https://www.linkedin.com/in/aziz-ketari", "anchor_text": "https://www.linkedin.com/in/aziz-ketari"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Faee91bddfb05&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fredacting-sensitive-information-from-doctors-patient-notes-51773a9c494b&user=Aziz+Ketari&userId=aee91bddfb05&source=post_page-aee91bddfb05--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Faee91bddfb05%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fredacting-sensitive-information-from-doctors-patient-notes-51773a9c494b&user=Aziz+Ketari&userId=aee91bddfb05&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}