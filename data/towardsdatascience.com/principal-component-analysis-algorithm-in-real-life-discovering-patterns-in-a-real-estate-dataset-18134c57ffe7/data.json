{"url": "https://towardsdatascience.com/principal-component-analysis-algorithm-in-real-life-discovering-patterns-in-a-real-estate-dataset-18134c57ffe7", "time": 1683008538.857194, "path": "towardsdatascience.com/principal-component-analysis-algorithm-in-real-life-discovering-patterns-in-a-real-estate-dataset-18134c57ffe7/", "webpage": {"metadata": {"title": "Principal Component Analysis algorithm in Real-Life: Discovering patterns in a real-estate dataset | by Carolina Bento | Towards Data Science", "h1": "Principal Component Analysis algorithm in Real-Life: Discovering patterns in a real-estate dataset", "description": "Principal Component Analysis, PCA for short, is an unsupervised learning technique used to surface the core patterns in the data. In this article, we\u2019re going through how PCA works with the real-life\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Principal_component_analysis", "anchor_text": "Principal Component Analysis", "paragraph_index": 12}, {"url": "https://seaborn.pydata.org/generated/seaborn.pairplot.html", "anchor_text": "pairplot", "paragraph_index": 23}, {"url": "https://en.wikipedia.org/wiki/Feature_scaling", "anchor_text": "feature scaling", "paragraph_index": 27}, {"url": "https://scikit-learn.org/stable/", "anchor_text": "ScikitLearn", "paragraph_index": 29}, {"url": "https://www.statsmodels.org/stable/index.html", "anchor_text": "statsmodels", "paragraph_index": 29}, {"url": "https://www.statsmodels.org/stable/index.html", "anchor_text": "statsmodels", "paragraph_index": 34}, {"url": "https://scikit-learn.org/stable/", "anchor_text": "ScikitLearn", "paragraph_index": 34}, {"url": "https://www.statsmodels.org/stable/generated/statsmodels.multivariate.pca.PCA.html", "anchor_text": "statsmodel PCA method", "paragraph_index": 35}, {"url": "https://en.wikipedia.org/wiki/Factor_analysis", "anchor_text": "Factor Analysis", "paragraph_index": 57}, {"url": "https://en.wikipedia.org/wiki/Coefficient_of_determination", "anchor_text": "R-squared", "paragraph_index": 64}, {"url": "https://en.wikipedia.org/wiki/Scree_plot", "anchor_text": "scree plot", "paragraph_index": 65}, {"url": "https://en.wikipedia.org/wiki/Elbow_method_(clustering)", "anchor_text": "elbow method", "paragraph_index": 65}], "all_paragraphs": ["Principal Component Analysis, PCA for short, is an unsupervised learning technique used to surface the core patterns in the data.", "In this article, we\u2019re going through how PCA works with the real-life example of a real estate agent who wants to understand why some of their listings are taking too long to close, and how we can use PCA to encode a smaller dataset.", "Your friend Maggie is a real-estate agent and she is puzzled about why some of the properties her company manages have not been sold for more than six months. She knows you\u2019re a Data Scientist and asks if you could help her get some insight into what\u2019s happening.", "You start by doing some exploratory analysis. You sanity-check the data to see if there are missing or inconsistent values, and then it\u2019s time to look for patterns in the data.", "Maggie wants to understand why these properties stay unsold for so long. She wants to know what are the characteristics and patterns in the data that make these properties take so long to get sold.", "But finding patterns in a dataset that is big and has lots of attributes, usually referred to as features, is impossible to do by hand.", "On top of this, your dataset might have several redundant features. You might suspect some features are slight variations of other features. And in some cases, some features might be pure noise, not revealing much about the core patterns in the data.", "For instance, you notice that in Maggie\u2019s dataset there are features for:", "Having a feature for the total number of doors doesn\u2019t seem like it could reveal something critical about the data, since we have the other two features. Putting it in statistical terms, the total number of doors in a house is most likely a redundant feature and doesn\u2019t explain the variance in the data.", "Ok, no big deal! If the total number of doors in a house is a redundant feature, we can remove it from the dataset. This makes sense in our case, but in a dataset with hundreds or even thousands of features, we need to be more cautious.", "In a dataset with a large number of features, we need to be sure that a feature is redundant or noise before removing it. We might be removing important information about the data without knowing.", "We should only remove features we\u2019re sure will not impact the patterns in the data or the prediction results.", "To find patterns in this dataset, you immediately think about Principal Component Analysis.", "Principal component analysis (PCA) is an unsupervised learning method, meaning it\u2019s used when we don\u2019t have a label or target for each observation in our dataset.", "While in supervised learning methods we must have a label for each observation, because the goal is to predict a class or a number, in unsupervised learning the goal is to look for patterns in the data.", "So, you can help our friend Maggie and use PCA to figure out what are the core characteristics of the properties that take longer to sell.", "The goal of Principal Component Analysis is to apply linear transformations to the data, so you minimize noise and redundancy. The result is a dataset that reveals the most important characteristics of the data.", "After applying PCA, you\u2019ll have a set of Principal Components, ranked in descending order of how much they contribute to describing patterns in the data. In statistical parlance, they are ranked according to how much variance they explain.", "The first principal component is the most important at describing variance in the data. The remaining principal components are less critical expressing the variability of patterns in the data.", "Behind the scenes, Principal Component Analysis uses statistical tools to identify noise and redundancy in the dataset. It uses the covariance matrix to analyze:", "The covariance matrix highlights the things that get in the way of seeing patterns in the data. So, at the end of the day, what PCA will produce a set of principal components which:", "The basis of PCA is the covariance matrix and, in practice, there are two approaches to identify the principal components:", "Before diving into Maggie\u2019s data, PCA requires that we prepare our dataset. The original dataset looks something like this:", "In the exploratory analysis phase we\u2019d also want to create a pairplot and to spot any clear correlations between features. But, even in this small dummy dataset with only 17 features, the resulting pairplot is enormous and slow to compute. Which makes sense, since we have to plot 17 choose 2 = 136 individual plots.", "The first step in PCA is to normalize the data and make sure all features are normally distributed. The data will then follow a standard normal distribution, with mean equal to zero and standard deviation equal to one.", "Normalizing the data transforms each feature into a common representation, and makes all values across features comparable. It is especially important to normalize features when they have different scales. For instance, when one feature is in miles and the other in minutes.", "Normalization also guarantees that principal components are:", "There are several ways to normalize your features, usually called feature scaling. One of them is the Z-score Normalization, also referred to as Standardization.", "To apply Z-score normalization to your dataset you update the value each data point such that:", "We took this detour to talk about normalization, but most statistical libraries will do that for you. With Python libraries like ScikitLearn or statsmodels, you just need to set a few parameters.", "At the end of the process, PCA will encode your features into principal components. But it\u2019s important to note that principal components don\u2019t necessarily map one-to-one with features. They are a new representation of the dataset and can encode several features at once.", "Another step in our exploratory analysis, is to take a look at the covariance matrix. PCA normalizes the data and creates the covariance matrix, but it\u2019s useful to visualize the linear relationships between features.", "To read this matrix, we should first focus in the darker areas:", "Here\u2019s how to plot the covariance matrix.", "We\u2019re going to use the Python library statsmodels to perform PCA. You can also use ScikitLearn, but statsmodels provides a bit more flexibility. For instance, you can choose if you want to use eigenvectors or Singular Value Decomposition.", "So, for this example we\u2019ll set the following flags in the statsmodel PCA method:", "We\u2019ll let parameter ncomp unset, so the PCA returns all principal components, i.e., are as many as the number of features.", "So, components_df is an array with all the principal components, i.e., the eigenvectors of the covariance matrix.", "But this by itself doesn\u2019t tell us much about the data. We need to find a way to interpret these results and connect it to our original dataset.", "We\u2019ll start by computing the correlation between each principal component and each feature in the original dataset. The key here is to do the pairwise correlation of the principal components and features as a whole, instead of between individual values.", "It\u2019s easier if we visualize the correlation matrix. On top of a color gradient we\u2019ll tweak the plot a bit to:", "And we have a correlation matrix \ud83d\ude00", "Right away we can see the highest correlation values associated with the first principal component, comp_00.", "Principal components are sorted by of how much of the variability in the dataset they encode. So, it makes sense the first principal components have higher correlation with the dataset features.", "These features associated with the first principal component, are the most relevant to determine the patterns in the data.", "We also see there\u2019s not a one-to-one relationship between features and principal components. The first principal component is has a strong positive correlation with several features.", "The correlation matrix shows which features are correlated with first principal component and, therefore which features will change together. One good example, since there\u2019s a positive correlation between the first principal component and bedrooms and square footage, we can say that as you increase the number of bedrooms or baths, the square footage tends to increase.", "But there are also a few negative correlations with the first principal component, for instance with transit accessibility, proximity to city center and supermarket proximity. This shows that bigger houses, with higher square footage and have more bedrooms, will tend to be farther away from the city centre, from supermarket and have lower transit accessibility.", "Since Maggie is analyzing the features of houses that haven\u2019t been sold for more than 6 months, she can look into these negative correlations to find hints for why these houses have remained unsold for so long.", "The first principal component has strong positive correlation with 11 of the 17 features in the dataset. This means it encodes, or represents, the patterns of these features.", "This is great, because we can now represent more information with less data. The trade-off here, is that we lose interpretability.", "When we are plotting features against each other, it\u2019s easier to interpret the patterns. But since principal components encode several features, when we plot them it\u2019s not clear:", "To understand how much each feature contributes to a principal components, we need to look at the loadings of each principal component.", "Loadings are the weights applied to each feature in the linear combination that results in the score of the principal component.", "Looking only at the first two principal components we can see that:", "Here\u2019s how you can inspect the loadings.", "One of the most popular applications of PCA is dimensionality reduction. It\u2019s a way to create a new representation of your dataset that is:", "Picking principal components to represent a smaller version of your dataset is a complex topic in of itself. It\u2019s called Factor Analysis, because we can also refer to components as factors.", "The traditional methods for picking factors include:", "With the Kaiser criterion we pick only the principal components that have eigenvalues greater than 1. Each eigenvalue is associated with one eigenvector which, in fact, is a principal component.", "If we were to use this method, we\u2019d exclude the last three principal components.", "With this method, you pick the total amount of variance in the dataset you want principal components to encode. Usually these cut-off values are 80% or 90%.", "If we were to use this method, we have:", "We\u2019d use the first six or first nine principal components, depending on the cut-off we\u2019ve established.", "In statistics, R-squared is the metric used to determine how much of the variance of a variable is explained by another variable. Hence the name for this attribute of the PCA model.", "With the scree plot we pick components in a more visual way. We plot the eigenvalue for each component and use the elbow method to determine our cut-off point.", "The idea is to follow the decreasing eigenvalues and see where the values make an elbow. We only include the principal component that lead to the elbow point.", "This is a less precise method, because it depends on where each person sees the elbow.", "Hope you enjoyed this example. With this randomly generated dataset, we went through each step of PCA and covered:", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Articles about Data Science and Machine Learning | @carolinabento"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F18134c57ffe7&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprincipal-component-analysis-algorithm-in-real-life-discovering-patterns-in-a-real-estate-dataset-18134c57ffe7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprincipal-component-analysis-algorithm-in-real-life-discovering-patterns-in-a-real-estate-dataset-18134c57ffe7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprincipal-component-analysis-algorithm-in-real-life-discovering-patterns-in-a-real-estate-dataset-18134c57ffe7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprincipal-component-analysis-algorithm-in-real-life-discovering-patterns-in-a-real-estate-dataset-18134c57ffe7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----18134c57ffe7--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----18134c57ffe7--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://carolinabento.medium.com/?source=post_page-----18134c57ffe7--------------------------------", "anchor_text": ""}, {"url": "https://carolinabento.medium.com/?source=post_page-----18134c57ffe7--------------------------------", "anchor_text": "Carolina Bento"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe960c0367546&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprincipal-component-analysis-algorithm-in-real-life-discovering-patterns-in-a-real-estate-dataset-18134c57ffe7&user=Carolina+Bento&userId=e960c0367546&source=post_page-e960c0367546----18134c57ffe7---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F18134c57ffe7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprincipal-component-analysis-algorithm-in-real-life-discovering-patterns-in-a-real-estate-dataset-18134c57ffe7&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F18134c57ffe7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprincipal-component-analysis-algorithm-in-real-life-discovering-patterns-in-a-real-estate-dataset-18134c57ffe7&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://en.wikipedia.org/wiki/Principal_component_analysis", "anchor_text": "Principal Component Analysis"}, {"url": "https://en.wikipedia.org/wiki/Eigenvalues_and_eigenvectors", "anchor_text": "eigenvectors"}, {"url": "https://en.wikipedia.org/wiki/Singular_value_decomposition", "anchor_text": "Singular Value Decomposition"}, {"url": "https://seaborn.pydata.org/generated/seaborn.pairplot.html", "anchor_text": "pairplot"}, {"url": "https://en.wikipedia.org/wiki/Feature_scaling", "anchor_text": "feature scaling"}, {"url": "https://scikit-learn.org/stable/", "anchor_text": "ScikitLearn"}, {"url": "https://www.statsmodels.org/stable/index.html", "anchor_text": "statsmodels"}, {"url": "https://www.statsmodels.org/stable/index.html", "anchor_text": "statsmodels"}, {"url": "https://scikit-learn.org/stable/", "anchor_text": "ScikitLearn"}, {"url": "https://www.statsmodels.org/stable/generated/statsmodels.multivariate.pca.PCA.html", "anchor_text": "statsmodel PCA method"}, {"url": "https://en.wikipedia.org/wiki/Factor_analysis", "anchor_text": "Factor Analysis"}, {"url": "https://en.wikipedia.org/wiki/Coefficient_of_determination", "anchor_text": "R-squared"}, {"url": "https://en.wikipedia.org/wiki/Scree_plot", "anchor_text": "scree plot"}, {"url": "https://en.wikipedia.org/wiki/Elbow_method_(clustering)", "anchor_text": "elbow method"}, {"url": "https://medium.com/tag/data-science?source=post_page-----18134c57ffe7---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/factor-analysis?source=post_page-----18134c57ffe7---------------factor_analysis-----------------", "anchor_text": "Factor Analysis"}, {"url": "https://medium.com/tag/data?source=post_page-----18134c57ffe7---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----18134c57ffe7---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/statistics?source=post_page-----18134c57ffe7---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F18134c57ffe7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprincipal-component-analysis-algorithm-in-real-life-discovering-patterns-in-a-real-estate-dataset-18134c57ffe7&user=Carolina+Bento&userId=e960c0367546&source=-----18134c57ffe7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F18134c57ffe7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprincipal-component-analysis-algorithm-in-real-life-discovering-patterns-in-a-real-estate-dataset-18134c57ffe7&user=Carolina+Bento&userId=e960c0367546&source=-----18134c57ffe7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F18134c57ffe7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprincipal-component-analysis-algorithm-in-real-life-discovering-patterns-in-a-real-estate-dataset-18134c57ffe7&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----18134c57ffe7--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F18134c57ffe7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprincipal-component-analysis-algorithm-in-real-life-discovering-patterns-in-a-real-estate-dataset-18134c57ffe7&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----18134c57ffe7---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----18134c57ffe7--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----18134c57ffe7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----18134c57ffe7--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----18134c57ffe7--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----18134c57ffe7--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----18134c57ffe7--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----18134c57ffe7--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----18134c57ffe7--------------------------------", "anchor_text": ""}, {"url": "https://carolinabento.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://carolinabento.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Carolina Bento"}, {"url": "https://carolinabento.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.9K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe960c0367546&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprincipal-component-analysis-algorithm-in-real-life-discovering-patterns-in-a-real-estate-dataset-18134c57ffe7&user=Carolina+Bento&userId=e960c0367546&source=post_page-e960c0367546--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F635709f8047b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprincipal-component-analysis-algorithm-in-real-life-discovering-patterns-in-a-real-estate-dataset-18134c57ffe7&newsletterV3=e960c0367546&newsletterV3Id=635709f8047b&user=Carolina+Bento&userId=e960c0367546&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}