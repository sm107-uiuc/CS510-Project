{"url": "https://towardsdatascience.com/deploy-azure-7835678c7c86", "time": 1683011100.4197812, "path": "towardsdatascience.com/deploy-azure-7835678c7c86/", "webpage": {"metadata": {"title": "Build with PyCaret : Deploy on Microsoft Azure Platform | by MA Raza, Ph.D. | Towards Data Science", "h1": "Build with PyCaret : Deploy on Microsoft Azure Platform", "description": "In this story, I have developed a working tutorial on deploying a model trained with pycaret library on Microsoft's Azure Cloud Platform. In my previous article Build with PyCaret: Deploy on Google\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/build-pycaret-deploy-gcp-521415a6c330", "anchor_text": "Build with PyCaret: Deploy on Google Cloud Platform", "paragraph_index": 0}, {"url": "https://aws.amazon.com/", "anchor_text": "AWS", "paragraph_index": 1}, {"url": "https://www.pycaret.org", "anchor_text": "source", "paragraph_index": 2}, {"url": "https://pycaret.org/reg101/", "anchor_text": "Regression Tutorial (REG101) \u2014 Level Beginner", "paragraph_index": 5}, {"url": "https://medium.com/@prajwal.prashanth22/google-colab-drive-as-persistent-storage-for-long-training-runs-cb82bc1d5b71", "anchor_text": "mounting gdrive", "paragraph_index": 6}, {"url": "https://github.com/DardenDSC/sarah-gets-a-diamond", "anchor_text": "found here", "paragraph_index": 9}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html", "anchor_text": "(Learn How)", "paragraph_index": 9}, {"url": "https://docs.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-python?toc=%2Fpython%2Fazure%2FTOC.json", "anchor_text": "Read the Guide on Quickstart: Manage blobs with Python v12 SDK", "paragraph_index": 25}, {"url": "https://github.com/pycaret/pycaret", "anchor_text": "pycaret", "paragraph_index": 37}], "all_paragraphs": ["In this story, I have developed a working tutorial on deploying a model trained with pycaret library on Microsoft's Azure Cloud Platform. In my previous article Build with PyCaret: Deploy on Google Cloud Platform, we had learned how to deploy the model on Google cloud. We will use the same example in this tutorial and deploy the model on Microsoft Azure platform.", "We learn to deploy model trained with pycaret to Microsoft Azure Platform. pycaret has support to deploy a trained model on AWS but not with GCP or Azure at the moment. I followed the similar code-practices as used in library to deploy and load model with AWS to deploy the model on Microsoft's Azure Platform.", "PyCaret is an open source, low-code machine learning library in Python that allows you to go from preparing your data to deploying your model within seconds in your choice of notebook environment.source", "PyCaret is an autoML framework for citizen data scientists term used in its official documentation and homepage. This is relatively new library released few months ago for public use and still under active development. After going through some source code, I realized the current public release lacks support for deployment of trained/finalized models to Google and Azure Cloud Platforms. Although, It has support for deploying on Amazon web services.", "Microsoft Azure is another very popular framework for cloud services and targeting different market than Google and AWS. Having already huge customer base, Azure has captured reasonable market share. In my opinion, for citizen data scientists, probably Microsoft Azure is best starting point. Let us learn how can we deploy a model on Microsoft Azure.", "For this tutorial, we will use the Regression Tutorial (REG101) \u2014 Level Beginner for model training.", "We need to mount the google drive to read the data in colab environment. Below is the simplest way to mount it. You will be asked to enter the token generated by your access procedure. Here is the link to the article about mounting gdrive", "We will save models locally on Google drive for this tutorial.", "Let us create a directory to save models locally.", "You can download the data from the original source found here and load it using pandas (Learn How) or you can use PyCaret\u2019s data respository to load the data using the get_data() function (This will require internet connection).", "Let us setup modelling pipeline using pycaret\u2019s setup module.", "For this tutorial, we model the data using Light GBM from many options implemented in pycaret. You can choose any model of your choice but that is not focus of this tutorial.", "Let us train the model also called a tuning the model in pycaret\u2019s terminologies.", "Below are the plots to see the residual errors for the model", "Prediction Error Plot Let use plot the prediction errors vs true values of target.", "feature importance is very informative plot to see the contribution of each feature in the model.", "Another way to analyze the performance of models is to use the evaluate_model() function which displays a user interface for all of the available plots for a given model. It internally uses the plot_model() function.", "The Label column is added onto the data_unseen set. Label is the predicted value using the final_lightgbm model. If you want predictions to be rounded, you can use round parameter inside predict_model().", "Let us first save the model locally", "To load a saved model at a future date in the same or an alternative environment, we would use PyCaret\u2019s load_model() function and then easily apply the saved model on new unseen data for prediction.", "Once the model is loaded in the environment, you can simply use it to predict on any new data using the same predict_model() function. Below we have applied the loaded model to predict the same data_unseen that we used in section 13 above.", "Notice that the results of unseen_predictions and new_prediction are identical.", "Microsoft Azure is one the biggest cloud providers and machine learning on cloud as a service. In my previous article, I have covered of deploying model to Google Cloud Platform. Library has already support for Amazon web services deployment.", "Once, we have the trained model the next task is to deploy it to serve the clients. There are various deployment options available however in this section I focus on deploying it on Microsoft Azure Platform. I try to use a similar approach as followed in pycaret library for deploying on AWS.", "The pre-requisite to deploy the ml model models on Azure cloud are", "Read the Guide on Quickstart: Manage blobs with Python v12 SDK", "AZURE_STORAGE_CONNECTION_STRING is the authentication string to connect to the Azure storage blob. You can set this string in your environment and can use any one time. Another option is that you enter your string whenever a connection is needed.", "Microsoft Azure storage container is equivalent to Google Cloud Storage Bucket", "You can enter your connection string in google colab using below form", "To create the connection to blob container, use below command to create service client object.", "I have written/collected below utilities to upload/download data from blobs.", "Using above utilities, use below code to upload the model to Azure-container. Before uploading, we create the container if not done before.", "Containers can be created using GUI too.", "Once your model is upload to Azure, you can download anytime to perform the predictions. I follow a simple flow, where model is downloaded locally or in google drive first and then using load_model function to load the model.", "Use the recently downloaded model from Azure to perform the prediction.", "Follow the below Google colaboratory notebook to reproduce and practice this guide.", "In this tutorial, we learned how to deploy a model to Microsoft Azure when trained with pycaret library.", "The main objective was to use built-in utils of pycaret to deploy and load a model from Azure. Below are some highlights", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Engineer | Data Scientist | ML Researcher | Educator"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7835678c7c86&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-azure-7835678c7c86&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-azure-7835678c7c86&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-azure-7835678c7c86&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-azure-7835678c7c86&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----7835678c7c86--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7835678c7c86--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@amjadraza24?source=post_page-----7835678c7c86--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@amjadraza24?source=post_page-----7835678c7c86--------------------------------", "anchor_text": "MA Raza, Ph.D."}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F43f78dfb3de3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-azure-7835678c7c86&user=MA+Raza%2C+Ph.D.&userId=43f78dfb3de3&source=post_page-43f78dfb3de3----7835678c7c86---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7835678c7c86&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-azure-7835678c7c86&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7835678c7c86&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-azure-7835678c7c86&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/build-pycaret-deploy-gcp-521415a6c330", "anchor_text": "Build with PyCaret: Deploy on Google Cloud Platform"}, {"url": "https://aws.amazon.com/", "anchor_text": "AWS"}, {"url": "https://www.pycaret.org", "anchor_text": "source"}, {"url": "https://pycaret.org/reg101/", "anchor_text": "Regression Tutorial (REG101) \u2014 Level Beginner"}, {"url": "https://medium.com/@prajwal.prashanth22/google-colab-drive-as-persistent-storage-for-long-training-runs-cb82bc1d5b71", "anchor_text": "mounting gdrive"}, {"url": "https://github.com/DardenDSC/sarah-gets-a-diamond", "anchor_text": "found here"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html", "anchor_text": "(Learn How)"}, {"url": "https://docs.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-python?toc=%2Fpython%2Fazure%2FTOC.json", "anchor_text": "Read the Guide on Quickstart: Manage blobs with Python v12 SDK"}, {"url": "https://github.com/pycaret/pycaret", "anchor_text": "pycaret"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----7835678c7c86---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----7835678c7c86---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/azure?source=post_page-----7835678c7c86---------------azure-----------------", "anchor_text": "Azure"}, {"url": "https://medium.com/tag/google-cloud-platform?source=post_page-----7835678c7c86---------------google_cloud_platform-----------------", "anchor_text": "Google Cloud Platform"}, {"url": "https://medium.com/tag/pycaret?source=post_page-----7835678c7c86---------------pycaret-----------------", "anchor_text": "Pycaret"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7835678c7c86&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-azure-7835678c7c86&user=MA+Raza%2C+Ph.D.&userId=43f78dfb3de3&source=-----7835678c7c86---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7835678c7c86&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-azure-7835678c7c86&user=MA+Raza%2C+Ph.D.&userId=43f78dfb3de3&source=-----7835678c7c86---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7835678c7c86&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-azure-7835678c7c86&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7835678c7c86--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F7835678c7c86&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-azure-7835678c7c86&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----7835678c7c86---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----7835678c7c86--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----7835678c7c86--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7835678c7c86--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7835678c7c86--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7835678c7c86--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7835678c7c86--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7835678c7c86--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7835678c7c86--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@amjadraza24?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@amjadraza24?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "MA Raza, Ph.D."}, {"url": "https://medium.com/@amjadraza24/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "176 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F43f78dfb3de3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-azure-7835678c7c86&user=MA+Raza%2C+Ph.D.&userId=43f78dfb3de3&source=post_page-43f78dfb3de3--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3cd60c3ab90f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-azure-7835678c7c86&newsletterV3=43f78dfb3de3&newsletterV3Id=3cd60c3ab90f&user=MA+Raza%2C+Ph.D.&userId=43f78dfb3de3&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}