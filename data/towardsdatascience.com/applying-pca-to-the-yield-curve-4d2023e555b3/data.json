{"url": "https://towardsdatascience.com/applying-pca-to-the-yield-curve-4d2023e555b3", "time": 1683004213.554986, "path": "towardsdatascience.com/applying-pca-to-the-yield-curve-4d2023e555b3/", "webpage": {"metadata": {"title": "Applying PCA to the yield curve \u2014 the hard way | by Nathan Thomas | Towards Data Science", "h1": "Applying PCA to the yield curve \u2014 the hard way", "description": "The yield curve is a line that plots the various interest rates of bonds with equal credit quality and different maturities. Government bonds are said to have negligible default risk, as the\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/nathanwilthomas/UK-Yield-Curve", "anchor_text": "Github repository", "paragraph_index": 18}], "all_paragraphs": ["The yield curve is a line that plots the various interest rates of bonds with equal credit quality and different maturities. Government bonds are said to have negligible default risk, as the government can simply borrow more money to finance their repayments. According to the expectations theory of interest rates, the yield curve is made up of two aspects:", "1. An average of market expectations concerning future short-term interest rates.", "2. The term premium \u2014 the extra compensation an investor receives for holding a longer-term bond. This is essentially because of the time value of money \u2014 \u00a3100 is worth more today than it is worth tomorrow, due to its potential earning capacity due to interest. Therefore, for a fixed-income investment to be worth the extra time the investor must part with their cash, the bond issuer must pay the investor some extra amount.", "We can model these aspects of the yield curve using principal components decomposition. Data has two main properties: noise and signal. Principal components analysis aims to extract the signal and reduce the dimensionality of a dataset; by finding the least amount of variables that explain the largest proportion of the data. It does this by transforming the data from a correlation/covariance matrix onto a subspace with fewer dimensions, where all explanatory variables are orthogonal (perpendicular) to each other, i.e there is no multicollinearity (Caveat: these are statistical properties and do not necessarily have an economic interpretation).", "For this analysis I will use various UK government bond spot rates from 0.5 years up to 10 years to maturity (provided by the Bank of England), to see if we can model the yield curve and its slope. When finding the principal components of the yield curve, the main theory held by econometricians is that:", "PC1 = constant \u2248 long term interest rate \u2248 R*", "PC2 = slope \u2248 term premium", "There is a function in scikit-learn to perform PCA, however, to best understand it let\u2019s do it manually (it isn\u2019t actually that hard)!", "After importing the relevant modules needed, and importing the spot curve data from the Bank of England, we can see in the DataFrame that there are some nan values due to missing data. We can drop these as they won\u2019t greatly affect the analysis.", "The next step is to standardize the data into z-scores, assuming a mean of 0 and a variance of 1. We can do this by using the formula:", "We then form a covariance matrix from the standardized data using numpy. Although correlation matrices are more commonly used in finance, due to our data being standardized, a correlation matrix and covariance matrix will actually yield the same result. This is because a correlation matrix is simply a standardized covariance matrix.", "We can then use the linalg.eig package from numpy to create the eigenvalues and eigenvectors from the matrix. This performs eigendecomposition on our standardized data. Eigenvalues are scalars of the linear transformation that has been applied in np.linalg.eig. We can use eigenvalues to find the proportion of the total variance that each principal component explains using this formula:", "Eigenvectors are the coefficients of these linear transformations, leaving the direction unchanged. This diagram and equation should help to explain the concept visually:", "To form a time series for the principal components, we simply need to calculate the dot product between the eigenvectors and the standardized data.", "When we plot the first principal component, we can see that it looks very similar to the actual 10-year yield curve. This makes sense, as according to our eigenvalues, the first principal component explains 98% of the data.", "The second principal component represents the slope \u2014 this should have a correlation with the slope of the actual yield curve. One way we can calculate the slope is the 10-year spot minus the 2-year spot rate.", "Simply from visual inspection, we can see that the slope looks almost identical to our second principal component. Let\u2019s verify with a correlation:", "When running the correlation between the second principal component and the 10Y-2M slope of the yield curve, the high correlation of 0.96 shows us that the second principal component does, in fact, represent the slope!", "Thanks for reading! Please feel free to leave any comments for any insights you may have. The full Jupyter Notebook which contains the source code I used to do this project can be found on my Github repository.", "Disclaimer: All views expressed in this article are my own, and are not in any way associated with Vanguard or any other financial entity. I am not a trader and am not making any money from the methods used in this article. This is not financial advice.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4d2023e555b3&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapplying-pca-to-the-yield-curve-4d2023e555b3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapplying-pca-to-the-yield-curve-4d2023e555b3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapplying-pca-to-the-yield-curve-4d2023e555b3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapplying-pca-to-the-yield-curve-4d2023e555b3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4d2023e555b3--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4d2023e555b3--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@nathanwthomas?source=post_page-----4d2023e555b3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nathanwthomas?source=post_page-----4d2023e555b3--------------------------------", "anchor_text": "Nathan Thomas"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fecf3c9fa298d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapplying-pca-to-the-yield-curve-4d2023e555b3&user=Nathan+Thomas&userId=ecf3c9fa298d&source=post_page-ecf3c9fa298d----4d2023e555b3---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4d2023e555b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapplying-pca-to-the-yield-curve-4d2023e555b3&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4d2023e555b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapplying-pca-to-the-yield-curve-4d2023e555b3&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.researchgate.net/figure/Three-dimensional-plot-of-the-US-treasuries-yield-curve-Sample-period-is-19861-200712_fig1_300072954", "anchor_text": "ResearchGate"}, {"url": "https://www.bankofengland.co.uk/statistics/yield-curves", "anchor_text": "Bank of England."}, {"url": "https://www.visiondummy.com/2014/03/eigenvalues-eigenvectors/", "anchor_text": "Vision Dummy"}, {"url": "https://github.com/nathanwilthomas/UK-Yield-Curve", "anchor_text": "Github repository"}, {"url": "https://pdfs.semanticscholar.org/8736/5855217edbc53e5e29c5c5872db7efb907cc.pdf", "anchor_text": "https://pdfs.semanticscholar.org/8736/5855217edbc53e5e29c5c5872db7efb907cc.pdf"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----4d2023e555b3---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/statistics?source=post_page-----4d2023e555b3---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/money?source=post_page-----4d2023e555b3---------------money-----------------", "anchor_text": "Money"}, {"url": "https://medium.com/tag/data-science?source=post_page-----4d2023e555b3---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----4d2023e555b3---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4d2023e555b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapplying-pca-to-the-yield-curve-4d2023e555b3&user=Nathan+Thomas&userId=ecf3c9fa298d&source=-----4d2023e555b3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4d2023e555b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapplying-pca-to-the-yield-curve-4d2023e555b3&user=Nathan+Thomas&userId=ecf3c9fa298d&source=-----4d2023e555b3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4d2023e555b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapplying-pca-to-the-yield-curve-4d2023e555b3&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4d2023e555b3--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4d2023e555b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapplying-pca-to-the-yield-curve-4d2023e555b3&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4d2023e555b3---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4d2023e555b3--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4d2023e555b3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4d2023e555b3--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4d2023e555b3--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4d2023e555b3--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4d2023e555b3--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4d2023e555b3--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4d2023e555b3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nathanwthomas?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nathanwthomas?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Nathan Thomas"}, {"url": "https://medium.com/@nathanwthomas/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "83 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fecf3c9fa298d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapplying-pca-to-the-yield-curve-4d2023e555b3&user=Nathan+Thomas&userId=ecf3c9fa298d&source=post_page-ecf3c9fa298d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F52e24c772819&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapplying-pca-to-the-yield-curve-4d2023e555b3&newsletterV3=ecf3c9fa298d&newsletterV3Id=52e24c772819&user=Nathan+Thomas&userId=ecf3c9fa298d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}