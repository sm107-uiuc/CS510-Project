{"url": "https://towardsdatascience.com/setting-up-jupyter-on-aws-6b3018dff41f", "time": 1683004790.649974, "path": "towardsdatascience.com/setting-up-jupyter-on-aws-6b3018dff41f/", "webpage": {"metadata": {"title": "Setting Up Jupyter on AWS. A scriptable list of command lines to\u2026 | by Asko Seeba | Towards Data Science", "h1": "Setting Up Jupyter on AWS", "description": "In my previous post I gave the equivalent instructions for Setting Up Jupyter on Google Cloud \u2014 if you are more into Google Cloud, go and check that article. AWS is one of The Big Three (guess, who\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/setting-up-jupyter-on-google-cloud-6ad75562ac1c", "anchor_text": "Setting Up Jupyter on Google Cloud", "paragraph_index": 0}, {"url": "https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html#cli-quick-configuration", "anchor_text": "Setting up the access key", "paragraph_index": 4}, {"url": "https://gitforwindows.org/", "anchor_text": "Git Bash", "paragraph_index": 5}, {"url": "https://www.debian.org/", "anchor_text": "Debian Linux", "paragraph_index": 5}, {"url": "http://localhost:8888/", "anchor_text": "http://localhost:8888/", "paragraph_index": 26}, {"url": "http://localhost:8888/", "anchor_text": "http://localhost:8888/", "paragraph_index": 31}, {"url": "https://aws.amazon.com/ebs/pricing/", "anchor_text": "official records", "paragraph_index": 33}], "all_paragraphs": ["In my previous post I gave the equivalent instructions for Setting Up Jupyter on Google Cloud \u2014 if you are more into Google Cloud, go and check that article.", "AWS is one of The Big Three (guess, who are the others?) powerful contemporary cloud environments, providing plenty of cool services and tools for data scientists and data engineers. As a data scientist, when you run your analysis projects on your local laptop computer, you often face technical resource challenges, be it network speed for downloading large datasets, disk size limitations, CPU power limitations or memory limitations. In a contemporary cloud environment, you basically have easy solutions at hand for any of those obstacles. You have fast network connectivity. You can always start any task with small, lean and mean resources. Whenever you face disk storage problems, you just hire a bigger disk with a couple of clicks. Or you can load the dataset into S3 and query it via Amazon Athena. Or use some other suitable storage service for cost-effective handling. Too little CPU power? No worries, change your instance type into one with more CPU for your VM (which you can scale back down immediately when you don\u2019t need it anymore). Out of memory? A couple of clicks later you have more memory, and again, you can take it back down if it isn\u2019t needed any more. Any sort of cluster formation for distributed computing is also usually just some clicks away, when you just know what you do: boot the cluster up for the heavier compute job, persist the results in some storage service outside of the cluster, and shut the cluster down to not let it stand idle (and incur unnecessary cost).", "If you are experienced with Jupyter Notebook and feel comfortable with Debian-like environments, then you might find the following instructions helpful.", "If you haven\u2019t yet set up the AWS Command Line Interface (CLI), please do it. Install the CLI and set up the access key for it so it can function. The rest of the instructions assume you have CLI and access key set up.", "2. Setting up the access key", "From this point on, everything is doable from your local computer\u2019s command line shell interface. For me the instructions provided below work with both Git Bash on top of Windows, and with Debian Linux.", "3. Adjust the key name, region and the output file name as you wish (the region has to match your planned Jupyter VM location, and chmod 400 is needed, otherwise Debian ssh client blocks its usage):", "3. Create and Run the VM. I am using here t3.micro as the instance type, as t3.micro is, as of writing these instructions, Free Tier eligible (feel free to switch it for anything that is appropriate for your usage needs, but beware the costs):", "4. Wait for the VM to become ready. It took a bit more than 2 minutes in my case, before the Status Check started to display \u201c2/2 checks passed\u201d on the EC2 dashboard UI for the newly created VM.", "5. Note: from here on we assume that the AWS_MY_JUPYTER_INSTANCE_ID variable holds. If, for some reason, your shell terminal closes and you reopen it, you need to reinitialize that variable in order for the following commands to work. I\u2019d advise you to take a backup note of your instance ID for that (so you can later reinitialize it with AWS_MY_JUPYTER_INSTANCE_ID=<your instance id> if needed):", "6. We need to set up the proper security group (firewall rules) to enable the ssh connection:", "7. Test the ssh connection works (answer \u2018yes\u2019 to the ssh fingerprint questions):", "8. To be able to restart the VM later conveniently (we assume here that the private key file that we created above is in current working directory and stays there \u2014 adjust the alias that is constructed here appropriately if the key file location is going to be different):", "9. Test the newly created aliases:", "Wait until the instance is properly stopped. You can check it from the AWS EC2 dashboard \u2014 the Instance State must display \u201cstopped\u201d. It took less than a minute for me.", "Reopen your local shell command prompt (to have it reload the ~/.bashrc file). Enter the following command:", "You should see a message in json (depending on your AWS CLI configuration) that states the current and previous states of your VM.", "Wait for the VM to start. It might take about 2 minutes \u2014 you can see it from the AWS EC2 dashboard: when the Status Checks displays \u201c2/2 checks passed\u201d, the instance is ready for the next command:", "This will take you to the VM command prompt via ssh.", "10. Your VM is now ready and you are now ready to relaunch it easily from your local computer\u2019s command line whenever you want to continue your work.", "We are going to set up JupyterLab, the newer version of the Jupyter Notebook.", "11. Connect to your VM (if you dropped out of it after the previous command above):", "12. Run the following commands at the VM command prompt:", "IMPORTANT!!!! On the next command, \u2014 ip=127.0.0.1 is necessary for the security reasons, to block any external access attempt, especially as we are turning off here the password and security token to achieve a convenient usage.", "13. The VM with Jupyterlab is now provisioned and configured, and you are now back at your local computer\u2019s command line. Let\u2019s connect the dots that make the JupyterLab easy to launch and use:", "14. Open your local command prompt again (to have it reload the ~/.bashrc file), to test the command line alias we just created:", "15. Open your browser and type in http://localhost:8888/ into your address bar.", "16. Voila! You are in JupyterLab! You have the AWS python API installed (see the pip3 install \u2014 upgrade command above). Your JupyterLab python environment is set up and able to interact with AWS services (to the extent you have given the permissions to the account you are using through the CLI access key).", "17. Whenever you stop working with your notebooks, don\u2019t forget to shut down the VM, to avoid unnecessary cloud costs. To stop the VM from your local computer command line:", "18. When you later return back to working on your notebooks, open your local command prompt and relaunch the VM with the following command:", "19. Wait for the VM to start. It might take about 2 minutes \u2014 you can see it from the AWS EC2 dashboard: when the Status Checks displays \u201c2/2 checks passed\u201d, the instance is ready for the next command:", "20. Open your browser and type in http://localhost:8888/ into your address bar.", "If you don\u2019t want to launch the JupyterLab, but just a shell connection to the VM, then you have another command line alias handy: aws_connect_my_jupyter_vm", "The default volume size where the VM\u2019s root file system is linked is 8GiB. I would recommend leaving it as it is and adding an additional EBS volume to the VM only when you need to work with bigger datasets. Having that extra space as a separate disk gives you the opportunity to drop and delete it (having those files you want to preserve backed up to S3 before deleting the disk) if you have finished your project. AWS Free Tier includes 30GB of Storage, according to official records, but beyond Free Tier it can be rather costly service at typical personal budget levels so it doesn\u2019t make sense to just let them sit idle, having you to pay for them on a monthly basis. Also, due to the same cost reason, before creating another persistent disk, think a bit about how big disk you actually need. The exact pricing depends on multiple parameters you can adjust when creating an EBS volume, but a price for a 200GB volume (with daily snapshots) is likely to go more than $30/month, while maybe 25GB is already big enough for your current project at hand ($6/month)?", "The above is enough to get you up and running with the Jupyter environment in AWS. But to force you to think, practice some AWS tinkering and strengthen your confidence with that environment, here are some bonus exercises, that result in making your life even easier, and that I suggest you try to solve on your own. Feel free to post the description of your solutions or questions you might get as a response below, and I will attempt to comment on them for your feedback.", "Make the launching of the Jupyter VM more convenient. Improve your local command line aliases in the way that they check if the VM is already running \u2014 if not, then automatically launch the VM, wait for it to be up and ready, and launch Jupyter in it. This way you\u2019ll eliminate the separate manual step of launching the VM and manually waiting for it to be ready.", "Improve your local command line aliases in the way that after stopping the Jupyter service with ctrl+c it would offer you to stop the VM as well (with default action being stopping the VM) \u2014 this way you avoid unnecessary cloud costs incurring from accidentally forgetting to shut down the VM.", "Automate the deployment of the new Jupyter VM, to avoid manually copy-pasting all the commands above every time you want to create one. This way you make your life even more flexible and agile if you want to maintain separate environments for different projects. There are several ways to do it. Here are a couple of ideas (pick your choice and implement it).", "Ex. 4 option 1. Script everything in the above instructions so that it would all be triggered from one command line command.", "Ex. 4 option 2. Create a Jupyter VM image that you can use as a template whenever you want to launch another clean Jupyter environment independent of other projects.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Machine learning engineer, entrepreneur, nerd. Head of data science, co-founder, Mooncascade."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F6b3018dff41f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetting-up-jupyter-on-aws-6b3018dff41f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetting-up-jupyter-on-aws-6b3018dff41f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetting-up-jupyter-on-aws-6b3018dff41f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetting-up-jupyter-on-aws-6b3018dff41f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----6b3018dff41f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6b3018dff41f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@askoseeba?source=post_page-----6b3018dff41f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@askoseeba?source=post_page-----6b3018dff41f--------------------------------", "anchor_text": "Asko Seeba"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc7244ac6ef58&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetting-up-jupyter-on-aws-6b3018dff41f&user=Asko+Seeba&userId=c7244ac6ef58&source=post_page-c7244ac6ef58----6b3018dff41f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6b3018dff41f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetting-up-jupyter-on-aws-6b3018dff41f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6b3018dff41f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetting-up-jupyter-on-aws-6b3018dff41f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://commons.wikimedia.org/wiki/File:Jupyter_logo.svg", "anchor_text": "commons.wikimedia.org"}, {"url": "https://a0.awsstatic.com/libra-css/images/logos/aws_logo_smile_1200x630.png", "anchor_text": "aws.amazon.com"}, {"url": "https://towardsdatascience.com/setting-up-jupyter-on-google-cloud-6ad75562ac1c", "anchor_text": "Setting Up Jupyter on Google Cloud"}, {"url": "https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html", "anchor_text": "Installing CLI"}, {"url": "https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html#cli-quick-configuration", "anchor_text": "Setting up the access key"}, {"url": "https://gitforwindows.org/", "anchor_text": "Git Bash"}, {"url": "https://www.debian.org/", "anchor_text": "Debian Linux"}, {"url": "http://localhost:8888/", "anchor_text": "http://localhost:8888/"}, {"url": "http://localhost:8888/", "anchor_text": "http://localhost:8888/"}, {"url": "https://aws.amazon.com/ebs/pricing/", "anchor_text": "official records"}, {"url": "https://medium.com/tag/jupyter?source=post_page-----6b3018dff41f---------------jupyter-----------------", "anchor_text": "Jupyter"}, {"url": "https://medium.com/tag/aws?source=post_page-----6b3018dff41f---------------aws-----------------", "anchor_text": "AWS"}, {"url": "https://medium.com/tag/data-science?source=post_page-----6b3018dff41f---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-engineering?source=post_page-----6b3018dff41f---------------data_engineering-----------------", "anchor_text": "Data Engineering"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----6b3018dff41f---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6b3018dff41f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetting-up-jupyter-on-aws-6b3018dff41f&user=Asko+Seeba&userId=c7244ac6ef58&source=-----6b3018dff41f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6b3018dff41f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetting-up-jupyter-on-aws-6b3018dff41f&user=Asko+Seeba&userId=c7244ac6ef58&source=-----6b3018dff41f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6b3018dff41f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetting-up-jupyter-on-aws-6b3018dff41f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6b3018dff41f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F6b3018dff41f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetting-up-jupyter-on-aws-6b3018dff41f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----6b3018dff41f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----6b3018dff41f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----6b3018dff41f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----6b3018dff41f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----6b3018dff41f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----6b3018dff41f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----6b3018dff41f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----6b3018dff41f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----6b3018dff41f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@askoseeba?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@askoseeba?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Asko Seeba"}, {"url": "https://medium.com/@askoseeba/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "329 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc7244ac6ef58&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetting-up-jupyter-on-aws-6b3018dff41f&user=Asko+Seeba&userId=c7244ac6ef58&source=post_page-c7244ac6ef58--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F414ff0200020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetting-up-jupyter-on-aws-6b3018dff41f&newsletterV3=c7244ac6ef58&newsletterV3Id=414ff0200020&user=Asko+Seeba&userId=c7244ac6ef58&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}