{"url": "https://towardsdatascience.com/web-scraping-mountain-weather-forecasts-using-python-and-a-raspberry-pi-f215fdf82c6b", "time": 1682995758.245874, "path": "towardsdatascience.com/web-scraping-mountain-weather-forecasts-using-python-and-a-raspberry-pi-f215fdf82c6b/", "webpage": {"metadata": {"title": "Web Scraping Mountain Weather Forecasts using Python and a Raspberry Pi | by Andres Vourakis | Towards Data Science", "h1": "Web Scraping Mountain Weather Forecasts using Python and a Raspberry Pi", "description": "Extracting data from a website without an API"}, "outgoing_paragraph_urls": [{"url": "https://www.mountain-forecast.com", "anchor_text": "Mountain-Forecast.com", "paragraph_index": 0}, {"url": "https://www.mountain-forecast.com", "anchor_text": "Mountain-Forecast.com", "paragraph_index": 1}, {"url": "https://github.com/avourakis/Mountain-Forecast-Web-Scraper", "anchor_text": "GitHub", "paragraph_index": 2}], "all_paragraphs": ["Before walking you through the project, let me tell you a little bit about the motivation behind it. Aside from Data Science and Machine Learning, my other passion is spending time in the mountains. Planning a trip to any mountain requires lots of careful planning in order to minimize the risks. That means paying close attention to the weather conditions as the summit day approaches. My absolutely favorite website for this is Mountain-Forecast.com which gives you the weather forecasts for almost any mountain in the world at different elevations. The only problem is that it doesn\u2019t offer any historical data (as far as I can tell), which can sometimes be useful when determining if it is a good idea to make the trip or wait for better conditions.", "This problem has been in the back of my mind for a while and I finally decided to do something about it. Below, I\u2019ll describe how I wrote a web scraper for Mountain-Forecast.com using Python and Beautiful Soup, and put it into a Raspberry Pi to collect the data on a daily basis.", "if you\u2019d rather skip to the code, then check out the repository on GitHub.", "In order to figure out which elements I needed to target, I started by inspecting the source code of the page. This can be easily done by right clicking on the element of interest and selecting inspect. This brings up the HTML code where we can see the element that each field is contained within.", "Lucky for me, the forecast information for every mountain is contained within a table. The only problem is that each day has multiple sub columns associated with it (i.e. AM, PM and night) and so I would need to figure out a way to iterate through them. In addition, since weather forecasts are provided at different elevations, I would need to extract the link for each one of them and scrape them individually.", "Similarly, I inspected the directory containing the URLs for the highest 100 mountains in the United States.", "This seemed like a much easier task since all I needed from the table were the URLs and Mountain Names, in no specific order.", "After familiarizing myself with the HTML structure of the page, it was time to get started.", "My first task was to collect the URLs for the mountains I was interested in. I wrote a couple of functions to store the information in a dictionary, where the key is Mountain Name and the value is a list of all the URLs associated with it (URLs by elevation). Then I used the pickle module to serialize the dictionary and save it into a file so that it could be easily retrieved when needed. Here is the code I wrote to do that:", "My next task was to collect the weather forecast for each mountain in the dictionary. I used requests to get the content of the page and beautifulsoup4 to parse it.", "As you can see from the code, I manually saved each element of interest into its own variable instead of iterating through them. It wasn\u2019t pretty but I decided to do it that way since I wasn\u2019t interested in all of the elements (i.e. weather maps and freezing scale) and there were a few of them that needed to be handled differently than the rest.", "Since my goal was to scrape daily and the forecasts get updated everyday, it was important to figure out a way to update old forecasts instead of creating duplicates and append the new ones. I used the pandas module to turn the data into a DataFrame (a two-dimensional data structure consisting or rows and columns) and be able to easily manipulate it and then save it as a CSV file. Here is what the code looks like:", "Once the data collection and manipulation was done, I ended up with this table:", "The Raspberry Pi is a low cost, credit-card sized computer that can be used for a variety of projects like, retro-gaming emulation, home automation, robotics, or in this case, web-scraping. Running the scraper on the Raspberry Pi can be a better alternative to leaving your personal desktop or laptop running all the time, or investing on a server.", "First I needed to install an Operating System on the Raspberry Pi and I chose Raspbian Stretch Lite, a Debian-based operating system without a graphical desktop, just a terminal.", "After installing Raspbian Stretch Lite, I used the the command sudo raspi-config to open up the configuration tool and change the password, expand filesystem, change host name and enable SSH.", "Finally, I used sudo apt-get update && sudo apt-get upgrade to make sure everything was up-to-date and proceeded to install all of the dependencies necessary to run my script (i.e. Pandas, Beautiful Soup 4, etc\u2026)", "In order to schedule the script to run daily, I used cron, a time-based job scheduler in Unix-like computer operating systems (i.e. Ubuntu, Raspbian, macOS, etc\u2026). Using the following command the script was scheduled to run daily at 10:00 AM.", "This is what the final set-up looks like:", "Since SSH is enabled on the Raspberry Pi, I can now easily connect to it via terminal (no need for an extra monitor and keyboard) using my personal laptop or phone and keep an eye on the scraper.", "I hope you enjoyed this walk through and it inspired you to code your own Web Scraper using Python and a Raspberry Pi. If you have any questions or feedback, I\u2019ll be happy to read them in the comments below :)", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Sharing my thoughts. I'm an Alpinist, Adventure Photographer and Data Scientist currently living in Stockholm, Sweden"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff215fdf82c6b&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-mountain-weather-forecasts-using-python-and-a-raspberry-pi-f215fdf82c6b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-mountain-weather-forecasts-using-python-and-a-raspberry-pi-f215fdf82c6b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-mountain-weather-forecasts-using-python-and-a-raspberry-pi-f215fdf82c6b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-mountain-weather-forecasts-using-python-and-a-raspberry-pi-f215fdf82c6b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f215fdf82c6b--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f215fdf82c6b--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@avourakis?source=post_page-----f215fdf82c6b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@avourakis?source=post_page-----f215fdf82c6b--------------------------------", "anchor_text": "Andres Vourakis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F809979f1c824&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-mountain-weather-forecasts-using-python-and-a-raspberry-pi-f215fdf82c6b&user=Andres+Vourakis&userId=809979f1c824&source=post_page-809979f1c824----f215fdf82c6b---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff215fdf82c6b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-mountain-weather-forecasts-using-python-and-a-raspberry-pi-f215fdf82c6b&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff215fdf82c6b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-mountain-weather-forecasts-using-python-and-a-raspberry-pi-f215fdf82c6b&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "http://andresvourakis.com", "anchor_text": "andresvourakis"}, {"url": "https://unsplash.com/@ilyapavlov", "anchor_text": "@ilyapavlov"}, {"url": "https://www.mountain-forecast.com", "anchor_text": "Mountain-Forecast.com"}, {"url": "https://www.mountain-forecast.com", "anchor_text": "Mountain-Forecast.com"}, {"url": "https://github.com/avourakis/Mountain-Forecast-Web-Scraper", "anchor_text": "GitHub"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f215fdf82c6b---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-collection?source=post_page-----f215fdf82c6b---------------data_collection-----------------", "anchor_text": "Data Collection"}, {"url": "https://medium.com/tag/web-scraping?source=post_page-----f215fdf82c6b---------------web_scraping-----------------", "anchor_text": "Web Scraping"}, {"url": "https://medium.com/tag/productivity?source=post_page-----f215fdf82c6b---------------productivity-----------------", "anchor_text": "Productivity"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----f215fdf82c6b---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff215fdf82c6b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-mountain-weather-forecasts-using-python-and-a-raspberry-pi-f215fdf82c6b&user=Andres+Vourakis&userId=809979f1c824&source=-----f215fdf82c6b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff215fdf82c6b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-mountain-weather-forecasts-using-python-and-a-raspberry-pi-f215fdf82c6b&user=Andres+Vourakis&userId=809979f1c824&source=-----f215fdf82c6b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff215fdf82c6b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-mountain-weather-forecasts-using-python-and-a-raspberry-pi-f215fdf82c6b&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f215fdf82c6b--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff215fdf82c6b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-mountain-weather-forecasts-using-python-and-a-raspberry-pi-f215fdf82c6b&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f215fdf82c6b---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f215fdf82c6b--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f215fdf82c6b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f215fdf82c6b--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f215fdf82c6b--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f215fdf82c6b--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f215fdf82c6b--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f215fdf82c6b--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f215fdf82c6b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@avourakis?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@avourakis?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andres Vourakis"}, {"url": "https://medium.com/@avourakis/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "703 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F809979f1c824&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-mountain-weather-forecasts-using-python-and-a-raspberry-pi-f215fdf82c6b&user=Andres+Vourakis&userId=809979f1c824&source=post_page-809979f1c824--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fdea09091e7d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-mountain-weather-forecasts-using-python-and-a-raspberry-pi-f215fdf82c6b&newsletterV3=809979f1c824&newsletterV3Id=dea09091e7d1&user=Andres+Vourakis&userId=809979f1c824&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}