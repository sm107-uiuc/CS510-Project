{"url": "https://towardsdatascience.com/auto-reflecting-tables-in-sqlalchemy-f859ff3b6aab", "time": 1683008258.169365, "path": "towardsdatascience.com/auto-reflecting-tables-in-sqlalchemy-f859ff3b6aab/", "webpage": {"metadata": {"title": "Auto-Reflecting Tables and Columns in SQLAlchemy | by Eric North | Towards Data Science", "h1": "Auto-Reflecting Tables and Columns in SQLAlchemy", "description": "After a lot of soul-searching and digging around the SQAlchemy docs, I\u2019ve made an important discovery: You don\u2019t need to use class-based attributes in order to leverage the awesome power of\u2026"}, "outgoing_paragraph_urls": [{"url": "https://docs.sqlalchemy.org/en/13/", "anchor_text": "docs", "paragraph_index": 1}, {"url": "https://pypi.org/project/Elixir/", "anchor_text": "Elixir", "paragraph_index": 7}, {"url": "https://pypi.org/project/sqlsoup/", "anchor_text": "SQLSoup", "paragraph_index": 7}, {"url": "https://medium.com/hacking-datascience/sqlalchemy-python-tutorial-abcc2ec77b57", "anchor_text": "SQLAlchemy \u2014 Python Tutorial", "paragraph_index": 11}, {"url": "https://medium.com/u/3fbe4f6ebe31?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": "Vinay Kudari", "paragraph_index": 11}, {"url": "https://medium.com/@mahmudahsan/how-to-use-python-sqlite3-using-sqlalchemy-158f9c54eb32", "anchor_text": "How to use Python SQLite3 using SQLAlchemy", "paragraph_index": 11}, {"url": "https://medium.com/u/4ba89fe45bd8?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": "Mahmud Ahsan", "paragraph_index": 11}, {"url": "https://medium.com/dataexplorations/sqlalchemy-orm-a-more-pythonic-way-of-interacting-with-your-database-935b57fd2d4d", "anchor_text": "article", "paragraph_index": 16}, {"url": "https://medium.com/u/a353b021023b?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": "A Gordon", "paragraph_index": 16}, {"url": "https://docs.sqlalchemy.org/en/13/orm/session_basics.html", "anchor_text": "docs", "paragraph_index": 16}, {"url": "https://docs.sqlalchemy.org/en/13/orm/session_api.html#sqlalchemy.orm.session.Session", "anchor_text": "Session", "paragraph_index": 16}], "all_paragraphs": ["Trust me, this one is different\u2026", "After a lot of soul-searching and digging around the SQAlchemy docs, I\u2019ve made an important discovery: You don\u2019t need to use class-based attributes in order to leverage the awesome power of session-based queries.", "Code in this article is licenced under the Apache 2.0 software licence. The following is a portion of the Python code to be discussed:", "Well, kind of: allow me to explain.", "I have authored a couple of Python scripts that use Pandas and SQLite. For those who have not yet had the pleasure of working with Pandas it is an amazing package with tons of applications in Data Science and many other fields. I marvel at the simplicity at which one can specify various keyword arguments to various Pandas functions in order to achieve amazing results. My scripts use SQLite databases to store incoming, \u2018mid-stream\u2019 and result datasets. While SQLite is great for prototyping I am now at a point where I need more.", "I could port my existing code to be able to point to a different database, but what I really want is something dialect-agnostic. Enter SQLAlchemy and its powerful Object Relational Mapper (ORM). It allows developers to interact with their databases as Python-friendly classes. Very cool!", "One of SQLAlchemy\u2019s huge benefits is session-based queries which employ Python object-oriented syntax rather than SQL statements. For those who have worked with two or more database technologies, I feel somewhat sheepish in spelling out why this is beneficial. For those who have not had the pleasure, it is like hiring a translator when speaking with each of the outgoing, highly-conversational people on an around-the-world Zoom call.", "SQLAlchemy\u2019s ORM is your translator. Having \u2018object\u2019 in the title means it is keen on\u2026 objects. There are a couple of packages such as Elixir and SQLSoup that extend SQLAlchemy; they too use an object-oriented approach. Which is fine if your code uses (drum roll please\u2026) objects.", "One slight problem is that some *ahem* most of my code uses JavaScript Object Notation (JSON) to configure parameters at run-time. I have a hockey-sock full of riveting tidbits about JSON: these are the subject for another article. Suffice to say that many of my Python scripts use string-based parameters obtained from JSON for their configuration.", "After mucking around in the SQLAlchemy documentation combined with some inspection via the Eclipse debugger, I cobbled together a small but hefty code snippet that enables me to refer to each and every one of my tables and columns within a given database by name, vice having to specify them as objects and attributes.", "When I first saw an error-free console after cobbling this code together I wanted to do cartwheels down the street!", "Some may be asking \u2018so what, why should I care\u2019? Perhaps a more fullsome example is appropriate. Before diving into the code below, if you are wondering how to configure a database using SQLAlchemy I recommend you check out the following helpful articles: SQLAlchemy \u2014 Python Tutorial by Vinay Kudari and How to use Python SQLite3 using SQLAlchemy by Mahmud Ahsan.", "Once you\u2019ve got your Python environment configured along with a test database, go ahead and load the following snippet into your IDE of choice:", "A more fullsome example for auto-reflecting tables in SQLAlchemy", "With a SQLAlchemy engine configured you can supply it to the get_data function along with the name of a table and column from your test database. Say our test database contains a table called \u2018ThisIsATable\u2019 and in it a column called \u2018ThisIsAColumn\u2019. Within \u2018ThisIsAColumn\u2019 we have several text-based rows, at least one of which contains \u2018Please try to find me\u2019.", "If all goes well you should have a Pandas DataFrame containing a sub-set of the table from your test database. Thanks to a few lines of code we are now free to write our database-agnostic queries. With these queries, we can obtain data for Pandas to chew on, thanks to simple string-based parameters.", "From an \u2018easy to maintain\u2019 perspective, the code leverages public functions and attributes. Calling on private attributes is generally ill-advised since these could change in a future release; I tend to shy away from private attributes whenever possible. A point worth mentioning is that the Session in the above code is invoked within the function get_data. This is not the recommended practice. Please see this article by A Gordon for further information on creating and using Sessions. The SQLAlchemy docs also contain information on creating and using Sessions, specifically the section entitled \u2018When do I construct a Session, when do I commit it, and when do I close it?\u2019.", "Armed with the above code, you and your proof-of-concept Python scripts are now able to autoload and reflect database metadata by specifying only a bare minimimum of information via handy-dandy strings.", "Say it with me: Strings are wonderful things!", "In my opinion, this represents the dawn of advanced querying via the database-agnostic goodness of SQLAlchemy, together with the hugely powerful Pandas library combined with string-based keyword arguments! I think another snake image is appropriate: it sums up the relationship amongst SQLAlchemy, Pandas and text-based interaction. Together, they form a trifecta that is primed for the limitless expanse of Natural Language Processing along with many other use cases.", "Happy Pythoning and stay safe out there!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Engineer with a small dash of quirkiness, always on the lookout for new things to learn. Avid sailor and adventurer. Publisher of good(?) ideas."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff859ff3b6aab&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fauto-reflecting-tables-in-sqlalchemy-f859ff3b6aab&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fauto-reflecting-tables-in-sqlalchemy-f859ff3b6aab&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fauto-reflecting-tables-in-sqlalchemy-f859ff3b6aab&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fauto-reflecting-tables-in-sqlalchemy-f859ff3b6aab&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://steadynotion.medium.com/?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": ""}, {"url": "https://steadynotion.medium.com/?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": "Eric North"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fdc5533645559&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fauto-reflecting-tables-in-sqlalchemy-f859ff3b6aab&user=Eric+North&userId=dc5533645559&source=post_page-dc5533645559----f859ff3b6aab---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff859ff3b6aab&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fauto-reflecting-tables-in-sqlalchemy-f859ff3b6aab&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff859ff3b6aab&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fauto-reflecting-tables-in-sqlalchemy-f859ff3b6aab&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://docs.sqlalchemy.org/en/13/", "anchor_text": "docs"}, {"url": "https://gist.github.com/steadynotion/129c7b58ff0a146d45083527888c5749", "anchor_text": "https://gist.github.com/steadynotion/129c7b58ff0a146d45083527888c5749"}, {"url": "https://pypi.org/project/Elixir/", "anchor_text": "Elixir"}, {"url": "https://pypi.org/project/sqlsoup/", "anchor_text": "SQLSoup"}, {"url": "https://medium.com/hacking-datascience/sqlalchemy-python-tutorial-abcc2ec77b57", "anchor_text": "SQLAlchemy \u2014 Python Tutorial"}, {"url": "https://medium.com/u/3fbe4f6ebe31?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": "Vinay Kudari"}, {"url": "https://medium.com/@mahmudahsan/how-to-use-python-sqlite3-using-sqlalchemy-158f9c54eb32", "anchor_text": "How to use Python SQLite3 using SQLAlchemy"}, {"url": "https://medium.com/u/4ba89fe45bd8?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": "Mahmud Ahsan"}, {"url": "https://gist.github.com/steadynotion/8d81b5bcdd74fe75c3a3b694516d6528", "anchor_text": "https://gist.github.com/steadynotion/8d81b5bcdd74fe75c3a3b694516d6528"}, {"url": "https://medium.com/dataexplorations/sqlalchemy-orm-a-more-pythonic-way-of-interacting-with-your-database-935b57fd2d4d", "anchor_text": "article"}, {"url": "https://medium.com/u/a353b021023b?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": "A Gordon"}, {"url": "https://docs.sqlalchemy.org/en/13/orm/session_basics.html", "anchor_text": "docs"}, {"url": "https://docs.sqlalchemy.org/en/13/orm/session_api.html#sqlalchemy.orm.session.Session", "anchor_text": "Session"}, {"url": "https://medium.com/tag/python?source=post_page-----f859ff3b6aab---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/sqlalchemy?source=post_page-----f859ff3b6aab---------------sqlalchemy-----------------", "anchor_text": "Sqlalchemy"}, {"url": "https://medium.com/tag/pandas?source=post_page-----f859ff3b6aab---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f859ff3b6aab---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/naturallanguageprocessing?source=post_page-----f859ff3b6aab---------------naturallanguageprocessing-----------------", "anchor_text": "Naturallanguageprocessing"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff859ff3b6aab&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fauto-reflecting-tables-in-sqlalchemy-f859ff3b6aab&user=Eric+North&userId=dc5533645559&source=-----f859ff3b6aab---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff859ff3b6aab&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fauto-reflecting-tables-in-sqlalchemy-f859ff3b6aab&user=Eric+North&userId=dc5533645559&source=-----f859ff3b6aab---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff859ff3b6aab&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fauto-reflecting-tables-in-sqlalchemy-f859ff3b6aab&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff859ff3b6aab&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fauto-reflecting-tables-in-sqlalchemy-f859ff3b6aab&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f859ff3b6aab---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f859ff3b6aab--------------------------------", "anchor_text": ""}, {"url": "https://steadynotion.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://steadynotion.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Eric North"}, {"url": "https://steadynotion.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "17 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fdc5533645559&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fauto-reflecting-tables-in-sqlalchemy-f859ff3b6aab&user=Eric+North&userId=dc5533645559&source=post_page-dc5533645559--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8b1504cd5b2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fauto-reflecting-tables-in-sqlalchemy-f859ff3b6aab&newsletterV3=dc5533645559&newsletterV3Id=8b1504cd5b2&user=Eric+North&userId=dc5533645559&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}