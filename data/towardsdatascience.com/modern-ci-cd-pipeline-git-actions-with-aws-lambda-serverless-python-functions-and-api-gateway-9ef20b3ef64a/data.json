{"url": "https://towardsdatascience.com/modern-ci-cd-pipeline-git-actions-with-aws-lambda-serverless-python-functions-and-api-gateway-9ef20b3ef64a", "time": 1683011374.8499782, "path": "towardsdatascience.com/modern-ci-cd-pipeline-git-actions-with-aws-lambda-serverless-python-functions-and-api-gateway-9ef20b3ef64a/", "webpage": {"metadata": {"title": "Modern CI/CD Pipeline: Github Actions with AWS Lambda Serverless Python Functions and API Gateway | by Arshya Sharifian | Towards Data Science", "h1": "Modern CI/CD Pipeline: Github Actions with AWS Lambda Serverless Python Functions and API Gateway", "description": "Cloud is here to stay and more and more developers are seeking ways to effectively incorporate the cloud. Whether you are a startup recognizing limitations of your on-premise hardware and local\u2026"}, "outgoing_paragraph_urls": [{"url": "https://docs.aws.amazon.com/lambda/latest/dg/getting-started-create-function.html", "anchor_text": "create a test", "paragraph_index": 6}, {"url": "https://aws.amazon.com/premiumsupport/knowledge-center/malformed-502-api-gateway/", "anchor_text": "here is some documentation that might help", "paragraph_index": 6}, {"url": "https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-limits.html", "anchor_text": "here", "paragraph_index": 9}, {"url": "https://arysharifian.substack.com/", "anchor_text": "substack", "paragraph_index": 12}], "all_paragraphs": ["Cloud is here to stay and more and more developers are seeking ways to effectively incorporate the cloud. Whether you are a startup recognizing limitations of your on-premise hardware and local machines or a large enterprise curious about how to slowly offload on-prem workloads, this tutorial will be insightful. I describe a phase 1 AWS architecture including Github, API Gateway, and AWS Lamba python functions. This represents an initial tutorial exposing developers to the AWS cloud adoption learning curve.", "The architecture above describes the basic CI/CD pipeline for deploying a python function with AWS Lambda. The developer represented above can pull and push their git repository to github using git. We configured the github actions YAML file to automatically update the AWS Lambda function once a pull request is merged to the master branch. The API Gateway represents a trigger which runs the AWS Lambda python function and returns a result. In this way, a Data Scientist (or analyst, frontend developer, or another developer) can trigger and access results in a quick and succinct fashion.", "Note: AWS Lambda Functions exists in AWS Lambda, a compute resource inaccessible by the developer.", "This architecture represents an effective way for teams to build a robust CI/CD pipeline for application development and deployment. Though this architecture is \u201cincomplete\u201d with respect to a full-blown web application, this design can represent the first phase of building a web application. For anyone interested in offloading local compute resources, AWS Lambda serverless functions can be an effective way to leverage cloud in a cost-effective manner (AWS Lambda Functions are part of AWS always free tier). So many times, development teams design a lofty cloud based-architecture for application deployment (or migration) and fail. Conducting Proof-Of-Concepts and slowly incorporating cloud is more prudent.", "The primary challenge is understanding the YAML file and correctly formatting the \u201cmain.py\u201d file which is executed in AWS Lambda. To setup a new workflow where developers can configure YAML file for function deployment, click \u201cactions\u201d in the github repository. This will provide instructions for creating a new workflow or selecting from a pre-existing workflow consistent with the deployment architecture. I created a default workflow and then searched other workflows to find a template that deployed to AWS Lambda (but there is probably an easier way leveraging a pre-configured workflow for AWS Lambda).", "Note: line 57 is actually zipping github repo into a zip file called \u201ctest-dep-dev\u201d. Ideally, to organize a Lambda function deployment, I recommend creating a folder in your repo and zipping that folder for deployment. For example, you might create a folder called \u201cLambda_Function_Scrapping_Data\u201d which contains all the dependencies needed to deploy your function. Line 57 would look something like \u201czip -r test-dep-dev.zip ./Lambda_Funtions_Scrapping_Data\u201d", "Once you have configured the YAML file, check the AWS Lambda Function page to see if the function has been updated. To troubleshoot, create a test case within the AWS Lambda Function. The issue I first faced was a malformed syntax for the python return value (here is some documentation that might help). Below is a simple example of what a AWS Lambda Python function should look like. The response format is most important.", "Note: in AWS Lambda function, the handler, is defined as the file_name.function_name. For example, if the file name is main.py and the function is my_serverless_function, the handle should be defined as main.my_serverless_function.", "Instead of recreating the wheel, this is a great video demonstrating how to create an API Gateway for the AWS Lambda Function:", "Before deciding to use AWS Lambda its important to consider the limitations. AWS Lambda functions will timeout after 15 minutes which is fairly generous, but for more involved enterprise level workloads, this might not be enough. More importantly your packaged functions are limited to 250mb unzipped and 50mb zipped which include the size of the packages, coded functions, and other dependencies. These are just some of the limitations that were especially applicable to the use case I am addressing. You can find other limitations here.", "Given that AWS Lambda is essentially a shared compute instance running a containerized function, for more flexibility you can provision an EC2 instance. Obviously this results in higher costs. If you are worried about high availability, I am not sure what the SLA offers are for AWS Lambda, but generally, AWS compute instance users should assume 90% availability.", "There is a bit of learning curve to AWS Lambda and serverless functions, but given their general applicability in most modern web application development, I consider it a worthwhile investment of time. If you are working on a project and want to incorporate some cloud, AWS Lambda is fairly worthwhile from a process and cost standpoint. End users can easily call the endpoint and retrieve data. There seems to be plenty of documentation and tutorials to address nearly any use case. Overall, I would recommend AWS Lambda. For more flexibility with a compute instance, I recommend Oracle Cloud Compute Instances. They are free (less than 1 OCPU), but documentation might be difficult to find and understand.", "I recently created a substack to learn how to program and solve LeetCode questions in Python.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F9ef20b3ef64a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodern-ci-cd-pipeline-git-actions-with-aws-lambda-serverless-python-functions-and-api-gateway-9ef20b3ef64a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodern-ci-cd-pipeline-git-actions-with-aws-lambda-serverless-python-functions-and-api-gateway-9ef20b3ef64a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodern-ci-cd-pipeline-git-actions-with-aws-lambda-serverless-python-functions-and-api-gateway-9ef20b3ef64a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodern-ci-cd-pipeline-git-actions-with-aws-lambda-serverless-python-functions-and-api-gateway-9ef20b3ef64a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----9ef20b3ef64a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----9ef20b3ef64a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://arshyasharifian.medium.com/?source=post_page-----9ef20b3ef64a--------------------------------", "anchor_text": ""}, {"url": "https://arshyasharifian.medium.com/?source=post_page-----9ef20b3ef64a--------------------------------", "anchor_text": "Arshya Sharifian"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F699fed23e2a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodern-ci-cd-pipeline-git-actions-with-aws-lambda-serverless-python-functions-and-api-gateway-9ef20b3ef64a&user=Arshya+Sharifian&userId=699fed23e2a0&source=post_page-699fed23e2a0----9ef20b3ef64a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9ef20b3ef64a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodern-ci-cd-pipeline-git-actions-with-aws-lambda-serverless-python-functions-and-api-gateway-9ef20b3ef64a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9ef20b3ef64a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodern-ci-cd-pipeline-git-actions-with-aws-lambda-serverless-python-functions-and-api-gateway-9ef20b3ef64a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@morningbrew?utm_source=medium&utm_medium=referral", "anchor_text": "Morning Brew"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://docs.aws.amazon.com/lambda/latest/dg/getting-started-create-function.html", "anchor_text": "create a test"}, {"url": "https://aws.amazon.com/premiumsupport/knowledge-center/malformed-502-api-gateway/", "anchor_text": "here is some documentation that might help"}, {"url": "https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-limits.html", "anchor_text": "here"}, {"url": "https://www.buymeacoffee.com/arshyasharifian", "anchor_text": ""}, {"url": "https://arysharifian.substack.com/", "anchor_text": "substack"}, {"url": "https://medium.com/tag/python?source=post_page-----9ef20b3ef64a---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/aws-lambda?source=post_page-----9ef20b3ef64a---------------aws_lambda-----------------", "anchor_text": "AWS Lambda"}, {"url": "https://medium.com/tag/devops?source=post_page-----9ef20b3ef64a---------------devops-----------------", "anchor_text": "DevOps"}, {"url": "https://medium.com/tag/api?source=post_page-----9ef20b3ef64a---------------api-----------------", "anchor_text": "API"}, {"url": "https://medium.com/tag/data-science?source=post_page-----9ef20b3ef64a---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F9ef20b3ef64a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodern-ci-cd-pipeline-git-actions-with-aws-lambda-serverless-python-functions-and-api-gateway-9ef20b3ef64a&user=Arshya+Sharifian&userId=699fed23e2a0&source=-----9ef20b3ef64a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F9ef20b3ef64a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodern-ci-cd-pipeline-git-actions-with-aws-lambda-serverless-python-functions-and-api-gateway-9ef20b3ef64a&user=Arshya+Sharifian&userId=699fed23e2a0&source=-----9ef20b3ef64a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9ef20b3ef64a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodern-ci-cd-pipeline-git-actions-with-aws-lambda-serverless-python-functions-and-api-gateway-9ef20b3ef64a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----9ef20b3ef64a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F9ef20b3ef64a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodern-ci-cd-pipeline-git-actions-with-aws-lambda-serverless-python-functions-and-api-gateway-9ef20b3ef64a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----9ef20b3ef64a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----9ef20b3ef64a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----9ef20b3ef64a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----9ef20b3ef64a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----9ef20b3ef64a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----9ef20b3ef64a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----9ef20b3ef64a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----9ef20b3ef64a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----9ef20b3ef64a--------------------------------", "anchor_text": ""}, {"url": "https://arshyasharifian.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://arshyasharifian.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Arshya Sharifian"}, {"url": "https://arshyasharifian.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "162 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F699fed23e2a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodern-ci-cd-pipeline-git-actions-with-aws-lambda-serverless-python-functions-and-api-gateway-9ef20b3ef64a&user=Arshya+Sharifian&userId=699fed23e2a0&source=post_page-699fed23e2a0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd3cf9a164ae1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodern-ci-cd-pipeline-git-actions-with-aws-lambda-serverless-python-functions-and-api-gateway-9ef20b3ef64a&newsletterV3=699fed23e2a0&newsletterV3Id=d3cf9a164ae1&user=Arshya+Sharifian&userId=699fed23e2a0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}