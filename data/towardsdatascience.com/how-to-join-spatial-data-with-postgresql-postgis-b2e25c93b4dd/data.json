{"url": "https://towardsdatascience.com/how-to-join-spatial-data-with-postgresql-postgis-b2e25c93b4dd", "time": 1683010918.277429, "path": "towardsdatascience.com/how-to-join-spatial-data-with-postgresql-postgis-b2e25c93b4dd/", "webpage": {"metadata": {"title": "How to Join Spatial Data with PostgreSQL/PostGIS | by Abdishakur | Towards Data Science", "h1": "How to Join Spatial Data with PostgreSQL/PostGIS", "description": "Joining data is a common task in the data science world. While the regular SQL table join is a great feature, I am most impressed by the real power of spatial joins. With Spatial Join, you can\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Joining data is a common task in the data science world. While the regular SQL table join is a great feature, I am most impressed by the real power of spatial joins.", "With Spatial Join, you can correlate information from different tables based on their geometry relations. In this tutorial, we will see examples of spatial join and also summarizing features after the spatial join.", "If you are new to the world of PostgreSQL/PostGIS, I have a beginner\u2019s tutorial to set you up the environment and gets you started quickly with step by step guide.", "We are using Barcelona Airbnb dataset for this tutorial with smaller statistical areas. Our task is to join the Airbnb public listings to the respective smaller statistical area they belong to. In other words, we would like to find out which area each Airbnb points falls in. Finally, we will summary the joined data to find out how many Airbnb guest houses each statistical area has.", "Before we go through the spatial join, let us first familiarize our self with the dataset. We look at the public listings by querying these columns and limiting the result to the first 100 listings.", "We display the result below of the first ten rows. We have the name of the listing, the hostname, room type, price, reviews, neighbourhoods and the geometry(Geom). The geometry column has a small eye that allows you to visualize the spatial data.", "Here is the output of the geometry viewer for the Airbnb listings. Note that this is limited to the first 100 points only.", "Now, let us look at the statistical area dataset. We simply limit the columns to the geometry and the code of the area.", "The following map displays the Statistical area polygons visualized with PgAdmin4 Geometry Viewer.", "Before, we move to carry out the spatial join, make sure to check out if the Coordinate Reference System (CRS) of both datasets match. We can simply query out the Spatial Reference System of each dataset like this.", "And both datasets have WGS84 CRS, so we can go ahead and perform the spatial join.", "We have seen the dataset and checked the CRS of the dataset. All is set now. To join both datasets, we can use different spatial relations including ST_Within ,ST_Contains, ST_Covers, orST_Crosses . In this example, we are using ST_Within to find out which point is within which polygon.", "The result is this table with Airbnb listings with an additional column indicated which statistical area code each point belongs to as shown in below table.", "Great! The spatial join could be your final results if you were after to find out only where each point belongs to. However, we might need to summarize the spatial join result to find out insights in the distribution of the dataset.", "Any SQL aggregate function would work here to gain insights from the spatially joined dataset. Let us say we want to find out the average Airbnb listings prices for each statistical neighbourhoods.", "We only need to use the Average aggregate function with listing prices and group the data by statistical area.", "The result is this table where we have the average price of each statistical area.", "Here is a map showing the average price distribution for the statistical areas in Barcelona.", "In this tutorial, we have seen how to do spatial join with PostGIS using real-world dataset. We successfully joined Airbnb listings to their respective statistical areas using geometry relations. You might experiment using ST_Contains to come up with the same results. You might also like to experiment with different aggregation functions, like counting the number of listings in each statistical area.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Writing about Geospatial Data Science, AI, ML, DL, Python, SQL, GIS | Top writer | 1m views."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb2e25c93b4dd&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-join-spatial-data-with-postgresql-postgis-b2e25c93b4dd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-join-spatial-data-with-postgresql-postgis-b2e25c93b4dd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-join-spatial-data-with-postgresql-postgis-b2e25c93b4dd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-join-spatial-data-with-postgresql-postgis-b2e25c93b4dd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b2e25c93b4dd--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b2e25c93b4dd--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://shakasom.medium.com/?source=post_page-----b2e25c93b4dd--------------------------------", "anchor_text": ""}, {"url": "https://shakasom.medium.com/?source=post_page-----b2e25c93b4dd--------------------------------", "anchor_text": "Abdishakur"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd4284ce02aec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-join-spatial-data-with-postgresql-postgis-b2e25c93b4dd&user=Abdishakur&userId=d4284ce02aec&source=post_page-d4284ce02aec----b2e25c93b4dd---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb2e25c93b4dd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-join-spatial-data-with-postgresql-postgis-b2e25c93b4dd&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb2e25c93b4dd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-join-spatial-data-with-postgresql-postgis-b2e25c93b4dd&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@maxlarochelle?utm_source=medium&utm_medium=referral", "anchor_text": "Max LaRochelle"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/spatial-data-science-with-postgresql-postgis-2f941c8c367a", "anchor_text": "Spatial Data Science with PostgreSQL/PostGISA practical guide to getting started with PostgreSQL and Python for Spatial Data.towardsdatascience.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----b2e25c93b4dd---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/sql?source=post_page-----b2e25c93b4dd---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/geospatial?source=post_page-----b2e25c93b4dd---------------geospatial-----------------", "anchor_text": "Geospatial"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----b2e25c93b4dd---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----b2e25c93b4dd---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb2e25c93b4dd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-join-spatial-data-with-postgresql-postgis-b2e25c93b4dd&user=Abdishakur&userId=d4284ce02aec&source=-----b2e25c93b4dd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb2e25c93b4dd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-join-spatial-data-with-postgresql-postgis-b2e25c93b4dd&user=Abdishakur&userId=d4284ce02aec&source=-----b2e25c93b4dd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb2e25c93b4dd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-join-spatial-data-with-postgresql-postgis-b2e25c93b4dd&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b2e25c93b4dd--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb2e25c93b4dd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-join-spatial-data-with-postgresql-postgis-b2e25c93b4dd&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b2e25c93b4dd---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b2e25c93b4dd--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b2e25c93b4dd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b2e25c93b4dd--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b2e25c93b4dd--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b2e25c93b4dd--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b2e25c93b4dd--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b2e25c93b4dd--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b2e25c93b4dd--------------------------------", "anchor_text": ""}, {"url": "https://shakasom.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://shakasom.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Abdishakur"}, {"url": "https://shakasom.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "5.4K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd4284ce02aec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-join-spatial-data-with-postgresql-postgis-b2e25c93b4dd&user=Abdishakur&userId=d4284ce02aec&source=post_page-d4284ce02aec--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F5da1115ce36e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-join-spatial-data-with-postgresql-postgis-b2e25c93b4dd&newsletterV3=d4284ce02aec&newsletterV3Id=5da1115ce36e&user=Abdishakur&userId=d4284ce02aec&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}