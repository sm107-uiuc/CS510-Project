{"url": "https://towardsdatascience.com/algorithmic-trading-with-macd-and-python-fef3d013e9f3", "time": 1683014002.858801, "path": "towardsdatascience.com/algorithmic-trading-with-macd-and-python-fef3d013e9f3/", "webpage": {"metadata": {"title": "Algorithmic Trading with MACD and Python | by Victor Sim | Towards Data Science", "h1": "Algorithmic Trading with MACD and Python", "description": "Machine Learning trading works just fine for large hedge funds that make thousands of trades per day. However, private traders just don\u2019t have the facilities to run machine learning models with\u2026"}, "outgoing_paragraph_urls": [{"url": "https://linktr.ee/victorsi", "anchor_text": "link", "paragraph_index": 19}, {"url": "https://linktr.ee/victorsi", "anchor_text": "https://linktr.ee/victorsi", "paragraph_index": 21}], "all_paragraphs": ["Machine Learning trading works just fine for large hedge funds that make thousands of trades per day. However, private traders just don\u2019t have the facilities to run machine learning models with millions of parameters on real time. This is why private algorithmic traders, use technical indicators to make automatic trades.", "The technical indicator I will use today is MACD, Moving Average Convergence Divergence, is a momentum indicator, that shows the relationship between two moving averages. The MACD is calculated by subtracting the 26-period EMA from the 12-period EMA.", "This MACD line is plotted on a signal line (9-period EMA). The intersections of these two lines are the signals of the MACD indicator. If the MACD indicator intersected into the signal line from below, it would be an uptrend. If the MACD indicator intersected from above the signal line, it would be a down-trend.", "To be efficient when programming, it is necessary to create a general idea of how the program is supposed to work, in-order to have a clear goal in mind. This program should be able to plot the MACD signal and the MACD line, and make trades based on signals from the MACD indicator. A good program should also be able to evaluate the profitability of a trading strategy, so as to optimize it.", "These are the libraries that I will use for the program. yfinance is used to download financial data of shares, talib is used to calculate the values of the MACD indicator. Matplotlib is used to plot the data, to better understand how the technical indicator.", "This script downloads the data, and then it calculates the macd values such as the signal and the histogram that defines the trend.", "This is the graph of the two lines of the MACD indicator and the signal line. This is just to troubleshoot the program to make sure the indicator is working. As we can see, the indicator is clearly working, as the two lines intersect frequently.", "The intersection function uses a reasonably unconventional way of finding intersections:", "This is the only way to calculate intersections, as the intersection could have happened in between the real points, making it impossible to find similar points within the two lists.", "We use this function to find the points of intersection and make a note of if the program would sell or buy the stock.", "To make a stock trading program good, we must evaluate the profitability of the program.", "This program calculates the profitability by calculating the true_trade, which stores the value of if the value went up or dropped. If the trade made matched the true_trade variable, the trade was profitable. If the trade did not match, the trade lost.", "I found this error and kept trying to mess with the patience value, that is how long after the intersection was made, the trade was made. All values were negative. When facing a problem like this, in which the polarity of the values are all wrong, one can easily change the polarity.", "In this case, this is because the intersection order is incorrect! When we made the intersections, we did the opposite insights from the strategy we described! For example, if the MACD line intersected from above, the program would mark this as a increase in price! This would make all the trades that were supposed to be profitable, to become a loss!", "By changing the intersection code to this:", "We gain a profit of 298 dollars!", "I wrote another article about RSI, and that program only made 58 dollars with the same data. This program made 298 dollars, buying one share for each trade. Here are a few ways you can improve my program:", "This variable is how long after the intersection,the trade will be made. Toy with this value, find a pattern, and optimize it to get better results.", "For which stock does this algorithm work best? Test this program on different companies to evaluate.", "If you want to see more of my content, click this link.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Interested in Machine Learning. Open to internships and opportunities. Connect at https://linktr.ee/victorsi."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ffef3d013e9f3&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falgorithmic-trading-with-macd-and-python-fef3d013e9f3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falgorithmic-trading-with-macd-and-python-fef3d013e9f3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falgorithmic-trading-with-macd-and-python-fef3d013e9f3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falgorithmic-trading-with-macd-and-python-fef3d013e9f3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----fef3d013e9f3--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fef3d013e9f3--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://victorsim14.medium.com/?source=post_page-----fef3d013e9f3--------------------------------", "anchor_text": ""}, {"url": "https://victorsim14.medium.com/?source=post_page-----fef3d013e9f3--------------------------------", "anchor_text": "Victor Sim"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffc395af42221&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falgorithmic-trading-with-macd-and-python-fef3d013e9f3&user=Victor+Sim&userId=fc395af42221&source=post_page-fc395af42221----fef3d013e9f3---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffef3d013e9f3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falgorithmic-trading-with-macd-and-python-fef3d013e9f3&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffef3d013e9f3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falgorithmic-trading-with-macd-and-python-fef3d013e9f3&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@danist07?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "\u8d1d\u8389\u513f DANIST"}, {"url": "https://unsplash.com/s/photos/architecture?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://linktr.ee/victorsi", "anchor_text": "link"}, {"url": "https://medium.com/tag/python?source=post_page-----fef3d013e9f3---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----fef3d013e9f3---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----fef3d013e9f3---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffef3d013e9f3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falgorithmic-trading-with-macd-and-python-fef3d013e9f3&user=Victor+Sim&userId=fc395af42221&source=-----fef3d013e9f3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffef3d013e9f3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falgorithmic-trading-with-macd-and-python-fef3d013e9f3&user=Victor+Sim&userId=fc395af42221&source=-----fef3d013e9f3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffef3d013e9f3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falgorithmic-trading-with-macd-and-python-fef3d013e9f3&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fef3d013e9f3--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ffef3d013e9f3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falgorithmic-trading-with-macd-and-python-fef3d013e9f3&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----fef3d013e9f3---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----fef3d013e9f3--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----fef3d013e9f3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----fef3d013e9f3--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----fef3d013e9f3--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----fef3d013e9f3--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----fef3d013e9f3--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----fef3d013e9f3--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----fef3d013e9f3--------------------------------", "anchor_text": ""}, {"url": "https://victorsim14.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://victorsim14.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Victor Sim"}, {"url": "https://victorsim14.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "952 Followers"}, {"url": "https://linktr.ee/victorsi", "anchor_text": "https://linktr.ee/victorsi"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffc395af42221&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falgorithmic-trading-with-macd-and-python-fef3d013e9f3&user=Victor+Sim&userId=fc395af42221&source=post_page-fc395af42221--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa08a1abceacb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Falgorithmic-trading-with-macd-and-python-fef3d013e9f3&newsletterV3=fc395af42221&newsletterV3Id=a08a1abceacb&user=Victor+Sim&userId=fc395af42221&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}