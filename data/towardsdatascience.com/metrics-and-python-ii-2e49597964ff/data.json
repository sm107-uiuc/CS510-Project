{"url": "https://towardsdatascience.com/metrics-and-python-ii-2e49597964ff", "time": 1683001791.34736, "path": "towardsdatascience.com/metrics-and-python-ii-2e49597964ff/", "webpage": {"metadata": {"title": "Metrics and Python II. In the previous article, we take a\u2026 | by Gabriel Naya | Towards Data Science", "h1": "Metrics and Python II", "description": "We make a dataset with three arrays: real values, predicted values, and likelihood values. real_values: A data set with 1000 elements between 0 and 1. pred_values: A variation of the real dataset\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Type_II_error", "anchor_text": "Type II error", "paragraph_index": 4}, {"url": "https://slack-redir.net/link?url=https%3A%2F%2Fmedium.com%2Fmercadolibre-datablog%2Fcost-sensitive-classification-in-fraud-prevention-263170d8fcfe&v=3", "anchor_text": "cost of the sensitivity", "paragraph_index": 6}, {"url": "https://en.wikipedia.org/wiki/Prevalence", "anchor_text": "prevalence", "paragraph_index": 8}, {"url": "https://en.wikipedia.org/wiki/Statistical_power", "anchor_text": "power", "paragraph_index": 16}, {"url": "https://machinelearningmastery.com/roc-curves-and-precision-recall-curves-for-classification-in-python/", "anchor_text": "an excellent and very complete article", "paragraph_index": 24}, {"url": "https://kreilabs.com/wp-content/uploads/2019/12/Metrics_table.pdf", "anchor_text": "download in pdf format", "paragraph_index": 32}, {"url": "https://en.wikipedia.org/wiki/Statistics", "anchor_text": "statistics", "paragraph_index": 34}, {"url": "https://en.wikipedia.org/wiki/Diagnostic_test", "anchor_text": "diagnostic tests", "paragraph_index": 34}, {"url": "https://en.wikipedia.org/wiki/True_positive", "anchor_text": "true positive", "paragraph_index": 34}, {"url": "https://en.wikipedia.org/wiki/True_negative", "anchor_text": "true negative", "paragraph_index": 34}, {"url": "https://en.wikipedia.org/wiki/Positive_and_negative_predictive_values#cite_note-1", "anchor_text": "[1]", "paragraph_index": 34}, {"url": "https://en.wikipedia.org/wiki/Prevalence", "anchor_text": "prevalence", "paragraph_index": 34}, {"url": "https://en.wikipedia.org/wiki/Positive_and_negative_predictive_values#cite_note-AltmanBland1994-2", "anchor_text": "[2]", "paragraph_index": 34}, {"url": "https://en.wikipedia.org/wiki/Bayes%27_theorem", "anchor_text": "Bayes\u2019 theorem", "paragraph_index": 34}, {"url": "https://en.wikipedia.org/wiki/Pre-_and_post-test_probability", "anchor_text": "post-test probability", "paragraph_index": 34}, {"url": "https://en.wikipedia.org/wiki/Pre-test_probability", "anchor_text": "pre-test probability", "paragraph_index": 34}, {"url": "https://gnaya73.glitch.me/", "anchor_text": "https://gnaya73.glitch.me/", "paragraph_index": 36}], "all_paragraphs": ["We make a dataset with three arrays: real values, predicted values, and likelihood values.real_values: A data set with 1000 elements between 0 and 1.pred_values: A variation of the real dataset, emulates a prediction, changing only the first 150 values.prob_values: Is the pred_values array but contains the percent of probability of being zero or one, instead of the real value 0 or 1. It will be used for ROC charts and Recall versus Precision.", "The Confusion Matrix is not a metric in itself but is an essential tool for classifying real data and predictions, so its components are the trigger for the first set of metrics.", "Here we can see pyhton implementation for table metrics in matrix_metrix routine:", "FP = False positive \u2014 Equivalent with false alarm or Type I error\u00b9", "FN = False negative \u2014 Equivalent with miss or Type II error \u00b2", "Prevalence: Serves to measure the balance of data within the total population. It is possible to measure the prevalence of positives or negatives and the sum of both quotients is = 1, a balanced data set would give coefficients close to 0.5If, on the contrary, one of the factors is close to 1 and the other to 0, we are going to have an unbalanced data set.", "Accuracy: It is the measure of success of the system, the total of positive and negative achievements over the total population, indicates the degree of success of the model. According to the cost of the sensitivity\u00b3 of the case study, and the balance of the data (prevalence).", "PPV \u2014 Positive predictive value o precisi\u00f3n", "The PPV and NPV describe the performance of a diagnostic test or other statistical measure. A high result can be interpreted as indicating the accuracy of such a statistic. The PPV and NPV are not intrinsic to the test; they depend also on the prevalence. \u2074", "FDR \u2014 False Discovery rate (Type I) [iv]", "Recall, sensitivity, probability of detection, and power are the same measure, which assumes different names and applications depending on the field of study.In the literature referring to binary classification problems, the use of the term recall is more frequent.", "\u201cSensitivity and specificity are statistical measures of the performance of a binary classification test, also known in statistics as a classification function, that are widely used in medicine:", "\u00b7 Sensitivity measures the proportion of actual positives that are correctly identified as such.", "\u00b7 Specificity (also called the true negative rate) measures the proportion of actual negatives that are correctly identified as such (e.g., the percentage of healthy people who are correctly identified as not having the condition).\u2075", "FPR \u2014 false positive ratio (or false alarm ratio) is the probability of falsely rejecting the null hypothesis for a particular test.", "FNR \u2014 false negative rate is the proportion of positives which yield negative test outcomes with the test, i.e., the conditional probability of a negative test result given that the condition being looked for is present.", "In statistical hypothesis testing, this fraction is given the letter \u03b2. The \u201cpower\u201d (or the \u201csensitivity\u201d) of the test is equal to 1\u2212\u03b2.", "Not to be confused with Likelihood-ratio test.", "LR (+ -) Likelihood ratios: They are used for assessing the value of performing a diagnostic test. \u2076", "DOR \u2014 diagnostic odds ratio is a measure of the effectiveness of a diagnostic test \u2077", "From the matrix_metrix function used for Table 1, we also got the values for this Table 2:", "In statistical analysis of binary classification, the F1 score (also F-score or F-measure) is a measure of a test\u2019s accuracy. It considers both the precision p and the recall r of the test to compute the score: p is the number of correct positive results divided by the number of all positive results returned by the classifier, and r is the number of correct positive results divided by the number of all relevant samples (all samples that should have been identified as positive). The F1 score is the harmonic mean of the precision and recall, where an F1 score reaches its best value at 1 (perfect precision and recall) and worst at 0.\u2078", "Beta is a parameter for score analysis, if we use Beta equal to 1, we have the harmonic mean; then we have the F1 score:", "We could take some Rules of Thumb:", "We can find an excellent and very complete article regarding the concepts and implementation of these instruments.", "It is a plot of the false positive rate (x-axis) versus the true positive rate (y-axis) for a number of different candidate threshold values between 0.0 and 1.0. Put another way, it plots the false alarm rate versus the hit rate.", "A precision-recall curve is a plot of the precision (y-axis) and the recall (x-axis) for different thresholds, much like the ROC curve. A no-skill classifier is one that cannot discriminate between the classes and would predict a random class or a constant class in all cases. The no-skill line changes based on the distribution of the positive to negative classes. It is a horizontal line with the value of the ratio of positive cases in the dataset. For a balanced dataset, this is 0.5.", "The area under the curve (AUC) can be used as a summary of the model skill.", "We based on the mentioned article for the following code", "Here a simple and fast report about binary classification values", "And here a function for get many metrics directly from sklearn:", "The number of metrics arising from the confusion matrix is quite large and may be challenging to cover to refine the use of each indicator according to the use case. The most common metrics may be F1-Score, ROC, precision-recall AUC, prevalence, and sensitivity.", "This series of articles intended to create a table in which to quickly have a guide of the majority of metrics used for each case study; mastering their application exceeds our scope and also seems to be quite difficult.Remember that the table can be download in pdf format.", "In the next article, we will see more classification metrics and specific metrics for recommendation systems in table 2.3", "[4] The positive and negative predictive values (PPV and NPV respectively) are the proportions of positive and negative results in statistics and diagnostic tests that are true positive and true negative results, respectively.[1] \u201cThe PPV and NPV describe the performance of a diagnostic test or other statistical measure. A high result can be interpreted as indicating the accuracy of such a statistic. The PPV and NPV are not intrinsic to the test; they depend also on the prevalence.[2] The PPV can be derived using Bayes\u2019 theorem. Although sometimes used synonymously, a positive predictive value generally refers to what is established by control groups, while a post-test probability refers to a probability for an individual. Still, if the individual\u2019s pre-test probability of the target condition is the same as the prevalence in the control group used to establish the positive predictive value, the two are numerically equal.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Machine learning enthusiast and research at Kreilabs Uruguay. My profile: https://gnaya73.glitch.me/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F2e49597964ff&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmetrics-and-python-ii-2e49597964ff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmetrics-and-python-ii-2e49597964ff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmetrics-and-python-ii-2e49597964ff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmetrics-and-python-ii-2e49597964ff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----2e49597964ff--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2e49597964ff--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://gabriel-naya73.medium.com/?source=post_page-----2e49597964ff--------------------------------", "anchor_text": ""}, {"url": "https://gabriel-naya73.medium.com/?source=post_page-----2e49597964ff--------------------------------", "anchor_text": "Gabriel Naya"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4213edda07c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmetrics-and-python-ii-2e49597964ff&user=Gabriel+Naya&userId=4213edda07c&source=post_page-4213edda07c----2e49597964ff---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2e49597964ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmetrics-and-python-ii-2e49597964ff&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2e49597964ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmetrics-and-python-ii-2e49597964ff&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/metrics-and-python-850b60710e0c", "anchor_text": "previous article"}, {"url": "https://unsplash.com/@amutiomi?utm_source=medium&utm_medium=referral", "anchor_text": "Miguel A. Amutio"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://kreilabs.com/wp-content/uploads/2019/12/Metrics_table.pdf", "anchor_text": "https://kreilabs.com/wp-content/uploads/2019/12/Metrics_table.pdf"}, {"url": "https://kreilabs.com/wp-content/uploads/2019/12/Metrics_table.pdf", "anchor_text": "https://kreilabs.com/wp-content/uploads/2019/12/Metrics_table.pdf"}, {"url": "https://en.wikipedia.org/wiki/Confusion_matrix", "anchor_text": "https://en.wikipedia.org/wiki/Confusion_matrix"}, {"url": "https://en.wikipedia.org/wiki/Type_II_error", "anchor_text": "Type II error"}, {"url": "https://en.wikipedia.org/wiki/Confusion_matrix", "anchor_text": "https://en.wikipedia.org/wiki/Confusion_matrix"}, {"url": "https://slack-redir.net/link?url=https%3A%2F%2Fmedium.com%2Fmercadolibre-datablog%2Fcost-sensitive-classification-in-fraud-prevention-263170d8fcfe&v=3", "anchor_text": "cost of the sensitivity"}, {"url": "https://en.wikipedia.org/wiki/Confusion_matrix", "anchor_text": "https://en.wikipedia.org/wiki/Confusion_matrix"}, {"url": "https://en.wikipedia.org/wiki/Prevalence", "anchor_text": "prevalence"}, {"url": "https://en.wikipedia.org/wiki/Confusion_matrix", "anchor_text": "https://en.wikipedia.org/wiki/Confusion_matrix"}, {"url": "https://en.wikipedia.org/wiki/Statistical_power", "anchor_text": "power"}, {"url": "https://en.wikipedia.org/wiki/Confusion_matrix", "anchor_text": "https://en.wikipedia.org/wiki/Confusion_matrix"}, {"url": "https://kreilabs.com/wp-content/uploads/2019/12/Metrics_table.pdf", "anchor_text": "https://kreilabs.com/wp-content/uploads/2019/12/Metrics_table.pdf"}, {"url": "https://machinelearningmastery.com/roc-curves-and-precision-recall-curves-for-classification-in-python/", "anchor_text": "an excellent and very complete article"}, {"url": "https://kreilabs.com/wp-content/uploads/2019/12/Metrics_table.pdf", "anchor_text": "download in pdf format"}, {"url": "https://en.wikipedia.org/wiki/Sensitivity_and_specificity", "anchor_text": "https://en.wikipedia.org/wiki/Confusion_matrix"}, {"url": "https://medium.com/mercadolibre-datablog/cost-sensitive-classification-in-fraud-prevention-263170d8fcfe", "anchor_text": "https://medium.com/mercadolibre-datablog/cost-sensitive-classification-in-fraud-prevention-263170d8fcfe"}, {"url": "https://en.wikipedia.org/wiki/Statistics", "anchor_text": "statistics"}, {"url": "https://en.wikipedia.org/wiki/Diagnostic_test", "anchor_text": "diagnostic tests"}, {"url": "https://en.wikipedia.org/wiki/True_positive", "anchor_text": "true positive"}, {"url": "https://en.wikipedia.org/wiki/True_negative", "anchor_text": "true negative"}, {"url": "https://en.wikipedia.org/wiki/Positive_and_negative_predictive_values#cite_note-1", "anchor_text": "[1]"}, {"url": "https://en.wikipedia.org/wiki/Prevalence", "anchor_text": "prevalence"}, {"url": "https://en.wikipedia.org/wiki/Positive_and_negative_predictive_values#cite_note-AltmanBland1994-2", "anchor_text": "[2]"}, {"url": "https://en.wikipedia.org/wiki/Bayes%27_theorem", "anchor_text": "Bayes\u2019 theorem"}, {"url": "https://en.wikipedia.org/wiki/Pre-_and_post-test_probability", "anchor_text": "post-test probability"}, {"url": "https://en.wikipedia.org/wiki/Pre-test_probability", "anchor_text": "pre-test probability"}, {"url": "https://en.wikipedia.org/wiki/Positive_and_negative_predictive_values", "anchor_text": "https://en.wikipedia.org/wiki/Positive_and_negative_predictive_values"}, {"url": "https://en.wikipedia.org/wiki/Sensitivity_and_specificity", "anchor_text": "https://en.wikipedia.org/wiki/Sensitivity_and_specificity"}, {"url": "https://en.wikipedia.org/wiki/Likelihood_ratios_in_diagnostic_testing#positive_likelihood_ratio", "anchor_text": "https://en.wikipedia.org/wiki/Likelihood_ratios_in_diagnostic_testing#positive_likelihood_ratio"}, {"url": "https://en.wikipedia.org/wiki/Diagnostic_odds_ratio", "anchor_text": "https://en.wikipedia.org/wiki/Diagnostic_odds_ratio"}, {"url": "https://en.wikipedia.org/wiki/F1_score", "anchor_text": "https://en.wikipedia.org/wiki/F1_score"}, {"url": "http://www.marcelonet.com/snippets/machine-learning/evaluation-metrix/f-beta-score", "anchor_text": "http://www.marcelonet.com/snippets/machine-learning/evaluation-metrix/f-beta-score"}, {"url": "https://machinelearningmastery.com/roc-curves-and-precision-recall-curves-for-classification-in-python/", "anchor_text": "https://machinelearningmastery.com/roc-curves-and-precision-recall-curves-for-classification-in-python/"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----2e49597964ff---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/metrics?source=post_page-----2e49597964ff---------------metrics-----------------", "anchor_text": "Metrics"}, {"url": "https://medium.com/tag/programming?source=post_page-----2e49597964ff---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/python?source=post_page-----2e49597964ff---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/classification?source=post_page-----2e49597964ff---------------classification-----------------", "anchor_text": "Classification"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2e49597964ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmetrics-and-python-ii-2e49597964ff&user=Gabriel+Naya&userId=4213edda07c&source=-----2e49597964ff---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2e49597964ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmetrics-and-python-ii-2e49597964ff&user=Gabriel+Naya&userId=4213edda07c&source=-----2e49597964ff---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2e49597964ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmetrics-and-python-ii-2e49597964ff&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2e49597964ff--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F2e49597964ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmetrics-and-python-ii-2e49597964ff&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----2e49597964ff---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----2e49597964ff--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----2e49597964ff--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----2e49597964ff--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----2e49597964ff--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----2e49597964ff--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----2e49597964ff--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----2e49597964ff--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----2e49597964ff--------------------------------", "anchor_text": ""}, {"url": "https://gabriel-naya73.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://gabriel-naya73.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Gabriel Naya"}, {"url": "https://gabriel-naya73.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "78 Followers"}, {"url": "https://gnaya73.glitch.me/", "anchor_text": "https://gnaya73.glitch.me/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4213edda07c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmetrics-and-python-ii-2e49597964ff&user=Gabriel+Naya&userId=4213edda07c&source=post_page-4213edda07c--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F4213edda07c%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmetrics-and-python-ii-2e49597964ff&user=Gabriel+Naya&userId=4213edda07c&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}