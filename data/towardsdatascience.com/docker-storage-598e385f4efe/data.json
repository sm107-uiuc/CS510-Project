{"url": "https://towardsdatascience.com/docker-storage-598e385f4efe", "time": 1683010760.262896, "path": "towardsdatascience.com/docker-storage-598e385f4efe/", "webpage": {"metadata": {"title": "Docker Storage. In this section, we will discuss how\u2026 | by Sumeet Gyanchandani | Towards Data Science", "h1": "Docker Storage", "description": "In this section, we will discuss how docker stores data on the local file system, understand which layers are writable and would deepen our knowledge of persistent storage for containers. On a linux\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/@gyani91/docker-compose-44a8112c850a", "anchor_text": "next section", "paragraph_index": 8}, {"url": "https://kodekloud.com/p/docker-for-the-absolute-beginner-hands-on", "anchor_text": "Docker for the Absolute Beginners", "paragraph_index": 9}], "all_paragraphs": ["In this section, we will discuss how docker stores data on the local file system, understand which layers are writable and would deepen our knowledge of persistent storage for containers.", "On a linux system, docker stores data pertaining to images, containers, volumes, etc under /var/lib/docker.", "When we run the docker build command, docker builds one layer for each instruction in the dockerfile. These image layers are read-only layers. When we run the docker run command, docker builds container layer(s), which are read-write layers.", "You can create new files on the container, for instance, temp.txt in the image below. You can also modify a file that belongs to the image layers on the container, for instance, app.py in the image below. When you do this, a local copy of that file is created on the container layer and the changes only live on the container \u2014 this is called the Copy-on-Write mechanism. This is important as several containers and child images use the same image layers. The life of the files on the container is as long as the container is alive. When the container is destroyed, the files/modifications on it are also destroyed. To persist the data, we can use volume mapping techniques that we saw in the previous section.", "You can create a docker volume by using the docker volume create command. This command will create a volume in the /var/lib/docker/volumes directory.", "Now when you run the docker run command, you can specify which volume to use using the -v flag. This is called Volume Mounting.", "If the volume does not exist, docker creates one for you. Now, even if the container is destroyed the data will persist in the volume.", "If you want to have your data on a specific location on the docker host or already have existing data on the disk, you can mount this location on the container as well. This is called Bind Mounting.", "In the next section, we will learn about Docker Compose, its file, and its commands.", "[1] Mumshad Mannambeth, Docker for the Absolute Beginners (2020), KodeKloud.com", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Associate Director at UBS | Former Machine Learning Engineer at Apple, Microsoft Research, Nomoko, Credit Suisse | Master of Science in Artificial Intelligence"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F598e385f4efe&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-storage-598e385f4efe&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-storage-598e385f4efe&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-storage-598e385f4efe&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-storage-598e385f4efe&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----598e385f4efe--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----598e385f4efe--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@gyani91?source=post_page-----598e385f4efe--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@gyani91?source=post_page-----598e385f4efe--------------------------------", "anchor_text": "Sumeet Gyanchandani"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5bea8130eb19&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-storage-598e385f4efe&user=Sumeet+Gyanchandani&userId=5bea8130eb19&source=post_page-5bea8130eb19----598e385f4efe---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F598e385f4efe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-storage-598e385f4efe&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F598e385f4efe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-storage-598e385f4efe&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/a-concise-guide-to-docker-f6b6d5fb56f4", "anchor_text": "Introduction"}, {"url": "https://medium.com/@gyani91/docker-file-179b5e3d9171", "anchor_text": "Docker File"}, {"url": "https://medium.com/@gyani91/docker-commands-bbf02780b785", "anchor_text": "Basic Docker Commands"}, {"url": "https://medium.com/@gyani91/port-and-volume-mapping-c8bb09221f82", "anchor_text": "Port and Volume Mapping"}, {"url": "https://medium.com/@gyani91/docker-networking-919461b7f498", "anchor_text": "Docker Networking"}, {"url": "https://medium.com/@gyani91/docker-compose-44a8112c850a", "anchor_text": "Docker Compose"}, {"url": "https://medium.com/@gyani91/deleting-docker-entities-2f90e4a0a765", "anchor_text": "Deleting Docker Entities"}, {"url": "https://medium.com/@gyani91/docker-compose-44a8112c850a", "anchor_text": "next section"}, {"url": "https://kodekloud.com/p/docker-for-the-absolute-beginner-hands-on", "anchor_text": "Docker for the Absolute Beginners"}, {"url": "https://medium.com/tag/docker?source=post_page-----598e385f4efe---------------docker-----------------", "anchor_text": "Docker"}, {"url": "https://medium.com/tag/docker-storage?source=post_page-----598e385f4efe---------------docker_storage-----------------", "anchor_text": "Docker Storage"}, {"url": "https://medium.com/tag/system-design?source=post_page-----598e385f4efe---------------system_design-----------------", "anchor_text": "System Design"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F598e385f4efe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-storage-598e385f4efe&user=Sumeet+Gyanchandani&userId=5bea8130eb19&source=-----598e385f4efe---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F598e385f4efe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-storage-598e385f4efe&user=Sumeet+Gyanchandani&userId=5bea8130eb19&source=-----598e385f4efe---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F598e385f4efe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-storage-598e385f4efe&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----598e385f4efe--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F598e385f4efe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-storage-598e385f4efe&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----598e385f4efe---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----598e385f4efe--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----598e385f4efe--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----598e385f4efe--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----598e385f4efe--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----598e385f4efe--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----598e385f4efe--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----598e385f4efe--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----598e385f4efe--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@gyani91?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@gyani91?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sumeet Gyanchandani"}, {"url": "https://medium.com/@gyani91/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "102 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5bea8130eb19&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-storage-598e385f4efe&user=Sumeet+Gyanchandani&userId=5bea8130eb19&source=post_page-5bea8130eb19--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F39b4f0292d99&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-storage-598e385f4efe&newsletterV3=5bea8130eb19&newsletterV3Id=39b4f0292d99&user=Sumeet+Gyanchandani&userId=5bea8130eb19&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}