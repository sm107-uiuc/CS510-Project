{"url": "https://towardsdatascience.com/turning-a-raspberry-pi-3b-into-an-object-recognition-server-with-intel-movidius-ncs2-8dcfebebb2d6", "time": 1682996299.002193, "path": "towardsdatascience.com/turning-a-raspberry-pi-3b-into-an-object-recognition-server-with-intel-movidius-ncs2-8dcfebebb2d6/", "webpage": {"metadata": {"title": "Turning a Raspberry Pi 3B+ into a powerful object recognition edge server with Intel Movidius NCS2 | by Alexey Gy\u00f6ri | Towards Data Science", "h1": "Turning a Raspberry Pi 3B+ into a powerful object recognition edge server with Intel Movidius NCS2", "description": "In this part, we are going to use a readily compiled neural network in the Intel Neural Compute stick in order for it to be able to receive Base64 encoded images and turn them into bounding-box\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/speed-up-predictions-on-low-power-devices-using-neural-compute-stick-and-openvino-98f3ae9dcf41", "anchor_text": "rite-up on how to deploy and test models by Mattio Varile", "paragraph_index": 0}, {"url": "https://www.raspberrypi.org/downloads/", "anchor_text": "https://www.raspberrypi.org/downloads/", "paragraph_index": 1}, {"url": "https://github.com/AlexeyGy/NCS2-server", "anchor_text": "https://github.com/AlexeyGy/NCS2-server", "paragraph_index": 6}, {"url": "https://software.intel.com/en-us/openvino-toolkit", "anchor_text": "here", "paragraph_index": 11}, {"url": "http://192.168.0.2:5000/", "anchor_text": "http://192.168.0.2:5000/", "paragraph_index": 22}, {"url": "https://cloud.google.com/edge-tpu/", "anchor_text": "Google have also entered the race", "paragraph_index": 29}], "all_paragraphs": ["In this part, we are going to use a readily compiled neural network in the Intel Neural Compute stick in order for it to be able to receive Base64 encoded images and turn them into bounding-box predictions. Additionally, an example for a front-end that sends camera input to the PI will be provided. Please make sure to also check out the amazing write-up on how to deploy and test models by Mattio Varile.", "Flash the NOOBS image on a FAT32 formatted micro SD card. https://www.raspberrypi.org/downloads/", "Boot up the USB image normally, set an account password, connect to the internet, etc\u2026", "Make sure to also install python3 and pip3 and wget", "I recommend to follow the following guide up until (not including) the section \u201cBuild and Run Object Detection Samples\u201d.", "After doing everything successfully, you should see the following output when you open up a new terminal:", "We are going to use a flask server which receives encoded images for prediction. You can find all of the code in the following github repository https://github.com/AlexeyGy/NCS2-server", "a) Firstly create a new folder named detection_server in your home folder.", "b) create a requirements.txt file with the following content. This file contains the packages that are needed.", "c) set up the server start script, create a file named RUN.SH", "d) Download a pre-trained MobileNet-SSD architecture intermediate representation files which can differentiate between screws and rawl pegs. Stay tuned for the second part of this tutorial where we will cover training.", "You can see that the architecture contains three files, a labelmap that contains possible labels, a .bin file that contains the frozen network weights and a .xml file that contains the net topology. More info on this can be found here.", "e) now let\u2019s create the actual server, create the file server.py with the following content. More details on the individual functionalities will be provided below.", "f) finally, let\u2019s create and look at the util_mobilnet.py file", "To minimize resource usage on the raspberry PI, we want to set-up a client server application where a flask server receives pictures and returns the bounding-box predictions.", "I found out the best way to autostart flask is to a) add the flask start up to the .bashrc file in the pi home folder and b) to set the system to autostart to cli with autologin.", "a) As for adding the lines to the .bashrc file, make sure to set the \u201cDownloads\u201d folder to the folder where you have downloaded your OpenVINO toolkit", "b) run the following line in a terminal", "you will see the following screens where you should select the options 3 Boot options / 1 Desktop CLI / 2 Console Autologin", "now, after starting, you will see that the Raspberry will start the flask server automatically on port 5000, congratulations!", "The following steps should be executed on another machine but they can be done on the Raspberry as well if you chose to run the GUI on it (will lead to lower performance).", "simply run the RUN.SH file to get a simple python server running. You can access it via localhost:8000, you may have to give it access to your camera before you see any images though.", "The server will post webcam pictures to the address http://192.168.0.2:5000/, if you are on another machine than your raspberry, make sure to customize that to the address of your raspberry.", "I will do another post on how the JavaScript frontend ensures that the bounding boxes drawing is only refreshed when it receives a new response from our raspberry server.", "The given sample GUI was from a pilot demonstrator at FIR which we used to demonstrate possible use-cases for a smart contract plattform. More on that in a later post.", "You can debug the set-up via your browser\u2019s JavaScript console.", "Here is a gif of the whole system of front- and backend running together:", "Example detection of screws and rawl plugs", "The running system is able to deliver 60fps video with about 8 fps on detections if ran on two machines. The user experience is not impacted as the predictions are displayed in an async way by the JavaScript frontend .I have found it actually to be true that too many detection fps lead to a worse user experience as the detections are updated too quickly!", "With the onset of edge computing, as other competitors like Google have also entered the race we are up for some exciting future use-cases for neural compute sticks.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Software Engineer at Google in AMS. Previously at Uber, Spotify and in research at FIR@RWTH Aachen. Opinions are my own."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8dcfebebb2d6&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fturning-a-raspberry-pi-3b-into-an-object-recognition-server-with-intel-movidius-ncs2-8dcfebebb2d6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fturning-a-raspberry-pi-3b-into-an-object-recognition-server-with-intel-movidius-ncs2-8dcfebebb2d6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fturning-a-raspberry-pi-3b-into-an-object-recognition-server-with-intel-movidius-ncs2-8dcfebebb2d6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fturning-a-raspberry-pi-3b-into-an-object-recognition-server-with-intel-movidius-ncs2-8dcfebebb2d6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8dcfebebb2d6--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8dcfebebb2d6--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://alexey-gy.medium.com/?source=post_page-----8dcfebebb2d6--------------------------------", "anchor_text": ""}, {"url": "https://alexey-gy.medium.com/?source=post_page-----8dcfebebb2d6--------------------------------", "anchor_text": "Alexey Gy\u00f6ri"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fffd6c680e2a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fturning-a-raspberry-pi-3b-into-an-object-recognition-server-with-intel-movidius-ncs2-8dcfebebb2d6&user=Alexey+Gy%C3%B6ri&userId=ffd6c680e2a9&source=post_page-ffd6c680e2a9----8dcfebebb2d6---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8dcfebebb2d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fturning-a-raspberry-pi-3b-into-an-object-recognition-server-with-intel-movidius-ncs2-8dcfebebb2d6&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8dcfebebb2d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fturning-a-raspberry-pi-3b-into-an-object-recognition-server-with-intel-movidius-ncs2-8dcfebebb2d6&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/chuanqi305/MobileNet-SSD", "anchor_text": "MobileNet-SSD"}, {"url": "https://software.intel.com/en-us/openvino-toolkit", "anchor_text": "Intel OpenVINO"}, {"url": "https://towardsdatascience.com/speed-up-predictions-on-low-power-devices-using-neural-compute-stick-and-openvino-98f3ae9dcf41", "anchor_text": "rite-up on how to deploy and test models by Mattio Varile"}, {"url": "https://drive.google.com/file/d/17yTw1YnhjOJh_EjIYLqGVYuYjnB8pKyl/view?usp=sharing", "anchor_text": "https://drive.google.com/file/d/17yTw1YnhjOJh_EjIYLqGVYuYjnB8pKyl/view?usp=sharing"}, {"url": "https://medium.com/p/8dcfebebb2d6#2e40", "anchor_text": "0. Requirements"}, {"url": "https://medium.com/p/8dcfebebb2d6#e6df", "anchor_text": "1. Preparing the Raspberry PI"}, {"url": "https://medium.com/p/8dcfebebb2d6#a219", "anchor_text": "1.1. Install the NOOBS image"}, {"url": "https://medium.com/p/8dcfebebb2d6#73a4", "anchor_text": "1.2. Install the latest Intel OpenVINO software"}, {"url": "https://medium.com/p/8dcfebebb2d6#ea8f", "anchor_text": "1.3. Deploying object detection on the neural compute stick"}, {"url": "https://medium.com/p/8dcfebebb2d6#071e", "anchor_text": "3. Running the server and setting up auto-start on boot"}, {"url": "https://medium.com/p/8dcfebebb2d6#05ea", "anchor_text": "4. Using a sample GUI to deploy our server"}, {"url": "https://medium.com/p/8dcfebebb2d6#4ad3", "anchor_text": "5. Conclusions and outlook"}, {"url": "https://www.raspberrypi.org/products", "anchor_text": "https://www.raspberrypi.org/products"}, {"url": "https://software.intel.com/en-us/neural-compute-stick", "anchor_text": "https://software.intel.com/en-us/neural-compute-stick"}, {"url": "https://www.raspberrypi.org/downloads/", "anchor_text": "https://www.raspberrypi.org/downloads/"}, {"url": "https://download.01.org/opencv/2019/openvinotoolkit/l_openvino_toolkit_raspbi_p_2019.1.094.tgz", "anchor_text": "https://download.01.org/opencv/2019/openvinotoolkit/l_openvino_toolkit_raspbi_p_2019.1.094.tgz"}, {"url": "https://docs.openvinotoolkit.org/latest/_docs_install_guides_installing_openvino_raspbian.html", "anchor_text": "Install OpenVINO\u2122 toolkit for Raspbian* OS \u2014 OpenVINO ToolkitThe OpenVINO\u2122 toolkit was formerly known as the Intel\u00ae Computer Vision SDK. These steps apply to 32-bit Raspbian* 9 OS\u2026docs.openvinotoolkit.org"}, {"url": "https://github.com/AlexeyGy/NCS2-server", "anchor_text": "https://github.com/AlexeyGy/NCS2-server"}, {"url": "https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS", "anchor_text": "here"}, {"url": "https://github.com/AlexeyGy/NCS2-server/raw/master/models/no_bn.bin", "anchor_text": "https://github.com/AlexeyGy/NCS2-server/raw/master/models/no_bn.bin"}, {"url": "https://github.com/AlexeyGy/NCS2-server/raw/master/models/labelmap.prototxt", "anchor_text": "https://github.com/AlexeyGy/NCS2-server/raw/master/models/labelmap.prototxt"}, {"url": "https://raw.githubusercontent.com/AlexeyGy/NCS2-server/master/models/no_bn.xml", "anchor_text": "https://raw.githubusercontent.com/AlexeyGy/NCS2-server/master/models/no_bn.xml"}, {"url": "https://software.intel.com/en-us/openvino-toolkit", "anchor_text": "here"}, {"url": "https://software.intel.com/sites/default/files/managed/ed/e9/inference-engine-700w-300h.png", "anchor_text": "https://software.intel.com/sites/default/files/managed/ed/e9/inference-engine-700w-300h.png"}, {"url": "https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS", "anchor_text": "here"}, {"url": "https://github.com/AlexeyGy/NCS2-frontend", "anchor_text": "https://github.com/AlexeyGy/NCS2-frontend"}, {"url": "https://github.com/AlexeyGy/NCS2-frontend", "anchor_text": "https://github.com/AlexeyGy/NCS2-frontend"}, {"url": "http://192.168.0.2:5000/", "anchor_text": "http://192.168.0.2:5000/"}, {"url": "https://cloud.google.com/edge-tpu/", "anchor_text": "Google have also entered the race"}, {"url": "https://towardsdatascience.com/speed-up-predictions-on-low-power-devices-using-neural-compute-stick-and-openvino-98f3ae9dcf41", "anchor_text": "Write-up on how to deploy and test models by Mattio Varile"}, {"url": "https://software.intel.com/en-us/articles/get-started-with-neural-compute-stick", "anchor_text": "Intel Neural compute stick official tutorial"}, {"url": "https://www.pyimagesearch.com/2019/04/08/openvino-opencv-and-movidius-ncs-on-the-raspberry-pi/", "anchor_text": "More information on Movidius on Raspberry inc. performance measurements"}, {"url": "https://www.pyimagesearch.com/author/adrian/", "anchor_text": "Adrian Rosebrock"}, {"url": "https://medium.com/tag/raspberry-pi?source=post_page-----8dcfebebb2d6---------------raspberry_pi-----------------", "anchor_text": "Raspberry Pi"}, {"url": "https://medium.com/tag/openvino?source=post_page-----8dcfebebb2d6---------------openvino-----------------", "anchor_text": "Openvino"}, {"url": "https://medium.com/tag/computer-vision?source=post_page-----8dcfebebb2d6---------------computer_vision-----------------", "anchor_text": "Computer Vision"}, {"url": "https://medium.com/tag/edge-computing?source=post_page-----8dcfebebb2d6---------------edge_computing-----------------", "anchor_text": "Edge Computing"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----8dcfebebb2d6---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8dcfebebb2d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fturning-a-raspberry-pi-3b-into-an-object-recognition-server-with-intel-movidius-ncs2-8dcfebebb2d6&user=Alexey+Gy%C3%B6ri&userId=ffd6c680e2a9&source=-----8dcfebebb2d6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8dcfebebb2d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fturning-a-raspberry-pi-3b-into-an-object-recognition-server-with-intel-movidius-ncs2-8dcfebebb2d6&user=Alexey+Gy%C3%B6ri&userId=ffd6c680e2a9&source=-----8dcfebebb2d6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8dcfebebb2d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fturning-a-raspberry-pi-3b-into-an-object-recognition-server-with-intel-movidius-ncs2-8dcfebebb2d6&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8dcfebebb2d6--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8dcfebebb2d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fturning-a-raspberry-pi-3b-into-an-object-recognition-server-with-intel-movidius-ncs2-8dcfebebb2d6&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8dcfebebb2d6---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8dcfebebb2d6--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8dcfebebb2d6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8dcfebebb2d6--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8dcfebebb2d6--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8dcfebebb2d6--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8dcfebebb2d6--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8dcfebebb2d6--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8dcfebebb2d6--------------------------------", "anchor_text": ""}, {"url": "https://alexey-gy.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://alexey-gy.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Alexey Gy\u00f6ri"}, {"url": "https://alexey-gy.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "82 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fffd6c680e2a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fturning-a-raspberry-pi-3b-into-an-object-recognition-server-with-intel-movidius-ncs2-8dcfebebb2d6&user=Alexey+Gy%C3%B6ri&userId=ffd6c680e2a9&source=post_page-ffd6c680e2a9--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8f785df00664&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fturning-a-raspberry-pi-3b-into-an-object-recognition-server-with-intel-movidius-ncs2-8dcfebebb2d6&newsletterV3=ffd6c680e2a9&newsletterV3Id=8f785df00664&user=Alexey+Gy%C3%B6ri&userId=ffd6c680e2a9&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}