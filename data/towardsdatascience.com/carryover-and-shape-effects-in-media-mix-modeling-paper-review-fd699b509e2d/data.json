{"url": "https://towardsdatascience.com/carryover-and-shape-effects-in-media-mix-modeling-paper-review-fd699b509e2d", "time": 1683013963.919178, "path": "towardsdatascience.com/carryover-and-shape-effects-in-media-mix-modeling-paper-review-fd699b509e2d/", "webpage": {"metadata": {"title": "Carryover and Shape Effects in Media Mix Modeling: Paper Review | by Chris Barton | Towards Data Science", "h1": "Carryover and Shape Effects in Media Mix Modeling: Paper Review", "description": "To begin, media mix models (MMM) aim to uncover the causal effect of paid media on a metric of interest, typically sales. Historically, the problem has largely been modeled via linear regression and\u2026"}, "outgoing_paragraph_urls": [{"url": "https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/46001.pdf", "anchor_text": "link", "paragraph_index": 0}, {"url": "https://storage.googleapis.com/pub-tools-public-publication-data/pdf/2d0395bc7d4d13ddedef54d744ba7748e8ba8dd1.pdf", "anchor_text": "Challenges And Opportunities In Media Mix Modeling", "paragraph_index": 3}, {"url": "https://en.wikipedia.org/wiki/Advertising_adstock", "anchor_text": "adstock modeling", "paragraph_index": 6}, {"url": "https://en.wikipedia.org/wiki/Hill_equation_(biochemistry)", "anchor_text": "Hill function", "paragraph_index": 9}], "all_paragraphs": ["The full paper can be found here: link", "To begin, media mix models (MMM) aim to uncover the causal effect of paid media on a metric of interest, typically sales. Historically, the problem has largely been modeled via linear regression and the causal impact has been derived using Rubin\u2019s potential outcomes framework.", "In simple (data science) terms, this translates to", "Estimating casual impact from observational data has a number of issues i.e. \u201ccorrelation doesn\u2019t equal causation\u201d for starters. And media mix models have a host of unique issues to take note of. An excellent review of these issues can be found here: Challenges And Opportunities In Media Mix Modeling", "This paper focuses on two specific issues:", "While also providing a Bayesian model, ROAS calculations and optimization methods.", "Carryover effects, often called lagged effects, occur when media spend effects sales across a number of days. For example, if we spend $100 on display advertising today, we may not see the effects of this spend for several days. The adstock function attempts to parameterize this phenomenon and the paper takes two approaches to adstock modeling:", "Above, we can see the shape of geometric and delayed adstock functions with the given parameters. As expected, the geometric functions starts with a strong impact and then steadily declines whereas the delayed adstock functions spikes 3 days (theta=3) after spend and then rapidly declines.", "Next, the paper addresses the phenomenon of diminishing returns, referred to as the shape effects in the paper. This arises when a media channel starts to loose its effectiveness i.e. the difference between spending $0 and $50 is much larger than $200 and $250.", "The Hill function is used to model this, which has its roots in biochemistry.", "The equation above is a modified version of the original. In the original Hill function, as X approaches infinity the function approaches 1, therefore we multiply by a beta coefficient to account for various strengths of marketing channels. If we excluded the beta variable each channel would have the same effectiveness.", "The paper does point out that the function has poor identifiability. For example, when K (the half saturation) point is outside of the observed media spend.", "The graph above illustrates various shapes the hill function can take on.", "Next, we need a way to combine the carryover and shape effects. The paper suggest two possible approaches.", "The paper recommends route 1 if there is small spend for any given time period. This makes sense as the shape effect is likely not to be activated by small spend. Alternatively, for large sustained spend it makes sense to first apply the shape (diminishing return) effect and then apply the adstock function.", "Now we can specify the functional form of our (the papers) media mix model:", "where Xt has been transformed through the Adstock function and Z represents the control variables.", "Next we move onto simulation. Simulation is always important when estimating causal effects from observational studies. With simulation we can generate a synthetic dataset, use our model to estimate causal effects and compare our estimates to the ground truth. This allows us to test our model in a way that isn\u2019t possible with observational data.", "The simulated data set will contain:", "Now that the dataset has been simulated it is time to fit the model. The paper uses STAN, however, I use Python/PyMC3.", "As expected the in-sample fit (MAPE/MAE) is pretty good 1) because it\u2019s in-sample and 2) because we generated the data with the same functional form we are modeling. So, it boils down to how well the MCMC approximation works.", "Below, we can see the posterior distribution of model parameters versus the true model parameter (blue line). This allows us to understand how well our model performed at recovering the true model parameters.", "Now we calculate ROAS and mROAS with the following equations.", "In English, the equations above translate to what predicted sales will be with all media channels turned on minus predicted sales with all but the M-th media channel, divided by spend. The only catch is that we have to factor in the post-period effect (i.e. carryover effects after synthetic experiment ends). So, instead of just calculating for the change period we have to include the post period as well.", "Lastly, we move onto optimizing a budget. To do this we take our modeled ROAS numbers and translate this into a constrained optimization problem.", "To implement this we can plug in our ROAS numbers into a SciPy optimization function to find at what spend our sales are maximized.", "The paper explores many facets related to media mix modeling with a focus on carryover and shape effects, but also provides specifications for a bayesian model and explores it effectiveness at recovering true model parameters on a synthetic dataset and the effects of priors and sample size (not covered).", "As a next step, I\u2019d find it interesting to see how one can make decisions with this model to not only maximize sales, but to also maximize the \u201cknowledge\u201d of the model. We can think of this as the \u201cexploration\u201d phase in reinforcement learning.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Lead Data Scientist | Interested in causality, reinforcement learning and product management."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ffd699b509e2d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcarryover-and-shape-effects-in-media-mix-modeling-paper-review-fd699b509e2d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcarryover-and-shape-effects-in-media-mix-modeling-paper-review-fd699b509e2d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcarryover-and-shape-effects-in-media-mix-modeling-paper-review-fd699b509e2d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcarryover-and-shape-effects-in-media-mix-modeling-paper-review-fd699b509e2d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----fd699b509e2d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fd699b509e2d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@chris_barton27?source=post_page-----fd699b509e2d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@chris_barton27?source=post_page-----fd699b509e2d--------------------------------", "anchor_text": "Chris Barton"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8ab5bf06b803&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcarryover-and-shape-effects-in-media-mix-modeling-paper-review-fd699b509e2d&user=Chris+Barton&userId=8ab5bf06b803&source=post_page-8ab5bf06b803----fd699b509e2d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffd699b509e2d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcarryover-and-shape-effects-in-media-mix-modeling-paper-review-fd699b509e2d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffd699b509e2d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcarryover-and-shape-effects-in-media-mix-modeling-paper-review-fd699b509e2d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/46001.pdf", "anchor_text": "link"}, {"url": "https://storage.googleapis.com/pub-tools-public-publication-data/pdf/2d0395bc7d4d13ddedef54d744ba7748e8ba8dd1.pdf", "anchor_text": "Challenges And Opportunities In Media Mix Modeling"}, {"url": "https://en.wikipedia.org/wiki/Advertising_adstock", "anchor_text": "adstock modeling"}, {"url": "https://en.wikipedia.org/wiki/Hill_equation_(biochemistry)", "anchor_text": "Hill function"}, {"url": "https://medium.com/tag/media-mix-modeling?source=post_page-----fd699b509e2d---------------media_mix_modeling-----------------", "anchor_text": "Media Mix Modeling"}, {"url": "https://medium.com/tag/data-science?source=post_page-----fd699b509e2d---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/modeling?source=post_page-----fd699b509e2d---------------modeling-----------------", "anchor_text": "Modeling"}, {"url": "https://medium.com/tag/causality?source=post_page-----fd699b509e2d---------------causality-----------------", "anchor_text": "Causality"}, {"url": "https://medium.com/tag/causal-inference?source=post_page-----fd699b509e2d---------------causal_inference-----------------", "anchor_text": "Causal Inference"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffd699b509e2d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcarryover-and-shape-effects-in-media-mix-modeling-paper-review-fd699b509e2d&user=Chris+Barton&userId=8ab5bf06b803&source=-----fd699b509e2d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffd699b509e2d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcarryover-and-shape-effects-in-media-mix-modeling-paper-review-fd699b509e2d&user=Chris+Barton&userId=8ab5bf06b803&source=-----fd699b509e2d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffd699b509e2d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcarryover-and-shape-effects-in-media-mix-modeling-paper-review-fd699b509e2d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fd699b509e2d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ffd699b509e2d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcarryover-and-shape-effects-in-media-mix-modeling-paper-review-fd699b509e2d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----fd699b509e2d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----fd699b509e2d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----fd699b509e2d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----fd699b509e2d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----fd699b509e2d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----fd699b509e2d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----fd699b509e2d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----fd699b509e2d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----fd699b509e2d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@chris_barton27?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@chris_barton27?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Chris Barton"}, {"url": "https://medium.com/@chris_barton27/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "85 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8ab5bf06b803&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcarryover-and-shape-effects-in-media-mix-modeling-paper-review-fd699b509e2d&user=Chris+Barton&userId=8ab5bf06b803&source=post_page-8ab5bf06b803--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F15d12ee618ae&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcarryover-and-shape-effects-in-media-mix-modeling-paper-review-fd699b509e2d&newsletterV3=8ab5bf06b803&newsletterV3Id=15d12ee618ae&user=Chris+Barton&userId=8ab5bf06b803&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}