{"url": "https://towardsdatascience.com/how-to-filter-rows-of-a-pandas-dataframe-by-column-value-51996ea621f8", "time": 1682995857.850726, "path": "towardsdatascience.com/how-to-filter-rows-of-a-pandas-dataframe-by-column-value-51996ea621f8/", "webpage": {"metadata": {"title": "How to Filter Rows of a Pandas DataFrame by Column Value | by Stephen Fordham | Towards Data Science", "h1": "How to Filter Rows of a Pandas DataFrame by Column Value", "description": "Quite often it is a requirement to filter tabular data based on a column value. We may be presented with a Table, and want to perform custom filtering operations. Fortunately, we can ultilise Pandas\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/StephenFordham", "anchor_text": "https://github.com/StephenFordham", "paragraph_index": 22}], "all_paragraphs": ["Quite often it is a requirement to filter tabular data based on a column value. We may be presented with a Table, and want to perform custom filtering operations. Fortunately, we can ultilise Pandas for this operation. Pandas is an open source Python library for data analysis. It gives Python the ability to work with spreadsheet-like data enabling fast file loading and manipulation among other functions. In order to achieve these features Pandas introduces two data types to Python: the Series and DataFrame.", "This tutorial will focus on two easy ways to filter a Dataframe by column value.", "The following example is the result of a BLAST search. In bioinformatics, BLAST (basic local alignment search tool) is an algorithm for comparing primary biological sequence information, such as the amino-acid sequences of proteins or the nucleotides of DNA and/or RNA sequences. This table has an ID for the query sequence expressed as a number and the species to which it matches to, among other metadata.", "This example is completely arbitrary, the following techniques can be applied in a vast array of other situations.", "To begin, we import the pandas library, and give it the alias pd", "I then use the pandas read_csv() function to read in my DataFrame. I saved my DataFrame with the file extension .csv (a comma separated value file). Following this, I perform some basic operations to familiarize myself with the DataFrame. Shown below, are the three operations I commonly use. These include: printing the first 5 rows using the head method, and accessing the column names using the column attribute of the DataFrame object. Finally, I look at the shape attribute of the DataFrame object.", "The output from these three print functions are shown below (for enhanced presentation, I recommend running the same code with the Jupyter Notebook, this will display pandas DataFrame objects as a more browser-friendly HTML table). The shape attribute returns a tuple, which gives the number of rows on the left hand side on the comma, and the number of columns on the right hand side. This DataFrame has 29 rows and 5 columns. Note, however that only the first 5 rows are displayed.", "Say we want to filter this DataFrame, so that any entries in the Species_name_blast_hit column that are \u2018bacterium\u2019 are excluded.", "How would we go about doing this?", "I will walk through 2 ways of selective filtering of tabular data.", "To begin, I create a Python list of Booleans. I then write a for loop which iterates over the Pandas Series (a Series is a single column of the DataFrame). The Pandas Series, Species_name_blast_hit is an iterable object, just like a list. I then use a basic regex expression in a conditional statement, and append either True if \u2018bacterium\u2019 was not in the Series value, or False if \u2018bacterium\u2019 was present. When I print the first 5 entries of my Boolean lists, all the results are True.", "This is exactly as expected, we can see from the Table earlier, that the first 5 entries in Species_name_blast_hit do not have bacteria in their name.", "Here, I have created a list of Booleans which are the same length as the DataFrame, 29. Following this, I convert the Boolean list into a Pandas Series and assigned it the variable name, Filtered.", "You can create a Pandas Series by passing in a list to the pd.Series() function.", "Next, I use Boolean subsetting/indexing on my original Pandas DataFrame, Blast using square brackets notation and assign the new DataFrame the variable name New_blast_df. Here, I write the original DataFrame, Blast, followed by square brackets with the Pandas Series, Filtered inside. This series indicates which rows to select, because it is composed of True and False Values that correspond to rows in the Blast data-set.", "As is clearly demonstrated from the Jupyter Notebook output, all \u2018bacterium\u2019 entries have been omitted!", "We can further confirm this, by checking the number of rows removed from the original DataFrame, by subtracting the first index of the tuple of Blast returned from the shape attribute from the first index of New_blast_df returned from the shape attribute. Now, we can see that 8 rows were removed.", "Fortunately, there is an additional way to subset your DataFrame by column value which is much simpler. For this example, let\u2019s assume we only want to include rows if they contain the species name 'Phoxinus\u2019.", "This way uses the contains method. The contains method returns a Boolean array if each string contains the pattern. To use it, you need to enter the name of your DataFrame, then use dot notation to select the appropriate column name of interest, followed by .str and finally contains(). The contains method can also find partial name entries and therefore is incredibly flexible.", "By default\u00a0.str.contains is case sensitive. To disregard case sensitivity, simply set the keyword argument case to False,\u00a0.str.contains(case=False). This adds further flexibility, but must be used with caution.", "This tutorial has demonstrated 2 ways to filter tabular data based on column values. Whilst the examples presented here make use of a single condition, multiple conditions can easily be applied to further fine tune the filtered output.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Articles on Data Science and Programming https://github.com/StephenFordham"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F51996ea621f8&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-filter-rows-of-a-pandas-dataframe-by-column-value-51996ea621f8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-filter-rows-of-a-pandas-dataframe-by-column-value-51996ea621f8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-filter-rows-of-a-pandas-dataframe-by-column-value-51996ea621f8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-filter-rows-of-a-pandas-dataframe-by-column-value-51996ea621f8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----51996ea621f8--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----51996ea621f8--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@stephenfordham?source=post_page-----51996ea621f8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@stephenfordham?source=post_page-----51996ea621f8--------------------------------", "anchor_text": "Stephen Fordham"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5d3f46276e7e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-filter-rows-of-a-pandas-dataframe-by-column-value-51996ea621f8&user=Stephen+Fordham&userId=5d3f46276e7e&source=post_page-5d3f46276e7e----51996ea621f8---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F51996ea621f8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-filter-rows-of-a-pandas-dataframe-by-column-value-51996ea621f8&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F51996ea621f8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-filter-rows-of-a-pandas-dataframe-by-column-value-51996ea621f8&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/photos/J-n4Y0ZtGjc", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/data-science?source=post_page-----51996ea621f8---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----51996ea621f8---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/technology?source=post_page-----51996ea621f8---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/software-engineering?source=post_page-----51996ea621f8---------------software_engineering-----------------", "anchor_text": "Software Engineering"}, {"url": "https://medium.com/tag/python?source=post_page-----51996ea621f8---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F51996ea621f8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-filter-rows-of-a-pandas-dataframe-by-column-value-51996ea621f8&user=Stephen+Fordham&userId=5d3f46276e7e&source=-----51996ea621f8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F51996ea621f8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-filter-rows-of-a-pandas-dataframe-by-column-value-51996ea621f8&user=Stephen+Fordham&userId=5d3f46276e7e&source=-----51996ea621f8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F51996ea621f8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-filter-rows-of-a-pandas-dataframe-by-column-value-51996ea621f8&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----51996ea621f8--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F51996ea621f8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-filter-rows-of-a-pandas-dataframe-by-column-value-51996ea621f8&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----51996ea621f8---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----51996ea621f8--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----51996ea621f8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----51996ea621f8--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----51996ea621f8--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----51996ea621f8--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----51996ea621f8--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----51996ea621f8--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----51996ea621f8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@stephenfordham?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@stephenfordham?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Stephen Fordham"}, {"url": "https://medium.com/@stephenfordham/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "977 Followers"}, {"url": "https://github.com/StephenFordham", "anchor_text": "https://github.com/StephenFordham"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5d3f46276e7e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-filter-rows-of-a-pandas-dataframe-by-column-value-51996ea621f8&user=Stephen+Fordham&userId=5d3f46276e7e&source=post_page-5d3f46276e7e--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fbd4ed43cae00&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-filter-rows-of-a-pandas-dataframe-by-column-value-51996ea621f8&newsletterV3=5d3f46276e7e&newsletterV3Id=bd4ed43cae00&user=Stephen+Fordham&userId=5d3f46276e7e&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}