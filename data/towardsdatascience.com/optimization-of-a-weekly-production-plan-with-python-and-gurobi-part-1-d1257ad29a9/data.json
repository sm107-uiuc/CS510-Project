{"url": "https://towardsdatascience.com/optimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9", "time": 1683014898.67092, "path": "towardsdatascience.com/optimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9/", "webpage": {"metadata": {"title": "Optimization of a weekly production plan with Python and Gurobi \u2014 Part 1 | by Soulard Baptiste | Towards Data Science", "h1": "Optimization of a weekly production plan with Python and Gurobi \u2014 Part 1", "description": "Even in 2020, many manufacturing companies are still manually doing their production planning, leading to a needless increase in direct costs. Let us see together how we can use Python and Gurobi\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/baptistesoulard/Production-plan-optimization/tree/master/Planning_optimization_part1", "anchor_text": "GitHub", "paragraph_index": 19}, {"url": "https://www.linkedin.com/in/baptistesoulard1994/", "anchor_text": "LinkedIn", "paragraph_index": 22}, {"url": "https://www.gurobi.com/pdfs/user-events/2017-frankfurt/SAP.pdf", "anchor_text": "http://www.gurobi.com/pdfs/user-events/2017-frankfurt/SAP.pdf", "paragraph_index": 23}, {"url": "https://www.linkedin.com/in/baptistesoulard1994/", "anchor_text": "https://www.linkedin.com/in/baptistesoulard1994/", "paragraph_index": 25}], "all_paragraphs": ["Even in 2020, many manufacturing companies are still manually doing their production planning, leading to a needless increase in direct costs. Let us see together how we can use Python and Gurobi optimization solver to reduce these costs.", "You are the proud owner of a manufacturing company and own three production lines. On each of these lines, you can produce the same products, but unfortunately, each line is designed differently, and the hourly labor cost varies for each line. You want to be able to make the best use of your equipment to be the most cost-efficient.", "In this article, we will see how we can use Python and Gurobi solver to optimize the working hours with a simple model, to get familiar with these tools. In a second part, we will go deeper in the optimization adding more constraints and compare the results.", "As explained above, your factory possesses three production lines. The hourly labor cost is 245$/h for lines 1 and 3 and 315$/h for line 2. Due to the current rules and regulations, you have some constraints on the daily working hours: one line cannot run for less than 7 hours or more than 12 hours per day.", "The requirement from your customer is the number of hours of production for each day of a week, and you want to schedule these hours on the day it is required, meaning no early or late planning.", "Let us dive into it and see how we can use Gurobi solver to answer this problem.", "The first step is to define the data that will be used for our problem, described in the problem statement. We will create some dictionaries and pandas data frame as below with the information related to customer need through the week, the timeline on which we are optimizing our planning, the list of productions lines available with the hourly cost associated.", "We now have all the inputs defined; let us build our model. We need to initialize it and create all the variables that will be used within our function.", "We will use type hints to have cleaner code and make sure the type of our variables is correct. The input for our function is the timeline on which we want to achieve our planning, the list of available work centers, the requirement for each day and the hourly cost of each work center.", "Let us initiate our model and create the decision variables. We add with addVars() our variables and in the attributes set the size, boundaries and type for each variable.", "For now, we have just created each variable without specifying any relationships. Some variables are linked to each other, and we now must create some constraints to set their value.", "Similarly, let\u2019s create our constraints with addConstrs(). If you want to create only one constraint, you should use addConstr() without \u201cs\u201d, but in this case, we are creating multiple constraints for each day and each production line.", "First, we need to link the variables previously created. The value of total hours is the product of working hours and line opening, and the value of labor cost is the product of total hours and the hourly cost of each work center contained in wc_reg_cost.", "Everything is now set up to run our model. Before solving it, we need to create one last constraint coming from our agreement with the customer. Indeed, as mentioned before, each daily requirement must be satisfied on the same day. That can be translated as follow:", "As the model is fully established, we can now define our objective function and solve it.", "Even though all of this is very interesting, let us not forget our target : we want to minimize our labor cost by better balancing the workload on our 3 production lines. This is our objective function!", "Now the model we just finished can be solved and will provide us the most cost-efficient planning.", "You can use the following code to visualize your model, see all your variables, constraints and the objective function, it can be helpful to correct the mistakes and review if the model is the one intended.", "Of course, here, our model is correct, and we can run it directly. We can extract the solution and shape it as needed.", "We now came out with the best production planning to meet our customer\u2019s requirements; we need to extract and make it more visual. For this, we will use Altair library for its intuitive interface and for the design of the graphs we can easily create. As it is not the purpose of this article, I will not detail how I did this step, but you can find it on my GitHub (Model1.py) and contact me if you need any explanation.", "As expected, our production plan is optimized when the lines 1 and 3 are loaded at maximum capacity before opening line 2, as the hourly cost is higher on this line. We can see that the boundaries are respected, and we do not open a line for less than 7 hours or more than 12 hours per day. More importantly, the customer\u2019s request is respected, and the daily requirement is satisfied on the same day, neither in advance nor late.", "This first model was the first approach to production planning optimization with Gurobi solver and presented many limitations. Indeed, we did not consider extra costs due to overtime or weekend work. Also, the requirement may not allow us to produce it on the same day; for example, if it is less than 7 hours, we cannot open the line. That is why we will add more constraints to consider this in the second part, and we will compare the results.", "Feel free to contact me if you need further information or if you want to exchange views on this subject. You can reach me on LinkedIn.", "Explanation of how SAP is using linear optimization in its modules for planning optimization: http://www.gurobi.com/pdfs/user-events/2017-frankfurt/SAP.pdf", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Lean and change engineer in China, curious and eager to learn more about data science! \u2014 https://www.linkedin.com/in/baptistesoulard1994/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fd1257ad29a9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----d1257ad29a9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d1257ad29a9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://soulard-baptiste-bs.medium.com/?source=post_page-----d1257ad29a9--------------------------------", "anchor_text": ""}, {"url": "https://soulard-baptiste-bs.medium.com/?source=post_page-----d1257ad29a9--------------------------------", "anchor_text": "Soulard Baptiste"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fde33f22e3579&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9&user=Soulard+Baptiste&userId=de33f22e3579&source=post_page-de33f22e3579----d1257ad29a9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd1257ad29a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd1257ad29a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/hands-on-tutorials", "anchor_text": "Hands-on Tutorials"}, {"url": "https://unsplash.com/@lennykuhne", "anchor_text": "Lenny Kuhne"}, {"url": "https://images.unsplash.com/photo-1567789884554-0b844b597180?", "anchor_text": "Unsplash"}, {"url": "https://github.com/baptistesoulard/Production-plan-optimization/tree/master/Planning_optimization_part1", "anchor_text": "GitHub"}, {"url": "https://www.linkedin.com/in/baptistesoulard1994/", "anchor_text": "LinkedIn"}, {"url": "https://github.com/soulabat/Production-plan-optimization/tree/master/Planning_optimization_part1", "anchor_text": "https://github.com/baptistesoulard/Production-plan-optimization/tree/master/Planning_optimization_part1"}, {"url": "https://www.gurobi.com/pdfs/user-events/2017-frankfurt/SAP.pdf", "anchor_text": "http://www.gurobi.com/pdfs/user-events/2017-frankfurt/SAP.pdf"}, {"url": "https://www.gurobi.com/documentation/8.0/examples/workforce5_py.html", "anchor_text": "https://www.gurobi.com/documentation/8.0/examples/workforce5_py.html"}, {"url": "https://medium.com/tag/python?source=post_page-----d1257ad29a9---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/optimization?source=post_page-----d1257ad29a9---------------optimization-----------------", "anchor_text": "Optimization"}, {"url": "https://medium.com/tag/planning?source=post_page-----d1257ad29a9---------------planning-----------------", "anchor_text": "Planning"}, {"url": "https://medium.com/tag/cost-optimization?source=post_page-----d1257ad29a9---------------cost_optimization-----------------", "anchor_text": "Cost Optimization"}, {"url": "https://medium.com/tag/hands-on-tutorials?source=post_page-----d1257ad29a9---------------hands_on_tutorials-----------------", "anchor_text": "Hands On Tutorials"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd1257ad29a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9&user=Soulard+Baptiste&userId=de33f22e3579&source=-----d1257ad29a9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd1257ad29a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9&user=Soulard+Baptiste&userId=de33f22e3579&source=-----d1257ad29a9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd1257ad29a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d1257ad29a9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fd1257ad29a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----d1257ad29a9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----d1257ad29a9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----d1257ad29a9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----d1257ad29a9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----d1257ad29a9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----d1257ad29a9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----d1257ad29a9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----d1257ad29a9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----d1257ad29a9--------------------------------", "anchor_text": ""}, {"url": "https://soulard-baptiste-bs.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://soulard-baptiste-bs.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Soulard Baptiste"}, {"url": "https://soulard-baptiste-bs.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "51 Followers"}, {"url": "https://www.linkedin.com/in/baptistesoulard1994/", "anchor_text": "https://www.linkedin.com/in/baptistesoulard1994/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fde33f22e3579&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9&user=Soulard+Baptiste&userId=de33f22e3579&source=post_page-de33f22e3579--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F49e249b624d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimization-of-a-weekly-production-plan-with-python-and-gurobi-part-1-d1257ad29a9&newsletterV3=de33f22e3579&newsletterV3Id=49e249b624d6&user=Soulard+Baptiste&userId=de33f22e3579&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}