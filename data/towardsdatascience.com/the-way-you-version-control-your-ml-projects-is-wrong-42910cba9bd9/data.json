{"url": "https://towardsdatascience.com/the-way-you-version-control-your-ml-projects-is-wrong-42910cba9bd9", "time": 1683014573.1249762, "path": "towardsdatascience.com/the-way-you-version-control-your-ml-projects-is-wrong-42910cba9bd9/", "webpage": {"metadata": {"title": "The way you version control your ML projects is wrong | by Dimitris Poulopoulos | Medium | Towards Data Science", "h1": "The Way You Version Control Your ML Projects is Wrong", "description": "How can you version the slightest change you make inside your project, automatically, without even thinking about it."}, "outgoing_paragraph_urls": [{"url": "https://mailchi.mp/d2d2d4a109b5/learning-rate-newsletter", "anchor_text": "Learning Rate", "paragraph_index": 4}, {"url": "https://mailchi.mp/d2d2d4a109b5/learning-rate-newsletter", "anchor_text": "here", "paragraph_index": 4}, {"url": "https://dvc.org/", "anchor_text": "DVC", "paragraph_index": 8}, {"url": "https://www.kubeflow.org/docs/other-guides/integrations/data-management/", "anchor_text": "Rok", "paragraph_index": 24}, {"url": "https://www.linkedin.com/in/dpoulopoulos/", "anchor_text": "Dimitris Poulopoulos", "paragraph_index": 30}, {"url": "https://www.arrikto.com/", "anchor_text": "Arrikto", "paragraph_index": 30}, {"url": "https://medium.com/@dpoulopoulos", "anchor_text": "Medium", "paragraph_index": 31}, {"url": "https://www.linkedin.com/in/dpoulopoulos/", "anchor_text": "LinkedIn", "paragraph_index": 31}, {"url": "https://twitter.com/james2pl", "anchor_text": "@james2pl", "paragraph_index": 31}, {"url": "http://www.dimpo.me", "anchor_text": "www.dimpo.me", "paragraph_index": 34}], "all_paragraphs": ["Data Scientists and Machine Learning engineers tend to think predictive analytic projects like pipelines; a production line that accepts well-defined inputs to produce specific outputs. These interconnected steps (e.g., data acquisition, data processing, data modelling, etc.) work together towards the final goal, but they can also be separate processes, running at their own cadence.", "Wouldn\u2019t be great to have a way to automatically version the outcomes of every ML pipeline step?", "The steps in an ML pipeline usually output transformed datasets, that we manually version and move around to Object Storage buckets. But they can also produce various other artifacts, from primitive variables to trained ML models. So, how can we version all these things? Pickle everything? Git? Git LFS maybe? Wouldn\u2019t be great to have a way to automatically version all these outcomes?", "In this story, we show how you can version the slightest change you make inside your project, automatically, without even thinking about it. Let\u2019s start!", "Learning Rate is a newsletter for those who are curious about the world of AI and MLOps. You\u2019ll hear from me every Friday with updates and thoughts on the latest AI news and articles. Subscribe here!", "A Data Scientist spends most of his time inside a Jupyter Notebook exploring the data and drafting ideas. Usually, when we try to version our work, we end up with a bunch of duplicated ipynb files, assuming different naming schemes.", "Can we have something that automatically snapshots our work, before and after every step in an ML pipeline? Moreover, can we get started using it without a ton of configuration needed? Just open a Notebook, do our thing and be sure that everything else will take care of itself.", "On the other hand, Notebooks are notoriously hard to track using Git, while dataset version control using the popular VCS is out of the question. Git Large File Storage (LFS) replaces large files such as audio samples, videos, datasets, and graphics with text pointers inside Git and store the file contents on remote servers; not ideal.", "Someone could also try DVC, but that\u2019s just a Git-like approach to data version control. This usually leads to more headaches for the Data Scientist, who doesn\u2019t want to learn another tool to get the job done.", "Can we have something that automatically snapshots our work, before and after every step in an ML pipeline? Moreover, can we get started using it without a ton of configuration needed? Just open a Notebook, do our thing and be sure that everything else will take care of itself. Yes, we can! Let\u2019s see how.", "So, having automatic version control of everything we do in our project seems extreme, right? Well, not if you use MiniKF on GCP. To install MiniKF is pretty simple; all we need is a GCP account and the ability to deploy applications from the Marketplace.", "For best performance, it is recommended to keep the default VM configuration", "That\u2019s it! The deployment takes up to ten minutes, and you can watch the progress by following the on-screen instructions; ssh into the machine, run minikf on the terminal and wait until you have your endpoint and credentials ready.", "Now, we are ready to visit the Kubeflow Dashboard. Click on the URL, enter your credentials, and you\u2019re ready to go!", "So, what\u2019s left? We need a Jupyter Notebook instance. Creating a Jupyter Notebook is relatively easy in MiniKF, using the provided Jupyter Web App:", "To follow this tutorial leave the Jupyter Notebook image as is (jupyter-kale:v0.5.0-47-g2427cc9 \u2014 Note that the image tag may differ)", "After completing these four steps, wait for the Notebook Server to get ready and connect. You\u2019ll be transferred to your familiar JupyterLab workspace.", "In the following story, we see how we can transform a Jupyter Notebook into a Kubeflow Pipeline, without writing a single line of code.", "In a nutshell, to use the current example, you should first open a terminal in your JupyterLab environment and clone the repo:", "Change directory to medium > minikf and launch the titanic.ipynb Notebook. Uncomment the first code cell and run it to install the necessary dependencies into your environment. Then, let Kale take over!", "Check the left panel of the Notebook you\u2019ll see a purple icon. This is where the fun begins\u2026 Press it to enable the Kale extension. You will automatically see that every cell is annotated.", "You can see that the Notebook comes in sections; the imports, the data loading part, data processing, model training and evaluation, etc. This is precisely what we have annotated with Kale. Now, this Notebook comes pre-annotated, but you can play around. You can create new pipeline steps, but don\u2019t forget to add their dependencies.", "In any case, you can just hit the COMPILE AND RUN button located at the bottom of the Kale Deployment Panel. Without writing a single line of code, your Notebook will be transformed into a Kubeflow Pipeline, which will be executed as part of a new experiment.", "Follow the link provided by Kale to watch the running experiment. After a few minutes, the pipeline will complete its task successfully. Here is the final view of the graph (don\u2019t forget to toggle the Simplify Graph option on the top left):", "However, if you look closely, the second thing that Kale does is take a snapshot of the Notebook using Rok. Also, it does this, before and after every step of the pipeline. Thus, we can return to the state of our environment at any point. How can we do that?", "Rok is a data management product that allows you to snapshot, version, package, distribute, and clone your full environment along with its data. It is natively integrated with Kubernetes as one of its supported platforms and is deployed in minutes on an existing cluster, on-prem, or on the cloud.", "It comes pre-installed in MiniKF, so let\u2019s use it! Say you want to return at the state of your environment before running the SVM Classifier.", "When the notebook server is ready, connect to it and a New JupyterLab environment will open precisely at the point you requested. All the cells up until this point are executed for you. You can continue your work from this cell; explore the variable state, the datasets and train the models. Now, that\u2019s something!", "In this story, we saw how we can version our work in a Jupyter Notebook, without even thinking about it. Every experiment we run on MiniKF is broken down in steps and we can return at any point in time using Rok.", "Go ahead and run your experiments in Kubeflow using MiniKF. Your workflow will remain the same, but extended in many ways without any boilerplate code.", "My name is Dimitris Poulopoulos and I\u2019m a machine learning engineer working for Arrikto. I have worked on designing and implementing AI and software solutions for major clients such as the European Commission, Eurostat, IMF, the European Central Bank, OECD, and IKEA.", "If you are interested in reading more posts about Machine Learning, Deep Learning, Data Science and DataOps follow me on Medium, LinkedIn or @james2pl on twitter.", "Opinions expressed are solely my own and do not express the views or opinions of my employer.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Machine Learning Engineer. I talk about AI, MLOps, and Python programming. More about me: www.dimpo.me"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F42910cba9bd9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-way-you-version-control-your-ml-projects-is-wrong-42910cba9bd9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-way-you-version-control-your-ml-projects-is-wrong-42910cba9bd9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-way-you-version-control-your-ml-projects-is-wrong-42910cba9bd9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-way-you-version-control-your-ml-projects-is-wrong-42910cba9bd9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----42910cba9bd9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----42910cba9bd9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://dpoulopoulos.medium.com/?source=post_page-----42910cba9bd9--------------------------------", "anchor_text": ""}, {"url": "https://dpoulopoulos.medium.com/?source=post_page-----42910cba9bd9--------------------------------", "anchor_text": "Dimitris Poulopoulos"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7cc87df5b1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-way-you-version-control-your-ml-projects-is-wrong-42910cba9bd9&user=Dimitris+Poulopoulos&userId=7cc87df5b1&source=post_page-7cc87df5b1----42910cba9bd9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F42910cba9bd9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-way-you-version-control-your-ml-projects-is-wrong-42910cba9bd9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F42910cba9bd9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-way-you-version-control-your-ml-projects-is-wrong-42910cba9bd9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@adrienolichon?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Adrien Olichon"}, {"url": "https://unsplash.com/s/photos/polaroid?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://mailchi.mp/d2d2d4a109b5/learning-rate-newsletter", "anchor_text": "Learning Rate"}, {"url": "https://mailchi.mp/d2d2d4a109b5/learning-rate-newsletter", "anchor_text": "here"}, {"url": "https://dvc.org/", "anchor_text": "DVC"}, {"url": "https://console.cloud.google.com/marketplace/details/arrikto-public/minikf", "anchor_text": "MiniKF on GCP page"}, {"url": "https://towardsdatascience.com/jupyter-is-ready-for-production-as-is-b36f1d1ca8f8", "anchor_text": "Jupyter is Ready for Production; As IsTurn your draft Notebooks to production-ready Kubeflow Pipelines without writing a single line of code.towardsdatascience.com"}, {"url": "https://github.com/dpoulopoulos/medium.git", "anchor_text": "https://github.com/dpoulopoulos/medium.git"}, {"url": "https://www.kubeflow.org/docs/other-guides/integrations/data-management/", "anchor_text": "Rok"}, {"url": "https://www.linkedin.com/in/dpoulopoulos/", "anchor_text": "Dimitris Poulopoulos"}, {"url": "https://www.arrikto.com/", "anchor_text": "Arrikto"}, {"url": "https://medium.com/@dpoulopoulos", "anchor_text": "Medium"}, {"url": "https://www.linkedin.com/in/dpoulopoulos/", "anchor_text": "LinkedIn"}, {"url": "https://twitter.com/james2pl", "anchor_text": "@james2pl"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----42910cba9bd9---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/technology?source=post_page-----42910cba9bd9---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----42910cba9bd9---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-version-control?source=post_page-----42910cba9bd9---------------data_version_control-----------------", "anchor_text": "Data Version Control"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----42910cba9bd9---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F42910cba9bd9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-way-you-version-control-your-ml-projects-is-wrong-42910cba9bd9&user=Dimitris+Poulopoulos&userId=7cc87df5b1&source=-----42910cba9bd9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F42910cba9bd9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-way-you-version-control-your-ml-projects-is-wrong-42910cba9bd9&user=Dimitris+Poulopoulos&userId=7cc87df5b1&source=-----42910cba9bd9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F42910cba9bd9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-way-you-version-control-your-ml-projects-is-wrong-42910cba9bd9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----42910cba9bd9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F42910cba9bd9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-way-you-version-control-your-ml-projects-is-wrong-42910cba9bd9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----42910cba9bd9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----42910cba9bd9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----42910cba9bd9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----42910cba9bd9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----42910cba9bd9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----42910cba9bd9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----42910cba9bd9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----42910cba9bd9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----42910cba9bd9--------------------------------", "anchor_text": ""}, {"url": "https://dpoulopoulos.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://dpoulopoulos.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Dimitris Poulopoulos"}, {"url": "https://dpoulopoulos.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "12.5K Followers"}, {"url": "http://www.dimpo.me", "anchor_text": "www.dimpo.me"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7cc87df5b1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-way-you-version-control-your-ml-projects-is-wrong-42910cba9bd9&user=Dimitris+Poulopoulos&userId=7cc87df5b1&source=post_page-7cc87df5b1--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb5ab149102ea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-way-you-version-control-your-ml-projects-is-wrong-42910cba9bd9&newsletterV3=7cc87df5b1&newsletterV3Id=b5ab149102ea&user=Dimitris+Poulopoulos&userId=7cc87df5b1&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}