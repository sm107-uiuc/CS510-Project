{"url": "https://towardsdatascience.com/using-association-rules-with-categorical-data-e984f8bb8ee4", "time": 1683006444.605001, "path": "towardsdatascience.com/using-association-rules-with-categorical-data-e984f8bb8ee4/", "webpage": {"metadata": {"title": "Using Association Rules for HR Analysis | by Eduardo Furtado | Towards Data Science", "h1": "Using Association Rules for HR Analysis", "description": "Association Rules algorithms such as Apriori are a great way to find what items regularly occur together in your dataset and see their relationship. It is an unsupervised machine learning model\u2026"}, "outgoing_paragraph_urls": [{"url": "http://rasbt.github.io/mlxtend/", "anchor_text": "http://rasbt.github.io/mlxtend/", "paragraph_index": 8}, {"url": "https://www.linkedin.com/in/eduardo-furtado/", "anchor_text": "https://www.linkedin.com/in/eduardo-furtado/", "paragraph_index": 29}, {"url": "https://linkedin.com/in/eduardo-furtado/", "anchor_text": "https://linkedin.com/in/eduardo-furtado/", "paragraph_index": 31}], "all_paragraphs": ["Association Rules algorithms such as Apriori are a great way to find what items regularly occur together in your dataset and see their relationship. It is an unsupervised machine learning model commonly used to find relationships in transactions, eg. clients purchases.", "An item is considered frequent if its occurrences is greater than the threshold we set. If you have 100 lines of data and set a threshold of 0.1, everything that happens more than 10 times will show in our result.", "In this example, we\u2019ll use Apriori for a different type of problem. We are going to use an HR dataset that contains ages, gender, level of education, etc and we will try to find the frequent characteristics that happen when the employees do not have Attrition.", "Firstly a quick recap of the main Apriori components:", "Support is how much an item appearsfreq(A, B)/Total", "Confidence is the probability of B happening given that A happenedfreq(A, B)/freq(A)", "Lift is similar to the confidence but it also accounts for how popular B isfreq(A, B)/support(A)*Support(B)", "In this example, we\u2019ll use the IBM HR Analytics Employee Attrition & Performance from Kaggle which you can download from the link below:", "This code will be written in Python using the MLxtend library (http://rasbt.github.io/mlxtend/)", "Firstly, we import our libraries. For this project, only Pandas and MLxtend are needed.", "After reading the data, we can see that there are 35 columns to work with but we will only use a few that look more interesting to us.", "There are a couple of columns that would be nice to use but they are not categorical, so what we can do is create bins for them. Pandas qcut function can divide the Age, DistanceFromHome and HourlyRate columns into bins of 4 for us.", "This piece of code shows us that the Age column could be divided in these 4 categories:", "So we can create an Age_Range column like so:", "After doing the same for DistanceFromHome and HourlyRate now we have to prepare our data for the algorithm. Apriori only accepts boolean values, so instead of sending the MaritalStatus column with \u2018Single\u2019, \u2018Married\u2019 and \u2018Divorced\u2019 values we will convert this into 3 different columns called \u2018MaritalStatus_Single\u2019, \u2018MaritalStatus_Married\u2019 and \u2018MaritalStatus_Divorced\u2019 with 0 or 1 values in them.", "For this, the Pandas get_dummies function can be used for each column that needs to be converted. First we\u2019ll create a list with all the columns that are going to used, and also a second list with the remaining columns. After using get_dummies, the original columns will be removed and only the boolean columns will be there, however, the unused columns are still there too, so we drop them.", "Now we have a dataframe ready to use and generate the frequent items.", "Our dataset has a total of 1470 lines so let\u2019s start choosing a minimum support of 0.05. This means that only results that occurred more than 73 times in our data will be considered. And max_len is the amount of columns combinations generated in the antecedents column.", "That\u2019s it! Now you can see the frequent relationships in the dataset.", "But what if we want to know only what gives us \u2018Attrition_Yes\u2019 or \u2018Attrition_No\u2019 in the consequents column?", "First of all, let\u2019s see how many occurrences of each there is in our dataframe.", "There are way more cases of No than Yes so we\u2019ll also need to take that in consideration choosing our threshold since one is more common than the other.", "For No, let\u2019s increase the threshold to 0.1 and filter the consequents column for Attrition_No:", "Now we can see that a person that is from the Research & Development Department and Job Level 2 happens 11% of the time in our dataset, however almost 95% of those do not have Attrition.", "Sidenote: the antecedents and consequents columns are frozensets which look like this:", "If you want to beautify it and export this result you can use this piece of code:", "Now let\u2019s change our threshold to 0.02 and see what we have for Attrition_Yes:", "The biggest confidence is for people younger than 30 years old, single and Job Level 1. But differently from the previous case, only 45% of those cases have Attrition.", "And that\u2019s the very basic of using Apriori with HR data! Hope you try it in your next project and find new relationships in your dataset that can give you more insights to your problem.", "If you have any questions and would like to contact me, feel free to send a message at https://www.linkedin.com/in/eduardo-furtado/", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist from Rio de Janeiro, Brazil https://linkedin.com/in/eduardo-furtado/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe984f8bb8ee4&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-association-rules-with-categorical-data-e984f8bb8ee4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-association-rules-with-categorical-data-e984f8bb8ee4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-association-rules-with-categorical-data-e984f8bb8ee4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-association-rules-with-categorical-data-e984f8bb8ee4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e984f8bb8ee4--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e984f8bb8ee4--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@eduardoftdo?source=post_page-----e984f8bb8ee4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@eduardoftdo?source=post_page-----e984f8bb8ee4--------------------------------", "anchor_text": "Eduardo Furtado"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6b2457c7e84d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-association-rules-with-categorical-data-e984f8bb8ee4&user=Eduardo+Furtado&userId=6b2457c7e84d&source=post_page-6b2457c7e84d----e984f8bb8ee4---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe984f8bb8ee4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-association-rules-with-categorical-data-e984f8bb8ee4&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe984f8bb8ee4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-association-rules-with-categorical-data-e984f8bb8ee4&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@mbaumi?utm_source=medium&utm_medium=referral", "anchor_text": "Mika Baumeister"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.kaggle.com/pavansubhasht/ibm-hr-analytics-attrition-dataset", "anchor_text": "IBM HR Analytics Employee Attrition & PerformancePredict attrition of your valuable employeeswww.kaggle.com"}, {"url": "http://rasbt.github.io/mlxtend/", "anchor_text": "http://rasbt.github.io/mlxtend/"}, {"url": "https://gist.github.com/eduardoftdo/e3d2b7ca4a06d8d86b144482d0aed5a1", "anchor_text": "https://gist.github.com/eduardoftdo/e3d2b7ca4a06d8d86b144482d0aed5a1"}, {"url": "https://www.linkedin.com/in/eduardo-furtado/", "anchor_text": "https://www.linkedin.com/in/eduardo-furtado/"}, {"url": "https://medium.com/tag/python?source=post_page-----e984f8bb8ee4---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/apriori?source=post_page-----e984f8bb8ee4---------------apriori-----------------", "anchor_text": "Apriori"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----e984f8bb8ee4---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/association-rule?source=post_page-----e984f8bb8ee4---------------association_rule-----------------", "anchor_text": "Association Rule"}, {"url": "https://medium.com/tag/data-science?source=post_page-----e984f8bb8ee4---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe984f8bb8ee4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-association-rules-with-categorical-data-e984f8bb8ee4&user=Eduardo+Furtado&userId=6b2457c7e84d&source=-----e984f8bb8ee4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe984f8bb8ee4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-association-rules-with-categorical-data-e984f8bb8ee4&user=Eduardo+Furtado&userId=6b2457c7e84d&source=-----e984f8bb8ee4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe984f8bb8ee4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-association-rules-with-categorical-data-e984f8bb8ee4&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e984f8bb8ee4--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe984f8bb8ee4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-association-rules-with-categorical-data-e984f8bb8ee4&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e984f8bb8ee4---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e984f8bb8ee4--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e984f8bb8ee4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e984f8bb8ee4--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e984f8bb8ee4--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e984f8bb8ee4--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e984f8bb8ee4--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e984f8bb8ee4--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e984f8bb8ee4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@eduardoftdo?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@eduardoftdo?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Eduardo Furtado"}, {"url": "https://medium.com/@eduardoftdo/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "2 Followers"}, {"url": "https://linkedin.com/in/eduardo-furtado/", "anchor_text": "https://linkedin.com/in/eduardo-furtado/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6b2457c7e84d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-association-rules-with-categorical-data-e984f8bb8ee4&user=Eduardo+Furtado&userId=6b2457c7e84d&source=post_page-6b2457c7e84d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F6b2457c7e84d%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-association-rules-with-categorical-data-e984f8bb8ee4&user=Eduardo+Furtado&userId=6b2457c7e84d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}