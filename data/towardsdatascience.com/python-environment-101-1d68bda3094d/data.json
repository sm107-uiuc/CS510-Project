{"url": "https://towardsdatascience.com/python-environment-101-1d68bda3094d", "time": 1683007192.5940218, "path": "towardsdatascience.com/python-environment-101-1d68bda3094d/", "webpage": {"metadata": {"title": "Python Environment 101. How are pyenv and pipenv different and\u2026 | by Shinichi Okada | Towards Data Science", "h1": "Python Environment 101", "description": "How are pyenv and pipenv different and when you should be using them? In this article, I am focusing on pyenv and pipenv since virtualenv alone will have a problem when you update your system Python version."}, "outgoing_paragraph_urls": [{"url": "https://www.python.org/downloads/", "anchor_text": "Python released", "paragraph_index": 2}, {"url": "https://github.com/nvm-sh/nvm", "anchor_text": "nvm", "paragraph_index": 3}, {"url": "https://rvm.io/", "anchor_text": "RVM", "paragraph_index": 3}, {"url": "https://github.com/pyenv/pyenv", "anchor_text": "pyenv", "paragraph_index": 3}, {"url": "https://github.com/pyenv/pyenv-virtualenv", "anchor_text": "pyenv-virtualenv", "paragraph_index": 5}, {"url": "https://github.com/pypa/pipenv", "anchor_text": "pipenv", "paragraph_index": 7}, {"url": "https://github.com/pypa/virtualenv", "anchor_text": "virtualenv", "paragraph_index": 9}, {"url": "https://pypi.org/project/virtualenvwrapper/", "anchor_text": "virtualenvwrapper", "paragraph_index": 12}, {"url": "https://github.com/pypa/virtualenv", "anchor_text": "virtualenv", "paragraph_index": 13}, {"url": "https://github.com/pyenv/pyenv#installation", "anchor_text": "other Linux OS", "paragraph_index": 17}, {"url": "https://github.com/pyenv/pyenv#installation", "anchor_text": "Github pyenv installation", "paragraph_index": 17}, {"url": "https://github.com/pyenv/pyenv#understanding-shims", "anchor_text": "shims", "paragraph_index": 21}, {"url": "https://github.com/pyenv/pyenv-virtualenv#installation", "anchor_text": "pyenv-virtualenv", "paragraph_index": 26}, {"url": "https://towardsdatascience.com/the-ultimate-guide-to-your-terminal-makeover-e11f9b87ac99", "anchor_text": "Oh-My-Zsh built-in command", "paragraph_index": 30}, {"url": "https://towardsdatascience.com/the-ultimate-guide-to-your-terminal-makeover-e11f9b87ac99", "anchor_text": "take", "paragraph_index": 30}, {"url": "https://github.com/pypa/pipenv#installation", "anchor_text": "here", "paragraph_index": 39}, {"url": "https://github.com/pypa/pipenv/issues/4188", "anchor_text": "an error", "paragraph_index": 52}, {"url": "https://blog.codewithshin.com/membership", "anchor_text": "becoming a member", "paragraph_index": 70}], "all_paragraphs": ["I was using Python 3.7.7 + virtualenv, and one day I installed 3.8.2. This created trouble with the Jupyter Notebook. It was not working and I was getting all sorts of error messages.", "I thought I got to sort out the Python environment. I needed to find out what pyenv, pipenv, and virtualenv do. So this is the article about what I have learned.", "The Python released 13 versions during 2019 and 12 versions during 2018. Most programming languages have some kinds of version management.", "Node has nvm and Ruby has RVM, etc. pyenv is a Python version management.", "It installs/uninstalls different Python versions, sets global and local(directory) Python version.", "pyenv-virtualenv is a pyenv plugin that manages Python virtual environments on UNIX-like systems.", "Dependency management is the process of managing all of the interrelated libraries and packages within the project to ensure that your projects run successfully.", "pipenv is a packaging tool for Python application and manages package dependencies and its sub-dependencies.", "pipenv simplifies the development process by using a Pipfile in the development environment and aPipfile.lock in the production environment. pipenv also manages virtual environments.", "virtualenv is a tool to create isolated Python environments. If you install virtualenv under python 3.8, virtualenv will by default create virtual environments that are also of version 3.8.", "This means that if you upgrade your system python your virtual environments might break. It happened to me when I upgraded to Python3.7.7.", "You can use pyenv and pipenv in your Python projects and in this article you will find out about everything from their installation to their usages. As I mentioned before pyenv has it\u2019s own virtualenv, pyenv-virtualenv.", "When you use the virtualenv by itself, it uses the system Python version. virtualenvwrapper has a useful set of scripts for virtualenv.", "In this article, I am focusing on pyenv and pipenv since virtualenv alone will have a problem when you update your system Python version.", "pyenv is for a Python version management + virtual environment tool and pipenv is a Python package management and virtual environment tool.", "pipenv creates isolated pip environments whereas pyenv+virtualenv creates virtualenvs that multiple projects can use.", "If you are working on your personal projects or working with more than one system such as a team or server and local, then you should use pyenv.", "You can install pyenv to macOS and other Linux OS. (If you have any installation problem, see the Github pyenv installation page.)", "Adding the following to your bash_profile/zshrc will define the environment variable PYENV_ROOT.", "For zsh, run the following in your terminal.", "(This part may not be relevant anymore, but I leave it for reference.)", "pyenv works by inserting a directory of shims at the front of your PATH. A shim is a small library that intercepts and changes calls to another library. Adding the following enables shims and autocompletion.", "pyenv local creates or modifies .python-verion in the directory. For example, pyenv local 3.7.7 creates .python-verion with Python 3.7.7. pyenv local 3.8.2 modifies .python-verion to Python 3.8.2", "If you are working with your personal projects and not installing pipenv, I recommend installing pyenv-virtualenv.", "If you are working in a team or with more than one system, I recommend you to install pipenv which I am covering next.", "pyenv-virtualenv is a pyenv plugin that provides features to manage virtualenvs and Conda environments for Python on UNIX-like systems.", "Here is the instruction on how to install pyenv-virtualenv.", "Then you need to add the following to your .bash_profile or .zshrc.", "You can create a virtualenv by specifying the Python version with the name of the virtualenv directory.", "I often use this command to create a virtualenv.$ pyenv virtualenv 3.8.6 py386", "Once you created different virtualenvs, you can set a local virtualenv for a directory. Here I am using the Oh-My-Zsh built-in command take.", "In the image below, I upgraded pip under virtualenv py377. After changing the local to 3.7.7 and check the pip list, it shows different python packages.", "By removing .python-version you can remove a local virtualenv.", "When you activate a virtulaenv, the virtualenv will override the local virtualenv.", "If your project depends on Python package versions and its dependencies, pipenv is for you.", "pipenv creates a Pipfile.lock and you use it when you move to a different system.", "The Pipfile.lock contains all the dependencies and its versions.", "When you install Python packages using Pipfile.lock, it will create exactly the same environment as your original system.", "When a repo has a Pipfile.lock, you can install all the packages and dependencies with pipenv install.", "Let\u2019s install pipenv using Homebrew. You can find installation for other OS here.", "Create a new project using Python 3.7:", "In the above image, I use pipenv --python 3.7.7 to create a new virtualenv. It displays the virtualenv location:", "And it created Pipfile and Pipfile.lock. pipenv uses these Pipfile and Pipfile.lock to control the Python version and packages version.", "[source] tells your package sources. [packages] is your package information. [dev-packages] is for your development requirements. [requires] is the required Python version.", "Once you install a package, you can find the package and hashes under default in the Pipfile.lock. This will secure the identical environment in a different system.", "If your system does not have a certain Python version, it will ask if you want to install the Python version.", "This will create a Pipfile in the directory.", "We use pipenv instead of pip to install packages.", "This created the Pipfile.lock and add numpy =\"*\" to the Pipfile. You can use the Pipfile.lock to create the same environment in a different system.", "Installing all dependencies for a project (including dev):", "Show a graph of your installed dependencies:", "Check your installed dependencies for security vulnerabilities:", "It returns an error and I hope a future version will fix it.", "Install a local setup.py into your virtual environment/Pipfile:", "You can activate the project\u2019s virtualenv by running pipenv shell, and deactivate it by running exit.", "As you can see in the above image, you can use pipenv shell and use pip commands such as list and -U to upgrade packages.", "So all your pipenvs are stored in ~/.local/share/virutlaenvs directory.", "If you wish you can remove the pipenv from this directory.", "This is what\u2019s gonna happen if you try to use pipenv under pyenv. It will display a courtesy notice.", "When you are ready to push it to production, you need to lock your environment so you can ensure you have the same one in production.", "This will create or update your Pipfile.lock.", "Once you get your code and Pipfile.lock in your production environment, you can install all packages:", "This will ignore the Pipfile for installation and use the Pipfile.lock to install all packages. Pipenv will create the exact same environment including sub-dependencies as your development environment.", "On the left side of the above image, pyenv + pyenv-virtualenv can hold different projects.", "This means a pyenv-virtualenv can share packages with different projects. Whereas on pyenv+pipenv every project holds own pip/packages without sharing.", "If you are working in a team, then you should be using pyenv+pipenv together.", "If you have a project involving multiple systems such as a local and a remote server, then you should be using them as well.", "So in a short, if your project involves more than one system you should be using pyenv+pipenv.", "pyenv and pipenv have different ways to create virtualenvs but you can use both.", "There are other tools available and these have different scopes and purposes as you see in the following chart.", "Get full access to every story on Medium by becoming a member.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "A programmer and technology enthusiast with a passion for sharing my knowledge and experience."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1d68bda3094d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-environment-101-1d68bda3094d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-environment-101-1d68bda3094d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-environment-101-1d68bda3094d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-environment-101-1d68bda3094d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://me.dm/@shinichiokada", "anchor_text": "Mastodon"}, {"url": "https://towardsdatascience.com/?source=post_page-----1d68bda3094d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1d68bda3094d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://blog.codewithshin.com/?source=post_page-----1d68bda3094d--------------------------------", "anchor_text": ""}, {"url": "https://blog.codewithshin.com/?source=post_page-----1d68bda3094d--------------------------------", "anchor_text": "Shinichi Okada"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa262a804b78f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-environment-101-1d68bda3094d&user=Shinichi+Okada&userId=a262a804b78f&source=post_page-a262a804b78f----1d68bda3094d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1d68bda3094d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-environment-101-1d68bda3094d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1d68bda3094d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-environment-101-1d68bda3094d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.python.org/downloads/", "anchor_text": "Python released"}, {"url": "https://github.com/nvm-sh/nvm", "anchor_text": "nvm"}, {"url": "https://rvm.io/", "anchor_text": "RVM"}, {"url": "https://github.com/pyenv/pyenv", "anchor_text": "pyenv"}, {"url": "https://github.com/pyenv/pyenv-virtualenv", "anchor_text": "pyenv-virtualenv"}, {"url": "https://github.com/pypa/pipenv", "anchor_text": "pipenv"}, {"url": "https://github.com/pypa/virtualenv", "anchor_text": "virtualenv"}, {"url": "https://pypi.org/project/virtualenvwrapper/", "anchor_text": "virtualenvwrapper"}, {"url": "https://github.com/pypa/virtualenv", "anchor_text": "virtualenv"}, {"url": "https://github.com/pyenv/pyenv#installation", "anchor_text": "other Linux OS"}, {"url": "https://github.com/pyenv/pyenv#installation", "anchor_text": "Github pyenv installation"}, {"url": "https://github.com/pyenv/pyenv#understanding-shims", "anchor_text": "shims"}, {"url": "https://github.com/pyenv/pyenv-virtualenv#installation", "anchor_text": "pyenv-virtualenv"}, {"url": "https://towardsdatascience.com/the-ultimate-guide-to-your-terminal-makeover-e11f9b87ac99", "anchor_text": "Oh-My-Zsh built-in command"}, {"url": "https://towardsdatascience.com/the-ultimate-guide-to-your-terminal-makeover-e11f9b87ac99", "anchor_text": "take"}, {"url": "https://github.com/pypa/pipenv#installation", "anchor_text": "here"}, {"url": "https://goo.gl/O7Y1rS", "anchor_text": "https://goo.gl/O7Y1rS"}, {"url": "https://github.com/pypa/pipenv/issues/4188", "anchor_text": "an error"}, {"url": "https://github.com/David-OConnor/pyflow", "anchor_text": "https://github.com/David-OConnor/pyflow"}, {"url": "https://blog.codewithshin.com/membership", "anchor_text": "becoming a member"}, {"url": "https://blog.codewithshin.com/subscribe", "anchor_text": "Please subscribe."}, {"url": "https://towardsdatascience.com/awesome-rust-powered-command-line-utilities-b5359c38692", "anchor_text": "7 Awesome Rust-powered command-line utilitiesModern Linux commands for every developertowardsdatascience.com"}, {"url": "https://towardsdatascience.com/the-ultimate-guide-to-your-terminal-makeover-e11f9b87ac99", "anchor_text": "The Ultimate Guide to Your Terminal MakeoverThe best 11 minutes you\u2019ll spend today: The terminal tips for programmerstowardsdatascience.com"}, {"url": "https://towardsdatascience.com/a-step-by-step-guide-to-scheduling-tasks-for-your-data-science-project-d7df4531fc41", "anchor_text": "A Step-by-Step Guide to Scheduling Tasks for your Data Science ProjectThe complete guide to cron and launchd in macOS/Linuxtowardsdatascience.com"}, {"url": "https://realpython.com/pipenv-guide/", "anchor_text": "https://realpython.com/pipenv-guide/"}, {"url": "https://medium.com/tag/python?source=post_page-----1d68bda3094d---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/python-environment?source=post_page-----1d68bda3094d---------------python_environment-----------------", "anchor_text": "Python Environment"}, {"url": "https://medium.com/tag/virtualenv?source=post_page-----1d68bda3094d---------------virtualenv-----------------", "anchor_text": "Virtualenv"}, {"url": "https://medium.com/tag/pipenv?source=post_page-----1d68bda3094d---------------pipenv-----------------", "anchor_text": "Pipenv"}, {"url": "https://medium.com/tag/programming?source=post_page-----1d68bda3094d---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1d68bda3094d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-environment-101-1d68bda3094d&user=Shinichi+Okada&userId=a262a804b78f&source=-----1d68bda3094d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1d68bda3094d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-environment-101-1d68bda3094d&user=Shinichi+Okada&userId=a262a804b78f&source=-----1d68bda3094d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1d68bda3094d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-environment-101-1d68bda3094d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1d68bda3094d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1d68bda3094d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-environment-101-1d68bda3094d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1d68bda3094d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1d68bda3094d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1d68bda3094d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1d68bda3094d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1d68bda3094d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1d68bda3094d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1d68bda3094d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1d68bda3094d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1d68bda3094d--------------------------------", "anchor_text": ""}, {"url": "https://blog.codewithshin.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://blog.codewithshin.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Shinichi Okada"}, {"url": "https://blog.codewithshin.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.3K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa262a804b78f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-environment-101-1d68bda3094d&user=Shinichi+Okada&userId=a262a804b78f&source=post_page-a262a804b78f--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fbea6b9a08c54&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-environment-101-1d68bda3094d&newsletterV3=a262a804b78f&newsletterV3Id=bea6b9a08c54&user=Shinichi+Okada&userId=a262a804b78f&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}