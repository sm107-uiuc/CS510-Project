{"url": "https://towardsdatascience.com/long-wide-data-and-how-to-efficiently-plot-them-7a96887e309d", "time": 1683002334.0650449, "path": "towardsdatascience.com/long-wide-data-and-how-to-efficiently-plot-them-7a96887e309d/", "webpage": {"metadata": {"title": "Long, Wide Data and How to Efficiently Plot Them | by Jun M. | Towards Data Science", "h1": "Long, Wide Data and How to Efficiently Plot Them", "description": "Often times when we deal with data, it comes with different formats. If you scrapped the data from a website, likely it is in wide format. In fact, most data we physically see is in this format\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.espn.com/nba/stats/player/_/table/offensive/sort/avgPoints/dir/desc", "anchor_text": "NBA stat page from ESPN", "paragraph_index": 0}, {"url": "https://w2.weather.gov/climate/xmacis.php?wfo=mtr", "anchor_text": "this website", "paragraph_index": 3}, {"url": "https://github.com/JunWorks/Long_and_wide", "anchor_text": "https://github.com/JunWorks/Long_and_wide", "paragraph_index": 19}], "all_paragraphs": ["Often times when we deal with data, it comes with different formats. If you scrapped the data from a website, likely it is in wide format. In fact, most data we physically see is in this format, since wide data is very intuitive and easier to understand. One good example would be this NBA stat page from ESPN.", "On the other hand, long format data is less often to see. However, it has it\u2019s own advantages like:", "In this notebook, I\u2019ll show how to transform the data between the two formats, how is long format faster to process, and how to efficiently plot each format. We will use the monthly precipitation data for San Francisco and Sacramento as our examples.", "Note: the weather data is retrieved from this website.", "Here is our observation of the data:", "We filled the Dec precipitation data using the average of the previous 19 years, and then calculate the annual sum for 2019.", "Now we can start to process and plot the data.", "Next, we will do some manipulation of the data to show the difference between long and wide data.", "First, let\u2019s convert them to long data and concat (or merge) the two dataframes into one.", "Now say we want to calculate the monthly percentage of rainfall of each year.", "We start with the wide data. Since we need to do the operation on each column, we can use the apply function.", "It\u2019s much easier for long data as we can see above. In fact it is also faster since it uses vectorized operation.", "We want to see the variation and distribution of precipitation of each month in the last twenty years. A good way is to use the box plot. For each calendar month, we will plot as one box to show the variation for different years. In total, there will be twelve boxes on a single plot.", "Let\u2019s plot it for San Francisco first using the wide data.", "It is quite easy to make the plot using the built-in function in pandas. What if we want to plot the data of Sacramento side by side. This becomes a fairly complex task for wide data.", "As you can see in the below, we have to plot the two dataframes separately, specify the width and position of each dataframe (otherwise they will overlap), and place the xticks at the center of two boxes. There is some tweaking involved to make it look right.", "Now let\u2019s try to achieve the same using long format. In this case, I used the Seaborn package.", "It\u2019s much easier to do the side-by-side comparison using long data and Seaborn. In R, ggplot also uses long format and the underline syntax is very similar to Seaborn.", "Coming from R and having extensively used MATLAB in my college, I liked ggplot a lot compared to Python\u2019s matplotlib(which is similar to MATLAB). One reason is that I can easily make use of different variables to customized the plots. In the above example, I used hue (color) to show a categorical variable. I can also include continuous variables in the visualization, for example: size of the symbol etc. I am really happy to find the Seaborn package in Python.", "You can find the code here https://github.com/JunWorks/Long_and_wide", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7a96887e309d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flong-wide-data-and-how-to-efficiently-plot-them-7a96887e309d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flong-wide-data-and-how-to-efficiently-plot-them-7a96887e309d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flong-wide-data-and-how-to-efficiently-plot-them-7a96887e309d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flong-wide-data-and-how-to-efficiently-plot-them-7a96887e309d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----7a96887e309d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7a96887e309d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@junma?source=post_page-----7a96887e309d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@junma?source=post_page-----7a96887e309d--------------------------------", "anchor_text": "Jun M."}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa49de38eb7e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flong-wide-data-and-how-to-efficiently-plot-them-7a96887e309d&user=Jun+M.&userId=a49de38eb7e&source=post_page-a49de38eb7e----7a96887e309d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7a96887e309d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flong-wide-data-and-how-to-efficiently-plot-them-7a96887e309d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7a96887e309d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flong-wide-data-and-how-to-efficiently-plot-them-7a96887e309d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.espn.com/nba/stats/player/_/table/offensive/sort/avgPoints/dir/desc", "anchor_text": "NBA stat page from ESPN"}, {"url": "https://w2.weather.gov/climate/xmacis.php?wfo=mtr", "anchor_text": "this website"}, {"url": "https://github.com/JunWorks/Long_and_wide", "anchor_text": "https://github.com/JunWorks/Long_and_wide"}, {"url": "https://medium.com/tag/data-science?source=post_page-----7a96887e309d---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----7a96887e309d---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/matplotlib?source=post_page-----7a96887e309d---------------matplotlib-----------------", "anchor_text": "Matplotlib"}, {"url": "https://medium.com/tag/seaborn?source=post_page-----7a96887e309d---------------seaborn-----------------", "anchor_text": "Seaborn"}, {"url": "https://medium.com/tag/ggplot?source=post_page-----7a96887e309d---------------ggplot-----------------", "anchor_text": "Ggplot"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7a96887e309d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flong-wide-data-and-how-to-efficiently-plot-them-7a96887e309d&user=Jun+M.&userId=a49de38eb7e&source=-----7a96887e309d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7a96887e309d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flong-wide-data-and-how-to-efficiently-plot-them-7a96887e309d&user=Jun+M.&userId=a49de38eb7e&source=-----7a96887e309d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7a96887e309d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flong-wide-data-and-how-to-efficiently-plot-them-7a96887e309d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7a96887e309d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F7a96887e309d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flong-wide-data-and-how-to-efficiently-plot-them-7a96887e309d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----7a96887e309d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----7a96887e309d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----7a96887e309d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7a96887e309d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7a96887e309d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7a96887e309d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7a96887e309d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7a96887e309d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7a96887e309d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@junma?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@junma?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Jun M."}, {"url": "https://medium.com/@junma/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "46 Followers"}, {"url": "http://www.github.com/szjunma", "anchor_text": "www.github.com/szjunma"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa49de38eb7e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flong-wide-data-and-how-to-efficiently-plot-them-7a96887e309d&user=Jun+M.&userId=a49de38eb7e&source=post_page-a49de38eb7e--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff9e274b49bbf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flong-wide-data-and-how-to-efficiently-plot-them-7a96887e309d&newsletterV3=a49de38eb7e&newsletterV3Id=f9e274b49bbf&user=Jun+M.&userId=a49de38eb7e&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}