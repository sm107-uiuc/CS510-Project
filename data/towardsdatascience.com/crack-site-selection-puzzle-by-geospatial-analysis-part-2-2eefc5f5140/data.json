{"url": "https://towardsdatascience.com/crack-site-selection-puzzle-by-geospatial-analysis-part-2-2eefc5f5140", "time": 1683008959.88932, "path": "towardsdatascience.com/crack-site-selection-puzzle-by-geospatial-analysis-part-2-2eefc5f5140/", "webpage": {"metadata": {"title": "Crack Site Selection Puzzle by Geospatial Analysis (Part 2) | by Wang Shenghao | Towards Data Science", "h1": "Crack Site Selection Puzzle by Geospatial Analysis (Part 2)", "description": "Discover the imbalance between the demand and supply"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/crack-site-selection-puzzle-by-geospatial-analysis-part-1-684ecabf8df7", "anchor_text": "the first blog of this series", "paragraph_index": 0}, {"url": "https://developers.google.com/places/web-service/intro", "anchor_text": "Google Places API", "paragraph_index": 2}, {"url": "https://developers.google.com/maps/documentation/distance-matrix/start", "anchor_text": "Google Distance Matrix API", "paragraph_index": 8}, {"url": "https://github.com/Shenghao1993/asiatique", "anchor_text": "GitHub", "paragraph_index": 18}], "all_paragraphs": ["In the first blog of this series, we developed an idea aiming to address the site selection problem from the perspective of the demand and supply. We completed the analysis of the demand side and simulated the distribution of the customers in the target city, Penang. Although the case study is conducted in the scenario of the grocery industry, the same solution can be applied to real estate, e-commerce, and education sectors as well. In this blog, we are going to tackle the supply side and look into the imbalance between the demand and supply across the city. Bear in mind that our client is a supermarket chain and its potential customers are the entire population of the city.", "The supply analysis consists of the following sections.", "The information about existing grocery providers can be obtained using the Google Places API. It provides a variety of information about different types of places of interest, including their outlet name, geographical location, opening hours, and even visitor ratings etc. Here we expect the information provided by the API is up to date. However, it is not guaranteed that the API can detect all the places which fulfil the search criteria, especially for the less developed regions. For the purpose of this study, this is the best accessible data source we can rely on.", "The Places API works with an API key and is usually queried with 3 parameters: the type of amenity, a center location, and a radius. Recap in the first series, we split the entire city area into thousands of 1km x 1km grids. In order to collect all the existing grocery providers available via the API, we take the geo-coordinates of the grid centers, and search for the supermarkets and grocery stores within 2 km\u2019s distance. To make the blog more concise and less heavy with code, I\u2019m going to omit the preparatory steps of the input data and the config parameters, and only highlight how the Places API is queried. The following code extracts the supermarkets within 2 km\u2019s distance from Orchard Road, Singapore.", "The query results are returned as a list of Python dictionaries. One of them looks as follows. In this study, we only use the geolocation information of the existing supermarkets.", "The supermarkets and grocery stores are collected from all the grids and plotted on the QGIS map after removing the duplicates, as shown in Figure 2. It can be observed that the distribution of the existing grocery providers (the white dots) is approximately aligned with the customer distribution.", "Allow me to ask you a question. How long would you like to spend on travelling for grocery shopping?", "People living in different cities could have different answers. My answer to this question is 15 min\u2019s walking distance. Walking to the grocery store can be taken as a regular physical exercise during a lockdown. In this study, we are expecting a longer threshold of travelling time due to the relatively small population density of Penang. According to the advice given by a friend from Malaysia, we assume a threshold of 10 min\u2019s driving distance. It is the most important parameter used in this analysis and can be adjusted easily if the solution is deployed as a dashboard application later on. Please note that in consulting projects, such parameters need to be obtained via rigorous market research.", "This travelling distance question is important here because, given the threshold of the travelling time, we can estimate the number of customers each grocery store can reach out to, which is known as catchment analysis. To facilitate this analysis, we extract the estimated driving time between each pair of grid and existing grocery store via Google Distance Matrix API. The following code extracts the driving time from Orchard Road to Marina Bay Sands, Singapore.", "The result indicates that the driving time from the origin to the destination address is 13 min.", "Let\u2019s summarise the key information we have obtained at grid level.", "Now we take a quick look at the distribution of the number of customers and the grocery stores across the grids. The grids with no population are ignored in the following histograms.", "Both the number of customers and grocery stores look reasonable. From here, we are going to calculate a customer density index for each grid to evaluate the imbalance of the demand and supply across the city. Conceptually, it is equivalent to the demand to supply ratio (DSR).", "customer density = Number of customers / Number of grocery stores and supermarkets serving the customers in the grid", "We are going to recommend locations of the new supermarkets based on the customer density value. In general, high customer density indicates a good location for the new outlets. Therefore, our client can use it as a reference for site selection.", "Figure 5 shows the distribution of customer density across Penang. The regions with high DSR are highlighted in dark blue.", "This concludes the series of the site selection case study. You might have noticed that the capacity of the supermarkets is not considered when estimating customer density. In other words, the capacity of all the existing stores is treated the same in this study, which is not accurate in reality. One possible solution to this issue is to match the existing stores with their corresponding shapes from the OpenStreetMap (OSM) data. Floor area can be calculated with the coordinates and used to estimate the capacity of the stores.", "In addition, please plan your queries of Google API before execution. Do an estimation of the number of queries and the total cost.", "The scripts and notebooks used in this study are available on GitHub. Thanks for the read.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Discover the world over data. Data Scientist, Singapore | Amateur photographer and chess fan"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F2eefc5f5140&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcrack-site-selection-puzzle-by-geospatial-analysis-part-2-2eefc5f5140&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcrack-site-selection-puzzle-by-geospatial-analysis-part-2-2eefc5f5140&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcrack-site-selection-puzzle-by-geospatial-analysis-part-2-2eefc5f5140&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcrack-site-selection-puzzle-by-geospatial-analysis-part-2-2eefc5f5140&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----2eefc5f5140--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2eefc5f5140--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@wangshenghao1993?source=post_page-----2eefc5f5140--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@wangshenghao1993?source=post_page-----2eefc5f5140--------------------------------", "anchor_text": "Wang Shenghao"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F75535ec0f14c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcrack-site-selection-puzzle-by-geospatial-analysis-part-2-2eefc5f5140&user=Wang+Shenghao&userId=75535ec0f14c&source=post_page-75535ec0f14c----2eefc5f5140---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2eefc5f5140&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcrack-site-selection-puzzle-by-geospatial-analysis-part-2-2eefc5f5140&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2eefc5f5140&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcrack-site-selection-puzzle-by-geospatial-analysis-part-2-2eefc5f5140&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/crack-site-selection-puzzle-by-geospatial-analysis-part-1-684ecabf8df7", "anchor_text": "the first blog of this series"}, {"url": "https://developers.google.com/places/web-service/intro", "anchor_text": "Google Places API"}, {"url": "https://gist.github.com/Shenghao1993/7e32e631b408f51bbec7ef4b2022604b", "anchor_text": "query_places_api.py"}, {"url": "https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png", "anchor_text": "https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png"}, {"url": "https://maps.google.com/maps/contrib/111973208857299784904\\", "anchor_text": "https://maps.google.com/maps/contrib/111973208857299784904\\"}, {"url": "https://developers.google.com/maps/documentation/distance-matrix/start", "anchor_text": "Google Distance Matrix API"}, {"url": "https://gist.github.com/Shenghao1993/72772aee1633d917b412b9f032cddd3d#file-query_dist_api-py", "anchor_text": "query_dist_api.py"}, {"url": "https://github.com/Shenghao1993/asiatique", "anchor_text": "GitHub"}, {"url": "https://medium.com/tag/geospatial-analytics?source=post_page-----2eefc5f5140---------------geospatial_analytics-----------------", "anchor_text": "Geospatial Analytics"}, {"url": "https://medium.com/tag/python?source=post_page-----2eefc5f5140---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----2eefc5f5140---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/qgis?source=post_page-----2eefc5f5140---------------qgis-----------------", "anchor_text": "Qgis"}, {"url": "https://medium.com/tag/site-selection?source=post_page-----2eefc5f5140---------------site_selection-----------------", "anchor_text": "Site Selection"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2eefc5f5140&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcrack-site-selection-puzzle-by-geospatial-analysis-part-2-2eefc5f5140&user=Wang+Shenghao&userId=75535ec0f14c&source=-----2eefc5f5140---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2eefc5f5140&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcrack-site-selection-puzzle-by-geospatial-analysis-part-2-2eefc5f5140&user=Wang+Shenghao&userId=75535ec0f14c&source=-----2eefc5f5140---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2eefc5f5140&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcrack-site-selection-puzzle-by-geospatial-analysis-part-2-2eefc5f5140&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2eefc5f5140--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F2eefc5f5140&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcrack-site-selection-puzzle-by-geospatial-analysis-part-2-2eefc5f5140&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----2eefc5f5140---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----2eefc5f5140--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----2eefc5f5140--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----2eefc5f5140--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----2eefc5f5140--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----2eefc5f5140--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----2eefc5f5140--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----2eefc5f5140--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----2eefc5f5140--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@wangshenghao1993?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@wangshenghao1993?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Wang Shenghao"}, {"url": "https://medium.com/@wangshenghao1993/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "26 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F75535ec0f14c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcrack-site-selection-puzzle-by-geospatial-analysis-part-2-2eefc5f5140&user=Wang+Shenghao&userId=75535ec0f14c&source=post_page-75535ec0f14c--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F1408d23175aa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcrack-site-selection-puzzle-by-geospatial-analysis-part-2-2eefc5f5140&newsletterV3=75535ec0f14c&newsletterV3Id=1408d23175aa&user=Wang+Shenghao&userId=75535ec0f14c&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}