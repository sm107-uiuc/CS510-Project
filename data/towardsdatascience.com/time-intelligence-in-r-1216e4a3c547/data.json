{"url": "https://towardsdatascience.com/time-intelligence-in-r-1216e4a3c547", "time": 1683002154.2836921, "path": "towardsdatascience.com/time-intelligence-in-r-1216e4a3c547/", "webpage": {"metadata": {"title": "Time Intelligence calculations in R | by Hamza Rafiq | Towards Data Science", "h1": "Time Intelligence calculations in R", "description": "Time intelligence is simply doing calculations over periods of date or time. For example, a common request you could get is to get total sales aggregated by month for a year or to calculate total\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Time intelligence is simply doing calculations over periods of date or time. For example, a common request you could get is to get total sales aggregated by month for a year or to calculate total sales for products YTD and sales, same period last year to compare and calculate growth. Learning from my own practical experience, I will be sharing some of the ways you can make these calculations in R using the tidyverse and lubridate packages in R", "For this exercise, I created a dummy dataset in Excel. This dataset contains sales from January 2nd, 2017 till 30th September 2019", "Let's start with some basic time intelligence calculations. A common request you would get is to show total sales overtime, aggregated on a monthly level", "What if someone asked for total sales from January to June for 2019 and compare it with the same period for last year to see the change?", "So basically I used the %within% and Interval functions from the lubridate package to pass conditional parameters for the date column for which I want to calculate the sum", "But what if you are working with a live dataset? You wouldn't want to update your code every single time you have to run your regular report to account for the latest date parameters. I have a pretty neat solution for that as well", "This is the same formula as before. The only change is that I have replaced the date parameters in the interval function with functions that automatically calculate the desired date interval whenever you run your report or refresh your data. Let's break it down:", "I will show another example where you have to do calculations on a yearly granularity like YTD which will show how flexible this calculation is", "These are some of the solutions that I use at work to do \u201ctime intelligence\u201d calculations in R. I showed both the manual process for one-time ad-hoc requests and automated solutions for regular reporting. While my examples only consisted of yearly, monthly calculations, you can do calculations on any level like weekly, daily, and quarterly by following the same principles that I showed. I found this solution really useful for calculating KPIs that have to refreshed/reported regularly in our weekly/monthly/quarterly reports. It allows me to just refresh the report without having to manually calculate them every single time.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1216e4a3c547&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-intelligence-in-r-1216e4a3c547&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-intelligence-in-r-1216e4a3c547&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-intelligence-in-r-1216e4a3c547&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-intelligence-in-r-1216e4a3c547&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----1216e4a3c547--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1216e4a3c547--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@hamzarafique318?source=post_page-----1216e4a3c547--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@hamzarafique318?source=post_page-----1216e4a3c547--------------------------------", "anchor_text": "Hamza Rafiq"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F548c87052d7f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-intelligence-in-r-1216e4a3c547&user=Hamza+Rafiq&userId=548c87052d7f&source=post_page-548c87052d7f----1216e4a3c547---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1216e4a3c547&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-intelligence-in-r-1216e4a3c547&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1216e4a3c547&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-intelligence-in-r-1216e4a3c547&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/tag/data-science?source=post_page-----1216e4a3c547---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/business-intelligence?source=post_page-----1216e4a3c547---------------business_intelligence-----------------", "anchor_text": "Business Intelligence"}, {"url": "https://medium.com/tag/business-analytics?source=post_page-----1216e4a3c547---------------business_analytics-----------------", "anchor_text": "Business Analytics"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----1216e4a3c547---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/analytics?source=post_page-----1216e4a3c547---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1216e4a3c547&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-intelligence-in-r-1216e4a3c547&user=Hamza+Rafiq&userId=548c87052d7f&source=-----1216e4a3c547---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1216e4a3c547&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-intelligence-in-r-1216e4a3c547&user=Hamza+Rafiq&userId=548c87052d7f&source=-----1216e4a3c547---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1216e4a3c547&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-intelligence-in-r-1216e4a3c547&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1216e4a3c547--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1216e4a3c547&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-intelligence-in-r-1216e4a3c547&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1216e4a3c547---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1216e4a3c547--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1216e4a3c547--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1216e4a3c547--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1216e4a3c547--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1216e4a3c547--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1216e4a3c547--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1216e4a3c547--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1216e4a3c547--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@hamzarafique318?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@hamzarafique318?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Hamza Rafiq"}, {"url": "https://medium.com/@hamzarafique318/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "103 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F548c87052d7f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-intelligence-in-r-1216e4a3c547&user=Hamza+Rafiq&userId=548c87052d7f&source=post_page-548c87052d7f--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fc5c60202b559&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-intelligence-in-r-1216e4a3c547&newsletterV3=548c87052d7f&newsletterV3Id=c5c60202b559&user=Hamza+Rafiq&userId=548c87052d7f&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}