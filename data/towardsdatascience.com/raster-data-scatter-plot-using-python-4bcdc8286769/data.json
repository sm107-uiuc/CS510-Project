{"url": "https://towardsdatascience.com/raster-data-scatter-plot-using-python-4bcdc8286769", "time": 1683010715.830543, "path": "towardsdatascience.com/raster-data-scatter-plot-using-python-4bcdc8286769/", "webpage": {"metadata": {"title": "Raster Data Scatter Plot Using Python | by Sutan Mufti | Towards Data Science", "h1": "Raster Data Scatter Plot Using Python", "description": "Raster data is basically an image or matrix. As an image or matrix, it is consisted of arrays and can be formed as data frames or spreadsheets. You can even visualize raster data in Adobe Photoshop\u2026"}, "outgoing_paragraph_urls": [{"url": "https://excelcharts.com/", "anchor_text": "Ms. Excel", "paragraph_index": 0}, {"url": "https://www.w3resource.com/numpy/manipulation/ravel.php", "anchor_text": "by raveling", "paragraph_index": 4}, {"url": "http://about.sutan.co.uk/", "anchor_text": "about.sutan.co.uk/", "paragraph_index": 24}], "all_paragraphs": ["Raster data is basically an image or matrix. As an image or matrix, it is consisted of arrays and can be formed as data frames or spreadsheets. You can even visualize raster data in Adobe Photoshop or Ms. Excel! Each raster cell holds a single numeric value that can mean anything as it depends on the context. This value can be elevation, land cover index, NDVI (Normalized Difference vegetation Index) all depending on the context.", "In some cases, we might want to see the relationship between rasters. For example, does slope affect greeneries? What is the relationship between NDVI and NDBI? Does equidistance to transportation facility correlate with Nitrogen Dioxide or any other pollution gasses?", "Although some software provides a way to display a scatter plot between two raster data, I always find it infuriating. Displaying the plot needs high ram and CPU usage so it often causes lag. The window panes take time to load, changing things or plot properties also takes time to load. Besides, sometimes, we need to automate our works without having to do tedious tasks such as layouts and prettying our graph again and again and again. This becomes worse when we deal with high-resolution rasters which requires even more RAM or CPU!", "Fortunately, Python has a way to do such a task without having to do the tedious things. With Python, the need for RAM and CPU capacity can also be reduced when displaying the scatter plot because there is no need for GUI and minimizing the display. I would like to share this process, and thus, This article\u2019s main objective is to show you how to preprocess rasters (using GIS) and display them in a scatter plot using Python.", "A Scatter plot needs 2 inputs, and both inputs need to be one dimensional. Raster data, as its nature, is 2-dimensional data, so we need to reshape the data into one dimensional. This reshaping is done by raveling.", "Before the raveling, some criteria must be met before we start the raveling process. Each cell of the raster must be ensured to be spatially aligned. This makes sure that one dimensional raveled data is logical and resembles correspondency. If there is a spatial mismatch between 2 raster data, then the scatter plot that is produced will draw false plotting. Furthermore about the criteria will be explained in the Data Criteria section.", "Anyway, raveling produces a single-dimensional array with a length of columns times rows. Ensuring both raster data have the same columns and rows means ensuring the length of the raveled data to be precise.", "If you want to proceed, it is recommended that you understand", "If we are going to plot two rasters into a scatter plot, then some of the criteria must be met:", "If your raster data do not meet the criteria, and often they don\u2019t, some geospatial preprocessing must be conducted. I\u2019m going to explain using ArcGIS toolsets, and for other software such as QGis, or even Python Package such as RasterIO or Geopandas, equivalent tools should exist. Please bear with me\u2026", "Suppose we have 2 rasters: X-Axis Raster and Y-Axis Raster. These 2 rasters overlap each other and we want to overview the relationship. We can imagine the x-axis raster as an NDVI raster and the Y-axis raster as an Elevation data aster. Because of the different sources and collection methods, these two rasters have different properties. So, some preprocessing is needed.", "choose one reference raster. I prefer the lowest scale raster (the least resolution; the smallest number of columns, and rows). You can see the properties in GIS software, and find the columns, rows, and pixel size of the raster. In this case, my raster reference (I\u2019ll name it X-axis raster) has 203 columns, 210 columns, and 158 (meter) pixel size.", "now, for example, the Y-axis raster has different properties such as illustrated below. We must make changes to this Y-axis raster such that it has the same properties with X-axis as our raster reference.", "Now, the data are prepared, it\u2019s time to cook. The steps are really simple!", "We are going to need these libraries:", "as I explained in the logic section, we must ravel each raster. We will ravel the raster using fetch_data function below. The fetch_data function reads and cleans the raster data. Cleaning is important as the TIF images contain supposed to be null values, but are not yet null. Cleaning converts these values into nulls to be later be dropped. The fetch_data returns raveled, clean, and ready to plot raster.", "After defining the function, we ravel the X-Axis raster and Y-Axis raster using the fetch_data function. Now we have x_data and y_data.", "This part is just matplotlib visualization basic. you can use simple scatter code such as below.", "Using the codes above, we should have this plot result. There you have it! The Scatter plot of two rasters!", "The plotting process is quite direct, but the preprocessing using GIS is tricky. In this case, the GIS pre-processing needs human supervision, so you must be fully aware and careful.", "The raveling only works if the raster inputs are spatially aligned. This spatial alignment is perhaps the most important aspect that should be thoroughly checked. This steps so crucial because raveling and plotting the data will always yield a scatter plot as long as the dimensions are the same. This illusive scatter plot will mislead because it does not have any indication of spatial alignment yet in essence, it is displaying spatially misaligned information.", "For example, a 34x78 dimension 10m resolution raster technically can be plotted with a 78x34 dimension 10m resolution raster. When raveled, they yield the same one-dimensional length, 34x78=2652. You can also technically plot these rasters but they will mean nothing. Even worse if both rasters are not overlapping.", "So, always double-check that your raster data are in the same dimension, and spatially aligned. Good luck!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "software engineering for spatial data. Towards sustainable energy development. MSc Infrastructure Planning, UCL; Urban planning ITB. about.sutan.co.uk/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4bcdc8286769&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fraster-data-scatter-plot-using-python-4bcdc8286769&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fraster-data-scatter-plot-using-python-4bcdc8286769&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fraster-data-scatter-plot-using-python-4bcdc8286769&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fraster-data-scatter-plot-using-python-4bcdc8286769&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4bcdc8286769--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4bcdc8286769--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://sutan.co.uk/?source=post_page-----4bcdc8286769--------------------------------", "anchor_text": ""}, {"url": "https://sutan.co.uk/?source=post_page-----4bcdc8286769--------------------------------", "anchor_text": "Sutan Mufti"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6b3de0d6aa21&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fraster-data-scatter-plot-using-python-4bcdc8286769&user=Sutan+Mufti&userId=6b3de0d6aa21&source=post_page-6b3de0d6aa21----4bcdc8286769---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4bcdc8286769&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fraster-data-scatter-plot-using-python-4bcdc8286769&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4bcdc8286769&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fraster-data-scatter-plot-using-python-4bcdc8286769&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://excelcharts.com/", "anchor_text": "Ms. Excel"}, {"url": "https://www.w3resource.com/numpy/manipulation/ravel.php", "anchor_text": "by raveling"}, {"url": "https://pro.arcgis.com/en/PRO-APP/TOOL-REFERENCE/DATA-MANAGEMENT/project.htm", "anchor_text": "Project"}, {"url": "https://pro.arcgis.com/en/pro-app/tool-reference/data-management/resample.htm", "anchor_text": "Resample"}, {"url": "https://desktop.arcgis.com/en/arcmap/10.3/tools/spatial-analyst-toolbox/extract-by-mask.htm", "anchor_text": "extract rasters by masking"}, {"url": "https://www.w3resource.com/w3r_images/numpy-manipulation-ravel-function-image-1.png", "anchor_text": "Ravel"}, {"url": "https://numpy.org/", "anchor_text": "Numpy"}, {"url": "https://pypi.org/project/Pillow/2.2.1/", "anchor_text": "Pillow"}, {"url": "https://matplotlib.org/", "anchor_text": "Matplotlib"}, {"url": "https://medium.com/tag/data-science?source=post_page-----4bcdc8286769---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/gis?source=post_page-----4bcdc8286769---------------gis-----------------", "anchor_text": "GIS"}, {"url": "https://medium.com/tag/python?source=post_page-----4bcdc8286769---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----4bcdc8286769---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----4bcdc8286769---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4bcdc8286769&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fraster-data-scatter-plot-using-python-4bcdc8286769&user=Sutan+Mufti&userId=6b3de0d6aa21&source=-----4bcdc8286769---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4bcdc8286769&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fraster-data-scatter-plot-using-python-4bcdc8286769&user=Sutan+Mufti&userId=6b3de0d6aa21&source=-----4bcdc8286769---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4bcdc8286769&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fraster-data-scatter-plot-using-python-4bcdc8286769&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4bcdc8286769--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4bcdc8286769&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fraster-data-scatter-plot-using-python-4bcdc8286769&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4bcdc8286769---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4bcdc8286769--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4bcdc8286769--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4bcdc8286769--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4bcdc8286769--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4bcdc8286769--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4bcdc8286769--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4bcdc8286769--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4bcdc8286769--------------------------------", "anchor_text": ""}, {"url": "https://sutan.co.uk/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://sutan.co.uk/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sutan Mufti"}, {"url": "https://sutan.co.uk/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "509 Followers"}, {"url": "http://about.sutan.co.uk/", "anchor_text": "about.sutan.co.uk/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6b3de0d6aa21&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fraster-data-scatter-plot-using-python-4bcdc8286769&user=Sutan+Mufti&userId=6b3de0d6aa21&source=post_page-6b3de0d6aa21--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F1956fbf7fe19&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fraster-data-scatter-plot-using-python-4bcdc8286769&newsletterV3=6b3de0d6aa21&newsletterV3Id=1956fbf7fe19&user=Sutan+Mufti&userId=6b3de0d6aa21&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}