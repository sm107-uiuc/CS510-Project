{"url": "https://towardsdatascience.com/create-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673", "time": 1682996952.5199842, "path": "towardsdatascience.com/create-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673/", "webpage": {"metadata": {"title": "Create a Marvel Database with SQL and Javascript, the easy way | by Henry Heberle, PhD | Towards Data Science", "h1": "Create a Marvel Database with SQL and Javascript, the easy way", "description": "In this post I explain how to create a Marvel Database (or a DC Database) using Wikipedia, Javascript and SQL. We will make a flexible tool that allows you to create different tables to use in your\u2026"}, "outgoing_paragraph_urls": [{"url": "https://w.wiki/4iP", "anchor_text": "https://w.wiki/4iP", "paragraph_index": 3}, {"url": "https://www.wikidata.org/wiki/Q841372", "anchor_text": "Juggernaut", "paragraph_index": 7}, {"url": "https://en.wikipedia.org/wiki/Special:Random", "anchor_text": "Random article", "paragraph_index": 8}, {"url": "https://en.wikipedia.org/wiki/Aluminium", "anchor_text": "Aluminium", "paragraph_index": 8}, {"url": "https://github.com/heberleh/comics-characters-js-database", "anchor_text": "GitHub page", "paragraph_index": 12}, {"url": "https://www.wikidata.org/wiki/Wikidata:Main_Page", "anchor_text": "Wikidata website", "paragraph_index": 14}, {"url": "https://query.wikidata.org/", "anchor_text": "Wikidata Query Service", "paragraph_index": 14}, {"url": "https://github.com/agershun/alasql", "anchor_text": "Alasql", "paragraph_index": 15}, {"url": "https://github.com/agershun/alasql/wiki", "anchor_text": "read more here", "paragraph_index": 15}, {"url": "https://github.com/heberleh/comics-characters-js-database", "anchor_text": "here", "paragraph_index": 16}, {"url": "https://github.com/heberleh/comics-characters-js-database", "anchor_text": "GitHub page", "paragraph_index": 19}, {"url": "https://heberleh.github.io/comics-universe/", "anchor_text": "this website", "paragraph_index": 20}, {"url": "https://heberleh.github.io/", "anchor_text": "https://heberleh.github.io/", "paragraph_index": 24}], "all_paragraphs": ["In this post I explain how to create a Marvel Database (or a DC Database) using Wikipedia, Javascript and SQL. We will make a flexible tool that allows you to create different tables to use in your projects. The concepts explained here can be extended for other subjects. This is a post for who doesn\u2019t have time to learn the complex syntax of the modified sql used in the Wikidata system and still would like to play with their data.", "The original reason for me to have a comics database was to create this visualization, which you will see again at the end of this article:", "The idea here is to go through the following steps to get a flexible database:", "Wikipedia has a great database and ontology behind it. You can access the query system by clicking here: https://w.wiki/4iP", "In the above link you will find something similar to this (and you will find more information about it there):", "In this code I am selecting entities that are instances of comic character and are in the fictional universe Marvel Universe. It may seem strange at first, but each of those codes are part of the Wikipedia Ontology. It is how they deal with redundancy and can organize and make everything work! But how can you create your own queries?", "First, will help you. Try typing wdt:<Ctrl+Space>. You notice that a helper tooltip pops up for you. Try typing instance of. You see that the code for \u2018instance of\u2019 is wdt:P31. Using the same approach, now for a value, you will type wdt:<Ctrl+Space> (no \u2018t\u2019 this time!) and comic character, enter, and voil\u00e0, you got the code wd:Q1114461.", "Okay, Henry, but I have no idea about what we can use, I don\u2019t have time to learn the Wikipedia language\u2026 and I understand you! So, to overcome this we will open this page here Juggernaut. This is the Wikipedia item code Q841372, the Juggernaut! Now look and check what is the information available for a comic character. Put your mouse pointer over the items in the Statements Section. For example, if you put your mouse over \u201cinstance of\u201d you will get the P31 code! Since it is not a value, use wdt for this one.", "By browsing that page you get a good idea about what are the properties you can use. Pause: If you want to create a database but don\u2019t know yet about what it will be, try the Random article function to get insights. We can do the same thing for any Wikipedia page. Go to the official Wikipedia website and search for anything, let\u2019s say\u2026 Aluminium. Now check the left-side bar and look for Wikidata item link.", "Click, and voil\u00e0, it shows all the attributes for this item. We see we get the mass by using wdt:P2067, and many other attributes that may apply for other types of metal.", "Now that we have the Wikidata, we will:", "For instance, I created one query for gender. One query for occupation, and so on. The result is a folder with many .json files I will load in my database formed by many tables. You could perform a single query with all the information. In my case, I want it to be malleable, so I can perform JOIN, LEFT JOIN , and other SELECT commands to get different tables.", "In fact, instead of getting only Marvel Universe, I discarded that filter and got a full database of instances of Fictional Characters (not only Comics Characters \u2014 for some reason this one would not query Captain America). So, in my json files, you find Marvel, DC, and others. The resulting jsons are found in my GitHub page. Next, I will show how I used the json files with an easy SQL DB in Javascript.", "As I mentioned in the last paragraph, my query is actually about the class Fictional Characters, and its sub-classes. I also queried partners and spouses, so for this I used the command | to define two wdt:", "Note that in the above code I am not filtering for Marvel anymore. For more complex queries or handling lists, please refer to the Wikidata website. Another good option is the Help button at the top of the Wikidata Query Service where you can find examples and support.", "Now that we have the json files, let\u2019s insert them into our SQL Database. For this, we will use a tool named Alasql. With Alasql, you can load data and create tables in different manners (read more here).", "Here, since we have the jsons from Wikidata, we will apply a SELECT on each json (file) and insert into a new table in our database for easy access. For simplification, my code will contain only two tables; you can find the complete updated version here. It looks like this:", "We are set. We have a database and can use it by calling let mydb = MarvelDB() and apply SQL commands like this: mydb.exec('SELECT DISTINCT abilityLabel from abilities').", "I defined some tests to make sure everything was working. It exemplifies the usage of our database. If you are not used to testing, just consider the let result = this.db.exec(...) and console.table(result) in the code below and ignore the other parts.", "The above SELECT returns the column charLabel and renames to name. It also joins the tables character, gender and abilities, making sure the entries have the same character id (char). Finally, it filters by a specific gender named agender. For more examples on this database, please go to the GitHub page - don\u2019t forget to star it :)", "This article describes the way I created the database for the following visualization. You can interact with it by accessing this website in a desktop/laptop (it may open in a mobile but the interaction is limited).", "This is part 1 of my series on Comics Characters:", "Feel welcomed to add private notes and comments. Thank you for reading my article!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist & Visualization Engineer. Info: https://heberleh.github.io/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F573ccdf44673&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----573ccdf44673--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----573ccdf44673--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@heberleh?source=post_page-----573ccdf44673--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@heberleh?source=post_page-----573ccdf44673--------------------------------", "anchor_text": "Henry Heberle, PhD"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4f904f61e54b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673&user=Henry+Heberle%2C+PhD&userId=4f904f61e54b&source=post_page-4f904f61e54b----573ccdf44673---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F573ccdf44673&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F573ccdf44673&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@happilyabstract?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Lena Rose"}, {"url": "https://heberleh.github.io/comics-universe/", "anchor_text": "https://heberleh.github.io/comics-universe/"}, {"url": "https://w.wiki/4iP", "anchor_text": "https://w.wiki/4iP"}, {"url": "https://www.wikidata.org/wiki/Q841372", "anchor_text": "Juggernaut"}, {"url": "https://en.wikipedia.org/wiki/Special:Random", "anchor_text": "Random article"}, {"url": "https://en.wikipedia.org/wiki/Aluminium", "anchor_text": "Aluminium"}, {"url": "https://github.com/heberleh/comics-characters-js-database", "anchor_text": "GitHub page"}, {"url": "https://www.wikidata.org/wiki/Wikidata:Main_Page", "anchor_text": "Wikidata website"}, {"url": "https://query.wikidata.org/", "anchor_text": "Wikidata Query Service"}, {"url": "https://github.com/agershun/alasql", "anchor_text": "Alasql"}, {"url": "https://github.com/agershun/alasql/wiki", "anchor_text": "read more here"}, {"url": "https://github.com/heberleh/comics-characters-js-database", "anchor_text": "here"}, {"url": "https://github.com/heberleh/comics-characters-js-database", "anchor_text": "GitHub page"}, {"url": "https://heberleh.github.io/comics-universe/", "anchor_text": "this website"}, {"url": "https://heberleh.github.io/comics-universe/", "anchor_text": "https://heberleh.github.io/comics-universe/"}, {"url": "https://towardsdatascience.com/create-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673", "anchor_text": "Create a Marvel Database with SQL and Javascript, the easy way"}, {"url": "https://medium.com/@heberleh/visualizing-comic-characters-genders-and-superpowers-ae7c2311cb89", "anchor_text": "Visualizing Comic Characters\u2019 Genders and Superpowers"}, {"url": "https://medium.com/@heberleh/comparing-marvel-and-dc-with-data-visualization-33b8f8486082", "anchor_text": "Comparing Marvel and DC with Data Visualization"}, {"url": "https://medium.com/tag/marvel?source=post_page-----573ccdf44673---------------marvel-----------------", "anchor_text": "Marvel"}, {"url": "https://medium.com/tag/javascript?source=post_page-----573ccdf44673---------------javascript-----------------", "anchor_text": "JavaScript"}, {"url": "https://medium.com/tag/database?source=post_page-----573ccdf44673---------------database-----------------", "anchor_text": "Database"}, {"url": "https://medium.com/tag/wikipedia?source=post_page-----573ccdf44673---------------wikipedia-----------------", "anchor_text": "Wikipedia"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----573ccdf44673---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F573ccdf44673&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673&user=Henry+Heberle%2C+PhD&userId=4f904f61e54b&source=-----573ccdf44673---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F573ccdf44673&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673&user=Henry+Heberle%2C+PhD&userId=4f904f61e54b&source=-----573ccdf44673---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F573ccdf44673&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----573ccdf44673--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F573ccdf44673&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----573ccdf44673---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----573ccdf44673--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----573ccdf44673--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----573ccdf44673--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----573ccdf44673--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----573ccdf44673--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----573ccdf44673--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----573ccdf44673--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----573ccdf44673--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@heberleh?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@heberleh?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Henry Heberle, PhD"}, {"url": "https://medium.com/@heberleh/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "47 Followers"}, {"url": "https://heberleh.github.io/", "anchor_text": "https://heberleh.github.io/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4f904f61e54b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673&user=Henry+Heberle%2C+PhD&userId=4f904f61e54b&source=post_page-4f904f61e54b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F4f904f61e54b%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreate-a-marvel-database-with-sql-and-javascript-the-easy-way-573ccdf44673&user=Henry+Heberle%2C+PhD&userId=4f904f61e54b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}