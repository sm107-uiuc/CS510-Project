{"url": "https://towardsdatascience.com/dates-in-power-bi-ada30f85e4b3", "time": 1683014560.55374, "path": "towardsdatascience.com/dates-in-power-bi-ada30f85e4b3/", "webpage": {"metadata": {"title": "Dates in Power BI. Working with Dates | by Peter Hui | Towards Data Science", "h1": "Dates in Power BI", "description": "In Power BI, the highly recommended approach from many experts is to create a date table when working with dates. I\u2019ve worked without it and it\u2019s definitely not a good idea. It gave me a headache and\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/joins-with-power-bi-bde7de3e2181?source=friends_link&sk=91ebb5c4e4dca48f4e1d216fe86ffdc4", "anchor_text": "this article", "paragraph_index": 6}, {"url": "https://docs.microsoft.com/en-us/powerquery-m/date-functions", "anchor_text": "browse here", "paragraph_index": 17}, {"url": "https://docs.microsoft.com/en-us/dax/custom-date-and-time-formats-for-the-format-function", "anchor_text": "info here", "paragraph_index": 33}, {"url": "https://docs.microsoft.com/en-us/dax/time-intelligence-functions-dax", "anchor_text": "here", "paragraph_index": 40}], "all_paragraphs": ["In Power BI, the highly recommended approach from many experts is to create a date table when working with dates. I\u2019ve worked without it and it\u2019s definitely not a good idea. It gave me a headache and needless suffering.", "The date table is important! Here are 3 reasons why.", "Date Calculations \u2014 DAX needs a date table to make date calculations! Those SAMEPERIODLASTYEAR, LASTQUARTER or DATESBETWEEN type calculations wouldn\u2019t work without it. Maybe it will, but it will just be very convoluted. Why hurt your head?", "Weekends/Holidays \u2014 if you need to exclude holidays in your calculations, and you are doing it without a date table? It would be very difficult.", "Different Granularity \u2014 Sometimes, you need to put together a comparison between a table that is based on month, while another is based on days. You need something to join them so you can report adequately.", "In this article, I\u2019ll show you how to create a calendar table in M (Power Query) and in DAX.", "Let\u2019s open Power Query (if you don\u2019t know where to open it, take a look at the basics in this article.)", "The table I want is a list of all the dates of a fiscal year, with days of the week named, month, and week number\u2026 also if possible, the holidays as well. We just want to flag those.", "Something like the below would be good.", "To do this in Power Query, we need to create a new query.", "To create a new query \u2014 Right-click on the query pane> Select New Blank Query > Select Advance Editor (button on the top)", "Once that is done \u2014 plug in this function into the advance editor.", "Okay, what the heck does that mean?", "It means I am using a List.Dates function, creating a date table from April 1, 2019, in the duration of 365 days.", "Once you input this, Power Query will give us a list of all dates from 4/1/2020 to 365 days after.", "Now it comes in a List format, so we have to convert it to a table in order to use our other functions. You can Select the column > Right-Click > To Table. It\u2019ll convert it to a table for you.", "Now let\u2019s add in some other functions.", "There are many other functions you can browse here. You can use these functions by taking the name of the function listed, and referring it to your date column.", "For example, if I am interested in adding in the name of the day of the week, I can type in Date.DayOfWeekName([Date]). Also if I am interested in just the number, the actual day of the week, I can use Date.DayofWeek([Date]).", "Many functions are listed in the link, it\u2019s a lot to experiment, so I have used only the ones I use the most. I don\u2019t know them all by heart.", "At the end, you will end up with a table like below.", "Now it is quite tedious to type all this for your PBI reports, so I have created a simple script for you. You may have to adjust the data types when you load it into PBI.", "Here is the script for a basic date table \u2014 copy the below Right Click >Select New Blank Query > Select Advance Editor > Paste the below", "Add in the 4 parameters according to your needs and you are good to go.", "Once entered, Power Query will bring you a date table. Now you can just enter the perimeters according to your needs.", "When loaded into the report, you just have to mark your table as a date table. Marking your table as a date table is explained below.", "You will then have a date table.", "The process to create a date table in DAX is very similar.", "You have to select Table Tools > New Table in Power BI report view, once that is done, you can populate your table by this function.", "Once you use this function to create a new table , you will get the following.", "Now, mark it as a date table by going to Table Tools > Mark as Date Table", "Power BI will ask you to select the date column. Once selected it will verify the table as a date table.", "With that being done, you can add in the other columns using the FORMAT function. Here I have added in FORMAT(Table[Date],\u201dDD\u201d) and others, I\u2019ve selected a few common ones I have used, but you can add your own format style as well, check out the last column below.", "There are of course other formats as well. You can get more info here", "You now know how to create a simple date table using both DAX and M. Now what\u2019s the point of all this? This is so you can connect your table (likely a fact table) with your date table.", "Something like this will likely help you.", "You can now create a many to 1 join between the fact table and the date table.", "Since your dates are now reflected in a date table, you can now do calculations like the below.", "Getting the Total Sales of between two dates.", "Now these DAX date calculations only work if you have a date table and if it\u2019s connected this way. Perhaps your fact table is small and you can get away with having a date column within your fact table, but it just won\u2019t be pretty.", "There are many many cool DAX date-time intelligence functions that are here.", "I get this too. \u201cIt\u2019s great that you\u2019ve shown me how to build a date table in DAX and in M and a couple of measures using time intelligence but I can\u2019t even get started because my date column in my fact table is screwed up to begin with!\u201d", "Here is what you can do \u2014 and it works almost all the time for me. Hopefully, your table is not screwed up to a point where the months and days are reversed row by row.. that may be another article in itself.", "I suggest using the \u201ccolumn by example\u201d in Power Query. The \u201cAI\u201d in Power Query over here. I wasn\u2019t able to use the Date column here because it is in Text and even when converted to date, it throws an Error.", "Start populating the date column yourself and the AI will pick up what you are doing and create the new date column for you.", "Notice how it picks up what you are doing when you are adding the slash?", "It gets what you are trying to do!", "Now you can do your join to the Date table.", "Stay encouraged, stay safe and good luck with your data journey!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I write about Power BI, Power Automate and other cool Microsoft power tools. Microsoft certified data analyst. Constant learner and an aspiring writer. \ud83d\udc4d"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fada30f85e4b3&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdates-in-power-bi-ada30f85e4b3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdates-in-power-bi-ada30f85e4b3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdates-in-power-bi-ada30f85e4b3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdates-in-power-bi-ada30f85e4b3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ada30f85e4b3--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ada30f85e4b3--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://peter-hui.medium.com/?source=post_page-----ada30f85e4b3--------------------------------", "anchor_text": ""}, {"url": "https://peter-hui.medium.com/?source=post_page-----ada30f85e4b3--------------------------------", "anchor_text": "Peter Hui"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F62a43e57781b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdates-in-power-bi-ada30f85e4b3&user=Peter+Hui&userId=62a43e57781b&source=post_page-62a43e57781b----ada30f85e4b3---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fada30f85e4b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdates-in-power-bi-ada30f85e4b3&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fada30f85e4b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdates-in-power-bi-ada30f85e4b3&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@curtismacnewton?utm_source=medium&utm_medium=referral", "anchor_text": "Curtis MacNewton"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/joins-with-power-bi-bde7de3e2181?source=friends_link&sk=91ebb5c4e4dca48f4e1d216fe86ffdc4", "anchor_text": "this article"}, {"url": "https://docs.microsoft.com/en-us/powerquery-m/date-functions", "anchor_text": "browse here"}, {"url": "https://docs.microsoft.com/en-us/dax/custom-date-and-time-formats-for-the-format-function", "anchor_text": "info here"}, {"url": "https://docs.microsoft.com/en-us/dax/time-intelligence-functions-dax", "anchor_text": "here"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ada30f85e4b3---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----ada30f85e4b3---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/power-bi?source=post_page-----ada30f85e4b3---------------power_bi-----------------", "anchor_text": "Power Bi"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----ada30f85e4b3---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/data?source=post_page-----ada30f85e4b3---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fada30f85e4b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdates-in-power-bi-ada30f85e4b3&user=Peter+Hui&userId=62a43e57781b&source=-----ada30f85e4b3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fada30f85e4b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdates-in-power-bi-ada30f85e4b3&user=Peter+Hui&userId=62a43e57781b&source=-----ada30f85e4b3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fada30f85e4b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdates-in-power-bi-ada30f85e4b3&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ada30f85e4b3--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fada30f85e4b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdates-in-power-bi-ada30f85e4b3&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ada30f85e4b3---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ada30f85e4b3--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ada30f85e4b3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ada30f85e4b3--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ada30f85e4b3--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ada30f85e4b3--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ada30f85e4b3--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ada30f85e4b3--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ada30f85e4b3--------------------------------", "anchor_text": ""}, {"url": "https://peter-hui.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://peter-hui.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Peter Hui"}, {"url": "https://peter-hui.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "592 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F62a43e57781b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdates-in-power-bi-ada30f85e4b3&user=Peter+Hui&userId=62a43e57781b&source=post_page-62a43e57781b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd0268e337bf9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdates-in-power-bi-ada30f85e4b3&newsletterV3=62a43e57781b&newsletterV3Id=d0268e337bf9&user=Peter+Hui&userId=62a43e57781b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}