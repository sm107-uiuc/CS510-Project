{"url": "https://towardsdatascience.com/statistical-simulation-in-r-part-1-d9cb4dc393c9", "time": 1683014568.778464, "path": "towardsdatascience.com/statistical-simulation-in-r-part-1-d9cb4dc393c9/", "webpage": {"metadata": {"title": "Statistical Simulation in R with Code \u2014 Part 1 | by Leihua Ye, PhD | Towards Data Science", "h1": "Statistical Simulation in R with Code \u2014 Part 1", "description": "For the past few months, I\u2019ve received several Data Science interviews from the top tech companies. Almost all of the interviewers asked me to perform statistical simulation for a real business\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/sample", "anchor_text": "link", "paragraph_index": 15}, {"url": "https://www.r-bloggers.com/2012/08/m-x-n-matrix-with-randomly-assigned-01/", "anchor_text": "here", "paragraph_index": 38}, {"url": "https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/apply", "anchor_text": "link", "paragraph_index": 44}, {"url": "https://blog.medium.com/evolving-the-partner-program-2613708f9f3c", "anchor_text": "Writer Partner Program", "paragraph_index": 47}, {"url": "https://www.linkedin.com/in/leihuaye/", "anchor_text": "LinkedIn", "paragraph_index": 48}, {"url": "https://www.youtube.com/channel/UCBBu2nqs6iZPyNSgMjXUGPg", "anchor_text": "Youtube", "paragraph_index": 48}, {"url": "http://www.linkedin.com/in/leihuaye", "anchor_text": "www.linkedin.com/in/leihuaye", "paragraph_index": 51}], "all_paragraphs": ["This is part 1of a dual post on Statistical Simulation. Please check out part 2 here if you haven\u2019t:", "For the past few months, I\u2019ve received several Data Science interviews from the top tech companies. Almost all of the interviewers asked me to perform statistical simulation for a real business scenario, which I failed to impress.", "You know, they are reasonable questions and not super difficult to answer if I had been exposed to the topic before.", "Until today, I\u2019ve spent hundreds of hours learning simulations and preparing for the next technical interviews.", "Statistical simulation is a rather broad field, and it\u2019s impossible to cover every detail in just one writing. Serving as a starter, I plan to lay out the nuances and applications of simulation through a sequence of posts.", "In the real world, things happen randomly, and there is an infinite number of possibilities. We may only be able to observe only a fraction of, but not, the entire possibilities.", "Simulation comes in handy and offers a quick overview of the distribution of the possibilities that match real-world outcomes. By studying simulated outcomes, we gain insights into the real world.", "Let\u2019s start with the easiest code and move up to more sophisticated scenarios.", "The command runif(x, min=a, max=b) generates x number of values within the range between a and b.", "The set.seed() function sets a seed for R\u2019s random number generator, so that we get the same values consistently each time we run the code. Otherwise, we will get different results. Try yourself.", "To get integers, we use the round function, as follows:", "Here, the pipe, %>%, comes from magrittr package and allows you to write cleaner and easily understandable code. It can be translated into plain English as \u2018then.\u2019", "In English, the above two lines of code mean:", "Try what happens if you tweak the digits = 1.", "Another way of generating a random number is via the sample function:", "(Please refer to R documentation for more information, link)", "The set.seed() function makes the result reproducible.", "The above code generates a random sample of 8 numbers from the sequence [1,10]. As you can see, we do not set rules for replacement and probability of selection.", "By default, R sets replacement to FALSE and adopts equal probabilities of selection.", "The process of resampling with replacement is called bootstrapping, a more advanced topic that will be covered in the next chapter.", "Besides numbers, we can sample words, as follows:", "We generate a random sample of size 10 from the sequence [1,5] with equal probabilities.", "If we set prob=rep(0.1,5), then numbers 1 to 5 will be equally sampled, as shown in the histogram above.", "What does the distribution look like if the probabilities of selection are not equal (e.g., a loaded dice)?", "We generate a random sample of size 10 from sequence[1,5] with unequal probabilities", "We set the following selection probability rules for the sequence:", "As it turns out, number 3 is the most selected and 1 & 5 are the least selected.", "These equal/unequal scenarios could be tremendously helpful if the question of interest needs differentiated treatments of selection probability.", "To sample observations (rows) from a data frame or a list, we don\u2019t sample the rows directly but the indices into an object.", "In this section, let\u2019s get some practice and solve real-life business scenarios.", "Similarly, we can use a for loop for the same purpose.", "These two outcomes are almost the same.", "Instead of simulating each outcome, there is an easier way of getting what we need using sapply.", "According to R documentation, sapply() function is a \u201cuser-friendly version and wrapper of lapply by default returning a vector, matrix or, if simplify = \"array\", an array if appropriate, by applying simplify2array(). sapply(x, f, simplify = FALSE, USE.NAMES = FALSE) is the same as lapply(x, f).\u201d", "Briefly, the function applies the function mean(outcomes) to the sequence [2,13].", "Question for you: what is the probability of rolling a 7 if you have 3 dices?", "After sampling, we use unique() to find the distinctive observations and length() to count. In a 10k sample, 6316 unique cases are sampled and 3684 (10k \u2014 6316) cases are not.", "As a further note, the reason why we only get 6316 out of 10k is that we sample with replacements, and so some numbers are sampled repetitively. In other words, some numbers are sampled multiple times.", "(credits to discussions on R-bloggers, here)", "In the original post, the authors introduce multiple methods, and I focus on the first approaches here.", "First, we can use a for loop.", "Here, matrix(0,m,n) creates an empty matrix by m*n, and the two for loops dictate the values of each cell.", "Most of the time, a for loop in R may not be the most efficient solution, and we shall use other options if the sample size is big enough.", "With that in mind, the authors contribute the second method using apply() function.", "So far, everything should be quite familiar except the apply() function. It returns \u201ca vector/array/list of values obtained by applying a function to margins of an array or matrix\u201d (original definition, link).", "Here, I\u2019ll explain three lines of code, and the rest is pretty self-explanatory.", "This is an intro post on statistical simulation, and we will explore more advanced topics in the next posts.", "Medium recently evolved its Writer Partner Program, which supports ordinary writers like myself. If you are not a subscriber yet and sign up via the following link, I\u2019ll receive a portion of the membership fees.", "Please find me on LinkedIn and Youtube.", "Also, check my other posts on Artificial Intelligence and Machine Learning.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist @ Walmart; PhD @ University of California. Data Science | Experimentation & Causal Inference | Career Development www.linkedin.com/in/leihuaye"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fd9cb4dc393c9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstatistical-simulation-in-r-part-1-d9cb4dc393c9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstatistical-simulation-in-r-part-1-d9cb4dc393c9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstatistical-simulation-in-r-part-1-d9cb4dc393c9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstatistical-simulation-in-r-part-1-d9cb4dc393c9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----d9cb4dc393c9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d9cb4dc393c9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://leihua-ye.medium.com/?source=post_page-----d9cb4dc393c9--------------------------------", "anchor_text": ""}, {"url": "https://leihua-ye.medium.com/?source=post_page-----d9cb4dc393c9--------------------------------", "anchor_text": "Leihua Ye, PhD"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4e1d06dd743&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstatistical-simulation-in-r-part-1-d9cb4dc393c9&user=Leihua+Ye%2C+PhD&userId=4e1d06dd743&source=post_page-4e1d06dd743----d9cb4dc393c9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd9cb4dc393c9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstatistical-simulation-in-r-part-1-d9cb4dc393c9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd9cb4dc393c9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstatistical-simulation-in-r-part-1-d9cb4dc393c9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.flickr.com/photos/86689809@N00/157763181/", "anchor_text": "https://www.flickr.com/photos/86689809@N00/157763181/"}, {"url": "https://towardsdatascience.com/statistical-simulation-in-python-part-2-91f71f474f77", "anchor_text": "Statistical Simulation in Python, Part 2The most important part of any Data Science Interview!towardsdatascience.com"}, {"url": "https://unsplash.com/@photoshobby?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Photos Hobby"}, {"url": "https://unsplash.com/s/photos/cyber-punk?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/sample", "anchor_text": "link"}, {"url": "https://www.r-bloggers.com/2012/08/m-x-n-matrix-with-randomly-assigned-01/", "anchor_text": "here"}, {"url": "https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/apply", "anchor_text": "link"}, {"url": "https://blog.medium.com/evolving-the-partner-program-2613708f9f3c", "anchor_text": "Writer Partner Program"}, {"url": "https://leihua-ye.medium.com/membership", "anchor_text": "Read every story from Leihua Ye, Ph.D. Researcher (and thousands of other writers on Medium)As a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026leihua-ye.medium.com"}, {"url": "https://www.linkedin.com/in/leihuaye/", "anchor_text": "LinkedIn"}, {"url": "https://www.youtube.com/channel/UCBBu2nqs6iZPyNSgMjXUGPg", "anchor_text": "Youtube"}, {"url": "https://medium.com/tag/r?source=post_page-----d9cb4dc393c9---------------r-----------------", "anchor_text": "R"}, {"url": "https://medium.com/tag/programming?source=post_page-----d9cb4dc393c9---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/data-science?source=post_page-----d9cb4dc393c9---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----d9cb4dc393c9---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/technology?source=post_page-----d9cb4dc393c9---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd9cb4dc393c9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstatistical-simulation-in-r-part-1-d9cb4dc393c9&user=Leihua+Ye%2C+PhD&userId=4e1d06dd743&source=-----d9cb4dc393c9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd9cb4dc393c9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstatistical-simulation-in-r-part-1-d9cb4dc393c9&user=Leihua+Ye%2C+PhD&userId=4e1d06dd743&source=-----d9cb4dc393c9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd9cb4dc393c9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstatistical-simulation-in-r-part-1-d9cb4dc393c9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d9cb4dc393c9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fd9cb4dc393c9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstatistical-simulation-in-r-part-1-d9cb4dc393c9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----d9cb4dc393c9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----d9cb4dc393c9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----d9cb4dc393c9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----d9cb4dc393c9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----d9cb4dc393c9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----d9cb4dc393c9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----d9cb4dc393c9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----d9cb4dc393c9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----d9cb4dc393c9--------------------------------", "anchor_text": ""}, {"url": "https://leihua-ye.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://leihua-ye.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Leihua Ye, PhD"}, {"url": "https://leihua-ye.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "4.8K Followers"}, {"url": "http://www.linkedin.com/in/leihuaye", "anchor_text": "www.linkedin.com/in/leihuaye"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4e1d06dd743&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstatistical-simulation-in-r-part-1-d9cb4dc393c9&user=Leihua+Ye%2C+PhD&userId=4e1d06dd743&source=post_page-4e1d06dd743--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd1bfe0ce66a2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstatistical-simulation-in-r-part-1-d9cb4dc393c9&newsletterV3=4e1d06dd743&newsletterV3Id=d1bfe0ce66a2&user=Leihua+Ye%2C+PhD&userId=4e1d06dd743&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}