{"url": "https://towardsdatascience.com/automate-sending-emails-with-gmail-in-python-449cc0c3c317", "time": 1683005408.509689, "path": "towardsdatascience.com/automate-sending-emails-with-gmail-in-python-449cc0c3c317/", "webpage": {"metadata": {"title": "Send Emails in Python with Gmail. Send emails in a few lines of code | by Peter Xie | Towards Data Science", "h1": "Send Emails in Python with Gmail", "description": "This post will explain how to set up an app password in Google account and use Python to send emails in a few lines of code for automatic reporting, test automation or CI/CD failure notification etc\u2026"}, "outgoing_paragraph_urls": [{"url": "https://support.google.com/accounts/answer/6010255?hl=en", "anchor_text": "\u2018Less Secure App Access\u2019", "paragraph_index": 1}, {"url": "https://github.com/kootenpv/yagmail", "anchor_text": "yagmail", "paragraph_index": 6}, {"url": "https://gist.github.com/peterjpxie/decd14f5926a895f5cb1d842f2350781", "anchor_text": "here", "paragraph_index": 17}, {"url": "https://docs.python.org/3/library/email.message.html#email.message.EmailMessage", "anchor_text": "EmailMessage", "paragraph_index": 18}, {"url": "https://docs.python.org/3/library/email.html", "anchor_text": "document", "paragraph_index": 18}, {"url": "https://docs.python.org/3/library/email.examples.html", "anchor_text": "here", "paragraph_index": 18}], "all_paragraphs": ["This post will explain how to set up an app password in Google account and use Python to send emails in a few lines of code for automatic reporting, test automation or CI/CD failure notification etc.", "To use a Gmail account to send emails with a third party app, e.g. Python script, in this case, we need to set up an app password. For security reasons, the normal Gmail password is restricted to web login only. And as of 2020 even you turn on the \u2018Less Secure App Access\u2019 option in your google account, which is mentioned in some other posts, you won\u2019t be able to log in to your Gmail account with the normal password in a Python script.", "First, you need to enable 2-Step Verification. Just go to your Google Account > Security > Signing in to Google, and select 2-Step Verification and follow the instruction.", "Next, create an app password. Just select \u2018App passwords\u2019 under \u20182-Step Verification\u2019 and you will see a window as follows. Select \u2018Other\u2019 in the \u2018Select app\u2019 dropdown.", "And enter a name, e.g. Python, and click \u2018GENERATE\u2019. Note this name has no link to the Python script and it could be anything.", "Then you will get a new app password. Copy and save the 16-character password without space, e.g. xnwbjmgvjeeevlgc, to use in your Python script.", "yagmail is a wrapper of Python standard library smtplib, which makes sending emails very easy.", "To install yagmail in Python, simply run pip install yagmail.", "Below is a sample script sending an email with two attachments.", "The code is so simple and self-explained, so it barely needs any explanation. Apart from your Gmail username and app password, you just define to, subject and content just like writing an email from web Gmail. The content is a list, and the first element is the body text part and the rest are attachments. In this example, we attach \u2018pytest.ini\u2019 and \u2018test.png\u2019 from the same folder where the script resides.", "To run this script, simply run python send_gmail_by_yagmail.py in any platform, Windows, Linux or MacOS. And you will get an email in the recipient account as follows.", "To send a group of recipients, simply change \u2018to\u2019 to a list.", "Note that yagmail uses gmail SMTP server by default, and you can explicitly define the SMTP server and port.", "We can also use Python standard library without installing any additional packages to send emails.", "First, we import the standard email and smtplib packages, and define related variables.", "Second, we define an email message object with the information above. The message is defined as a MIMEMultipart so that we can add attachments, and each part is a MIMEText object, which supports binary files as well.", "Lastly, we call smtplib to login and send the message.", "You can find the full script send_gmail_standard_lib.py here. And of course to run, just type python send_gmail_standard_lib.py.", "The two examples above support Python 3.5 or even lower. A new EmailMessage API was introduced in Python 3.6 to define the email. You can refer to the latest document and an example here for more detail.", "You can encounter UnicodeDecodeError on non-English Windows OS as follows.", "This seems a bug in Python smtplib module. The reason is that your computer name contains non-English characters. So the workaround is simply to rename your computer name with English only characters.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Code Simple | Python and AI Enthusiast | peter.jp.xie@gmail.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F449cc0c3c317&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomate-sending-emails-with-gmail-in-python-449cc0c3c317&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomate-sending-emails-with-gmail-in-python-449cc0c3c317&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomate-sending-emails-with-gmail-in-python-449cc0c3c317&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomate-sending-emails-with-gmail-in-python-449cc0c3c317&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----449cc0c3c317--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----449cc0c3c317--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://peter-jp-xie.medium.com/?source=post_page-----449cc0c3c317--------------------------------", "anchor_text": ""}, {"url": "https://peter-jp-xie.medium.com/?source=post_page-----449cc0c3c317--------------------------------", "anchor_text": "Peter Xie"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff2ed0f8e5472&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomate-sending-emails-with-gmail-in-python-449cc0c3c317&user=Peter+Xie&userId=f2ed0f8e5472&source=post_page-f2ed0f8e5472----449cc0c3c317---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F449cc0c3c317&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomate-sending-emails-with-gmail-in-python-449cc0c3c317&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F449cc0c3c317&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomate-sending-emails-with-gmail-in-python-449cc0c3c317&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://support.google.com/accounts/answer/6010255?hl=en", "anchor_text": "\u2018Less Secure App Access\u2019"}, {"url": "https://github.com/kootenpv/yagmail", "anchor_text": "yagmail"}, {"url": "https://gist.github.com/peterjpxie/decd14f5926a895f5cb1d842f2350781", "anchor_text": "here"}, {"url": "https://docs.python.org/3/library/email.message.html#email.message.EmailMessage", "anchor_text": "EmailMessage"}, {"url": "https://docs.python.org/3/library/email.html", "anchor_text": "document"}, {"url": "https://docs.python.org/3/library/email.examples.html", "anchor_text": "here"}, {"url": "https://github.com/kootenpv/yagmail", "anchor_text": "https://github.com/kootenpv/yagmail"}, {"url": "https://mp.weixin.qq.com/s/AMYeOiMX7URc_PFczqQ-5Q", "anchor_text": "https://mp.weixin.qq.com/s/AMYeOiMX7URc_PFczqQ-5Q"}, {"url": "https://docs.python.org/3/library/smtplib.html", "anchor_text": "https://docs.python.org/3/library/smtplib.html"}, {"url": "https://docs.python.org/3/library/email.html", "anchor_text": "https://docs.python.org/3/library/email.html"}, {"url": "https://medium.com/tag/python?source=post_page-----449cc0c3c317---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/automation?source=post_page-----449cc0c3c317---------------automation-----------------", "anchor_text": "Automation"}, {"url": "https://medium.com/tag/email?source=post_page-----449cc0c3c317---------------email-----------------", "anchor_text": "Email"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F449cc0c3c317&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomate-sending-emails-with-gmail-in-python-449cc0c3c317&user=Peter+Xie&userId=f2ed0f8e5472&source=-----449cc0c3c317---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F449cc0c3c317&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomate-sending-emails-with-gmail-in-python-449cc0c3c317&user=Peter+Xie&userId=f2ed0f8e5472&source=-----449cc0c3c317---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F449cc0c3c317&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomate-sending-emails-with-gmail-in-python-449cc0c3c317&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----449cc0c3c317--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F449cc0c3c317&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomate-sending-emails-with-gmail-in-python-449cc0c3c317&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----449cc0c3c317---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----449cc0c3c317--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----449cc0c3c317--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----449cc0c3c317--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----449cc0c3c317--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----449cc0c3c317--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----449cc0c3c317--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----449cc0c3c317--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----449cc0c3c317--------------------------------", "anchor_text": ""}, {"url": "https://peter-jp-xie.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://peter-jp-xie.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Peter Xie"}, {"url": "https://peter-jp-xie.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "226 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff2ed0f8e5472&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomate-sending-emails-with-gmail-in-python-449cc0c3c317&user=Peter+Xie&userId=f2ed0f8e5472&source=post_page-f2ed0f8e5472--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fbb5ccaf525bc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomate-sending-emails-with-gmail-in-python-449cc0c3c317&newsletterV3=f2ed0f8e5472&newsletterV3Id=bb5ccaf525bc&user=Peter+Xie&userId=f2ed0f8e5472&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}