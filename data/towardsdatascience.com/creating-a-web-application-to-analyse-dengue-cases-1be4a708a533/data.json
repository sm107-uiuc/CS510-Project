{"url": "https://towardsdatascience.com/creating-a-web-application-to-analyse-dengue-cases-1be4a708a533", "time": 1683012462.6765912, "path": "towardsdatascience.com/creating-a-web-application-to-analyse-dengue-cases-1be4a708a533/", "webpage": {"metadata": {"title": "Creating a Web Application to Analyse Dengue Cases | by Benedict Soh | Towards Data Science", "h1": "Creating a Web Application to Analyse Dengue Cases", "description": "During this period, I chanced upon many visualisations on COVID-19 on Reddit, Twitter, and Facebook. Many of them are very inspirational and it is so pleasing to be able to ingest a huge amount of\u2026"}, "outgoing_paragraph_urls": [{"url": "https://data.gov.sg", "anchor_text": "data.gov.sg", "paragraph_index": 2}, {"url": "https://plotly.com/dash/", "anchor_text": "Dash", "paragraph_index": 6}, {"url": "https://dash-bootstrap-components.opensource.faculty.ai/docs/", "anchor_text": "dash bootstrap component", "paragraph_index": 6}, {"url": "https://dash.plotly.com/dash-core-components", "anchor_text": "dash core components", "paragraph_index": 6}, {"url": "https://www.heroku.com/", "anchor_text": "Heroku", "paragraph_index": 7}, {"url": "https://geopandas.org/", "anchor_text": "Geopandas", "paragraph_index": 15}, {"url": "https://python-visualization.github.io/folium/", "anchor_text": "Folium", "paragraph_index": 15}, {"url": "https://data.gov.sg/dataset/dengue-clusters", "anchor_text": "data.gov.sg", "paragraph_index": 16}, {"url": "https://geojson.org/", "anchor_text": "GeoJSON", "paragraph_index": 16}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html", "anchor_text": "DataFrame", "paragraph_index": 18}, {"url": "https://newsapi.org/", "anchor_text": "NewsAPI", "paragraph_index": 23}, {"url": "https://dash-bootstrap-components.opensource.faculty.ai/docs/components/card/", "anchor_text": "CardImg", "paragraph_index": 30}, {"url": "https://dash-bootstrap-components.opensource.faculty.ai/docs/components/card/", "anchor_text": "CardBody", "paragraph_index": 30}, {"url": "https://dash-bootstrap-components.opensource.faculty.ai/docs/components/card/", "anchor_text": "CardFooter", "paragraph_index": 30}, {"url": "https://www.tweepy.org/", "anchor_text": "Tweepy", "paragraph_index": 31}, {"url": "https://developer.twitter.com/", "anchor_text": "Twitter Developer", "paragraph_index": 33}, {"url": "https://github.com/bensjx/twitter-scrap-dengue/blob/master/mylistener.py", "anchor_text": "Full code here.", "paragraph_index": 34}, {"url": "https://plotly.com/python/graph-objects/", "anchor_text": "Plotly Graph Objects", "paragraph_index": 41}, {"url": "https://dash.plotly.com/datatable", "anchor_text": "Dash DataTable", "paragraph_index": 42}, {"url": "https://www.youtube.com/watch?reload=9&v=j3VvVaNnDH4", "anchor_text": "15 minutes tutorial", "paragraph_index": 44}, {"url": "https://www.linkedin.com/in/bensjx/", "anchor_text": "https://www.linkedin.com/in/bensjx/", "paragraph_index": 50}], "all_paragraphs": ["Information is power. Information on your fingertips is superpower.", "During this period, I chanced upon many visualisations on COVID-19 on Reddit, Twitter, and Facebook. Many of them are very inspirational and it is so pleasing to be able to ingest a huge amount of information in such a short period of time.", "I was motivated to build a dashboard as well on COVID-19 but I felt that there are more than enough out there. Hence, I decided to work on another issue, Dengue Fever, which is also a pressing issue. Data is readily available on data.gov.sg, but there are 3 main issues:", "This drove me to build a dashboard on my own. There are 3 main parts to this project:", "The purpose of this project is to show how simple it can be to build such a powerful application. It need not be on Dengue. It can be on any topic out there. For this project, it is not the content that matters, but the skills. This is more of a proof of concept rather than a final product. I will be walking you through all the 3 different parts of the project while providing snippets of code. Hopefully, you will be able to replicate it for your own meaningful projects. Do scroll to the bottom of this article for the link to the full code.", "Before I start, I would like to talk about how this project is built.", "This project is built with Dash, which is a Python framework for building Data Science/ML projects. Along with dash bootstrap component (DBC) and dash core components (DCC), you will need minimal HTML/CSS skills to build your web application.", "Each of the 3 features taps on different technologies (will be further explained). All these features are then deployed using Heroku, which is a cloud platform as a service (PaaS), that allows you to deploy your application to the cloud with ease.", "Dash applications mostly consist of 2 sections.", "App layout is the front-end portion of your application. However, all thanks to DBC and DCC, you do not need complex HTML codes to create your application. For instance, my entire app was created with the following code:", "Of course, you will have to specify what is analysisTab, newsTab, etc. You can see how abstract your application becomes with DBC and DCC. Both DBC and DCC provides buttons, tabs, forms, navigation bar along with many other essential components.", "App callbacks can be considered the backend portion of your application. If you were to observe the above code, you will notice that I assigned an id=\"label_tab1\" to my analysisTab this helps us to identify which callbacks to use for that specific component.", "An example of a callback is as shown:", "What this does is that it will take an input component interval-component-slow with a specified parameter n_intervals and output the results children that was created by a method sa_line() to the output component sa-graph. This is especially useful if you want to make your application interactive. For instance, you can allow your visualisations to change according to a radio button that was clicked by a user.", "However, a callback is not always required if you want your application to be static. You will realise that my first 2 tabs did not make use of callbacks as I do not require any inputs from my users. I am only required to resent information to them. The 3rd tab (twitter analysis) is a special case. I had to use callbacks as I want my analysis to refresh every 30 seconds. More about this later!", "The main learning point for this section is the usage of Geopandas and Folium.", "The data downloaded from data.gov.sg comes in a GeoJSON format. GeoJSON files allow you to encode geographical data into an object. It has a very structured format which includes the type, geometry, and properties of the location. Since dengue clusters involve a plot of land, our locations are encoded in a Polygon object, which is an array of longitudes and latitudes.", "Reading a GeoJSON file is easy. We simple use Geopandas:", "Once the data is loaded, manipulation should be pretty easy, provided that you are well versed with a DataFrame.", "Folium allows us to visualise our GeoJSON data in a leaflet (a JavaScript library for interactive maps) map.", "First, we create a map and zoom in to our desired spot (in my case, I chose the longitude and latitude of Singapore):", "Next, I add 2 layers (one for clusters and another for breeding zones) to the map:", "Lastly, since Dash does not allow me to display folium objects directly, I exported the resulting map into an HTML file and displayed that using an IFrame:", "The main learning point for this section is the usage of the NewsAPI. NewsAPI allows us to search for news articles from multiple sources using their API. Before you can start using it, you will be required to sign up for an account in order to obtain your own unique API key.", "Note that as a free-tier member, you will be limited in terms of the number of news retrievable per day.", "Keys are very important! Just like how you would not share your house keys with your friends, you will not want to share your API keys. When you are developing on your local system, I highly suggest that you keep all your keys in a keys.py file and add that file to .gitignore so that it does not get pushed online.", "Since you did not push keys.py to GitHub, Heroku cannot access it. Instead, Heroku have their own configuration variables. You can add your keys to Heroku either via the CLI or their GUI.", "For deployment purposes, we get our code to retrieve keys depending if we are on our local system or Heroku:", "Next, we can finally retrieve our news articles:", "There are 3 main functions newsapi.get_everything() , newsapi.get_top_headlines() and newsapi.get_sources(). Use any you deem fit! We can then retrieve our content. An example of retrieving the title of all articles is as shown:", "Now that you have your data, you can add them using DBC. For this project, I made use of CardImg, CardBody, and CardFooter.", "This forms the bulk of the project. I made use of Tweepy, which is a Python library that allows us to access the Twitter API to stream tweets. My aim is to retrieve all tweets related to \u2018Dengue\u2019, pre-process the text, analyse the sentiments, and visualise the results. Tweets are continuously being mined from Twitter and my application will refresh every 30 seconds to display the new data.", "At this stage, I should probably introduce to you the workflow.", "Just like NewsAPI, Tweepy requires us to generate API keys as well. Head on to Twitter Developer to get yours!", "Full code here. Note that commented codes are for MySQL and uncommented codes are for PostgreSQL.", "Step 1: Initialise the database by creating a database for us if the database and table do not exist.", "Step 2: Initialise Twitter API and start streaming", "Step 3: Process every tweet coming in. In order to achieve this, you have to override tweepy.StreamListener, which is the class responsible for pushing new tweets from Twitter to you.", "The trick to getting your application refresh every x seconds is with dcc.Interval. By adding an interval to your application as an input to your callback, you are telling your application to regenerate your component every x seconds.", "Firstly, we have to retrieve the data that was scraped:", "Next, the data is cleaned and transformed for the plotting of a time series:", "Lastly, with the results, we visualise them using Plotly Graph Objects. The line graph on the top left is created with go.Scatter while the pie chart on the top right is created with go.Pie. That\u2019s how easy it is to create your visuals!", "Tweets are displayed with Dash DataTable.", "There currently isn\u2019t much support for word clouds. The conventional method is to create an image and append it to our visualisations. The unconventional method which I used, plots the words on an X and Y axis and instead of displaying the coordinates, I display the text. Hence, this word cloud is created using go.Scatter.", "Now that your application works well in your local system, it is time to deploy it to Heroku. I highly recommend you check out this 15 minutes tutorial on how to do so. Otherwise, refer to the summary below:", "Note: for your tweet scrapper and application to run at the same time, you will need 2 different applications. Otherwise, you can pay for additional dynos, which are Heroku containers. Your Procfile will be different. To utilise the same database, set the DATABASE_URL (config vars) of your scrapper to be the same as the DATABASE_URL of your application.", "Also, do note that it will take quite some time for the application to load. This is because I am using free dynos. Free dynos will be put to sleep if the application is not accessed for a set amount of time.", "This application is simple, lightweight, and powerful. It is by no means a perfect application due to the limited budget, time, and web design skills. I have also yet to take the time to optimise the algorithm, which should greatly increase the speed at which the application loads.", "With this article, I hope that you have gained a deeper understanding of Dash, Tweepy, NewsAPI, Geopandas, and Folium. I highly implore you to create similar applications for different contexts.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "If you can't explain it to a six year old, you don't understand it yourself | https://www.linkedin.com/in/bensjx/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1be4a708a533&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-web-application-to-analyse-dengue-cases-1be4a708a533&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-web-application-to-analyse-dengue-cases-1be4a708a533&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-web-application-to-analyse-dengue-cases-1be4a708a533&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-web-application-to-analyse-dengue-cases-1be4a708a533&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----1be4a708a533--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1be4a708a533--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@bensjyy?source=post_page-----1be4a708a533--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@bensjyy?source=post_page-----1be4a708a533--------------------------------", "anchor_text": "Benedict Soh"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F31b2930a98d5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-web-application-to-analyse-dengue-cases-1be4a708a533&user=Benedict+Soh&userId=31b2930a98d5&source=post_page-31b2930a98d5----1be4a708a533---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1be4a708a533&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-web-application-to-analyse-dengue-cases-1be4a708a533&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1be4a708a533&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-web-application-to-analyse-dengue-cases-1be4a708a533&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@lukechesser?utm_source=medium&utm_medium=referral", "anchor_text": "Luke Chesser"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://data.gov.sg", "anchor_text": "data.gov.sg"}, {"url": "https://ggscore.com/en/dota-2/team/hmmm", "anchor_text": "ggscore"}, {"url": "https://plotly.com/dash/", "anchor_text": "Dash"}, {"url": "https://dash-bootstrap-components.opensource.faculty.ai/docs/", "anchor_text": "dash bootstrap component"}, {"url": "https://dash.plotly.com/dash-core-components", "anchor_text": "dash core components"}, {"url": "https://www.heroku.com/", "anchor_text": "Heroku"}, {"url": "http://twitter.com/app", "anchor_text": "@app"}, {"url": "https://github.com/bensjx/Dengue-dashboard/blob/master/analysis.py", "anchor_text": "Full code here."}, {"url": "https://geopandas.org/", "anchor_text": "Geopandas"}, {"url": "https://python-visualization.github.io/folium/", "anchor_text": "Folium"}, {"url": "https://data.gov.sg/dataset/dengue-clusters", "anchor_text": "data.gov.sg"}, {"url": "https://geojson.org/", "anchor_text": "GeoJSON"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html", "anchor_text": "DataFrame"}, {"url": "https://github.com/bensjx/Dengue-dashboard/blob/master/news.py", "anchor_text": "Full code here."}, {"url": "https://newsapi.org/", "anchor_text": "NewsAPI"}, {"url": "https://dash-bootstrap-components.opensource.faculty.ai/docs/components/card/", "anchor_text": "CardImg"}, {"url": "https://dash-bootstrap-components.opensource.faculty.ai/docs/components/card/", "anchor_text": "CardBody"}, {"url": "https://dash-bootstrap-components.opensource.faculty.ai/docs/components/card/", "anchor_text": "CardFooter"}, {"url": "https://www.tweepy.org/", "anchor_text": "Tweepy"}, {"url": "https://textblob.readthedocs.io/en/dev/", "anchor_text": "TextBlob"}, {"url": "https://developer.twitter.com/", "anchor_text": "Twitter Developer"}, {"url": "https://github.com/bensjx/twitter-scrap-dengue/blob/master/mylistener.py", "anchor_text": "Full code here."}, {"url": "https://github.com/bensjx/Dengue-dashboard/blob/master/app.py", "anchor_text": "Full code for visualisations here."}, {"url": "https://plotly.com/python/graph-objects/", "anchor_text": "Plotly Graph Objects"}, {"url": "https://dash.plotly.com/datatable", "anchor_text": "Dash DataTable"}, {"url": "https://www.youtube.com/watch?reload=9&v=j3VvVaNnDH4", "anchor_text": "15 minutes tutorial"}, {"url": "https://github.com/bensjx/Dengue-dashboard/blob/master/Procfile", "anchor_text": "Procfile"}, {"url": "https://dengue-db.herokuapp.com/", "anchor_text": "https://dengue-db.herokuapp.com/"}, {"url": "https://github.com/bensjx/Dengue-dashboard", "anchor_text": "https://github.com/bensjx/Dengue-dashboard"}, {"url": "https://github.com/bensjx/twitter-scrap-dengue", "anchor_text": "https://github.com/bensjx/twitter-scrap-dengue"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----1be4a708a533---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/data-science?source=post_page-----1be4a708a533---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/web-app-development?source=post_page-----1be4a708a533---------------web_app_development-----------------", "anchor_text": "Web App Development"}, {"url": "https://medium.com/tag/programming?source=post_page-----1be4a708a533---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/sentiment-analysis?source=post_page-----1be4a708a533---------------sentiment_analysis-----------------", "anchor_text": "Sentiment Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1be4a708a533&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-web-application-to-analyse-dengue-cases-1be4a708a533&user=Benedict+Soh&userId=31b2930a98d5&source=-----1be4a708a533---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1be4a708a533&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-web-application-to-analyse-dengue-cases-1be4a708a533&user=Benedict+Soh&userId=31b2930a98d5&source=-----1be4a708a533---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1be4a708a533&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-web-application-to-analyse-dengue-cases-1be4a708a533&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1be4a708a533--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1be4a708a533&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-web-application-to-analyse-dengue-cases-1be4a708a533&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1be4a708a533---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1be4a708a533--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1be4a708a533--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1be4a708a533--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1be4a708a533--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1be4a708a533--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1be4a708a533--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1be4a708a533--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1be4a708a533--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@bensjyy?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@bensjyy?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Benedict Soh"}, {"url": "https://medium.com/@bensjyy/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "87 Followers"}, {"url": "https://www.linkedin.com/in/bensjx/", "anchor_text": "https://www.linkedin.com/in/bensjx/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F31b2930a98d5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-web-application-to-analyse-dengue-cases-1be4a708a533&user=Benedict+Soh&userId=31b2930a98d5&source=post_page-31b2930a98d5--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F5d4bb7b070c8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-web-application-to-analyse-dengue-cases-1be4a708a533&newsletterV3=31b2930a98d5&newsletterV3Id=5d4bb7b070c8&user=Benedict+Soh&userId=31b2930a98d5&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}