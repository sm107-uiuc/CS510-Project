{"url": "https://towardsdatascience.com/do-feature-engineering-right-c3aa2d842563", "time": 1683003403.8262, "path": "towardsdatascience.com/do-feature-engineering-right-c3aa2d842563/", "webpage": {"metadata": {"title": "Get a Step Ahead With Feature Engineering | by Rob W | Towards Data Science", "h1": "Get a Step Ahead With Feature Engineering", "description": "Machine learning models have difficulty interpreting categorical data; feature engineering allows us to re-contextualize our categorical data to improve the rigor of our machine learning models\u2026"}, "outgoing_paragraph_urls": [{"url": "http://archive.ics.uci.edu/ml/machine-learning-databases/00222/bank.zip", "anchor_text": "http://archive.ics.uci.edu/ml/machine-learning-databases/00222/bank.zip", "paragraph_index": 5}, {"url": "https://datasciencelessons.com/2019/07/20/principal-component-analysis-in-r/", "anchor_text": "https://datasciencelessons.com/2019/07/20/principal-component-analysis-in-r/", "paragraph_index": 26}, {"url": "https://datasciencelessons.com/", "anchor_text": "https://datasciencelessons.com/", "paragraph_index": 26}], "all_paragraphs": ["Machine learning models have difficulty interpreting categorical data; feature engineering allows us to re-contextualize our categorical data to improve the rigor of our machine learning models. Feature engineering also provides added layers of perspective to data analysis. The big question that feature engineering approaches solve is; how do I utilize my data in interesting & clever ways to make it much more useful.", "Feature engineering is not about cleaning data, removing null values, or other similar tasks; feature engineering has to do with the alteration of variables to improve the story they tell. It is about leveraging content knowledge & data exploration.", "Oftentimes, when you\u2019re to use categorical data as a predictor, you might find that some of the levels of that variable have a very sparse occurrence or that the variables levels are seriously redundant.", "Any decision you make to start grouping variable levels should be strategically driven.", "A good start here for both approaches is the table() function in R.", "I\u2019ll be using the UCI Bank marketing dataset which details the demographics of customers & whether the marketing campaign was successful or not. The dataset can be found here: http://archive.ics.uci.edu/ml/machine-learning-databases/00222/bank.zip", "The idea here would be to identify the occurrence of a level with too few records, or alternatively bins that seem more indicative of what the data is trying to inform.", "Sometimes a table is a little bit more difficult to ingest, so throwing this into a bar chart works well also.", "For the sake of this exercise, let\u2019s say we actually wanted to understand profession along the lines of technology use within a given role. In such a case we would begin to bin each of these job titles accordingly.", "There is a nifty case when function you can use within dplyr's mutate that is very handy when you are reassigning many different levels of a variable, rather than using some nested ifelse function. This function is also very useful when converting numeric variables to categorical data. Please drop a comment if that's something you'd want to learn more about.", "As you can see above, I create a new field called technology use and assign each a value according to its technology use. I\u2019m sure you could argue different assignments for each of these, but for the sake of the example, I didn\u2019t think too much about it.", "Now lets quickly review this new field.", "Binning should be depend upon what you\u2019re trying to understand. Let\u2019s say the granularity of job was much greater and we had several marketing related jobs, CMO, marketing analyst, digital marketing manager, etc. you might want to understand the impact of a department, a skillset, or just a slightly higher level of granularity.", "Be sure to leverage table, prop table, & bar charts to get a better of how variable levels could be best recategorized.", "Let\u2019s say you have a two-level categorical variable, which machine learning models still won't like, so rather than leaving the default variable levels as \u2018yes\u2019 & \u2018no\u2019, we will encode it to be a dummy variable. A dummy variable is the numeric representation of a categorical variable. Any time the value for default is yes, we\u2019ll encode it to 1 and 0 otherwise. For two-level variables that are mutually exclusive this eliminates the need for an additional column for no as it\u2019s implicit in the first column.", "We\u2019ve talked about the creation of a single column as a dummy variable, but we should talk about one-hot encoding. One hot encoding is effectively the same thing, but for variables of many levels where the column has 0s in all rows except for where the value corresponds to the new column, then it would be 1.", "dummyVars from the caret package is very useful here.", "Above, we load the caret package, run the dummyVars function for all variables, then create a new dataframe depending on the one hot encoded variables it identified.", "Let's take a look at the new table", "I didn\u2019t include all of the columns, but you can see that it left age alone, and then one hot encoded job & marital. You can see that the datatype for all columns are now numeric.", "Be aware of sparse fields and be ready to compare the binning approach with one hot encoding to get a more effective result.", "Feature crossing is where you combine multiple variables together. Sometimes combining variables together can produce predictive performance that outperforms what they could\u2019ve done in isolation.", "Similar to how you might explore this for binning, group by the two variables you\u2019re considering crossing and get a count of each combination.", "A visualization of this is often a lot easier to interpret", "To knock out the crossing & encoding steps in one you can use the same dummyVars function that I showed you earlier.", "Keep in mind that when you are combining multiple variables together, you may have some of these new values that are very sparse. Similar to why you would perform binning on any given categorical variable, you should review the output of any feature crossing to verify whether they should be binned prior.", "I hope this has been a helpful introduction to feature engineering with categorical variables in R. There are many additional methods that can be used for numeric variables & combinations of numeric & categorical; we can use PCA among other things to improve the predictive power of explanatory variables. I\u2019ll jump into those in another post. For a lesson in PCA, check out my post at https://datasciencelessons.com/2019/07/20/principal-component-analysis-in-r/ or check out my blog at https://datasciencelessons.com/", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I\u2019m a Data Science Leader sharing lessons learned & tips of the trade! Twitter: @data_lessons"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc3aa2d842563&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdo-feature-engineering-right-c3aa2d842563&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdo-feature-engineering-right-c3aa2d842563&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdo-feature-engineering-right-c3aa2d842563&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdo-feature-engineering-right-c3aa2d842563&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c3aa2d842563--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c3aa2d842563--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@datasciencelessons?source=post_page-----c3aa2d842563--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@datasciencelessons?source=post_page-----c3aa2d842563--------------------------------", "anchor_text": "Rob W"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7ba0440fca12&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdo-feature-engineering-right-c3aa2d842563&user=Rob+W&userId=7ba0440fca12&source=post_page-7ba0440fca12----c3aa2d842563---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc3aa2d842563&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdo-feature-engineering-right-c3aa2d842563&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc3aa2d842563&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdo-feature-engineering-right-c3aa2d842563&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/users/dbreen-1643989/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=1083796", "anchor_text": "Deborah Breen Whiting"}, {"url": "https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=1083796", "anchor_text": "Pixabay"}, {"url": "http://archive.ics.uci.edu/ml/machine-learning-databases/00222/bank.zip", "anchor_text": "http://archive.ics.uci.edu/ml/machine-learning-databases/00222/bank.zip"}, {"url": "https://datasciencelessons.com/2019/07/20/principal-component-analysis-in-r/", "anchor_text": "https://datasciencelessons.com/2019/07/20/principal-component-analysis-in-r/"}, {"url": "https://datasciencelessons.com/", "anchor_text": "https://datasciencelessons.com/"}, {"url": "https://medium.com/tag/data-science?source=post_page-----c3aa2d842563---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/ai?source=post_page-----c3aa2d842563---------------ai-----------------", "anchor_text": "AI"}, {"url": "https://medium.com/tag/statistics?source=post_page-----c3aa2d842563---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----c3aa2d842563---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/mathematics?source=post_page-----c3aa2d842563---------------mathematics-----------------", "anchor_text": "Mathematics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc3aa2d842563&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdo-feature-engineering-right-c3aa2d842563&user=Rob+W&userId=7ba0440fca12&source=-----c3aa2d842563---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc3aa2d842563&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdo-feature-engineering-right-c3aa2d842563&user=Rob+W&userId=7ba0440fca12&source=-----c3aa2d842563---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc3aa2d842563&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdo-feature-engineering-right-c3aa2d842563&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c3aa2d842563--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc3aa2d842563&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdo-feature-engineering-right-c3aa2d842563&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c3aa2d842563---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c3aa2d842563--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c3aa2d842563--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c3aa2d842563--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c3aa2d842563--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c3aa2d842563--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c3aa2d842563--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c3aa2d842563--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c3aa2d842563--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@datasciencelessons?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@datasciencelessons?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Rob W"}, {"url": "https://medium.com/@datasciencelessons/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.6K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7ba0440fca12&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdo-feature-engineering-right-c3aa2d842563&user=Rob+W&userId=7ba0440fca12&source=post_page-7ba0440fca12--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F6e82f9862de1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdo-feature-engineering-right-c3aa2d842563&newsletterV3=7ba0440fca12&newsletterV3Id=6e82f9862de1&user=Rob+W&userId=7ba0440fca12&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}