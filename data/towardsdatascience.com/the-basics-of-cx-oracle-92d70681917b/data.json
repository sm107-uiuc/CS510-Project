{"url": "https://towardsdatascience.com/the-basics-of-cx-oracle-92d70681917b", "time": 1683012590.670421, "path": "towardsdatascience.com/the-basics-of-cx-oracle-92d70681917b/", "webpage": {"metadata": {"title": "The Basics of cx_Oracle. Want to deal with Oracle Databases in\u2026 | by Thiago Dantas | Towards Data Science", "h1": "The Basics of cx_Oracle", "description": "Recently I\u2019ve been working a lot with Oracle Databases and Python. Although Oracle is a big company, I found there\u2019s not such a strong community to help with their package in Python for dealing with\u2026"}, "outgoing_paragraph_urls": [{"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.fetchone", "anchor_text": "fetchone", "paragraph_index": 4}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.fetchall", "anchor_text": "fetchall()", "paragraph_index": 4}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.fetchall", "anchor_text": "fetchall()", "paragraph_index": 4}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.execute", "anchor_text": "execute()", "paragraph_index": 6}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.executemany", "anchor_text": "executemany", "paragraph_index": 6}, {"url": "https://cx-oracle.readthedocs.io/en/latest/user_guide/tuning.html#roundtrips", "anchor_text": "round-trip", "paragraph_index": 7}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.execute", "anchor_text": "execute()", "paragraph_index": 7}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.executemany", "anchor_text": "executemany", "paragraph_index": 7}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.executemany", "anchor_text": "executemany", "paragraph_index": 7}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.execute", "anchor_text": "execute()", "paragraph_index": 7}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.execute", "anchor_text": "execute()", "paragraph_index": 8}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.fetchall", "anchor_text": "fetchall()", "paragraph_index": 8}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.executemany", "anchor_text": "executemany()", "paragraph_index": 8}, {"url": "http://github.com/thiagodma", "anchor_text": "GitHub", "paragraph_index": 16}, {"url": "https://www.linkedin.com/in/thiago-dantas-041b41167/", "anchor_text": "LinkedIn", "paragraph_index": 16}], "all_paragraphs": ["Recently I\u2019ve been working a lot with Oracle Databases and Python. Although Oracle is a big company, I found there\u2019s not such a strong community to help with their package in Python for dealing with databases, cx_Oracle, and I found their documentation not that great.", "So, I decided to do this post following my philosophy of writing posts that the Thiago (me) of 1 month ago would have thanked for.", "The first thing to do is to connect to your database. In this case, probably you have an user and a password. Also, you should have the data source name. With all of those in hand you can connect to the database:", "With cx_Oracle you can execute any Oracle SQL command, selects, inserts, updates etc. In order to execute the commands, you have to create a cursor. You can use the same cursor for running several commands. I just recommend you to use a connection and a cursor for each function in your application. So, you create a connection and a cursor in the beginning of your function and close them at the end.", "It is important to mention here that the fetchone() and fetchall() methods only work when you\u2019re executing a \u201cselect\u201d. It does not make sense to use those methods when executing a insert or update statement. Also, it is important to note that, if your query is really big, fetchall() may be really slow, as it loads the queried data in memory.", "If you want to insert data from your machine into a table in your database, follow a similar process:", "Also, if you want to insert several rows, instead of running execute() several times, it is better to use executemany():", "This code requires only one round-trip from the client to the database instead of the five round-trips that would be required for repeated calls to execute(). For very large data sets there may be an external buffer or network limits to how many rows can be processed, so repeated calls to executemany() may be required. The limits are based on both the number of rows being processed as well as the \u201csize\u201d of each row that is being processed. Repeated calls to executemany() are still better than repeated calls to execute().", "Now, if you\u2019re inserting the result of a select statement, it is better to make a single statement and execute it with execute() then to execute a select statement, fetchall() and then insert with executemany(). This happens to be true especially if the result from the select statement is big.", "A very important feature is to be able to use parameters in your SQL commands. cx_Oracle provides a simple way of doing such a thing:", "There are other ways of passing parameters to SQL commands in cx_Oracle but I think this is the best one, so I\u2019ll keep with it.", "When I was working with cx_Oracle, this was certainly the hardest thing to make work. In my problem, I wanted to make several insertions in several tables and I wanted to be as fast as possible. Also, the order of the insertions wasn\u2019t important, so it is suitable to use multiprocessing.", "The main thing here is to create the connection inside the process. Each of the workers in the process pool needs to have its own connection which it established itself.", "Keeping that in mind it is pretty straight forward to use multiprocessing with cx_Oracle.", "I really don\u2019t think I\u2019ve shown complex stuff here. I kind of struggled to make my application work because there are not many questions on Stackoverflow about cx_Oracle and I don\u2019t think cx_Oracle\u2019s documentation is the best one out there.", "I hope this post helps people working with Oracle Databases and Python to get things working faster.", "You can check more about what I\u2019m doing by visiting my GitHub and get in touch through LinkedIn.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F92d70681917b&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-basics-of-cx-oracle-92d70681917b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-basics-of-cx-oracle-92d70681917b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-basics-of-cx-oracle-92d70681917b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-basics-of-cx-oracle-92d70681917b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----92d70681917b--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----92d70681917b--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@thiagodma?source=post_page-----92d70681917b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@thiagodma?source=post_page-----92d70681917b--------------------------------", "anchor_text": "Thiago Dantas"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3cc59ad4bff3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-basics-of-cx-oracle-92d70681917b&user=Thiago+Dantas&userId=3cc59ad4bff3&source=post_page-3cc59ad4bff3----92d70681917b---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F92d70681917b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-basics-of-cx-oracle-92d70681917b&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F92d70681917b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-basics-of-cx-oracle-92d70681917b&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@tvick?utm_source=medium&utm_medium=referral", "anchor_text": "Taylor Vick"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.fetchone", "anchor_text": "fetchone"}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.fetchall", "anchor_text": "fetchall()"}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.fetchall", "anchor_text": "fetchall()"}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.execute", "anchor_text": "execute()"}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.executemany", "anchor_text": "executemany"}, {"url": "https://cx-oracle.readthedocs.io/en/latest/user_guide/tuning.html#roundtrips", "anchor_text": "round-trip"}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.execute", "anchor_text": "execute()"}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.executemany", "anchor_text": "executemany"}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.executemany", "anchor_text": "executemany"}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.execute", "anchor_text": "execute()"}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.execute", "anchor_text": "execute()"}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.fetchall", "anchor_text": "fetchall()"}, {"url": "https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.executemany", "anchor_text": "executemany()"}, {"url": "http://github.com/thiagodma", "anchor_text": "GitHub"}, {"url": "https://www.linkedin.com/in/thiago-dantas-041b41167/", "anchor_text": "LinkedIn"}, {"url": "https://medium.com/tag/database?source=post_page-----92d70681917b---------------database-----------------", "anchor_text": "Database"}, {"url": "https://medium.com/tag/oracle-database?source=post_page-----92d70681917b---------------oracle_database-----------------", "anchor_text": "Oracle Database"}, {"url": "https://medium.com/tag/oracle?source=post_page-----92d70681917b---------------oracle-----------------", "anchor_text": "Oracle"}, {"url": "https://medium.com/tag/python?source=post_page-----92d70681917b---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F92d70681917b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-basics-of-cx-oracle-92d70681917b&user=Thiago+Dantas&userId=3cc59ad4bff3&source=-----92d70681917b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F92d70681917b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-basics-of-cx-oracle-92d70681917b&user=Thiago+Dantas&userId=3cc59ad4bff3&source=-----92d70681917b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F92d70681917b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-basics-of-cx-oracle-92d70681917b&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----92d70681917b--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F92d70681917b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-basics-of-cx-oracle-92d70681917b&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----92d70681917b---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----92d70681917b--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----92d70681917b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----92d70681917b--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----92d70681917b--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----92d70681917b--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----92d70681917b--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----92d70681917b--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----92d70681917b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@thiagodma?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@thiagodma?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Thiago Dantas"}, {"url": "https://medium.com/@thiagodma/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "83 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3cc59ad4bff3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-basics-of-cx-oracle-92d70681917b&user=Thiago+Dantas&userId=3cc59ad4bff3&source=post_page-3cc59ad4bff3--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3503c8f07fbf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-basics-of-cx-oracle-92d70681917b&newsletterV3=3cc59ad4bff3&newsletterV3Id=3503c8f07fbf&user=Thiago+Dantas&userId=3cc59ad4bff3&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}