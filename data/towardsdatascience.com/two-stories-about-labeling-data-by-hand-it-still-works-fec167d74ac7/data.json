{"url": "https://towardsdatascience.com/two-stories-about-labeling-data-by-hand-it-still-works-fec167d74ac7", "time": 1683000462.401737, "path": "towardsdatascience.com/two-stories-about-labeling-data-by-hand-it-still-works-fec167d74ac7/", "webpage": {"metadata": {"title": "Two Stories About Labeling Data by Hand \u2014 It Still Works | by Randy Au | Towards Data Science", "h1": "Two Stories About Labeling Data by Hand \u2014 It Still Works", "description": "I know. Labeling data by hand can be super tedious and mind-numbing. It\u2019s about as far from glamorous and sexy machine learning work as you can get. Aren\u2019t we, as super smart data scientists\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.datakind.org/", "anchor_text": "Data Kind", "paragraph_index": 8}, {"url": "https://en.wikipedia.org/wiki/Inter-rater_reliability", "anchor_text": "inter-rater reliability", "paragraph_index": 32}], "all_paragraphs": ["I know. Labeling data by hand can be super tedious and mind-numbing. It\u2019s about as far from glamorous and sexy machine learning work as you can get. Aren\u2019t we, as super smart data scientists, supposed to be above this drudgery that is often foisted onto interns, grad students, or Mechanical Turk?", "Actually, no. In a lot of situations, I think it is less painful (and faster) than many alternatives that involved unsupervised learning methods. It also yields very important specific domain insights that I\u2019d argue a good data scientist absolutely needs to be effective in their chosen industry.", "Perhaps it\u2019s because I cut my teeth in the industry as data analyst a decade ago, cobbling together insights the hard way. Or maybe it\u2019s my social science background where manual coding of responses was a very important tool in our quantitative toolbox. Still, I\u2019m not the only person who believes this.", "In general, I find that hand classifying data is the most useful when you\u2019re thrown into a situation where you need to: 1) both learn to understand the data set/problem space as the researcher and 2) come up with a classification system.", "In such situations, it\u2019s hard to make an automated system that works to an acceptable degree right out of the box. Sure there are unsupervised methods you can try to do various forms of clustering and then classifying, but when you\u2019re unfamiliar with the problem space yourself, it\u2019s not entirely obvious if the clusters you get are valid and usable. Since there\u2019s literally no ground truth to stand on, you might as well dive in yourself to build some semblance of ground truth, both in your mind as well as for your classifier.", "Can human classifiers be wrong? Definitely. Have unconscious (or conscious) bias? You bet. Miss out on important features? Of course. But for the applications I usually operate in, those don\u2019t matter. We need something good enough to start, to build a test case. Once things are bootstrapped, we can see how things perform and check for issues.", "Here\u2019s two illustrative stories from early in the 2010s, when tech was different (but not all that different).", "Technical note: I use the verbs to \u201ccode\u201d and \u201clabel\u201d interchangeably throughout. Just habit.", "In 2012, I went to a data hackathon of some sort, I believe run by the folk at Data Kind in partnership with various government agencies and non-profits. We split up into groups, each group got some kind of problem that needed data help and we all tried our best to be useful in a couple of hours. The output could be a model, or a methodology, or just about anything useful.", "For my group, we were partnered with an agency for NYC, I forget which one. Our task essentially boiled down to we big csv files of businesses and the specialized licenses they have (cigarette retailer, billiard room, debt collection, sidewalk cafe, general vendor, etc). The businesses also had their registered address with the building type, whether there was a restaurant license or liquor license associated with the site, and some other details. The goal was to see how businesses and licenses go together, so that if a business happens to be missing a license (say, an unlicensed bar) it can be flagged.", "My team of four or five people (I think?, I\u2019ve forgotten some details but have copies of the old data files to review) had plenty of super smart people, a few big names of the data science world. To start, they pulled out R (a language I still don\u2019t know) and started working on figuring out how to ingest the various CSV files we had so they could run various analysis (similarity calculations, etc).", "Seeing that they had the coding side in the works, I went ahead and tried to make myself useful on the side by doing what I normally do, slogging through the raw data to get a sense of things. Because we ultimately wanted was a way to independently classify a business entity based on what licenses it had, WITHOUT using the existing business classification codes, I had a hunch we were going to have to find a way to classify these business entities with very very little data outside the label we\u2019re not supposed to use (because we\u2019re trying to predict it to find discrepancies).", "The alternative was to do a 2 step classification system where we would 1) group licenses together, and hopefully properties of the business would naturally cluster, then 2) take the clusters and use them to form a classifier that can catch businesses that don\u2019t have the correct licenses. Both of those had no guarantee that business/license clusters would actually form in any sensible way. With only ~10k entires of licenses (with a given business potentially having multiple licenses and rows), there may be too much noise.", "As I scanned through the businesses and tried to guess what the businesses were, oddly enough, I found it to be surprisingly easy. I\u2019d look at the name of the entity, and would constantly see things like \u201cFred\u2019s Laundromat\u201d or \u201cSunshine Cafe, Inc\u201d. I realized that while there wasn\u2019t any strict requirement, people often named their business entities after the business they were engaged in. Practically no one would open an auto shop named \u201cMary\u2019s Coffee, LLC\u201d This was an insight that we never would have found if no one sat down and read through piles of data.", "What I wound up doing was compiling a list of key words that I felt was highly indicative of being a certain kind of business, for example: \u201cAuto\u201d, \u201cDeli\u201d, \u201cDuane\u201d (for the Duane Reade pharmacy chain), \u201cSupermarket\u201d, etc.. We then analyzed what licenses were associated with those words. For example, the cigarette retail license often was associated with businesses with \u201cDeli\u201d in the name, but also \u201cFood\u201d and \u201cMarket\u201d, and occasionally \u201cAuto\u201d. The table below shows some of the associations we found.", "By the time we got to this point we were a bit short on time, but what we essentially built was a system that can take in a business name and generate a list of the probable licenses it would have. It\u2019s not going to classify everything, but it was a much stronger way of aggregating businesses together than the other available features like address, building type (2-family vs elevator co-op, etc), retail square footage.", "With this initial classification, we could then experiment w/ the other features to see if there are any meaningful clusters, because we had semi-hand labeled thousands of businesses to start with. This was our (fairly) firm ground truth that would allow us to leverage into the rest of the data set.", "Sadly, the data hackathon ended soon after, and I have no idea what happened to the model, whether it was used or not. But hopefully it helped someone get closer to the goal.", "I can\u2019t remember exactly when this project came up, but around the time Meetup did their first few runs at making group discovery possible outside of straight keyword search, so roughly 2012-ish? Their categories have changed quite a bit since when I helped build out the system, so I\u2019m sure it has nothing to do with the existing system and it should be safe to talk about here.", "For background, Meetup groups originally, pre-2011, had up to 15 \u201ctopics\u201d associated with them. These affected what users would get notified when you group was announced, and you could use it sorta browse for groups. The crazy part is that the topics were completely free-form user strings, created by the group organizers. There was some light curation to keep people from putting in naughty words, but otherwise you were free to write single words like \u201cphotography\u201d or whole sentences like \u201ctaking photos of cheeseburgers at night\u201d.", "The problem was that while there generally was a leading topic for most kinds of groups, like most photography groups used \u201cphotography\u201d, not all of them did. This is most prominent with \u201cStay at home moms\u201d groups vs \u201cStay at home dads\u201d, both are essentially parenting groups, but a group might choose just one.", "Well, if we\u2019re to have a better way to find groups, there needs to be a way to organize groups by some kind of category. We needed to distill 1\u201315 topic tags into 1 (maybe 2) categories. What should those categories be? While newly made groups get reviewed by humans anyway and can be categorized manually there, how do we handle the ~100k existing groups?", "Coming to this problem blind, you might be tempted to analyze and k-means cluster all the topics strings based on what groups used them. It probably would have worked since we knew we would like K to be a \u201cmanageable number\u201d (under 30-ish). It would have taken some tuning and trial and error, but sounds doable.", "Instead of taking the k-means approach, I went in a different direction. Working on a hunch (out of working deeply with Meetup\u2019s internal data for 2\u20133 years), I had a feeling that \u201cthe most used topics probably were informative enough\u201d, meaning I could ignore the super long tail of topics.", "So instead, dumped out all the topics that had more than a certain number of groups associated with them (> 50 groups or something similar, I forget). This yielded a list of ~1800 topics, compared to a giant list of > 15k topic strings.", "After that, I spoke to my qualitative research partner in crime, we split the data set, and just sat down to categorize the topics by hand. Just like like coding free-form survey responses, we created categories as we saw fit, and plowed through.", "After creating that mapping, I created a dead simple algorithm to assign a group a category, 1 classified topic = 1 vote for a category, the category with most votes is the group\u2019s category. With just this dumb algorithm, we covered roughly 85\u201390% of all existing groups. Spot checking a random sample of groups showed that the categories in general were pretty accurate (I forget the details, but mid-high 90% agreement w/ humans).", "How did we handle the ~10\u201315k groups that couldn\u2019t be categorized this way? We made a simple web tool for it, and asked everyone on the customer support team to chip away at it during quiet periods in their shifts. It didn\u2019t take all that long, maybe 1\u20132 weeks of time to classify everything.", "Moving forward we used the same algorithm to suggest what the category should be, but the support team would check and change it when they review new groups for TOS/quality anyway.", "I\u2019m sure whatever system they use now is different from the one that I helped build so long ago. The current categories seems to fix some issues we found in v1. For instance, One of our initial regrets was certain categories were \u201ctoo big\u201d, too many business/startup/entrepreneur/investing groups all lumped together under \u201cBusiness\u201d. We should have gone back and balanced things, but we chose not to because we weren\u2019t sure how categories were going to be used at the time.", "Want to give it a shot? Here\u2019s some quick tips.", "Set up a good coding environment. The act of labeling should let you get into a flow where you can crank out accurate labels rapidly. When you minimize that friction of having to click links or have your eyes jump around the screen, you help minimize the mental fatigue that introduces unforced errors. Then, make sure to take frequent breaks (I love snack breaks) when you feel fatigue setting in.", "If you have multiple coders, make sure everyone agrees to code in similar ways (more formally you\u2019d have a coding book), communicate frequently, check your work. For more rigorous stuff, make sure you do sanity cross- checks and check the inter-rater reliability.", "Finally, find ways to spread out the work. Coding is MUCH more fun in a group setting. We can trade jokes about strange examples, or discuss weird edge cases on the fly. Plus having another person physically there doing the work with you helps with focusing.", "Sure, if you\u2019ve got 50 million things to code, you\u2019re not going to manually do them all. But going from 500 to 5000, or even to 15,000 labeled entries will make any classifier you make perform so much better. You should then be able to scale up with much more confidence than before.", "Hopefully, my little stories have convinced you that the totally unsexy, oftentimes mind numbing and painful work of hand labeling data is a super useful tool to have in your toolbox.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I stress about data quality a lot. Data nerd/scientist, camera junkie. Quant UXR @Google Cloud. Formerly @bitly, @Meetup, @primarydotcom. Opinions are my own."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ffec167d74ac7&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-stories-about-labeling-data-by-hand-it-still-works-fec167d74ac7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-stories-about-labeling-data-by-hand-it-still-works-fec167d74ac7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-stories-about-labeling-data-by-hand-it-still-works-fec167d74ac7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-stories-about-labeling-data-by-hand-it-still-works-fec167d74ac7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----fec167d74ac7--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fec167d74ac7--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://randy-au.medium.com/?source=post_page-----fec167d74ac7--------------------------------", "anchor_text": ""}, {"url": "https://randy-au.medium.com/?source=post_page-----fec167d74ac7--------------------------------", "anchor_text": "Randy Au"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5bd01667d4e5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-stories-about-labeling-data-by-hand-it-still-works-fec167d74ac7&user=Randy+Au&userId=5bd01667d4e5&source=post_page-5bd01667d4e5----fec167d74ac7---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffec167d74ac7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-stories-about-labeling-data-by-hand-it-still-works-fec167d74ac7&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffec167d74ac7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-stories-about-labeling-data-by-hand-it-still-works-fec167d74ac7&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://xkcd.com/2173/", "anchor_text": "https://xkcd.com/2173/"}, {"url": "https://www.datakind.org/", "anchor_text": "Data Kind"}, {"url": "https://en.wikipedia.org/wiki/Inter-rater_reliability", "anchor_text": "inter-rater reliability"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----fec167d74ac7---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----fec167d74ac7---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffec167d74ac7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-stories-about-labeling-data-by-hand-it-still-works-fec167d74ac7&user=Randy+Au&userId=5bd01667d4e5&source=-----fec167d74ac7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffec167d74ac7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-stories-about-labeling-data-by-hand-it-still-works-fec167d74ac7&user=Randy+Au&userId=5bd01667d4e5&source=-----fec167d74ac7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffec167d74ac7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-stories-about-labeling-data-by-hand-it-still-works-fec167d74ac7&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fec167d74ac7--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ffec167d74ac7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-stories-about-labeling-data-by-hand-it-still-works-fec167d74ac7&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----fec167d74ac7---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----fec167d74ac7--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----fec167d74ac7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----fec167d74ac7--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----fec167d74ac7--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----fec167d74ac7--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----fec167d74ac7--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----fec167d74ac7--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----fec167d74ac7--------------------------------", "anchor_text": ""}, {"url": "https://randy-au.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://randy-au.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Randy Au"}, {"url": "https://randy-au.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.8K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5bd01667d4e5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-stories-about-labeling-data-by-hand-it-still-works-fec167d74ac7&user=Randy+Au&userId=5bd01667d4e5&source=post_page-5bd01667d4e5--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fc29d9b065bd4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-stories-about-labeling-data-by-hand-it-still-works-fec167d74ac7&newsletterV3=5bd01667d4e5&newsletterV3Id=c29d9b065bd4&user=Randy+Au&userId=5bd01667d4e5&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}