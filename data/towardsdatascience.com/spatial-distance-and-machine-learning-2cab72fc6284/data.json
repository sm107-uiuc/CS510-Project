{"url": "https://towardsdatascience.com/spatial-distance-and-machine-learning-2cab72fc6284", "time": 1683017941.334111, "path": "towardsdatascience.com/spatial-distance-and-machine-learning-2cab72fc6284/", "webpage": {"metadata": {"title": "Spatial Distance and Machine Learning | by Francis Adrian Viernes | Towards Data Science", "h1": "Spatial Distance and Machine Learning", "description": "Distance metrics are essential in understanding a lot of machine learning algorithms and therefore resolution of real-world problems. There are numerous distance metrics out there and data scientists\u2026"}, "outgoing_paragraph_urls": [{"url": "https://stackoverflow.com/questions/2096385/formulas-to-calculate-geo-proximity", "anchor_text": "this", "paragraph_index": 21}, {"url": "https://github.com/francisadrianviernes/Machine-Learning/tree/master/Distance%20Metrics", "anchor_text": "Github page", "paragraph_index": 45}, {"url": "https://www.analyticsvidhya.com/blog/2020/02/4-types-of-distance-metrics-in-machine-learning/", "anchor_text": "Four Types of Distance Metrics in Machine Learning", "paragraph_index": 46}, {"url": "https://medium.com/@simplyjk/why-manhattan-distance-formula-doesnt-apply-to-manhattan-7db0ebb1c5f6", "anchor_text": "Why Manhattan Distance Formula Doesn\u2019t Apply to Manhattan", "paragraph_index": 47}, {"url": "https://www.machinelearningplus.com/nlp/cosine-similarity/#2whatiscosinesimilarityandwhyisitadvantageous", "anchor_text": "Cosine Similarity \u2014 Understanding the math and how it works (with python codes)", "paragraph_index": 48}, {"url": "https://www.linkedin.com/in/francis-adrian-viernes-cfa-msf-cc", "anchor_text": "https://www.linkedin.com/in/francis-adrian-viernes-cfa-msf-cc", "paragraph_index": 50}], "all_paragraphs": ["\u201cLife is like a landscape. You live in the midst of it but can describe it only from the vantage point of distance\u201d \u2014 Charles Lindbergh", "Distance metrics are essential in understanding a lot of machine learning algorithms and therefore resolution of real-world problems. There are numerous distance metrics out there and data scientists should be able to understand most of them to make models more meaningful.", "For a geospatial data scientist, there is an added benefit to this exercise: the feature creation from longitude and latitude.", "Longitude and Latitude, while represented as floats, are more similar to categorical or nominal data. Increasing or decreasing them in magnitude may not give you or your model something meaningful.", "Location data, therefore, needs some additional feature engineering to produce valuable insights. These newly-engineered features will then be what we will be used as inputs in machine learning.", "The most important feature to derive from a set of geocodes (longitude and latitude) is distance. Many supervised and unsupervised machine learning models use distance metrics as inputs. Distance metrics measure the similarity between two or more objects.", "Distance metrics play a crucial role in the development and resolution of real-world problems. For example, distance metrics are used for many computer vision tasks, sentiment analysis, and, even clustering algorithms.", "It goes without saying that any geospatial analyst should understand the different types of distance metrics and what type of problem they solve.", "Choosing therefore the correct distance metric can therefore be the difference maker between a successful and failed model implementation.", "In this article, let us discuss some of the most used distance metrics apply some codes to implement them in python. There will be some mathematical discussions but one can skip and read the pros and cons instead. For each metric, we will discuss the pros and cons, some mathematical intuition, where the metrics are most appropriate, and the actual codes.", "Although there are other possible choices, most instance-based learners use Euclidean distance. \u2014 p 135, Data Mining Practical Machine Learning Tools and Techniques (4th edition, 2016).", "Euclidean distance is the easiest and most obvious way of representing the distance between two points.", "Because it is a formalization of the \u201cPythagorean\u201d theorem, this is likewise called the Pythagorean distance.", "Pros: Euclidean distance is relatively easy to implement and is already being used by most clustering algorithms. Likewise, it is easier to explain and visualize. Finally, for small distances, it can be argued that the distance between two points is the same regardless if it lies on a flat or spherical surface.", "Cons: It rarely seldom approximates the true distance between two objects in the real world. For one reason, distance on a lower-dimensional space, say 2D Euclidean space, becomes less applicable on higher dimensional space where the difference between the nearest and farthest data becomes more uniformly distant from one another.", "While most distant metrics suffer from this problem, this is more pronounced for the Euclidean distance. Besides, since it is the smallest distance between the two points, it disregards structures in the 3D plane that lowers the accuracy of this distance measurement for geospatial problems.", "When is it most applicable: Because it ignores structures in the real-world, Euclidean distance is best for emergency cases where helicopters can fly in a straight-line to places such as hospitals. Another documented case is for trip planning where you simply need to determine which landmarks are close to one another.", "Code: As longitude and latitude are not really cartesian coordinates, we need to convert them, taking into account the spherical nature of the earth.", "Unlike the Euclidean distance, the great circle distance considers the fact that two points lie on the surface of a sphere.", "To get the Great Circle Distance, we apply the Haversine Formula above.", "Pros: The majority of geospatial analysts agree that this is the appropriate distance to use for Earth distances and is argued to be more accurate over longer distances compared to Euclidean distance. In addition to that, coding is straightforward despite the complexity of the formula\u2019s appearance. Performance is faster in computing compared to other great circle distance formulas such as \u201cVincenty Formula\u201d.", "Cons: Slower compared to the \u201cSpherical Law of Cosines Formula\u201d. In addition to that, this may not necessarily produce the driving or walking \u201cdistance\u201d, which may be the variable of interest. Read more about this.", "When is it most applicable: Most geospatial analyst would argue that this should be the default and norm for calculating distances between two geographic points.", "Code: Haversine distance is the basic formula I used for my distance calculations. While there are packages that readily calculate it, let us try coding it from scratch:", "The Manhattan Distance is a measure of the distance between two points that take into account the perpendicular layout of the map. It is called Manhattan distance because Manhattan is known for its grid or block layout where streets intersect at right angles.", "The formula for a Manhattan Distance is as follows:", "Pros: Because it takes into account the grid layout of locations, this is what most GPS use to calculate distances. This taxicab geometry is what we use in LASSO regression as well.", "Cons: The application of the formula for geospatial analysis is not as straightforward using the formula. Because the earth is tilted, a correction factor is applied to produce more accurate results (28.9 degrees according to experts applying said formula)", "When is it most applicable: If the variable of interest is that of driving distance, this is more appropriate than both Euclidean and Great Circle distances. This is why another name for this is the taxicab distance, as it is the distance more applicable to a taxicab driving around in a grid-layout location.", "Code: The code for Manhattan distance requires us to rotate the grid we use in our base calculation. After doing this, we then proceed to apply the great circle distance (haversine formula) we coded earlier:", "If we try to compute the distance we have using the original points and destination we have:", "As noted, this is a much closer approximation to the driving distance as presented by Google Maps:", "While not normally used for geospatial problems, some distance metrics are worth discussing as they can be pretty useful with complementary problems.", "As a beginner, I often confuse this with the \u201cSpherical Law of Cosines\u201d, which is just another formula for the Great Circle Distance. Note, however, that these are two different and the cosine similarity is best known for applications in text analysis.", "The cosine similarity returns -1 for least dissimilar documents and +1 for most similar documents.", "Suppose you want to determine which documents are similar. Using other distance metrics would probably rank similar documents according to the size of the repeated words. This tends to classify longer documents as more similar, which may not be the case.", "Pros: As it only measures the angle of similarity and not the size, it may produce accurate results especially when analyzing which subcomponent (lower size) is part of a larger object.", "Cons: There may be cases where the researchers may actually define \u201csimilarity\u201d as being synonymous with magnitude or size and in these cases, the cosine similarity may not be as useful.", "When is it most applicable: Applications on text and image processing problems.", "Code: For this, let\u2019s use the one available in scikit. Let us have an example though using real-life examples.", "The following examples are published documents by the CFA Institute. The first document is a small excerpt from a publication of the CFA Institute for Fixed Income. The third one is likewise from a different publication but on the same topic of Fixed Income. The second document, however, is from a publication but for Alternative Investments.", "If we will be using euclidean distance, we may see that the second and third documents to be more similar as they have more in terms of the number of repeated words.", "After this, let us calculate the cosine similarity between the three documents:", "There are many more distance metrics but for now, let us focus on these four. Let me know what you think about them.", "As we all saw, there are a lot of different distance metrics, each having different strengths and appropriateness for different problem types. For geospatial data scientists, it may be advantageous to try as many as possible and simply assess which ones are more relevant in the feature selection portion of the study.", "Checkout the codes on my Github page.", "Four Types of Distance Metrics in Machine Learning", "Why Manhattan Distance Formula Doesn\u2019t Apply to Manhattan", "Cosine Similarity \u2014 Understanding the math and how it works (with python codes)", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Chief Analytics Officer | Chief Data Scientist| Finance enthusiast, Data Science Mentor. Add me @: https://www.linkedin.com/in/francis-adrian-viernes-cfa-msf-cc"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F2cab72fc6284&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspatial-distance-and-machine-learning-2cab72fc6284&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspatial-distance-and-machine-learning-2cab72fc6284&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspatial-distance-and-machine-learning-2cab72fc6284&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspatial-distance-and-machine-learning-2cab72fc6284&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----2cab72fc6284--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2cab72fc6284--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://francisadrianviernes.medium.com/?source=post_page-----2cab72fc6284--------------------------------", "anchor_text": ""}, {"url": "https://francisadrianviernes.medium.com/?source=post_page-----2cab72fc6284--------------------------------", "anchor_text": "Francis Adrian Viernes"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd1b3b2f70d6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspatial-distance-and-machine-learning-2cab72fc6284&user=Francis+Adrian+Viernes&userId=d1b3b2f70d6f&source=post_page-d1b3b2f70d6f----2cab72fc6284---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2cab72fc6284&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspatial-distance-and-machine-learning-2cab72fc6284&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2cab72fc6284&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspatial-distance-and-machine-learning-2cab72fc6284&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/getting-started", "anchor_text": "Getting Started"}, {"url": "https://unsplash.com/@samuelchenard?utm_source=medium&utm_medium=referral", "anchor_text": "Samuel Chenard"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://commons.wikimedia.org/w/index.php?curid=67617313", "anchor_text": "link to reference"}, {"url": "https://stackoverflow.com/questions/2096385/formulas-to-calculate-geo-proximity", "anchor_text": "this"}, {"url": "https://unsplash.com/@mynameisged?utm_source=medium&utm_medium=referral", "anchor_text": "Ged Lawson"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://en.wikipedia.org/wiki/Cosine_similarity", "anchor_text": "Wikipedia"}, {"url": "https://github.com/francisadrianviernes/Machine-Learning/tree/master/Distance%20Metrics", "anchor_text": "Github page"}, {"url": "https://www.analyticsvidhya.com/blog/2020/02/4-types-of-distance-metrics-in-machine-learning/", "anchor_text": "Four Types of Distance Metrics in Machine Learning"}, {"url": "https://medium.com/@simplyjk/why-manhattan-distance-formula-doesnt-apply-to-manhattan-7db0ebb1c5f6", "anchor_text": "Why Manhattan Distance Formula Doesn\u2019t Apply to Manhattan"}, {"url": "https://www.machinelearningplus.com/nlp/cosine-similarity/#2whatiscosinesimilarityandwhyisitadvantageous", "anchor_text": "Cosine Similarity \u2014 Understanding the math and how it works (with python codes)"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----2cab72fc6284---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/analytics?source=post_page-----2cab72fc6284---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/tag/python?source=post_page-----2cab72fc6284---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/gis?source=post_page-----2cab72fc6284---------------gis-----------------", "anchor_text": "GIS"}, {"url": "https://medium.com/tag/getting-started?source=post_page-----2cab72fc6284---------------getting_started-----------------", "anchor_text": "Getting Started"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2cab72fc6284&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspatial-distance-and-machine-learning-2cab72fc6284&user=Francis+Adrian+Viernes&userId=d1b3b2f70d6f&source=-----2cab72fc6284---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2cab72fc6284&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspatial-distance-and-machine-learning-2cab72fc6284&user=Francis+Adrian+Viernes&userId=d1b3b2f70d6f&source=-----2cab72fc6284---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2cab72fc6284&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspatial-distance-and-machine-learning-2cab72fc6284&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2cab72fc6284--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F2cab72fc6284&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspatial-distance-and-machine-learning-2cab72fc6284&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----2cab72fc6284---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----2cab72fc6284--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----2cab72fc6284--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----2cab72fc6284--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----2cab72fc6284--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----2cab72fc6284--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----2cab72fc6284--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----2cab72fc6284--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----2cab72fc6284--------------------------------", "anchor_text": ""}, {"url": "https://francisadrianviernes.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://francisadrianviernes.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Francis Adrian Viernes"}, {"url": "https://francisadrianviernes.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "407 Followers"}, {"url": "https://www.linkedin.com/in/francis-adrian-viernes-cfa-msf-cc", "anchor_text": "https://www.linkedin.com/in/francis-adrian-viernes-cfa-msf-cc"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd1b3b2f70d6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspatial-distance-and-machine-learning-2cab72fc6284&user=Francis+Adrian+Viernes&userId=d1b3b2f70d6f&source=post_page-d1b3b2f70d6f--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8d5f25d489ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspatial-distance-and-machine-learning-2cab72fc6284&newsletterV3=d1b3b2f70d6f&newsletterV3Id=8d5f25d489ff&user=Francis+Adrian+Viernes&userId=d1b3b2f70d6f&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}