{"url": "https://towardsdatascience.com/when-to-use-the-kolmogorov-smirnov-test-dd0b2c8a8f61", "time": 1683003896.4919791, "path": "towardsdatascience.com/when-to-use-the-kolmogorov-smirnov-test-dd0b2c8a8f61/", "webpage": {"metadata": {"title": "When to Use the Kolmogorov-Smirnov Test | by Nadim Kawwa | Towards Data Science", "h1": "When to Use the Kolmogorov-Smirnov Test", "description": "Hypothesis testing is used in many applications and the methodology seems quite straightforward. Often times, though, we tend to overlook the underlying assumptions and need to ask: Are we comparing\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Student's_t-test", "anchor_text": "t-test", "paragraph_index": 2}, {"url": "https://en.wikipedia.org/wiki/Kolmogorov%E2%80%93Smirnov_test", "anchor_text": "Kolmogorov\u2013Smirnov", "paragraph_index": 2}, {"url": "https://github.com/NadimKawwa/Statistics/blob/master/KS_Test.ipynb", "anchor_text": "https://github.com/NadimKawwa/Statistics/blob/master/KS_Test.ipynb", "paragraph_index": 3}, {"url": "https://en.wikipedia.org/wiki/Central_limit_theorem", "anchor_text": "Central Limit Theorem", "paragraph_index": 5}, {"url": "https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_ind.html", "anchor_text": "scipy.ttest.ttest_ind", "paragraph_index": 9}, {"url": "https://en.wikipedia.org/wiki/Cumulative_distribution_function", "anchor_text": "Cumulative Distribution Function", "paragraph_index": 15}, {"url": "https://en.wikipedia.org/wiki/Cumulative_distribution_function#Empirical_distribution_function", "anchor_text": "Empirical Distribution Function", "paragraph_index": 15}, {"url": "https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.percentileofscore.html", "anchor_text": "percentileofscore", "paragraph_index": 28}, {"url": "https://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.stats.kstest.html", "anchor_text": "goodness of fit", "paragraph_index": 31}, {"url": "https://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.stats.ks_2samp.html", "anchor_text": "two samples", "paragraph_index": 31}], "all_paragraphs": ["Hypothesis testing is used in many applications and the methodology seems quite straightforward. Often times, though, we tend to overlook the underlying assumptions and need to ask: Are we comparing apples to oranges? The question also arises when data scientists decide to discard observations based on missing features.", "Imagine we have features f1, f2,\u2026 fn and a binary target variable y. Assuming many observations have missing information for one or more features, we decide to drop these observations (rows). By doing so we might have altered the distribution of a feature fk. To formulate this as a question: Does dropping observations change the distribution of feature(s)? Is this change significant?", "In this article, we are going to present some assumptions of the t-test and how the Kolmogorov\u2013Smirnov (KS) test can validate or discredit those assumptions. That being said, it is crucial to state early on that the t-test and KS test are testing different things.", "For each step we will present the theory and implement the code in Python 3. For the full example, feel free to follow along on the jupyter notebook: https://github.com/NadimKawwa/Statistics/blob/master/KS_Test.ipynb", "There are situations where we ought to doubt the results of a t-test. The t-test assumes that situations produce normal data that differ only in the sense that the average outcome in one situation is different from the average outcome of the other situation.", "That being said, if we apply the t-test to data drawn from a non-normal distribution, we are probably increasing the risk of errors. Per the Central Limit Theorem (CLM), the t-test becomes more robust as the control/treatment groups become sufficiently large.", "However, the t-test can still fail in situations where we have a \u201clarge\u201d enough sample.", "Consider the two randomly generated samples in the code block below:", "Both samples are generated from normal distributions having the same mean, however by visual inspection it is clear that both samples are different. A t-test might not be able to pick up on this difference and confidently say that both samples are identical.", "A t-test with scipy.ttest.ttest_ind on these samples gives a p-value larger than 0.05. We therefore cannot reject the null hypothesis of identical average scores.", "Say we generate two small datasets that differ in mean, but a non-normal distribution masks the difference as shown in the code below:", "If we knew in advance that the data was not normally distributed we would not be using the t-test to begin with. With this idea in mind, we introduce a method to check if our observations come from a reference probability distribution.", "The KS test is a non-parametric and distribution-free test: It makes no assumption about the distribution of data. The KS test can be used to compare a sample with a reference probability distribution, or to compare two samples.", "Suppose we have observations x1, x2, \u2026xn that we think come from a distribution P. The KS test is used to evaluate:", "To build intuition for the KS test, we take a step back and consider descriptive statistics. Distributions such as the normal distribution are known to have a mean of 0 and a standard deviation of 1. Therefore we expect no more than 15% of the data to lie more than 1 standard deviation below the mean.", "We will use the Cumulative Distribution Function (CDF). More specifically, we will use the Empirical Distribution Function (EDF): an estimate of the cumulative distribution function that generated the points in the sample.", "The usefulness of the CDF is that it uniquely characterizes a probability distribution. We want to compare the empirical distribution function of the observed data, F_obs, with the cumulative distribution function associated with the null hypothesis, F_exp .", "In the first example let the null hypothesis be that our samples come from a normal distribution N(0,1). We want to compare the empirical distribution function of the observed data, with the cumulative distribution function associated with the null hypothesis.", "Here is the method to set up this experiment:", "The plot below shows a visual representation of what we are doing. The observed values F_obs are represented by the blue curve whereas the theoretical values F_exp are represented by the orange curve. The vertical green lines are the differences between observed and theoretical", "If our maximum difference is less than D_Crit we fail to reject the null hypothesis. The critical value at 95% is approximated by:", "Where n is the number of samples.", "Given two samples x and y, we wish to test if they are drawn from the same distribution P. The first thing that changes is the formula to approximate the 95% critical value:", "Where n_x and n_y are the number of observations in each sample.", "We are going to randomly generate two random samples from two distributions:", "To compare the two we implement the following steps:", "Before implementing the code we present what we visually aim to achieve in the plot below. Looking at the CDF we can intuitively say that samples a & b do not come from the same distribution.", "In the code block below we will implement the first two steps.", "Next, we make use of scipy\u2019s percentileofscore to calculate the CDF as shown below:", "In our case D_crit=0.408 and unsurprisingly we get D_n=0.6 and we reject the null hypothesis that both are drawn from the same distribution.", "We have used the KS test to compare a sample with a reference probability distribution, or to compare two samples. In many day-to-day applications, the test is used to validate assumptions and help guide decisions.", "For faster implementation, the scipy package offers the KS test for a for goodness of fit or for two samples.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fdd0b2c8a8f61&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-to-use-the-kolmogorov-smirnov-test-dd0b2c8a8f61&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-to-use-the-kolmogorov-smirnov-test-dd0b2c8a8f61&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-to-use-the-kolmogorov-smirnov-test-dd0b2c8a8f61&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-to-use-the-kolmogorov-smirnov-test-dd0b2c8a8f61&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----dd0b2c8a8f61--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----dd0b2c8a8f61--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@nadimkawwa?source=post_page-----dd0b2c8a8f61--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nadimkawwa?source=post_page-----dd0b2c8a8f61--------------------------------", "anchor_text": "Nadim Kawwa"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F85e7e8816e35&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-to-use-the-kolmogorov-smirnov-test-dd0b2c8a8f61&user=Nadim+Kawwa&userId=85e7e8816e35&source=post_page-85e7e8816e35----dd0b2c8a8f61---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdd0b2c8a8f61&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-to-use-the-kolmogorov-smirnov-test-dd0b2c8a8f61&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdd0b2c8a8f61&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-to-use-the-kolmogorov-smirnov-test-dd0b2c8a8f61&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@nerfee?utm_source=medium&utm_medium=referral", "anchor_text": "Nerfee Mirandilla"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://en.wikipedia.org/wiki/Student's_t-test", "anchor_text": "t-test"}, {"url": "https://en.wikipedia.org/wiki/Kolmogorov%E2%80%93Smirnov_test", "anchor_text": "Kolmogorov\u2013Smirnov"}, {"url": "https://github.com/NadimKawwa/Statistics/blob/master/KS_Test.ipynb", "anchor_text": "https://github.com/NadimKawwa/Statistics/blob/master/KS_Test.ipynb"}, {"url": "https://en.wikipedia.org/wiki/Central_limit_theorem", "anchor_text": "Central Limit Theorem"}, {"url": "https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_ind.html", "anchor_text": "scipy.ttest.ttest_ind"}, {"url": "https://en.wikipedia.org/wiki/Cumulative_distribution_function", "anchor_text": "Cumulative Distribution Function"}, {"url": "https://en.wikipedia.org/wiki/Cumulative_distribution_function#Empirical_distribution_function", "anchor_text": "Empirical Distribution Function"}, {"url": "https://en.wikipedia.org/wiki/Log-normal_distribution", "anchor_text": "Lognormal"}, {"url": "https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.percentileofscore.html", "anchor_text": "percentileofscore"}, {"url": "https://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.stats.kstest.html", "anchor_text": "goodness of fit"}, {"url": "https://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.stats.ks_2samp.html", "anchor_text": "two samples"}, {"url": "https://en.wikipedia.org/wiki/Kolmogorov%E2%80%93Smirnov_test", "anchor_text": "https://en.wikipedia.org/wiki/Kolmogorov%E2%80%93Smirnov_test"}, {"url": "https://en.wikipedia.org/wiki/Cumulative_distribution_function", "anchor_text": "https://en.wikipedia.org/wiki/Cumulative_distribution_function"}, {"url": "http://www.physics.csbsju.edu/stats/KS-test.html", "anchor_text": "http://www.physics.csbsju.edu/stats/KS-test.html"}, {"url": "http://www.stats.ox.ac.uk/~massa/Lecture%2013.pdf", "anchor_text": "http://www.stats.ox.ac.uk/~massa/Lecture%2013.pdf"}, {"url": "https://medium.com/tag/data-science?source=post_page-----dd0b2c8a8f61---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----dd0b2c8a8f61---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/statistics?source=post_page-----dd0b2c8a8f61---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/business?source=post_page-----dd0b2c8a8f61---------------business-----------------", "anchor_text": "Business"}, {"url": "https://medium.com/tag/education?source=post_page-----dd0b2c8a8f61---------------education-----------------", "anchor_text": "Education"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdd0b2c8a8f61&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-to-use-the-kolmogorov-smirnov-test-dd0b2c8a8f61&user=Nadim+Kawwa&userId=85e7e8816e35&source=-----dd0b2c8a8f61---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdd0b2c8a8f61&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-to-use-the-kolmogorov-smirnov-test-dd0b2c8a8f61&user=Nadim+Kawwa&userId=85e7e8816e35&source=-----dd0b2c8a8f61---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdd0b2c8a8f61&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-to-use-the-kolmogorov-smirnov-test-dd0b2c8a8f61&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----dd0b2c8a8f61--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fdd0b2c8a8f61&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-to-use-the-kolmogorov-smirnov-test-dd0b2c8a8f61&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----dd0b2c8a8f61---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----dd0b2c8a8f61--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----dd0b2c8a8f61--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----dd0b2c8a8f61--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----dd0b2c8a8f61--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----dd0b2c8a8f61--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----dd0b2c8a8f61--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----dd0b2c8a8f61--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----dd0b2c8a8f61--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nadimkawwa?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nadimkawwa?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Nadim Kawwa"}, {"url": "https://medium.com/@nadimkawwa/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "281 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F85e7e8816e35&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-to-use-the-kolmogorov-smirnov-test-dd0b2c8a8f61&user=Nadim+Kawwa&userId=85e7e8816e35&source=post_page-85e7e8816e35--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F245ed41488d0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-to-use-the-kolmogorov-smirnov-test-dd0b2c8a8f61&newsletterV3=85e7e8816e35&newsletterV3Id=245ed41488d0&user=Nadim+Kawwa&userId=85e7e8816e35&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}