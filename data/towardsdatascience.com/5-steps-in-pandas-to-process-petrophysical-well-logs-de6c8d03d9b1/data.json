{"url": "https://towardsdatascience.com/5-steps-in-pandas-to-process-petrophysical-well-logs-de6c8d03d9b1", "time": 1683009294.83308, "path": "towardsdatascience.com/5-steps-in-pandas-to-process-petrophysical-well-logs-de6c8d03d9b1/", "webpage": {"metadata": {"title": "5 Steps in Pandas to Process Petrophysical Well Logs (part2) | by Ryan A. Mardani | Towards Data Science", "h1": "5 Steps in Pandas to Process Petrophysical Well Logs (part2)", "description": "In the previous work, we implemented 10 simple steps using pandas to process petrophysical well logs in LAS format. In this project, we will go deeper to use more advanced approaches to process well\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/10-steps-in-pandas-to-process-las-file-and-plot-610732093338", "anchor_text": "work", "paragraph_index": 0}, {"url": "https://github.com/mardani72/LAS_Pandas", "anchor_text": "my github account", "paragraph_index": 2}, {"url": "https://github.com/mardani72/LAS_Pandas/blob/master/5stepsV2.ipynb", "anchor_text": "here", "paragraph_index": 2}], "all_paragraphs": ["In the previous work, we implemented 10 simple steps using pandas to process petrophysical well logs in LAS format. In this project, we will go deeper to use more advanced approaches to process well log data.", "These 5 steps are:1) Function Definition2) Apply Function3) Lambda Function4) Cut Function5) Visualization", "To avoid extra work that we already did on specific well data previously, we will use the output of that project. If you worked on a previous project you may write the DataFrame into csv file (use to_csv command ) to use here. Otherwise, you can access through my github account and download the csv format called 1050383876v2.csv. You may also download the full Jupiter notebook file from my account, here.", "Let\u2019s bring required libraries on the workbook first:", "Then, read the csv data into df variable:", "Dataset seems clean. I also dropped the upper part where there were some NaN values, so the starting depth is 1000 meters.", "Function in python is a group of statements that perform a specific task. A function can make the larger program more readable. It also can help us to prevent repetition. A function has a special structure as: 1- keyword def, 2- function name, 3- arguments that we pass values to a function, 4- a colon(:), 5- more statement in body, 6- Return statement which is optional.", "There are several approaches to calculate porosity from petrophysical well logs. Here we will use the density method. Density tools measure rock medium bulk density(b) in wellbore conditions. Having knowledge of the fluid density (f) filling rock porosity and grain density(ma) can help us to calculate the percentage of void areas of the rocks. The equation is:", "Starting with def keyword, density porosity(den) function can be defined with the following arguments (parameters): rb, rf, rm.", "Simply, the function will return the density porosity as written in the last line of code. Here we prefer to have porosity in percentage(multiplied by 100). After defining the density porosity function, we can apply it to the dataset.", "Using the apply function, a predefined function (here, density porosity) can be applied to each element of DataFrame either in column or row direction. If we leave it on default, it will on the column.", "As den function takes 3 values (rb, rf, rm), we can introduce the main one from the dataset (rb =df[\u2018RHOB\u2019]) and use the apply function to define rf and rm constants manually. Here I assume that fluid content is water with a density of 1 and the dominant mineral is Calcite with a density of 2.71. The Density porosity is stored in a new column called DNPOR.", "Lambda function is a simple 1-line function that does not have def or return keywords. In fact, they are implicit. To use this function, we need to type lambda followed by parameters. Then, the colon comes before the return argument.", "Total porosity is defined as the average of Density and Neutron porosity.", "The function name is Tot_por. For lambda function, DN and CN are density and neutron parameters followed by a colon. The average of these two inputs will be returned by the function.", "Calling the Tot_por function and introducing corresponding columns of DataFrame as input will create total porosity that will be stored in a new column called TPOR in the dataset.", "When we need to segment and sort data values into specific bins, we can use the Cut function. Here we will use this function to define simple rock facies based on petrophysical properties, GR.", "Facies classification is a huge topic in geoscience and various metrics can come to play but here, we look at it very simple. Based on GR reading in well logs, we can identify clean from shaly formations.", "A new column is added to the dataset based on GR readings which are binned between 0 and40(clean), and between 40and 300(shaly).", "Commonly, the matplotlib library is used in python for plotting. In this work, I prefer to use the seaborn library for its simplicity. I want to visualize a scatter plot of density porosity vs. neutron porosity with the legend color of facies that in the previous part we defined. This is simply accessible by one line of code while in matplotlib it requires for loop.", "In this work, I have tried to use more advanced steps in pandas to process petrophysical well log data. Functions are a convenient way of using programming to avoid repetition. Either python\u2019s functions like apply and cut or self-defined functions(den & Tot_por in this work) can be useful to process well log data.", "If you have any suggestions, I\u2019m gladly open to see your comments!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fde6c8d03d9b1&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-steps-in-pandas-to-process-petrophysical-well-logs-de6c8d03d9b1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-steps-in-pandas-to-process-petrophysical-well-logs-de6c8d03d9b1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-steps-in-pandas-to-process-petrophysical-well-logs-de6c8d03d9b1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-steps-in-pandas-to-process-petrophysical-well-logs-de6c8d03d9b1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----de6c8d03d9b1--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----de6c8d03d9b1--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@mardani.a?source=post_page-----de6c8d03d9b1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@mardani.a?source=post_page-----de6c8d03d9b1--------------------------------", "anchor_text": "Ryan A. Mardani"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb36223c810e6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-steps-in-pandas-to-process-petrophysical-well-logs-de6c8d03d9b1&user=Ryan+A.+Mardani&userId=b36223c810e6&source=post_page-b36223c810e6----de6c8d03d9b1---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fde6c8d03d9b1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-steps-in-pandas-to-process-petrophysical-well-logs-de6c8d03d9b1&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fde6c8d03d9b1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-steps-in-pandas-to-process-petrophysical-well-logs-de6c8d03d9b1&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/10-steps-in-pandas-to-process-las-file-and-plot-610732093338", "anchor_text": "work"}, {"url": "https://github.com/mardani72/LAS_Pandas", "anchor_text": "my github account"}, {"url": "https://github.com/mardani72/LAS_Pandas/blob/master/5stepsV2.ipynb", "anchor_text": "here"}, {"url": "https://medium.com/tag/pandas?source=post_page-----de6c8d03d9b1---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/data-science?source=post_page-----de6c8d03d9b1---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/geoscience?source=post_page-----de6c8d03d9b1---------------geoscience-----------------", "anchor_text": "Geoscience"}, {"url": "https://medium.com/tag/python?source=post_page-----de6c8d03d9b1---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fde6c8d03d9b1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-steps-in-pandas-to-process-petrophysical-well-logs-de6c8d03d9b1&user=Ryan+A.+Mardani&userId=b36223c810e6&source=-----de6c8d03d9b1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fde6c8d03d9b1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-steps-in-pandas-to-process-petrophysical-well-logs-de6c8d03d9b1&user=Ryan+A.+Mardani&userId=b36223c810e6&source=-----de6c8d03d9b1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fde6c8d03d9b1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-steps-in-pandas-to-process-petrophysical-well-logs-de6c8d03d9b1&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----de6c8d03d9b1--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fde6c8d03d9b1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-steps-in-pandas-to-process-petrophysical-well-logs-de6c8d03d9b1&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----de6c8d03d9b1---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----de6c8d03d9b1--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----de6c8d03d9b1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----de6c8d03d9b1--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----de6c8d03d9b1--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----de6c8d03d9b1--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----de6c8d03d9b1--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----de6c8d03d9b1--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----de6c8d03d9b1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@mardani.a?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@mardani.a?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Ryan A. Mardani"}, {"url": "https://medium.com/@mardani.a/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "388 Followers"}, {"url": "http://www.dataenergy.ca", "anchor_text": "www.dataenergy.ca"}, {"url": "http://linkedin.com/in/amardani", "anchor_text": "linkedin.com/in/amardani"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb36223c810e6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-steps-in-pandas-to-process-petrophysical-well-logs-de6c8d03d9b1&user=Ryan+A.+Mardani&userId=b36223c810e6&source=post_page-b36223c810e6--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7a39952b3ca1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-steps-in-pandas-to-process-petrophysical-well-logs-de6c8d03d9b1&newsletterV3=b36223c810e6&newsletterV3Id=7a39952b3ca1&user=Ryan+A.+Mardani&userId=b36223c810e6&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}