{"url": "https://towardsdatascience.com/problem-solving-as-data-scientist-a-case-study-49296d8cd7b7", "time": 1683012622.9216309, "path": "towardsdatascience.com/problem-solving-as-data-scientist-a-case-study-49296d8cd7b7/", "webpage": {"metadata": {"title": "Problem Solving as Data Scientist: a Case Study | by Pan Wu | Towards Data Science", "h1": "Problem Solving as Data Scientist: a Case Study", "description": "There are two myths about how data scientists solve problems: one is that the problem naturally exists, hence the challenge for a data scientist is to use an algorithm and put it into production\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.linkedin.com/in/panwu/", "anchor_text": "LinkedIn", "paragraph_index": 42}, {"url": "https://www.linkedin.com/pulse/how-innovate-datascience-pan-wu/", "anchor_text": "How to innovate in Data Science", "paragraph_index": 44}], "all_paragraphs": ["There are two myths about how data scientists solve problems: one is that the problem naturally exists, hence the challenge for a data scientist is to use an algorithm and put it into production. Another myth considers data scientists always try leveraging the most advanced algorithms, the fancier model equals a better solution. While these are not fully groundless, they represent two common misunderstandings on how data scientists work: one emphasizes too much on the \u201cexecution\u201d side, and the other overstate the \u201calgorithm\u201d part.", "Obviously, these myths are not how we actually solve problems. From my perspective, problem-solving for a data scientist is:", "With this said, I observe there are usually four stages involved in the problem-solving process, and I would like to share what are the four stages, and how it works in action with a case study, and then how can we get there with the right mindsets.", "My first job was in a company that operates an automotive pricing and information website and it went through the initial public offering (IPO) in May 2014. It was a great experience and I vividly remember everyone around was cheering on that day for the birth of a public company. As a public company, our revenue started to receive a lot of attention, especially with the first quarterly earnings report coming out in August. In early July, the director in the revenue department came to the Data Scientists' seating area, and it did not look like he got good news to share.", "\u201cWe are in trouble, a percentage of the sales revenue cannot be credited appropriately; we need your help.\u201d", "Here are some relevant contexts: the company\u2019s revenue is generated based on the fact that it introduces more sales to car dealers. To get the deserved commission, we need to match the sale of a vehicle to the correct customer. If our data providers can tell us which customer bought which vehicle, then the matching is done and no extra effort is needed; however, the problem is that one data provider decided to not provide the 1-to-1 sale record: it has to be done in a batch (visualization on what is a \u201cbatch\u201d shown as below), then it is much harder and uncertain to know which customer bought which car.", "The revenue team was surprised by this change and after spending the past month trying to solve the problem, only 2% of sales from that data provider could be recovered manually. This would be bad news for the first earning call, so they came to seek help from Data Scientists. This is clearly an urgent problem that needs to be solved, so we jumped right on it.", "This is the first stage of problem-solving in Data Science. Regarding \u201cunderstand the problem\u201d part, one needs to clearly identify the pain points so that once the pain point is resolved, the problem should be gone; regarding \u201credefine\u201d the problem part, this is usually why a problem needs Data Scientist help.", "For the specific one asked by our revenue team, the problem is: we cannot assign each sold vehicle to a customer, then we lose the revenue.", "The pain point is: finding who purchased a vehicle in the given batch is manual and inaccurate, considering there are thousands of batches that need matching sales, it is very time-consuming and not sustainable.", "The \u201credefined\u201d problem in a mathematical term is: given a batch with customer C1, C2, .., Cn, along with the sold vehicle information, V1, V2, \u2026, Vm, we need an automated solution to accurately identify the right matching pair (Ci, Vj) reflecting the actual purchasing event.", "With the redefined problem, we can see this is a \u201cmatching\u201d exercise under constraint, with given customers and vehicles in a batch. So I decomposed the problem further into two steps:", "Now we can further identify the solution for each.", "For simplicity, let\u2019s assume there are three customers (c1, c2, c3) in this batch, and one vehicle (v1) information is provided as a sale.", "Since there is only one customer making the purchase, this probability can be extended into:", "For each of the item, given the following formula", "We can see P(C=c1|V=v1) is proportional to P(V=v1|C=c1). So now, we can get the formula for the probability calculation:", "and the key is to get the probability for each P(V|C). Such a formula can be verbally explained as: the likelihood for a vehicle to be purchased by a specific customer is proportional to the likelihood for the customer to buy this specific vehicle.", "The above formula may look too \u201cmathematical\u201d, so let me put it into an intuitive context: assuming three people were in a room, one is a musician, one is an athlete, and one is a data scientist. You were told there is a violin in this room belong to one of them. Now guess, whom do you think is the owner of the violin? This is pretty straightforward, right? given the likelihood of musician to own a violin is high, and the likelihood of athlete and data scientists to own a violin is lower, it is much more likely for the violin to belong to the musician. The \u201cmathematical\u201d thinking process is illustrated below.", "Now, let\u2019s put the probabilities into a business context. As an online automotive pricing platform, each customer needs to generate at least one vehicle quote, hence, we assume the customer can be reasonably represented as the vehicles he/she quoted. Then such P(V|C) probability can be learned from existing data the company already accumulated in the history, including who generated a vehicle quote at when, and what vehicle they eventually bought. I would not further elaborate on the details, but the key point is that we can learn P(V|C), and then calculate the needed probability P(C|V) in each batch.", "Once we get the expected probability for each vehicle to be sold to customers, the second step is the attribution process. Assuming there is only one sold vehicle in the batch, such process is trivial; however, if there are multiple sold vehicles in the batch, either following approaches would work:", "Now we have designed a two-stepped algorithm to solve the key challenge, and it\u2019s time to test the performance! Given there are historic quotes and sales data, it is straightforward to simulate the process of \u201ccreating random batches\u201d, \u201cattaching sales to the batch\u201d, and try to \u201crecover sales from the given batch information\u201d. Such simulation provides a way to evaluate the model\u2019s performance and we estimated more than 50% of sales can be recovered with high precision (>95%). We deployed the model for the real dataset, and the results matched our expectations well.", "The revenue team was very happy with the above solution: comparing to the ~2% recovery rate, 50% is more than 25 X! From a business impact perspective, this revenue directly added to the bottom line for our first quarterly earnings report, and the contributed value from the Data Science team is significant.", "We run the above solution for an extra month and see the performance is pretty consistent, and now it is time to think about what\u2019s next? We recovered 50% of sales, but how about the rest 50%? Is it possible to further improve the algorithm to get there?", "Usually, we, as data scientists, have a tendency to focus too much on the algorithm details; in this case, there were some discussions around how to better model the P(V|C): should we use a deep learning model to make this probability much better, etc. However, per my understanding, these pure algorithmic improvements usually result in just incremental performance, and it\u2019s less likely we close the rest 50% gap.", "Then I started a deeper conversation with the revenue team and trying to figure out what was missing in our understanding about the problem, turns out we can control how the customers are grouped into a batch! Although there are some restrictions (e.g. customers have to generate quotes from the same dealership), this gives us the freedom to further optimize, and I see this is the direction to close the gap of the rest 50% sales.", "Why am I confident in this direction? Think about this situation: if you have 4 people to be batched, and each batch has 2 people. The best batching strategy is to put the most different people in the same batch so that once an item is returned, the attribution will be more accurate. The following visualization shows the concept. On the left side, if you put two musicians in the same batch, two athletes in the same batch, it\u2019s very hard to know who owns the violin or basketball. While on the right side, if you have each batch with one musician and one athlete, it is much easier to tell Musician A owns the violin, and Athlete D owns the basketball, with high confidence.", "To materialize the above concept, there are two steps required:", "In the first stage solution, we already find a way to calculate P(V|C), here, I would make a direct generalization: the similarity between two customers is proportional to the average likelihood for both customers to purchase each other\u2019s quoted vehicles. If each customer quoted only one vehicle (c1 quoted v1, and c2 quoted v2), then a simplified version looks as follows:", "Once we have the pairwise similarity between two customers, we can define the entropy for a batch as the sum of mutual pairwise similarities between customers in the batch. Now, we have an objective function to optimize for: we want batches with maximum entropy", "After reading some similar studies, I decided to use the 2-opt algorithm, which is a simple local search algorithm for solving the traveling salesman problem.", "The basic concept of 2-opt algorithm is as follows: in every step, two edges are randomly picked and attempt to \u201cswap\u201d, if the objective function is better after the swap is done, then the swap will be executed; or else, re-pick two edges. The algorithm continues until the objective function is converged or the maximum iteration number is met. The following figure illustrates when two edges (red) are picked and swapped into new edges (blue), achieving a shorter distance.", "To apply the 2-opt algorithm in my case, I made analogies to the traveling salesman problem (TSP):", "Great, we have all the elements to optimize the batches! After implementing the algorithm, we further backtest over the existing data and found that: more than 85% of sales could be recovered. In the following month, when we apply this over the real dataset, the recovery rate is found at a similar level. This approach works, as expected!", "What I described above is mainly the algorithm design part; and in parallel, there is the Engineering development part, and it is not easy to simply write the code and expect it to be extendable and maintainable.", "During the project evolution, we gradually noticed there is a pattern of dependencies across the modules needed. The vehicle is represented by many features, and the customer is represented by a set of vehicles, and the batch is represented by a set of customers. With this high-level representation, we can build the dependency lineage as Vehicle -> Customer -> Batch.", "Meanwhile, as a data product, we need to make sure the system can evolve to update the needed parameters and always evaluate the performance along the way. Hence the architecture was designed in the following way", "With this architecture, what the Data Scientist need to do on a regular basis are:", "Now we have built a sustainable data product that is maintainable. Given the data science team established a good reputation, in the next year, we heavily involved in the re-design of the sales matching system, which further expanded the data science footprint over the company. Because of this architecture\u2019s operational excellence, it frees us more resources to seek the next challenge.", "The data science area is quite broad and designing algorithmic data products is only part of many potential projects. Other commonly-seen data science projects are experimentation design, causal inference, deep-dive analysis to drive strategic changes, etc. Although they may not strictly follow or even need all the stages I listed above, the four-stage flow still help to lay out a way to think about problem-solving in general:", "The four-stage flow is not necessarily a strict rule one should follow, but it is more like a natural outcome if a data scientist has the right mindsets while facing any incoming challenge. In my opinion, these mindsets are:", "Hope you may find the above sharing helpful: happy problem solving, the data science way.", "If you enjoyed this article, help spread the word by liking, sharing, and commenting. Pan is currently a Data Science Manager at LinkedIn. You can read previous posts and follow him on LinkedIn.", "Here are two previous articles sharing Pan\u2019s Data Science experience:", "How to innovate in Data Science", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Senior Data Science Manager @ Meta"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F49296d8cd7b7&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fproblem-solving-as-data-scientist-a-case-study-49296d8cd7b7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fproblem-solving-as-data-scientist-a-case-study-49296d8cd7b7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fproblem-solving-as-data-scientist-a-case-study-49296d8cd7b7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fproblem-solving-as-data-scientist-a-case-study-49296d8cd7b7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----49296d8cd7b7--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----49296d8cd7b7--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://ustcwupan.medium.com/?source=post_page-----49296d8cd7b7--------------------------------", "anchor_text": ""}, {"url": "https://ustcwupan.medium.com/?source=post_page-----49296d8cd7b7--------------------------------", "anchor_text": "Pan Wu"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7a89884164fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fproblem-solving-as-data-scientist-a-case-study-49296d8cd7b7&user=Pan+Wu&userId=7a89884164fc&source=post_page-7a89884164fc----49296d8cd7b7---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F49296d8cd7b7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fproblem-solving-as-data-scientist-a-case-study-49296d8cd7b7&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F49296d8cd7b7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fproblem-solving-as-data-scientist-a-case-study-49296d8cd7b7&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@lunarts?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Volodymyr Hryshchenko"}, {"url": "https://unsplash.com/s/photos/rubix-cube?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://www.linkedin.com/in/panwu/", "anchor_text": "LinkedIn"}, {"url": "https://www.linkedin.com/pulse/my-first-data-science-project-pan-wu/", "anchor_text": "My First Data Science Project"}, {"url": "https://www.linkedin.com/pulse/how-innovate-datascience-pan-wu/", "anchor_text": "How to innovate in Data Science"}, {"url": "https://medium.com/tag/data-science?source=post_page-----49296d8cd7b7---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----49296d8cd7b7---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/problem-solving?source=post_page-----49296d8cd7b7---------------problem_solving-----------------", "anchor_text": "Problem Solving"}, {"url": "https://medium.com/tag/case-study?source=post_page-----49296d8cd7b7---------------case_study-----------------", "anchor_text": "Case Study"}, {"url": "https://medium.com/tag/editors-pick?source=post_page-----49296d8cd7b7---------------editors_pick-----------------", "anchor_text": "Editors Pick"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F49296d8cd7b7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fproblem-solving-as-data-scientist-a-case-study-49296d8cd7b7&user=Pan+Wu&userId=7a89884164fc&source=-----49296d8cd7b7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F49296d8cd7b7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fproblem-solving-as-data-scientist-a-case-study-49296d8cd7b7&user=Pan+Wu&userId=7a89884164fc&source=-----49296d8cd7b7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F49296d8cd7b7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fproblem-solving-as-data-scientist-a-case-study-49296d8cd7b7&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----49296d8cd7b7--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F49296d8cd7b7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fproblem-solving-as-data-scientist-a-case-study-49296d8cd7b7&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----49296d8cd7b7---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----49296d8cd7b7--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----49296d8cd7b7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----49296d8cd7b7--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----49296d8cd7b7--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----49296d8cd7b7--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----49296d8cd7b7--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----49296d8cd7b7--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----49296d8cd7b7--------------------------------", "anchor_text": ""}, {"url": "https://ustcwupan.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://ustcwupan.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Pan Wu"}, {"url": "https://ustcwupan.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "313 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7a89884164fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fproblem-solving-as-data-scientist-a-case-study-49296d8cd7b7&user=Pan+Wu&userId=7a89884164fc&source=post_page-7a89884164fc--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe4141f4e4a71&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fproblem-solving-as-data-scientist-a-case-study-49296d8cd7b7&newsletterV3=7a89884164fc&newsletterV3Id=e4141f4e4a71&user=Pan+Wu&userId=7a89884164fc&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}