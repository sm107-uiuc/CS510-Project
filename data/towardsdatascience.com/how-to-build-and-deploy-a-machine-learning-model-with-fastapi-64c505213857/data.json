{"url": "https://towardsdatascience.com/how-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857", "time": 1683015790.145107, "path": "towardsdatascience.com/how-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857/", "webpage": {"metadata": {"title": "How To Build and Deploy a Machine Learning Model with FastAPI | by Dario Rade\u010di\u0107 | Towards Data Science", "h1": "How To Build and Deploy a Machine Learning Model with FastAPI", "description": "Building a machine learning model is just one part of the picture. To be of any use in the real world, it must be accessible to users and developers. The easiest and most widely used method for\u2026"}, "outgoing_paragraph_urls": [{"url": "https://fastapi.tiangolo.com/", "anchor_text": "official documentation", "paragraph_index": 1}, {"url": "http://www.uvicorn.org/", "anchor_text": "Uvicorn", "paragraph_index": 4}, {"url": "https://gitlab.com/pgjones/hypercorn", "anchor_text": "Hypercorn", "paragraph_index": 4}, {"url": "http://127.0.0.1:8000/John", "anchor_text": "http://127.0.0.1:8000/John", "paragraph_index": 10}, {"url": "http://127.0.0.1:8000/docs", "anchor_text": "http://127.0.0.1:8000/docs", "paragraph_index": 13}, {"url": "http://127.0.0.1:8000/redoc", "anchor_text": "http://127.0.0.1:8000/redoc", "paragraph_index": 17}, {"url": "https://raw.githubusercontent.com/uiuc-cse/data-fa14/gh-pages/data/iris.csv", "anchor_text": "Iris dataset", "paragraph_index": 20}, {"url": "https://mailchi.mp/46a3d2989d9b/bdssubscribe", "anchor_text": "Join my private email list for more helpful insights.", "paragraph_index": 37}, {"url": "https://medium.com/@radecicdario/membership", "anchor_text": "Medium member", "paragraph_index": 38}, {"url": "https://betterdatascience.com/deploy-a-machine-learning-model-with-fastapi/", "anchor_text": "https://betterdatascience.com", "paragraph_index": 39}, {"url": "http://betterdatascience.com", "anchor_text": "betterdatascience.com", "paragraph_index": 41}], "all_paragraphs": ["Building a machine learning model is just one part of the picture. To be of any use in the real world, it must be accessible to users and developers. The easiest and most widely used method for deploying machine learning models is to wrap them inside a REST API. That\u2019s just what we\u2019ll do today, with a trending library \u2014 FastAPI.", "So, what is FastAPI? According to the official documentation, it\u2019s a modern and fast web framework for building APIs with Python 3.6+. Performance-wise, it\u2019s up there with NodeJS and Go, and that tells you something. It is also easy enough to learn and comes with automatic interactive documentation, but more on that later.", "This article aims to cover just enough of the library to get you started, model deployment wise. It isn\u2019t a definite guide, as that would require multiple articles on more advanced topics like asynchronous programming. After reading, you\u2019ll know how to deploy a machine learning model and use it to make predictions either from Python, command line, or other programming languages.", "The article is structured as follows:", "To start, you\u2019ll have to install the library along with an ASGI server \u2014 both Uvicorn and Hypercorn are fine. Executing this line from the Terminal does the trick:", "You can now create a folder for the API and open it in your favorite code editor. To proceed, create a Python script called app.py. Feel free to name yours differently, but I\u2019ll be referring to this file as app.py throughout the article.", "Here\u2019s a list of things you have to do in order to make a simple API with two endpoints:", "The following code snippet demonstrates how to implement these five steps:", "That\u2019s it! Let\u2019s now run our API. To do so, open a Terminal window right where the app.py is. Now type in the following:", "And hit Enter. Let\u2019s demystify this statement before proceeding. The first app refers to the name of your Python file without the extension. The second app must be identical to how you named your FastAPI instance (see step 2 in the above list or comment 2 in the code snippet). The -reload indicates that you want the API to automatically refresh as you save the file without restarting the entire thing.", "The first endpoint works as advertised. Let\u2019s now check the other one. Go to the following URL: http://127.0.0.1:8000/John \u2014 this message should appear:", "You can enter any name instead of John, and everything will still work.", "You now know how to create a simple API with FastAPI \u2014 let\u2019s see what else is included before jumping into machine learning. Don\u2019t close the Terminal window just yet.", "Here\u2019s a feature (or two) that makes FastAPI a king of API libraries \u2014 built-in interactive documentation. Here\u2019s what I mean. Open up the following URL: http://127.0.0.1:8000/docs \u2014 you are immediately presented with a documentation page for your API! Here\u2019s how it should look:", "You can click on any of the endpoints to further explore it or even perform live, in-browser tests. Here\u2019s how:", "Isn\u2019t this amazing? You can also use this documentation page to, well, document your API endpoints. That\u2019s done by placing documentation strings right below the function declaration. The following code snippet demonstrates how:", "Your API documentation now looks like this:", "In case you don\u2019t like the looks and feels of the Swagger UI (what you\u2019ve seen so far), there\u2019s another built-in option. To explore, open up the following URL: http://127.0.0.1:8000/redoc \u2014 and this page will appear:", "Now you know how to build and explore API documentation. Let\u2019s focus on a machine learning API next.", "This article is getting pretty long as is, so let\u2019s not waste time in this section. We will train a simple model without any data preparation and exploration. These aren\u2019t the core of today\u2019s topic and are irrelevant to model deployment. The process of deploying a model based on the Iris dataset is the same as the one based on neural networks.", "And we\u2019ll do just that \u2014 download the Iris dataset and train the model. Well, it won\u2019t be that easy. To start, create a file called Model.py. In it, you\u2019ll perform the following steps:", "This was quite a bit of code to write, but I hope the above list and the comments made it easy to understand. Let\u2019s now create a REST API based on this model and expose its prediction functionality.", "Let\u2019s get back to the app.py file and delete everything. We should start again with a blank file, although the boilerplate will be more or less identical to what you had before.", "This time, you\u2019ll declare only one endpoint \u2014 used to predict the flower species. This endpoint performs the prediction by calling the IrisModel.predict_species() method, declared in the previous section. The other significant change is the request type. POST is what you want with machine learning APIs, as it\u2019s considered better practice to send parameters in JSON rather than in URL.", "If you are a data scientist, the above paragraph probably sounded like gibberish, but that\u2019s okay. A proficient understanding of REST APIs and HTTP requests isn\u2019t required to build and deploy models.", "The todo list for app.py is quite short:", "Once again, here\u2019s the complete code for this file with the comments:", "And that\u2019s all you have to do. Let\u2019s test the API in the next section.", "To run the API, once again enter the following text in the Terminal:", "The documentation page looks like this:", "Once again, we can test the API straight in the browser:", "Doesn\u2019t that make testing easy? You can do the same from the Terminal:", "Or even through any programming language (Python example):", "And this does it for today. Let\u2019s wrap things up in the next section.", "Today you\u2019ve learned what FastAPI is and how to use it \u2014 both through a toy API example and through a toy machine learning example. Further, you\u2019ve learned how to write and explore documentation for your API and how to test it. That\u2019s a lot for a single article, so don\u2019t get frustrated if it takes a couple of readings to digest fully.", "There\u2019s so much more to cover with FastAPI \u2014 like its asynchronous functionality, but that\u2019s a topic for another day.", "What do you think of FastAPI? Do you prefer it over Flask, and why? Let me know in the comment section.", "Join my private email list for more helpful insights.", "Loved the article? Become a Medium member to continue learning without limits. I\u2019ll receive a portion of your membership fee if you use the following link, with no extra cost to you.", "Originally published at https://betterdatascience.com on October 28, 2020.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist & Tech Writer | betterdatascience.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F64c505213857&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----64c505213857--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----64c505213857--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@radecicdario?source=post_page-----64c505213857--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@radecicdario?source=post_page-----64c505213857--------------------------------", "anchor_text": "Dario Rade\u010di\u0107"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F689ba04bb8be&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857&user=Dario+Rade%C4%8Di%C4%87&userId=689ba04bb8be&source=post_page-689ba04bb8be----64c505213857---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F64c505213857&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F64c505213857&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@scienceinhd?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Science in HD"}, {"url": "https://unsplash.com/s/photos/server?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://fastapi.tiangolo.com/", "anchor_text": "official documentation"}, {"url": "http://www.uvicorn.org/", "anchor_text": "Uvicorn"}, {"url": "https://gitlab.com/pgjones/hypercorn", "anchor_text": "Hypercorn"}, {"url": "http://127.0.0.1:8000/John", "anchor_text": "http://127.0.0.1:8000/John"}, {"url": "http://127.0.0.1:8000", "anchor_text": "http://127.0.0.1:8000"}, {"url": "http://127.0.0.1:8000/John", "anchor_text": "http://127.0.0.1:8000/John"}, {"url": "http://127.0.0.1:8000/docs", "anchor_text": "http://127.0.0.1:8000/docs"}, {"url": "http://127.0.0.1:8000/redoc", "anchor_text": "http://127.0.0.1:8000/redoc"}, {"url": "https://raw.githubusercontent.com/uiuc-cse/data-fa14/gh-pages/data/iris.csv", "anchor_text": "Iris dataset"}, {"url": "https://mailchi.mp/46a3d2989d9b/bdssubscribe", "anchor_text": "Join my private email list for more helpful insights."}, {"url": "https://medium.com/@radecicdario/membership", "anchor_text": "Medium member"}, {"url": "https://medium.com/@radecicdario/membership", "anchor_text": "Join Medium with my referral link - Dario Rade\u010di\u0107As a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026medium.com"}, {"url": "https://betterdatascience.com/deploy-a-machine-learning-model-with-fastapi/", "anchor_text": "https://betterdatascience.com"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----64c505213857---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/data-science?source=post_page-----64c505213857---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----64c505213857---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/python?source=post_page-----64c505213857---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----64c505213857---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F64c505213857&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857&user=Dario+Rade%C4%8Di%C4%87&userId=689ba04bb8be&source=-----64c505213857---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F64c505213857&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857&user=Dario+Rade%C4%8Di%C4%87&userId=689ba04bb8be&source=-----64c505213857---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F64c505213857&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----64c505213857--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F64c505213857&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----64c505213857---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----64c505213857--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----64c505213857--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----64c505213857--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----64c505213857--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----64c505213857--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----64c505213857--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----64c505213857--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----64c505213857--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@radecicdario?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@radecicdario?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Dario Rade\u010di\u0107"}, {"url": "https://medium.com/@radecicdario/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "39K Followers"}, {"url": "http://betterdatascience.com", "anchor_text": "betterdatascience.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F689ba04bb8be&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857&user=Dario+Rade%C4%8Di%C4%87&userId=689ba04bb8be&source=post_page-689ba04bb8be--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F33e2fb82c727&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-deploy-a-machine-learning-model-with-fastapi-64c505213857&newsletterV3=689ba04bb8be&newsletterV3Id=33e2fb82c727&user=Dario+Rade%C4%8Di%C4%87&userId=689ba04bb8be&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://amzn.to/400ZUtX", "anchor_text": "Machine Learning Automation with TPOT: Build, validate, and deploy fully automated machine learning models with Python2021"}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}