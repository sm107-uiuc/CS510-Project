{"url": "https://towardsdatascience.com/plotting-the-same-chart-with-matplotlib-and-ggplot2-7261dc9e0e7b", "time": 1683018158.18846, "path": "towardsdatascience.com/plotting-the-same-chart-with-matplotlib-and-ggplot2-7261dc9e0e7b/", "webpage": {"metadata": {"title": "Plotting the same chart with Matplotlib and ggplot2 | by Thiago Carvalho | Towards Data Science", "h1": "Plotting the same chart with Matplotlib and ggplot2", "description": "In some ways, they feel very similar but also not at all. So I decided to build a scatter plot with R and replicate it with Python to check their advantages and disadvantages. This article will share\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/abcsds/pokemon", "anchor_text": "dataset of Pokemon stats", "paragraph_index": 5}, {"url": "https://github.com/Thiagobc23/Scatter_Matplotlib_ggplot", "anchor_text": "here", "paragraph_index": 47}], "all_paragraphs": ["I\u2019ve been playing around a lot with R\u2019s ggplot and decided to compare it with Python\u2019s Matplolib.", "In some ways, they feel very similar but also not at all. So I decided to build a scatter plot with R and replicate it with Python to check their advantages and disadvantages.", "This article will share some of my thoughts and what I learned while duplicating this visualization while we go through the code.", "It\u2019s important to mention that there are many functionalities in Matplotlib and ggplot, and I\u2019ll only go through some of them. Besides, Python and R are very distinct. One is a programming language. The other is a language and environment for statistical computing; one has more resources for deep learning while the other for statistical models, to name a few differences.", "The point is: you shouldn\u2019t choose which to use based on their data visualization packages, but it\u2019s interesting to know their differences nonetheless.", "For the next examples, I\u2019ll be using a dataset of Pokemon stats. Let\u2019s load the data and start with a simple scatter plot, without any customizations and see what we got.", "Plotting a default scatter plot is almost the same in ggplot and Matplotlib, but the chart produced by ggplot has way more elements.", "In Matplotlib\u2019s chart, we only got our scales, borders for the plotting area, data points, and ticks. While R\u2019s package also added a background color, x and y labels, gridlines, minor ticks, and a legend.", "So just by plotting a default chart, we can already tell that ggplot is more about customizing existing elements, while Matplotlib is more about creating visualizations from scratch.", "Both of them have some options for using themes, which help quickly design a viz; Matplotlib is usually used with Seaborn for that purpose. But I want to customize our visualization parts individually and compare how those libraries do on their own.", "Let\u2019s draw the legends for our Matplotlib chart and choose a different color for the markers.", "There are many ways to achieve that. One would be to draw two scatter plots that would automatically create the handles for our legend.", "Since it has complete integration with Pandas, we could even plot directly from the data frame like:", "But we\u2019ll use yet another way.", "We\u2019ll create a column for the colors, draw a single scatter plot, and define the legend's elements.", "Now let\u2019s try moving the legend in both graphs to the bottom of the plot, and display the keys in a single row.", "Starting with ggplot, we can use scale_color_manual to pass the markers' colors, labels, and a guide to the legend, which is used to set things like the title, the number of rows, and the order of the keys.", "We can then use \u2018theme\u2019 to define the position of our legend and other elements of its frame.", "In Matplotlib, we are already using a method for plotting the legend. We\u2019ll set most of the parameters in it, like the title, number of columns, location, and frame. We won\u2019t need to re-order the keys since we created them manually, and they\u2019re already in the right order.", "Let\u2019s also fix the size of our plot. R-Studio allows us to define the chart's size when exporting an image, but in Matplotlib, we need to determine our plot's size with a \u2018Figure.\u2019", "Matplotlib adds the legend to the inside of the plotting area, which often gets in the way of the data, so we need to use bbox_to_anchor to move it outside and kind of guess the coordinates.", "The same goes for the title position, where ggplot automatically moves the title to the side when you move it to the top or bottom. In Matplotlib, we have to set its coordinates manually.", "If we had to place the legend inside the plot, we would need to set the coordinates manually in ggplot like so: legend.position = c(0.7, 0.2).", "Now that we figured out our colors and legend let\u2019s add some texts to our visualization.", "For our Python\u2019s chart, we don\u2019t have specific methods for drawing all those elements. We only have \u2018title.\u2019 The subtitle and caption should be plotted as \u2018text.\u2019", "There\u2019s a less known method called \u2018suptitle,\u2019 which is supposed to be a title for the entire visualization (mostly used for when you have multiple subplots).", "Since we only have one chart, we can use this to write our title, then use the title method to write the subtitle and a text for the caption.", "We\u2019ll also add the x and y labels, which are relatively straightforward.", "Setting up the texts is way more comfortable with ggplot since it gives us methods to position those automatically, wherein Matplotlib, there's no easy way of writing our source on the bottom of the chart.", "There are other ways of doing it in Matplotlib besides plt.text. You could use fig.text, or plt.figtext, but all of them would require you to adjust the position of this caption.", "Besides that, in Matplotlib, we had to set the size of \u2018suptitle\u2019 to distinguish it. While in ggplot, it automatically sets the title with a bigger bolded font and the caption with a smaller font.", "Now let\u2019s add some annotations to our charts. I want to draw two lines, one vertical and one horizontal, marking each stat's average. I also want to annotate two points with both an arrow and a text.", "With ggplot, we\u2019ll use \u2018geom_hline\u2019 and \u2018geom_vline\u2019 to mark the averages.", "To label the points, we\u2019ll need to use \u2018annotate\u2019 twice, to draw the arrow and to writing the text.", "Drawing the lines is pretty much the same in Matplotlib and ggplot. The main difference is that Matplotlib requires x limits for the horizontal line and y limits for the vertical line. With ggplot, you don\u2019t need to set those limits. It\u2019ll automatically draw the line over the whole chart.", "Matplotlib also adds padding between the axis and the end of the vertical/horizontal lines, so if the extension of those lines is larger than the plotting area, it\u2019ll adjust the chart to show the whole line plus some padding.", "To remove this padding, we can define the limits for the axis. Both Matplotlib and ggplot have the same approach to that, xlim(min, max) and ylim(min, max).", "For the arrows and texts, I found Matplotlib easier since it has an annotation function where you define the start location of the arrow and text, the actual text, and the arrow properties.", "With ggplot, we need to first draw the arrow with a start, end, and properties, then we have to write the texts with their position and properties, which makes annotating slightly more complicated.", "Great, now that we have all the elements in place, we can customize our chart's design.", "We\u2019ll change the colors of the background, fonts, spines, and annotations, and also change some font sizes.", "For Python\u2019s graph, we\u2019ll draw gridlines for our major ticks. For ggplot, we\u2019ll remove the y-axis minor ticks' gridlines.", "In both tools, we have some properties that can be customized when creating the elements and others that need to be customized later.", "The main difference is that ggplot has a \u2018theme\u2019 that can change most of those properties and keep those changes grouped. With Matplotlib, you have to individually get those properties, which sometimes are sets or lists of attributes that you\u2019ll have to change one by one.", "Matplotlib requires more code and can be more complicated, but it also gives you more control for plotting your chart. In the first example, it was already quite explicit. Where in ggplot, just by passing the data, we get an almost complete visualization. In Matplotlib, you only have the data points and the axis, and you have to add all the elements as you need them.", "Overall I believe this makes a lot of sense considering that ggplot is a data visualization package for a statistical computing language; it helps visualize data effortlessly. Matplotlib is a data visualization library for a programming language; it helps create data visualizations programmatically.", "I learned a lot about ggplot2, Matplotlib, R, and Python by building the same data visualization in both of them, and I hope I could share some of it with you.", "You can find the code for the examples here. Thanks for reading my article!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7261dc9e0e7b&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-the-same-chart-with-matplotlib-and-ggplot2-7261dc9e0e7b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-the-same-chart-with-matplotlib-and-ggplot2-7261dc9e0e7b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-the-same-chart-with-matplotlib-and-ggplot2-7261dc9e0e7b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-the-same-chart-with-matplotlib-and-ggplot2-7261dc9e0e7b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----7261dc9e0e7b--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7261dc9e0e7b--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=post_page-----7261dc9e0e7b--------------------------------", "anchor_text": ""}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=post_page-----7261dc9e0e7b--------------------------------", "anchor_text": "Thiago Carvalho"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7af498f86142&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-the-same-chart-with-matplotlib-and-ggplot2-7261dc9e0e7b&user=Thiago+Carvalho&userId=7af498f86142&source=post_page-7af498f86142----7261dc9e0e7b---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7261dc9e0e7b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-the-same-chart-with-matplotlib-and-ggplot2-7261dc9e0e7b&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7261dc9e0e7b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-the-same-chart-with-matplotlib-and-ggplot2-7261dc9e0e7b&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.kaggle.com/abcsds/pokemon", "anchor_text": "dataset of Pokemon stats"}, {"url": "https://www.kaggle.com/abcsds/pokemon'", "anchor_text": "https://www.kaggle.com/abcsds/pokemon'"}, {"url": "https://www.kaggle.com/abcsds/pokemon", "anchor_text": "https://www.kaggle.com/abcsds/pokemon"}, {"url": "https://www.kaggle.com/abcsds/pokemon", "anchor_text": "https://www.kaggle.com/abcsds/pokemon"}, {"url": "https://www.kaggle.com/abcsds/pokemon'", "anchor_text": "https://www.kaggle.com/abcsds/pokemon'"}, {"url": "https://www.kaggle.com/abcsds/pokemon'", "anchor_text": "https://www.kaggle.com/abcsds/pokemon'"}, {"url": "https://www.kaggle.com/abcsds/pokemon", "anchor_text": "https://www.kaggle.com/abcsds/pokemon"}, {"url": "https://pixabay.com/photos/tools-vintage-woodworking-saw-1209764/", "anchor_text": "PixBay"}, {"url": "https://github.com/Thiagobc23/Scatter_Matplotlib_ggplot", "anchor_text": "here"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----7261dc9e0e7b---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/r?source=post_page-----7261dc9e0e7b---------------r-----------------", "anchor_text": "R"}, {"url": "https://medium.com/tag/python?source=post_page-----7261dc9e0e7b---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/ggplot2?source=post_page-----7261dc9e0e7b---------------ggplot2-----------------", "anchor_text": "Ggplot2"}, {"url": "https://medium.com/tag/matplotlib?source=post_page-----7261dc9e0e7b---------------matplotlib-----------------", "anchor_text": "Matplotlib"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7261dc9e0e7b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-the-same-chart-with-matplotlib-and-ggplot2-7261dc9e0e7b&user=Thiago+Carvalho&userId=7af498f86142&source=-----7261dc9e0e7b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7261dc9e0e7b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-the-same-chart-with-matplotlib-and-ggplot2-7261dc9e0e7b&user=Thiago+Carvalho&userId=7af498f86142&source=-----7261dc9e0e7b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7261dc9e0e7b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-the-same-chart-with-matplotlib-and-ggplot2-7261dc9e0e7b&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7261dc9e0e7b--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F7261dc9e0e7b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-the-same-chart-with-matplotlib-and-ggplot2-7261dc9e0e7b&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----7261dc9e0e7b---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----7261dc9e0e7b--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----7261dc9e0e7b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7261dc9e0e7b--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7261dc9e0e7b--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7261dc9e0e7b--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7261dc9e0e7b--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7261dc9e0e7b--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7261dc9e0e7b--------------------------------", "anchor_text": ""}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Thiago Carvalho"}, {"url": "https://thiago-bernardes-carvalho.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.7K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7af498f86142&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-the-same-chart-with-matplotlib-and-ggplot2-7261dc9e0e7b&user=Thiago+Carvalho&userId=7af498f86142&source=post_page-7af498f86142--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F10a0f4458714&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotting-the-same-chart-with-matplotlib-and-ggplot2-7261dc9e0e7b&newsletterV3=7af498f86142&newsletterV3Id=10a0f4458714&user=Thiago+Carvalho&userId=7af498f86142&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}