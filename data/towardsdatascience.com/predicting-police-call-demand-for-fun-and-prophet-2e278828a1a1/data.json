{"url": "https://towardsdatascience.com/predicting-police-call-demand-for-fun-and-prophet-2e278828a1a1", "time": 1683007186.367328, "path": "towardsdatascience.com/predicting-police-call-demand-for-fun-and-prophet-2e278828a1a1/", "webpage": {"metadata": {"title": "Predicting Police Call Demand for Fun (and Prophet) | by Andreas Varotsis | Towards Data Science", "h1": "Predicting Police Call Demand for Fun (and Prophet)", "description": "How hard is predicting policing demand in this age of easily accessible data-science? I\u2019ve been exploring time series regression techniques, and while on the more advanced side they can get really\u2026"}, "outgoing_paragraph_urls": [{"url": "http://www.lapdonline.org/", "anchor_text": "LAPD", "paragraph_index": 0}, {"url": "https://facebook.github.io/prophet/", "anchor_text": "Facebook has open-sourced their forecasting model, Prophet,", "paragraph_index": 1}, {"url": "https://www.policedatainitiative.org/datasets/calls-for-service/", "anchor_text": "Police Data Initiative", "paragraph_index": 2}, {"url": "https://github.com/crimsoneer/LAPD_Prediction_with_Prophet/blob/master/ReadingAndCleaning.ipynb", "anchor_text": "the code is available on Github.", "paragraph_index": 2}, {"url": "https://facebook.github.io/prophet/docs/quick_start.html#python-api", "anchor_text": "the Facebook Prophet quick-start documentation", "paragraph_index": 4}, {"url": "https://github.com/crimsoneer/LAPD_Prediction_with_Prophet/blob/master/Analysis.ipynb", "anchor_text": "available on my GitHub", "paragraph_index": 14}, {"url": "https://www.policedatainitiative.org/", "anchor_text": "Police Data Initiative", "paragraph_index": 14}, {"url": "https://www.policecoders.org/", "anchor_text": "Police Rewired", "paragraph_index": 14}, {"url": "https://www.policecoders.org/home/data-community", "anchor_text": "Data Community", "paragraph_index": 14}, {"url": "https://andreasthinks.me/", "anchor_text": "https://andreasthinks.me/", "paragraph_index": 16}], "all_paragraphs": ["How hard is predicting policing demand in this age of easily accessible data-science? I\u2019ve been exploring time series regression techniques, and while on the more advanced side they can get really complex, you can also use open source tools to quickly create operational insights, like here, where I\u2019ve used publicly available LAPD call data to anticipate demand.", "While some time series techniques require a fair bit of extra technical knowledge \u2014 I spent more time than any sane person should trying to understand how an ARIMA model works this weekend\u2014 we\u2019re lucky in that Facebook has open-sourced their forecasting model, Prophet, and it\u2019s staggeringly easy to use. In both R and Python (which I\u2019ve used here) the library is easy to install and follows techniques you\u2019re probably familiar with. At the most basic, all you do is feed it a series of points in time and the value you\u2019re trying to predict, and it will account for daily, weekly and yearly seasonality and produce some surprisingly accurate predictions.", "Thanks to the Police Data Initiative, I was able to obtain detailed call data for the LAPD from 2015 until the end of 2019. The data is mostly clean, so aggregating it was quite straightforward \u2014 the code is available on Github.", "Where possible, make sure your data has a reliable frequency (for instance daily, weekly, hourly, etc) \u2014 some time series model will struggle with missing data, though Prophet had no issues in my testing. In my data-set, I ended up with 43825 hourly observations, for a total of just over 6 million calls.", "I then used the Facebook Prophet quick-start documentation to essentially walk me through fitting our data into the model and making some initial predictions.", "Once you\u2019ve fit your model to your existing data, Prophet can then make predictions as far into the future as you want it to. For my purposes, I\u2019ve asked Prophet to plot predicted call data for 2020 data onward \u2014 obviously it won\u2019t be able to account for COVID, but notice the confidence of the algorithm is in the early months (based on historical trend data) and how this diverges over time.", "It might look messy, but keep in mind this is predicting hourly demand, rather than daily, which allows for more granular level prediction, but does add quite a bit more noise.", "Prophet\u2019s model of combining various smaller seasonal trends (weekly, daily and year) also lets you observe these individually, and while these won\u2019t shock any experienced cops, they make for powerful viewing \u2014 the fluctuation in demand over the course of the week and year is really striking. It also puts into sharp perspective the ongoing increase in demand since 2010.", "Before even trying to make any predictions, this does raise some serious practical questions \u2014 what happened in 2019 to essentially double demand? I initially assumed I\u2019d imported the yearly file twice, but it does look like a \u201creal\u201d increase, although it may be driven by a change in computer systems, categorisation rules or similar. This is why it\u2019s important to have operational experts partnered with your researchers!", "The key question though, how well does our model work on predicting actual demand? Helpfully, Prophet includes cross-validation functionality: it will automatically divide your data into chunks, create a model for each, and test the accuracy of the model it creates on the data it knows to check accuracy.", "Here, Prophet has created 5 different cross validation sets, and you can see that the Median Absolute Percentage Error (MDAPE) hovers around 15%. I\u2019m no professional statistician, but that doesn\u2019t sound half bad, especially when you consider the huge unexpected jump in 2019. Even as you go further into the future, the Root Mean Squared Error (RMSE) stays comfortably around the 50\u201370 mark.", "It\u2019s worth pointing out that this is the bluntest application of Prophet or time-series forecasting you can get \u2014 I\u2019ve literally thrown the algorithm at my data, with no attempt to improve fit or account for the particular characteristics of my data. Prophet includes functionality to account for outliers, holidays, and a whole lot more, and if you are considering deploying a tool like this operationally, more exploration and tuning is absolutely in order. That said, in a few hours we\u2019ve created a model for predicting police demand on an hourly basis, that would only improve if we fed it more data \u2014 not a bad use of quarantine!", "So, what lessons are there for police departments trying to predict crime demand?", "I\u2019m looking forward to going back over these predictions in a few months and comparing them to \u201creal\u201d data, though I don\u2019t think any amount of machine learning could have accounted for COVID.", "The code and data for all the analysis is available on my GitHub. The data for this analysis was very helpfully collected by the Police Data Initiative, and if you enjoy this sort of thing, you should consider joining the Police Rewired Data Community!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "quantitative crime science @ MPS | Coordinator @ Police Rewired | My (personal) thoughts on crime, data, and economics | https://andreasthinks.me/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F2e278828a1a1&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-police-call-demand-for-fun-and-prophet-2e278828a1a1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-police-call-demand-for-fun-and-prophet-2e278828a1a1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-police-call-demand-for-fun-and-prophet-2e278828a1a1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-police-call-demand-for-fun-and-prophet-2e278828a1a1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----2e278828a1a1--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2e278828a1a1--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://andreas-varotsis.medium.com/?source=post_page-----2e278828a1a1--------------------------------", "anchor_text": ""}, {"url": "https://andreas-varotsis.medium.com/?source=post_page-----2e278828a1a1--------------------------------", "anchor_text": "Andreas Varotsis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F36c279eeb755&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-police-call-demand-for-fun-and-prophet-2e278828a1a1&user=Andreas+Varotsis&userId=36c279eeb755&source=post_page-36c279eeb755----2e278828a1a1---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2e278828a1a1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-police-call-demand-for-fun-and-prophet-2e278828a1a1&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2e278828a1a1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-police-call-demand-for-fun-and-prophet-2e278828a1a1&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "http://www.lapdonline.org/", "anchor_text": "LAPD"}, {"url": "https://facebook.github.io/prophet/", "anchor_text": "Facebook has open-sourced their forecasting model, Prophet,"}, {"url": "https://www.policedatainitiative.org/datasets/calls-for-service/", "anchor_text": "Police Data Initiative"}, {"url": "https://github.com/crimsoneer/LAPD_Prediction_with_Prophet/blob/master/ReadingAndCleaning.ipynb", "anchor_text": "the code is available on Github."}, {"url": "https://facebook.github.io/prophet/docs/quick_start.html#python-api", "anchor_text": "the Facebook Prophet quick-start documentation"}, {"url": "https://www.policerewired.org/", "anchor_text": "Police Rewired events"}, {"url": "https://github.com/crimsoneer/LAPD_Prediction_with_Prophet/blob/master/Analysis.ipynb", "anchor_text": "available on my GitHub"}, {"url": "https://www.policedatainitiative.org/", "anchor_text": "Police Data Initiative"}, {"url": "https://www.policecoders.org/", "anchor_text": "Police Rewired"}, {"url": "https://www.policecoders.org/home/data-community", "anchor_text": "Data Community"}, {"url": "https://medium.com/tag/crime?source=post_page-----2e278828a1a1---------------crime-----------------", "anchor_text": "Crime"}, {"url": "https://medium.com/tag/data-science?source=post_page-----2e278828a1a1---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----2e278828a1a1---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/pandas?source=post_page-----2e278828a1a1---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/data?source=post_page-----2e278828a1a1---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2e278828a1a1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-police-call-demand-for-fun-and-prophet-2e278828a1a1&user=Andreas+Varotsis&userId=36c279eeb755&source=-----2e278828a1a1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2e278828a1a1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-police-call-demand-for-fun-and-prophet-2e278828a1a1&user=Andreas+Varotsis&userId=36c279eeb755&source=-----2e278828a1a1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2e278828a1a1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-police-call-demand-for-fun-and-prophet-2e278828a1a1&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2e278828a1a1--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F2e278828a1a1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-police-call-demand-for-fun-and-prophet-2e278828a1a1&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----2e278828a1a1---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----2e278828a1a1--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----2e278828a1a1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----2e278828a1a1--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----2e278828a1a1--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----2e278828a1a1--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----2e278828a1a1--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----2e278828a1a1--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----2e278828a1a1--------------------------------", "anchor_text": ""}, {"url": "https://andreas-varotsis.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://andreas-varotsis.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andreas Varotsis"}, {"url": "https://andreas-varotsis.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "17 Followers"}, {"url": "https://andreasthinks.me/", "anchor_text": "https://andreasthinks.me/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F36c279eeb755&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-police-call-demand-for-fun-and-prophet-2e278828a1a1&user=Andreas+Varotsis&userId=36c279eeb755&source=post_page-36c279eeb755--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F36c279eeb755%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-police-call-demand-for-fun-and-prophet-2e278828a1a1&user=Andreas+Varotsis&userId=36c279eeb755&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}