{"url": "https://towardsdatascience.com/mapping-housing-prices-in-brooklyn-593d304c4fc", "time": 1682996487.343315, "path": "towardsdatascience.com/mapping-housing-prices-in-brooklyn-593d304c4fc/", "webpage": {"metadata": {"title": "Mapping Housing Prices in Brooklyn | by Sam Bell | Towards Data Science", "h1": "Mapping Housing Prices in Brooklyn", "description": "In his novel How To Kill A City, P.E. Moskowitz writes about the effects of gentrification in 4 American cities: New Orleans, Detroit, San Francisco, and New York. He credits geographer Neil Smith\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/", "anchor_text": "Kaggle", "paragraph_index": 1}, {"url": "https://www.kaggle.com/tianhwu/brooklynhomes2003to2017", "anchor_text": "data set", "paragraph_index": 1}, {"url": "https://www1.nyc.gov/site/planning/data-maps/open-data/dwn-pluto-mappluto.page", "anchor_text": "NYC Pluto", "paragraph_index": 1}, {"url": "https://bokeh.pydata.org/en/latest/docs/installation.html", "anchor_text": "here.", "paragraph_index": 7}, {"url": "https://bokeh.pydata.org/en/latest/docs/reference/tile_providers.html#bokeh-tile-providers", "anchor_text": "here", "paragraph_index": 8}, {"url": "https://bokeh.pydata.org/en/latest/docs/reference/palettes.html", "anchor_text": "here", "paragraph_index": 10}, {"url": "https://bokeh.pydata.org/en/latest/docs/user_guide/tools.html", "anchor_text": "here", "paragraph_index": 11}], "all_paragraphs": ["In his novel How To Kill A City, P.E. Moskowitz writes about the effects of gentrification in 4 American cities: New Orleans, Detroit, San Francisco, and New York. He credits geographer Neil Smith for developing the most influential academic theory on gentrification since 1979 \u2014 the rent gap. Gentrification is predictable. It follows the basic principle of capitalist economics, \u201cinvestors will go where the rate of potential return is the highest.\u201d By examining tax data, one could pinpoint where buildings could be bought cheap and made more expensive in a short amount of time. The jackpot would be finding a dilapidated building within a few blocks of a gentrified, or gentrifying, neighborhood. The key is the disparity between how much a property could be bought for and how much it could be worth once gentrified. The larger the rent gap, the higher the chance a building would be targeted. Real estate developers looking for the next neighborhood to gentrify rely on the fact that the sellers do not realize the potential worth.", "Kaggle is home to many great data sets and I was lucky enough to find a great data set of Brooklyn Home Sales from 2003\u20132017. This data came with shapefiles from NYC Pluto and lots of null values. Each entry came with an address and X and Y coordinates that plotted the points in the shape of Brooklyn.", "I really wanted to plot all of the points over a map of Brooklyn, and make some interactive visualizations, so I decided to work with Bokeh for this project.", "My first step was to convert all of my X and Y coordinates to latitude and longitude, so I could then convert those to their proper mercator coordinates. Bokeh will only accept mercator coordinates when plotting a map since your computer screen is flat, and Earth is not!", "Since I was unable to find a free and quick resource for geocoding, I worked with what I had. I took 20 data points and looked up their latitude and longitude coordinates one at a time. With these coordinates I created a training dataset in order to predict the latitude and longitude of the other 25,000 points with a simple linear regression.", "Naturally, I repeated this for the longitudinal coordinates as well and placed those values into their own column. The outcome was pretty accurate. When I compared a random datapoint\u2019s estimated coordinates and the actual coordinates, the difference was only a few blocks. Moreover, when I plotted the final set of coordinates there weren\u2019t any houses in the water, or in the parks.", "Here is a function to convert your latitude and longitude coordinates to mercator coordinates.", "Bokeh plots have a lot of potential for interaction and user manipulation. You will need to install bokeh with the conda command. To read up on the documentation and more explicit instructions, click here. The following are the important packages to import in order to get started with your plotting.", "Bokeh has their own tile sets for maps, which allows for mapping without shapefiles or APIs. This is a huge plus for me. Their tile sets are listed here. Please note that there are some confusing directions in the documentation here. The correct way to import a tile set is to simply import it directly. In the code above, you call the package bokeh.tile_providers and import whichever style of map you want to use. Using get_provider or Vendors will return an error. Some color palettes are lists and some are dictionaries. Make sure to check the datatype of your chosen palette like so.", "If the type is a list, then you\u2019re fine to just define your palette and leave it at that. If the type is a dictionary, you must indicate how many colors to use like in the second line of code below.", "I am going to break everything down in this chunk line by line. I defined my color palette and indicated that I wanted ten different colors, which would correspond with 10 different price ranges for the sold homes. Click here to check out all the palettes Bokeh offers. The source is defined as my data frame called TwoThree. This is all the relevant housing data from 2003.", "I not only wanted to plot my data on a map to show location, but I wanted color to distinguish more expensive homes from less expensive homes. The mapper is defined for my color bar attributes. It requires a field name, and a range of low and high values. Bokeh has a great customizable hover function. When hovering over any point on your visualization, you can determine what information will pop up in the corresponding window. I used the variable tooltips to define what I wanted to show up. Each attribute is a tuple of the label and where the data is coming from. See the documentation here. If the data is coming from your data set, the second value must begin with a \u201c@\u201d, if the value is coming from the visualization itself, like the index or in-chart X and Y coordinates, you will precede the value with a \u201c$\u201d. I added a widget slider in order for the visualization to change and present new data based on the year selected. I will go into more detail on this in another tutorial. The slider will be purely decorative for now.", "I define my figure\u2019s X and Y axis-type as mercator. This will convert the mercator coordinates to latitude and longitude coordinates, so it will be like a real map! I call my tooltips, which are the values that will appear as you hover over each point, and I give my figure a title. Since this is a map, I must add my map tile as well.", "I am creating a scatterplot, so I add circles to my figure by simply referring to the corresponding column names in quotes. The colors will be determined by my mapper variable, and the values from my data source. I create a color bar as a key for my points, and below that I indicate that I want to place my color bar to the right of my chart.", "I can define my layout as a row or a column. A column will place everything on top of each other (up to down), but a row will place everything side by side of each other (left to right). I am placing my figure on top of my slider for now.", "It looks like there were a lot of homes selling for under $2million in Brooklyn in 2003. In fact, a lot my data indicated a lot of homes were selling for under $1,000 most likely due to foreclosures.", "With the zoom feature I found a cluster of more expensive homes in Park Slope. In 2003 I\u2019m sure some real estate investors were looking to buy in the neighborhood of Prospect Heights just north of Park Slope.", "Yes, just a few blocks away from the $3 million home is a house selling for $165 thousand.", "I plan to work more on this project and will create at least one more tutorial for visual interactions with Bokeh. Let me know which mapping visualization tools you like to use and why. I will be sure to check them out!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist with a penchant for Interactive Visualizations"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F593d304c4fc&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-housing-prices-in-brooklyn-593d304c4fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-housing-prices-in-brooklyn-593d304c4fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-housing-prices-in-brooklyn-593d304c4fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-housing-prices-in-brooklyn-593d304c4fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----593d304c4fc--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----593d304c4fc--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@sambellsoup?source=post_page-----593d304c4fc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sambellsoup?source=post_page-----593d304c4fc--------------------------------", "anchor_text": "Sam Bell"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa3eb15e0e67e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-housing-prices-in-brooklyn-593d304c4fc&user=Sam+Bell&userId=a3eb15e0e67e&source=post_page-a3eb15e0e67e----593d304c4fc---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F593d304c4fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-housing-prices-in-brooklyn-593d304c4fc&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F593d304c4fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-housing-prices-in-brooklyn-593d304c4fc&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@nasa?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "NASA"}, {"url": "https://unsplash.com/search/photos/new-york-map?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://www.kaggle.com/", "anchor_text": "Kaggle"}, {"url": "https://www.kaggle.com/tianhwu/brooklynhomes2003to2017", "anchor_text": "data set"}, {"url": "https://www1.nyc.gov/site/planning/data-maps/open-data/dwn-pluto-mappluto.page", "anchor_text": "NYC Pluto"}, {"url": "https://bokeh.pydata.org/en/latest/docs/installation.html", "anchor_text": "here."}, {"url": "https://bokeh.pydata.org/en/latest/docs/reference/tile_providers.html#bokeh-tile-providers", "anchor_text": "here"}, {"url": "https://bokeh.pydata.org/en/latest/docs/reference/palettes.html", "anchor_text": "here"}, {"url": "https://bokeh.pydata.org/en/latest/docs/user_guide/tools.html", "anchor_text": "here"}, {"url": "https://medium.com/tag/python?source=post_page-----593d304c4fc---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/flatiron-school?source=post_page-----593d304c4fc---------------flatiron_school-----------------", "anchor_text": "Flatiron School"}, {"url": "https://medium.com/tag/brooklyn?source=post_page-----593d304c4fc---------------brooklyn-----------------", "anchor_text": "Brooklyn"}, {"url": "https://medium.com/tag/real-estate?source=post_page-----593d304c4fc---------------real_estate-----------------", "anchor_text": "Real Estate"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----593d304c4fc---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F593d304c4fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-housing-prices-in-brooklyn-593d304c4fc&user=Sam+Bell&userId=a3eb15e0e67e&source=-----593d304c4fc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F593d304c4fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-housing-prices-in-brooklyn-593d304c4fc&user=Sam+Bell&userId=a3eb15e0e67e&source=-----593d304c4fc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F593d304c4fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-housing-prices-in-brooklyn-593d304c4fc&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----593d304c4fc--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F593d304c4fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-housing-prices-in-brooklyn-593d304c4fc&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----593d304c4fc---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----593d304c4fc--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----593d304c4fc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----593d304c4fc--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----593d304c4fc--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----593d304c4fc--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----593d304c4fc--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----593d304c4fc--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----593d304c4fc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sambellsoup?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sambellsoup?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sam Bell"}, {"url": "https://medium.com/@sambellsoup/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "236 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa3eb15e0e67e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-housing-prices-in-brooklyn-593d304c4fc&user=Sam+Bell&userId=a3eb15e0e67e&source=post_page-a3eb15e0e67e--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd9c85e50adec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-housing-prices-in-brooklyn-593d304c4fc&newsletterV3=a3eb15e0e67e&newsletterV3Id=d9c85e50adec&user=Sam+Bell&userId=a3eb15e0e67e&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}