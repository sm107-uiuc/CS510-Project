{"url": "https://towardsdatascience.com/sql-joins-55cbbffb2002", "time": 1682995150.4070752, "path": "towardsdatascience.com/sql-joins-55cbbffb2002/", "webpage": {"metadata": {"title": "SQL Joins. Showing different types of SQL joins\u2026 | by Kailey Smith | Towards Data Science", "h1": "SQL Joins", "description": "SQL can be a little intimidating when you\u2019ve never used it before. You\u2019ll hear people talking about complex joins between tables and have no idea what they are talking about. I\u2019ve taught many people\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["SQL can be a little intimidating when you\u2019ve never used it before. You\u2019ll hear people talking about complex joins between tables and have no idea what they are talking about. I\u2019ve taught many people how to write SQL queries over the last few years and figured I could share some of that knowledge with the masses on the internet.", "In relational databases, tables can connect to one another if they share a key. A primary key is a value that cannot be duplicated within a table. This means that one value can only be seen once within the primary key column. That same key can exist as a foreign key in another table which creates the relationship. A foreign key can have duplicate instances within a table.", "The types of relationships between tables are one-to-one, one-to-many, and many-to-many.", "One-to-One would be something like having a customer table and a SSN table. One customer can only have one SSN and one SSN can only be assigned to one person. They primary key on the Customer table is CustomerId and it is the foreign key on the SSN table.", "One-to-Many would be like having a customer table and an orders table. One customer can have many orders, but the orders can only be associated to one customer. The primary and foreign keys are the same in this example.", "Many-to-Many would look something like having an orders table and a products table. An order can have many products on it and a product can be on many orders. These relationships will typically have another table that you\u2019ll need to use to join the main Order and Product tables together. You\u2019ll see in the diagram above that this table is called Product_Order. Both ProductId and OrderId are foreign keys on the Product_Order table, but they are the primary keys in their respective tables.", "There are 4 types of joins: inner, left, right, and full outer. I\u2019ll show you what these would look like with a pretty simple pandas dataframe using the one-to-many example above of the Customer and Order tables, but I\u2019ll also show what the SQL syntax would be.", "As a reminder, the CustomerId is the primary key of the Customer table and it is a foreign key on the Order table. The OrderId is the primary key on the Order table.", "An inner join will return rows where the values in the field you are joining on exist in both tables.", "In SQL, you can use JOIN since it defaults as an inner join. Or you can include INNER JOIN.", "In SQL this would be written as:", "In Pandas you would use the merge function.", "The only CustomerId values that exist in the Order table are [1,2,4], so in the results of the inner join, CustomerId [3,5] don\u2019t return.", "A left join will return all rows from the first table written, Customer in this instance, and only populate the second table\u2019s fields where the key value exists. It will return NULLs (or NaNs in python) where it does not exist in the second table.", "In SQL, this would be written as:", "With this join, we see all the CustomerIds [1,2,3,4,5], but there are duplicates of these CustomerIds because they have multiple orders. CustomerId [3,5] didn\u2019t have any orders, so the OrderId and OrderDate return a NaN.", "A right join will return all rows from the second table written, Order in this instance, and only populate the first table\u2019s fields where the key value exists. It will return NULLs (or NaNs in python) where it does not exist in the first table.", "In SQL, this would be written as:", "With this join, we see all the orders from the Order table, but since CustomerId 6 doesn\u2019t exist in the Customer table, we\u2019re getting NaN values for Name, Address, and Phone.", "You\u2019ll also hear this called Outer Join (without the Full) since you don\u2019t have to include FULL in your written SQL.", "This will return all rows whether the values in the field you are joining on exist in both tables or not. If the value does not exist in the other table, NULLs will be returned for that table\u2019s fields.", "In SQL, this would be written as:", "The results of this join show all CustomerId\u2019s and all OrderId\u2019s. Where CustomerId is [3,5] the Order fields are NaN and where OrderId is 6, the Customer fields are NaN.", "Joins can be really useful in both SQL and Python using pandas dataframes to supplement the data from one table with some from another table. You have to be careful where you\u2019re returning NaN or NULL values, especially when you\u2019re inserting data into a new table that may not allow NULL values. It\u2019s also important to understand the relationships between the tables you are joining so you don\u2019t end up returning results that you aren\u2019t expecting.", "I hope this information was helpful and I\u2019m happy to connect and respond to any questions you may have about SQL queries!", "Note: I used explicit joins in my written SQL examples, but some people think implicit joins work just as well. In my experience, it\u2019s always safer to use explicit joins because you know exactly what the results will be. Implicit joins don\u2019t always do what you expect.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F55cbbffb2002&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-joins-55cbbffb2002&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-joins-55cbbffb2002&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-joins-55cbbffb2002&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-joins-55cbbffb2002&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----55cbbffb2002--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----55cbbffb2002--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@krsmith310?source=post_page-----55cbbffb2002--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@krsmith310?source=post_page-----55cbbffb2002--------------------------------", "anchor_text": "Kailey Smith"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F884de2413623&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-joins-55cbbffb2002&user=Kailey+Smith&userId=884de2413623&source=post_page-884de2413623----55cbbffb2002---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F55cbbffb2002&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-joins-55cbbffb2002&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F55cbbffb2002&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-joins-55cbbffb2002&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/tag/sql?source=post_page-----55cbbffb2002---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/sql-joins?source=post_page-----55cbbffb2002---------------sql_joins-----------------", "anchor_text": "Sql Joins"}, {"url": "https://medium.com/tag/data?source=post_page-----55cbbffb2002---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----55cbbffb2002---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/pandas?source=post_page-----55cbbffb2002---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F55cbbffb2002&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-joins-55cbbffb2002&user=Kailey+Smith&userId=884de2413623&source=-----55cbbffb2002---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F55cbbffb2002&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-joins-55cbbffb2002&user=Kailey+Smith&userId=884de2413623&source=-----55cbbffb2002---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F55cbbffb2002&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-joins-55cbbffb2002&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----55cbbffb2002--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F55cbbffb2002&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-joins-55cbbffb2002&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----55cbbffb2002---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----55cbbffb2002--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----55cbbffb2002--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----55cbbffb2002--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----55cbbffb2002--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----55cbbffb2002--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----55cbbffb2002--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----55cbbffb2002--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----55cbbffb2002--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@krsmith310?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@krsmith310?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kailey Smith"}, {"url": "https://medium.com/@krsmith310/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "260 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F884de2413623&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-joins-55cbbffb2002&user=Kailey+Smith&userId=884de2413623&source=post_page-884de2413623--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb9d3a00ec0e7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-joins-55cbbffb2002&newsletterV3=884de2413623&newsletterV3Id=b9d3a00ec0e7&user=Kailey+Smith&userId=884de2413623&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}