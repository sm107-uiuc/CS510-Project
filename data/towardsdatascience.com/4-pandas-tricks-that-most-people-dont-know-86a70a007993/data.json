{"url": "https://towardsdatascience.com/4-pandas-tricks-that-most-people-dont-know-86a70a007993", "time": 1683013847.371027, "path": "towardsdatascience.com/4-pandas-tricks-that-most-people-dont-know-86a70a007993/", "webpage": {"metadata": {"title": "4 Pandas Tricks that Most People Don\u2019t Know | by Christopher Tao | Medium | Towards Data Science", "h1": "4 Pandas Tricks that Most People Don\u2019t Know", "description": "Some Python Pandas data cleansing and wrangling tricks that Data Scientists, Data Analysts and Data Engineers must know to save some development time."}, "outgoing_paragraph_urls": [], "all_paragraphs": ["If you are a Data Analyst or Data Scientist, you must know the Pandas library in Python that has already become the standard of data wrangling/cleansing tool in Python. However, there are some small tricks in Pandas that I bet you might not know all of them.", "In this article, I\u2019ll share some Pandas tricks that I know. I believe they will expedite our jobs and make our life easier sometimes. Now we should begin!", "Well, you must know that Pandas can easily read from CSV, JSON and even directly from the database using SQLAlchemy, but do you know that Pandas can also read from the clipboard of our operating system?", "Suppose we have an Excel file with multiple datasheets. Now, we want to have partial data from one sheet to be processed in Python. What we usually might do to implement this?", "There is definitely an easier way of doing this, which is pd.read_clipboard().", "As shown above, how easy it is! You don\u2019t need to have a separated CSV or Excel file if you just want to load some data into Pandas.", "There are also some more tricks in this function. For example, when we have data with date format, it might not be correctly loaded as follows.", "The trick is to let Pandas know which column is date format that needs to be parsed.", "Sometimes we may want to generate some sample data frame. The most common method is probably using NumPy to generate an array with random values, and then generate data frame from the array.", "I would say that we have to use Numpy if we need the data to have a certain distribution, such as normal distribution. However, most of the time we may not care whether the data is normally distributed, we just want to have some data to play around. In this case, there is a much easier way to do so. That is, using pandas.util.testing package to generate the sample data frame.", "The index of the data frame will be generated using random strings. By default, there will be 30 rows with 4 columns.", "If we need a certain number of rows and columns, we can define the testing.N as the number of rows and testing.K as the number of columns.", "You must know that we can easily output a data frame into a file, such as df.to_csv(), df.to_json() and so on. But sometimes, we may want to compress the file to save the disk space or for other purposes.", "For example, as a Data Engineer, I did meet such a requirement that is to output Pandas data frames into CSV files and transfer them into a remote server. To save the space as well as the bandwidth, the files need to be compressed before sending.", "Usually, the typical solution could be adding one more step in the scheduling tool that is using such as Airflow or Oozie. But we know that we can directly let Pandas to output a compressed file. So, the solution will be neater and less complicated with fewer steps.", "Let\u2019s generate a random data frame using the Trick \u21162 :)", "See, in this case, we just want a data frame and the values in it is totally not a concern.", "Now, let\u2019s save the data frame into a CSV file, and check the size.", "Then, we can test outputting the same data frame into a compressed file, and check the size of the file.", "We can see that the compressed file is less than half of the normal CSV file.", "Please note that this might not be a good example, because we don\u2019t have any repeated values in our random data frame. In practice, if we have any categorical values, the compression rate can be very high!", "BTW, maybe you\u2019re thinking the thing that I gonna say. Yes, Pandas can directly read the compressed file back into a data frame. You don\u2019t need to unzip it in the file system.", "I prefer to use gzip because it exists in most of the Linux system by default. Pandas do also support more formats of compressions such as \u201czip\u201d and \u201cbz2\u201d.", "I believe you must have used pd.to_datetime() method to convert some kind of string into DateTime format in Pandas. We usually use this method with a format string such as %Y%m%d.", "However, we may have the following kind of data frame as our raw data, sometimes.", "It is not uncommon to have the year, month and day as separated columns in a data frame. In fact, we can use pd.to_dateframe() to convert them into a DateTime column in one step.", "In this article, I\u2019ve shared some tricks that I believe are quite useful in the Python Pandas library. I would say that these little tricks are not essentials that we have to know, of course. But knowing them sometimes can save time in our life.", "I\u2019ll be kept looking for more interesting stuff for Python. Please keep an eye on my profile.", "If you feel my articles are helpful, please consider joining Medium Membership to support me and thousands of other writers! (Click the link above)", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F86a70a007993&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-pandas-tricks-that-most-people-dont-know-86a70a007993&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-pandas-tricks-that-most-people-dont-know-86a70a007993&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-pandas-tricks-that-most-people-dont-know-86a70a007993&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-pandas-tricks-that-most-people-dont-know-86a70a007993&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----86a70a007993--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----86a70a007993--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://qiuyujx.medium.com/?source=post_page-----86a70a007993--------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=post_page-----86a70a007993--------------------------------", "anchor_text": "Christopher Tao"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb8176fabf308&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-pandas-tricks-that-most-people-dont-know-86a70a007993&user=Christopher+Tao&userId=b8176fabf308&source=post_page-b8176fabf308----86a70a007993---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F86a70a007993&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-pandas-tricks-that-most-people-dont-know-86a70a007993&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F86a70a007993&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-pandas-tricks-that-most-people-dont-know-86a70a007993&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/users/PublicDomainPictures-14/", "anchor_text": "PublicDomainPictures"}, {"url": "https://pixabay.com/photos/autumn-black-dark-decoration-fall-21495/#", "anchor_text": "Pixabay"}, {"url": "https://pixabay.com/users/StockSnap-894430/", "anchor_text": "StockSnap"}, {"url": "https://pixabay.com/photos/clipboards-papers-text-quotes-924044/", "anchor_text": "Pixabay"}, {"url": "https://pixabay.com/users/pszmajduch-125906/", "anchor_text": "pszmajduch"}, {"url": "https://pixabay.com/photos/printing-house-colors-samples-276390/", "anchor_text": "Pixabay"}, {"url": "https://pixabay.com/users/stevepb-282134/", "anchor_text": "stevepb"}, {"url": "https://pixabay.com/photos/stress-tension-pressure-stressing-624220/", "anchor_text": "Pixabay"}, {"url": "https://pixabay.com/users/Bru-nO-1161770/", "anchor_text": "Bru-nO"}, {"url": "https://pixabay.com/photos/clock-pocket-watch-movement-3179167/", "anchor_text": "Pixabay"}, {"url": "https://pixabay.com/users/Engin_Akyurt-3656355/", "anchor_text": "Engin_Akyurt"}, {"url": "https://pixabay.com/photos/coffee-cup-espresso-hands-food-2608864/", "anchor_text": "Pixabay"}, {"url": "https://medium.com/@qiuyujx/membership", "anchor_text": "Join Medium with my referral link - Christopher TaoAs a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026medium.com"}, {"url": "https://medium.com/tag/python?source=post_page-----86a70a007993---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----86a70a007993---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/technology?source=post_page-----86a70a007993---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/data-science?source=post_page-----86a70a007993---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----86a70a007993---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F86a70a007993&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-pandas-tricks-that-most-people-dont-know-86a70a007993&user=Christopher+Tao&userId=b8176fabf308&source=-----86a70a007993---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F86a70a007993&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-pandas-tricks-that-most-people-dont-know-86a70a007993&user=Christopher+Tao&userId=b8176fabf308&source=-----86a70a007993---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F86a70a007993&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-pandas-tricks-that-most-people-dont-know-86a70a007993&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----86a70a007993--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F86a70a007993&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-pandas-tricks-that-most-people-dont-know-86a70a007993&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----86a70a007993---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----86a70a007993--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----86a70a007993--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----86a70a007993--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----86a70a007993--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----86a70a007993--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----86a70a007993--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----86a70a007993--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----86a70a007993--------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Christopher Tao"}, {"url": "https://qiuyujx.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "8.7K Followers"}, {"url": "https://www.linkedin.com/in/christopher-tao-5717a274/", "anchor_text": "https://www.linkedin.com/in/christopher-tao-5717a274/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb8176fabf308&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-pandas-tricks-that-most-people-dont-know-86a70a007993&user=Christopher+Tao&userId=b8176fabf308&source=post_page-b8176fabf308--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F1d2af94a683f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-pandas-tricks-that-most-people-dont-know-86a70a007993&newsletterV3=b8176fabf308&newsletterV3Id=1d2af94a683f&user=Christopher+Tao&userId=b8176fabf308&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}