{"url": "https://towardsdatascience.com/simple-football-data-set-exploration-with-pandas-60a2bc56bd5a", "time": 1683000411.9124968, "path": "towardsdatascience.com/simple-football-data-set-exploration-with-pandas-60a2bc56bd5a/", "webpage": {"metadata": {"title": "Simple Football Data-set Exploration with Pandas | by Stephen Fordham | Towards Data Science", "h1": "Simple Football Data-set Exploration with Pandas", "description": "This tutorial article details how the Python Pandas library can be used to explore a data-set efficiently. Specifically, this example will use the data-set, International football results from 1872\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/martj42/international-football-results-from-1872-to-2017", "anchor_text": "Kaggle website", "paragraph_index": 0}, {"url": "https://github.com/StephenFordham", "anchor_text": "https://github.com/StephenFordham", "paragraph_index": 31}], "all_paragraphs": ["This tutorial article details how the Python Pandas library can be used to explore a data-set efficiently. Specifically, this example will\u00a0use the\u00a0data-set, International football results from 1872 to 2019, which is available from the Kaggle website. Chiefly, this tutorial will explore simple visualizations and how they can be filtered to permit more fined-grained exploration.", "Further to this, this tutorial is aimed at showcasing how Pandas can be used to answer data science related-questions.", "To begin, it is necessary to import the Pandas library for data-analysis, in addition to the matplotlib library to permit exploratory data visualizations. I read in the CSV file which is saved in my local directory, and save it to a Dataframe named results. Following this I look at the first 5 records of the results Dataframe, by using the head method. Each row in the Dataframe represents a single International Football match. To help familiarize myself with the data-set, I also look at the datatypes of the columns.", "To calculate and visualize the number of Matches that took place each year, a good place to start would be to look at the date column as it has the date of each match. As shown previously the date column has an object datatype. To conveniently extract the years from this date column, simply use the pd.to_datetime method on the date series in the results dataframe, and create a new column. Here the new column I have created is called \u2018date_time\u2019 and now has a datetime datatype.", "Through the use of the \u2018dt\u2019 namespace, convenient attributes such as year can be extracted, and the value_counts method can be applied. In order to plot, the index (the years shown on the left hand side) must be sorted.", "By simply writing .plot, the plot can now be visualized and the number of international matches is shown.", "Although the plot could certainly use some visual enhancements, a simple pandas one-liner is able to convey the number of matches that took place each year!", "It would also be insightful to take a look at a narrower range of International matches. The time series column date_time can be filtered using a Pandas one-liner. In the example shown, only International matches from 2014\u201319 are shown.", "Noticeably, there appears to be a dip in International matches in 2019. On close examination, however the last recorded date in the date_time series is in the middle of 2019 as shown using the max() method on the date_time series. This likely explains the sudden and noticeable drop in International matches from 2019.", "Tip: We can easily filter a range of dates using multiple conditional statements as shown in the first line which is commented out. Interestingly, we can also select and extract a range of years using the between method, by specifying values for the left= and right= keyword arguments. Note, both values specified are inclusive.", "The most exciting International tournament could be defined in many ways, but one way to define it, may be to investigate the goals scored! To begin with deciding which tournament is the most exciting, I create a new column which calculates the number of match goals scored in each International fixture using the code snippet displayed below. To confirm this column has been created, I pull three columns from the results dataframe, namely home_score, away_score and match_goals and randomly sample 5 records from the results dataframe to validate.", "For each tournament, I can now use a Pandas groupby to calculate the number of mean match goals and determine the most exciting tournament based on this metric.", "However, I must be mindful to have reasonable sample sizes so the results make sense. For this demonstration, I will only only include tournaments, for which there are 100 or more records (international matches) in the Dataframe.", "I use the value_counts method on the tournament series in the results dataframe. A new series is returned from this command, where the tournament is the index, and the value is the number of times that particular tournament appears in the dataframe.", "I save this series to a variable called tournament_count, and filter this series to include only 100 or more records for each tournament. I then select the index, and filter the results dataframe using the isin() method call, which returns a new dataframe which now only includes tournaments which are represented 100 or more times in the dataset!", "I now groupby each tournament in the filtered dataframe, and look at the number of records for each tournament (using count), and sort via the mean number of match goals scored. I look at the tail of the Dataframe as the sorting is in ascending order.", "The results reveal that the \u2018South Pacific Games\u2019, have on average 5.9 goals per game, and feature 205 times in the filtered dataframe, Represented_tour.", "Goals are clearly not the only metric that determines which tournament is the most exciting, and the absence in the data-set of metrics like attempted shots, missed penalties, fouls and all other factors which add value to a game is a definite weakness here.", "Tip! To visualize particular tournaments, use the filter method which takes a list.", "Filtering the output using the .filter method", "This question once more showcases how useful Pandas can be in helping to answer data science related questions.", "Firstly, I filter the results dataframe to include data from only 2015 onward (the last 5 years). I then group by each year, by extracting the year attribute from the date_time column (which has a datetime datatype). For each year in the filtered dataframe, I then perform a value_counts on the tournament which returns a multi-series index, which I convert into a dataframe using the unstack method.", "Finally, to prevent lots of NaNs appearing in the output I fill them with 0. For example, the FIFA World Cup takes place every 4 years, and will therefore only have populated fields once every 4 years. I save this output to a new dataframe called \u2018last_5_years\u2019, and pull the columns I specified in my tour list.", "Now we can clearly see that there were 64 World Cup matches in 2018, but we can also see some interesting relationships, for example in 2019, 52 matches took place in the African Cup of Nations, a deviation from 2015 and 2017, where 32 matches took place in this tournament.", "The associated code used to investigate the Tournaments during the last 5 years is included in the github gist below the image shown.", "This ties to my final question, how many matches have taken place in the Africa Cup of Nations ( AFCON) since its inception?", "A plot will usefully and clearly present this data. I simply filter the results dataframe by the tournament series where \u2018Africa Cup of Nations\u2019 appears, and for each year do a value counts on the tournament and use unstack to return a dataframe. I then pull the \u2018Africa Cup of Nations\u2019 column from the afcon dataframe and plot using a bar plot.", "N.B I have to extract the \u2018Africa Cup of Nations\u2019 column to get a series where I can plot the index (the date in years on the x-axis), and the number of games on the y-axis.", "Now the number of games for each Afcon is presented. A quick online search reveals the number of matches has indeed increased in the most recent 2019 Afcon tournament.", "Pandas can be used intuitively to answer data science questions. The International Football Results from 1872 to 2019 example presented, provides a good use-case to demonstrate how this can be achieved.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Articles on Data Science and Programming https://github.com/StephenFordham"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F60a2bc56bd5a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsimple-football-data-set-exploration-with-pandas-60a2bc56bd5a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsimple-football-data-set-exploration-with-pandas-60a2bc56bd5a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsimple-football-data-set-exploration-with-pandas-60a2bc56bd5a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsimple-football-data-set-exploration-with-pandas-60a2bc56bd5a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----60a2bc56bd5a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----60a2bc56bd5a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@stephenfordham?source=post_page-----60a2bc56bd5a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@stephenfordham?source=post_page-----60a2bc56bd5a--------------------------------", "anchor_text": "Stephen Fordham"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5d3f46276e7e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsimple-football-data-set-exploration-with-pandas-60a2bc56bd5a&user=Stephen+Fordham&userId=5d3f46276e7e&source=post_page-5d3f46276e7e----60a2bc56bd5a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F60a2bc56bd5a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsimple-football-data-set-exploration-with-pandas-60a2bc56bd5a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F60a2bc56bd5a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsimple-football-data-set-exploration-with-pandas-60a2bc56bd5a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@syedmohdali121", "anchor_text": "Syed Ali"}, {"url": "https://www.kaggle.com/martj42/international-football-results-from-1872-to-2017", "anchor_text": "Kaggle website"}, {"url": "https://www.kaggle.com/martj42/international-football-results-from-1872-to-2017", "anchor_text": "following the link attached"}, {"url": "https://medium.com/tag/data-science?source=post_page-----60a2bc56bd5a---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----60a2bc56bd5a---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/technology?source=post_page-----60a2bc56bd5a---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----60a2bc56bd5a---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/sports?source=post_page-----60a2bc56bd5a---------------sports-----------------", "anchor_text": "Sports"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F60a2bc56bd5a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsimple-football-data-set-exploration-with-pandas-60a2bc56bd5a&user=Stephen+Fordham&userId=5d3f46276e7e&source=-----60a2bc56bd5a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F60a2bc56bd5a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsimple-football-data-set-exploration-with-pandas-60a2bc56bd5a&user=Stephen+Fordham&userId=5d3f46276e7e&source=-----60a2bc56bd5a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F60a2bc56bd5a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsimple-football-data-set-exploration-with-pandas-60a2bc56bd5a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----60a2bc56bd5a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F60a2bc56bd5a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsimple-football-data-set-exploration-with-pandas-60a2bc56bd5a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----60a2bc56bd5a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----60a2bc56bd5a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----60a2bc56bd5a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----60a2bc56bd5a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----60a2bc56bd5a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----60a2bc56bd5a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----60a2bc56bd5a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----60a2bc56bd5a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----60a2bc56bd5a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@stephenfordham?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@stephenfordham?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Stephen Fordham"}, {"url": "https://medium.com/@stephenfordham/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "977 Followers"}, {"url": "https://github.com/StephenFordham", "anchor_text": "https://github.com/StephenFordham"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5d3f46276e7e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsimple-football-data-set-exploration-with-pandas-60a2bc56bd5a&user=Stephen+Fordham&userId=5d3f46276e7e&source=post_page-5d3f46276e7e--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fbd4ed43cae00&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsimple-football-data-set-exploration-with-pandas-60a2bc56bd5a&newsletterV3=5d3f46276e7e&newsletterV3Id=bd4ed43cae00&user=Stephen+Fordham&userId=5d3f46276e7e&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}