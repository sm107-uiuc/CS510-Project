{"url": "https://towardsdatascience.com/make-your-pandas-dataframe-output-report-ready-a9440f6045c6", "time": 1683014128.165984, "path": "towardsdatascience.com/make-your-pandas-dataframe-output-report-ready-a9440f6045c6/", "webpage": {"metadata": {"title": "Make Your Pandas DataFrame Output Report-Ready | by Christopher Tao | Towards Data Science", "h1": "Make Your Pandas DataFrame Output Report-Ready", "description": "Python Pandas Dataframe supports adding styles to the output table in HTML + CSS natively. This article demonstrates all the methods and Sparklines lib."}, "outgoing_paragraph_urls": [], "all_paragraphs": ["As a Data Scientist or Analyst who use Python as the primary programming language, I believe you must have use Pandas a lot. It is very frequently for us to output out pandas data frame in the Jupyter notebooks.", "However, have you ever think that we can actually let the data frame visualise itself? In other words, for some simple visualisation purposes, we don\u2019t need Matplotlib or other visualisation libraries. The Pandas data frame output can be visualised like an Excel spreadsheet with complicated styles and with very easy code definition.", "In this article, I\u2019ll introduce the style package in the Pandas library which is known by relatively fewer people than its data processing methods. Also, there are some interesting libraries that support more IN-LINE visualisations of the Pandas data frame. In the last section, I\u2019ll also introduce one of them \u2014 Sparklines.", "It is known that Pandas data frames can be output in iPython/Jupyter notebook that is automatically rendered in HTML with CSS styles. This is definitely an amazing feature because the presentation is very nice even if we just simply print it.", "But wait, it makes use \u201cHTML + CSS\u201d. Yes, Pandas also allows us to customise the CSS styles to make it even looks nicer. This is achieved by the \u201cstyle\u201d API.", "We can simply call df.style to get the Styler object of a data frame, and then add the styles we want. Now, let\u2019s see what we can do.", "Of course, we can always format the data itself such as df.round(2) to round all the numerical values with 2 decimals. However, there are some benefits to do that using Pandas styles. For example, we don\u2019t actually change the value, but only the presentation, so that we didn\u2019t lose the precision.", "Let\u2019s create a random data frame first.", "Then, lets output the data frame with specific formats.", "BTW, if you\u2019re not that familiar with Python Format Specification Mini-Language, which is the expression I used {:.2f}, you can check out the official documentation here (highly recommend).", "I know, formatting is not cool enough. With CSS we can easily do a lot of things, such as changing background colours and Text Colours.", "For example, for the same data frame above-shown, we want to highlight the positive numbers and native numbers separately. If you have some basic knowledge about CSS, or just simply Google it, you will know the below properties to set the background colour and text colour of HTML table cells.", "Let\u2019s write a function to colour the table cells.", "If the value of the cell is negative, we use red colour as the background, otherwise use green colour if it is positive. Since the colour might be kind of dark, we also want to change the text colour to white.", "Then, we can apply the function to the data frame.", "Super cool! Now it is very obvious that we got negative and positive numbers, and they are distinguished very well.", "So far, we\u2019re only adding one type of style each time. In fact, once we called df.style, it returns the Styler object of the data frame. The Styler object supports chaining the style functions. Let\u2019s have a look at another example which is more complex.", "Let\u2019s say, we want to add the following styles to the original data frame.", "Yes, we can do all of these in one go, by using the chain expression.", "Feels like the table can be directly used in some business report :)", "Don\u2019t know CSS, but still want to show off? Yes, Pandas style also provides some built-in functions, which are very cool but very easy to use.", "Let\u2019s use the same data frame for the demonstration.", "See, it is very easy to highlight the NULL values, Min and Max values using whatever colours you prefer. I would recommend using light colours because the text colour always gonna be black.", "Pandas style also support using cmap to colour the cell background in gradient colours. This is very useful when we want to visualise the numeric data in scales.", "So, the background colour is gradient depends on the values. Please be noted that \u201cBlues\u201d is one of the cmap that that Pandas supports. If you wonder what are others that are supported, the following documentation page from Matplotlib is a good reference.", "This is another super cool feature that is built-in. It can generate bars as in the background of each cell to indicate their values. Let\u2019s use the above data frame.", "Of course, we\u2019re not satisfied by the default style of the bar chart. Let\u2019s improve the presentation.", "Can you believe this is still the \u201cPandas dataframe\u201d that you use to be very familiar with? :)", "Let me simply explain the parameters in the bar() method. The color parameter supports either a single string or a tuple, when it is a tuple, the first colour will be used for colouring the negative values and the second colour is for the positive. Since we\u2019re using two colours, we need to set the bar to be aligned in the middle of the cell.", "I could stop here, but I want to show off another library I found which is very interesting called Sparklines. I wouldn\u2019t say it\u2019s very nice looking, but the idea is really cool.", "You can install the library using pip.", "Then, let\u2019s import the library and create another sample data frame for demonstration purposes.", "The feature of the library Sparklines is simple. it can generate bar charts using Unicode strings such as \u2581, \u2582, \u2583, until \u2588. To make sure the bars in correct orders and make sense as a histogram, we need to prepare the values using NumPy to generate the histogram values first.", "For each column, we can generate the histogram using sparkline.", "Finally, we can put the strings along with other statistics to make a better report.", "In this article, I have demonstrated to you all the major methods in the Pandas style package. We can format the values, colour the backgrounds, improve the presentation with customised CSS properties. There are also many built-in functions that can be used out-of-box to create a \u201creport-ready\u201d data frame output.", "If you feel my articles are helpful, please consider joining Medium Membership to support me and thousands of other writers! (Click the link above)", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa9440f6045c6&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmake-your-pandas-dataframe-output-report-ready-a9440f6045c6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmake-your-pandas-dataframe-output-report-ready-a9440f6045c6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmake-your-pandas-dataframe-output-report-ready-a9440f6045c6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmake-your-pandas-dataframe-output-report-ready-a9440f6045c6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a9440f6045c6--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a9440f6045c6--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://qiuyujx.medium.com/?source=post_page-----a9440f6045c6--------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=post_page-----a9440f6045c6--------------------------------", "anchor_text": "Christopher Tao"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb8176fabf308&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmake-your-pandas-dataframe-output-report-ready-a9440f6045c6&user=Christopher+Tao&userId=b8176fabf308&source=post_page-b8176fabf308----a9440f6045c6---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa9440f6045c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmake-your-pandas-dataframe-output-report-ready-a9440f6045c6&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa9440f6045c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmake-your-pandas-dataframe-output-report-ready-a9440f6045c6&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/users/12019-12019/", "anchor_text": "12019"}, {"url": "https://pixabay.com/photos/bunson-peak-yellowstone-landscape-1589003/", "anchor_text": "Pixabay"}, {"url": "https://pixabay.com/users/Free-Photos-242387/", "anchor_text": "Free-Photos"}, {"url": "https://pixabay.com/photos/roses-colored-tinted-colorful-828945/", "anchor_text": "Pixabay"}, {"url": "https://pandas.pydata.org/docs/reference/style.html", "anchor_text": "Style - pandas 1.1.2 documentationEdit descriptionpandas.pydata.org"}, {"url": "https://pixabay.com/users/geralt-9301/", "anchor_text": "geralt"}, {"url": "https://pixabay.com/photos/pi-board-school-district-diameter-3653435/", "anchor_text": "Pixabay"}, {"url": "https://docs.python.org/3/library/string.html#formatspec", "anchor_text": "Format Specification Mini-Language - Python documentationThe built-in string class provides the ability to do complex variable substitutions and value formatting via the method\u2026docs.python.org"}, {"url": "https://pixabay.com/users/YeriLee-1801917/", "anchor_text": "YeriLee"}, {"url": "https://pixabay.com/photos/highlighter-coloring-fluorescent-1103715/", "anchor_text": "Pixabay"}, {"url": "https://pixabay.com/users/TanteTati-77004/", "anchor_text": "TanteTati"}, {"url": "https://pixabay.com/users/PublicDomainPictures-14/", "anchor_text": "PublicDomainPictures"}, {"url": "https://pixabay.com/photos/bright-close-up-color-colorful-2796/", "anchor_text": "Pixbay"}, {"url": "https://matplotlib.org/3.1.0/tutorials/colors/colormaps.html#sequential", "anchor_text": "Choosing Colormaps in Matplotlib - Matplotlib 3.1.0 documentationMatplotlib has a number of built-in colormaps accessible via . There are also external libraries like [palettable] and\u2026matplotlib.org"}, {"url": "https://pixabay.com/users/Myriams-Fotos-1627417/", "anchor_text": "Myriams-Fotos"}, {"url": "https://pixabay.com/photos/sparkler-light-bulb-injection-candle-4629347/", "anchor_text": "Pixabay"}, {"url": "https://pixabay.com/users/pasja1000-6355831/", "anchor_text": "pasja1000"}, {"url": "https://pixabay.com/photos/autumn-leaf-collapse-bokeh-season-3707549/", "anchor_text": "Pixabay"}, {"url": "https://medium.com/@qiuyujx/membership", "anchor_text": "Join Medium with my referral link \u2014 Christopher TaoAs a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026medium.com"}, {"url": "https://medium.com/tag/python?source=post_page-----a9440f6045c6---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----a9440f6045c6---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/technology?source=post_page-----a9440f6045c6---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a9440f6045c6---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----a9440f6045c6---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa9440f6045c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmake-your-pandas-dataframe-output-report-ready-a9440f6045c6&user=Christopher+Tao&userId=b8176fabf308&source=-----a9440f6045c6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa9440f6045c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmake-your-pandas-dataframe-output-report-ready-a9440f6045c6&user=Christopher+Tao&userId=b8176fabf308&source=-----a9440f6045c6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa9440f6045c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmake-your-pandas-dataframe-output-report-ready-a9440f6045c6&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a9440f6045c6--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa9440f6045c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmake-your-pandas-dataframe-output-report-ready-a9440f6045c6&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a9440f6045c6---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a9440f6045c6--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a9440f6045c6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a9440f6045c6--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a9440f6045c6--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a9440f6045c6--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a9440f6045c6--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a9440f6045c6--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a9440f6045c6--------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Christopher Tao"}, {"url": "https://qiuyujx.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "8.7K Followers"}, {"url": "https://www.linkedin.com/in/christopher-tao-5717a274/", "anchor_text": "https://www.linkedin.com/in/christopher-tao-5717a274/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb8176fabf308&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmake-your-pandas-dataframe-output-report-ready-a9440f6045c6&user=Christopher+Tao&userId=b8176fabf308&source=post_page-b8176fabf308--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F1d2af94a683f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmake-your-pandas-dataframe-output-report-ready-a9440f6045c6&newsletterV3=b8176fabf308&newsletterV3Id=1d2af94a683f&user=Christopher+Tao&userId=b8176fabf308&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}