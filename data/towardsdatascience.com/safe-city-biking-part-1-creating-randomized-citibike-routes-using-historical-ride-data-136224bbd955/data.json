{"url": "https://towardsdatascience.com/safe-city-biking-part-1-creating-randomized-citibike-routes-using-historical-ride-data-136224bbd955", "time": 1683010463.741784, "path": "towardsdatascience.com/safe-city-biking-part-1-creating-randomized-citibike-routes-using-historical-ride-data-136224bbd955/", "webpage": {"metadata": {"title": "Safe City Biking Part 1: Creating and Animating Randomized Citibike Routes Using Historical Ride Data | by Andrew Hong | Towards Data Science", "h1": "Safe City Biking Part 1: Creating and Animating Randomized Citibike Routes Using Historical Ride Data", "description": "I\u2019ve always been an avid cyclist: from biking to and from high school every day over miles of hills, to now taking a Citibike 12 miles every day between Brooklyn and Times Square for work. Here\u2019s a\u2026"}, "outgoing_paragraph_urls": [{"url": "https://s3.amazonaws.com/tripdata/index.html", "anchor_text": "monthly rides database", "paragraph_index": 3}, {"url": "https://kite.com/python/answers/how-to-find-the-distance-between-two-lat-long-coordinates-in-python", "anchor_text": "Haversine formula", "paragraph_index": 3}, {"url": "https://github.com/andrewhong5297/Safebikingproject", "anchor_text": "this GitHub repository", "paragraph_index": 11}], "all_paragraphs": ["I\u2019ve always been an avid cyclist: from biking to and from high school every day over miles of hills, to now taking a Citibike 12 miles every day between Brooklyn and Times Square for work. Here\u2019s a screenshot of my Citibike statistics over the two years as a member (before this I would skateboard around the city):", "If you\u2019re familiar with biking in NYC, you know that rides aren\u2019t always safe or smooth. I\u2019ve seen improvements over the years, but have also had my fair share of accidents such as being slammed by am opening truck door or hitting a pothole so large I was thrown off the bike. It\u2019s pretty hard to find data on the actual biking conditions of the city outside of injury/crash statistics, so I decided to collect my own.", "Here are the main project steps:", "First, I downloaded June and July 2019 from Citibike\u2019s monthly rides database. I wanted to figure out which paths were traveled most often by other riders and plan my route around that. To do this, I created a function called pathfinder that would create a route starting from the bike station closest to me and continuously picked the most popular bike stations every mile until it hit five miles. The first step was to use the Haversine formula, filtering the dataframe to only keep end stations that were within a 1 mile radius from the start station. This formula takes into account the curvature of the earth, which is more accurate than taking just euclidean distance.", "I used Scholes St & Manhattan Ave and S 4 St & Wythe Ave, the function returned 1.14 miles while Google Maps gave me 1.3 miles. I added a multiplier of 1.15x to account for conversion from birds-eye-view to actual route length, getting me to 1.31 miles.", "Then, I used rand to pick one of the top three most popular end stations from that point. Once I was 5 miles away from my first starting station, I would end the pathfinder loop and take all the routes using the osmnx package.", "Our Pathfinder function through the while loop outputs the following route:", "After some Geopandas dataframe processing, I animated the route using plotly.express scatter_mapbox.", "I\u2019ll generate a random path for me each time I go out, though as time progresses I\u2019ll have to account for coverage and overlap with previous routes.", "If we had station bike number/availability data, we could use this to run a Monte Carlo Markov Chain (MCMC) model (with an additional probability of station activation for if a bike is rented from a station at each time step based on total number of members/riders) to figure out the distribution of bikes across the city at the end of each day. I may do this exercise in a separate post, as it requires more data collection and many more pre-processing steps before running the model.", "Next time, I will cover how I set up the Arduino device and connected it to a database to query with Python. If this project interests you, feel free to reach out to me with suggestions on any data you would like me to collect along the way or ideas you may have.", "You can find all the code in this GitHub repository.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Follow me on @andrewhong5297 on twitter for more data insights"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F136224bbd955&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsafe-city-biking-part-1-creating-randomized-citibike-routes-using-historical-ride-data-136224bbd955&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsafe-city-biking-part-1-creating-randomized-citibike-routes-using-historical-ride-data-136224bbd955&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsafe-city-biking-part-1-creating-randomized-citibike-routes-using-historical-ride-data-136224bbd955&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsafe-city-biking-part-1-creating-randomized-citibike-routes-using-historical-ride-data-136224bbd955&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----136224bbd955--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----136224bbd955--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://andrew-hong.medium.com/?source=post_page-----136224bbd955--------------------------------", "anchor_text": ""}, {"url": "https://andrew-hong.medium.com/?source=post_page-----136224bbd955--------------------------------", "anchor_text": "Andrew Hong"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fad1e6939064c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsafe-city-biking-part-1-creating-randomized-citibike-routes-using-historical-ride-data-136224bbd955&user=Andrew+Hong&userId=ad1e6939064c&source=post_page-ad1e6939064c----136224bbd955---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F136224bbd955&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsafe-city-biking-part-1-creating-randomized-citibike-routes-using-historical-ride-data-136224bbd955&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F136224bbd955&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsafe-city-biking-part-1-creating-randomized-citibike-routes-using-historical-ride-data-136224bbd955&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@maxwbender?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Max Bender"}, {"url": "https://unsplash.com/s/photos/biking?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://s3.amazonaws.com/tripdata/index.html", "anchor_text": "monthly rides database"}, {"url": "https://kite.com/python/answers/how-to-find-the-distance-between-two-lat-long-coordinates-in-python", "anchor_text": "Haversine formula"}, {"url": "https://github.com/andrewhong5297/Safebikingproject", "anchor_text": "this GitHub repository"}, {"url": "https://medium.com/tag/data-science?source=post_page-----136224bbd955---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----136224bbd955---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/ds-in-the-real-world?source=post_page-----136224bbd955---------------ds_in_the_real_world-----------------", "anchor_text": "Ds In The Real World"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----136224bbd955---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F136224bbd955&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsafe-city-biking-part-1-creating-randomized-citibike-routes-using-historical-ride-data-136224bbd955&user=Andrew+Hong&userId=ad1e6939064c&source=-----136224bbd955---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F136224bbd955&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsafe-city-biking-part-1-creating-randomized-citibike-routes-using-historical-ride-data-136224bbd955&user=Andrew+Hong&userId=ad1e6939064c&source=-----136224bbd955---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F136224bbd955&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsafe-city-biking-part-1-creating-randomized-citibike-routes-using-historical-ride-data-136224bbd955&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----136224bbd955--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F136224bbd955&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsafe-city-biking-part-1-creating-randomized-citibike-routes-using-historical-ride-data-136224bbd955&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----136224bbd955---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----136224bbd955--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----136224bbd955--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----136224bbd955--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----136224bbd955--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----136224bbd955--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----136224bbd955--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----136224bbd955--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----136224bbd955--------------------------------", "anchor_text": ""}, {"url": "https://andrew-hong.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://andrew-hong.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andrew Hong"}, {"url": "https://andrew-hong.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "717 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fad1e6939064c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsafe-city-biking-part-1-creating-randomized-citibike-routes-using-historical-ride-data-136224bbd955&user=Andrew+Hong&userId=ad1e6939064c&source=post_page-ad1e6939064c--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F38f8eb637a1c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsafe-city-biking-part-1-creating-randomized-citibike-routes-using-historical-ride-data-136224bbd955&newsletterV3=ad1e6939064c&newsletterV3Id=38f8eb637a1c&user=Andrew+Hong&userId=ad1e6939064c&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}