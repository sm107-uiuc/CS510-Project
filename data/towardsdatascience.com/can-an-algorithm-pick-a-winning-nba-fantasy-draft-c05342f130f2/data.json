{"url": "https://towardsdatascience.com/can-an-algorithm-pick-a-winning-nba-fantasy-draft-c05342f130f2", "time": 1683013349.844503, "path": "towardsdatascience.com/can-an-algorithm-pick-a-winning-nba-fantasy-draft-c05342f130f2/", "webpage": {"metadata": {"title": "Can an Algorithm Pick a Winning NBA Fantasy Draft? | by Harsh Rana | Towards Data Science", "h1": "Can an Algorithm Pick a Winning NBA Fantasy Draft?", "description": "Note from Towards Data Science\u2019s editors: While we allow independent authors to publish articles in accordance with our rules and guidelines, we do not endorse each author\u2019s contribution. You should\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms", "paragraph_index": 0}, {"url": "https://stats.nba.com/", "anchor_text": "very clean data", "paragraph_index": 1}, {"url": "https://buckets.peterbeshai.com/app/#/playerView/201935_2015", "anchor_text": "data visualizations", "paragraph_index": 1}, {"url": "https://sports.sites.yale.edu/nba-model-math", "anchor_text": "modeling", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/predict-nba-games-make-money-machine-learning-project-b222b33f70a3", "anchor_text": "game predictions", "paragraph_index": 1}, {"url": "https://www.draftkings.com/lobby", "anchor_text": "DraftKings", "paragraph_index": 2}, {"url": "https://github.com/hr23232323/draftkings_nba/blob/master/previous_day_salaries/08-26/DKSalaries.csv", "anchor_text": "here", "paragraph_index": 13}, {"url": "https://github.com/hr23232323/draftkings_nba/blob/master/optimize-%20V1.ipynb", "anchor_text": "here", "paragraph_index": 13}, {"url": "https://www.linkedin.com/in/harshrana1997/", "anchor_text": "LinkedIn", "paragraph_index": 31}, {"url": "https://www.harshrana.com", "anchor_text": "Website", "paragraph_index": 31}, {"url": "https://github.com/hr23232323/draftkings_nba", "anchor_text": "Github repository", "paragraph_index": 31}], "all_paragraphs": ["Note from Towards Data Science\u2019s editors: While we allow independent authors to publish articles in accordance with our rules and guidelines, we do not endorse each author\u2019s contribution. You should not rely on an author\u2019s works without seeking professional advice. See our Reader Terms for details.", "I enjoy basketball. It\u2019s a fast-paced competitive game and I\u2019ve enjoyed both playing and watching it for a long time. The NBA is famous for generating very clean data, which has long been used by enthusiasts (like myself) for data visualizations, modeling and game predictions.", "Recently, I was contacted by DraftKings regarding an interview for a potential job. As part of my preparations for the same, I started using their platform and competing in mock competitions to get acquainted with the DraftKings (DK) contest process. It was during this time period that I really started getting into the idea of using data to model and predict a winning roster.", "I built the algorithm iteratively, and from scratch- starting with a naive version 1, a more robust version 2 and currently I\u2019m working on a winning version 3.", "I built the algorithm iteratively, and from scratch", "You can follow along my algorithm design journey in the rest of the article.", "DK\u2019s rules and scoring for their NBA classic fantasy contests are fairly intuitive, even if you have no prior basketball knowledge. In a nutshell, the objective is to:", "Create an 8-player lineup while staying under the $50,000 salary cap.", "Players get different points for different actions (more details below) and the draft with the most number of points, at the end of all games in a night, wins. Sounds simple enough :)", "The breakdown for different actions that result in positive (or negative) points can be seen below.", "One last constraint which makes drafting slightly more complicated is player positions. According to DK: Lineups will consist of 8 players and must include players from at least 2 different NBA games.", "Further, the 8 players are broken down by positions, which can be seen below.", "There you have it! A simple optimization problem with a set of constraints. Sounds like something an algorithms would excel at. Or would it?", "My goal with this algorithm was to build it as fast as possible, with little to no hopes of winning. Mainly because I was interested in setting up a strong foundation, without worrying about building complex logic early in the process. To do this, I downloaded a player dataset from DK and started a Jupyter notebook. If you\u2019re interested, you can find the full raw data here and my notebook here.", "Let\u2019s see what our data looks like.", "Right off the bat, we can tell that for a simple algorithm, given our requirements and constraints, we\u2019ll find the following columns useful: ID, Salary and AvgPointsPerGame (fantasy points). This would allow us to pick the \u201cbest\u201d players while staying under the $50,000 salary cap. Sure, without positional information we could have overlaps etc. but that\u2019s an issue for a later version. Remember, version 1 should be the simplest implementation of your product.", "Given this data, our first pass optimization algorithm can be broken up into the following simple steps:", "There we have it: a simple naive algorithm that picks 8 players in random that will have the maximum expected fantasy points while staying under the $50,000 salary cap. But this algorithm has a few glaring issues:", "To get an appreciation of this complexity, take a look at the table below which shows the number of checks if the total number of available players is 100.", "It\u2019s safe to assume that our algorithm will take a VERY long time to output a roster of 8 players. But, because this is a first pass algorithm, we\u2018re happy with what we got. You can see the algorithm in action below, picking the top 5 players for a combined salary of $35,000. Not bad.", "Because we\u2019re on a mission to build a winning algorithm, let\u2019s talk about version 2 optimizations.", "Now, this is where our algorithm goes from being a naive optimizer to an intermediate-level sports bettor. Based on the drawbacks of version 1, and the factorial time complexity, I decided to implement a few data and algorithm level optimizations.", "First, I cleaned the data to only include players who\u2019re confirmed to play games. This was an easy way to decrease the total number of available players from ~100 to ~85. This might look like a small increase, but in reality, for a roster of 8 players, our number of checks drastically decreases when the total number of players decreases. The change in the number of checks can be seen below.", "Our total number of operations (or checks) in the algorithm went down by ~75%!", "Next up, I modified the algorithm itself to pick specific positions. Now, instead of picking every possible roster from the total number of players available, the algorithm picks 3 guards from only all available guards, followed by 3 forwards and lastly 1 center. As you can see, the total here is only 7 players and leaves the last pick to the user. This is a quick way to save some additional time on the algorithm as the user can manually find the best remaining player (highest expected points given the salary remaining).", "This was a huge optimization because the number of guards vs the total number of players is ~40 vs 85. The number is similar for forwards and even less for centers. Note, there\u2019s a slight overlap between the players in each category as some players play multiple positions but this was easy to deal with: I removed played who were already picked as Guards, before picking Forwards etc. The performance boost as a result of the above changes can be seen below:", "This is huge. Now, the algorithm is conducting almost ~95% fewer operations and we have the best possible roster broken up by positions and under our salary cap. Let\u2019s test our results!", "If you\u2019ve made it so far, congratulations. You\u2019ve worked through the technical stuff, now it\u2019s time for the results! I tried the algorithm\u2019s pick over the course of three days on DK\u2019s classic multiplier contests. Each time my entry fee was $1 and the payoff was $3 for the top 30% of the finishers. You can see the lineups generated by the algorithm and the results below.", "As you can see from the above results, the real world outcomes of the competition have been good! Out of the three days that I created lineups using the algorithm, we lost twice and won once. Our intermediate-level sports bettor algorithm has done better than I expected, but there\u2019s still a long way to go.", "I noticed few nuances about the results, including that our algorithm (before the v2 optimization) made a mistake on day 1 where an injured player was drafted into the team (P. Beverley) which resulted in a weak draft. This was fixed in version 2 and will not be repeated again. Additionally, once cool thing has been that despite the mixed results, the algorithm has consistently created lineups which get >200 fantasy points, which is pretty high!", "Well, there you have it. So far, I\u2019ve spent $3 on entree fees and made $3 on winnings, for a grand total of $0 change! I have $25 left to spend on this project before my inner alarm bells start ringing, so I clearly need to improve this algorithm. After talking to some of my friends, who know a lot more about basketball than myself, I have a few hypotheses to test out. Some of these include:", "And more! If you have any ideas about how to improve this project please feel free to reach out to me on LinkedIn or over email which you can find on my Website. Additionally, all the data and code for this project can be found on my Github repository, so feel free to clone/fork it and test your own hypotheses! And, as always, any and all feedback is greatly appreciated.", "Stay safe out there everyone and keep building cool stuff.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "A software engineer with a passion for data, personal finance and health."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc05342f130f2&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-an-algorithm-pick-a-winning-nba-fantasy-draft-c05342f130f2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-an-algorithm-pick-a-winning-nba-fantasy-draft-c05342f130f2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-an-algorithm-pick-a-winning-nba-fantasy-draft-c05342f130f2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-an-algorithm-pick-a-winning-nba-fantasy-draft-c05342f130f2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c05342f130f2--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c05342f130f2--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@hr23232323?source=post_page-----c05342f130f2--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@hr23232323?source=post_page-----c05342f130f2--------------------------------", "anchor_text": "Harsh Rana"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbe594c58dc55&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-an-algorithm-pick-a-winning-nba-fantasy-draft-c05342f130f2&user=Harsh+Rana&userId=be594c58dc55&source=post_page-be594c58dc55----c05342f130f2---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc05342f130f2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-an-algorithm-pick-a-winning-nba-fantasy-draft-c05342f130f2&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc05342f130f2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-an-algorithm-pick-a-winning-nba-fantasy-draft-c05342f130f2&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.pexels.com/@markusspiske?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels", "anchor_text": "Markus Spiske"}, {"url": "https://www.pexels.com/photo/ball-basketball-basketball-court-basketball-hoop-1752757/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels", "anchor_text": "Pexels"}, {"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines"}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms"}, {"url": "https://stats.nba.com/", "anchor_text": "very clean data"}, {"url": "https://buckets.peterbeshai.com/app/#/playerView/201935_2015", "anchor_text": "data visualizations"}, {"url": "https://sports.sites.yale.edu/nba-model-math", "anchor_text": "modeling"}, {"url": "https://towardsdatascience.com/predict-nba-games-make-money-machine-learning-project-b222b33f70a3", "anchor_text": "game predictions"}, {"url": "https://www.draftkings.com/lobby", "anchor_text": "DraftKings"}, {"url": "https://github.com/hr23232323/draftkings_nba/blob/master/previous_day_salaries/08-26/DKSalaries.csv", "anchor_text": "here"}, {"url": "https://github.com/hr23232323/draftkings_nba/blob/master/optimize-%20V1.ipynb", "anchor_text": "here"}, {"url": "https://www.linkedin.com/in/harshrana1997/", "anchor_text": "LinkedIn"}, {"url": "https://www.harshrana.com", "anchor_text": "Website"}, {"url": "https://github.com/hr23232323/draftkings_nba", "anchor_text": "Github repository"}, {"url": "https://medium.com/tag/data-science?source=post_page-----c05342f130f2---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/nba?source=post_page-----c05342f130f2---------------nba-----------------", "anchor_text": "NBA"}, {"url": "https://medium.com/tag/basketball?source=post_page-----c05342f130f2---------------basketball-----------------", "anchor_text": "Basketball"}, {"url": "https://medium.com/tag/sports-analytics?source=post_page-----c05342f130f2---------------sports_analytics-----------------", "anchor_text": "Sports Analytics"}, {"url": "https://medium.com/tag/algorithms?source=post_page-----c05342f130f2---------------algorithms-----------------", "anchor_text": "Algorithms"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc05342f130f2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-an-algorithm-pick-a-winning-nba-fantasy-draft-c05342f130f2&user=Harsh+Rana&userId=be594c58dc55&source=-----c05342f130f2---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc05342f130f2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-an-algorithm-pick-a-winning-nba-fantasy-draft-c05342f130f2&user=Harsh+Rana&userId=be594c58dc55&source=-----c05342f130f2---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc05342f130f2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-an-algorithm-pick-a-winning-nba-fantasy-draft-c05342f130f2&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c05342f130f2--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc05342f130f2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-an-algorithm-pick-a-winning-nba-fantasy-draft-c05342f130f2&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c05342f130f2---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c05342f130f2--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c05342f130f2--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c05342f130f2--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c05342f130f2--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c05342f130f2--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c05342f130f2--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c05342f130f2--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c05342f130f2--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@hr23232323?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@hr23232323?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Harsh Rana"}, {"url": "https://medium.com/@hr23232323/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "348 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbe594c58dc55&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-an-algorithm-pick-a-winning-nba-fantasy-draft-c05342f130f2&user=Harsh+Rana&userId=be594c58dc55&source=post_page-be594c58dc55--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd6dd06d519e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-an-algorithm-pick-a-winning-nba-fantasy-draft-c05342f130f2&newsletterV3=be594c58dc55&newsletterV3Id=d6dd06d519e&user=Harsh+Rana&userId=be594c58dc55&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}