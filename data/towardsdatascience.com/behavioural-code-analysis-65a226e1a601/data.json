{"url": "https://towardsdatascience.com/behavioural-code-analysis-65a226e1a601", "time": 1683009319.903913, "path": "towardsdatascience.com/behavioural-code-analysis-65a226e1a601/", "webpage": {"metadata": {"title": "Behavioural Code Analysis 101: Leveraging Forensic Techniques | by Paulo Barbosa | Towards Data Science", "h1": "Behavioural Code Analysis 101: Leveraging Forensic Techniques", "description": "Behavioural Code Analysis is to Static Code Analysis as Cosmology is to Astronomy. It deals with the macroscale, the universe of the codebase \u2014 from its beginning to the current state, without\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Lehman%27s_laws_of_software_evolution", "anchor_text": "Lehmans Law Of Continuing Change", "paragraph_index": 7}, {"url": "https://ieeexplore.ieee.org/document/859533/", "anchor_text": "Research shows the number of changes to a file is a good indicator of declining quality, resulting in bugs.", "paragraph_index": 8}, {"url": "https://en.wikipedia.org/wiki/Principles_of_grouping", "anchor_text": "Principle of Proximity", "paragraph_index": 12}, {"url": "https://books.google.pt/books?id=-wOfDwAAQBAJ&pg=PA325&lpg=PA325&dq=%22The+gradual+process+through+which+unacceptable+practice+or+standards+become+acceptable.+As+the+deviant+behavior+is+repeated+without+catastrophic+results,+it+becomes+the+social+norm+for+the+organization%22&source=bl&ots=4pJ401-ALr&sig=ACfU3U12YlYpdtyw3t4mUHn6y6k7LqGT9A&hl=pt-PT&sa=X&ved=2ahUKEwiOzc-1sITqAhUc8uAKHcb5AYwQ6AEwAXoECAoQAQ#v=onepage&q=%22The%20gradual%20process%20through%20which%20unacceptable%20practice%20or%20standards%20become%20acceptable.%20As%20the%20deviant%20behavior%20is%20repeated%20without%20catastrophic%20results%2C%20it%20becomes%20the%20social%20norm%20for%20the%20organization%22&f=false", "anchor_text": "Normalization of Deviance:", "paragraph_index": 14}, {"url": "https://www.future-processing.com/blog/how-many-developers-are-there-in-the-world-in-2019/", "anchor_text": "and it\u2019s expected a 20% growth worldwide in the next four years", "paragraph_index": 18}, {"url": "https://dictionary.apa.org/process-loss", "anchor_text": "Process Loss", "paragraph_index": 19}, {"url": "https://dictionary.apa.org/bystander-effect", "anchor_text": "Bystander Effect", "paragraph_index": 19}, {"url": "https://dl.acm.org/doi/10.1145/1653662.1653717", "anchor_text": "Studies have shown that practising code-review, and having a principal maintainer has positive quality effects on the code.", "paragraph_index": 20}, {"url": "https://www.goodreads.com/book/show/23627482-your-code-as-a-crime-scene", "anchor_text": "Your Code As A Crime Scene", "paragraph_index": 21}, {"url": "https://www.goodreads.com/book/show/36517037-software-design-x-rays", "anchor_text": "Software Design X-Rays", "paragraph_index": 21}], "all_paragraphs": ["Behavioural Code Analysis is to Static Code Analysis as Cosmology is to Astronomy. It deals with the macroscale, the universe of the codebase \u2014 from its beginning to the current state, without forgetting the organizational apparatus behind the scenes.", "I\u2019ve used Sonarqube to help measure the technical debt in the React project. As a static analysis tool, it reports back with a list of files having the highest technical debt. The major one is renderer.js with nine issues, including duplication and useless assignments. But is this technical debt, and is it worth refactoring it?", "So my point here is that static analysis shouldn\u2019t be our north-star guiding our refactoring journey. It only tells us the symptoms our codebase has. Not the disease. A terrible looking code after refactoring may easily return to its previous state if you don\u2019t really know why it was in that state in the first place.", "Metrics such as the number of contributors, frequency of change, change coupling are fundamental in revealing if and why the code is rot. You can\u2019t just analyze file after file as individual pieces, as Sonarqube does, but as a network through behavioural analysis.", "\u201cA mess is not technical debt. It has no chance of paying in the future. A mess is always a loss.\u201d by Robert Martin.", "Technical debt, just like financial debts, becomes more expensive during time unless we recurrently pay for it. We do it because it\u2019s survival behaviour, a bet, to guarantee our software meets the short-term business expectations. The downside is the handicap implementation. Not correctly done to integrate other new features in the future easily.", "The more technical debt we have, the more closer to technical bankruptcy, a state where it is so stupidly long to integrate new features \u2014 that makes them not worthwhile.", "Be mindful of Lehmans Law Of Continuing Change, without new features your software becomes less useful. So how in the hell useless assignments are of technical debt? Well, we can\u2019t know just by looking at the code, we have to look at version-control tools that will inform us of how hard has been maintaining this file.", "Research shows the number of changes to a file is a good indicator of declining quality, resulting in bugs. And why wouldn\u2019t? If a class changes too frequently, isn\u2019t it perhaps that has too many responsibilities, or it\u2019s poorly understood. Besides, the places where we mostly work on are where refactoring will be most useful.", "Adam Thornhill calls it hotspots. React has a number of them, ExhaustiveDeps.js is one. These are potential refactoring targets that are breeding ground for buggy code. They are the result of both complex and active code.", "Then, we can start to determine the complexity trend of each potential refactoring target. Just like volcanos, we can categorize if the hotspot is active (that is, an increasing complexity trend), dormant (a constant complexity trend), or extinct (complexity trend has started to decrease). While the file ExhaustiveDeps.js is dormant, there are others, like ReactFiberWorkLoop.old.js, that are active. And if not attended, will continuously grow to unmaintainable.", "ReactFiberWorkLoop.old.js is 2759 lines of code with more than 50 functions in itself. Before grasping what all of its functions do, we can apply another technique to understand the dynamic behind the evolution of all these functions. That is, Change Coupling. It\u2019s sort of a shared-logic between two functions/files, in which if you change one of them you will likely have to change the other. Notice that this is different from the usual \u201ccoupling\u201d in software engineering because it\u2019s invisible, implicit in the code. We can only notice it by looking at the alterations done over time. Right away, it\u2019s noticeable a significant high coupling percentage, 47%, between the functions commitRootImpl and prepareFreshStack. Thus, this becomes our starting refactoring candidate.", "High coupling degree isn\u2019t necessarily wrong, in fact, it\u2019s expected within unit tests and their respective classes, but in other contexts, we have to start asking ourselves if it\u2019s easily perceptible. For instance, by following the Principle of Proximity, grouping functions that change together, we are conveying information that is not possible to express through code only.", "Altogether, through techniques such as Hotspots, Complexity Trend, and Change Coupling, we have a different perspective than Sonarqube initially gave us. This because the paradigm behind Behavioural Analysis is different from Sonarqube, where not all code is equally important in a maintenance perspective. Just because some code is bad, it doesn\u2019t mean it\u2019s a problem. It dramatically matters more the code we work the most.", "There will always be technical debt. The important is how we deal with it. Mother nature has long taught us to be adaptive to learn to live with tomorrow\u2019s unforeseen normal. And that\u2019s where lies the root-cause, the Normalization of Deviance:", "The gradual process through which unacceptable practice or standards become acceptable. As the deviant behavior is repeated without catastrophic results, it becomes the social norm for the organization.", "In the software domain, this means the moment we accept and continue to work with unusual functions/systems/behaviours they become the new normal, and other future deviations become another new normal, again and again. This phenomenon is borderless, even Nasa, where a single mistake may induce the loss of lives, has experienced it various times \u2014 Challenger, Columbia. Think about it, if this phenomenon has happened within Nasa organizational culture, why in the hell won\u2019t happen in our day-to-day projects. Nevertheless, the developer is the one to blame. Because there\u2019s no one else supposed to vindicate for good-looking maintainable code.", "\u201cThe extent to which you can implement new features without calling a grand staff meeting is the ultimate test of an architecture\u2019s success.\u201d by Adam Tornhill.", "The demographic of the software industry keeps on growing more and more since the 70s, and it\u2019s expected a 20% growth worldwide in the next four years. Meaning developing is becoming more and more teamwork.", "Nevertheless, Sociology has proven the more elements a team has, the more difficult it is to coordinate it, and more likely there will be communication gaps, known as Process Loss. Furthermore, we more susceptible when working in groups, because our values and decision making are suddenly influenced, whether you notice or not, by the group\u2019s behaviours. This phenomenon is commonly known as the Bystander Effect and is explained through two main social aspects.", "More than focusing on what to refactor, we shouldn\u2019t underestimate the organizational apparatus. Studies have shown that practising code-review, and having a principal maintainer has positive quality effects on the code. The problem isn\u2019t technical, it\u2019s a social one. We shouldn\u2019t rely only upon on ourselves because we\u2019re subjective, biased, and adaptive. But we can make use of unbiased, objective heuristics derived from Behavioural Analysis that tell what\u2019s happening behind the scenes.", "My learning path of Behavioural Code Analysis started from the Adam Tornhill books, Your Code As A Crime Scene and Software Design X-Rays. It was a journey where I\u2019ve learned much more about Social Side Of Code, how much powerful version-control tools are besides tracking the code itself. Finally, lead me to develop a new open-source tool that pretty much does the techniques underlined above.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F65a226e1a601&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbehavioural-code-analysis-65a226e1a601&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbehavioural-code-analysis-65a226e1a601&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbehavioural-code-analysis-65a226e1a601&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbehavioural-code-analysis-65a226e1a601&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----65a226e1a601--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----65a226e1a601--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@paulomiguelbarbosa?source=post_page-----65a226e1a601--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@paulomiguelbarbosa?source=post_page-----65a226e1a601--------------------------------", "anchor_text": "Paulo Barbosa"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd84f2716c0e8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbehavioural-code-analysis-65a226e1a601&user=Paulo+Barbosa&userId=d84f2716c0e8&source=post_page-d84f2716c0e8----65a226e1a601---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F65a226e1a601&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbehavioural-code-analysis-65a226e1a601&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F65a226e1a601&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbehavioural-code-analysis-65a226e1a601&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@grakozy?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Greg Rakozy"}, {"url": "https://unsplash.com/s/photos/astronomy?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://efficientuser.files.wordpress.com/2019/11/1_tecdebt.jpg?w=555", "anchor_text": "Relationship between technical debt and project life-cycle."}, {"url": "https://en.wikipedia.org/wiki/Lehman%27s_laws_of_software_evolution", "anchor_text": "Lehmans Law Of Continuing Change"}, {"url": "https://ieeexplore.ieee.org/document/859533/", "anchor_text": "Research shows the number of changes to a file is a good indicator of declining quality, resulting in bugs."}, {"url": "https://github.com/pbmiguel/behavioural-code-analyser", "anchor_text": "Hotspots Of React Displayed Through Kibana."}, {"url": "https://en.wikipedia.org/wiki/Principles_of_grouping", "anchor_text": "Principle of Proximity"}, {"url": "https://books.google.pt/books?id=-wOfDwAAQBAJ&pg=PA325&lpg=PA325&dq=%22The+gradual+process+through+which+unacceptable+practice+or+standards+become+acceptable.+As+the+deviant+behavior+is+repeated+without+catastrophic+results,+it+becomes+the+social+norm+for+the+organization%22&source=bl&ots=4pJ401-ALr&sig=ACfU3U12YlYpdtyw3t4mUHn6y6k7LqGT9A&hl=pt-PT&sa=X&ved=2ahUKEwiOzc-1sITqAhUc8uAKHcb5AYwQ6AEwAXoECAoQAQ#v=onepage&q=%22The%20gradual%20process%20through%20which%20unacceptable%20practice%20or%20standards%20become%20acceptable.%20As%20the%20deviant%20behavior%20is%20repeated%20without%20catastrophic%20results%2C%20it%20becomes%20the%20social%20norm%20for%20the%20organization%22&f=false", "anchor_text": "Normalization of Deviance:"}, {"url": "https://www.future-processing.com/blog/how-many-developers-are-there-in-the-world-in-2019/", "anchor_text": "and it\u2019s expected a 20% growth worldwide in the next four years"}, {"url": "https://dictionary.apa.org/process-loss", "anchor_text": "Process Loss"}, {"url": "https://dictionary.apa.org/bystander-effect", "anchor_text": "Bystander Effect"}, {"url": "https://dictionary.apa.org/pluralistic-ignorance", "anchor_text": "Pluralistic Ignorance"}, {"url": "https://dictionary.apa.org/diffusion-of-responsibility", "anchor_text": "Diffusion Of Responsibility"}, {"url": "https://unsplash.com/@soymeraki?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Javier Allegue Barros"}, {"url": "https://unsplash.com/s/photos/team?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://dl.acm.org/doi/10.1145/1653662.1653717", "anchor_text": "Studies have shown that practising code-review, and having a principal maintainer has positive quality effects on the code."}, {"url": "https://www.goodreads.com/book/show/23627482-your-code-as-a-crime-scene", "anchor_text": "Your Code As A Crime Scene"}, {"url": "https://www.goodreads.com/book/show/36517037-software-design-x-rays", "anchor_text": "Software Design X-Rays"}, {"url": "https://github.com/pbmiguel/behavioural-code-analyser", "anchor_text": "pbmiguel/behavioural-code-analyserThis tool leverages Kibana visualization features for a more customisable analysis experience.github.com"}, {"url": "https://medium.com/tag/behavioural-code-analysis?source=post_page-----65a226e1a601---------------behavioural_code_analysis-----------------", "anchor_text": "Behavioural Code Analysis"}, {"url": "https://medium.com/tag/sociology?source=post_page-----65a226e1a601---------------sociology-----------------", "anchor_text": "Sociology"}, {"url": "https://medium.com/tag/agile?source=post_page-----65a226e1a601---------------agile-----------------", "anchor_text": "Agile"}, {"url": "https://medium.com/tag/productivity?source=post_page-----65a226e1a601---------------productivity-----------------", "anchor_text": "Productivity"}, {"url": "https://medium.com/tag/software?source=post_page-----65a226e1a601---------------software-----------------", "anchor_text": "Software"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F65a226e1a601&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbehavioural-code-analysis-65a226e1a601&user=Paulo+Barbosa&userId=d84f2716c0e8&source=-----65a226e1a601---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F65a226e1a601&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbehavioural-code-analysis-65a226e1a601&user=Paulo+Barbosa&userId=d84f2716c0e8&source=-----65a226e1a601---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F65a226e1a601&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbehavioural-code-analysis-65a226e1a601&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----65a226e1a601--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F65a226e1a601&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbehavioural-code-analysis-65a226e1a601&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----65a226e1a601---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----65a226e1a601--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----65a226e1a601--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----65a226e1a601--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----65a226e1a601--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----65a226e1a601--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----65a226e1a601--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----65a226e1a601--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----65a226e1a601--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@paulomiguelbarbosa?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@paulomiguelbarbosa?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Paulo Barbosa"}, {"url": "https://medium.com/@paulomiguelbarbosa/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "40 Followers"}, {"url": "https://www.linkedin.com/in/paulo-miguel-barbosa/", "anchor_text": "https://www.linkedin.com/in/paulo-miguel-barbosa/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd84f2716c0e8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbehavioural-code-analysis-65a226e1a601&user=Paulo+Barbosa&userId=d84f2716c0e8&source=post_page-d84f2716c0e8--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fcbe1e3c2132a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbehavioural-code-analysis-65a226e1a601&newsletterV3=d84f2716c0e8&newsletterV3Id=cbe1e3c2132a&user=Paulo+Barbosa&userId=d84f2716c0e8&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}