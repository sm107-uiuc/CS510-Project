{"url": "https://towardsdatascience.com/secure-your-data-tool-part-1-2-1585029d59e9", "time": 1683003848.355197, "path": "towardsdatascience.com/secure-your-data-tool-part-1-2-1585029d59e9/", "webpage": {"metadata": {"title": "Secure your Data Tool with a Password | by Adam Barnhard | Towards Data Science", "h1": "Secure your Data Tool with a Password", "description": "TL;DR: NGINX is a quick and easy way to access a data science tool (such as Airflow or any web app) in a secure way, without requiring a full web development skill set. Picture this\u2026 you are a data\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/mlflow/mlflow/", "anchor_text": "MLflow", "paragraph_index": 1}, {"url": "https://github.com/apache/airflow", "anchor_text": "Apache Airflow", "paragraph_index": 1}, {"url": "https://github.com/jupyterhub/jupyterhub", "anchor_text": "JupyterHub", "paragraph_index": 1}, {"url": "https://adataguru.net/setup-airflow/", "anchor_text": "Here", "paragraph_index": 4}, {"url": "https://www.nginx.com/", "anchor_text": "NGINX", "paragraph_index": 6}, {"url": "https://httpd.apache.org/docs/2.4/programs/htpasswd.html", "anchor_text": "htpasswd", "paragraph_index": 8}, {"url": "http://nginx.org/en/docs/beginners_guide.html", "anchor_text": "here", "paragraph_index": 12}, {"url": "https://stackoverflow.com/questions/21812360/what-is-the-difference-between-sites-enabled-and-sites-available-directory", "anchor_text": "why?", "paragraph_index": 12}, {"url": "https://www.cyberciti.biz/faq/nginx-linux-restart/", "anchor_text": "here", "paragraph_index": 14}, {"url": "https://www.digitalocean.com/community/tutorials/how-to-set-up-basic-http-authentication-with-nginx-on-ubuntu-14-04", "anchor_text": "here", "paragraph_index": 24}, {"url": "https://www.nginx.com/blog/using-free-ssltls-certificates-from-lets-encrypt-with-nginx/", "anchor_text": "here", "paragraph_index": 25}], "all_paragraphs": ["TL;DR: NGINX is a quick and easy way to access a data science tool (such as Airflow or any web app) in a secure way, without requiring a full web development skill set.", "Picture this\u2026 you are a data scientist that has a gnarly problem to solve and you discover an awesome, open source tool that will solve this problem. Maybe you are hoping to start tracking different model versions with MLflow\u2026 or you want to set up data pipelines with Apache Airflow\u2026 or you want to start collaborating in JupyterHub. Each of these tools has a super easy setup guide. You run a few bash commands and you point your web browser to localhost:port and you are up and running.", "Let\u2019s assume you are using Airflow. After poking around with it locally, you want to start using Airflow on a regular basis and/or share with other folks on your team. To do this you can use a virtual machine managed by a cloud provider (such as AWS EC2 or GCP Compute Engine) and follow similar steps as you did on the local machine. Once airflow is up and running, you need to be able to access through a web address, without giving the entire internet access. As a data scientist with limited web security experience, this can be a daunting task the first time. This tutorial will show you how to quickly host Airflow on a virtual machine in a secure manner, without being a security or web engineer! You can also easily apply these methods to other data science tools.", "Disclaimer: This guide is meant as an easy way to set up password protection for a data scientist. Always make sure to check with your internal (or an external) security expert before using these methods for sensitive user or company data or systems. #ProtectYoData", "This tutorial assumes you have an Apache Airflow app running on an EC2 box already. Here is a great example for Apache Airflow. Many other data science tools have similar tutorials on how to set things up! You should also be fairly familiar with bash scripting. We are using Ubuntu on an EC2 instance for this tutorial.", "You should be able to access your web app on the internet through http://<webserver_location>:port at this point (this access can be set up through security groups \u2014 more info below!). At this point, there is no password protection in front of Airflow and your browser indicates that your connection is not secure.", "NGINX (pronounced \u201cengine x\u201d) is a nifty, powerful, full-featured web server that provides a lot of great functionality to web developers. This means that the small amount of functionality that a data scientist needs is actually pretty challenging to set up. You can use this for a few key pieces of functionality:", "NGINX is free and open source. To install NGINX on an Ubuntu server, run:", "htpasswd is a super-simple system to manage user lists and passwords for authentication. We will use htpasswd to manage usernames and passwords for the users that will access Airflow. To install htpasswd, run", "You\u2019ve probably already made it here already if you Airflow running, but you\u2019ll need to have access to the Input/Output port security settings in AWS to complete this tutorial. If you have an admin-level account on AWS, you should have no issue accessing this. If you have lesser access, ask your administrator to give you EC2 Security Group access.", "Below, you\u2019ll see open access for port 8080 (which will point to Airflow without a password), port 22 (which is automatically enabled for SSH), and port 8081 (which will point to Airflow with password protection).", "To add access to these ports, simply edit the Inbound list and hit \u201cAdd Rule\u201d. Next select \u201cCustom TCP Rule\u201d from the drop down list, add your port number, and specify who should be able to access. You can choose between Open Access, your current IP, and a custom IP address. Be careful with Open Access \u2014 anyone on the internet would then be able to access! Here, we are setting up Open Access for port 8081.", "NGINX is managed through a series of configurations. Under the default install with Ubuntu, these configurations will be available in /etc/nginx (can\u2019t find this file? More details here). You\u2019ll see a variety of directories and files within this configuration file. The one you care about is called sites-enabled (why?). Within that directory, you\u2019ll find default which is \u2014 you guessed it \u2014 the default configuration file. Go ahead and open up that file. To keep things clean and less overwhelming, let\u2019s go ahead and delete everything in this file (Hint: If you are using vim, type dG).", "To make sure NGINX is working, we are going to setup a super-simple \u201cproxy pass\u201d that will take a web server running on 8080 and instead \u201cpass\u201d it to 8081. To do this paste the following into the newly cleared default file:", "After you save and exit that file, you\u2019ll need to restart NGINX using sudo service nginx restart (does that not work for you? More options here). Assuming no errors pop up, your newly minted proxy pass should now be working! If not, check your security group settings (discussed a little earlier) to make sure port 8081 is accessible. This means that you should be able to access airflow from port 8081 now as well:", "Note: Airflow is now still available on port 8080, but is now also available on port 8081.", "Next, we want to add a username and password authentication to our new proxy pass to port 8081. We will use htpasswd to manage the username and passwords, which NGINX will reference.", "First, let\u2019s set up our first new user. To do this, run the following command:", "-c should only be added the first time, and not when you add new users later, /etc/.htpasswd can be any file location, please be careful of where you place this!testuser is the username.", "This will prompt you to enter a password and confirm that password! This command sets up a plain text file string with your username:password combos. Although the passwords are stored in an encrypted format, still make sure to be careful of who has access to this file.", "To add an additional username and password, simply re-run the command above without the -c:", "Now that we have our user(s) setup, we should head back to the default NGINX configuration file. We need to add two new lines. The first sets up the login prompt text and the second references the recently-created password file:", "With every update to the NGINX configuration files, we need to restart the service with sudo service NGINX restart. Now head to port 8081 and you\u2019ll see the newly secured webpage:", "Now that you have a password set up on port 8081, you can go ahead and remove access to port 8080 through the security group settings. Now users will only be able to access Airflow through the password-secure link!", "For more details on this section, there\u2019s another great tutorial here.", "NOTE: at this point, anyone snooping on your connection could steal your password in transit. That\u2019s why there\u2019s a note about \u201cYour connection to this site is not private.\u201d To avoid this, you should only use this on secured, trusted wifi networks or use a VPN. You can also setup HTTPs with your own domain name so that this concern goes away. NGINX has a great tutorial here.", "Questions, thoughts, mistakes? Please let me know in the comments. Thanks for reading!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1585029d59e9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecure-your-data-tool-part-1-2-1585029d59e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecure-your-data-tool-part-1-2-1585029d59e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecure-your-data-tool-part-1-2-1585029d59e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecure-your-data-tool-part-1-2-1585029d59e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----1585029d59e9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1585029d59e9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@abarnhard?source=post_page-----1585029d59e9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@abarnhard?source=post_page-----1585029d59e9--------------------------------", "anchor_text": "Adam Barnhard"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4b9f9e5f2a99&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecure-your-data-tool-part-1-2-1585029d59e9&user=Adam+Barnhard&userId=4b9f9e5f2a99&source=post_page-4b9f9e5f2a99----1585029d59e9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1585029d59e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecure-your-data-tool-part-1-2-1585029d59e9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1585029d59e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecure-your-data-tool-part-1-2-1585029d59e9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@theframedbear?utm_source=medium&utm_medium=referral", "anchor_text": "The Framed Bear"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://github.com/mlflow/mlflow/", "anchor_text": "MLflow"}, {"url": "https://github.com/apache/airflow", "anchor_text": "Apache Airflow"}, {"url": "https://github.com/jupyterhub/jupyterhub", "anchor_text": "JupyterHub"}, {"url": "https://adataguru.net/setup-airflow/", "anchor_text": "Here"}, {"url": "https://www.nginx.com/", "anchor_text": "NGINX"}, {"url": "https://www.nginx.com/blog/using-free-ssltls-certificates-from-lets-encrypt-with-nginx/", "anchor_text": "this tutorial"}, {"url": "https://httpd.apache.org/docs/2.4/programs/htpasswd.html", "anchor_text": "htpasswd"}, {"url": "http://nginx.org/en/docs/beginners_guide.html", "anchor_text": "here"}, {"url": "https://stackoverflow.com/questions/21812360/what-is-the-difference-between-sites-enabled-and-sites-available-directory", "anchor_text": "why?"}, {"url": "https://www.cyberciti.biz/faq/nginx-linux-restart/", "anchor_text": "here"}, {"url": "https://www.digitalocean.com/community/tutorials/how-to-set-up-basic-http-authentication-with-nginx-on-ubuntu-14-04", "anchor_text": "here"}, {"url": "https://www.nginx.com/blog/using-free-ssltls-certificates-from-lets-encrypt-with-nginx/", "anchor_text": "here"}, {"url": "https://medium.com/tag/nginx?source=post_page-----1585029d59e9---------------nginx-----------------", "anchor_text": "Nginx"}, {"url": "https://medium.com/tag/airflow?source=post_page-----1585029d59e9---------------airflow-----------------", "anchor_text": "Airflow"}, {"url": "https://medium.com/tag/authentication?source=post_page-----1585029d59e9---------------authentication-----------------", "anchor_text": "Authentication"}, {"url": "https://medium.com/tag/data-science?source=post_page-----1585029d59e9---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1585029d59e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecure-your-data-tool-part-1-2-1585029d59e9&user=Adam+Barnhard&userId=4b9f9e5f2a99&source=-----1585029d59e9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1585029d59e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecure-your-data-tool-part-1-2-1585029d59e9&user=Adam+Barnhard&userId=4b9f9e5f2a99&source=-----1585029d59e9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1585029d59e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecure-your-data-tool-part-1-2-1585029d59e9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1585029d59e9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1585029d59e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecure-your-data-tool-part-1-2-1585029d59e9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1585029d59e9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1585029d59e9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1585029d59e9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1585029d59e9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1585029d59e9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1585029d59e9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1585029d59e9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1585029d59e9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1585029d59e9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@abarnhard?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@abarnhard?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Adam Barnhard"}, {"url": "https://medium.com/@abarnhard/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "122 Followers"}, {"url": "https://booklet.ai", "anchor_text": "https://booklet.ai"}, {"url": "https://www.linkedin.com/in/adammbarnhard/", "anchor_text": "https://www.linkedin.com/in/adammbarnhard/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4b9f9e5f2a99&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecure-your-data-tool-part-1-2-1585029d59e9&user=Adam+Barnhard&userId=4b9f9e5f2a99&source=post_page-4b9f9e5f2a99--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fbf8b5395a511&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecure-your-data-tool-part-1-2-1585029d59e9&newsletterV3=4b9f9e5f2a99&newsletterV3Id=bf8b5395a511&user=Adam+Barnhard&userId=4b9f9e5f2a99&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}