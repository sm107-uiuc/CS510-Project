{"url": "https://towardsdatascience.com/audio-onset-detection-data-preparation-for-a-baseball-application-using-librosa-7f9735430c17", "time": 1683013690.6472309, "path": "towardsdatascience.com/audio-onset-detection-data-preparation-for-a-baseball-application-using-librosa-7f9735430c17/", "webpage": {"metadata": {"title": "Audio Onset Detection: Data preparation for a baseball application using Librosa | by C K | Towards Data Science", "h1": "Audio Onset Detection: Data preparation for a baseball application using Librosa", "description": "Identify the start and finish of each batting and cut down the clip automatically based on the sound of batting"}, "outgoing_paragraph_urls": [{"url": "https://tht.fangraphs.com/building-a-robot-umpire-with-deep-learning-video-analysis/", "anchor_text": "Building a Robot Umpire with Deep Learning Video Analysis", "paragraph_index": 4}, {"url": "https://musicinformationretrieval.com/onset_detection.html", "anchor_text": "this one", "paragraph_index": 5}, {"url": "https://pythonhosted.org/pafy/", "anchor_text": "pafy", "paragraph_index": 6}, {"url": "https://librosa.org/doc/latest/index.html", "anchor_text": "librosa", "paragraph_index": 8}, {"url": "https://librosa.org/doc/latest/generated/librosa.onset.onset_detect.html#librosa.onset.onset_detect", "anchor_text": "doc", "paragraph_index": 12}, {"url": "https://www.youtube.com/watch?v=dbZy8Q6J7pw&feature=youtu.be&t=29", "anchor_text": "example", "paragraph_index": 19}], "all_paragraphs": ["I wish to build a deep learning project for a baseball application, one of the challenges is the data collection. I need a lot of short clips of batters hitting baseballs. But I could not find this kind of dataset online, therefore, I decided to collect and make the dataset myself.", "Most of the baseball batting video I found contains several times of batting in one long video clip, for example:", "I need to find the batting moments and cut them down and split them into short clips. One straightforward approach is just to do it manually, but it is very time consuming and tiring.", "I need a tool to do this job automatically.", "Inspired by Roger Cheng\u2019s work \u201cBuilding a Robot Umpire with Deep Learning Video Analysis\u201d, I decided to try \u201conset detection\u201d.", "After some researches and reading tutorials like this one, I used librosa\u2019s onset detection function for the work.", "The first step is to download and load the video from YouTube. I used pafy to do it.", "The video is now downloaded and saved as \u2018\u2019batting_pratice.mp4\u2019", "Then I can load the audio using librosa.", "and play it if you are interested in it.", "You can see there are some spikes, which are the sound of hitting the ball. The job is to identify the time of them.", "One additional step is to filter some low-frequency noise using a high-pass filter. It can be done using scipy.", "Then we can start the onset detection, we are using librosa.onset. The details introduction can be found in their doc.", "After this, we should see the peaks stored in onset_frames.", "We can then plot it and check.", "Looks like we identify all of the onsets.", "Now we can convert the onset_frames to time:", "This returns an array of times.", "Then we can put the data into a dataframe and created the youtube URLs to those specific timing.", "Check one of them for example. It is working!", "Then we can cut the video into short clips using the timings. I want 3-second clips, so I start from the (onset time -1.5) to (onset time +1.5). It can be done using ffmpeg.", "Now I have the tool to detect a batting based on the sound and cut it automatically. The next step will be collecting more data using this tool for further training.", "Thanks for reading. Suggestions and comments are welcome.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7f9735430c17&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faudio-onset-detection-data-preparation-for-a-baseball-application-using-librosa-7f9735430c17&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faudio-onset-detection-data-preparation-for-a-baseball-application-using-librosa-7f9735430c17&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faudio-onset-detection-data-preparation-for-a-baseball-application-using-librosa-7f9735430c17&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faudio-onset-detection-data-preparation-for-a-baseball-application-using-librosa-7f9735430c17&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----7f9735430c17--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7f9735430c17--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@c.kuan?source=post_page-----7f9735430c17--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@c.kuan?source=post_page-----7f9735430c17--------------------------------", "anchor_text": "C K"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd655d41bf524&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faudio-onset-detection-data-preparation-for-a-baseball-application-using-librosa-7f9735430c17&user=C+K&userId=d655d41bf524&source=post_page-d655d41bf524----7f9735430c17---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7f9735430c17&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faudio-onset-detection-data-preparation-for-a-baseball-application-using-librosa-7f9735430c17&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7f9735430c17&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faudio-onset-detection-data-preparation-for-a-baseball-application-using-librosa-7f9735430c17&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@chris_chow?utm_source=medium&utm_medium=referral", "anchor_text": "Chris Chow"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://tht.fangraphs.com/building-a-robot-umpire-with-deep-learning-video-analysis/", "anchor_text": "Building a Robot Umpire with Deep Learning Video Analysis"}, {"url": "https://musicinformationretrieval.com/onset_detection.html", "anchor_text": "this one"}, {"url": "https://pythonhosted.org/pafy/", "anchor_text": "pafy"}, {"url": "https://librosa.org/doc/latest/index.html", "anchor_text": "librosa"}, {"url": "https://librosa.org/doc/latest/generated/librosa.onset.onset_detect.html#librosa.onset.onset_detect", "anchor_text": "doc"}, {"url": "https://www.youtube.com/watch?v=dbZy8Q6J7pw&feature=youtu.be&t=29", "anchor_text": "example"}, {"url": "https://medium.com/@c.kuan/membership", "anchor_text": "https://medium.com/@c.kuan/membership"}, {"url": "https://medium.com/tag/data-science?source=post_page-----7f9735430c17---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----7f9735430c17---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----7f9735430c17---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----7f9735430c17---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/sports?source=post_page-----7f9735430c17---------------sports-----------------", "anchor_text": "Sports"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7f9735430c17&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faudio-onset-detection-data-preparation-for-a-baseball-application-using-librosa-7f9735430c17&user=C+K&userId=d655d41bf524&source=-----7f9735430c17---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7f9735430c17&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faudio-onset-detection-data-preparation-for-a-baseball-application-using-librosa-7f9735430c17&user=C+K&userId=d655d41bf524&source=-----7f9735430c17---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7f9735430c17&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faudio-onset-detection-data-preparation-for-a-baseball-application-using-librosa-7f9735430c17&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7f9735430c17--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F7f9735430c17&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faudio-onset-detection-data-preparation-for-a-baseball-application-using-librosa-7f9735430c17&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----7f9735430c17---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----7f9735430c17--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----7f9735430c17--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7f9735430c17--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7f9735430c17--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7f9735430c17--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7f9735430c17--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7f9735430c17--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7f9735430c17--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@c.kuan?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@c.kuan?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "C K"}, {"url": "https://medium.com/@c.kuan/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "268 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd655d41bf524&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faudio-onset-detection-data-preparation-for-a-baseball-application-using-librosa-7f9735430c17&user=C+K&userId=d655d41bf524&source=post_page-d655d41bf524--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe796e256f1d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faudio-onset-detection-data-preparation-for-a-baseball-application-using-librosa-7f9735430c17&newsletterV3=d655d41bf524&newsletterV3Id=e796e256f1d1&user=C+K&userId=d655d41bf524&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}