{"url": "https://towardsdatascience.com/large-scale-distributed-randomforest-with-kubernetes-operator-797c68c065c", "time": 1683018430.109687, "path": "towardsdatascience.com/large-scale-distributed-randomforest-with-kubernetes-operator-797c68c065c/", "webpage": {"metadata": {"title": "Large Scale Distributed RandomForest with Kubernetes Operator | by Chen Yanhui | Towards Data Science", "h1": "Large Scale Distributed RandomForest with Kubernetes Operator", "description": "A few days ago I was exploring the RandomForest model with a huge dataset. To my disappointment, the training data couldn\u2019t fit into the memory of the single working node. I had to manually split the\u2026"}, "outgoing_paragraph_urls": [{"url": "https://sdk.operatorframework.io/", "anchor_text": "operator-sdk", "paragraph_index": 2}, {"url": "https://github.com/ahhuisg/distributed-training", "anchor_text": "here", "paragraph_index": 2}, {"url": "https://github.com/ahhuisg/distributed-training/blob/main/notebook/distributed_randomforest.ipynb", "anchor_text": "notebook", "paragraph_index": 11}], "all_paragraphs": ["A few days ago I was exploring the RandomForest model with a huge dataset. To my disappointment, the training data couldn\u2019t fit into the memory of the single working node. I had to manually split the training data to train a few RandomForest models, before combining the models into a single one.", "This prompted me to an idea: can I come up with a framework to automate and distribute the trainings for ensemble-able models with huge datasets? I could just prepare and submit a simple configuration file and the framework will orchestrate, monitor and distribute the trainings and produce the model artifact automatically.", "After a few days of research and implementation, I have come up with the first version of such a framework, which is a Kubernetes Operator. I have made use of operator-sdk (0.19.4) and the Kubernetes cluster (1.16.15) from GCP. The operator fulfills the basic requirements for the automation of the distributed training, although there is still much room for improvement. The github repository is here.", "In the following sections, I will explain what Kubernetes Operator is, followed by what the DistributedTraining Operator looks like. And finally, I will also show you how to set up the Operator in your own cluster.", "In a nutshell, a Kubernetes operator is an application-specific controller that extends the functionality of the Kubernetes API to create, configure, and manage instances of complex applications on behalf of a Kubernetes user.", "You might be familiar with the basic Kubernetes concepts like Pod, Deploy, Service etc. These are the built-in Kubernetes API Resources. However, automating and managing complex stateful applications have become and hassle in the early days of Kubernetes.", "Since version 1.7, Kubernetes introduced an API plugin mechanism: Custom Resource Definition or CRD. CRD allows user to specify their own API Resource (Customer Resource). Kubernetes Operator makes use of custom Kubernetes controller and Custom Resource (CR) to manage applications and their components.", "In my example, the Custom Resource is called DistributedTraining, which consist of 1 master Deployment & Service with 1 Pod, and 1 worker Deployment with user-specified number of Pods. The Operator automatically orchestrate, monitor and manage all the components and the working relationships among them.", "Below is the working flow of whole process. What user needs to do is just to specify and submit the configuration file. The Operator will take care of the rest of the steps.", "As you can see that the YAML configuration file is fairly straight -forward. After preparing the training data in the GCS bucket, you just need to specify the model-related values, the bucket name as well as the number of workers, depending on the Kubernetes capacity and your requirements. Then you could just submit the file to the cluster (kubectl apply -f <file_name>) and wait for the model artifact to be available.", "Using a simulated dataset of 40,000 data points, I have validated the models from the 3 sources:", "Please refer to this notebook for further reference", "In this article, I have introduced the Kubernetes Operator that I developed for Distributed Training of ML models. Kubernetes is a very popular and powerful platform for automatically orchestrating and managing distributed workloads. The declarative nature of workloads in Kubernetes, plus its exceptional capability for defining and managing complex relationship within applications, make Kubernetes one of the most suitable tools for handling complicated ML workloads. I hope this small little tool could make your life easier if you have similar use cases!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F797c68c065c&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flarge-scale-distributed-randomforest-with-kubernetes-operator-797c68c065c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flarge-scale-distributed-randomforest-with-kubernetes-operator-797c68c065c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flarge-scale-distributed-randomforest-with-kubernetes-operator-797c68c065c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flarge-scale-distributed-randomforest-with-kubernetes-operator-797c68c065c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----797c68c065c--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----797c68c065c--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://sgmle.medium.com/?source=post_page-----797c68c065c--------------------------------", "anchor_text": ""}, {"url": "https://sgmle.medium.com/?source=post_page-----797c68c065c--------------------------------", "anchor_text": "Chen Yanhui"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa77da8047f57&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flarge-scale-distributed-randomforest-with-kubernetes-operator-797c68c065c&user=Chen+Yanhui&userId=a77da8047f57&source=post_page-a77da8047f57----797c68c065c---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F797c68c065c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flarge-scale-distributed-randomforest-with-kubernetes-operator-797c68c065c&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F797c68c065c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flarge-scale-distributed-randomforest-with-kubernetes-operator-797c68c065c&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://sdk.operatorframework.io/", "anchor_text": "operator-sdk"}, {"url": "https://github.com/ahhuisg/distributed-training", "anchor_text": "here"}, {"url": "https://github.com/ahhuisg/distributed-training", "anchor_text": "https://github.com/ahhuisg/distributed-training"}, {"url": "https://github.com/ahhuisg/distributed-training/blob/main/notebook/distributed_randomforest.ipynb", "anchor_text": "notebook"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----797c68c065c---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----797c68c065c---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning-engineer?source=post_page-----797c68c065c---------------machine_learning_engineer-----------------", "anchor_text": "Machine Learning Engineer"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F797c68c065c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flarge-scale-distributed-randomforest-with-kubernetes-operator-797c68c065c&user=Chen+Yanhui&userId=a77da8047f57&source=-----797c68c065c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F797c68c065c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flarge-scale-distributed-randomforest-with-kubernetes-operator-797c68c065c&user=Chen+Yanhui&userId=a77da8047f57&source=-----797c68c065c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F797c68c065c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flarge-scale-distributed-randomforest-with-kubernetes-operator-797c68c065c&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----797c68c065c--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F797c68c065c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flarge-scale-distributed-randomforest-with-kubernetes-operator-797c68c065c&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----797c68c065c---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----797c68c065c--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----797c68c065c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----797c68c065c--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----797c68c065c--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----797c68c065c--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----797c68c065c--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----797c68c065c--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----797c68c065c--------------------------------", "anchor_text": ""}, {"url": "https://sgmle.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://sgmle.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Chen Yanhui"}, {"url": "https://sgmle.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "24 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa77da8047f57&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flarge-scale-distributed-randomforest-with-kubernetes-operator-797c68c065c&user=Chen+Yanhui&userId=a77da8047f57&source=post_page-a77da8047f57--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fa77da8047f57%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flarge-scale-distributed-randomforest-with-kubernetes-operator-797c68c065c&user=Chen+Yanhui&userId=a77da8047f57&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}