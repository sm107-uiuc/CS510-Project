{"url": "https://towardsdatascience.com/quality-assurance-for-artificial-intelligence-d935fc6b238", "time": 1683004587.6545951, "path": "towardsdatascience.com/quality-assurance-for-artificial-intelligence-d935fc6b238/", "webpage": {"metadata": {"title": "Quality Assurance for Artificial Intelligence | by Michael Perlin | Towards Data Science", "h1": "Quality Assurance for Artificial Intelligence", "description": "Let\u2019s introduce an example AI project to explain relevant terms (data science people can skip it). Imagine you run a bakery. So you want to know every morning how much bread to bake. For this, you\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/@perlinmi/quality-assurance-for-artificial-intelligence-part-2-d20e0ef9791e", "anchor_text": "next post", "paragraph_index": 26}], "all_paragraphs": ["This is the first post in my series on how to test systems which leverage machine learning.", "Let\u2019s introduce an example AI project to explain relevant terms (data science people can skip it). Imagine you run a bakery. So you want to know every morning how much bread to bake. For this, you use historical data, which you collect before, like:", "Predicting by just date is hardly feasible, but you notice that your demand depends on:", "So you add columns with values for every day. You call the column you\u2019re predicting the \u201ctarget\u201d and the columns you\u2019re using for predictions the \u201cfeatures\u201d.", "So you give your data to a guy who calls him/herself a data scientist and ask them to create something for predicting the demand \u2014 the data scientist calls this the \u201cmodel\u201d. You can imagine a model to be a decision tree which will be created by an algorithm using your data. After the model is delivered, you need to know if you can trust it (blindly) and use the predictions in your daily work.", "To answer this question, we focus on the methodical part and consider the model itself to be a black box. This should give guidance to QA, managers, developers and infrastructure people who need to ensure the quality of software which uses AI. I\u2019m convinced that an understanding of QA and common sense are sufficient prerequisites for this if you learn the playbook of how AI models are developed. You don\u2019t need to take additional classes in math, statistics or deep learning.", "I also want to provide ideas and best practices for data scientists, as they often have to ensure the quality of the data and models by themselves. Especially if your experience comes primarily from ML classes, research or Kaggle challenges, which cover only a part of the model lifecycle, you may be interested in additional QA techniques needed when working in the industry.", "From a lifecycle perspective, AI projects usually involve 3 stages:", "Thus, QA performs different checks or reviews depending on stage:", "Some QA steps come down to a check comparing a metric of your data or model to a predefined value or threshold. Others are rather analyses or reviews, requiring time, manual effort, domain knowledge and common sense.", "The chance that you won\u2019t need to retrain your model once it is live, even if the approach and the tools stay the same, is close to zero. Apart from technological changes and new requirements, there are some reasons specific to AI:", "The frequency of model updating depends on the use case and may range from hours to years. This frequency has a heavy impact on the level of automation you need for the flow from raw data to the new production-stage model. You can implement this automation in different ways which is a separate topic not considered here. But, in any case, you must provide the same level of automation for QA checks. This way, you make QA an unavoidable step properly integrated in the model development process.", "Imagine you have a nightly running script flow which collects data from different sources, starts the model training, builds the service with the new model and replaces the old version of this service. In this case, checks for data and model quality must be scripts running as part of your flow and raising a red flag if defined conditions are not met.", "In very rare cases like our small bakery, all the data used in a model may come from a single source. For companies which are at least middle-sized, the data which is useful for predictions may be spread over multiple systems. In an average e-commerce company, the CRM knows about customer\u2019s demographic data, the payment system about their buying behaviour, the web tracking system knows what they search for, the inventory system knows about the product you offer, and in addition, you want to use weather data from an external service. So most of the data takes a non-trivial multistep path before data science touches it. Whether that path involves manual operations or is fully automated with ETL tools \u2014 something can go wrong. And source systems may contain errors as well. So we need a set of \u201centrance checks\u201d before training the model.", "Let us assume the data collection run is complete (we consider it to be a black box, leaving the details to data engineers) and you have a freshly updated table with customers or a folder with images.", "The easiest types of checks are statistics-based. Once the data collection process is implemented, verify the correctness of final results manually, i.e. by tracking selected entries in the source and target system (if your data engineering colleagues already did this, you\u2019re lucky). Once that is verified, count entities which are important for model training (accounts, images, customer reviews, audio files). Introduce thresholds as to how many of them must be available to assume that data collection worked without major errors.", "Consider calculating further statistics which should not change significantly for your data in the long term: how your accounts are distributed by gender, what is the average review length, what is the most frequent image type, etc. For every statistic, define a threshold or range which will be validated before model training.", "You may want to know how many records (at least as an order of magnitude) are sufficient to train a good enough model. It\u2019s hardly possible to get this number just out of problem description and data. Let\u2019s judge the accuracy of the model after training; we will address that in the next blog post.", "As next step think if you really want to use all available records in your model. Entries you will most likely fix or get rid of before training the model are:", "Perform some exploratory data analysis. For every column/feature used in your model, you should know what exactly it means and what values it can take. Maybe a piece of documentation will be around, maybe it will be up-to-date. But don\u2019t assume everything to be correct and aligned with documentation.", "For numeric columns like \u201cage\u201d, build a histogram. For categorical columns like \u201ceducation\u201d, list all possible values. To discover duplicates, check the uniqueness of technical keys and maybe also of some set of features (like the name and address for a customer).", "Another, more advanced way to discover strange records is \u201canomaly detection.\u201d Imagine a customer who is 21 years old, has a PhD and 10 years of work experience. All the 3 data points are fine in themselves, but their combination is very unlikely; we can assume somebody just entered the wrong age. Discovering anomalies like this is a pure machine learning topic with a lot of great papers about it.", "If your data landscape is old enough, you likely discover a lot of issues. For some of them the explanation will be easy to find or obvious \u2014 but most likely not for all the issues. A lot of questions like \u201ca record with this date looks strange, should I fix it or filter it out or leave it as it is?\u201d will remain, and the only way I know is to get up from your chair and go ask some questions. Good candidates to ask are:", "We just briefly touch upon this topic as it is mostly about data science and less about QA. Once you discover an issue, consider addressing it at its origin \u2014 a duplicate user record should be fixed directly in the CRM, a wrong aggregation of payments must be repaired in the ETL part. But you still should assume upstream systems as having data issues (one will be fixed but another will arise by implementing a new feature), and have checks and/or fixes for them.", "If the issue has an explanation but is not repairable (in the short term), which is often the case, you should fix it in order to prevent an impact of wrong data on your model. The fix is usually about", "In any case, cleaning every data issue is not mandatory for proceeding; a subset of your data may do for training as well. So fix first the issues which are (1) about important features (2) occur frequently and (3) easy to fix \u2014 and then train your model candidate. If it won\u2019t show sufficient quality, you can go after harder issues.", "Now we\u2019re done with QA for the dataset and can proceed with building a model. QA for models will be the topic of our next post.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fd935fc6b238&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquality-assurance-for-artificial-intelligence-d935fc6b238&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquality-assurance-for-artificial-intelligence-d935fc6b238&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquality-assurance-for-artificial-intelligence-d935fc6b238&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquality-assurance-for-artificial-intelligence-d935fc6b238&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----d935fc6b238--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d935fc6b238--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://perlinmi.medium.com/?source=post_page-----d935fc6b238--------------------------------", "anchor_text": ""}, {"url": "https://perlinmi.medium.com/?source=post_page-----d935fc6b238--------------------------------", "anchor_text": "Michael Perlin"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fac34e734f49f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquality-assurance-for-artificial-intelligence-d935fc6b238&user=Michael+Perlin&userId=ac34e734f49f&source=post_page-ac34e734f49f----d935fc6b238---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd935fc6b238&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquality-assurance-for-artificial-intelligence-d935fc6b238&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd935fc6b238&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquality-assurance-for-artificial-intelligence-d935fc6b238&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/@perlinmi/quality-assurance-for-artificial-intelligence-part-2-d20e0ef9791e", "anchor_text": "next post"}, {"url": "https://medium.com/@perlinmi/quality-assurance-for-artificial-intelligence-part-3-b90392789058", "anchor_text": "last post"}, {"url": "https://medium.com/@perlinmi/quality-assurance-for-artificial-intelligence-part-2-d20e0ef9791e", "anchor_text": "next post"}, {"url": "https://www.flickr.com/photos/biodivlibrary/albums/page1", "anchor_text": "Biodiversity Heritage Library"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----d935fc6b238---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/quality-assurance?source=post_page-----d935fc6b238---------------quality_assurance-----------------", "anchor_text": "Quality Assurance"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----d935fc6b238---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/monitoring?source=post_page-----d935fc6b238---------------monitoring-----------------", "anchor_text": "Monitoring"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd935fc6b238&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquality-assurance-for-artificial-intelligence-d935fc6b238&user=Michael+Perlin&userId=ac34e734f49f&source=-----d935fc6b238---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd935fc6b238&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquality-assurance-for-artificial-intelligence-d935fc6b238&user=Michael+Perlin&userId=ac34e734f49f&source=-----d935fc6b238---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd935fc6b238&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquality-assurance-for-artificial-intelligence-d935fc6b238&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d935fc6b238--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fd935fc6b238&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquality-assurance-for-artificial-intelligence-d935fc6b238&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----d935fc6b238---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----d935fc6b238--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----d935fc6b238--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----d935fc6b238--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----d935fc6b238--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----d935fc6b238--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----d935fc6b238--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----d935fc6b238--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----d935fc6b238--------------------------------", "anchor_text": ""}, {"url": "https://perlinmi.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://perlinmi.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Michael Perlin"}, {"url": "https://perlinmi.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "43 Followers"}, {"url": "https://twitter.com/ttzt_mp", "anchor_text": "https://twitter.com/ttzt_mp"}, {"url": "https://www.linkedin.com/in/michael-perlin-7227909/", "anchor_text": "https://www.linkedin.com/in/michael-perlin-7227909/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fac34e734f49f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquality-assurance-for-artificial-intelligence-d935fc6b238&user=Michael+Perlin&userId=ac34e734f49f&source=post_page-ac34e734f49f--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fc0e176106ddd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquality-assurance-for-artificial-intelligence-d935fc6b238&newsletterV3=ac34e734f49f&newsletterV3Id=c0e176106ddd&user=Michael+Perlin&userId=ac34e734f49f&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}