{"url": "https://towardsdatascience.com/how-i-converted-my-medium-post-to-realistic-audio-using-aws-polly-88fe6a60f3a9", "time": 1683017698.717782, "path": "towardsdatascience.com/how-i-converted-my-medium-post-to-realistic-audio-using-aws-polly-88fe6a60f3a9/", "webpage": {"metadata": {"title": "From Medium Post to Audio. How I converted my medium post to\u2026 | by Okoh Anita | Towards Data Science", "h1": "From Medium Post to Audio", "description": "I recently discovered that I retain more information when I read a book in audio format than in written format. This discovery instigated the need to find ways to read Medium posts in audio formats\u2026"}, "outgoing_paragraph_urls": [{"url": "https://heartbeat.fritz.ai/creating-python-virtual-environments-with-conda-why-and-how-180ebd02d1db", "anchor_text": "here", "paragraph_index": 1}, {"url": "https://heartbeat.fritz.ai/creating-python-virtual-environments-with-conda-why-and-how-180ebd02d1db", "anchor_text": "this", "paragraph_index": 5}, {"url": "https://docs.aws.amazon.com/polly/latest/dg/what-is.html", "anchor_text": "documentation", "paragraph_index": 18}, {"url": "https://github.com/anitaokoh/medium-post-to-audio", "anchor_text": "repo", "paragraph_index": 21}], "all_paragraphs": ["I recently discovered that I retain more information when I read a book in audio format than in written format. This discovery instigated the need to find ways to read Medium posts in audio formats like a podcast. My first plan was to gather all my medium read lists and convert them to audio. Unfortunately, Medium API technically does not support this. What it does support, however, is getting article feeds by username. Therefore I decided to streamline my goal, for now, to convert one of my old medium posts to audio. Here is the sample below", "You can also listen to it along with the original post here.", "Just like every other data-related project, this project\u2019s data needed to be sourced, cleaned, and converted. Below is a diagram of the architecture.", "Based on the above diagram, this project can be broken down into two broad phases", "This phase focused on sourcing the post content and getting it ready to be converted. Like I hinted earlier, the medium posts were sourced using the Medium API with this code below", "By adding my username to the API, I was able to get a JSON response that contained all my previous Medium post titles, contents, number of claps, etc. Since I was only focused on this particular article, I parsed the JSON output to extract just that particular title and content.", "One of the less simple parts of this project was cleaning the text. Please note that the content of the post that is gotten from the Medium API comes along with the HTML tags. Below is a slice of the text data format.", "This means I needed to find a way to remove or use the tags. To be honest, I used some tags and removed other tags. Why? you wonder. Before I answer this question, let's take a step back to understand briefly Amazon Web Service (AWS) POLLY and what format of text it accepts.", "According to the AWS website, Amazon Polly is a service that turns text into lifelike speech, allowing you to create applications that talk, and build entirely new categories of speech-enabled products.", "That about sums up its purpose. Let\u2019s take a look at the AWS console interface", "Looking at the blue box area, AWS Polly supports two types of Text-To-Speech(TTS) voices: Standard and Neural. The Neural TTS has an edge over the Standard voices because its output voices are less robotic and more realistic. This is why for this project, I used the neural TTS option.", "However, to answer the previous question raised, let's focus on the elements inside the red-box annotation above. AWS Polly can read text input in two formats: The regular text format and the SSML format (which means Speech Synthesis Markup Language).", "This SSML format above, just HTML, has different types of opening and closing tags and one of them being <p> and </p>. This is why I didn\u2019t completely remove all the HTML tags in the text data.", "I identified the HTML tags present in the text data that can either be left as it is or changed to a relevant SSML tag. For example, the <p>tags were left as they are because these tags indicate taking a pause while reading each paragraph. However, the <blockquote> tags which indicate word quotes in Medium HTML were converted to Newscaster effect tags. Also, the <h3> tags which indicate new subtopics were replaced with <break>tags to indicate a timed talking pause. These changes in intonations can be observed throughout the audio duration. The reason for these specifics was to make it even more realistic and less robotic.", "Other things that were done to the data as a form of transformation were", "After getting the text data ready for AWS Polly, I stored the data in a text file locally.", "This part was the most straightforward in this project. All I needed to do was get the AWS Polly object from the Boto3 library and passing in my locally saved text file as an argument along with other configuration arguments like the TextType which is SSML, the engine which is Neural, the output format which is mp3, and the voice name. As you can see from the previous console interface image, AWS Polly has about 9 voices in total to choose from. I chose the Joanna voice because that voice has more SSML tag options accessible to it. Here is the code used", "As you can see from the above code, I extracted the audio output from the JSON response from AWS Polly and stored it in an mp3 file (but in S3 due to the Polly object method I used which is advised for relatively long audio files).", "Please note that you can use the console interface to execute most of the above process however there is a \u201cnumber of character limit\u201d to consider. You can check the documentation for more on this. I solely used the AWS CLI because of the size of my text file and for easier automation. There are also more automation options using the CLI for AWS Polly.", "After completing the project locally, I decided to automate it further using AWS Lambda where I created an AWS Lambda function to run the extract and transform python scripts and then load the clean text data in AWS S3. Still using that lambda function, I invoked another AWS lambda function to extract the newly uploaded text from S3, sent it to AWS Polly for conversion, and then back to S3. This whole process looks something like this", "Here is the Lamdba function used to clean the text data and invoke another Lambda function.", "All codes used can be found in this Github repo.", "In retrospect, this was an impressive but not too complicated project. With AWS Polly, a lot of time was saved converting text to audio. A good next step is finding a way to convert interesting medium reads to audio versions so that I can read medium posts on the go.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Full-Stack Data Scientist | Building Data Product with Python, Analytics, and Machine Learning | New Technologies Obsessed| Self-care Conscious"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F88fe6a60f3a9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-converted-my-medium-post-to-realistic-audio-using-aws-polly-88fe6a60f3a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-converted-my-medium-post-to-realistic-audio-using-aws-polly-88fe6a60f3a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-converted-my-medium-post-to-realistic-audio-using-aws-polly-88fe6a60f3a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-converted-my-medium-post-to-realistic-audio-using-aws-polly-88fe6a60f3a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----88fe6a60f3a9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----88fe6a60f3a9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://anitaokoh.medium.com/?source=post_page-----88fe6a60f3a9--------------------------------", "anchor_text": ""}, {"url": "https://anitaokoh.medium.com/?source=post_page-----88fe6a60f3a9--------------------------------", "anchor_text": "Okoh Anita"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb16902630784&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-converted-my-medium-post-to-realistic-audio-using-aws-polly-88fe6a60f3a9&user=Okoh+Anita&userId=b16902630784&source=post_page-b16902630784----88fe6a60f3a9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F88fe6a60f3a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-converted-my-medium-post-to-realistic-audio-using-aws-polly-88fe6a60f3a9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F88fe6a60f3a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-converted-my-medium-post-to-realistic-audio-using-aws-polly-88fe6a60f3a9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/photos/YttqtV6P5W8", "anchor_text": "Unsplash"}, {"url": "https://heartbeat.fritz.ai/creating-python-virtual-environments-with-conda-why-and-how-180ebd02d1db", "anchor_text": "here"}, {"url": "https://heartbeat.fritz.ai/creating-python-virtual-environments-with-conda-why-and-how-180ebd02d1db", "anchor_text": "this"}, {"url": "https://docs.aws.amazon.com/polly/latest/dg/what-is.html", "anchor_text": "documentation"}, {"url": "https://github.com/anitaokoh/medium-post-to-audio", "anchor_text": "repo"}, {"url": "https://medium.com/tag/aws-lambda?source=post_page-----88fe6a60f3a9---------------aws_lambda-----------------", "anchor_text": "AWS Lambda"}, {"url": "https://medium.com/tag/aws-cli?source=post_page-----88fe6a60f3a9---------------aws_cli-----------------", "anchor_text": "Aws Cli"}, {"url": "https://medium.com/tag/m\u00e9dium?source=post_page-----88fe6a60f3a9---------------m%C3%A9dium-----------------", "anchor_text": "M\u00e9dium"}, {"url": "https://medium.com/tag/\uff4dedium?source=post_page-----88fe6a60f3a9---------------%EF%BD%8Dedium-----------------", "anchor_text": "\uff2dedium"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----88fe6a60f3a9---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F88fe6a60f3a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-converted-my-medium-post-to-realistic-audio-using-aws-polly-88fe6a60f3a9&user=Okoh+Anita&userId=b16902630784&source=-----88fe6a60f3a9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F88fe6a60f3a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-converted-my-medium-post-to-realistic-audio-using-aws-polly-88fe6a60f3a9&user=Okoh+Anita&userId=b16902630784&source=-----88fe6a60f3a9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F88fe6a60f3a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-converted-my-medium-post-to-realistic-audio-using-aws-polly-88fe6a60f3a9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----88fe6a60f3a9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F88fe6a60f3a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-converted-my-medium-post-to-realistic-audio-using-aws-polly-88fe6a60f3a9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----88fe6a60f3a9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----88fe6a60f3a9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----88fe6a60f3a9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----88fe6a60f3a9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----88fe6a60f3a9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----88fe6a60f3a9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----88fe6a60f3a9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----88fe6a60f3a9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----88fe6a60f3a9--------------------------------", "anchor_text": ""}, {"url": "https://anitaokoh.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://anitaokoh.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Okoh Anita"}, {"url": "https://anitaokoh.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "666 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb16902630784&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-converted-my-medium-post-to-realistic-audio-using-aws-polly-88fe6a60f3a9&user=Okoh+Anita&userId=b16902630784&source=post_page-b16902630784--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fbb3a502c5e09&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-converted-my-medium-post-to-realistic-audio-using-aws-polly-88fe6a60f3a9&newsletterV3=b16902630784&newsletterV3Id=bb3a502c5e09&user=Okoh+Anita&userId=b16902630784&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}