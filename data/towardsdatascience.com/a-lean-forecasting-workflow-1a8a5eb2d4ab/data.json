{"url": "https://towardsdatascience.com/a-lean-forecasting-workflow-1a8a5eb2d4ab", "time": 1683002369.612619, "path": "towardsdatascience.com/a-lean-forecasting-workflow-1a8a5eb2d4ab/", "webpage": {"metadata": {"title": "A Lean Forecasting Workflow. How to create good business forecasts\u2026 | by Arthur Mello | Towards Data Science", "h1": "A Lean Forecasting Workflow", "description": "Business forecasting works basically like the typical data science project, but it needs its own tweaks to be done properly. In this article, we intend to apply a lean framework not only to produce\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/eatpredlove/time-series-cross-validation-a-walk-forward-approach-in-python-8534dd1db51a", "anchor_text": "here", "paragraph_index": 15}, {"url": "https://towardsdatascience.com/the-data-science-workflow-43859db0415", "anchor_text": "This article shows an example of a data science workflow, with practical examples.", "paragraph_index": 21}, {"url": "https://towardsdatascience.com/data-science-project-flow-for-startups-282a93d4508d", "anchor_text": "This one has a similar goal, but focused on startups.", "paragraph_index": 22}, {"url": "https://drivendata.github.io/cookiecutter-data-science/", "anchor_text": "A cookie cutter (a folder structure that you can copy) for data science projects.", "paragraph_index": 23}, {"url": "https://github.com/Netflix/metaflow", "anchor_text": "Metaflow, Netflix\u2019s library for managing data science projects", "paragraph_index": 24}, {"url": "https://facebook.github.io/prophet/docs/quick_start.html", "anchor_text": "Facebook\u2019s Prophet, an excelent library for time series forecasting", "paragraph_index": 25}], "all_paragraphs": ["Business forecasting works basically like the typical data science project, but it needs its own tweaks to be done properly. In this article, we intend to apply a lean framework not only to produce good forecasts, but also to make sure that your process is adding value to the forecast quality.", "Here, our example of a forecasting problem will be predicting revenue for a retail chain, but it can be applied to many other use cases.", "This is where your client develops his forecasting request \u2014 and you will start developing your business understanding. Many of the questions you might have will arise later on the process, but it\u2019s fine: just make sure you have covered the most important topics at the beginning. Here are some useful questions to start with:", "This is where you choose the tool or programming language to generate your forecasts, and also design a folder structure, if applicable. Personally, I like having one Jupyter notebook for each step: data treatment, analysis and modelling, but feel free to choose what works best for you.", "This should take into account if forecasts will be sent to a dashboard or to an automated system, where your data is stored, if your client already has a forecasting system in place, how do you intend to fetch external data and if forecasts will be maintained (and by whom).", "At this point, you will also have to design your data workflow: list your data sources, how they are collected, stored and merged, and where your scripts will be. Pen and paper might be of help here.", "You start by creating your data extraction scripts: these will probably be queries from a database, but might also include some sort of web scrapping. Consider the levels of aggregation needed, external variables and timeframes.", "Once data is collected, you will have to clean it, which will pose some common questions, such as how to deal with outliers and missing values? Well, this really depends on each specific case, and I can\u2019t really provide you with a final answer, but try asking yourself: why is this value so high/missing? Is it a real value, or is it probably an input error? Then think of how you could deal with it: input it manually with some formula (such as the mean), get rid of it, replace it with zero, etc.", "Finally, you will do some feature engineering: merging data from different sources, adding new variables, combinations or functions of existing variables (log, square root, etc.) and so on. You don\u2019t have to be exhaustive here, you can come back to this step later on, if needed, to add variables you had not thought of in the beginning.", "This is where you let your curiosity run free, and really understand what type of data you are dealing with. However, a few questions can be answered here as a starting point that will be useful for further analysis: is there a trend? Is this time series stationary? Is there seasonality? At what levels (daily, weekly\u2026)? If there are external variables, how do they interact with each other (especially with the variable you are trying to predict)? You can create multiple scatterplots, for multiple pairs of variables. If you see that the relationship between your variable of interest and another one has some sort of special shape, you can go back to the previous step and try to include transformations on that variable. For instance, you might see that your revenue is connected to the level of observed rain, but in a non-linear way.", "During your analysis, you will also want to define an appropriate error measure, based on your data. Common error measures include the RMSE, the MAPE and the MASE but there are many more. Choose wisely, according to your goal and your data (ex.: the MAPE does not work very well for intermittent data \u2014 cases when your variable equals to zero often).", "Once you have your error measure defined, you need to set up the right baseline: the error against which you will compare the errors you obtain with all the models you try from now on. Your baseline is the error you obtain with the simplest model possible. For example, if you are dealing with retail revenue, which has a strong year seasonal effect, you could just forecast next December\u2019s sales as last December\u2019s sales. You don\u2019t need a fancy model nor a Data Scientist to do this: an Excel spreadsheet will do. Therefore, this is the maximum error value acceptable and, if your neural network can\u2019t beat it, then it is definitely not worth the effort. Anything below this level can be considered an improvement, but keep in mind that you might not want to sacrifice scalability and easiness of understanding for just a few extra points of accuracy.", "Now that you have your baseline, you can think of models that can fit well your case. Some models don\u2019t deal with seasonality, whereas others don\u2019t deal with external variables. There are so many methods today that you just can\u2019t know them all, but make sure to list all the basics (which tend to perform really well) and some more advanced options. The basics include the SARIMAX family models and exponential smoothing methods. More complex ones can include using XGBoost, neural networks or the Prophet algorithm developed by Facebook.", "The modelling part itself is pretty straightforward, and it will give insight for coming back to your data treatment and analysis steps and adding extra variables and analysis.", "To start, you will split your dataset in three: train, validation and test. There is usually some confusion with the validation/test nomenclature, but here I assume that train data is for training your models, validation is for applying them, seeing which works best and maybe use insight to change some hyper-parameters, and the test set is where you apply your best model and get a good estimate on how it would perform on new data. This split, unlike in other data science problems, should not be random: since you are dealing with time series, the order of your observations matters and you should keep it. Instead, choose a splitting point (a date) for each dataset. Ex.: I\u2019ll train my models data from 2015 to 2018, validate them on 2019 data, and test my final model on 2020 data.", "Keep in mind, though, that if your model depends on observations that occur right before the ones it has to predict, this approach is incomplete. For example, if your model is supposed to predict next week\u2019s forecast based on the past three weeks, you will need to perform walk-forward validation, meaning your train set gradually gets bigger while you forecast each week. You can read more about it here.", "By applying all those models, you will definitely learn more about your data\u2019s behaviour, meaning that you will iterate through data treatment and analysis, and even through the request phase, by asking your client questions you had not thought of before and adding new features. You do this until you have either achieved satisfactory results, based on your baseline, or if you have reached the deadline given by your client (or if you have run out of ideas for improvement, obviously).", "In many cases, you will need approval from your client or higher hierarchy to deploy your model, meaning that you will have to show them the models you have tried, the results obtained, and how much you achieved compared to the baseline. Depending on who those people are, you might want to keep it simpler or get more into detail on the metrics and methods. However, make sure you give them a realistic view of what they can expect from your forecasts (forecast confidence intervals should be used here).", "When the time comes for deployment, you will use your infrastructure of choice to deploy your data treatment steps, together with a model application step, including only the model you decided to apply (you don\u2019t need to keep on testing models here, nor you need the analysis part).", "For monitoring your model, you need to keep in mind what metrics you want to keep track of. There should not be too many (usually three are more than enough) and they should at least measure bias, average error and variance. In addition to these metrics, you need to keep track of your forecasts confidence interval and the actual observed values: decide an acceptable threshold for error and, whenever your forecasts start going off track, your monitoring system should raise some sort of flag.", "I hope this article was useful for you and your forecasting needs, and keep in mind that this was intended to be a general guideline for the workflow as a whole, but that each of these steps probably merits its own article since there are many caveats and points of attention in each of them (I\u2019ll probably work on that sometime soon).", "This article shows an example of a data science workflow, with practical examples.", "This one has a similar goal, but focused on startups.", "A cookie cutter (a folder structure that you can copy) for data science projects.", "Metaflow, Netflix\u2019s library for managing data science projects.", "Facebook\u2019s Prophet, an excelent library for time series forecasting.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data scientist and educator. I write about data analysis and machine learning applied to marketing."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1a8a5eb2d4ab&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-lean-forecasting-workflow-1a8a5eb2d4ab&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-lean-forecasting-workflow-1a8a5eb2d4ab&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-lean-forecasting-workflow-1a8a5eb2d4ab&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-lean-forecasting-workflow-1a8a5eb2d4ab&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----1a8a5eb2d4ab--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1a8a5eb2d4ab--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@arthurmello_?source=post_page-----1a8a5eb2d4ab--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@arthurmello_?source=post_page-----1a8a5eb2d4ab--------------------------------", "anchor_text": "Arthur Mello"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F9d32d5e0ac40&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-lean-forecasting-workflow-1a8a5eb2d4ab&user=Arthur+Mello&userId=9d32d5e0ac40&source=post_page-9d32d5e0ac40----1a8a5eb2d4ab---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1a8a5eb2d4ab&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-lean-forecasting-workflow-1a8a5eb2d4ab&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1a8a5eb2d4ab&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-lean-forecasting-workflow-1a8a5eb2d4ab&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@felixwegerer?utm_source=medium&utm_medium=referral", "anchor_text": "Felix Wegerer"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://medium.com/eatpredlove/time-series-cross-validation-a-walk-forward-approach-in-python-8534dd1db51a", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/the-data-science-workflow-43859db0415", "anchor_text": "This article shows an example of a data science workflow, with practical examples."}, {"url": "https://towardsdatascience.com/data-science-project-flow-for-startups-282a93d4508d", "anchor_text": "This one has a similar goal, but focused on startups."}, {"url": "https://drivendata.github.io/cookiecutter-data-science/", "anchor_text": "A cookie cutter (a folder structure that you can copy) for data science projects."}, {"url": "https://github.com/Netflix/metaflow", "anchor_text": "Metaflow, Netflix\u2019s library for managing data science projects"}, {"url": "https://facebook.github.io/prophet/docs/quick_start.html", "anchor_text": "Facebook\u2019s Prophet, an excelent library for time series forecasting"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----1a8a5eb2d4ab---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/forecasting?source=post_page-----1a8a5eb2d4ab---------------forecasting-----------------", "anchor_text": "Forecasting"}, {"url": "https://medium.com/tag/workflow?source=post_page-----1a8a5eb2d4ab---------------workflow-----------------", "anchor_text": "Workflow"}, {"url": "https://medium.com/tag/business-forecasts?source=post_page-----1a8a5eb2d4ab---------------business_forecasts-----------------", "anchor_text": "Business Forecasts"}, {"url": "https://medium.com/tag/data-science?source=post_page-----1a8a5eb2d4ab---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1a8a5eb2d4ab&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-lean-forecasting-workflow-1a8a5eb2d4ab&user=Arthur+Mello&userId=9d32d5e0ac40&source=-----1a8a5eb2d4ab---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1a8a5eb2d4ab&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-lean-forecasting-workflow-1a8a5eb2d4ab&user=Arthur+Mello&userId=9d32d5e0ac40&source=-----1a8a5eb2d4ab---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1a8a5eb2d4ab&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-lean-forecasting-workflow-1a8a5eb2d4ab&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1a8a5eb2d4ab--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1a8a5eb2d4ab&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-lean-forecasting-workflow-1a8a5eb2d4ab&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1a8a5eb2d4ab---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1a8a5eb2d4ab--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1a8a5eb2d4ab--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1a8a5eb2d4ab--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1a8a5eb2d4ab--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1a8a5eb2d4ab--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1a8a5eb2d4ab--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1a8a5eb2d4ab--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1a8a5eb2d4ab--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@arthurmello_?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@arthurmello_?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Arthur Mello"}, {"url": "https://medium.com/@arthurmello_/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.8K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F9d32d5e0ac40&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-lean-forecasting-workflow-1a8a5eb2d4ab&user=Arthur+Mello&userId=9d32d5e0ac40&source=post_page-9d32d5e0ac40--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F1fb0cddb25fe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-lean-forecasting-workflow-1a8a5eb2d4ab&newsletterV3=9d32d5e0ac40&newsletterV3Id=1fb0cddb25fe&user=Arthur+Mello&userId=9d32d5e0ac40&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}