{"url": "https://towardsdatascience.com/python-sqlite-tutorial-the-ultimate-guide-fdcb8d7a4f30", "time": 1683005319.989088, "path": "towardsdatascience.com/python-sqlite-tutorial-the-ultimate-guide-fdcb8d7a4f30/", "webpage": {"metadata": {"title": "Python SQLite Tutorial \u2014 The Ultimate Guide | by Nik Piepenbreier | Towards Data Science", "h1": "Python SQLite Tutorial \u2014 The Ultimate Guide", "description": "SQL and Python have quickly become quintessential skills for anyone taking on serious data analysis! This Python SQLite tutorial is the only guide you need to get up and running with SQLite in\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.python.org/downloads/", "anchor_text": "this link", "paragraph_index": 1}, {"url": "https://datagy.io/sql-beginners-tutorial/", "anchor_text": "Beginner\u2019s SQL Tutorial", "paragraph_index": 2}, {"url": "https://docs.python.org/3/reference/lexical_analysis.html", "anchor_text": "checking out this link", "paragraph_index": 12}, {"url": "https://datagy.io/sql-beginners-tutorial/", "anchor_text": "check out my complete beginner\u2019s guide here", "paragraph_index": 43}], "all_paragraphs": ["SQL and Python have quickly become quintessential skills for anyone taking on serious data analysis! This Python SQLite tutorial is the only guide you need to get up and running with SQLite in Python. In this post, we\u2019ll cover off:", "SQLite3 (what we\u2019ll just call SQLite) is part of the standard Python 3 package, so you won\u2019t need to install anything. If you\u2019re not running Python 3, check out this link to get started.", "If you\u2019re looking to get started with SQL, check out my full Beginner\u2019s SQL Tutorial, which includes a free downloadable PDF and other freebies.", "After following this tutorial, you\u2019ll have created a database in SQLite using Python. Specifically, this post will guide you through all the steps to create a database that covers off the following table, including all relationships:", "SQLite for Python offers fewer data types than other SQL implementations. This can be a bit restricting. However, as you\u2019ll see, SQLite makes a lot of other things easier. Let\u2019s take a quick look at the data types that are available:", "From this list, you may notice a number of missing data types such as dates. Unfortunately, when using SQLite, you\u2019re restricted to these data types.", "Let\u2019s start off the tutorial by loading in the library. We can do this by using the following command:", "Let\u2019s move into actually creating our database.", "In this section of the Python SQLite tutorial, we\u2019ll explore the different ways in which you can create a database in Python with SQLite. In order to do this, we\u2019ll create a Connection object that will represent the database. This object is created using SQLite\u2019s connect() function.", "Let\u2019s first create a .db file, as this is a very standard way of actually maintaining a SQLite database. We\u2019ll represent the connection using a variable named conn. We\u2019ll create a file called orders.db.", "With this line of code, we\u2019ve created a new connection object, as well as a new file called orders.db in the directory in which you\u2019re working. If you wanted to specify a specific directory, you could write:", "If the file already exists, the connect function will simply connect to that file.", "Note: Notice that we included the letter \u201cr\u201d before the string that contains this path. This lets Python know that we\u2019re working with a raw string, meaning that the \u201c/\u201d won\u2019t be used to escape characters. You can learn more about raw strings by checking out this link.", "The connect function creates a connection to the SQLite database and returns an object to represent it.", "Another way of generating databases using SQLite in Python is to create them in memory. This is a great way to generate databases that can be used for testing purposes, as they exist only in RAM.", "However, for the purposes of this tutorial, and for most use cases you\u2019ll run into, you\u2019ll use the method we described earlier.", "Now that we\u2019ve created a database connection object, our next task is to create a cursor object. Simply put, a cursor object allows us to execute SQL queries against a database. We\u2019ll create a variable cur to hold our cursor object:", "Now that we have a cursor object, we can use it to run SQL queries in the following style:", "Notice that we wrapped our SQL query in quotes \u2014 this is important. It doesn\u2019t matter if we use single, double, or triple quotes. For longer queries, it\u2019s often best to use triple quotes, as they allow us to write multi-line queries.", "At this point in the Python SQLite tutorial, let\u2019s create our first table using SQLite in Python! Now that we have a connection object (conn) and a cursor object (cur), we can create our first table. Following our database schema that we showed earlier:", "We\u2019ll start off with the users table.", "In the code above, we\u2019re doing a number of things:", "To create our other table, we can follow a similar pattern and write the following commands:", "After executing these two scripts, your database will have two tables. We\u2019re now ready to begin adding in data!", "Let\u2019s take a look at how to add data with SQLite in Python to the database we just created. Similar to the table generation query, the query to add data uses the cursor object to execute the query.", "Often, when we\u2019re working within Python, we\u2019ll have variables that hold values for us. For example, we may have a tuple that contains that information about a user which might look like this:", "If we wanted to load this data into our database, we would use a different convention:", "What we did here was replace all the values with question marks and add an additional parameter that contains the values we\u2019re hoping to add.", "It\u2019s important to note here that the SQLite expects the values to be in tuple-format. However, the variable can contain a list, as long as the list items are tuples. For example, we could add more users using the variable:", "In this case, instead of using the execute function, we\u2019ll want to use the executemany function:", "If we had used the execute function on the cursor object here, the function would have assumed we were passing two items into the table directly (the two tuples), rather than two sets of four items each! Thankfully, the function would have failed in this instance, but be careful about which function you use!", "Incidentally, using the (?, ?, \u2026) method we noted above also helps protect against SQL injection attacks. Because of this, it\u2019s recommended to use this method over the previously noted method. It\u2019s also easier to type out, so it\u2019s a win-win!", "If you\u2019re following along on your own in the Python SQLite tutorial , let\u2019s load some more data to make the following sections more meaningful. Below are some scripts you can copy and paste to insert some sample data into both tables:", "You can load this data in by using the following queries:", "Next in this Python SQLite tutorial , we\u2019ll take a look at how to select data with SQLite in Python! We\u2019ll follow a similar structure as we did to execute queries above, but we\u2019ll add another element to it as well.", "Let\u2019s begin by using the fetchone() function. We create a variable one_result to pull only result", "Say we wanted to return more than only one result, we could use the fetchmany() function. Let\u2019s run a different script to generate 3 results:", "Similarly, we could use the fetchall() function to return all the results. If we ran the following, all results would be returned:", "Now, we\u2019ll take a look at how to delete data using SQLite in Python. We can accomplish this using a similar structure to above. Say we wanted to delete any user with the last name \u2018Parker\u2019, we could write:", "When we then run the query below:", "This prints out an empty list, confirming that the record has been deleted.", "Finally, let\u2019s take a look at how to join data with a more complex query. Let\u2019s say we wanted to generate a query that includes the first and last name for each customer on each order.", "To accomplish this we let\u2019s write the following:", "Similarly, you could apply some other SQL tricks. For a complete introduction to SQL, check out my complete beginner\u2019s guide here.", "In this Python SQLite tutorial, we explored everything you need to know to get started with SQLite in Python. We started off with how to load the library, explored how to create a database and tables, how to add data, how to query the tables, and how to delete data.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ffdcb8d7a4f30&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-sqlite-tutorial-the-ultimate-guide-fdcb8d7a4f30&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-sqlite-tutorial-the-ultimate-guide-fdcb8d7a4f30&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-sqlite-tutorial-the-ultimate-guide-fdcb8d7a4f30&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-sqlite-tutorial-the-ultimate-guide-fdcb8d7a4f30&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----fdcb8d7a4f30--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fdcb8d7a4f30--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@nik.piepenbreier?source=post_page-----fdcb8d7a4f30--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nik.piepenbreier?source=post_page-----fdcb8d7a4f30--------------------------------", "anchor_text": "Nik Piepenbreier"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F634ffd0ea2aa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-sqlite-tutorial-the-ultimate-guide-fdcb8d7a4f30&user=Nik+Piepenbreier&userId=634ffd0ea2aa&source=post_page-634ffd0ea2aa----fdcb8d7a4f30---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffdcb8d7a4f30&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-sqlite-tutorial-the-ultimate-guide-fdcb8d7a4f30&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffdcb8d7a4f30&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-sqlite-tutorial-the-ultimate-guide-fdcb8d7a4f30&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.python.org/downloads/", "anchor_text": "this link"}, {"url": "https://datagy.io/sql-beginners-tutorial/", "anchor_text": "Beginner\u2019s SQL Tutorial"}, {"url": "https://docs.python.org/3/reference/lexical_analysis.html", "anchor_text": "checking out this link"}, {"url": "https://datagy.io/sql-beginners-tutorial/", "anchor_text": "check out my complete beginner\u2019s guide here"}, {"url": "https://medium.com/tag/python?source=post_page-----fdcb8d7a4f30---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/sql?source=post_page-----fdcb8d7a4f30---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/programming?source=post_page-----fdcb8d7a4f30---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/data-science?source=post_page-----fdcb8d7a4f30---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/computer-science?source=post_page-----fdcb8d7a4f30---------------computer_science-----------------", "anchor_text": "Computer Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffdcb8d7a4f30&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-sqlite-tutorial-the-ultimate-guide-fdcb8d7a4f30&user=Nik+Piepenbreier&userId=634ffd0ea2aa&source=-----fdcb8d7a4f30---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffdcb8d7a4f30&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-sqlite-tutorial-the-ultimate-guide-fdcb8d7a4f30&user=Nik+Piepenbreier&userId=634ffd0ea2aa&source=-----fdcb8d7a4f30---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffdcb8d7a4f30&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-sqlite-tutorial-the-ultimate-guide-fdcb8d7a4f30&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fdcb8d7a4f30--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ffdcb8d7a4f30&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-sqlite-tutorial-the-ultimate-guide-fdcb8d7a4f30&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----fdcb8d7a4f30---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----fdcb8d7a4f30--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----fdcb8d7a4f30--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----fdcb8d7a4f30--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----fdcb8d7a4f30--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----fdcb8d7a4f30--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----fdcb8d7a4f30--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----fdcb8d7a4f30--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----fdcb8d7a4f30--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nik.piepenbreier?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nik.piepenbreier?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Nik Piepenbreier"}, {"url": "https://medium.com/@nik.piepenbreier/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "2.8K Followers"}, {"url": "https://datagy.io", "anchor_text": "https://datagy.io"}, {"url": "https://bit.ly/2AptX91", "anchor_text": "https://bit.ly/2AptX91"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F634ffd0ea2aa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-sqlite-tutorial-the-ultimate-guide-fdcb8d7a4f30&user=Nik+Piepenbreier&userId=634ffd0ea2aa&source=post_page-634ffd0ea2aa--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F1f5adc4c309f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-sqlite-tutorial-the-ultimate-guide-fdcb8d7a4f30&newsletterV3=634ffd0ea2aa&newsletterV3Id=1f5adc4c309f&user=Nik+Piepenbreier&userId=634ffd0ea2aa&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}