{"url": "https://towardsdatascience.com/iterate-your-r-code-efficiently-3c621998eaea", "time": 1683002604.7054029, "path": "towardsdatascience.com/iterate-your-r-code-efficiently-3c621998eaea/", "webpage": {"metadata": {"title": "Iterate Your R Code Efficiently!. A step-by-step guide to perform clean\u2026 | by Manasi Mahadik | Towards Data Science", "h1": "Iterate Your R Code Efficiently!", "description": "Inuits do not actually have a hundred names for snow. Turns out that\u2019s part myth and part misunderstanding. Expanding a similar analogy to web speak, there are about a hundred ways to iterate code\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.gapminder.org/", "anchor_text": "here", "paragraph_index": 19}, {"url": "https://github.com/manasi1096/Iterations-in-R", "anchor_text": "here", "paragraph_index": 21}, {"url": "https://github.com/manasi1096/Iterations-in-R", "anchor_text": "here", "paragraph_index": 29}, {"url": "https://www.linkedin.com/in/manasi-mahadik-a66b26146/", "anchor_text": "here", "paragraph_index": 29}], "all_paragraphs": ["Inuits do not actually have a hundred names for snow. Turns out that\u2019s part myth and part misunderstanding. Expanding a similar analogy to web speak, there are about a hundred ways to iterate code! To add to this, the syntax can be confusing and some of us also run the risk of just lazily resorting to copy-pasting the code 4 times. But it is important to recognise that this is a sub-optimal route and frankly impractical. As a general rule of thumb, if we need to run a block of code more than two times, it is a good idea to iterate! Here are two reasons why this will make your code richer-", "It might take some time to wrap your head around the idea of iterating, but trust me, it\u2019s worth the investment.", "Now that you\u2019re convinced to iterate \u2014 let\u2019s jump right in!", "Let\u2019s pick the inbuilt R dataset- air quality. A snippet of the same is presented below-", "Problem 1: You want to find the standard deviation for each variable in the dataset-", "You could copy-paste the same code for each column-", "This is however impractical for large data sets and breaks the rule of thumb of not running the same operation more than twice. We have a solid case to iterate!", "The loop does away with any repetition and is indeed more efficient than the first approach.", "It is also imperative to pause and note that while seq_along()and length() are mostly used interchangeably to build a sequence in the for loop, there is one key difference. In case of a zero-length vector, seq_along() does the right thing, but length() takes the value of 0 and 1. Although you probably won\u2019t create a zero-length vector deliberately, it\u2019s easy to create them accidentally. If you use 1:length() instead of seq_along(), you\u2019re likely to get a confusing error message", "Or you could just skip the loop and do the trick with just a line of code using sapply() from base R\u2019s apply()family -", "This is a great application of R\u2019s functional programming capabilities and indeed does the job very neatly.", "Let\u2019s now take another step on the ladder of complexity and look at another problem.", "Problem 2: You want to find the standard deviation and median of each column in your dataset.", "Since we have established that the first approach of copy-pasting is impractical, we weigh in on our iteration options.", "We start by writing a for()loop-", "Next, we take the functional programming route. Here, unlike the earlier example where we could directly use R\u2019s inbuilt sd() function to calculate the standard deviation and pass it through sapply() , we need to create a custom function, as we need to calculate both the standard deviation and the median.", "This is a very solid idea! The ability to pass a user built function to another function is thrilling and clearly showcases R\u2019s functional programming capabilities to solve a wide variety of tasks. In fact, seasoned R users rarely ever use loops and resort to functional programming techniques to solve all iterative tasks. As used above, apply family of functions in base R (apply(), lapply(), tapply(), etc) are a great way to go about this, but even in the functional programming universe there is one package which has emerged as a favorite \u2014 Purrr. The purrr family of functions has more consistent syntax and has in built functionalities to carry out a wide variety of common iterative tasks.", "The Map() functions form the cornerstone of the purrr\u2019s iterative capabilities. Here are some of the forms it takes-", "Let\u2019s use this idea to solve our earlier problem of calculating the median and standard deviation of each column-", "Next, in order to another leap on the complexity ladder let\u2019s pick the gapminder dataset from the gapminder library. A snippet of the same is presented below.(P.S- If you haven\u2019t heard about the gapminder foundation, do check its website out here . The foundation does some groundbreaking work on putting basic global facts into context)", "Problem 3: I want to know which country has the highest GDP Per Capita in each continent and in each year.", "All of the above three approaches lead to the same output (For the sake of brevity, I am not including the output here. You can have a look at it on my Github here). Again, while you can take your pick on which iterative route you want to take, the functional programming way is a clear winner on cogency.", "Purrr also has some inbuilt functions to deal with everyday iterative tasks! Below I have listed down a few popular ones.", "Task: Run a piecewise regression for each segment of the data. (Here, continent):", "Task: Keep variables basis an arbitrary condition. (Here, if the variable is a factor):", "Task: Check if any variable meets the arbitrary condition(Here, if any variable is a character):", "Task: Check if every variable meets the arbitrary condition(Here, if every variable is an integer):", "Once you get accustomed to the syntax of purrr, you will need less time to actually write iterative code in R. However, one must never ever feel bad about writing loops in R. In fact, they are one of the fundamental blocks of programming and are profusely used throughout other languages. Some people even call loops slow. They\u2019re wrong! (Well at least they\u2019re rather out of date, as for loops haven\u2019t been slow for many years). The chief benefit of using functions like map() and apply() is not speed, but clarity: they make your code easier to write and read.", "The important thing is that you solve the problem that you\u2019re working on, not write the most concise and elegant code (although that\u2019s definitely something you want to strive towards!)- Hadley Wickham", "Thanks for reading! You can view the code on my Github here or reach out to me here.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F3c621998eaea&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fiterate-your-r-code-efficiently-3c621998eaea&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fiterate-your-r-code-efficiently-3c621998eaea&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fiterate-your-r-code-efficiently-3c621998eaea&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fiterate-your-r-code-efficiently-3c621998eaea&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----3c621998eaea--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3c621998eaea--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@manasimahadik?source=post_page-----3c621998eaea--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@manasimahadik?source=post_page-----3c621998eaea--------------------------------", "anchor_text": "Manasi Mahadik"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc789683b86be&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fiterate-your-r-code-efficiently-3c621998eaea&user=Manasi+Mahadik&userId=c789683b86be&source=post_page-c789683b86be----3c621998eaea---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3c621998eaea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fiterate-your-r-code-efficiently-3c621998eaea&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3c621998eaea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fiterate-your-r-code-efficiently-3c621998eaea&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.gapminder.org/", "anchor_text": "here"}, {"url": "https://github.com/manasi1096/Iterations-in-R", "anchor_text": "here"}, {"url": "https://github.com/manasi1096/Iterations-in-R", "anchor_text": "here"}, {"url": "https://www.linkedin.com/in/manasi-mahadik-a66b26146/", "anchor_text": "here"}, {"url": "https://medium.com/tag/data-science?source=post_page-----3c621998eaea---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----3c621998eaea---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/loop?source=post_page-----3c621998eaea---------------loop-----------------", "anchor_text": "Loop"}, {"url": "https://medium.com/tag/rstats?source=post_page-----3c621998eaea---------------rstats-----------------", "anchor_text": "Rstats"}, {"url": "https://medium.com/tag/purrr?source=post_page-----3c621998eaea---------------purrr-----------------", "anchor_text": "Purrr"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3c621998eaea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fiterate-your-r-code-efficiently-3c621998eaea&user=Manasi+Mahadik&userId=c789683b86be&source=-----3c621998eaea---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3c621998eaea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fiterate-your-r-code-efficiently-3c621998eaea&user=Manasi+Mahadik&userId=c789683b86be&source=-----3c621998eaea---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3c621998eaea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fiterate-your-r-code-efficiently-3c621998eaea&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3c621998eaea--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F3c621998eaea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fiterate-your-r-code-efficiently-3c621998eaea&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----3c621998eaea---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----3c621998eaea--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----3c621998eaea--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----3c621998eaea--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----3c621998eaea--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----3c621998eaea--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----3c621998eaea--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----3c621998eaea--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----3c621998eaea--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@manasimahadik?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@manasimahadik?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Manasi Mahadik"}, {"url": "https://medium.com/@manasimahadik/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "102 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc789683b86be&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fiterate-your-r-code-efficiently-3c621998eaea&user=Manasi+Mahadik&userId=c789683b86be&source=post_page-c789683b86be--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ffb7249ce9a2d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fiterate-your-r-code-efficiently-3c621998eaea&newsletterV3=c789683b86be&newsletterV3Id=fb7249ce9a2d&user=Manasi+Mahadik&userId=c789683b86be&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}