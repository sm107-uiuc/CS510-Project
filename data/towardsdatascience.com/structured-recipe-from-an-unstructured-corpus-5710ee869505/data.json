{"url": "https://towardsdatascience.com/structured-recipe-from-an-unstructured-corpus-5710ee869505", "time": 1683007887.957067, "path": "towardsdatascience.com/structured-recipe-from-an-unstructured-corpus-5710ee869505/", "webpage": {"metadata": {"title": "Structured recipe from an unstructured corpus | by Suryank Tiwari | Towards Data Science", "h1": "Structured recipe from an unstructured corpus", "description": "This article briefly glides through the makings and markings of an Information Retrieval (and Natural Language Processing Hybrid) Project and highlights the results and inferences obtained. The work\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/nytimes/ingredient-phrase-tagger", "anchor_text": "CRF Ingredient Phrase Tagger by NYTimes", "paragraph_index": 11}, {"url": "https://www.iiitd.ac.in/tanmoy", "anchor_text": "Dr. Tanmoy Chakraborty", "paragraph_index": 57}, {"url": "https://medium.com/u/ba1b9df6733e?source=post_page-----5710ee869505--------------------------------", "anchor_text": "TANMOY CHAKRABORTY", "paragraph_index": 57}, {"url": "https://medium.com/u/f5220f19938?source=post_page-----5710ee869505--------------------------------", "anchor_text": "Suryank Tiwari", "paragraph_index": 58}, {"url": "https://medium.com/u/4f0aadbc3369?source=post_page-----5710ee869505--------------------------------", "anchor_text": "Rose Verma", "paragraph_index": 59}, {"url": "https://medium.com/u/6025bd767d06?source=post_page-----5710ee869505--------------------------------", "anchor_text": "Prateek Agarwal", "paragraph_index": 60}, {"url": "https://www.iiitd.ac.in/", "anchor_text": "IIITD", "paragraph_index": 61}], "all_paragraphs": ["This article briefly glides through the makings and markings of an Information Retrieval (and Natural Language Processing Hybrid) Project and highlights the results and inferences obtained.", "The objectives of this project are to:", "The work that follows can serve as a basis for cuisine classification, recommendation systems, knowledge graph-based semantic derivation, and so on.", "While there is truth to the fact that no data is purely unstructured, our machines find this form of data uneventful; unless we can help it.", "Information extraction and analysis cannot be performed on unstructured data. Since most of all data is unstructured, this is a widely faced problem and hence our problem definition.", "Numerous cooking websites present food recipes with varied cuisines and methodologies. Even though a plethora of recipe data exists, there is little to no structure to it. Any structures if present, are not competent for deriving useful patterns from them.", "Therefore, our task is to derive some structure and meaningful relationships from unstructured recipe based data and to be able to run an information retrieval system on it.", "The data set we used has the following structure.", "This is the JSON breakdown for one recipe. The title of the recipe, the ingredients list, and the directions list are the only entries we are concerned about within this project. Depiction of the ingredients list is as follows. i.e. our unstructured data:", "The adjoining image shows how recipe ingredient data is stored in the ingredients list. As can be seen, this data is unstructured.", "This list is our input to be structured.", "The unstructured ingredients data can be structured using the CRF Ingredient Phrase Tagger by NYTimes.", "The problem is a structured prediction problem in which we need to identify a sequence of labels rather than identifying a single label. For this purpose, CRF Ingredient Phrase Tagger makes use of Linear Chain Conditional Random Fields which has often been successful in tasks such as POS Tagging and Named Entity Recognition(NER).", "Various labels identified in the case of ingredients include Quantity, Unit, Name, and Comments. The model finds the best possible sequence of labels by finding the highest probability among all the label sequences possible over an ingredient. This is depicted as follows:", "The structure that is generated consists of labels attached to the ingredients.", "The model is trained on 20000 ingredients and an intermediate model file is generated which is further used for testing purposes.", "The evaluation criteria are the accuracy of the model to predict at:", "Testing on 2000 ingredients generates accuracy of approximately 74% at sentence level whereas 90% at the word level. The lower accuracy at sentence level can be attributed to the presence of multiple words in a sentence and not all words are correctly identified, hence dropping the overall accuracy at the sentence level.", "Application of model on ingredients corresponding to the dataset of recipes, we can structure its data, thereby implying the robustness and accuracy of the model.", "Now that we have a structure ready from our corpus, we can move to the construction of Knowledge Graphs from here.", "The next step is the construction of triples for making a Knowledge Graph.", "If you are new to knowledge graphs, check out this quick read by Egor Dezhic:", "Before making triples, we need to do some quick preprocessing steps:", "This cleans our data and provides uniformity for later use in the querying section of the article.", "The triples to be constructed are of the form: (source) \u2014 edge \u2014 (target). Each source and target value becomes a node and the third triple connects them as an edge.", "A collection of triples is created for each (recipe, structured cooking step) pair. For each pair, the \u2018source\u2019 node is the \u2018title\u2019 column of the structured JSON, the \u2018target\u2019 node is the ingredient \u2018name\u2019 and the \u2018edge\u2019 in the field \u2018comment\u2019 from the structured data obtained.", "In short, every recipe title is a source node that is connected to its ingredients via the processing to be applied to them in the recipe.", "Our collection results in a knowledge graph like this:", "If you think this Knowledge graph for 10 recipes is dense then look at the following graph for 100 recipes.", "For clarity, let\u2019s have a look at a Knowledge Graph from a single recipe:", "So we have a graph. But where to go from here?", "Let\u2019s query the graph so we can attain any desired information from it.", "An inverted index is built for each keyword that is found in the triple word base. Each keyword points to a node or edge that the keyword is found in. The inverted index looks like:", "For each query term, the candidate set contains the set of nodes or edges that the term points to in the inverted index. This candidate set is used to draw the output subgraph from our original Knowledge Graph.", "So, any node containing the query term and its immediate neighbors will be shown in the graph. Any edge containing the term carrot will come up with the two nodes it is connecting as well. Interconnections are taken care of.", "Consider the query \u2014 carrot. The output for this query is:", "This graph is much sparser and the nodes and edges can be observed clearly.", "Let\u2019s consider another query \u2014 diced spinach. For multiple query terms, the output Knowledge Graph may be connected or disconnected depending on the revelations the query terms bring out from the graph. The result of this query is this:", "We get a slightly more connected graph. Even some recipe nodes which are connected to all their respective ingredients are present in the graph.", "This concludes the querying section. Let\u2019s talk about the inferences we can make from our full Knowledge Graph.", "The constructed Knowledge Graph is used to draw inferences to find out important information.", "Degree Centrality is a measure of popularity. It determines the nodes that are connected to the most number of nodes. This measure determines the nodes in the graph that can quickly spread information in a localized region.", "For the context of recipe data, an ingredient node with high degree centrality is an ingredient that is popular and is used in a lot of recipes or with a lot of other ingredients.", "Betweenness Centrality is a measure that provides a sense about which nodes are important not because they have a large number of connections but because they provide connectivity and cohesion to the network.", "These nodes are the ones that are important ingredients of a recipe and they have high betweenness centrality but low degree centrality.", "Eigen Vector Centrality is useful for understanding which nodes can get information to a large number of nodes quickly.", "It can also be seen as a related influence or the nodes that play the role of power behind the scenes. Essentially, the nodes that are neighbors of the important nodes in the knowledge graph.", "These ingredients can be seen as the most essential ingredients.", "It is seen that a majority of recipes form the largest connected component of the graph and the rest contain one or two recipes. This hints that some recipes are very unique and different due to their ingredients or methods of preparation.", "These recipes are like the outliers in the sample space as their method of preparation and/or the ingredient set is very different than the most recipes.", "Community detection is an approach by which the knowledge graph is partitioned in the best possible way. It is seen that the recipes form groupings together. These groupings are called communities.", "Communities hint at the segregation of recipes based on the ingredients or the method of preparation.", "It was seen that in a knowledge graph constructed from a corpus of 100 recipes with 2 connected components had 9 communities within.", "The communities hint at a possible classification of the recipes that can be performed. These clusters have recipes of the same kind.", "If you want to read more about the measures used for inferences, here are some useful links:", "Future work may include containing several copies of architecturally different Knowledge graphs with different rules for triple mapping. A combination of different structures might be able to better represent complex relationships. The graph may be further queried to derive more inferences.", "The development of this project has been a joint effort. The team has collaborated closely on the majority of this project. The stumps we faced while getting poor results to the ideas we had which improved the performances, has been a highly cohesive collaboration. While the cohesive structure of the project is known to all, work distribution breakdown is as follows.", "Dr. Tanmoy Chakraborty (TANMOY CHAKRABORTY) \u2014 Mentor and guide throughout the project.", "Suryank Tiwari (Suryank Tiwari) \u2014 Implementation and design of the Knowledge Graphs, and the subgraph querying system. Structure to triples design and conversion.", "Rose Verma (Rose Verma) \u2014 Extracting inferences from the Knowledge Graphs. Structure to triples design and conversion.", "Prateek Agarwal (Prateek Agarwal) \u2014 Creation of structured data from unstructured data and data preprocessing techniques.", "This project has been done for the course Information Retrieval 2020 at IIITD.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "SDE at Amazon | Masters from IIITD in CSE with AI specialization| Bachelors in CSE from MSIT"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5710ee869505&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstructured-recipe-from-an-unstructured-corpus-5710ee869505&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstructured-recipe-from-an-unstructured-corpus-5710ee869505&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstructured-recipe-from-an-unstructured-corpus-5710ee869505&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstructured-recipe-from-an-unstructured-corpus-5710ee869505&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5710ee869505--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5710ee869505--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@suryanktiwari?source=post_page-----5710ee869505--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@suryanktiwari?source=post_page-----5710ee869505--------------------------------", "anchor_text": "Suryank Tiwari"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff5220f19938&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstructured-recipe-from-an-unstructured-corpus-5710ee869505&user=Suryank+Tiwari&userId=f5220f19938&source=post_page-f5220f19938----5710ee869505---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5710ee869505&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstructured-recipe-from-an-unstructured-corpus-5710ee869505&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5710ee869505&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstructured-recipe-from-an-unstructured-corpus-5710ee869505&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@socialcut?utm_source=medium&utm_medium=referral", "anchor_text": "S O C I A L. C U T"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://github.com/nytimes/ingredient-phrase-tagger", "anchor_text": "CRF Ingredient Phrase Tagger by NYTimes"}, {"url": "https://medium.com/@Dezhic/understanding-knowledge-graphs-5cb05593eb84", "anchor_text": "Understanding Knowledge GraphsFirst AI systems relied heavily on hand-crafted knowledge from their databases. Typical expert systems used this\u2026medium.com"}, {"url": "https://towardsdatascience.com/graph-analytics-introduction-and-concepts-of-centrality-8f5543b55de3", "anchor_text": "Graph Analytics \u2014 Introduction and Concepts of CentralityThe advent of social networks, big data and e-commerce has re-emphasized the importance of analyzing a unique type of\u2026towardsdatascience.com"}, {"url": "https://www.analyticsvidhya.com/blog/2020/04/community-detection-graphs-networks/", "anchor_text": "Getting Started with Community Detection in Graphs and NetworksThe word \u201ccommunity\u201d has entered mainstream conversations around the world this year thanks in no large part to the\u2026www.analyticsvidhya.com"}, {"url": "https://www.iiitd.ac.in/tanmoy", "anchor_text": "Dr. Tanmoy Chakraborty"}, {"url": "https://medium.com/u/ba1b9df6733e?source=post_page-----5710ee869505--------------------------------", "anchor_text": "TANMOY CHAKRABORTY"}, {"url": "https://medium.com/u/f5220f19938?source=post_page-----5710ee869505--------------------------------", "anchor_text": "Suryank Tiwari"}, {"url": "https://medium.com/u/4f0aadbc3369?source=post_page-----5710ee869505--------------------------------", "anchor_text": "Rose Verma"}, {"url": "https://medium.com/u/6025bd767d06?source=post_page-----5710ee869505--------------------------------", "anchor_text": "Prateek Agarwal"}, {"url": "https://www.iiitd.ac.in/", "anchor_text": "IIITD"}, {"url": "https://medium.com/tag/knowledge-graph?source=post_page-----5710ee869505---------------knowledge_graph-----------------", "anchor_text": "Knowledge Graph"}, {"url": "https://medium.com/tag/information-retrieval?source=post_page-----5710ee869505---------------information_retrieval-----------------", "anchor_text": "Information Retrieval"}, {"url": "https://medium.com/tag/technology?source=post_page-----5710ee869505---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/food?source=post_page-----5710ee869505---------------food-----------------", "anchor_text": "Food"}, {"url": "https://medium.com/tag/nlp?source=post_page-----5710ee869505---------------nlp-----------------", "anchor_text": "NLP"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5710ee869505&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstructured-recipe-from-an-unstructured-corpus-5710ee869505&user=Suryank+Tiwari&userId=f5220f19938&source=-----5710ee869505---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5710ee869505&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstructured-recipe-from-an-unstructured-corpus-5710ee869505&user=Suryank+Tiwari&userId=f5220f19938&source=-----5710ee869505---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5710ee869505&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstructured-recipe-from-an-unstructured-corpus-5710ee869505&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5710ee869505--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5710ee869505&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstructured-recipe-from-an-unstructured-corpus-5710ee869505&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5710ee869505---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5710ee869505--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5710ee869505--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5710ee869505--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5710ee869505--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5710ee869505--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5710ee869505--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5710ee869505--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5710ee869505--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@suryanktiwari?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@suryanktiwari?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Suryank Tiwari"}, {"url": "https://medium.com/@suryanktiwari/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "11 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff5220f19938&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstructured-recipe-from-an-unstructured-corpus-5710ee869505&user=Suryank+Tiwari&userId=f5220f19938&source=post_page-f5220f19938--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F9e92cddd3689&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstructured-recipe-from-an-unstructured-corpus-5710ee869505&newsletterV3=f5220f19938&newsletterV3Id=9e92cddd3689&user=Suryank+Tiwari&userId=f5220f19938&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}