{"url": "https://towardsdatascience.com/my-time-series-toolkit-4aa841d08325", "time": 1683012865.41632, "path": "towardsdatascience.com/my-time-series-toolkit-4aa841d08325/", "webpage": {"metadata": {"title": "My Time Series Toolkit. My models of choice for time series\u2026 | by Michael Grogan | Towards Data Science", "h1": "My Time Series Toolkit", "description": "When it comes to time series forecasting, I\u2019m a great believer that the simpler the model, the better. However, not all time series are created equal. Some time series have a strongly defined trend \u2014\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/arima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608", "anchor_text": "monthly air passenger numbers", "paragraph_index": 5}, {"url": "https://data.sfgov.org/Transportation/Air-Traffic-Passenger-Statistics/rkru-6vcg", "anchor_text": "San Francisco Open Data", "paragraph_index": 5}, {"url": "https://facebook.github.io/prophet/", "anchor_text": "Facebook\u2019s Prophet", "paragraph_index": 13}, {"url": "https://towardsdatascience.com/forecasting-air-passenger-numbers-with-tensorflow-probability-1b53e5e5fea2", "anchor_text": "TensorFlow Probability", "paragraph_index": 24}, {"url": "https://blog.tensorflow.org/2019/03/structural-time-series-modeling-in.html", "anchor_text": "Structural Time Series modeling", "paragraph_index": 27}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com", "paragraph_index": 32}], "all_paragraphs": ["When it comes to time series forecasting, I\u2019m a great believer that the simpler the model, the better.", "However, not all time series are created equal. Some time series have a strongly defined trend \u2014 we often see this with economic data, for instance:", "Others show a more stationary-like pattern \u2014 e.g. monthly air passenger numbers:", "The choice of time series model will depend highly on the type of time series one is working with. Here are some of the most useful time series models I\u2019ve encountered.", "In my experience, ARIMA tends to be most useful when modelling time series with a strong trend. The model is also adept at modelling seasonality patterns.", "Suppose we wish to model monthly air passenger numbers over a period of years. The original data is sourced from San Francisco Open Data.", "Such a time series will have a seasonal component (holiday seasons tend to have higher passenger numbers, for instance) as well as evidence of a trend as indicated when the series is decomposed as below.", "The purpose of using an ARIMA model is to capture the trend as well as account for the seasonality inherent in the time series.", "To do this, one can use the auto.arima function in R, which can select the best fit p, d, q coordinates for the model as well as the appropriate seasonal component.", "For the above example, the model that performed best in terms of the lowest BIC was as follows:", "Here is a visual of the forecasts.", "We can see that ARIMA is adequately forecasting the seasonal pattern in the series. In terms of the model performance, the RMSE (root mean squared error) and MFE (mean forecast error) were as follows:", "Given a mean of 8,799 passengers per month across the validation set, the errors recorded were quite small in comparison to the average \u2014 indicating that the model is performing well in forecasting air passenger numbers.", "Let\u2019s take a look at the air passenger example once again, but this time using Facebook\u2019s Prophet. Prophet is a time series tool that allows for forecasting bsaed on an additive model, and works especially well with data that has strong seasonal trends.", "The air passenger dataset appears to fit the bill, so let\u2019s see how the model would perform compared to ARIMA.", "In this example, Prophet can be used to identify the long-term trend for air passenger numbers, as well as seasonal fluctuations throughout the year:", "A standard Prophet model can be fit to pick up the trend and seasonal components automatically, although these can also be configured manually by the user.", "One particularly useful component of Prophet is the inclusion of changepoints, or significant structural breaks in a time series.", "Through trial and error, 4 changepoints were shown to minimise the MFE and RMSE:", "The RMSE and MAE can now be calculated as follows:", "The RMSE and MFE for Prophet are both lower than that obtained using ARIMA, suggesting that the model has performed better in forecasting monthly air passenger numbers.", "In the aftermath of COVID-19, many time series forecasts have proven to be erroneous as they have been made with the wrong set of assumptions.", "Increasingly, it is coming to be recognised that time series models which can produce a range of forecasts can be more practically applied, as they allow for a \u201cscenario analysis\u201d of what might happen in the future.", "As an example, an ARIMA model built using the air passenger data as above could not have possibly forecasted the sharp drop in passenger numbers that came about as a result of COVID-19.", "However, using more recent air passenger data, let\u2019s see how a model built using TensorFlow Probability would have performed:", "While the model would not have forecasted the sharp drop that ultimately came to pass, we do see that the model is forecasting a drop in passenger numbers to below 150,000. Use of this model can allow for more of a \u201cwhat-if\u201d series of forecasts \u2014 e.g. an airline could forecast monthly passenger numbers for a particular airport and note that passenger numbers could be significantly lower than usual \u2014 which could inform the company in terms of managing resources such as fleet utilisation, for instance.", "Specifically, TensorFlow Probability makes forecasts using the assumption of a posterior distribution \u2014 which is comprised of a prior distribution (prior data) and the likelihood function.", "For reference, the example illustrated here uses the template from the Structural Time Series modeling in TensorFlow Probability tutorial, of which the original authors (Copyright 2019 The TensorFlow Authors) have made available under the Apache 2.0 license.", "Time series analysis is about making reliable forecasts using models suited to the data in question. For data with defined trend and seasonal components, it has been my experience that these models work quite well.", "Hope you found the above article of use, and feel free to leave any questions or feedback in the comments section.", "Disclaimer: This article is written on an \u201cas is\u201d basis and without warranty. It was written with the intention of providing an overview of data science concepts, and should not be interpreted as professional advice in any way.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Science Consultant with expertise in economics, time series analysis, and Bayesian methods | michael-grogan.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4aa841d08325&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-time-series-toolkit-4aa841d08325&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-time-series-toolkit-4aa841d08325&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-time-series-toolkit-4aa841d08325&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-time-series-toolkit-4aa841d08325&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4aa841d08325--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4aa841d08325--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----4aa841d08325--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----4aa841d08325--------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-time-series-toolkit-4aa841d08325&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178----4aa841d08325---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4aa841d08325&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-time-series-toolkit-4aa841d08325&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4aa841d08325&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-time-series-toolkit-4aa841d08325&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/arima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608", "anchor_text": "monthly air passenger numbers"}, {"url": "https://data.sfgov.org/Transportation/Air-Traffic-Passenger-Statistics/rkru-6vcg", "anchor_text": "San Francisco Open Data"}, {"url": "https://facebook.github.io/prophet/", "anchor_text": "Facebook\u2019s Prophet"}, {"url": "https://towardsdatascience.com/forecasting-air-passenger-numbers-with-tensorflow-probability-1b53e5e5fea2", "anchor_text": "TensorFlow Probability"}, {"url": "https://blog.tensorflow.org/2019/03/structural-time-series-modeling-in.html", "anchor_text": "Structural Time Series modeling"}, {"url": "https://medium.com/tag/data-science?source=post_page-----4aa841d08325---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----4aa841d08325---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/time-series-forecasting?source=post_page-----4aa841d08325---------------time_series_forecasting-----------------", "anchor_text": "Time Series Forecasting"}, {"url": "https://medium.com/tag/time-series-analysis?source=post_page-----4aa841d08325---------------time_series_analysis-----------------", "anchor_text": "Time Series Analysis"}, {"url": "https://medium.com/tag/statistics?source=post_page-----4aa841d08325---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4aa841d08325&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-time-series-toolkit-4aa841d08325&user=Michael+Grogan&userId=eec017a8b178&source=-----4aa841d08325---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4aa841d08325&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-time-series-toolkit-4aa841d08325&user=Michael+Grogan&userId=eec017a8b178&source=-----4aa841d08325---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4aa841d08325&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-time-series-toolkit-4aa841d08325&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4aa841d08325--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4aa841d08325&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-time-series-toolkit-4aa841d08325&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4aa841d08325---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4aa841d08325--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4aa841d08325--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4aa841d08325--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4aa841d08325--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4aa841d08325--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4aa841d08325--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4aa841d08325--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4aa841d08325--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://mgcodesandstats.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.5K Followers"}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-time-series-toolkit-4aa841d08325&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3c6e2607915&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmy-time-series-toolkit-4aa841d08325&newsletterV3=eec017a8b178&newsletterV3Id=3c6e2607915&user=Michael+Grogan&userId=eec017a8b178&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}