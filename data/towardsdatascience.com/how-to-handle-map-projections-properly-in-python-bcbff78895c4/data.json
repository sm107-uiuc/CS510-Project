{"url": "https://towardsdatascience.com/how-to-handle-map-projections-properly-in-python-bcbff78895c4", "time": 1683009411.78409, "path": "towardsdatascience.com/how-to-handle-map-projections-properly-in-python-bcbff78895c4/", "webpage": {"metadata": {"title": "How To Handle Map Projections Properly In Python | by Abdishakur | Towards Data Science", "h1": "How To Handle Map Projections Properly In Python", "description": "If you have ever tried overlaying geospatial data and it turns out that they do not align properly, the chances are that you have encountered the annoying coordinate reference system (CRS) problem."}, "outgoing_paragraph_urls": [{"url": "https://epsg.io/?q=", "anchor_text": "EPSG.io website", "paragraph_index": 9}, {"url": "https://spatialreference.org/", "anchor_text": "Spatial Reference Organization", "paragraph_index": 9}, {"url": "https://en.wikipedia.org/wiki/Map_projection#Equal-area", "anchor_text": "equal-area", "paragraph_index": 14}, {"url": "https://en.wikipedia.org/wiki/Pseudocylindrical_map_projection", "anchor_text": "pseudocylindrical map projection", "paragraph_index": 14}, {"url": "https://en.wikipedia.org/wiki/Ellipse", "anchor_text": "ellipses", "paragraph_index": 14}, {"url": "https://en.wikipedia.org/wiki/Eckert_IV_projection", "anchor_text": "Wikepedia", "paragraph_index": 14}], "all_paragraphs": ["If you have ever tried overlaying geospatial data and it turns out that they do not align properly, the chances are that you have encountered the annoying coordinate reference system problem. In this tutorial, we first clarify the concept and terminology of the Coordinate Reference System (CRS) followed by a tutorial on how to handle CRS in Python using Geospatial data.", "Maps are mostly flat and 2-Dimensional, whether they are on paper or screen. However, the earth is not 2-Dimensional. Therefore, maps always lie \u2014 sort of. To represent large parts of the earth, you have to make a trade-off between size, angle, shape or directions. There is no way you can get all of them right. So what is the best way to represent the earth on a flat surface?", "Well, it depends! That is why we use Mercator projection for most of the web maps today. The Mercator projection preserves all angles in their correct shape, and that means if yo measure the angle using this projection, you get the right direction in the real world \u2014 useful in map navigation.", "However, you can not compare different country sizes in web Mercator as it does not preserve size. The African continent is much larger than it appears and also Canada and Rusia take-up a large surface while in reality, they only occupy 5% of the earth surface.", "There are two closely related concepts here that need clarification. We have the Geographic Coordinate System, which is mostly used for global mapping. Geographic Coordinate systems usually use Latitude and Longitude. In contrast, there are multiply local projections that bring visual distortions, which is called the Projected Coordinate System. Universal Transverse Mercator coordinate system, State Plane and Robinson projections are the most widely used projections.", "In Geographic Coordinate systems, the unit of measurement is decimal degrees which help locate places on the earth. However, to measure distances in other units like meters or feet, we need projections.", "With just a basic understanding of Coordinate reference systems and projections, it is straightforward to handle them properly in Python, thanks to Geopandas. Let us read three different datasets to illustrate the importance of handling projections properly.", "To know which Coordinate Reference System the data, Geopandas has .crs() , which can provide information about the data and its reference system.", "Let us see and understand the output of this method.", "First, the data is in Geographic 2D CRS with the World Geodetic System (WGS84). We usually use codes for different coordinate systems. The WGS84 has this code EPSG:4326. You can find these codes from EPSG.io website or search it in the Spatial Reference Organization.", "We need to check if all the dataset has the same CRS before plotting them together.", "This returns True since all the datasets have the same coordinate systems. So let us go ahead and plot the data on a map.", "Notice also the x and y-axis which has decimal degrees.", "To project any Geographic data, Geopandas has also .to_crs() method which takes a projection code. Let us reproject the data. Let us start with Eckert IV Projection.", "The Eckert IV projection is an equal-area pseudocylindrical map projection. The length of the polar lines is half that of the equator, and lines of longitude are semiellipses, or portions of ellipses. \u2014 Wikepedia", "Now, let us print out the CRS of any of these projected datasets. The world Eckert projected dataset has the following parameters.", "Notice the difference between the world dataset and world Eckert projected dataset. The later one has Projected CRS while the first had a Geographic 2D CRS. The axis of the first dataset was ellipsoidal with degrees as a unit of measurement, while the later one has cartesian coordinates with a metre as a unit of measurement.", "Now, let us try to plot these two projected datasets and the unprotected city dataset. Since we will plot these maps several times, let us make a function and plot them.", "Where are the city points dataset?", "The cities are clustered in one place. Most of the time, the problem of misaligned layers in the GIS world is due to mismatched CRS and projections. We can fix this by also projecting the cities dataset to Eckert IV projection.", "Finally, let us bring out another projection and also show the differences between any of the projections out there. Let us go with Robinson projection.", "The above two projections might look like the same from the first glance, but they are different. We can look at overlayed maps of the two projections.", "Any calculations done on different projections result in different results, for example, area size or distance.", "In this article, we have explained the basic concepts of Geographic Coordinate Reference System (CRS) and Projected Coordinates. We have also seen how to handle them correctly in Python using Geopandas.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Writing about Geospatial Data Science, AI, ML, DL, Python, SQL, GIS | Top writer | 1m views."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fbcbff78895c4&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-handle-map-projections-properly-in-python-bcbff78895c4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-handle-map-projections-properly-in-python-bcbff78895c4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-handle-map-projections-properly-in-python-bcbff78895c4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-handle-map-projections-properly-in-python-bcbff78895c4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----bcbff78895c4--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----bcbff78895c4--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://shakasom.medium.com/?source=post_page-----bcbff78895c4--------------------------------", "anchor_text": ""}, {"url": "https://shakasom.medium.com/?source=post_page-----bcbff78895c4--------------------------------", "anchor_text": "Abdishakur"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd4284ce02aec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-handle-map-projections-properly-in-python-bcbff78895c4&user=Abdishakur&userId=d4284ce02aec&source=post_page-d4284ce02aec----bcbff78895c4---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbcbff78895c4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-handle-map-projections-properly-in-python-bcbff78895c4&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbcbff78895c4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-handle-map-projections-properly-in-python-bcbff78895c4&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@simonmigaj?utm_source=medium&utm_medium=referral", "anchor_text": "Simon Migaj"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://imgs.xkcd.com/comics/mercator_projection.png", "anchor_text": "xkcd"}, {"url": "https://www.reddit.com/r/dataisbeautiful/comments/cq91dc/world_mercator_map_projection_with_true_country/", "anchor_text": "Source"}, {"url": "https://epsg.io/?q=", "anchor_text": "EPSG.io website"}, {"url": "https://spatialreference.org/", "anchor_text": "Spatial Reference Organization"}, {"url": "https://en.wikipedia.org/wiki/Map_projection#Equal-area", "anchor_text": "equal-area"}, {"url": "https://en.wikipedia.org/wiki/Pseudocylindrical_map_projection", "anchor_text": "pseudocylindrical map projection"}, {"url": "https://en.wikipedia.org/wiki/Ellipse", "anchor_text": "ellipses"}, {"url": "https://en.wikipedia.org/wiki/Eckert_IV_projection", "anchor_text": "Wikepedia"}, {"url": "https://medium.com/tag/data-science?source=post_page-----bcbff78895c4---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/geospatial?source=post_page-----bcbff78895c4---------------geospatial-----------------", "anchor_text": "Geospatial"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----bcbff78895c4---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/python?source=post_page-----bcbff78895c4---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----bcbff78895c4---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbcbff78895c4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-handle-map-projections-properly-in-python-bcbff78895c4&user=Abdishakur&userId=d4284ce02aec&source=-----bcbff78895c4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbcbff78895c4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-handle-map-projections-properly-in-python-bcbff78895c4&user=Abdishakur&userId=d4284ce02aec&source=-----bcbff78895c4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbcbff78895c4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-handle-map-projections-properly-in-python-bcbff78895c4&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----bcbff78895c4--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fbcbff78895c4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-handle-map-projections-properly-in-python-bcbff78895c4&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----bcbff78895c4---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----bcbff78895c4--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----bcbff78895c4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----bcbff78895c4--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----bcbff78895c4--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----bcbff78895c4--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----bcbff78895c4--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----bcbff78895c4--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----bcbff78895c4--------------------------------", "anchor_text": ""}, {"url": "https://shakasom.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://shakasom.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Abdishakur"}, {"url": "https://shakasom.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "5.4K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd4284ce02aec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-handle-map-projections-properly-in-python-bcbff78895c4&user=Abdishakur&userId=d4284ce02aec&source=post_page-d4284ce02aec--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F5da1115ce36e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-handle-map-projections-properly-in-python-bcbff78895c4&newsletterV3=d4284ce02aec&newsletterV3Id=5da1115ce36e&user=Abdishakur&userId=d4284ce02aec&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}