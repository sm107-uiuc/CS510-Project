{"url": "https://towardsdatascience.com/a-step-towards-industrialization-parameters-your-code-with-python-and-argparse-118783d09bfd", "time": 1683013582.5858712, "path": "towardsdatascience.com/a-step-towards-industrialization-parameters-your-code-with-python-and-argparse-118783d09bfd/", "webpage": {"metadata": {"title": "Tutorial on code parametrization : parameters your code with argparse on pyspark | by Alexandre Wrg | Towards Data Science", "h1": "Tutorial on code parametrization : parameters your code with argparse on pyspark", "description": "argparse is a python library that allows us to write our own command lines to include flexibility in our code. I personally use it in many of my scripts to make my data pipelines more flexible and to\u2026"}, "outgoing_paragraph_urls": [{"url": "https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser", "anchor_text": "ArgumentParser", "paragraph_index": 2}, {"url": "https://github.com/AlexWarembourg/Medium", "anchor_text": "https://github.com/AlexWarembourg/", "paragraph_index": 17}], "all_paragraphs": ["argparse is a python library that allows us to write our own command lines to include flexibility in our code. I personally use it in many of my scripts to make my data pipelines more flexible and to form models that are on a moving time window for example. We\u2019ll see some use cases after a quick look at the library.", "First, we need to import the library.", "The ArgumentParser object will hold all the information necessary to parse the command line into Python data types. Then we can pass some argument to our parser object.", "we added an argument to our parser, called \u201ctrain_start\u201d, and created a help message that defines the purpose and use of the argument or whatever else you want to write. Finally, we set up an order condition that forces the use of this argument, if False, it can be ignored.", "We will copy the script in a .py file :", "Here we define an ArgumentParser object that will store our argument. Then we define two arguments, one that has a value and another that will add them together, let\u2019s detail.", "we first add an argument with :", "In the second added argument there\u2019s is", "Now, we will save it as \u201cparser_exemple.py\u201d then open a console and look at it :", "Fine for the \u201ctutorial\u201d, let\u2019s see a real exemple now.", "We will start with one of my previous articles on pandas-udf and prophet for the prediction and parameterization of this script, which will allow us to use argparse to parameterize our script through a real example and avoid a long useless article. Below is the link of the article with most of the code we will parameterize", "In fact, it\u2019s not very difficult, we will define our parser with several arguments in a different file (this is my personal bias: in fact, you can do everything in the same space).", "Thus, we will define a function that will create our ArgumentParser, add the desired argument to it and return the analyzed argument.", "In main we import our function and retrieve argument which we put in line when we launched our spark submit.", "then launch it through the shell as a python job or spark submit job with the right argument and that\u2019s it.", "These basic elements are essential for building a highly versatile pipeline and do not require special development skills.", "It may seem simplistic, but this kind of tool is absolutely essential to have flexible pipelines and to make life easier. I use it very often in my projects, especially with airflow in order to program recurring forecasts over time \u2014 this will be the subject of a future article.", "Thank you for your attention, you will find all the essential points and gists on my github : https://github.com/AlexWarembourg/", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data scientist at Auchan Retail Data"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F118783d09bfd&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-step-towards-industrialization-parameters-your-code-with-python-and-argparse-118783d09bfd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-step-towards-industrialization-parameters-your-code-with-python-and-argparse-118783d09bfd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-step-towards-industrialization-parameters-your-code-with-python-and-argparse-118783d09bfd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-step-towards-industrialization-parameters-your-code-with-python-and-argparse-118783d09bfd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----118783d09bfd--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----118783d09bfd--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@alexandrewrg?source=post_page-----118783d09bfd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@alexandrewrg?source=post_page-----118783d09bfd--------------------------------", "anchor_text": "Alexandre Wrg"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa5f80e627a47&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-step-towards-industrialization-parameters-your-code-with-python-and-argparse-118783d09bfd&user=Alexandre+Wrg&userId=a5f80e627a47&source=post_page-a5f80e627a47----118783d09bfd---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F118783d09bfd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-step-towards-industrialization-parameters-your-code-with-python-and-argparse-118783d09bfd&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F118783d09bfd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-step-towards-industrialization-parameters-your-code-with-python-and-argparse-118783d09bfd&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/photos/qjnAnF0jIGk", "anchor_text": "https://unsplash.com/photos/qjnAnF0jIGk"}, {"url": "https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser", "anchor_text": "ArgumentParser"}, {"url": "https://docs.python.org/3/library/argparse.html", "anchor_text": "https://docs.python.org/3/library/argparse.html"}, {"url": "https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser.parse_args", "anchor_text": "parse_args()"}, {"url": "https://towardsdatascience.com/pyspark-forecasting-with-pandas-udf-and-fb-prophet-e9d70f86d802", "anchor_text": "https://towardsdatascience.com/pyspark-forecasting-with-pandas-udf-and-fb-prophet-e9d70f86d802"}, {"url": "https://github.com/AlexWarembourg/Medium", "anchor_text": "https://github.com/AlexWarembourg/"}, {"url": "https://medium.com/tag/python?source=post_page-----118783d09bfd---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----118783d09bfd---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/data-science?source=post_page-----118783d09bfd---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data?source=post_page-----118783d09bfd---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/pyspark?source=post_page-----118783d09bfd---------------pyspark-----------------", "anchor_text": "Pyspark"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F118783d09bfd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-step-towards-industrialization-parameters-your-code-with-python-and-argparse-118783d09bfd&user=Alexandre+Wrg&userId=a5f80e627a47&source=-----118783d09bfd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F118783d09bfd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-step-towards-industrialization-parameters-your-code-with-python-and-argparse-118783d09bfd&user=Alexandre+Wrg&userId=a5f80e627a47&source=-----118783d09bfd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F118783d09bfd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-step-towards-industrialization-parameters-your-code-with-python-and-argparse-118783d09bfd&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----118783d09bfd--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F118783d09bfd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-step-towards-industrialization-parameters-your-code-with-python-and-argparse-118783d09bfd&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----118783d09bfd---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----118783d09bfd--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----118783d09bfd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----118783d09bfd--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----118783d09bfd--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----118783d09bfd--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----118783d09bfd--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----118783d09bfd--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----118783d09bfd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@alexandrewrg?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@alexandrewrg?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Alexandre Wrg"}, {"url": "https://medium.com/@alexandrewrg/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "354 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa5f80e627a47&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-step-towards-industrialization-parameters-your-code-with-python-and-argparse-118783d09bfd&user=Alexandre+Wrg&userId=a5f80e627a47&source=post_page-a5f80e627a47--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7c3751d086ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-step-towards-industrialization-parameters-your-code-with-python-and-argparse-118783d09bfd&newsletterV3=a5f80e627a47&newsletterV3Id=7c3751d086ca&user=Alexandre+Wrg&userId=a5f80e627a47&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}