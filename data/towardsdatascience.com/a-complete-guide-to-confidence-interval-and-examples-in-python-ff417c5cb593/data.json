{"url": "https://towardsdatascience.com/a-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593", "time": 1683012691.3794181, "path": "towardsdatascience.com/a-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593/", "webpage": {"metadata": {"title": "A Complete Guide to Confidence Interval, and Examples in Python | by Rashida Nasrin Sucky | Towards Data Science", "h1": "A Complete Guide to Confidence Interval, and Examples in Python", "description": "Confidence Interval(CI) is essential in statistics and very important for data scientists. In this article, I will explain it thoroughly with necessary formulas and also demonstrate how to calculate\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/johnsmith88/heart-disease-dataset", "anchor_text": "Kaggle", "paragraph_index": 20}, {"url": "https://regenerativetoday.com/", "anchor_text": "https://regenerativetoday.com/", "paragraph_index": 68}], "all_paragraphs": ["Confidence Interval (CI) is essential in statistics and very important for data scientists. In this article, I will explain it thoroughly with necessary formulas and also demonstrate how to calculate it using python.", "As it sounds, the confidence interval is a range of values. In the ideal condition, it should contain the best estimate of a statistical parameter. It is expressed as a percentage. 95% confidence interval is the most common. You can use other values like 97%, 90%, 75%, or even 99% confidence interval if your research demands. Let\u2019s understand it by an example:", "\u201cIn a sample of 659 parents with toddlers, about 85%, stated they use a car seat for all travel with their toddler. From these results, a 95% confidence interval was provided, going from about 82.3% up to 87.7%.\u201d", "This statement means, we are 95% certain that the population proportion who use a car seat for all travel with their toddler will fall between 82.3% and 87.7%. If we take a different sample or a subsample of these 659 people, 95% of the time, the percentage of the population who use a car seat in all travel with their toddlers will be in between 82.3% and 87.7%.", "Remember, 95% confidence interval does not mean 95% probability", "The reason confidence interval is so popular and useful is, we cannot take data from all populations. Like the example above, we could not get the information from all the parents with toddlers. We had to calculate the result from 659 parents. From that result, we tried to get an estimate of the overall population. So, it is reasonable to consider a margin of error and take a range. That\u2019s why we take a confidence interval which is a range.", "We want a simple random sample and a normal distribution to construct a confidence interval. But if the sample size is large enough (30 or more) normal distribution is not necessary.", "The calculation of the confidence interval involves the best estimate which is obtained by the sample and a margin of error. So, we take the best estimate and add a margin of error to it. Here is the formula for the confidence interval and the margin of error:", "Here, SE is the standard error.", "Normally, CI is calculated for two statistical parameters: the proportion and the mean.", "Combining these two formulas above, we can elaborate the formula for CI as follows:", "Population proportion or the mean is calculated from the sample. In the example of \u201cthe parents with toddlers\u201d, the best estimate or the population proportion of parents that uses car seats in all travel with their toddlers is 85%. So, the best estimate (population proportion) is 85. z-score is fixed for the confidence level (CL).", "A z-score for a 95% confidence interval for a large enough sample size(30 or more) is 1.96.", "Here are the z-scores for some commonly used confidence levels:", "The method to calculate the standard error is different for population proportion and mean. The formula to calculate standard error of population proportion is:", "The formula to calculate the standard error of the sample mean is:", "As per the statement, the population proportion that uses a car seat for all travel with their toddlers is 85%. So, this is our best estimate. We need to add the margin of error to it. To calculate the margin of error we need the z-score and the standard error. I am going to calculate a 95% CI. The z-score should be 1.96 and I already mentioned the formula of standard error for the population proportion. Plugging in all the values:", "The confidence interval is 82.3% and 87.7% as we saw in the statement before.", "I am assuming that you are already a python user. But even if you are not a python user you should be able to get the concept of the calculation and use your own tools to calculate the same. The tools I used for this exercise are:", "If you install an anaconda package, you will get a Jupyter Notebook and the other tools as well. There are some good youtube videos to demonstrate how to install anaconda package if you do not have that already.", "I am going to use the Heart dataset from Kaggle. Please click on the link to download the dataset. First, I imported the packages and the dataset:", "The last column of the data is \u2018AHD\u2019. It says if a person has heart disease or not. In the beginning, we have a \u2018Sex\u2019 column as well.", "We are going to construct a CI for the female population proportion that has heart disease.", "First, replace 1 and 0 with \u2018Male\u2019 and \u2018Female\u2019 in a new column \u2018Sex1\u2019.", "We do not need all the columns in the dataset. We will only use the \u2018AHD\u2019 column as that contains if a person has heart disease or not and the Sex1 column we just created. Make a DataFrame with only these two columns and drop all the null values.", "We need the number of females who have heart disease. The line of code below will give the number of males and females with heart disease and with no heart disease.", "The number of females who have heart disease is 25. Calculate the female population proportion with heart disease.", "The size of the female population is 97. Calculate the standard error", "Now construct the CI using the formulas above. The z-score is 1.96 for a 95% confidence interval.", "You can calculate it using the library \u2018statsmodels\u2019.", "The confidence interval comes out to be the same as above.", "Is the population proportion of females with heart disease the same as the population proportion of males with heart disease? If they are the same, then the difference in both the population proportions will be zero.", "We will calculate a confidence interval of the difference in the population proportion of females and males with heart disease.", "Here is the step by step process:", "Calculate the male population proportion with heart disease and standard error using the same procedure.", "The male population proportion with heart disease is 0.55 and the male population size is 206. Calculate the standard error for the male population proportion.", "The standard error for the male population is 0.034. Calculate the difference in standard error.", "The difference in standard error is not just subtraction. Use proper formula.", "Here is the formula to calculate the difference in two standard errors:", "Let\u2019s use this formula to calculate the difference in the standard error of male and female population with heart disease.", "Use this standard error to calculate the difference in the population proportion of males and females with heart disease and construct the CI of the difference.", "The CI is 0.18 and 0.4. This range does not have 0 in it. Both the numbers are above zero. So, We cannot make any conclusion that the population proportion of females with heart disease is the same as the population proportion of males with heart disease. If the CI would be -0.12 and 0.1, we could say that the male and female population proportion with heart disease is the same.", "We will use the same heart disease dataset. The dataset has a \u2018chol\u2019 column that contains the cholesterol level. For this demonstration,", "we will calculate the confidence interval of the mean cholesterol level of the female population.", "Let\u2019s find the mean, standard deviation, and population size for the female population. I want to get the same parameters for the male population as well. Because it will be useful for our next exercise. Use pandas groupby and aggregate methods for this purpose. If you need a refresher on pandas groupby and aggregate method, please check out this article:", "Here is the code to get the mean, standard deviation, and population size of the male and female population:", "If we extract the necessary parameters for the female population only:", "Calculate the standard error using the formula for the standard error of the mean", "Now we have everything to construct a CI for mean cholesterol in the female population.", "That means the true mean of the cholesterol of the female population will fall between 248.83 and 274.67", "There are two approaches to calculate the CI for the difference in the mean of two populations.", "As mentioned earlier, we need a simple random sample and a normal distribution. If the sample is large, a normal distribution is not necessary.", "There is one more assumption for a pooled approach. That is, the variance of the two populations is the same or almost the same.", "If the variance is not the same, the unpooled approach is more appropriate.", "The formula of the standard error for the pooled approach is:", "Here, s1 and s2 are the standard error for the population1 and population2. In the same way, n1 and n2 are the population size of population1 and population2.", "The formula of the standard error for the unpooled approach is:", "Here, we will construct the CI for the difference in mean of the cholesterol level of the male and female population.", "We already derived all the necessary parameters from the dataset in the previous example. Here they are:", "As we can see, the standard deviation of the two target populations is different. So. the variance must be different as well.", "So, for this example, the unpooled approach will be more appropriate.", "Calculate the standard error for male and female population using the formula we used in the previous example", "The difference in mean of the two samples", "Using the formula for the unpooled approach, calculate the difference in standard error:", "Finally, construct the CI for the difference in mean", "The lower and upper limit of the confidence interval came out to be 22.1494 and 22.15. They are almost the same. That means the mean cholesterol of the female population is not different than the mean cholesterol of the male population.", "In this article, I tried to explain the confidence interval in detail with the calculation process in python. Python code I used here is simple enough for anyone to understand. Even if you are not a python user you should be able to understand the process and apply it in your way.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "MS in Applied Data Analytics from Boston University. Read my blog: https://regenerativetoday.com/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fff417c5cb593&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ff417c5cb593--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ff417c5cb593--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://rashida00.medium.com/?source=post_page-----ff417c5cb593--------------------------------", "anchor_text": ""}, {"url": "https://rashida00.medium.com/?source=post_page-----ff417c5cb593--------------------------------", "anchor_text": "Rashida Nasrin Sucky"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8a36b941a136&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593&user=Rashida+Nasrin+Sucky&userId=8a36b941a136&source=post_page-8a36b941a136----ff417c5cb593---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fff417c5cb593&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fff417c5cb593&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@timtied?utm_source=medium&utm_medium=referral", "anchor_text": "Tim Tiedemann"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://giphy.com/", "anchor_text": "GIPHY"}, {"url": "https://giphy.com/", "anchor_text": "GIPHY"}, {"url": "https://numpy.org/", "anchor_text": "Numpy Library"}, {"url": "https://pandas.pydata.org/", "anchor_text": "Pandas Library"}, {"url": "https://devdocs.io/statsmodels/", "anchor_text": "Statsmodels Library"}, {"url": "https://jupyter.org/", "anchor_text": "Jupyter Notebook"}, {"url": "https://www.kaggle.com/johnsmith88/heart-disease-dataset", "anchor_text": "Kaggle"}, {"url": "https://giphy.com/", "anchor_text": "GIPHY"}, {"url": "https://giphy.com/", "anchor_text": "GIPHY"}, {"url": "https://towardsdatascience.com/master-pandas-groupby-for-efficient-data-summarizing-and-analysis-c6808e37c1cb", "anchor_text": "Pandas\u2019 Groupby Function in Details for Efficient Data Summarizing And AnalysisLearn to group the data and summarize to use aggregate functions, data transformation, filter, map, apply a function in\u2026towardsdatascience.com"}, {"url": "https://giphy.com/", "anchor_text": "GIPHY"}, {"url": "https://giphy.com/", "anchor_text": "GIPHY"}, {"url": "https://towardsdatascience.com/a-complete-guide-to-hypothesis-testing-for-data-scientists-using-python-69f670e6779e", "anchor_text": "A Complete Guide to Hypothesis Testing for Data Scientists Using PythonExplained Clearly with Sample Research Questions, Solution Steps, and Complete Codestowardsdatascience.com"}, {"url": "https://towardsdatascience.com/an-ultimate-guide-to-time-series-analysis-in-pandas-76a0433621f3", "anchor_text": "An Ultimate Guide to Time Series Analysis in PandasAll the Pandas Function You Need to Perform Time Series Analysis in Pandas. You Can Use This as a Cheat Sheet as Well.towardsdatascience.com"}, {"url": "https://towardsdatascience.com/multivariate-linear-regression-in-python-step-by-step-128c2b127171", "anchor_text": "Multivariate Linear Regression in Python Step by StepLearn to develop a multivariate linear regression for any number of variables in Python from scratch.towardsdatascience.com"}, {"url": "https://towardsdatascience.com/indexing-and-slicing-of-1d-2d-and-3d-arrays-in-numpy-e731afff0bbe", "anchor_text": "Indexing and Slicing of 1D, 2D, and 3D Arrays in NumpyThis article shows the indexing and slicing of Numpy arrays from the basic to advanced level.towardsdatascience.com"}, {"url": "https://towardsdatascience.com/multiclass-classification-algorithm-from-scratch-with-a-project-in-python-step-by-step-guide-485a83c79992", "anchor_text": "Multiclass Classification Algorithm from Scratch with a Project in Python: Step by Step GuideThis article explains two methods: The gradient descent method and the optimization function methodtowardsdatascience.com"}, {"url": "https://towardsdatascience.com/a-complete-k-mean-clustering-algorithm-from-scratch-in-python-step-by-step-guide-1eb05cdcd461", "anchor_text": "A Complete K Mean Clustering Algorithm From Scratch in Python: Step by Step GuideAlso, How to Use K Mean Clustering Algorithm for Dimensionality Reduction of an Imagetowardsdatascience.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ff417c5cb593---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----ff417c5cb593---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----ff417c5cb593---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----ff417c5cb593---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/technology?source=post_page-----ff417c5cb593---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fff417c5cb593&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593&user=Rashida+Nasrin+Sucky&userId=8a36b941a136&source=-----ff417c5cb593---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fff417c5cb593&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593&user=Rashida+Nasrin+Sucky&userId=8a36b941a136&source=-----ff417c5cb593---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fff417c5cb593&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ff417c5cb593--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fff417c5cb593&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ff417c5cb593---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ff417c5cb593--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ff417c5cb593--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ff417c5cb593--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ff417c5cb593--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ff417c5cb593--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ff417c5cb593--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ff417c5cb593--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ff417c5cb593--------------------------------", "anchor_text": ""}, {"url": "https://rashida00.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://rashida00.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Rashida Nasrin Sucky"}, {"url": "https://rashida00.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "5.8K Followers"}, {"url": "https://regenerativetoday.com/", "anchor_text": "https://regenerativetoday.com/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8a36b941a136&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593&user=Rashida+Nasrin+Sucky&userId=8a36b941a136&source=post_page-8a36b941a136--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb3691be13a18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-confidence-interval-and-examples-in-python-ff417c5cb593&newsletterV3=8a36b941a136&newsletterV3Id=b3691be13a18&user=Rashida+Nasrin+Sucky&userId=8a36b941a136&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}