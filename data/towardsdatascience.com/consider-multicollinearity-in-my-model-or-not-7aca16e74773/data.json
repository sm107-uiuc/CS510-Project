{"url": "https://towardsdatascience.com/consider-multicollinearity-in-my-model-or-not-7aca16e74773", "time": 1683007502.752722, "path": "towardsdatascience.com/consider-multicollinearity-in-my-model-or-not-7aca16e74773/", "webpage": {"metadata": {"title": "Consider Multicollinearity in My Model or Not? | by Yufeng | Towards Data Science", "h1": "Consider Multicollinearity in My Model or Not?", "description": "As a super basketball fan, I once wrote a blog on how to use a linear regression model to predict the salary of an NBA player based on his stats per game. I was challenged by one of my fans. He\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/whos-the-mvp-of-nba-this-season-3e347c66a40a", "anchor_text": "another post of mine", "paragraph_index": 4}, {"url": "https://en.wikipedia.org/wiki/Ja_Morant", "anchor_text": "Ja Morant", "paragraph_index": 19}, {"url": "https://medium.com/@jianan.jay.lin", "anchor_text": "follow me", "paragraph_index": 32}, {"url": "https://jianan-lin.medium.com/membership", "anchor_text": "https://jianan-lin.medium.com/membership", "paragraph_index": 34}], "all_paragraphs": ["As a super basketball fan, I once wrote a blog on how to use a linear regression model to predict the salary of an NBA player based on his stats per game. I was challenged by one of my fans.", "He insisted that my pipeline was wrong because the multicollinearity among the independent variables was not fixed before pooling them into the regression model.", "I would say that he must be a good student who remembered what had been taught in STAT courses. But should we really care about the multicollinearity in our feature space whenever modeling?", "I would like to go over a small but interesting experiment to discuss the topic. In this example, I won\u2019t comment on anything from a perspective of theoretical statistics. Let\u2019s just read the code and check the results.", "I use the ROY voting share as the dependent variable, which ranges from 0 to 1. The higher the voting share is, the higher the chance of being ROY is. I didn\u2019t frame it to a classification problem, in order to avoid an unbalanced training set. For those who are interested in the details of how to generate an ML project from the beginning to the end, please refer to another post of mine.", "I try two machine learning regression models (Elastic Net and Random Forest) and one classic linear regression model.", "The function above shows the hyperparameter tuning function, where I can determine the hyperparameters for each model using cross-validation. The tuned hyperparameters will be used in the final model training.", "The basic linear regression is defined within a pipeline as below.", "I train the aforementioned models using the split datasets. The data split and hyperparameter tuning code are shown below.", "The tuned hyperparameters in the above code are then used to train the final models.", "And I also train the basic linear regression model as below.", "I evaluate the three models\u2019 performance on the test data. I calculate the MSE of the regression models.", "I find model 2 (the random forest regressor) is the best among all three models with the test data MSE equal to 0.055.", "The entire process of modeling has been finished.", "Now, let\u2019s manipulate the data in order to exclude features correlated with each other. I simply checked the correlation below.", "It seems that points per game (PTS) and minutes played (MP) are highly correlated with Pearson\u2019s correlation coefficient equal to 82%. So, I first remove MP from the dataset and repeat the entire modeling process again. Here is the test data MSE:", "I also remove PTS from the entire feature space and repeat the entire modeling process as well. And this is the test data MSE result:", "As shown in the two figures above, after addressing the collinearity in the feature set, the three model\u2019s performances are almost the same as the full model.", "These results show that removing the collinearity from the feature space is not helpful in the prediction of ROY in our dataset.", "BTW, all the models give the same answer to our problem. It is predicted that Ja Morant will be ROY of the NBA season 2019\u20132020.", "However, why people emphasize the importance of addressing multicollinearity in the regression model while it has no effect on the prediction? That is related to the interpretation of the model.", "Say we are interested in detecting which basic stats of the players contribute the most to the prediction. We then need to be careful about the multicollinearity.", "The highly correlated variables can compete with each other to explain the variance of the dependent variable in the model. Specifically, the competition will reflect in the coefficient in the Elastic net regressor and linear regression, or feature importance in the random forest regressor.", "Since the second model (random forest regressor) is the best model in my experiment, I\u2019ll use it as an example to explain that.", "I plot out the feature importance of the random forest model 1) with all the features, 2) with all the features but MP and 3) with all the features but PTS, respectively.", "When I use all the features, I find that PTS is the most important variable in the model, but MP doesn\u2019t look important at all.", "If I remove MP from the feature space, the model still gives PTS as the most important variable.", "However, if I remove PTS from the feature space, as shown above, MP becomes the most important variable.", "We can see from these results that MP and PTS are both important for the prediction, but they are competing with each other in the feature importance if both of them are pooled in the model as independent variables.", "Do we need to fix the multicollinearity in our regression model?", "If the aim of the regressor is purely prediction, the existing multicollinearity in the dataset is not harmful at all. Its prediction power won\u2019t be affected by the correlated variables.", "If the aim of the regressor is to understand the relationship between the independent variables and the dependent variables, the multicollinearity problem needs to be addressed because the correlated variables will compete with each other in explaining the dependent variable.", "I hope this article will help you with your machine learning projects. If you enjoy reading the article, please follow me on Medium. If you are interested in data science articles, these posts may be helpful to you:", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Ph.D., Data Scientist and Bioinformatician. Support my writing by becoming one of my referred members: https://jianan-lin.medium.com/membership"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7aca16e74773&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconsider-multicollinearity-in-my-model-or-not-7aca16e74773&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconsider-multicollinearity-in-my-model-or-not-7aca16e74773&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconsider-multicollinearity-in-my-model-or-not-7aca16e74773&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconsider-multicollinearity-in-my-model-or-not-7aca16e74773&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----7aca16e74773--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7aca16e74773--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://jianan-lin.medium.com/?source=post_page-----7aca16e74773--------------------------------", "anchor_text": ""}, {"url": "https://jianan-lin.medium.com/?source=post_page-----7aca16e74773--------------------------------", "anchor_text": "Yufeng"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F9cda0369fb2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconsider-multicollinearity-in-my-model-or-not-7aca16e74773&user=Yufeng&userId=9cda0369fb2&source=post_page-9cda0369fb2----7aca16e74773---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7aca16e74773&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconsider-multicollinearity-in-my-model-or-not-7aca16e74773&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7aca16e74773&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconsider-multicollinearity-in-my-model-or-not-7aca16e74773&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@martinsanchez?utm_source=medium&utm_medium=referral", "anchor_text": "Martin Sanchez"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/whos-the-mvp-of-nba-this-season-3e347c66a40a", "anchor_text": "another post of mine"}, {"url": "https://en.wikipedia.org/wiki/Ja_Morant", "anchor_text": "Ja Morant"}, {"url": "https://medium.com/@jianan.jay.lin", "anchor_text": "follow me"}, {"url": "https://towardsdatascience.com/pheatmap-draws-pretty-heatmaps-483dab9a3cc", "anchor_text": "Pheatmap Draws Pretty HeatmapsA tutorial of how to generate pretty heatmaps with pheatmap in R.towardsdatascience.com"}, {"url": "https://towardsdatascience.com/present-the-feature-importance-of-the-random-forest-classifier-99bb042be4cc", "anchor_text": "Present The Feature Importance of The Random Forest ClassifierHow to build a random forest classifier, extract the feature importance, and present them beautifully.towardsdatascience.com"}, {"url": "https://towardsdatascience.com/a-practical-suggestion-in-linear-regression-cb639fd5ccdb", "anchor_text": "A Practical Suggestion in Linear RegressionStart from Elastic Net and remember to tune the hyperparameter that defines the ratio of l1 norm.towardsdatascience.com"}, {"url": "https://unsplash.com/@nate_dumlao?utm_source=medium&utm_medium=referral", "anchor_text": "Nathan Dumlao"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/data-science?source=post_page-----7aca16e74773---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----7aca16e74773---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/nba?source=post_page-----7aca16e74773---------------nba-----------------", "anchor_text": "NBA"}, {"url": "https://medium.com/tag/multicollinearity?source=post_page-----7aca16e74773---------------multicollinearity-----------------", "anchor_text": "Multicollinearity"}, {"url": "https://medium.com/tag/regression?source=post_page-----7aca16e74773---------------regression-----------------", "anchor_text": "Regression"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7aca16e74773&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconsider-multicollinearity-in-my-model-or-not-7aca16e74773&user=Yufeng&userId=9cda0369fb2&source=-----7aca16e74773---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7aca16e74773&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconsider-multicollinearity-in-my-model-or-not-7aca16e74773&user=Yufeng&userId=9cda0369fb2&source=-----7aca16e74773---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7aca16e74773&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconsider-multicollinearity-in-my-model-or-not-7aca16e74773&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7aca16e74773--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F7aca16e74773&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconsider-multicollinearity-in-my-model-or-not-7aca16e74773&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----7aca16e74773---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----7aca16e74773--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----7aca16e74773--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7aca16e74773--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7aca16e74773--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7aca16e74773--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7aca16e74773--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7aca16e74773--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7aca16e74773--------------------------------", "anchor_text": ""}, {"url": "https://jianan-lin.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://jianan-lin.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Yufeng"}, {"url": "https://jianan-lin.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "728 Followers"}, {"url": "https://jianan-lin.medium.com/membership", "anchor_text": "https://jianan-lin.medium.com/membership"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F9cda0369fb2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconsider-multicollinearity-in-my-model-or-not-7aca16e74773&user=Yufeng&userId=9cda0369fb2&source=post_page-9cda0369fb2--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff12c76e2ba88&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconsider-multicollinearity-in-my-model-or-not-7aca16e74773&newsletterV3=9cda0369fb2&newsletterV3Id=f12c76e2ba88&user=Yufeng&userId=9cda0369fb2&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}