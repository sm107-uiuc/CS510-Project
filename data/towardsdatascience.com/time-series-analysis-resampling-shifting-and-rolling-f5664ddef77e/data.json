{"url": "https://towardsdatascience.com/time-series-analysis-resampling-shifting-and-rolling-f5664ddef77e", "time": 1683005825.229774, "path": "towardsdatascience.com/time-series-analysis-resampling-shifting-and-rolling-f5664ddef77e/", "webpage": {"metadata": {"title": "Time Series Analysis: Resampling, Shifting and Rolling | by Soner Y\u0131ld\u0131r\u0131m | Towards Data Science", "h1": "Time Series Analysis: Resampling, Shifting and Rolling", "description": "There are many definitions of time series data, all of which indicate the same meaning in a different way. A straightforward definition is that time series data includes data points attached to\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/jessevent/all-crypto-currencies", "anchor_text": "crypto currency dataset", "paragraph_index": 3}, {"url": "http://linkedin.com/in/soneryildirim/", "anchor_text": "linkedin.com/in/soneryildirim/", "paragraph_index": 25}, {"url": "http://twitter.com/snr14", "anchor_text": "twitter.com/snr14", "paragraph_index": 25}], "all_paragraphs": ["There are many definitions of time series data, all of which indicate the same meaning in a different way. A straightforward definition is that time series data includes data points attached to sequential time stamps. The sources of time series data are periodic measurements or observations. We observe time series data in many industries. Just to give a few examples:", "Advancements in machine learning have increased the value of time series data. Companies apply machine learning to time series data to make informed business decisions, do forecasting, compare seasonal or cyclic trends. Large Hadron Collider (LHC) at CERN produces a great amount of time series data with measurements on sub-atomic particles. So, it is everywhere. Handling time series data well is crucial for data analysis process in such fields. Pandas was created by Wes Mckinney to provide an efficient and flexible tool to work with financial data. Therefore, it is a very good choice to work on time series data.", "In this post, I will cover three very useful operations that can be done on time series data.", "Let\u2019s first import the data. I will use crypto currency dataset available on Kaggle.", "As always, we start with importing the libraries we need:", "It is a huge dataset but I will just use opening price of litecoin which is enough to demonstrate how resampling, shifting and rolling windows work.", "When dealing with time series data, it is better to use dates as the index of dataframe.", "Resampling basically means representing the data with a different frequency. Assume we have a temperature sensor which takes measurements every minute. If we do not need to have a minute-level precision, we can take the average of 60 minute measurements in an hour and show the changes in the temperature hourly. This is down-sampling which means converting to a lower frequency.", "Resampling can be done using resample() or asfreq() functions.", "Let\u2019s also see how it looks on a real dataset.", "As you can see, down-sampling makes the data smoother as the frequency increases.", "Asfreq selects the value at the end of the specified interval where as resample aggregates (usually mean) the values in the specified interval.", "As the names suggest, up-sampling is the opposite of down-sampling. The frequency is increased. When we increase the frequency, there will be some missing data.", "We can leave these missing values blank (missing) or select a method to fill these missing values such as forward fill or backward fill.", "Time series data analysis may require to shift data points to make a comparison. The shift and tshift functions shift data in time.", "The difference between shift and tshift is better explained with visualizations. Let\u2019s take a sample from our dataset and apply shifting:", "We can now plot the original data along with shifted versions:", "Depending on the task, we can shift the data points or the index.", "tight_layout function of matplotlib allows to adjust the gap between subplots using the pad parameter.", "Rolling is a very useful operation for time series data. Rolling means creating a rolling window with a specified size and perform calculations on the data in this window which, of course, rolls through the data. The figure below explains the concept of rolling.", "It is worth noting that the calculation starts when the whole window is in the data. In other words, if the size of the window is three, the first aggregation is done at the third row. Let\u2019s apply rolling with size 5 to the sample dataframe we created in the previous part:", "The value on 2013\u201305\u201302 after rolling is the mean of the first 5 values in the original data. The value on 2013\u201305\u201303 is the mean of the values from the second to sixth in the original data and so on.", "Time series data is at the core of many problems that predictive analytics aim to solve. Hence, if you plan to work in the field of predictive analytics, you should definitely learn how to handle time series data well.", "Thanks for reading. Please let me know if you have any feedback.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist | Top 10 Writer in AI and Data Science | linkedin.com/in/soneryildirim/ | twitter.com/snr14"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff5664ddef77e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-resampling-shifting-and-rolling-f5664ddef77e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-resampling-shifting-and-rolling-f5664ddef77e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-resampling-shifting-and-rolling-f5664ddef77e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-resampling-shifting-and-rolling-f5664ddef77e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f5664ddef77e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f5664ddef77e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://sonery.medium.com/?source=post_page-----f5664ddef77e--------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=post_page-----f5664ddef77e--------------------------------", "anchor_text": "Soner Y\u0131ld\u0131r\u0131m"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2cf6b549448&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-resampling-shifting-and-rolling-f5664ddef77e&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=post_page-2cf6b549448----f5664ddef77e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff5664ddef77e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-resampling-shifting-and-rolling-f5664ddef77e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff5664ddef77e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-resampling-shifting-and-rolling-f5664ddef77e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@chrisliverani?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Chris Liverani"}, {"url": "https://unsplash.com/s/photos/stock-price?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://www.kaggle.com/jessevent/all-crypto-currencies", "anchor_text": "crypto currency dataset"}, {"url": "https://unsplash.com/@candelarms?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "LumenSoft Technologies"}, {"url": "https://unsplash.com/s/photos/watches?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f5664ddef77e---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----f5664ddef77e---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/time-series-analysis?source=post_page-----f5664ddef77e---------------time_series_analysis-----------------", "anchor_text": "Time Series Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff5664ddef77e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-resampling-shifting-and-rolling-f5664ddef77e&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=-----f5664ddef77e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff5664ddef77e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-resampling-shifting-and-rolling-f5664ddef77e&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=-----f5664ddef77e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff5664ddef77e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-resampling-shifting-and-rolling-f5664ddef77e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f5664ddef77e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff5664ddef77e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-resampling-shifting-and-rolling-f5664ddef77e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f5664ddef77e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f5664ddef77e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f5664ddef77e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f5664ddef77e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f5664ddef77e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f5664ddef77e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f5664ddef77e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f5664ddef77e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f5664ddef77e--------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Soner Y\u0131ld\u0131r\u0131m"}, {"url": "https://sonery.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "21K Followers"}, {"url": "http://linkedin.com/in/soneryildirim/", "anchor_text": "linkedin.com/in/soneryildirim/"}, {"url": "http://twitter.com/snr14", "anchor_text": "twitter.com/snr14"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2cf6b549448&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-resampling-shifting-and-rolling-f5664ddef77e&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=post_page-2cf6b549448--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7cdf5377373a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-resampling-shifting-and-rolling-f5664ddef77e&newsletterV3=2cf6b549448&newsletterV3Id=7cdf5377373a&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}