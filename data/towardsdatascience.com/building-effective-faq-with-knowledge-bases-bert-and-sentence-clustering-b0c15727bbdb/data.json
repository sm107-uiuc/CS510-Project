{"url": "https://towardsdatascience.com/building-effective-faq-with-knowledge-bases-bert-and-sentence-clustering-b0c15727bbdb", "time": 1683009288.9899452, "path": "towardsdatascience.com/building-effective-faq-with-knowledge-bases-bert-and-sentence-clustering-b0c15727bbdb/", "webpage": {"metadata": {"title": "Building effective FAQ with Knowledge Bases, BERT and Sentence Clustering | by Manu Cohen-Yashar | Towards Data Science", "h1": "Building effective FAQ with Knowledge Bases, BERT and Sentence Clustering", "description": "A successful business is almost always driven by high-quality knowledge and expertise. Modern organizations expose their knowledge with conversational interfaces such as bots and expert systems so\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.qnamaker.ai/", "anchor_text": "Azure QnA Maker", "paragraph_index": 2}, {"url": "https://cloud.google.com/dialogflow/docs/how/knowledge-bases", "anchor_text": "Google Dialogflow Knowledge base", "paragraph_index": 2}, {"url": "https://medium.com/swlh/nlu-for-everyone-with-bert-7bedaa609a61", "anchor_text": "article", "paragraph_index": 3}, {"url": "https://huggingface.co/transformers/usage.html#question-answering", "anchor_text": "huggingface/transformers QnA pipeline", "paragraph_index": 3}, {"url": "https://research.fb.com/publications/eli5-long-form-question-answering/", "anchor_text": "ELI5 research", "paragraph_index": 3}, {"url": "https://nbviewer.jupyter.org/github/amaiya/ktrain/blob/master/examples/text/question_answering_with_bert.ipynb", "anchor_text": "train", "paragraph_index": 3}, {"url": "https://github.com/UKPLab/sentence-transformers", "anchor_text": "SentenceTransformer", "paragraph_index": 7}, {"url": "https://github.com/facebookresearch/faiss", "anchor_text": "Faiss", "paragraph_index": 9}], "all_paragraphs": ["A successful business is almost always driven by high-quality knowledge and expertise. Modern organizations expose their knowledge with conversational interfaces such as bots and expert systems so customers, partners, and employees will have immediate access to the knowledge that drives success. We, data scientists and engineers, are responsible to make that happens. We need to answer a simple question: How do you represent business knowledge so it is easy and simple to consume? There are many approaches and possible strategies for exposing knowledge. in this article I want to dig into the good old Frequently Asked Questions system and discuss how to implement it with the latest AI technologies.", "In the prehistoric era, websites used to have this one FAQ page with a long and tedious list of useless questions. Only real optimists would ever search this list to find a possible remedy for an issue they face. Those years are gone. Today modern websites have an integrated bot that users use to ask questions. At first, those bots were pretty lousy so users were reluctant, but now as the technology (and AI) behind conversational interfaces improve, users, perceive bots and search as the primary interfaces to ask questions.", "Knowledge bases such as Azure QnA Maker and Google Dialogflow Knowledge base are two examples of AI technology that you can use to build a bot that will answer questions from a list of question-answer pairs. Those services can match user questions to the most appropriate entry in the list and respond with the right answer. You can also organize questions in a hierarchy and build a conversation flow that will guide the system to find the right QnA pair. This is great but still, at the core, there is a list of questions and answers. A list that someone needs to build and maintain. Such lists cannot be too long because long lists are impossible to maintain especially as the modern business is dynamic and the right answer changes all the time. Obviously, the list cannot be too short if we want the customer to find it useful and get an effective answer. So how do we find the balance and maintain the questions that matter?", "Questions answering is one of the core tasks NLU networks are designed to solve. In the last few years, the NLU space was revolutionized with the introduction of the transformer and BERT-like architectures. For more details read my article about BERT and its implementations. Today with projects like huggingface/transformers QnA pipeline, we can build QnA systems that find a sentence in an article that can be considered as an answer to a question, with some level of confidence. This is great but there are two basic challenges. 1) BERT-like networks have fixed sized (limited) input size so it is not designed to handle very long text (i.e. context) such as books or even articles.2) The answer is always a sentence from the original text. we all know from our day-to-day experience that often enough a good answer is at least a confluence of sentences from multiple places in the original text or even some new text that does not exist in the original text. Such an answer should be constructed from the ideas expressed in the original text. As of today, NLU question answering networks cannot deliver that, though this is an active area of research. For more details search for ELI5 research.There are some partial solutions to the first challenge. At a high level to answer a question from a large corpus of text, we use a search index before the NLU network. In other words, we first index the documents with some search index, and then when a user submits a question we use the search engine to retrieve some (short) candidate pieces of text on which we will execute the BERT network. Finally, we will return the answer with the best confidence score. There are many such implementations out there, I would like to recommend the one created by train.", "The immediate conclusion is that no one approach is perfect and therefore you will need probably need both to develop your FAQ application. First, you will work with your domain experts and develop a list of question-answer pairs assuming those are the \u201cfrequently\u201d asked questions and thus they cover \u201cmost\u201d of your customer needs. Answers will be deep and comprehensive as they were developed by human experts. Using one of the knowledge base technologies mentioned above you will implement the first layer of the system. Any question submitted by the user will be first served by the knowledge base. Hopefully, your assumption is right and most questions will be successfully handled here. Obviously, there will be questions that do not have an answer in the list. Those will continue to the next layer that is based on the NLU approach. You will collect and index all the relevant documents, manuals, and articles that might contain answers to your customers' questions. When a question arrives the system will find candidate articles and execute BERT-like question answering to come up with the answer. The execution time of the second layer will be much longer than the first one, and the answers will be less accurate but chances are that many answers will be good enough to satisfy the end-user. Hopefully, that will leave the percentage of unanswered questions pretty small.", "As we have seen the system is built on assumptions. You want to constantly validate your assumptions. To do this you must log every question that comes in. These logs will give you precious insights about what is that your customers are really looking for, and equally important will validate your assumptions. You will see how questions were answered, by which layer and maybe even get some sentiment from the end-user.", "Assuming you logged it all, now you want to identify the questions that require further attention. Those are the questions that are not present in your knowledge base and are frequent enough so you will want to invest the time and develop answers that will find their place in the knowledge base. At first, you might think that it's a trivial task to count the appearance of text in your logs, but a second look will tell you that life is not that simple. It's amazing to see how many variations users can come up with just to ask the same simple question. To process large volumes you need to find all of these variations and cluster them to groups that make sense. Once clustered, it's important to save them so you could later feed the variations to the knowledge base as modern knowledge bases know how to group different variations into a single question. Still, you need to solve the problem of questions clustering.", "To execute the sentence embedding you need to insert your sentence into a BERT-like network and look at the CLS token. Fortunately, the SentenceTransformer project does all the heavy lifting so you can accomplish this complex task in two lines of code!!!", "The second stage should be straightforward to anyone with little ML experience. I am using KMeans from sklearn.cluster.", "Now you can manually analyze each cluster and identify the questions to work on. Optionally you can use further clustering and similarity search on the vectors in each cluster using libraries like Faiss. I found that the first level of clustering was enough but maybe your scenario will require further granularity.", "Knowledge bases are a great tool to support your FAQ bot, but the list of question-answer pairs on the backend can never cover all questions and it must be constantly maintained. NLU question answering can fill in the gap and with sentence clustering, you can identify the questions that matter. I hope that this article will help you build your next successful FAQ system.", "Final note: To be able to continue and publish new stories Medium now requires writers to have a minimum number of followers, so please help me continue to publish and press the \u2018follow\u2019 button next to my name.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Chief Data Architect in Alert Innovation"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb0c15727bbdb&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-effective-faq-with-knowledge-bases-bert-and-sentence-clustering-b0c15727bbdb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-effective-faq-with-knowledge-bases-bert-and-sentence-clustering-b0c15727bbdb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-effective-faq-with-knowledge-bases-bert-and-sentence-clustering-b0c15727bbdb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-effective-faq-with-knowledge-bases-bert-and-sentence-clustering-b0c15727bbdb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b0c15727bbdb--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b0c15727bbdb--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://manu-cohen-yashar.medium.com/?source=post_page-----b0c15727bbdb--------------------------------", "anchor_text": ""}, {"url": "https://manu-cohen-yashar.medium.com/?source=post_page-----b0c15727bbdb--------------------------------", "anchor_text": "Manu Cohen-Yashar"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc18f2a03e1e2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-effective-faq-with-knowledge-bases-bert-and-sentence-clustering-b0c15727bbdb&user=Manu+Cohen-Yashar&userId=c18f2a03e1e2&source=post_page-c18f2a03e1e2----b0c15727bbdb---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb0c15727bbdb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-effective-faq-with-knowledge-bases-bert-and-sentence-clustering-b0c15727bbdb&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb0c15727bbdb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-effective-faq-with-knowledge-bases-bert-and-sentence-clustering-b0c15727bbdb&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.qnamaker.ai/", "anchor_text": "Azure QnA Maker"}, {"url": "https://cloud.google.com/dialogflow/docs/how/knowledge-bases", "anchor_text": "Google Dialogflow Knowledge base"}, {"url": "https://medium.com/swlh/nlu-for-everyone-with-bert-7bedaa609a61", "anchor_text": "article"}, {"url": "https://huggingface.co/transformers/usage.html#question-answering", "anchor_text": "huggingface/transformers QnA pipeline"}, {"url": "https://research.fb.com/publications/eli5-long-form-question-answering/", "anchor_text": "ELI5 research"}, {"url": "https://nbviewer.jupyter.org/github/amaiya/ktrain/blob/master/examples/text/question_answering_with_bert.ipynb", "anchor_text": "train"}, {"url": "https://github.com/UKPLab/sentence-transformers", "anchor_text": "SentenceTransformer"}, {"url": "https://github.com/facebookresearch/faiss", "anchor_text": "Faiss"}, {"url": "https://medium.com/tag/faq?source=post_page-----b0c15727bbdb---------------faq-----------------", "anchor_text": "FAQ"}, {"url": "https://medium.com/tag/bert?source=post_page-----b0c15727bbdb---------------bert-----------------", "anchor_text": "Bert"}, {"url": "https://medium.com/tag/question-answering?source=post_page-----b0c15727bbdb---------------question_answering-----------------", "anchor_text": "Question Answering"}, {"url": "https://medium.com/tag/clustering?source=post_page-----b0c15727bbdb---------------clustering-----------------", "anchor_text": "Clustering"}, {"url": "https://medium.com/tag/knowledge?source=post_page-----b0c15727bbdb---------------knowledge-----------------", "anchor_text": "Knowledge"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb0c15727bbdb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-effective-faq-with-knowledge-bases-bert-and-sentence-clustering-b0c15727bbdb&user=Manu+Cohen-Yashar&userId=c18f2a03e1e2&source=-----b0c15727bbdb---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb0c15727bbdb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-effective-faq-with-knowledge-bases-bert-and-sentence-clustering-b0c15727bbdb&user=Manu+Cohen-Yashar&userId=c18f2a03e1e2&source=-----b0c15727bbdb---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb0c15727bbdb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-effective-faq-with-knowledge-bases-bert-and-sentence-clustering-b0c15727bbdb&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b0c15727bbdb--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb0c15727bbdb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-effective-faq-with-knowledge-bases-bert-and-sentence-clustering-b0c15727bbdb&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b0c15727bbdb---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b0c15727bbdb--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b0c15727bbdb--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b0c15727bbdb--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b0c15727bbdb--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b0c15727bbdb--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b0c15727bbdb--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b0c15727bbdb--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b0c15727bbdb--------------------------------", "anchor_text": ""}, {"url": "https://manu-cohen-yashar.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://manu-cohen-yashar.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Manu Cohen-Yashar"}, {"url": "https://manu-cohen-yashar.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "92 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc18f2a03e1e2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-effective-faq-with-knowledge-bases-bert-and-sentence-clustering-b0c15727bbdb&user=Manu+Cohen-Yashar&userId=c18f2a03e1e2&source=post_page-c18f2a03e1e2--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F4e3e0eaef919&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-effective-faq-with-knowledge-bases-bert-and-sentence-clustering-b0c15727bbdb&newsletterV3=c18f2a03e1e2&newsletterV3Id=4e3e0eaef919&user=Manu+Cohen-Yashar&userId=c18f2a03e1e2&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}