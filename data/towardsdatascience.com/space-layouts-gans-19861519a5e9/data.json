{"url": "https://towardsdatascience.com/space-layouts-gans-19861519a5e9", "time": 1683002845.8911412, "path": "towardsdatascience.com/space-layouts-gans-19861519a5e9/", "webpage": {"metadata": {"title": "Space Layouts & GANs. GAN-enabled Floor Plan Generation | by Stanislas Chaillou | Towards Data Science", "h1": "Space Layouts & GANs", "description": "In this article, we unveil some of our recent results and methodologies implemented at Spacemaker AI\u2019s R&D department over the past quarter. This project is one of many ongoing research initiatives\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.linkedin.com/in/stanislas-chaillou-b1931090/", "anchor_text": "Stanislas Chaillou", "paragraph_index": 0}, {"url": "https://spacemaker.ai/", "anchor_text": "Spacemaker AI", "paragraph_index": 0}, {"url": "https://phillipi.github.io/pix2pix/", "anchor_text": "Pix2Pix", "paragraph_index": 2}, {"url": "https://codedocs.xyz/annoviko/pyclustering/classpyclustering_1_1cluster_1_1xmeans_1_1xmeans.html", "anchor_text": "X-Mean clustering", "paragraph_index": 22}, {"url": "http://stanislaschaillou.com", "anchor_text": "http://stanislaschaillou.com", "paragraph_index": 27}], "all_paragraphs": ["Stanislas Chaillou, Architect & Data Scientist @ Spacemaker AI", "In this article, we unveil some of our recent results and methodologies implemented at Spacemaker AI\u2019s R&D department over the past quarter. This project is one of many ongoing research initiatives, aiming at supporting Spacemaker\u2019s long term vision.", "Apartment layout is a challenging yet fundamental task for any architect. Knowing how to place rooms, decide their size, find the relevant adjacencies among them, while defining relevant typologies are key concerns that any drafter takes into account while designing floor plans. In this article, we propose showcasing possibilities offered by Generative Adversarial Neural Networks models (GANs), and their ability to generate relevant floor plan designs. In short, we turn to GAN models, and more specifically Pix2Pix, to help us design housing floor plans, given a set of initial conditions & constraints.", "Generative Adversarial Neural Networks have recently provided evidence of the creative ability of AI models. As any machine-learning model, GANs learn statistically significant phenomena among data presented to them. Their structure, however, represents a breakthrough: made of two key models, the Generator and the Discriminator, GANs leverage a feedback loop between both models to refine their ability to generate relevant images. The Discriminator is trained to recognize images from a set of data. Properly trained, this model is able to distinguish between a real example, taken out of the dataset, from a \u201cfake\u201d image, foreign to the dataset. The Generator, however, is trained to create images resembling images from the same dataset. As the Generator creates images, the Discriminator provides it with feedback. In response, the Generator adapts, to produce even more realistic images. Through this feedback loop, a GAN slowly builds its ability to create relevant synthetic images, factoring in phenomena found among observed data.", "Because GANs represent a tremendous opportunity for us, knowing what input to show them is crucial. We have the opportunity to let the model learn directly from floor plan images. By formatting images, we can control the type of information that the model will learn. For example, simply showing our model the shape of parcels and associated building footprints will yield a model able to create typical building footprints given a parcel\u2019s shape. To ensure the quality of the outputs, we will use our own architectural \u201csense\u201d to curate the content of our training sets: a model will only be as good as the data we give it.", "To illustrate, below is a typical training sequence (Figure 3): this sequence, realized over the course of a day and a half of training, displays how one of our GAN-models progressively learns how to layout rooms and fenestration for a housing unit.", "We propose to apply GANs to floor plan generation. As the above example shows, GANs, and more specifically Pix2Pix, can be trained to draw room layouts. By feeding pairs of images to Pix2Pix, the model will learn the mapping from one image to the other.", "Below, we display images taken out of one of our training sets (Figure 4).", "In the above images, the left-side image (input) encodes the footprint of the apartment unit in black and the position of the facades opening in red. On the right, the pair displays the corresponding room layout, with room program encoded using a color scheme described above.", "In this chapter, we showcase three different generation paradigms, all geared towards different realities of the drafting process. As an architect draws a floor plan, constraints frame his/her design process: the existence of a structural grid, for instance, conditions the placement of walls in space; the necessity of having a given room at a given place puts the entire space layout under stress; the presence of facade opening at a certain spot defines how rooms should be set, etc.", "We have isolated 3 main use-cases (Figure 5) when it comes to designing housing floor plans, corresponding to varying type constraints.", "A) Free plan generation addresses simply cases where the user would only specify :", "B) Program-specific generation addresses cases where the design would be driven by the placement of a specific room type. In particular, the user would specify:", "C) Structure-specific generation addresses cases where the design would be driven by the placement of load-bearing elements, such as walls and columns. Here, the user would specify:", "In this first approach, we hope to let our model make most decisions while constraining it with a minimum amount of internal constraints. No structure or room placement will condition the layout of elements in space; the user will only specify the opening in the facade and the apartment footprint. Our GAN model will then freely plan out space and layout rooms, walls, and openings between rooms by mimicking properties found among the training set.", "Below, we display some typical results (Figure 6).", "In this approach, we assume the generation is primarily driven by the placement of a specific room. For instance, for a given apartment layout, a designer might want to define where bedrooms would be and leave to the machine the responsibility of placing by itself the remaining rooms. We support this design logic by allowing users to input bedroom size and position in the input (green patch), as well as the apartment footprint and the facade\u2019s openings. As a result, the model is able to respect this initial placement, while surrounding bedrooms with \u201cserving\u201d spaces (other rooms that should be present in the program).", "Below, we display some typical results (Figure 7).", "In the third approach, we take into account the existence of load-bearing walls as initial constraints. By marking the input images of the training set with green lines, we signal to our GAN model the presence of such walls and train it to generate room layouts with respect to these structural elements.", "Below, we display some typical results (Figure 8).", "In this final step, we offer a simple pipeline to vectorize our GAN outputs (Figure 9). To be clear, because raster images are the result of our generation models, we need to post-process these outputs, to turn them into actual geometry. The above illustration describes the overall pipeline.", "We first threshold the initial GAN output to extract the boundary of each room, while keeping track of their respective program. This thresholding can be easily achieved using room colors and contour selection in OpenCV. The resulting outline, however, is wiggly and inaccurate, but the program type and the position in space of each are respected.", "Next, we restore the orthogonality of each room polyline, while snapping outlines together using an X-Mean clustering algorithm. X-Mean clustering simply checks the distribution of points along the X and Y directions and creates clusters of these points in an unsupervised fashion. Each cluster will then yield a \u201cgrid line\u201d to which any neighboring point will be snapped.", "Below, we display the results of our vectorization pipeline (Figure 10). If the floor plan shape and the relative placement of rooms are kept in the process, some finer details can be lost along the way.", "The generation of apartment layouts can tremendously benefit from a statistical approach. When drawing floor plans, GANs seem better suited to handle complex topological problems, and can potentially outperform, or at least complement, previous procedural techniques.", "In this article, we have showcased only some variations around this topic, and hope to see more investigations in this area in the near future. The latest developments in graph generation using GANs open alternative techniques to generate similar results, while retaining more control over the geometry being generated than with raster-based GAN techniques.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Architect, Data Scientist, Co-Founder at Rayon | Harvard \u201919 | http://stanislaschaillou.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F19861519a5e9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspace-layouts-gans-19861519a5e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspace-layouts-gans-19861519a5e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspace-layouts-gans-19861519a5e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspace-layouts-gans-19861519a5e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----19861519a5e9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----19861519a5e9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@sfjchaillou?source=post_page-----19861519a5e9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sfjchaillou?source=post_page-----19861519a5e9--------------------------------", "anchor_text": "Stanislas Chaillou"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4c219cc8793&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspace-layouts-gans-19861519a5e9&user=Stanislas+Chaillou&userId=4c219cc8793&source=post_page-4c219cc8793----19861519a5e9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F19861519a5e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspace-layouts-gans-19861519a5e9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F19861519a5e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspace-layouts-gans-19861519a5e9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.linkedin.com/in/stanislas-chaillou-b1931090/", "anchor_text": "Stanislas Chaillou"}, {"url": "https://spacemaker.ai/", "anchor_text": "Spacemaker AI"}, {"url": "https://phillipi.github.io/pix2pix/", "anchor_text": "Pix2Pix"}, {"url": "https://medium.freecodecamp.org/an-intuitive-introduction-to-generative-adversarial-networks-gans-7a2264a81394", "anchor_text": "Image Source"}, {"url": "https://codedocs.xyz/annoviko/pyclustering/classpyclustering_1_1cluster_1_1xmeans_1_1xmeans.html", "anchor_text": "X-Mean clustering"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----19861519a5e9---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/neural-networks?source=post_page-----19861519a5e9---------------neural_networks-----------------", "anchor_text": "Neural Networks"}, {"url": "https://medium.com/tag/architecture?source=post_page-----19861519a5e9---------------architecture-----------------", "anchor_text": "Architecture"}, {"url": "https://medium.com/tag/generative-adversarial?source=post_page-----19861519a5e9---------------generative_adversarial-----------------", "anchor_text": "Generative Adversarial"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----19861519a5e9---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F19861519a5e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspace-layouts-gans-19861519a5e9&user=Stanislas+Chaillou&userId=4c219cc8793&source=-----19861519a5e9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F19861519a5e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspace-layouts-gans-19861519a5e9&user=Stanislas+Chaillou&userId=4c219cc8793&source=-----19861519a5e9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F19861519a5e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspace-layouts-gans-19861519a5e9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----19861519a5e9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F19861519a5e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspace-layouts-gans-19861519a5e9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----19861519a5e9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----19861519a5e9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----19861519a5e9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----19861519a5e9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----19861519a5e9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----19861519a5e9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----19861519a5e9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----19861519a5e9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----19861519a5e9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sfjchaillou?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sfjchaillou?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Stanislas Chaillou"}, {"url": "https://medium.com/@sfjchaillou/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.6K Followers"}, {"url": "http://stanislaschaillou.com", "anchor_text": "http://stanislaschaillou.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4c219cc8793&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspace-layouts-gans-19861519a5e9&user=Stanislas+Chaillou&userId=4c219cc8793&source=post_page-4c219cc8793--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7e33e43e73e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspace-layouts-gans-19861519a5e9&newsletterV3=4c219cc8793&newsletterV3Id=7e33e43e73e9&user=Stanislas+Chaillou&userId=4c219cc8793&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}