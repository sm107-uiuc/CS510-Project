{"url": "https://towardsdatascience.com/tutorial-network-visualization-basics-with-networkx-and-plotly-and-a-little-nlp-57c9bbb55bb9", "time": 1683007405.96792, "path": "towardsdatascience.com/tutorial-network-visualization-basics-with-networkx-and-plotly-and-a-little-nlp-57c9bbb55bb9/", "webpage": {"metadata": {"title": "Tutorial: Network Visualization Basics with Networkx and Plotly in Python | Towards Data Science", "h1": "Tutorial: Network Visualization Basics with Networkx and Plotly in Python", "description": "A step-by-step guide of how I created a network graph of characters in A Midsummer Night's Dream using Python packages, Networkx and Plotly."}, "outgoing_paragraph_urls": [{"url": "https://github.com/rweng18/midsummer_network", "anchor_text": "my GitHub repo", "paragraph_index": 2}, {"url": "http://www.martingrandjean.ch/network-visualization-shakespeare/", "anchor_text": "here", "paragraph_index": 3}, {"url": "https://www.gutenberg.org/ebooks/1514", "anchor_text": "here", "paragraph_index": 11}, {"url": "https://www.gutenberg.org/", "anchor_text": "Project Gutenberg", "paragraph_index": 12}, {"url": "http://networkx.github.io/", "anchor_text": "Networkx package\u2019s development notes", "paragraph_index": 29}], "all_paragraphs": ["For this project, I wanted to combine my love of literature, sociology, and data science. More specifically, I have had an interest in social networks since my college days, and given recent events, representing how different agents are connected is increasingly important. So I developed a character network of A Midsummer Night\u2019s Dream, which is my favorite Shakespeare play. If you haven\u2019t read it yet and enjoy something fairly whimsical, I would recommend it!", "In the following post, I will first go through the basics of a network. Then I will briefly go over the code I used to get my data in the format I needed. Then I go over the code I used to create and customize the above graph. All of the resources that I used are linked at the bottom. I hope this tutorial is helpful! Feel free to leave a comment if you have any questions! Happy graphing!", "All of the code can be found on my GitHub repo.", "(This blog post was inspired by Martin Grandjean\u2019s amazing work visualizing networks in Shakespearean tragedies, which you can find here.)", "Before we can visualize anything, we need to understand how we are defining a network. For the purposes of this exercise, we will use the following definition:", "A network consists of a set of nodes that are connected to each other via a set of edges.", "We can think of nodes as any sort of agents or objects that we\u2019re trying to connect. For example, in my case, my nodes are the characters in A Midsummer Night\u2019s Dream, but if you wanted to show the New York City subway network, your nodes might be the subway stations.", "You can think of edges as the connections between the nodes. For my project, I decided that what connected the characters in the play were the scenes they appeared in together. I considered two characters (nodes) connected if they appeared in a scene together (an edge). For the subway network example, it might be the subway lines. So two subway stations (nodes) are connected if a subway line runs between the stations (an edge).", "Now that we\u2019ve gone through the very basics of a network, we can start turning our understanding into code. We need the following things to create a network graph:", "Since we have established at a high-level, what we need, we can begin coding.", "For this project, I required two different sets of packages. The first would be for collecting and cleaning my data so that I can have a set of nodes and edges in Python data structures. The second set of packages is for the visualization.", "After installing and loading the packages, you can load your raw data. I found my text of A Midsummer Night\u2019s Dream from Project Gutenberg here.", "Project Gutenberg is an amazing, and FREE library of eBooks. There are over 60,000 eBooks, and I highly recommend it as a resource if you\u2019re looking to venture into the world of natural language processing (NLP).", "Since this is not an NLP post, I\u2019m just going to highlight some considerations I had to make since I was dealing with natural language data.", "If you\u2019re interested in the nitty-gritty parts of my data cleaning code, feel free to check out my GitHub, linked above and below.", "STEP #1: Look at your data", "I know this sounds so basic, but if you want to visualize your data, it is best practice to really understand your data. For example, here are some questions I asked my data:", "STEP #2: Take a simple sample of your data and try to process it", "If you try to take the entire script and process it, it will be very error-prone, and you\u2019ll probably miss out on opportunities to modularize your code. So I took Act I, Scene ii since all of the characters enter at the beginning of the scene, no additional characters enter throughout, and no one exits the scene until the end.", "I created a process.py file with two main functions and a few helper functions. This is by no means the only way to do it, but this was how I approached my problem, which was that my data was complex and varied.", "Here\u2019s a sample of what my data structure looked like:", "STEP #4: Use your functions to process the data", "Now that I have these data structures, I needed to fill the structure with important information \u2014 how many times each character appeared with another character (edges).", "There is a LOT more code that supports the following code snippet. If you have questions you can see my GitHub repo linked above and below for more details.", "NOTE: If you\u2019re not interested in keeping track of HOW connected two nodes are connected, but only WHETHER two nodes are connected, you can just use a boolean instead of an integer.", "NOTE: If you\u2019re not interested in keeping track of HOW important each node is, but only the EXISTENCE of a node, you can just use a list to keep track of the nodes rather than a dictionary.", "We will start out by just creating the graph, adding nodes, and adding edges. There are lines of code where you can customize your graph, and I will call them out in the final section of this blog post.", "NOTE: I customized using the size variable for nodes and the weight variable for edges based on the number of scenes a character appeared in, and the number of scenes that two characters shared, respectively. This is optional.", "You can view the nodes and edges in a Networkx Graph using the attributes midsummer.nodes and midsummer.edges.", "We then need to get the positions for the nodes in the graph. There are a few different layouts to choose from. I thought the spring layout looked the best. You can see more options in the Networkx package\u2019s development notes under the Graph Layout section.", "Since I was customizing every edge\u2019s width/weight based on the number of scenes two characters appeared in together, I created a custom function to create a unique edge trace using Plotly for every single node pair.", "The function takes in two nodes (characters), x and y, any text that you want to appear when you hover over the edge, and the width of the edge trace.", "Now that you\u2019ve created a function with your specifications, iterate through your edges and make an edge trace for every edge of a specified width (determined by the weight of the edge).", "For the nodes, you can stick to only making a single node trace \u2014 a single scatter object \u2014 and still customize each node\u2019s size.", "Now that we have our node trace with all of our nodes, and our edge traces, we can put it all together in a Plotly figure and see what it looks like.", "To customize my layout, I fiddled with the background color and appearance of the gridlines, legend, and tick labels.", "At the most basic level, you can always customize the color of your nodes and edges, as well as any text that appears statically next to your nodes/edges or that appears when you hover your mouse over a node or edge.", "You can access both the color and text fairly easily just using the attributes in the node and edge traces. You\u2019ll notice where I call on these attributes in the code snippets I\u2019ve shared in this article. But one neat trick I used to make my text stand out more was learning how to bold the static text next to my nodes:", "Lastly, I wanted to highlight the most VISUALLY important customization I did. This involved trial-and-error for what I thought looked best. The following lines of code were in the section about creating the edge traces and node trace, respectively:", "As you can see, I hard-coded in scalars and exponents to determine how big of a difference appearing in x vs. y scenes in the play (size of node) or appearing in x vs. y scenes with the same character made (width of edge). What specific numbers you use will change the look of your graph pretty drastically. So play around with them until you feel satisfied!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Technical writer & tech enthusiast making the complex accessible | @Princeton Sociology UG \u201918 | @FlatironSchool DS NYC | Bookworm | Foodie"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F57c9bbb55bb9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftutorial-network-visualization-basics-with-networkx-and-plotly-and-a-little-nlp-57c9bbb55bb9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftutorial-network-visualization-basics-with-networkx-and-plotly-and-a-little-nlp-57c9bbb55bb9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftutorial-network-visualization-basics-with-networkx-and-plotly-and-a-little-nlp-57c9bbb55bb9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftutorial-network-visualization-basics-with-networkx-and-plotly-and-a-little-nlp-57c9bbb55bb9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----57c9bbb55bb9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----57c9bbb55bb9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@rweng18?source=post_page-----57c9bbb55bb9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rweng18?source=post_page-----57c9bbb55bb9--------------------------------", "anchor_text": "Rebecca Weng"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F52f42f78df5a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftutorial-network-visualization-basics-with-networkx-and-plotly-and-a-little-nlp-57c9bbb55bb9&user=Rebecca+Weng&userId=52f42f78df5a&source=post_page-52f42f78df5a----57c9bbb55bb9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F57c9bbb55bb9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftutorial-network-visualization-basics-with-networkx-and-plotly-and-a-little-nlp-57c9bbb55bb9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F57c9bbb55bb9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftutorial-network-visualization-basics-with-networkx-and-plotly-and-a-little-nlp-57c9bbb55bb9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/rweng18/midsummer_network", "anchor_text": "my GitHub repo"}, {"url": "http://www.martingrandjean.ch/network-visualization-shakespeare/", "anchor_text": "here"}, {"url": "https://www.gutenberg.org/ebooks/1514", "anchor_text": "here"}, {"url": "https://www.gutenberg.org/", "anchor_text": "Project Gutenberg"}, {"url": "http://networkx.github.io/", "anchor_text": "Networkx package\u2019s development notes"}, {"url": "https://www.gutenberg.org/", "anchor_text": "Project GutenbergProject Gutenberg is a library of over 60,000 free eBooks. Choose among free epub and Kindle eBooks, download them or\u2026www.gutenberg.org"}, {"url": "https://plotly.com/python/network-graphs/", "anchor_text": "Network GraphsDash is an open-source framework for building analytical applications, with no Javascript required, and it is tightly\u2026plotly.com"}, {"url": "http://www.martingrandjean.ch/network-visualization-shakespeare/", "anchor_text": "Network visualization: mapping Shakespeare's tragediesAre Shakespeare's tragedies all structured in the same way? Are the characters rather isolated, grouped, all connected\u2026www.martingrandjean.ch"}, {"url": "http://networkx.github.io/", "anchor_text": "NetworkX - NetworkX documentationNetworkX is a Python package for the creation, manipulation, and study of the structure, dynamics, and functions of\u2026networkx.github.io"}, {"url": "https://github.com/rweng18/midsummer_network", "anchor_text": "rweng18/midsummer_networkCreating character network graphs. Contribute to rweng18/midsummer_network development by creating an account on\u2026github.com"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----57c9bbb55bb9---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/python?source=post_page-----57c9bbb55bb9---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/network?source=post_page-----57c9bbb55bb9---------------network-----------------", "anchor_text": "Network"}, {"url": "https://medium.com/tag/data-science?source=post_page-----57c9bbb55bb9---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----57c9bbb55bb9---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F57c9bbb55bb9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftutorial-network-visualization-basics-with-networkx-and-plotly-and-a-little-nlp-57c9bbb55bb9&user=Rebecca+Weng&userId=52f42f78df5a&source=-----57c9bbb55bb9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F57c9bbb55bb9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftutorial-network-visualization-basics-with-networkx-and-plotly-and-a-little-nlp-57c9bbb55bb9&user=Rebecca+Weng&userId=52f42f78df5a&source=-----57c9bbb55bb9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F57c9bbb55bb9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftutorial-network-visualization-basics-with-networkx-and-plotly-and-a-little-nlp-57c9bbb55bb9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----57c9bbb55bb9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F57c9bbb55bb9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftutorial-network-visualization-basics-with-networkx-and-plotly-and-a-little-nlp-57c9bbb55bb9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----57c9bbb55bb9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----57c9bbb55bb9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----57c9bbb55bb9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----57c9bbb55bb9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----57c9bbb55bb9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----57c9bbb55bb9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----57c9bbb55bb9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----57c9bbb55bb9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----57c9bbb55bb9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rweng18?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rweng18?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Rebecca Weng"}, {"url": "https://medium.com/@rweng18/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "186 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F52f42f78df5a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftutorial-network-visualization-basics-with-networkx-and-plotly-and-a-little-nlp-57c9bbb55bb9&user=Rebecca+Weng&userId=52f42f78df5a&source=post_page-52f42f78df5a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F36227475c63f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftutorial-network-visualization-basics-with-networkx-and-plotly-and-a-little-nlp-57c9bbb55bb9&newsletterV3=52f42f78df5a&newsletterV3Id=36227475c63f&user=Rebecca+Weng&userId=52f42f78df5a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}