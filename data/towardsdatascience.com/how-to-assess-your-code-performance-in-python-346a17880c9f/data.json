{"url": "https://towardsdatascience.com/how-to-assess-your-code-performance-in-python-346a17880c9f", "time": 1683018166.4484422, "path": "towardsdatascience.com/how-to-assess-your-code-performance-in-python-346a17880c9f/", "webpage": {"metadata": {"title": "How to assess your code performance in Python | by Sophia Yang | Towards Data Science", "h1": "How to assess your code performance in Python", "description": "Profiling helps us identify bottlenecks and optimize performance in our code. If our code runs slowly, we can identify where our code is slow and then make corresponding improvements. cProfile is a\u2026"}, "outgoing_paragraph_urls": [{"url": "https://docs.python.org/3/library/profile.html", "anchor_text": "Python documentation", "paragraph_index": 1}, {"url": "https://docs.python.org/3/library/profile.html#module-cProfile", "anchor_text": "cProfile", "paragraph_index": 2}, {"url": "https://docs.python.org/3/library/profile.html#module-profile", "anchor_text": "profile", "paragraph_index": 2}, {"url": "https://docs.python.org/3/library/profile.html#module-cProfile", "anchor_text": "cProfile", "paragraph_index": 2}, {"url": "https://medium.com/dsc-msit/descent-method-steepest-descent-and-conjugate-gradient-in-python-85aa4c4aac7b", "anchor_text": "article", "paragraph_index": 4}, {"url": "https://anaconda.cloud/tutorials/5996898c-1a5b-4ec1-8697-704144d5b025", "anchor_text": "video", "paragraph_index": 11}, {"url": "http://twitter.com/sophiamyang", "anchor_text": "twitter.com/sophiamyang", "paragraph_index": 13}, {"url": "http://youtube.com/SophiaYangDS", "anchor_text": "youtube.com/SophiaYangDS", "paragraph_index": 13}, {"url": "http://dsbookclub.github.io", "anchor_text": "dsbookclub.github.io", "paragraph_index": 13}], "all_paragraphs": ["Profiling helps us identify bottlenecks and optimize performance in our code. If our code runs slowly, we can identify where our code is slow and then make corresponding improvements.", "Here are the explanations of Python profilers from the Python documentation:", "cProfile and profile provide deterministic profiling of Python programs. A profile is a set of statistics that describes how often and for how long various parts of the program executed\u2026cProfile is recommended for most users; it\u2019s a C extension with reasonable overhead that makes it suitable for profiling long-running programs.", "cProfile is a Python built-in profiler, which is great for measuring the time spent at each function and how many times each function is executed. Let\u2019s start with an example of cProfile.", "Here is a Python script solving a linear system with the conjugate gradient method. Details of the calculation can be found in my other article. To run this Python script, we can simply do python conjugate_method_cprofile.py.", "To profile with cProfile, run the following code in your terminal and save results to p0.prof.", "Then we can use snakeviz to visualize the results.", "Here is what we get from snakeviz, which shows the name of the functions and time spent in each function. For example, in this example, our program conjugate_method.py takes most of the time, and calculating whether our matrix is symmetric positive definite, which includes calculating eigenvalues, takes some time as well.", "The other profiling technique I use quite often is line profiling. Line profiling gives us information about the execution time for each line of our code. This is especially helpful when we have a specific function to dig into. To use line profiler, first we need to add a decorator @profile in front of our function in the Python script. See line 8 in this example:", "Then we can run the following code to do the line profiling:", "Results show the time spent on each line of our function. Here we can see most of the time spent on lines 19, 21, 23, and 10. If we want to improve our performance, we need to think of ways to optimize those lines.", "These are my two favorite tools for profiling Python code. In the examples, I used them from the terminal, but you can also use them as magic in Jupyter Notebooks. See this video for details. There are other profiling tools you can use. For example, you can simply use timeit to get the time spent on the entire function. You can also profile memory usage. Hope you enjoy playing with profiling!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Ph.D. | Senior Data Scientist@Anaconda | Twitter: twitter.com/sophiamyang | YouTube: youtube.com/SophiaYangDS | Book Club: dsbookclub.github.io"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F346a17880c9f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-assess-your-code-performance-in-python-346a17880c9f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-assess-your-code-performance-in-python-346a17880c9f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-assess-your-code-performance-in-python-346a17880c9f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-assess-your-code-performance-in-python-346a17880c9f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----346a17880c9f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----346a17880c9f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://sophiamyang.medium.com/?source=post_page-----346a17880c9f--------------------------------", "anchor_text": ""}, {"url": "https://sophiamyang.medium.com/?source=post_page-----346a17880c9f--------------------------------", "anchor_text": "Sophia Yang"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fae9cae9cbcd2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-assess-your-code-performance-in-python-346a17880c9f&user=Sophia+Yang&userId=ae9cae9cbcd2&source=post_page-ae9cae9cbcd2----346a17880c9f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F346a17880c9f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-assess-your-code-performance-in-python-346a17880c9f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F346a17880c9f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-assess-your-code-performance-in-python-346a17880c9f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://docs.python.org/3/library/profile.html", "anchor_text": "Python documentation"}, {"url": "https://docs.python.org/3/library/profile.html#module-cProfile", "anchor_text": "cProfile"}, {"url": "https://docs.python.org/3/library/profile.html#module-profile", "anchor_text": "profile"}, {"url": "https://docs.python.org/3/library/profile.html#module-cProfile", "anchor_text": "cProfile"}, {"url": "https://medium.com/dsc-msit/descent-method-steepest-descent-and-conjugate-gradient-in-python-85aa4c4aac7b", "anchor_text": "article"}, {"url": "https://anaconda.cloud/tutorials/5996898c-1a5b-4ec1-8697-704144d5b025", "anchor_text": "video"}, {"url": "https://medium.com/dsc-msit/descent-method-steepest-descent-and-conjugate-gradient-in-python-85aa4c4aac7b", "anchor_text": "https://medium.com/dsc-msit/descent-method-steepest-descent-and-conjugate-gradient-in-python-85aa4c4aac7b"}, {"url": "https://docs.python.org/3/library/profile.html", "anchor_text": "https://docs.python.org/3/library/profile.html"}, {"url": "https://anaconda.cloud/tutorials/5996898c-1a5b-4ec1-8697-704144d5b025", "anchor_text": "https://anaconda.cloud/tutorials/5996898c-1a5b-4ec1-8697-704144d5b025"}, {"url": "https://medium.com/tag/data-science?source=post_page-----346a17880c9f---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----346a17880c9f---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/profile?source=post_page-----346a17880c9f---------------profile-----------------", "anchor_text": "Profile"}, {"url": "https://medium.com/tag/performance?source=post_page-----346a17880c9f---------------performance-----------------", "anchor_text": "Performance"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F346a17880c9f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-assess-your-code-performance-in-python-346a17880c9f&user=Sophia+Yang&userId=ae9cae9cbcd2&source=-----346a17880c9f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F346a17880c9f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-assess-your-code-performance-in-python-346a17880c9f&user=Sophia+Yang&userId=ae9cae9cbcd2&source=-----346a17880c9f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F346a17880c9f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-assess-your-code-performance-in-python-346a17880c9f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----346a17880c9f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F346a17880c9f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-assess-your-code-performance-in-python-346a17880c9f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----346a17880c9f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----346a17880c9f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----346a17880c9f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----346a17880c9f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----346a17880c9f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----346a17880c9f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----346a17880c9f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----346a17880c9f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----346a17880c9f--------------------------------", "anchor_text": ""}, {"url": "https://sophiamyang.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://sophiamyang.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sophia Yang"}, {"url": "https://sophiamyang.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.8K Followers"}, {"url": "http://twitter.com/sophiamyang", "anchor_text": "twitter.com/sophiamyang"}, {"url": "http://youtube.com/SophiaYangDS", "anchor_text": "youtube.com/SophiaYangDS"}, {"url": "http://dsbookclub.github.io", "anchor_text": "dsbookclub.github.io"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fae9cae9cbcd2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-assess-your-code-performance-in-python-346a17880c9f&user=Sophia+Yang&userId=ae9cae9cbcd2&source=post_page-ae9cae9cbcd2--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F74b7376b1b9e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-assess-your-code-performance-in-python-346a17880c9f&newsletterV3=ae9cae9cbcd2&newsletterV3Id=74b7376b1b9e&user=Sophia+Yang&userId=ae9cae9cbcd2&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}