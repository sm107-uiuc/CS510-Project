{"url": "https://towardsdatascience.com/what-is-the-difference-between-a-having-clause-and-a-where-clause-in-sql-ed74e0a8ad6d", "time": 1683003930.5638342, "path": "towardsdatascience.com/what-is-the-difference-between-a-having-clause-and-a-where-clause-in-sql-ed74e0a8ad6d/", "webpage": {"metadata": {"title": "What is the difference between a having clause and a where clause in SQL? | by Kate Marie Lewis | Towards Data Science", "h1": "What is the difference between a having clause and a where clause in SQL?", "description": "In SQL where clauses and having clauses are used to filter data. Where clauses are fairly straight forward but having clauses are a bit trickier. Where clauses filter the data as it is in the table\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.imdb.com/title/tt0118276/faq?ref_=ttpl_ql_op_2#fq0016887", "anchor_text": "here", "paragraph_index": 8}, {"url": "http://sqlfiddle.com/", "anchor_text": "SQL Fiddle", "paragraph_index": 11}, {"url": "http://www.katemarielewis.com", "anchor_text": "www.katemarielewis.com", "paragraph_index": 29}], "all_paragraphs": ["In SQL where clauses and having clauses are used to filter data. Where clauses are fairly straight forward but having clauses are a bit trickier. Where clauses filter the data as it is in the table. In contrast, having clauses filter the data after grouping and aggregation. Another way of putting it is that where works on individual records, but having works on grouped records.", "In this story I will describe both the where clause and having clause. I will then go through an example using a where clause and a having clause using the characters from Buffy the Vampire Slayer.", "This scenario mentions storylines from Buffy the Vampire Slayer, so if you have not seen it yet and don\u2019t want to find out what happens\u2026stop reading here. However, given that it started in 1997 and finished in 2003 I think we are probably pretty safe \ud83d\ude1c", "Buffy and her friends live in Sunnydale on the Hellmouth. Buffy is the vampire slayer, but other characters also contribute to slaying vampires and demons.", "Imagine we have a table containing data collected on the Hellmouth. This table is called vampires_slain and shows the number of vampires killed by all the characters who live in Sunnydale. It also gives each individual a label for what category they fall into, these include slayer, vampire, civilian and watcher.", "Throughout the series Buffy dies twice. Once in season 1 when the Master drowned her. She was revived and continued to kill vampires after that. The second time she died was in the finale of season 5 where she jumped off a tower into a portal to die instead of her sister Dawn. At the start of season 6 her friends bring her back from the dead using witchcraft and she goes back to slaying vampires.", "Since she died twice, Buffy actually has three entries in the vampires_slain table.", "These numbers are not real. I made them up as a guess of how many vampires I thought each character would have killed over their lifespan. It is true that I am currently binge watching the entire 7 seasons of Buffy, but I am not sitting there taking a tally of all the vampires that die while I am doing it.", "If you are interested in finding out the actual number of on screen kills for each character you can find it here. I didn\u2019t use these numbers for my example because the numbers are skewed in favour of the main characters who have more screen time.", "Faith and Buffy are having an argument. They have always had a rivalry, but this argument is about who has killed the most vampires. Faith thinks that only she has slain over 1000 vampires and that Buffy has not managed to get to that number. Buffy disagrees and thinks that she has killed much more than 1000 vampires.", "To solve their squabble, Giles uses the vampires_slain record.", "To run the code in this example I used MySQL 5.6 in SQL Fiddle. Feel free to use that if you would like to try out running the code.", "To solve the argument between Buffy and Faith, Giles wants to filter the table of vampires_slain. He wants to show only those individuals who have a slay_count that is greater than 1000. He tries to do that using a where clause.", "Where in SQL is a simple filter. If the where condition for a query is met, then the row of data is returned in the results. Simple as that.", "The where clause is most commonly used after the from in the query. There are a bunch of different operators that you can use in the where clause including =, >, <, >=, <=, !=, between, like and in. Note that in MySQL either != or <> can be used to mean \u2018not equal to\u2019.", "Faith was surprised that she was not the only individual that had more than 1000 vampires slain. Angel, Kendra and Spike were also on the list where slay_count was greater than 1000.", "Buffy was surprised to find that she was not on the list. Even Kendra who was killed at a young age had a slay_count above 1000.", "When Buffy bought up Kendra, Giles realised that when Buffy died and Kendra was called to be a slayer, that may have split Buffy\u2019s record in two. He then remembered that she had died a second time to save Dawn and came to the conclusion that Buffy would have 3 entries in the table.", "To combine the three records Giles decided to use a having clause. That way he would be able to see if the sum of the three entries for Buffy is greater than 1000 and if her number of vampires slain is greater than Faith\u2019s.", "The where keyword cannot be used in conjunction with aggregate functions. That is where having comes in. Having can only be used in conjunction with a group by clause. Some of the most common aggregate functions in SQL are min, max, ave, count and sum.", "When having is used in a query, only groups that meet the having condition are returned.", "Giles uses a having clause to solve the problem of Buffy being entered into the vampires_slain table twice. He groups the entries by name so that Buffy\u2019s two entries will be rolled up into one. The two entries under her name will be summed using the sum aggregate function within the having clause.", "He can then once again use the > sign to filter the dataset to contain only grouped entries with summed slay_count that is greater than 1000.", "So once Giles had used the having clause, the slay_counts were summed for each individual and then filtered to produce a table that had only the individuals with sum(slay_count) greater than 1000. The resulting table contained Faith, Angel, Kendra and Spike as before, but it also contained Buffy with a sum(slay_count) of 1947.", "Therefore Giles had solved the argument. Both Buffy and Faith had a total slay_count greater than 1000. Faith was wrong. Not only did Buffy have more than 1000 vampire kills, but her total number of slain vampires of 1947 was greater than Faith\u2019s 1421.", "I have to confess that I tend not to use having clauses much in my day to day database querying. Instead I would normally create intermediate tables where the items are grouped. Then I would use a where clause to filter the intermediate table if I needed to. I guess that I often group fields or filter them but rarely both at the same time.", "The main reason that I would create intermediate tables instead of using a having clause is that the data that I have worked on are in extremely large tables. When using a having clause, a temporary table is created in memory. This means that queries using having clauses can take a very long time for large data sets.", "However, having clauses are often used as problems in tech interviews. That is because they are one of the trickier SQL clauses to use properly. So it is worth knowing how they work and feeling comfortable with them even if you rarely use them in practice.", "I hope that this example helped to clarify the difference between where and having in SQL.", "In addition to data, my other passion is painting. You can find my wildlife art at www.katemarielewis.com", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Big data geek, neuroscientist and artist."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fed74e0a8ad6d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-the-difference-between-a-having-clause-and-a-where-clause-in-sql-ed74e0a8ad6d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-the-difference-between-a-having-clause-and-a-where-clause-in-sql-ed74e0a8ad6d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-the-difference-between-a-having-clause-and-a-where-clause-in-sql-ed74e0a8ad6d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-the-difference-between-a-having-clause-and-a-where-clause-in-sql-ed74e0a8ad6d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ed74e0a8ad6d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ed74e0a8ad6d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@katemarielewis?source=post_page-----ed74e0a8ad6d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@katemarielewis?source=post_page-----ed74e0a8ad6d--------------------------------", "anchor_text": "Kate Marie Lewis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffeb55b31bbd5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-the-difference-between-a-having-clause-and-a-where-clause-in-sql-ed74e0a8ad6d&user=Kate+Marie+Lewis&userId=feb55b31bbd5&source=post_page-feb55b31bbd5----ed74e0a8ad6d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fed74e0a8ad6d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-the-difference-between-a-having-clause-and-a-where-clause-in-sql-ed74e0a8ad6d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fed74e0a8ad6d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-the-difference-between-a-having-clause-and-a-where-clause-in-sql-ed74e0a8ad6d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://imgs.xkcd.com/comics/query_2x.png", "anchor_text": "https://imgs.xkcd.com/comics/query_2x.png"}, {"url": "https://www.imdb.com/title/tt0118276/faq?ref_=ttpl_ql_op_2#fq0016887", "anchor_text": "here"}, {"url": "http://sqlfiddle.com/", "anchor_text": "SQL Fiddle"}, {"url": "http://www.katemarielewis.com", "anchor_text": "www.katemarielewis.com"}, {"url": "https://towardsdatascience.com/what-is-the-difference-between-an-inner-and-an-outer-join-in-sql-5b5ec8277377", "anchor_text": "What is the difference between an inner and an outer join in SQL?Inner joins, full outer joins, left outer joins and right outer joins in SQL explained using examples from the world of\u2026towardsdatascience.com"}, {"url": "https://towardsdatascience.com/how-i-went-from-zero-coding-skills-to-data-scientist-in-6-months-c2207b65f2f3", "anchor_text": "How I went from zero coding skills to data scientist in 6 monthsThe 4 tools I used to teach myself data science without spending a dollartowardsdatascience.com"}, {"url": "https://medium.com/tag/sql?source=post_page-----ed74e0a8ad6d---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/database?source=post_page-----ed74e0a8ad6d---------------database-----------------", "anchor_text": "Database"}, {"url": "https://medium.com/tag/programming?source=post_page-----ed74e0a8ad6d---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/tech?source=post_page-----ed74e0a8ad6d---------------tech-----------------", "anchor_text": "Tech"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ed74e0a8ad6d---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fed74e0a8ad6d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-the-difference-between-a-having-clause-and-a-where-clause-in-sql-ed74e0a8ad6d&user=Kate+Marie+Lewis&userId=feb55b31bbd5&source=-----ed74e0a8ad6d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fed74e0a8ad6d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-the-difference-between-a-having-clause-and-a-where-clause-in-sql-ed74e0a8ad6d&user=Kate+Marie+Lewis&userId=feb55b31bbd5&source=-----ed74e0a8ad6d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fed74e0a8ad6d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-the-difference-between-a-having-clause-and-a-where-clause-in-sql-ed74e0a8ad6d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ed74e0a8ad6d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fed74e0a8ad6d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-the-difference-between-a-having-clause-and-a-where-clause-in-sql-ed74e0a8ad6d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ed74e0a8ad6d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ed74e0a8ad6d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ed74e0a8ad6d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ed74e0a8ad6d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ed74e0a8ad6d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ed74e0a8ad6d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ed74e0a8ad6d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ed74e0a8ad6d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ed74e0a8ad6d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@katemarielewis?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@katemarielewis?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kate Marie Lewis"}, {"url": "https://medium.com/@katemarielewis/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "4K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffeb55b31bbd5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-the-difference-between-a-having-clause-and-a-where-clause-in-sql-ed74e0a8ad6d&user=Kate+Marie+Lewis&userId=feb55b31bbd5&source=post_page-feb55b31bbd5--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe5b8a4095c55&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-the-difference-between-a-having-clause-and-a-where-clause-in-sql-ed74e0a8ad6d&newsletterV3=feb55b31bbd5&newsletterV3Id=e5b8a4095c55&user=Kate+Marie+Lewis&userId=feb55b31bbd5&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}