{"url": "https://towardsdatascience.com/choosing-the-right-database-in-a-system-design-interview-b8af9c6dc525", "time": 1683013275.970473, "path": "towardsdatascience.com/choosing-the-right-database-in-a-system-design-interview-b8af9c6dc525/", "webpage": {"metadata": {"title": "Choosing the right Database - System Design Interview Preperation | Towards Data Science", "h1": "Choosing the right database", "description": "Based on various factors like structure, query pattern, data format, scalability requirements, etc how would you decide the most suitable database?"}, "outgoing_paragraph_urls": [{"url": "https://www.codekarle.com/system-design/Database-system-design.html", "anchor_text": "how to choose the best storage solution", "paragraph_index": 15}, {"url": "https://youtu.be/cODCpXtPHbQ", "anchor_text": "youtube link", "paragraph_index": 19}], "all_paragraphs": ["Imagine \u2014 You\u2019re in a system design interview and need to pick a database to store, let\u2019s say, order-related data in an e-commerce system. Your data is structured and needs to be consistent, but your query pattern doesn\u2019t match with a standard relational DB\u2019s. You need your transactions to be isolated, and atomic and all things ACID\u2026 But OMG it needs to scale infinitely like Cassandra!! So how would you decide what storage solution to choose? Well, let\u2019s see!", "First of all, what kind of data are we working with? Is it records or file systems or audio/video content? And what kind of processing do we intend to do on that data? Do we need to search for something or run sophisticated analytics algorithms?", "Based on our requirements and how we want to use or access our data, we could be looking for the following storage solutions:", "Caching Solutions \u2014 If we are designing a read-heavy system like Twitter or Facebook, we might end up catching a lot of data, even complete timelines, to meet the low latency requirement. Some options here would be Redis or Memcached.", "File system storage \u2014 If we are designing some sort of asset delivery service, where we might need to store images or audio/video files, we might need to use something called blob storage. An extremely popular example is Amazon S3.", "Text search engine \u2014 What if we are designing a system like Amazon and need to implement a search feature. The thing about search features is that we need to consider typos as well. Suppose a user wants to search for \u201cshirt\u201d but types \u201cshrt\u201d instead. Now if we don\u2019t show any results, it would be very poor user experience. Our system needs to be smart enough to show results for \u201cshirt\u201d or \u201cshorts\u201d. This is known as fuzzy search and this is where we use text search engines like Elasticsearch.", "Data Warehouses \u2014 I know! We have been discussing data and storage all this time, so how can we not consider Big Data! Sometimes we just need to dump all the data in a single store where we can later perform all sorts of analytics. These systems are used more for offline reporting that usually transactions. This is where we end up using data warehouse solutions like Hadoop.", "Now, you might have noticed that we have been talking about \u201cstorage solutions\u201d not \u201cdatabases\u201d. So let\u2019s have a look at Databases now!", "Well, there are a few factors basis which we can decide what kind of database to go with, these factors being \u2014 the structure of the data, query pattern, and scale.", "A little confusing I know! This is why I will attach the video I referred to for this article. They have explained it beautifully, but we are also going to go over it in the coming sections, so read on.", "Now, scale, structure, and query pattern. Right. If the information is structured and can be represented as a table, and if we need our transactions to be atomic, consistent, isolated, and durable (ACID), we go with a relational database. The most commonly used one would be MySQL.", "Now if the ACID properties are not required, well you could still use a relational database, or you could go with a NoSQL alternative. But if your data lacks a structure, it cannot be represented as a table and now we need to use a NoSQL DB like MongoDB, Cassandra, HBase, Couchbase, etc. And this is where the query pattern becomes a deciding factor.", "Pssst: Elasticsearch is kind of a special case of document DB.", "If we have a vast variety of attributes in our data and a vast variety of queries, we use a Document DB like MongoDB or Couchbase. But if we have to work on an extremely large scale but have few types of queries we need to run, then we go for a Columnar DB like Cassandra or HBase. And even between columnar DBs, as you might know, HBase is built on top of Hadoop. So while setting up HBase we first need to set up Hadoop and the related components, and then set up HBase on top of it. This adds a level of complexity while setting up the system, so I would personally go for Cassandra if only for the sake of simplicity. Performance-wise both give similar results.", "Now, the thing with Columnar databases like Cassandra is that they work majorly by partitioning and duplicating the data. So if you can choose the partition key such that all of your queries use the common partition key in the where clause, Cassandra is the way to go.", "I came across this article about how to choose the best storage solution by \u201ccodekarle\u201d, which beautifully explains when it might make sense to use a columnar DB vs a document DB with an example of how Uber interacts with their driver and rider sides of the system. Let me try to explain this using the same scenario.", "Let\u2019s say Uber has saved the ride related information in a Cassandra with driver id as the partition key. Now when we run a query to fetch all data for a particular driver on a day, it fetches it based on the partition key driver id. This was the partition side of Cassandra\u2019s solution. Now, what if we try to query a customer\u2019s rides on a particular day by customer id. Now the query will be sent out to all the partitions and there goes the efficiency! This is where the replication side of the solution comes in. We can simply replicate the whole data and now use customer id as the partition key. Now when a query comes in based on customer id, it will be directed to the instance using customer id as the partition key. And this is why Cassandra can scale infinitely. Remember the query pattern for Cassandra? We mentioned it is only useful if there is a limited variety of queries. That is because we can only replicate the data so many times.", "Now, we have seen various storage solutions and also how to choose between various DBs based on our requirements and the type of information we need to store. But is that enough? Referring to another example from the above-mentioned article, there are some cases where a single DB is not enough for our requirement. For example, in the case of Amazon, orders data needs to follow ACID properties, but it needs to be infinitely scalable like a Columnar DB. In such a case we will use a combination of databases like MySQL + Cassandra. Now, all the information about ongoing orders, which need to follow ACID properties, will be stored in a MySQL DB and once they are completed, we can move them to Cassandra, which can be used as a permanent store. So as long as we require the ACID properties, the data remains in a relational DB and then is moved to a columnar DB which can scale according to the size of data. Problem solved!", "I hope this can help you come up with a checklist of sorts to refer to during your next system design interview. Think I missed an important database/storage solution? Let me know in the comments!", "Also, here\u2019s a youtube link to the solution I referred to.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb8af9c6dc525&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchoosing-the-right-database-in-a-system-design-interview-b8af9c6dc525&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchoosing-the-right-database-in-a-system-design-interview-b8af9c6dc525&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchoosing-the-right-database-in-a-system-design-interview-b8af9c6dc525&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchoosing-the-right-database-in-a-system-design-interview-b8af9c6dc525&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b8af9c6dc525--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b8af9c6dc525--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@deekshakaul1?source=post_page-----b8af9c6dc525--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@deekshakaul1?source=post_page-----b8af9c6dc525--------------------------------", "anchor_text": "Deeksha Kaul"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F772cacbdf53e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchoosing-the-right-database-in-a-system-design-interview-b8af9c6dc525&user=Deeksha+Kaul&userId=772cacbdf53e&source=post_page-772cacbdf53e----b8af9c6dc525---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb8af9c6dc525&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchoosing-the-right-database-in-a-system-design-interview-b8af9c6dc525&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb8af9c6dc525&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchoosing-the-right-database-in-a-system-design-interview-b8af9c6dc525&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.codekarle.com/system-design/Database-system-design.html", "anchor_text": "how to choose the best storage solution"}, {"url": "https://youtu.be/cODCpXtPHbQ", "anchor_text": "youtube link"}, {"url": "https://medium.com/tag/database?source=post_page-----b8af9c6dc525---------------database-----------------", "anchor_text": "Database"}, {"url": "https://medium.com/tag/programming?source=post_page-----b8af9c6dc525---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/coding?source=post_page-----b8af9c6dc525---------------coding-----------------", "anchor_text": "Coding"}, {"url": "https://medium.com/tag/system-design-interview?source=post_page-----b8af9c6dc525---------------system_design_interview-----------------", "anchor_text": "System Design Interview"}, {"url": "https://medium.com/tag/software-development?source=post_page-----b8af9c6dc525---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb8af9c6dc525&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchoosing-the-right-database-in-a-system-design-interview-b8af9c6dc525&user=Deeksha+Kaul&userId=772cacbdf53e&source=-----b8af9c6dc525---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb8af9c6dc525&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchoosing-the-right-database-in-a-system-design-interview-b8af9c6dc525&user=Deeksha+Kaul&userId=772cacbdf53e&source=-----b8af9c6dc525---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb8af9c6dc525&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchoosing-the-right-database-in-a-system-design-interview-b8af9c6dc525&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b8af9c6dc525--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb8af9c6dc525&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchoosing-the-right-database-in-a-system-design-interview-b8af9c6dc525&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b8af9c6dc525---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b8af9c6dc525--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b8af9c6dc525--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b8af9c6dc525--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b8af9c6dc525--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b8af9c6dc525--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b8af9c6dc525--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b8af9c6dc525--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b8af9c6dc525--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@deekshakaul1?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@deekshakaul1?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Deeksha Kaul"}, {"url": "https://medium.com/@deekshakaul1/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "121 Followers"}, {"url": "https://www.linkedin.com/in/deeksha-kaul-915810104/", "anchor_text": "https://www.linkedin.com/in/deeksha-kaul-915810104/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F772cacbdf53e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchoosing-the-right-database-in-a-system-design-interview-b8af9c6dc525&user=Deeksha+Kaul&userId=772cacbdf53e&source=post_page-772cacbdf53e--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F4298d2e4ec0c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchoosing-the-right-database-in-a-system-design-interview-b8af9c6dc525&newsletterV3=772cacbdf53e&newsletterV3Id=4298d2e4ec0c&user=Deeksha+Kaul&userId=772cacbdf53e&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}