{"url": "https://towardsdatascience.com/travel-map-8407796c9219", "time": 1682997384.651677, "path": "towardsdatascience.com/travel-map-8407796c9219/", "webpage": {"metadata": {"title": "Creating a Modern Day Travel Map of London | by Sebastian Strug | Towards Data Science", "h1": "Creating a Modern Day Travel Map of London", "description": "A program to generate a map of any location with travel times for walking or public transport calculated using the Google API to find time-boundaries."}, "outgoing_paragraph_urls": [{"url": "https://github.com/SebStrug/HowFarCanIGo", "anchor_text": "the code", "paragraph_index": 0}, {"url": "https://youtu.be/LrObZ_HZZUc", "anchor_text": "a one square mile area inside London", "paragraph_index": 3}, {"url": "https://developers.google.com/maps/documentation/distance-matrix/start", "anchor_text": "Distance Matrix API", "paragraph_index": 6}, {"url": "https://developers.google.com/maps/documentation/directions/intro", "anchor_text": "Directions API", "paragraph_index": 6}, {"url": "https://developer.mapquest.com/documentation/directions-api/", "anchor_text": "MapQuest Direction API", "paragraph_index": 6}, {"url": "https://en.wikipedia.org/wiki/Convex_hull", "anchor_text": "convex hull", "paragraph_index": 9}, {"url": "https://towardsdatascience.com/the-concave-hull-c649795c0f0f", "anchor_text": "found here", "paragraph_index": 10}, {"url": "https://en.wikipedia.org/wiki/DBSCAN", "anchor_text": "DBSCAN", "paragraph_index": 15}, {"url": "https://stackoverflow.com/questions/16381577/scikit-learn-dbscan-memory-usage", "anchor_text": "discussion", "paragraph_index": 15}, {"url": "https://github.com/jakevdp/PythonDataScienceHandbook", "anchor_text": "J. VanderPlas\u2019 book", "paragraph_index": 16}, {"url": "https://python-visualization.github.io/folium/", "anchor_text": "Folium", "paragraph_index": 17}, {"url": "https://github.com/SebStrug/HowFarCanIGo", "anchor_text": "my GitHub code", "paragraph_index": 23}, {"url": "https://www.davidrumsey.com/luna/servlet/detail/RUMSEY~8~1~248974~5516374:Isochronic-Distance-Chart,-1904--Av?sort=pub_list_no_initialsort%2Cpub_date%2Cpub_list_no%2Cseries_no&qvq=w4s:/who%2FBartholomew%25252C%2BJ.%2BG.%2Fwhat%2FAtlas%2BMap%2Fwhere%2FWorld%2Fwhen%2F1907;sort:pub_list_no_initialsort%2Cpub_date%2Cpub_list_no%2Cseries_no;lc:RUMSEY~8~1&mi=11&trs=50", "anchor_text": "sochronic Distance Chart", "paragraph_index": 24}, {"url": "https://docplayer.net/47744110-Implementation-of-a-fast-and-efficient-concave-hull-algorithm.html", "anchor_text": "Implementation of a fast and efficient concave hull algorithm", "paragraph_index": 25}], "all_paragraphs": ["Better yet, the code can be used for anywhere around the world, and can do walking as well. Here are personalised maps for three more great cities I\u2019ve been lucky enough to live in:", "During a lazy Sunday morning I stumbled across a series of beautiful historic maps. These were called isochronic maps and represented the cartographer\u2019s estimates on how far you could travel in different periods of time. My favourite is Bartholomew\u2019s map of isochronic distances from London around the world.", "While interesting, these should be taken with a large pinch of salt. I doubt Mr. Bartholomew studied train timetables in Poland extensively [2]. But these days we do have highly accurate predictions of travel time. So what would a true isochronic map look like for my favourite city in the world?", "What I find particularly interesting about London is that from where I live in West London, I can quickly reach the main museums, and get into the City of London (a one square mile area inside London). But travelling to south-east London is a nightmare (~1.5 hours), longer than travelling from Edinburgh to Glasgow.", "To create a personalised map we needed to choose the set of points to analyse, retrieve the travel times for these points, group these points into boundaries by drawing hulls, and plot these on a map.", "When creating a lattice of points I focused on using NumPy throughout to make use of its vectorization, and far more efficient calculation compared to Python lists. I created two options:", "Next, I had to generate actual times taken to travel. There are many options to do this, but I settled on using the Google Distance Matrix API. This returns distances and times from and to destinations. Other options I looked at include Google Directions API (which also returns directions, which are unnecessary for this application), and MapQuest Direction API.", "You can access the suite of over two dozen Google APIs through the Google Developer Console. I found setting up the API really intuitive, and while these API are paid, you get $300 of free credits for a 12-month trial period, which I found more than enough for my project. Make sure you pickle the results so that you don\u2019t need to call the API for the same area more than once!", "Interesting quirks I found while using this API include:", "With a set of data points, I then had to figure out how to join them into areas depending on travel times. This is a less trivial task than initially seems. My first thought was to just join up the outer points, this is known as a convex hull. However this isn\u2019t what I wanted. What I want is to get into the nooks and crannies, find the \u2018fjords\u2019 in the data. This implementation is called the concave hull.", "The concave hull is non-unique, and you decide how much \u2018wrap\u2019 you may want your concave hull to have around points by choosing the number of nearest neighbours. I used a great implementation written by J. P. Figueira found here which I used.", "What the concave hull implementation didn\u2019t handle is islands of points. These are the most interesting parts of the map. In particular, areas around tube and bus are accessible, whereas areas geographically closer are not. This is what I\u2019m really curious about: what are the areas of London that are relatively close to me, but hidden away?", "I\u2019m interested in machine learning, so I started by trying to implement two unsupervised machine learning methods: K-means clustering and Gaussian mixture methods (GMMs). However both had issues.", "K-means clustering draws a constant radius around a cluster centre, which doesn\u2019t account for how the points are more spread out longitudinally.", "GMMs fix this issue by drawing an arbitrarily-aligned ellipse to group a cluster island. However I found that these ellipses were still ill-formed. This isn\u2019t surprising since GMMs are primarily a method for density estimation. What I was looking for in fact, was a clustering method with no clustering centre, that just grouped points based on pairwise distances.", "After some searching (and trying to write an algorithm myself), I realised what I needed was DBSCAN. Sci-kit learn has an easy to use implementation, however there is discussion whether this implementation is an efficient one.", "Amidst this all, I found J. VanderPlas\u2019 book very useful in understanding these methods and why they weren\u2019t suitable to my problem. This was a good lesson in searching for what\u2019s out there before trying to reinvent the wheel, as well as thinking of simple rather than complex methods.", "The last step to this problem was putting the data on a map. There are quite a few map libraries available out there, including libraries that allow you to put your data directly onto a Google map. However what I was looking for was the ability to draw polygons, and it turned out that the Folium library can do just that for an OpenStreetMap.", "Folium is an intuitive library as it follows a similar coding style to Matplotlib, having you create a map object and add children to it as layers of points or polygons. Plus, they\u2019re created as interactive html pages you can zoom in and out of, or select and deselect layers from.", "What are some other interesting applications we could use this for?", "London has a set of signs in busy areas showing where you can get to in 5 or 15 minutes, but they\u2019re rather inaccurate circles. What about an exactly accurate version?", "Shortly after finishing this I found two companies online that have done just this. Unfortunately one only lets you do two searches before asking you to pay [4], and the other has country restrictions [5]. Since the shapes they draw and the islands they find are different, I\u2019ll be reaching out to both to find out how their methods compare.", "Where else could you use this code? You could use it to find a suitable place to live close in time to your work, your gym, or whatever else.", "Feel free to use my GitHub code (appropriately), or contact me with any queries or ideas.", "[1] J. G. Bartholomew, Isochronic Distance Chart (1904), accessed via David Rumsey Map Collection.", "[3] E. Ros\u00e9n, E. Jansson, and M. Brundin, Implementation of a fast and efficient concave hull algorithm (2014).", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8407796c9219&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftravel-map-8407796c9219&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftravel-map-8407796c9219&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftravel-map-8407796c9219&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftravel-map-8407796c9219&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8407796c9219--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8407796c9219--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@strugsebastian?source=post_page-----8407796c9219--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@strugsebastian?source=post_page-----8407796c9219--------------------------------", "anchor_text": "Sebastian Strug"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3182818f9a50&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftravel-map-8407796c9219&user=Sebastian+Strug&userId=3182818f9a50&source=post_page-3182818f9a50----8407796c9219---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8407796c9219&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftravel-map-8407796c9219&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8407796c9219&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftravel-map-8407796c9219&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://sebstrug.github.io/map_Lond_2", "anchor_text": "Interactive map here"}, {"url": "https://github.com/SebStrug/HowFarCanIGo", "anchor_text": "the code"}, {"url": "https://youtu.be/LrObZ_HZZUc", "anchor_text": "a one square mile area inside London"}, {"url": "https://developers.google.com/maps/documentation/distance-matrix/start", "anchor_text": "Distance Matrix API"}, {"url": "https://developers.google.com/maps/documentation/directions/intro", "anchor_text": "Directions API"}, {"url": "https://developer.mapquest.com/documentation/directions-api/", "anchor_text": "MapQuest Direction API"}, {"url": "https://developers.google.com/maps/documentation/utilities/polylinealgorithm", "anchor_text": "polyline encoding"}, {"url": "https://en.wikipedia.org/wiki/Convex_hull", "anchor_text": "convex hull"}, {"url": "https://towardsdatascience.com/the-concave-hull-c649795c0f0f", "anchor_text": "found here"}, {"url": "https://jakevdp.github.io/PythonDataScienceHandbook/index.html", "anchor_text": "Python: Data Science Handbook by J. VanderPlas"}, {"url": "https://en.wikipedia.org/wiki/DBSCAN", "anchor_text": "DBSCAN"}, {"url": "https://stackoverflow.com/questions/16381577/scikit-learn-dbscan-memory-usage", "anchor_text": "discussion"}, {"url": "https://github.com/jakevdp/PythonDataScienceHandbook", "anchor_text": "J. VanderPlas\u2019 book"}, {"url": "https://python-visualization.github.io/folium/", "anchor_text": "Folium"}, {"url": "https://github.com/SebStrug/HowFarCanIGo", "anchor_text": "my GitHub code"}, {"url": "https://www.davidrumsey.com/luna/servlet/detail/RUMSEY~8~1~248974~5516374:Isochronic-Distance-Chart,-1904--Av?sort=pub_list_no_initialsort%2Cpub_date%2Cpub_list_no%2Cseries_no&qvq=w4s:/who%2FBartholomew%25252C%2BJ.%2BG.%2Fwhat%2FAtlas%2BMap%2Fwhere%2FWorld%2Fwhen%2F1907;sort:pub_list_no_initialsort%2Cpub_date%2Cpub_list_no%2Cseries_no;lc:RUMSEY~8~1&mi=11&trs=50", "anchor_text": "sochronic Distance Chart"}, {"url": "https://en.wikipedia.org/wiki/History_of_Poland", "anchor_text": "Poland didn\u2019t even exist between 1795 and 1918"}, {"url": "https://docplayer.net/47744110-Implementation-of-a-fast-and-efficient-concave-hull-algorithm.html", "anchor_text": "Implementation of a fast and efficient concave hull algorithm"}, {"url": "https://www.oalley.net/", "anchor_text": "https://www.oalley.net/"}, {"url": "https://app.traveltimeplatform.com/", "anchor_text": "https://app.traveltimeplatform.com/"}, {"url": "https://medium.com/tag/data-science?source=post_page-----8407796c9219---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/maps?source=post_page-----8407796c9219---------------maps-----------------", "anchor_text": "Maps"}, {"url": "https://medium.com/tag/travel?source=post_page-----8407796c9219---------------travel-----------------", "anchor_text": "Travel"}, {"url": "https://medium.com/tag/api?source=post_page-----8407796c9219---------------api-----------------", "anchor_text": "API"}, {"url": "https://medium.com/tag/programming?source=post_page-----8407796c9219---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8407796c9219&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftravel-map-8407796c9219&user=Sebastian+Strug&userId=3182818f9a50&source=-----8407796c9219---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8407796c9219&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftravel-map-8407796c9219&user=Sebastian+Strug&userId=3182818f9a50&source=-----8407796c9219---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8407796c9219&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftravel-map-8407796c9219&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8407796c9219--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8407796c9219&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftravel-map-8407796c9219&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8407796c9219---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8407796c9219--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8407796c9219--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8407796c9219--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8407796c9219--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8407796c9219--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8407796c9219--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8407796c9219--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8407796c9219--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@strugsebastian?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@strugsebastian?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sebastian Strug"}, {"url": "https://medium.com/@strugsebastian/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "16 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3182818f9a50&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftravel-map-8407796c9219&user=Sebastian+Strug&userId=3182818f9a50&source=post_page-3182818f9a50--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F3182818f9a50%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftravel-map-8407796c9219&user=Sebastian+Strug&userId=3182818f9a50&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}