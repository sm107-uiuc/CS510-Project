{"url": "https://towardsdatascience.com/represent-hierarchical-data-in-python-cd36ada5c71a", "time": 1683008766.211173, "path": "towardsdatascience.com/represent-hierarchical-data-in-python-cd36ada5c71a/", "webpage": {"metadata": {"title": "Represent Hierarchical Data in Python | by Mario Dagrada | Towards Data Science", "h1": "Represent Hierarchical Data in Python", "description": "In computer science, it is very common to deal with hierarchical categorical data. Applications range from categories of Wikipedia to the hierarchical structure of the data generated by clustering\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Taxonomy_(general)", "anchor_text": "Wikipedia", "paragraph_index": 0}, {"url": "https://www.britannica.com/science/taxonomy", "anchor_text": "taxonomy", "paragraph_index": 2}, {"url": "https://github.com/madagra/taxonomy-parser", "anchor_text": "Github", "paragraph_index": 13}, {"url": "https://www.linkedin.com/in/mariodagrada/", "anchor_text": "LinkedIn", "paragraph_index": 13}], "all_paragraphs": ["In computer science, it is very common to deal with hierarchical categorical data. Applications range from categories of Wikipedia to the hierarchical structure of the data generated by clustering algorithms such as HDBSCAN, and countless more.", "For this post, let us start from an example drawn from my field of work: how to correctly classify devices connected to a network. Starting from the general concept of \u201cDevice\u201d, one can define two general categories of devices called \u201cNetworking\u201d and \u201cComputer\u201d. The first category can then be further broken down into \u201cRouter\u201d, \u201cSwitch\u201d and \u201cFirewall\u201d (and of course several others which I omit for the sake of simplicity). The data can be represented like this:", "This representation of categorical data in a hierarchy \u2014 whose naturally fitting data structure is a tree \u2014 is technically called taxonomy, a term initially used in biology for classifying species. Each element of the taxonomy is a taxonomy node.", "If one wants to represent a taxonomy using a human-readable format such as JSON, the most commonly used representation is the following:", "This representation exposes the recursive nature of the tree but, as the taxonomy grows in size, it quickly becomes hard to modify due to a large number of nested levels. In this post, I am going to show an alternative representation in JSON and the Python code for serializing it.", "An alternative way of representing taxonomy data can be obtained by avoiding any nested structure and representing all the objects as a flat list divided per each taxonomy level. In this way, the sample taxonomy we used before looks like this:", "As before, each node can contain an arbitrary number of attributes. The above representation is very easy to parse and modify within an application. However, with respect to the previous one, it has some drawbacks:", "Take into account these drawbacks when choosing the right representation for your hierarchical data. Let\u2019s see now how to parse the above taxonomy representation with Python.", "As you surely know, when it comes to available libraries no language is better than Python. It is therefore not a surprise that there are several libraries out there suitable for dealing with taxonomies:", "Let\u2019s build now a minimal version of a TaxonomyParser class for deserializing the JSON representation and search in the taxonomy using a unique node identifier.", "The only attributes required for this class are root_key \u2014 used to quickly retrieve the root node \u2014 and the dictionary nodes containing all the tree nodes indexed by their unique name. Thanks to the flat representation in the JSON file, the code for deserializing the hierarchical data (read_from_jsonmethod) is very simple.", "What if you need to implement more complex search conditions on the taxonomy? For instance, imagine that each node contains a regex attribute with a list of regular expressions. Given an input keyword, you want to look for all the nodes whose regex matches the keyword. Sounds complicated? Thanks to the anytree flexible interface this is achieved in a few lines of code:", "Finally, if you want to export the graph either in the standard .dot format or as a PNG image, anytree provides all you need:", "In conclusion, with theanytree library, it is very easy to parse and manipulate hierarchical data stored in the flat representation presented in this post. The complete code is available on my Github. If you like this post and you have any questions or comments do not hesitate to connect with me on LinkedIn.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "VP of Quantum Software @ Pasqal"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fcd36ada5c71a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frepresent-hierarchical-data-in-python-cd36ada5c71a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frepresent-hierarchical-data-in-python-cd36ada5c71a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frepresent-hierarchical-data-in-python-cd36ada5c71a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frepresent-hierarchical-data-in-python-cd36ada5c71a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----cd36ada5c71a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cd36ada5c71a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mariodagrada.medium.com/?source=post_page-----cd36ada5c71a--------------------------------", "anchor_text": ""}, {"url": "https://mariodagrada.medium.com/?source=post_page-----cd36ada5c71a--------------------------------", "anchor_text": "Mario Dagrada"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F99ed96040994&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frepresent-hierarchical-data-in-python-cd36ada5c71a&user=Mario+Dagrada&userId=99ed96040994&source=post_page-99ed96040994----cd36ada5c71a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcd36ada5c71a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frepresent-hierarchical-data-in-python-cd36ada5c71a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcd36ada5c71a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frepresent-hierarchical-data-in-python-cd36ada5c71a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@edvardr?utm_source=medium&utm_medium=referral", "anchor_text": "Edvard Alexander R\u00f8lvaag"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://en.wikipedia.org/wiki/Taxonomy_(general)", "anchor_text": "Wikipedia"}, {"url": "https://www.britannica.com/science/taxonomy", "anchor_text": "taxonomy"}, {"url": "https://networkx.github.io/documentation/stable/", "anchor_text": "networkx"}, {"url": "https://anytree.readthedocs.io/en/latest/", "anchor_text": "anytree"}, {"url": "https://github.com/joowani/binarytree", "anchor_text": "binarytree"}, {"url": "https://github.com/niemasd/TreeSwift", "anchor_text": "TreeSwift"}, {"url": "https://github.com/madagra/taxonomy-parser", "anchor_text": "Github"}, {"url": "https://www.linkedin.com/in/mariodagrada/", "anchor_text": "LinkedIn"}, {"url": "https://medium.com/tag/python?source=post_page-----cd36ada5c71a---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/trees?source=post_page-----cd36ada5c71a---------------trees-----------------", "anchor_text": "Trees"}, {"url": "https://medium.com/tag/taxonomy?source=post_page-----cd36ada5c71a---------------taxonomy-----------------", "anchor_text": "Taxonomy"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcd36ada5c71a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frepresent-hierarchical-data-in-python-cd36ada5c71a&user=Mario+Dagrada&userId=99ed96040994&source=-----cd36ada5c71a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcd36ada5c71a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frepresent-hierarchical-data-in-python-cd36ada5c71a&user=Mario+Dagrada&userId=99ed96040994&source=-----cd36ada5c71a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcd36ada5c71a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frepresent-hierarchical-data-in-python-cd36ada5c71a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cd36ada5c71a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fcd36ada5c71a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frepresent-hierarchical-data-in-python-cd36ada5c71a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----cd36ada5c71a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----cd36ada5c71a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----cd36ada5c71a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----cd36ada5c71a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----cd36ada5c71a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----cd36ada5c71a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----cd36ada5c71a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----cd36ada5c71a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----cd36ada5c71a--------------------------------", "anchor_text": ""}, {"url": "https://mariodagrada.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mariodagrada.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Mario Dagrada"}, {"url": "https://mariodagrada.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "197 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F99ed96040994&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frepresent-hierarchical-data-in-python-cd36ada5c71a&user=Mario+Dagrada&userId=99ed96040994&source=post_page-99ed96040994--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F4d4eed447fb7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frepresent-hierarchical-data-in-python-cd36ada5c71a&newsletterV3=99ed96040994&newsletterV3Id=4d4eed447fb7&user=Mario+Dagrada&userId=99ed96040994&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}