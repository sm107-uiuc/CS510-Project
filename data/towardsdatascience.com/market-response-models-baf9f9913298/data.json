{"url": "https://towardsdatascience.com/market-response-models-baf9f9913298", "time": 1682997458.387755, "path": "towardsdatascience.com/market-response-models-baf9f9913298/", "webpage": {"metadata": {"title": "Market Response Models. Predicting incremental gains of\u2026 | by Bar\u0131\u015f Karaman | Towards Data Science", "h1": "Market Response Models", "description": "This series of articles was designed to explain how to use Python in a simplistic way to fuel your company\u2019s growth by applying the predictive approach to all your actions. It will be a combination\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/a-b-testing-design-execution-6cf9e27c6559", "anchor_text": "9- A/B Testing Design and Execution", "paragraph_index": 2}, {"url": "https://www.kaggle.com/learn/python", "anchor_text": "Python", "paragraph_index": 3}, {"url": "https://www.kaggle.com/learn/pandas", "anchor_text": "Pandas", "paragraph_index": 3}, {"url": "https://jupyter.readthedocs.io/en/latest/install.html", "anchor_text": "upyter Notebook", "paragraph_index": 5}, {"url": "https://www.python.org/downloads/", "anchor_text": "ython", "paragraph_index": 5}, {"url": "https://towardsdatascience.com/data-driven-growth-with-python-part-2-customer-segmentation-5c019d150444", "anchor_text": "segment the customers", "paragraph_index": 6}, {"url": "https://towardsdatascience.com/data-driven-growth-with-python-part-3-customer-lifetime-value-prediction-6017802f2e0f", "anchor_text": "predict their lifetime value", "paragraph_index": 6}, {"url": "https://towardsdatascience.com/predicting-sales-611cb5a252de", "anchor_text": "what will be our sales numbers", "paragraph_index": 6}, {"url": "https://blog.minethatdata.com/2008/03/minethatdata-e-mail-analytics-and-data.html", "anchor_text": "here", "paragraph_index": 18}, {"url": "https://gist.github.com/karamanbk/ef1a118592e2f7954e5bb582e09bdde3", "anchor_text": "here", "paragraph_index": 18}, {"url": "https://towardsdatascience.com/uplift-modeling-e38f96b1ef60", "anchor_text": "uplift model", "paragraph_index": 59}, {"url": "https://gist.github.com/karamanbk/2741fc0e0bd22c8edcc9e4d0a20fda2b", "anchor_text": "here", "paragraph_index": 60}, {"url": "https://app.growthmentor.com/mentors/baris-karaman", "anchor_text": "here", "paragraph_index": 61}], "all_paragraphs": ["This series of articles was designed to explain how to use Python in a simplistic way to fuel your company\u2019s growth by applying the predictive approach to all your actions. It will be a combination of programming, data analysis, and machine learning.", "I will cover all the topics in the following nine articles:", "9- A/B Testing Design and Execution", "Articles will have their own code snippets to make you easily apply them. If you are super new to programming, you can have a good introduction for Python and Pandas (a famous library that we will use on everything) here. But still without a coding introduction, you can learn the concepts, how to use your data and start generating value out of it:", "Sometimes you gotta run before you can walk \u2014 Tony Stark", "As a pre-requisite, be sure Jupyter Notebook and Python are installed on your computer. The code snippets will run on Jupyter Notebook only.", "By using the models we have built in the previous articles, we can easily segment the customers and predict their lifetime value (LTV) for targeting purposes. As a side note, we also know what will be our sales numbers. But how we can increase our sales? If we do a discount today, how many incremental transactions should we expect?", "Segmenting customers and doing A/B tests enable us to try lots of different ideas for generating incremental sales. This is one of the building blocks of Growth Hacking. You need to ideate and experiment continuously to find growth opportunities.", "Splitting the customers who we are going to send the offer into test and control groups helps us to calculate incremental gains.", "In this setup, the target group was divided into three groups to find an answer to the questions below:", "1- Does giving an offer increase conversion?", "2- If yes, what kind of offer performs best? Discount or Buy One Get One?", "Assuming the results are statistically significant, Discount (Group A) looks the best as it\u2019s increased the conversion by 3% compared to the Control group and brought 1% more conversion against Buy One Get One.", "Of course in the real world, it is much more complicated. Some offers perform better on specific segments. So you need to create a portfolio of offers for selected segments. Moreover, you can\u2019t count on conversion as the only criterion of success. There is always a cost trade-off. Generally, while conversion rates go up, cost increases too. That\u2019s why sometimes you need to select an offer that is cost-friendly but brings less conversion.", "Now we know which offer performed well compared to others thanks to the experiment. But what about predicting it? If we predict the effect of giving an offer, we can easily maximize our transactions and have a forecast of the cost. Market Response Models help us building this framework. But there is more than one way of doing it. We can group them into two:", "1- If you don\u2019t have a control group (imagine you did an open promotion to everyone and announced it on social media), then you cannot calculate the incrementality. For this kind of situation, better to build a regression model that predicts overall sales. The prior assumption will be that the model will provide higher sales numbers for the promo days.", "To build this kind of model, your dataset should include promo & non-promo days sales numbers so that the machine learning model can calculate the incrementality.", "2- If you have a control group, you can build the response model based on segment or individual level. For both of them, the assumption is the same. Giving an offer should increase the probability of conversion. The uptick in the individuals\u2019 conversion probability will bring us the incremental conversion.", "Let\u2019s jump into coding and see how we can build an individual level response model. In this example, we will be using the marketing dataset here. But I\u2019ve done some alterations to make it more relevant to our case (which you can find here.)", "Let\u2019s import the libraries we need and import our data:", "First 10 rows of our data:", "Our first 8 columns are providing individual-level data and conversion column is our label to predict:", "We will be building a binary classification model for scoring the conversion probability of all customers. For doing that, we are going to follow the steps below:", "First off, we need to build a function that calculates our uplift. To keep it simple, we will assume every conversion means 1 order and the average order value is 25$.", "We are going to calculate three types of uplift:", "Conversion Uplift: Conversion rate of test group - conversion rate of control group", "Order Uplift: Conversion uplift * # converted customer in test group", "Revenue Uplift: Order Uplift * Average order $ value", "If we apply this function to our dataframe, we will see the results below:", "Discount looks like a better option if we want to get more conversion. It brings 7.6% uptick compared to the customers who didn\u2019t receive any offer. BOGO (Buy One Get One) has 4.5% uptick as well.", "Let\u2019s start exploring which factors are the drivers of this incremental change.", "We check every feature one by one to find out their impact on conversion", "Ideally, the conversion should go down while recency goes up since inactive customers are less likely to buy again:", "It goes as expected until 11 months of recency. Then it increases. It can be due to many reasons like having less number of customers in those buckets or the effect of the given offers.", "We will create a history cluster and observe its impact. Let\u2019s apply k-means clustering to define the significant groups in history:", "Overview of the clusters and the plot vs. conversion:", "Customers with higher $ value of history are more likely to convert.", "We will check these two features together with the following code line:", "Customers, who used both of the offers before, have the highest conversion rate.", "Rural shows better conversion compared to others:", "As we see below, customers from referral channel have less conversion rate:", "They show almost 5% less conversion.", "Multichannel shows higher conversion rate as we expected. Using more than one channel is an indicator of high engagement.", "Customers who get discount offers show ~18% conversion whereas it is ~15% for BOGO. If customers don\u2019t get an offer, their conversion rate drops by ~4%.", "Feature Engineering of this data will be pretty simple. We will apply .get_dummies() to convert categorical columns to numerical ones:", "It is time to build our machine learning model to score conversion probabilities.", "To build our model, we need to follow the steps we mentioned earlier in the articles.", "Let\u2019s start with splitting features and the label:", "We will fit the model and get the conversion probabilities. predit_proba() function of our model assigns probability for each row:", "Let\u2019s see how our probability column looks like:", "From the above, we can see that our model assigned the probability of conversion (from 0 to 1) for each customer.", "Finally, we need to understand if our model works well or not.", "Now we assume, the difference in the probability of discount, bogo and control group should be similar to conversion differences between them.", "We need to use our test set to find it out.", "Let\u2019s calculate predicted and real order upticks for discount:", "For real uptick calculation, we used the conversion column. For the predicted one, we replaced it with proba.", "The results are pretty good. The real order uptick was 966 and the model predicted it as 948 (1.8% error).", "We need to check if the results are good for BOGO as well:", "The error rate is around 5.6%. The model can benefit from improving the prediction scores on BOGO offer type.", "Calculating conversion probabilities help us a lot in different areas as well. We have predicted the return of the different types of offers but it can help us to find out who to target for maximizing the uplift as well. In the next article, we will build our own uplift model.", "You can find the Jupyter Notebook for this article here.", "Need help growing your company? Book a free session with me here.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fbaf9f9913298&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmarket-response-models-baf9f9913298&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmarket-response-models-baf9f9913298&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmarket-response-models-baf9f9913298&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmarket-response-models-baf9f9913298&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----baf9f9913298--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----baf9f9913298--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@karamanbk?source=post_page-----baf9f9913298--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@karamanbk?source=post_page-----baf9f9913298--------------------------------", "anchor_text": "Bar\u0131\u015f Karaman"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd48af1458440&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmarket-response-models-baf9f9913298&user=Bar%C4%B1%C5%9F+Karaman&userId=d48af1458440&source=post_page-d48af1458440----baf9f9913298---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbaf9f9913298&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmarket-response-models-baf9f9913298&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbaf9f9913298&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmarket-response-models-baf9f9913298&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/data-driven-growth", "anchor_text": "Data Driven Growth with Python"}, {"url": "https://towardsdatascience.com/data-driven-growth-with-python-part-1-know-your-metrics-812781e66a5b", "anchor_text": "Know Your Metrics"}, {"url": "https://towardsdatascience.com/data-driven-growth-with-python-part-2-customer-segmentation-5c019d150444", "anchor_text": "Customer Segmentation"}, {"url": "https://towardsdatascience.com/data-driven-growth-with-python-part-3-customer-lifetime-value-prediction-6017802f2e0f", "anchor_text": "Customer Lifetime Value Prediction"}, {"url": "https://towardsdatascience.com/churn-prediction-3a4a36c2129a", "anchor_text": "Churn Prediction"}, {"url": "https://towardsdatascience.com/predicting-next-purchase-day-15fae5548027", "anchor_text": "5- Predicting Next Purchase Day"}, {"url": "https://towardsdatascience.com/predicting-sales-611cb5a252de", "anchor_text": "6- Predicting Sales"}, {"url": "https://towardsdatascience.com/uplift-modeling-e38f96b1ef60", "anchor_text": "8- Uplift Modeling"}, {"url": "https://towardsdatascience.com/a-b-testing-design-execution-6cf9e27c6559", "anchor_text": "9- A/B Testing Design and Execution"}, {"url": "https://www.kaggle.com/learn/python", "anchor_text": "Python"}, {"url": "https://www.kaggle.com/learn/pandas", "anchor_text": "Pandas"}, {"url": "https://jupyter.readthedocs.io/en/latest/install.html", "anchor_text": "upyter Notebook"}, {"url": "https://www.python.org/downloads/", "anchor_text": "ython"}, {"url": "https://towardsdatascience.com/data-driven-growth-with-python-part-2-customer-segmentation-5c019d150444", "anchor_text": "segment the customers"}, {"url": "https://towardsdatascience.com/data-driven-growth-with-python-part-3-customer-lifetime-value-prediction-6017802f2e0f", "anchor_text": "predict their lifetime value"}, {"url": "https://towardsdatascience.com/predicting-sales-611cb5a252de", "anchor_text": "what will be our sales numbers"}, {"url": "https://blog.minethatdata.com/2008/03/minethatdata-e-mail-analytics-and-data.html", "anchor_text": "here"}, {"url": "https://gist.github.com/karamanbk/ef1a118592e2f7954e5bb582e09bdde3", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/uplift-modeling-e38f96b1ef60", "anchor_text": "uplift model"}, {"url": "https://gist.github.com/karamanbk/2741fc0e0bd22c8edcc9e4d0a20fda2b", "anchor_text": "here"}, {"url": "https://app.growthmentor.com/mentors/baris-karaman", "anchor_text": "here"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----baf9f9913298---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-driven-growth?source=post_page-----baf9f9913298---------------data_driven_growth-----------------", "anchor_text": "Data Driven Growth"}, {"url": "https://medium.com/tag/data-science?source=post_page-----baf9f9913298---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/growth-hacking?source=post_page-----baf9f9913298---------------growth_hacking-----------------", "anchor_text": "Growth Hacking"}, {"url": "https://medium.com/tag/marketing?source=post_page-----baf9f9913298---------------marketing-----------------", "anchor_text": "Marketing"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbaf9f9913298&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmarket-response-models-baf9f9913298&user=Bar%C4%B1%C5%9F+Karaman&userId=d48af1458440&source=-----baf9f9913298---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbaf9f9913298&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmarket-response-models-baf9f9913298&user=Bar%C4%B1%C5%9F+Karaman&userId=d48af1458440&source=-----baf9f9913298---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbaf9f9913298&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmarket-response-models-baf9f9913298&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----baf9f9913298--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fbaf9f9913298&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmarket-response-models-baf9f9913298&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----baf9f9913298---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----baf9f9913298--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----baf9f9913298--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----baf9f9913298--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----baf9f9913298--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----baf9f9913298--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----baf9f9913298--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----baf9f9913298--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----baf9f9913298--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@karamanbk?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@karamanbk?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Bar\u0131\u015f Karaman"}, {"url": "https://medium.com/@karamanbk/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.3K Followers"}, {"url": "https://www.linkedin.com/in/karamanbaris", "anchor_text": "https://www.linkedin.com/in/karamanbaris"}, {"url": "https://app.growthmentor.com/baris-karaman", "anchor_text": "https://app.growthmentor.com/baris-karaman"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd48af1458440&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmarket-response-models-baf9f9913298&user=Bar%C4%B1%C5%9F+Karaman&userId=d48af1458440&source=post_page-d48af1458440--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fc6ea78ac919d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmarket-response-models-baf9f9913298&newsletterV3=d48af1458440&newsletterV3Id=c6ea78ac919d&user=Bar%C4%B1%C5%9F+Karaman&userId=d48af1458440&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}