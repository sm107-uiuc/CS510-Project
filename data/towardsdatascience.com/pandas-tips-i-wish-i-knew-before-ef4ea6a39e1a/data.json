{"url": "https://towardsdatascience.com/pandas-tips-i-wish-i-knew-before-ef4ea6a39e1a", "time": 1683005277.0574121, "path": "towardsdatascience.com/pandas-tips-i-wish-i-knew-before-ef4ea6a39e1a/", "webpage": {"metadata": {"title": "Pandas tips I wish I knew before. How does pivot work? What is the main\u2026 | by Roman Orac | Towards Data Science", "h1": "Pandas tips I wish I knew before", "description": "I\u2019ve been a pandas power user for a few years now. There were times when I thought I\u2019ve mastered it and after a few months discovered I was coding like a noob. We\u2019ve all been there \ud83d\ude0a The tips I\u2019m\u2026"}, "outgoing_paragraph_urls": [{"url": "https://romanorac.github.io/assets/notebooks/2020-04-01-pandas-tips-i-wish-i-knew.ipynb", "anchor_text": "Jupyter notebook", "paragraph_index": 1}, {"url": "https://twitter.com/romanorac", "anchor_text": "Twitter", "paragraph_index": 24}, {"url": "https://twitter.com/romanorac/status/1328952374447267843", "anchor_text": "tweet", "paragraph_index": 24}], "all_paragraphs": ["I\u2019ve been a pandas power user for a few years now. There were times when I thought I\u2019ve mastered it and after a few months discovered I was coding like a noob. We\u2019ve all been there \ud83d\ude0a The tips I\u2019m sharing here with you are the ones I learned most recently.", "To run the examples download this Jupyter notebook.", "Here are few links that might interest you:", "Would you like to read more such articles? If so, you can support me by clicking on any links above. Some of them are affiliate links, but you don\u2019t need to buy anything.", "Pandas has a function explode. Don\u2019t worry, it is completely safe to use it \ud83d\ude0a The function is useful when you have lists stored in a DataFrame column. It unpacks the values in a list and it duplicates all other values \u2014 hence explode \ud83d\udca5", "Let\u2019s create a DataFrame with a column that has a random number of elements in lists.", "Now, let\u2019s execute the explode function.", "In the table below, we can observe that the index was duplicated due to unpacking values from the list.", "Pandas is almost synonymous with DataFrames, but you may be surprised if I tell you that it is not its main building block. Pandas DataFrame is build on top of pandas Series. So each column in a DataFrame is a Series. We could go deeper, what is pandas Series based on? Numpy! But let\u2019s don\u2019t go that deep.", "I even wrap Python\u2019s list in a pandas Series when benefits outweigh the cost of installing pandas in the project \u2014 I am referring to the backend and not analytics projects here.", "Let\u2019s calculate a rolling sum of values in a list with window 2.", "The code is much cleaner this way.", "What is a pivot? A pivot table is a table of statistics that summarizes the data of a more extensive table. Sounds useful! Let\u2019s try it.", "Let\u2019s say we have a fruit shop and a few customers.", "Now, let\u2019s pivot the table with fruit and customer columns and aggregate quantity values. We expect a table where fruits are on one axis and customers on the other. Quantity values should be aggregated", "We get a \u201cValueError: Index contains duplicate entries, cannot reshape\u201d. What does it mean?", "Let\u2019s try pivot with a different command (but easier to interpret), which has the same effect as pivot function.", "The command returns the same error as the pivot function, but it is more clear what is happening behind the scenes. It seems that fruit and customer columns when combined don\u2019t have a unique index.", "Now, let\u2019s try with pivot_table function, which is also the recommended approach. Note, that the function also supports aggfunc, which is np.mean by default. We use np.sum in the example below.", "Accessing the first element (and the last element) in a DataFrame is as easy as:", "You might ask what is the difference between loc and iloc? We use loc when accessing rows by index, where index can be string, integer or some other type.", "We also use loc to set a new column value on a certain index (we cannot do that with iloc \u2014 it would return ValueError):", "Pandas has an append function that enables you to append the values to the DataFrame. But the trick is that the values appended also need to be in the DataFrame.", "My favorite way to turn rows into columns is to use transpose. It also works in numpy.", "Follow me on Twitter, where I regularly tweet about Data Science and Machine Learning.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fef4ea6a39e1a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-tips-i-wish-i-knew-before-ef4ea6a39e1a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-tips-i-wish-i-knew-before-ef4ea6a39e1a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-tips-i-wish-i-knew-before-ef4ea6a39e1a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-tips-i-wish-i-knew-before-ef4ea6a39e1a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ef4ea6a39e1a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ef4ea6a39e1a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://romanorac.medium.com/?source=post_page-----ef4ea6a39e1a--------------------------------", "anchor_text": ""}, {"url": "https://romanorac.medium.com/?source=post_page-----ef4ea6a39e1a--------------------------------", "anchor_text": "Roman Orac"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F68bf0657a0cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-tips-i-wish-i-knew-before-ef4ea6a39e1a&user=Roman+Orac&userId=68bf0657a0cd&source=post_page-68bf0657a0cd----ef4ea6a39e1a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fef4ea6a39e1a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-tips-i-wish-i-knew-before-ef4ea6a39e1a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fef4ea6a39e1a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-tips-i-wish-i-knew-before-ef4ea6a39e1a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@julilona?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Ilona Froehlich"}, {"url": "https://unsplash.com/s/photos/panda-talk?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://romanorac.github.io/assets/notebooks/2020-04-01-pandas-tips-i-wish-i-knew.ipynb", "anchor_text": "Jupyter notebook"}, {"url": "https://trymito.io/", "anchor_text": "Complete your Python analyses 10x faster with Mito"}, {"url": "https://aigents.co/skills", "anchor_text": "Free skill tests for Data Scientists & ML Engineers"}, {"url": "https://imp.i115008.net/c/2402645/1116216/11298", "anchor_text": "All New Self-Driving Car Engineer Nanodegree"}, {"url": "https://giphy.com/gifs/reactionseditor-l0IxYWDltdHEqujnO", "anchor_text": "giphy"}, {"url": "https://imgflip.com/memegenerator", "anchor_text": "imgflip.com"}, {"url": "https://giphy.com/gifs/Friends-season-5-episode-113-the-one-with-cop-UrbnbuU24p1zgyDMUH", "anchor_text": "giphy"}, {"url": "https://giphy.com/gifs/waynes-world-wayne-campbell-MUeQeEQaDCjE4", "anchor_text": "giphy"}, {"url": "https://twitter.com/romanorac", "anchor_text": "Twitter"}, {"url": "https://twitter.com/romanorac/status/1328952374447267843", "anchor_text": "tweet"}, {"url": "https://unsplash.com/@cmhedger?utm_source=medium&utm_medium=referral", "anchor_text": "Courtney Hedger"}, {"url": "https://unsplash.com/?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ef4ea6a39e1a---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----ef4ea6a39e1a---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/pandas?source=post_page-----ef4ea6a39e1a---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/programming?source=post_page-----ef4ea6a39e1a---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/analytics?source=post_page-----ef4ea6a39e1a---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fef4ea6a39e1a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-tips-i-wish-i-knew-before-ef4ea6a39e1a&user=Roman+Orac&userId=68bf0657a0cd&source=-----ef4ea6a39e1a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fef4ea6a39e1a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-tips-i-wish-i-knew-before-ef4ea6a39e1a&user=Roman+Orac&userId=68bf0657a0cd&source=-----ef4ea6a39e1a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fef4ea6a39e1a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-tips-i-wish-i-knew-before-ef4ea6a39e1a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ef4ea6a39e1a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fef4ea6a39e1a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-tips-i-wish-i-knew-before-ef4ea6a39e1a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ef4ea6a39e1a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ef4ea6a39e1a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ef4ea6a39e1a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ef4ea6a39e1a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ef4ea6a39e1a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ef4ea6a39e1a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ef4ea6a39e1a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ef4ea6a39e1a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ef4ea6a39e1a--------------------------------", "anchor_text": ""}, {"url": "https://romanorac.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://romanorac.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Roman Orac"}, {"url": "https://romanorac.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "7.7K Followers"}, {"url": "https://romanorac.medium.com/membership", "anchor_text": "https://romanorac.medium.com/membership"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F68bf0657a0cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-tips-i-wish-i-knew-before-ef4ea6a39e1a&user=Roman+Orac&userId=68bf0657a0cd&source=post_page-68bf0657a0cd--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa69c18dd3c04&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-tips-i-wish-i-knew-before-ef4ea6a39e1a&newsletterV3=68bf0657a0cd&newsletterV3Id=a69c18dd3c04&user=Roman+Orac&userId=68bf0657a0cd&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}