{"url": "https://towardsdatascience.com/co-variance-an-intuitive-explanation-a67f6c80674d", "time": 1683005421.804798, "path": "towardsdatascience.com/co-variance-an-intuitive-explanation-a67f6c80674d/", "webpage": {"metadata": {"title": "Co-variance: An intuitive explanation! | by Mohit Mayank | Towards Data Science", "h1": "Co-variance: An intuitive explanation!", "description": "Contrary to the popular belief, a formula is much more than just mathematical notations. It tries to express an idea, which get hidden under the math and is not evident unless you really look for it\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Discrete_random_variable", "anchor_text": "discrete random variable", "paragraph_index": 1}, {"url": "https://en.wikipedia.org/wiki/Weighted_average", "anchor_text": "probability-weighted average", "paragraph_index": 1}, {"url": "https://en.wikipedia.org/wiki/Expected_value", "anchor_text": "expectation", "paragraph_index": 7}, {"url": "https://en.wikipedia.org/wiki/Deviation_(statistics)", "anchor_text": "deviation", "paragraph_index": 7}, {"url": "https://en.wikipedia.org/wiki/Random_variable", "anchor_text": "random variable", "paragraph_index": 7}, {"url": "https://en.wikipedia.org/wiki/Expected_value", "anchor_text": "mean", "paragraph_index": 7}, {"url": "https://en.wikipedia.org/wiki/Random_variable", "anchor_text": "random variables", "paragraph_index": 13}, {"url": "https://www.linkedin.com/in/imohitmayank/", "anchor_text": "linkedin", "paragraph_index": 19}, {"url": "http://mohitmayank.com", "anchor_text": "website", "paragraph_index": 19}], "all_paragraphs": ["Contrary to the popular belief, a formula is much more than just mathematical notations. It tries to express an idea, which get hidden under the math and is not evident unless you really look for it. The main problem with this kind of representation (as it usually happens with me), is that after sometime you tend to forget the formula. So, here is my attempt to explain one topic such that it sticks with the audience. Before diving right into it, I will try to explain some prerequisite topics. If you are already familiar with them, feel free to skip. If not, ride along :)", "Let\u2019s start with a relatively easier topic which is the one of the basic blocks required to understand co-variance. In probability theory, expectation represents \u201cthe expected value of a discrete random variable, which is the probability-weighted average of all its possible values\u201d and it is formalized as,", "Here \u2018X\u2019 is the variable which can take several shapes \u2014 \u2018x_i\u2019, where each have it\u2019s own probability \u2018p_i\u2019 of occurrence. Notice expected value is a single number representation of all the values a variable can take considering their probabilities. One special case to remember is when all \u2018p_i\u2019 are equal i.e. probability of occurrence of all values are equal. In this case, expected value transforms into mean or average. To give an example, suppose a variable which simulates the rolling of an unbiased dice, so the possible values it can take can be 1 to 6. Also the probability of occurrence of any of these numbers will be equal. Coming back to the generalization, the transformation of expectation to mean is showcased below,", "Notice as equal weights are given to all of the values of the variable, the mean is proportional to the values itself, hence it tends to incline towards denser concentration of points. See below a simulation of distribution of points (blue dots) and how change in their position leads to change in the mean (red dot) itself.", "Also be vary of practical simulations, as most of the time they differ from the theoretical simulations. Consider the dice roll example, where we very easily stated that they have equal probability, but a programmed simulation may show some variations. Below, I simulated 10,000 rolls of an unbiased dice. Look at the occurrence distribution of the dice faces.", "Now compare the theoretical and practical calculation of mean notice there is a difference, even though small, but in practical scenario this will do.", "Observe the following plots, can you find anything common in them?", "The answer is \u2014 all of them have the same mean! But they look so different, right? And what is so different in all of the them? It seems that they have different \u2018spread\u2019 or \u2018width\u2019. Variance is basically the measure of this spread or width of the data. In statistics, \u201cvariance is the expectation of the squared deviation of a random variable from its mean.\u201d Let\u2019s try to fit this definition to our understanding of expectation,", "And just like that we have the formula of variance! Notice first we compute the mean of all the values of \u2018X\u2019. Then we find the numerator, which is square of the difference of each value with this mean. The square part is required as we don\u2019t care about the direction of spread, hence we don\u2019t want the spread in opposite directions i.e. with different polarity, to cancel out each other. Some may say, if we square to find the numerator, why not later take a square root? And this idea is exactly represented by standard deviation. So in other words, variance is the square of the standard deviation. With this in mind, let\u2019s look at the same plots as before (now separated and static), but now with variance and standard deviation computed.", "Now we are ready for the main topic but before that there is one more interesting derivation of variance. This isn\u2019t required to understand co-variance but curious readers may want to see it anyways. It represents an idea that, \u201cvariance of a variable is expectation of the squared variable minus the square of the expectation itself\u201d. It is derived below,", "While we are at it, let\u2019s compute the variance of the dice roll simulation from before. Also let\u2019s compute the same variance in three different ways, one representing lazy python way and the remaining two representing the formulas we discussed.", "Note that the variance is same to a certain decimal value, the small difference there is due to the floating point errors. Also, in Python prefer the way 1, I have coded way 2 and way 3, just to showcase the formulas we discussed.", "Till now we have been looking at only one variable at a time i.e. our data was 1D or 1-dimensional. Co-variance is defined for higher dimensional data. So as the name suggests, instead of just one variable, it considers multiple (exactly 2) variables and compute variance. Before going further, let\u2019s discuss the data first. When I say 2D, I mean each instance of data is represented by two numbers. And in basic planar geometry, we know two numbers can be associated with a point, hence each instance is represented by a single point. A sample data with 10 instances and their visualization on a 2D plane is shown below,", "Now back to it, more formally co-variance is \u201ca measure of the joint variability of two random variables\u201d. The idea is if both variables follow same increasing behavior we have high co-variance. By this I mean, if one variable increases so does the other. In all of the other cases, like where one increases (or decreases) and the other decreases (or increases), we will have negative co-variance. As its a extension of variance, we can express co-variance formula from variance formula as follows,", "Please note the subtle second line, which says that co-variance of same variable is equal to variance of the variable. And later all we did was to replace the \u2018x\u2019 related term from the second portion of numerator with \u2018y\u2019, and we have the co-variance formula! Also note that \u2018ux\u2019 and \u2018uy\u2019 are the mean of variable \u2018X\u2019 and \u2018Y\u2019 respectively.", "One interesting intuition emerges if we look closely at the numerator. But to generalize this, suppose we computed the mean of both variables (\u2018ux\u2019 and \u2018uy\u2019) and took any one point (\u2018x_i\u2019 and \u2018y_i\u2019) from dateset and plotted both of them as points in a 2D plane. Then we can form a rectangle with these two points being at the exact opposite positions. Going in this direction leads to,", "So, it\u2019s basically representing the area of a rectangle which is plotted between the mean and a data point. So each point of the dataset will make a rectangle with mean point. But as we draw rectangles for the complete dataset and find their area using the above formulae, we observe some rectangles have negative area! Nothing to worry, as it just showcase that this data point (for which we get -ve area) has different behavior for its variables, i.e. one is high but the other is low, which goes against the idea of co-variance. Now as we take the summation of all the data points\u2019s rectangle area, what we are doing is adding the +ve areas and subtracting the -ve areas. And finally the resulting value after averaging represents the magnitude of co-variance. One examples on a sample dataset is shown below, where we showcase different points of dataset and the rectangles formed with their areas,", "Let\u2019s also look at the different datasets and the rectangles formed. Also notice that the Figure 1 represents the case with largest area and hence largest co-variance (we discussed how they are proportional). As stated before, the behavior shown here is the ideal one i.e. as one variable increases, so does the other. And as points starts to deviate from this straight line behavior, as shown in the subsequent figures, the amount of red rectangles increases and hence the magnitude of co-variances decreases.", "When we represent a formula in an easily interpretable form such as a diagram or plot, it becomes much easier to understand and also easier to grasp hidden insights. For example if we represent co-variance in form of rectangles and their areas, we can quickly answer questions like which will have higher co-variance, an exponential decay or growth plot? Or what will happen if there are many +ve points near mean but one -ve point far away from the mean? (read, outliers). Try to think of these questions in the form of rectangles and areas and the answer will come out quickly. I hope it does :)", "For any question, feel free to connect with me on linkedin or visit more articles like this on my website.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Senior Data Scientist | AI/ML Researcher | Creator of \u201cJaal\u201d | Author of \u201cLazy Data Science Guide\u201d | Linkedin & Twitter: @imohitmayank"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa67f6c80674d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fco-variance-an-intuitive-explanation-a67f6c80674d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fco-variance-an-intuitive-explanation-a67f6c80674d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fco-variance-an-intuitive-explanation-a67f6c80674d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fco-variance-an-intuitive-explanation-a67f6c80674d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a67f6c80674d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a67f6c80674d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mohitmayank.medium.com/?source=post_page-----a67f6c80674d--------------------------------", "anchor_text": ""}, {"url": "https://mohitmayank.medium.com/?source=post_page-----a67f6c80674d--------------------------------", "anchor_text": "Mohit Mayank"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5c8a84675e86&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fco-variance-an-intuitive-explanation-a67f6c80674d&user=Mohit+Mayank&userId=5c8a84675e86&source=post_page-5c8a84675e86----a67f6c80674d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa67f6c80674d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fco-variance-an-intuitive-explanation-a67f6c80674d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa67f6c80674d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fco-variance-an-intuitive-explanation-a67f6c80674d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://en.wikipedia.org/wiki/Discrete_random_variable", "anchor_text": "discrete random variable"}, {"url": "https://en.wikipedia.org/wiki/Weighted_average", "anchor_text": "probability-weighted average"}, {"url": "https://en.wikipedia.org/wiki/Expected_value", "anchor_text": "expectation"}, {"url": "https://en.wikipedia.org/wiki/Deviation_(statistics)", "anchor_text": "deviation"}, {"url": "https://en.wikipedia.org/wiki/Random_variable", "anchor_text": "random variable"}, {"url": "https://en.wikipedia.org/wiki/Expected_value", "anchor_text": "mean"}, {"url": "https://en.wikipedia.org/wiki/Random_variable", "anchor_text": "random variables"}, {"url": "https://en.wikipedia.org/wiki/Expected_value", "anchor_text": "https://en.wikipedia.org/wiki/Expected_value"}, {"url": "https://en.wikipedia.org/wiki/Standard_deviation", "anchor_text": "https://en.wikipedia.org/wiki/Standard_deviation"}, {"url": "https://en.wikipedia.org/wiki/Variance", "anchor_text": "https://en.wikipedia.org/wiki/Variance"}, {"url": "https://en.wikipedia.org/wiki/Covariance", "anchor_text": "https://en.wikipedia.org/wiki/Covariance"}, {"url": "https://stats.stackexchange.com/questions/18058/how-would-you-explain-covariance-to-someone-who-understands-only-the-mean", "anchor_text": "https://stats.stackexchange.com/questions/18058/how-would-you-explain-covariance-to-someone-who-understands-only-the-mean"}, {"url": "https://www.linkedin.com/in/imohitmayank/", "anchor_text": "linkedin"}, {"url": "http://mohitmayank.com", "anchor_text": "website"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a67f6c80674d---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/mathematics?source=post_page-----a67f6c80674d---------------mathematics-----------------", "anchor_text": "Mathematics"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----a67f6c80674d---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----a67f6c80674d---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/python?source=post_page-----a67f6c80674d---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa67f6c80674d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fco-variance-an-intuitive-explanation-a67f6c80674d&user=Mohit+Mayank&userId=5c8a84675e86&source=-----a67f6c80674d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa67f6c80674d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fco-variance-an-intuitive-explanation-a67f6c80674d&user=Mohit+Mayank&userId=5c8a84675e86&source=-----a67f6c80674d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa67f6c80674d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fco-variance-an-intuitive-explanation-a67f6c80674d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a67f6c80674d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa67f6c80674d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fco-variance-an-intuitive-explanation-a67f6c80674d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a67f6c80674d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a67f6c80674d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a67f6c80674d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a67f6c80674d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a67f6c80674d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a67f6c80674d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a67f6c80674d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a67f6c80674d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a67f6c80674d--------------------------------", "anchor_text": ""}, {"url": "https://mohitmayank.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mohitmayank.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Mohit Mayank"}, {"url": "https://mohitmayank.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "929 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5c8a84675e86&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fco-variance-an-intuitive-explanation-a67f6c80674d&user=Mohit+Mayank&userId=5c8a84675e86&source=post_page-5c8a84675e86--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7840ae6d0ff6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fco-variance-an-intuitive-explanation-a67f6c80674d&newsletterV3=5c8a84675e86&newsletterV3Id=7840ae6d0ff6&user=Mohit+Mayank&userId=5c8a84675e86&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}