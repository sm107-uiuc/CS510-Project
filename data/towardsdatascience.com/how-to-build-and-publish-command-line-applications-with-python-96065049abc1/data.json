{"url": "https://towardsdatascience.com/how-to-build-and-publish-command-line-applications-with-python-96065049abc1", "time": 1683008895.2390919, "path": "towardsdatascience.com/how-to-build-and-publish-command-line-applications-with-python-96065049abc1/", "webpage": {"metadata": {"title": "How to Build And Publish Command-Line Applications With Python | by Oyetoke Tobiloba Emmanuel | Towards Data Science", "h1": "How to Build And Publish Command-Line Applications With Python", "description": "Command-line applications are basically programs you run in your terminal and chances are that you have tried or thought of building one. Building a Command-Line Application is one thing, publishing\u2026"}, "outgoing_paragraph_urls": [{"url": "https://codeburst.io/building-beautiful-command-line-interfaces-with-python-26c7e1bb54df", "anchor_text": "article", "paragraph_index": 2}, {"url": "https://www.darkreading.com/edge/theedge/the-truth-about-vulnerabilities-in-open-source-code/b/d-id/1335187", "anchor_text": "Open Source Vulnerabilities", "paragraph_index": 4}, {"url": "https://cve.mitre.org/", "anchor_text": "CVE", "paragraph_index": 4}, {"url": "https://nvd.nist.gov/", "anchor_text": "NVD", "paragraph_index": 4}, {"url": "http://vuln.whitesource.com", "anchor_text": "WhiteSource Vuln", "paragraph_index": 4}, {"url": "https://cve.mitre.org/", "anchor_text": "CVE", "paragraph_index": 5}, {"url": "https://siitgo.com/pages/lpythontz-3/1511/python-3-environment-setup", "anchor_text": "development environment", "paragraph_index": 6}, {"url": "https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=python", "anchor_text": "https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword", "paragraph_index": 12}, {"url": "https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8315", "anchor_text": "https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-", "paragraph_index": 16}, {"url": "https://pypi.org/account/register/", "anchor_text": "create an account", "paragraph_index": 29}, {"url": "https://setuptools.readthedocs.io/en/latest/", "anchor_text": "The setup tool documentation does a good job of going into all the detail.", "paragraph_index": 35}, {"url": "https://pypi.org", "anchor_text": "PyPI", "paragraph_index": 38}, {"url": "https://test.pypi.org", "anchor_text": "PyPI test server", "paragraph_index": 38}, {"url": "https://packaging.python.org/tutorials/packaging-projects/", "anchor_text": "Twine", "paragraph_index": 39}, {"url": "https://pypi.org", "anchor_text": "PyPI", "paragraph_index": 44}, {"url": "https://test.pypi.org", "anchor_text": "TestPyPI", "paragraph_index": 46}, {"url": "https://test.pypi.org/project/cver/1.0.0/", "anchor_text": "here", "paragraph_index": 48}, {"url": "https://test.pypi.org", "anchor_text": "TestPyPI", "paragraph_index": 49}, {"url": "https://pypi.org/project/cver/1.0.0/", "anchor_text": "here", "paragraph_index": 54}, {"url": "http://bit.ly/oyetoketoby", "anchor_text": "http://bit.ly/oyetoketoby", "paragraph_index": 57}], "all_paragraphs": ["Command-line applications are basically programs you run in your terminal and chances are that you have tried or thought of building one.", "Building a Command-Line Application is one thing, publishing it to an open public code repository like PyPI is another thing and shouldn\u2019t be seen as a difficult task or process.", "I have previously written an article, where I gave an in-depth explanation of various ways and methods to build command-line applications in Python.", "In this article, I will be explaining how you can build a simple CLI with Python and publish it to PyPI.", "Recently I have been doing some research on Open Source Vulnerabilities and I would like to have a command-line tool I could use to search and lookup vulnerabilities right from the terminal. Open-source vulnerabilities are usually published in public databases and could be found on websites like CVE, NVD, WhiteSource Vuln, and so on.", "In this article, we\u2019ll be building a simple scraper to search and lookup vulnerabilities on the CVE websites, wrap it a simple command-line application, and publish it to PyPI.", "To get started, you will need to set up your development environment and install the required modules. I suggest setting up a virtual environment as it makes things easier and helps avoid conflict in modules versions.", "To create a virtual environment you can either use the python3 command python -m venv <path/name> or install virtualenvwrapper using pip install virtualenvwrapper and create a virtualenv using mkvirtualenv -p /path/topython <path/name>", "Once you have the virtualenv set up and activated, you can create the project folder and install the required modules:", "Once everything runs successfully, you can open the project in any of your code editors and you should see a structure like below:", "In order to be able to search and do vulnerabilities lookup on the CVE website, we would need a web scraper that helps scrapes vulnerability details. We\u2019ll be building the scraper on Requests and Beautifulsoup and the scraper will be able to:", "Now inside the cver folder, create a file called cve_scraper type in this basic setup:", "To search for a vulnerability on the CVE website, the URL format is like: https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=<keyword>. With this, you should be able to extract a list of matching vulnerabilities with the keyword,", "For instance, we can use the URL to get all python related vulnerabilities:", "To extract the data, let's open the Developer Console and inspect the DOM element rendering the above data. You can right-click on any part of the page and click on inspect element or press Ctrl + F12.", "If you take a look at the DOM structure in the image above you will notice that the results are being displayed in a table and each result is a row under the table. The data can be easily extracted below:", "To lookup a vulnerability details, you will need to provide the CVE-ID of the vulnerability and pass it to this URL: https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-ID", "Open your Developer Console and let's inspect the DOM structure.", "Looking at the structure above is quite a little bit complex as the table rows are not identified with class name or id. We would need to loop through each row check if its a subtitle, if yes then we take the next element as the child content. Each subtitle is rendered inth while content is in td", "Tada! We have successfully created our CVE web scraper. You can now the two functions (search and lookup_sve) to search vulnerabilities and get details on vulnerability using its CVE-ID.", "The next step is structuring and building our command-line app using the Click library.", "Click is a Python package for creating beautiful command line interfaces in a composable way with as little code as necessary. It's one of the best python packages for creating CLI and easy to get started", "With Click, you can build any kind of simple or enterprise level CLI like Heroku CLI.", "In our CLI, we\u2019ll be implementing two commands:", "Create a file named __main__.py in the cver folder and type in below basic code:", "To implement this, we are going to import the search function from our web scraper and pass it the keyword argument from the command line to search for vulnerabilities matching that keyword:", "Same thing here, we are going to use the lookup_cve from the web scraper and pass it the name argument from the look_up command.", "Tada! We have successfully built our CVE lookup command-line tool.", "Now that we have successfully built our command-line application and everything is working fine, we can publish it to PyPI for public use and installation.", "PyPI is a software repository for Python Package and it holds most python packages we install using pip command tool. To publish a package on PyPI, you need to create an account, so you can head over to the website and create a new account and if you already have one, then you are good to go.", "Once you are done with that, the next thing is to configure our Python package using setup.py. In order for your package to be uploaded to PyPI, you need to provide some basic information about the package. This information is typically provided in the setup.py file.", "So open the setup.py in the base directory of the project and put this at the beginning of the file:", "In the above, we converted the content of our README.md file to string for later use. We also captured all required modules from the requirements.txt and as well as generated their dependency links.", "Your requirements.txt file should look like this:", "Now let's look at our setup configuration:", "In the above code, we added some options and we will only cover some of the options available in the setup here. The setup tool documentation does a good job of going into all the detail.", "Before publishing your package to PyPI or the public, you should add some documentation. How you want to document your package depends on your project. It could be a simple README.md file or Readme.rst file totally depends on you.", "Here\u2019s a typical nice README.md :", "Once everything is done successfully, the package is ready to go public and published on PyPI. Ensure you already have created an account as I mentioned earlier, and also you will need to create a Testing account on the PyPI test server to test the packages before publish to the live server.", "We\u2019ll be using a tool called Twine to upload your python packages to PyPI. It should be installed in earlier steps, but if you don\u2019t have it installed, you can just do pip install twine .", "Python packages published on PyPI are not distributed as plain source code but are wrapped into distribution packages. Python wheels and source archives are the most common formats in distributing python packages.", "Python wheels are essentially a zip archive containing your code and include any extensions ready to use. Source Archives is made up of your source code and any supporting files wrapped into one tar file.", "To test our package locally, we just need to run:", "Then we can now use it as:", "To test our package on PyPI test server, we\u2019ll need to generate a build for local testing. Creating a build will generate both python wheel and source archives.", "This will generate two files in a dist directory:", "Then using twine, we can now upload to the TestPyPI server:", "This will ask for your username and password, so ensure you enter that correctly.", "If it uploads successfully with no issues, that means we can publish on the live server. You can check it out here.", "To install from the TestPyPI, run the below command:", "From here you can try out all your commands and see if all goes well before we publish to the live server.", "Once you have tested all commands and ready to publish to live server:", "Enter your username and password when prompted. That\u2019s it!", "You can now install it using:", "Congratulations! Your package is published on PyPI and you can view it here!", "In this article, I have explained the step by step process on how to build and publish your next command line application with Python.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Software Engineer. Subscribe to my YouTube channel: http://bit.ly/oyetoketoby"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F96065049abc1&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-publish-command-line-applications-with-python-96065049abc1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-publish-command-line-applications-with-python-96065049abc1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-publish-command-line-applications-with-python-96065049abc1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-publish-command-line-applications-with-python-96065049abc1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----96065049abc1--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----96065049abc1--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@oyetoketoby80?source=post_page-----96065049abc1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@oyetoketoby80?source=post_page-----96065049abc1--------------------------------", "anchor_text": "Oyetoke Tobiloba Emmanuel"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7f00eb9ee674&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-publish-command-line-applications-with-python-96065049abc1&user=Oyetoke+Tobiloba+Emmanuel&userId=7f00eb9ee674&source=post_page-7f00eb9ee674----96065049abc1---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F96065049abc1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-publish-command-line-applications-with-python-96065049abc1&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F96065049abc1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-publish-command-line-applications-with-python-96065049abc1&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@davidclode?utm_source=medium&utm_medium=referral", "anchor_text": "David Clode"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://codeburst.io/building-beautiful-command-line-interfaces-with-python-26c7e1bb54df", "anchor_text": "article"}, {"url": "https://www.darkreading.com/edge/theedge/the-truth-about-vulnerabilities-in-open-source-code/b/d-id/1335187", "anchor_text": "Open Source Vulnerabilities"}, {"url": "https://cve.mitre.org/", "anchor_text": "CVE"}, {"url": "https://nvd.nist.gov/", "anchor_text": "NVD"}, {"url": "http://vuln.whitesource.com", "anchor_text": "WhiteSource Vuln"}, {"url": "https://cve.mitre.org/", "anchor_text": "CVE"}, {"url": "https://siitgo.com/pages/lpythontz-3/1511/python-3-environment-setup", "anchor_text": "development environment"}, {"url": "https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=python", "anchor_text": "https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword="}, {"url": "https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8492", "anchor_text": "https://cve.mitre.org/cgi-bin/cvename.cgi?name="}, {"url": "https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=python", "anchor_text": "https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword"}, {"url": "https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8315", "anchor_text": "https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-"}, {"url": "http://twitter.com/click", "anchor_text": "@click"}, {"url": "http://twitter.com/click", "anchor_text": "@click"}, {"url": "http://twitter.com/main", "anchor_text": "@main"}, {"url": "http://twitter.com/click", "anchor_text": "@click"}, {"url": "http://twitter.com/main", "anchor_text": "@main"}, {"url": "http://twitter.com/click", "anchor_text": "@click"}, {"url": "http://twitter.com/main", "anchor_text": "@main"}, {"url": "http://twitter.com/click", "anchor_text": "@click"}, {"url": "http://twitter.com/main", "anchor_text": "@main"}, {"url": "http://twitter.com/click", "anchor_text": "@click"}, {"url": "https://pypi.org/account/register/", "anchor_text": "create an account"}, {"url": "https://github.com/CITGuru/cver/'", "anchor_text": "https://github.com/CITGuru/cver'"}, {"url": "https://github.com/CITGuru/cver/archive/1.0.0.tar.gz'", "anchor_text": "https://github.com/CITGuru/cver/archive/1.0.0.tar.gz'"}, {"url": "https://setuptools.readthedocs.io/en/latest/", "anchor_text": "The setup tool documentation does a good job of going into all the detail."}, {"url": "https://github.com/citguru/cevr", "anchor_text": "https://github.com/citguru/cevr"}, {"url": "https://pypi.org", "anchor_text": "PyPI"}, {"url": "https://test.pypi.org", "anchor_text": "PyPI test server"}, {"url": "https://packaging.python.org/tutorials/packaging-projects/", "anchor_text": "Twine"}, {"url": "https://pypi.org", "anchor_text": "PyPI"}, {"url": "https://test.pypi.org", "anchor_text": "TestPyPI"}, {"url": "https://test.pypi.org/project/cver/1.0.0/", "anchor_text": "here"}, {"url": "https://test.pypi.org", "anchor_text": "TestPyPI"}, {"url": "https://test.pypi.org/simple/", "anchor_text": "https://test.pypi.org/simple/"}, {"url": "https://pypi.org/project/cver/1.0.0/", "anchor_text": "here"}, {"url": "https://medium.com/tag/technology?source=post_page-----96065049abc1---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/programming?source=post_page-----96065049abc1---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/web-scraping?source=post_page-----96065049abc1---------------web_scraping-----------------", "anchor_text": "Web Scraping"}, {"url": "https://medium.com/tag/python-programming?source=post_page-----96065049abc1---------------python_programming-----------------", "anchor_text": "Python Programming"}, {"url": "https://medium.com/tag/data-science?source=post_page-----96065049abc1---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F96065049abc1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-publish-command-line-applications-with-python-96065049abc1&user=Oyetoke+Tobiloba+Emmanuel&userId=7f00eb9ee674&source=-----96065049abc1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F96065049abc1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-publish-command-line-applications-with-python-96065049abc1&user=Oyetoke+Tobiloba+Emmanuel&userId=7f00eb9ee674&source=-----96065049abc1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F96065049abc1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-publish-command-line-applications-with-python-96065049abc1&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----96065049abc1--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F96065049abc1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-publish-command-line-applications-with-python-96065049abc1&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----96065049abc1---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----96065049abc1--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----96065049abc1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----96065049abc1--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----96065049abc1--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----96065049abc1--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----96065049abc1--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----96065049abc1--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----96065049abc1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@oyetoketoby80?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@oyetoketoby80?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Oyetoke Tobiloba Emmanuel"}, {"url": "https://medium.com/@oyetoketoby80/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "2.1K Followers"}, {"url": "http://bit.ly/oyetoketoby", "anchor_text": "http://bit.ly/oyetoketoby"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7f00eb9ee674&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-publish-command-line-applications-with-python-96065049abc1&user=Oyetoke+Tobiloba+Emmanuel&userId=7f00eb9ee674&source=post_page-7f00eb9ee674--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd7739961c019&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-and-publish-command-line-applications-with-python-96065049abc1&newsletterV3=7f00eb9ee674&newsletterV3Id=d7739961c019&user=Oyetoke+Tobiloba+Emmanuel&userId=7f00eb9ee674&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}