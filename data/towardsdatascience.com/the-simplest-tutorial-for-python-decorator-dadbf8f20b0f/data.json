{"url": "https://towardsdatascience.com/the-simplest-tutorial-for-python-decorator-dadbf8f20b0f", "time": 1683017353.225549, "path": "towardsdatascience.com/the-simplest-tutorial-for-python-decorator-dadbf8f20b0f/", "webpage": {"metadata": {"title": "The Simplest Tutorial for Python Decorators | by Christopher Tao | Towards Data Science", "h1": "The Simplest Tutorial for Python Decorators", "description": "Python Decorator is one of the most unique features in Python that can change behaviours of functions or classes as a wrapper, Singleton is an example."}, "outgoing_paragraph_urls": [], "all_paragraphs": ["One of the most unique features of the Python programming language is the decorator. That is the at sign \u201c@\u201d you may have seen it everywhere in Python code. Of course, many other languages have decorator as well, but the concepts are different. In Python, the decorator can be defined extremely easily and utilised for any functions and classes.", "It\u2019s like a \u201cwrapper\u201d of the functions or classes that we used to add more behaviours of them without changing them. It is very useful when we want to", "There are many amazing Python libraries rely on Decorators, such as the attr and marshmallow that are introduced in the articles below.", "In this article, I\u2019ll try to demonstrate how to define and use a Python decorator in the simplest way. Hopefully, this will help people who don\u2019t know or not quite familiar with it.", "As I stated in the introduction, a Python decorator is like a wrapper of a function or a class. It\u2019s still too conceptual. Let\u2019s take a look at some code as follows:", "The above code is a definition of a decorator that decorates a function.", "In the inner function wrapped_func, we can do whatever before and after the func is called. After the decorator is defined, we simply use it as follows.", "Then, whenever we call the function func, the behaviours we\u2019ve defined in the decorator will also be executed.", "BTW, the way of defining a decorator is actually using Python closure, which is another feature of Python. If you\u2019re interested in this, please check out one of my previous articles for more detail.", "I know, no one likes concepts only. Here is a simple example of Python decorator.", "In this decorator, we output 30 equal signs \u201c=\u201d before and after the function is executed. Therefore, we can say that the decorator is used for adding top and bottom row of = for any functions printing something.", "What if we want to decorate some functions that expect arguments? For example, the function below is taking a name and send a greeting.", "Let\u2019s try the same decorator that is defined in the basic usage section above.", "Oh, no. we can\u2019t do that, because the func we execute inside the inner function expect no arguments. Of course, Python provided an easy and universal solution to this problem. Let\u2019s define the decorator again.", "The only difference is that we added *args, **kwargs as the arguments to the inner function and pass them into the func. This will make sure that any arguments will be simply passed in, so there won\u2019t be any problems.", "If you don\u2019t know what are *args and **kwargs, many tutorials can be easily found online.", "Let me just give another example. We can certainly do more than output something above and below the decorated function. We can use the decorated function in whatever ways we like.", "For example, we want to define a decorator that adds date-time before some logging functions.", "In the above definition, the decorated function should originally output something, but now our decorator adds a date-time before it.", "Suppose we have two different log functions, one is taking an integer as \u201cline number\u201d and indicates users that there is an error happened there, the other one is simply telling the user everything has done successfully.", "Please be noticed that the decorator has been reused for both of the two functions.", "Python decorator can not only decorating functions but also classes. Here I mean the class itself. If we want to change the behaviours of some class methods, then it is nothing different from the function decorator.", "When we apply a decorator to a class, we are actually decorating its constructing method.", "Therefore, we are actually adding behaviours when we are trying to get an instance of the class. Please be noticed that I\u2019m using _class to refer to the class because class is a reserved keyword in Python (as in most other object-oriented languages).", "Still too conceptual. Now, let me show you one of the typical usages of the class decorator, which is the \u201cSingleton\u201d.", "If you\u2019re not familiar with singleton, that\u2019s fine. It is just a common programming design pattern that defining a class which can only have one instance. It is very useful when we define a class for the connection of some resources such as the database connection and the HTTP connection. we certainly don\u2019t want to have new database connections everything we run a DB query. Therefore, we want to have only one connection and reuse it everywhere.", "The basic idea is that we will define a dictionary and store the instance into it. Whenever we\u2019re trying to instantiate the class, the dictionary is checked. If there is no instance, instantiate the class and return the instance. Otherwise, do not instantiate the class again, just return the existing instance.", "Now, let\u2019s define a class of a DB connection. As an example, we don\u2019t have to implement it, just use the pass keyword. Don\u2019t forget to add the singleton decorator.", "**Shameless Ads** If you want to know more about Python, check out one of my previous articles about it.", "Then, let\u2019s instantiate the class twice.", "It shows that the second time we\u2019re not creating a new instance. We can further check whether the two variables actually referencing to the same instance.", "In this article, I have introduced Python Decorate and its basic usages. We can use Python Decorator for any functions and classes. When it is decorating a class, it is actually applied to the constructor.", "One of the most typical usages of decorating a class is the singleton design pattern. Indeed, there are other ways of implementing the singleton design pattern in Python and all of them has pros and cons. The most intuitive and easiest one I believe is using the decorator.", "If you feel my articles are helpful, please consider joining Medium Membership to support me and thousands of other writers! (Click the link above)", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fdadbf8f20b0f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-simplest-tutorial-for-python-decorator-dadbf8f20b0f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-simplest-tutorial-for-python-decorator-dadbf8f20b0f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-simplest-tutorial-for-python-decorator-dadbf8f20b0f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-simplest-tutorial-for-python-decorator-dadbf8f20b0f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----dadbf8f20b0f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----dadbf8f20b0f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://qiuyujx.medium.com/?source=post_page-----dadbf8f20b0f--------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=post_page-----dadbf8f20b0f--------------------------------", "anchor_text": "Christopher Tao"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb8176fabf308&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-simplest-tutorial-for-python-decorator-dadbf8f20b0f&user=Christopher+Tao&userId=b8176fabf308&source=post_page-b8176fabf308----dadbf8f20b0f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdadbf8f20b0f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-simplest-tutorial-for-python-decorator-dadbf8f20b0f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdadbf8f20b0f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-simplest-tutorial-for-python-decorator-dadbf8f20b0f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/users/bru-no-1161770/", "anchor_text": "Bru-nO"}, {"url": "https://pixabay.com/photos/christmas-christmas-time-2942305/", "anchor_text": "Pixabay"}, {"url": "https://towardsdatascience.com/probably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4", "anchor_text": "https://towardsdatascience.com/probably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4"}, {"url": "https://towardsdatascience.com/the-most-elegant-python-object-oriented-programming-b38d75f4ae7b", "anchor_text": "https://towardsdatascience.com/the-most-elegant-python-object-oriented-programming-b38d75f4ae7b"}, {"url": "https://pixabay.com/users/monicore-1499084/", "anchor_text": "monicore"}, {"url": "https://pixabay.com/photos/christmas-decoration-xmas-holiday-2937873/", "anchor_text": "Pixabay"}, {"url": "https://towardsdatascience.com/dont-use-recursion-in-python-any-more-918aad95094c", "anchor_text": "Don\u2019t Use Recursion In Python Any MorePython Closure \u2014 A Pythonic technique you must knowtowardsdatascience.com"}, {"url": "https://pixabay.com/users/publicdomainpictures-14/", "anchor_text": "PublicDomainPictures"}, {"url": "https://pixabay.com/photos/christmas-bauble-red-ball-15738/", "anchor_text": "Pixabay"}, {"url": "http://twitter.com/function_decorator", "anchor_text": "@function_decorator"}, {"url": "https://pixabay.com/users/cegoh-94852/", "anchor_text": "cegoh"}, {"url": "https://pixabay.com/photos/angel-figurine-ornament-564351/", "anchor_text": "Pixabay"}, {"url": "http://twitter.com/function_decorator", "anchor_text": "@function_decorator"}, {"url": "https://pixabay.com/users/free-photos-242387/", "anchor_text": "Free-Photos"}, {"url": "https://pixabay.com/photos/christmas-tree-ornaments-christmas-1149619/", "anchor_text": "Pixabay"}, {"url": "http://twitter.com/timed_log", "anchor_text": "@timed_log"}, {"url": "http://twitter.com/timed_log", "anchor_text": "@timed_log"}, {"url": "https://pixabay.com/users/free-photos-242387/", "anchor_text": "Free-Photos"}, {"url": "https://pixabay.com/photos/christmas-decorations-christmas-bells-1150015/", "anchor_text": "Pixabay"}, {"url": "http://twitter.com/singleton", "anchor_text": "@singleton"}, {"url": "https://towardsdatascience.com/why-python-needs-the-pass-statement-30a4bdf87fa3", "anchor_text": "Why Python Needs the \u201cpass\u201d StatementWhen to use \u201cpass\u201d and are there any alternatives?towardsdatascience.com"}, {"url": "https://pixabay.com/users/jillwellington-334088/", "anchor_text": "JillWellington"}, {"url": "https://pixabay.com/photos/christmas-happy-woman-lights-2971961/", "anchor_text": "Pixabay"}, {"url": "https://medium.com/@qiuyujx/membership", "anchor_text": "Join Medium with my referral link \u2014 Christopher TaoAs a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026medium.com"}, {"url": "https://medium.com/tag/technology?source=post_page-----dadbf8f20b0f---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----dadbf8f20b0f---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/programming?source=post_page-----dadbf8f20b0f---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/software-development?source=post_page-----dadbf8f20b0f---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/python?source=post_page-----dadbf8f20b0f---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdadbf8f20b0f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-simplest-tutorial-for-python-decorator-dadbf8f20b0f&user=Christopher+Tao&userId=b8176fabf308&source=-----dadbf8f20b0f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdadbf8f20b0f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-simplest-tutorial-for-python-decorator-dadbf8f20b0f&user=Christopher+Tao&userId=b8176fabf308&source=-----dadbf8f20b0f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdadbf8f20b0f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-simplest-tutorial-for-python-decorator-dadbf8f20b0f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----dadbf8f20b0f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fdadbf8f20b0f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-simplest-tutorial-for-python-decorator-dadbf8f20b0f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----dadbf8f20b0f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----dadbf8f20b0f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----dadbf8f20b0f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----dadbf8f20b0f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----dadbf8f20b0f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----dadbf8f20b0f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----dadbf8f20b0f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----dadbf8f20b0f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----dadbf8f20b0f--------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Christopher Tao"}, {"url": "https://qiuyujx.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "8.7K Followers"}, {"url": "https://www.linkedin.com/in/christopher-tao-5717a274/", "anchor_text": "https://www.linkedin.com/in/christopher-tao-5717a274/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb8176fabf308&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-simplest-tutorial-for-python-decorator-dadbf8f20b0f&user=Christopher+Tao&userId=b8176fabf308&source=post_page-b8176fabf308--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F1d2af94a683f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-simplest-tutorial-for-python-decorator-dadbf8f20b0f&newsletterV3=b8176fabf308&newsletterV3Id=1d2af94a683f&user=Christopher+Tao&userId=b8176fabf308&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}