{"url": "https://towardsdatascience.com/a-b-testing-101-with-examples-a-summary-of-udacitys-course-3f937e8ea31f", "time": 1683017073.222538, "path": "towardsdatascience.com/a-b-testing-101-with-examples-a-summary-of-udacitys-course-3f937e8ea31f/", "webpage": {"metadata": {"title": "A/B Testing 101 with Examples - A Summary of Udacity\u2019s Course | by Lanting Natalie Ding | Towards Data Science", "h1": "A/B Testing 101 with Examples - A Summary of Udacity\u2019s Course", "description": "Long before I took any statistical class, I\u2019ve heard that A/B testing is almost a must for data analysts. So I Googled it and thought: Hmm\u2026isn\u2019t it just like the control and experiment studies we\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.evanmiller.org/ab-testing/sample-size.html", "anchor_text": "his calculator", "paragraph_index": 35}, {"url": "https://www.graphpad.com/quickcalcs/binomial2/", "anchor_text": "this calculator", "paragraph_index": 55}, {"url": "https://towardsdatascience.com/gender-bias-in-admission-statistics-the-simpson-paradox-cd381d994b16", "anchor_text": "UC Berkeley gender bias", "paragraph_index": 56}, {"url": "https://www.udacity.com/course/ab-testing--ud257", "anchor_text": "here", "paragraph_index": 74}, {"url": "https://towardsdatascience.com/gender-bias-in-admission-statistics-the-simpson-paradox-cd381d994b16", "anchor_text": "Gender Bias in Admission Statistics? The Simpson-Paradox", "paragraph_index": 75}], "all_paragraphs": ["Long before I took any statistical class, I\u2019ve heard that A/B testing is almost a must for data analysts. So I Googled it and thought: Hmm\u2026isn\u2019t it just like the control and experiment studies we conducted in high school biology class? Simple as it may sound, it actually has a rigorous statistical process and involves various business concerns.", "The contents covered in this Udacity course [1] include:", "A/B testing is a way to compare two versions of a single variable , typically by testing a subject\u2019s response to variant A against variant B , and determining which of the two variants is more effective [2].", "For a better understanding, I will use this example throughout this article to give a more concrete explanation:", "Suppose an online learning platform wants you to test whether they should change the web page's button size to increase the number of users.", "By matching the example with the definition above, we have:", "Single variable: \u201cJoin Now \u201d button size on a webpageVariant A: 4 x 3 button sizeVariant B: 16 x 9 button sizeSubject\u2019s response: click-through probability changesGoal: find out which option has a higher click-through probability", "Sounds like if we change the variables and responses to any other attributes, A/B testing can still apply, huh? Indeed, A/B testing has many Use Cases, including:", "UI changes, recommendations, ranking changes, implicit changes such as loading time, etc.", "However, there are also cases it is Not So Useful:", "a) The baseline of comparison is not clear", "b) The time needed for users to adapt to new experiments can be quite costly, as there might be some psychological influences on users:", "Change Aversion: when faced with a new interface or changed functionality, users often experience anxiety and confusion, resulting in a short-term negative effect.", "Novelty Effect: when new techs came out, users will often have increased interests so that the performance will improve initially, but it\u2019s not because of any actual improvement.", "Now that we know when to use it, so:", "There are 5 main steps for A/B Testing:", "1. Make a hypothesis about the changeThe first step is exactly what we did in the example above. i.e., We assume that changing the size of the \u2018Join Now\u2019 button from 4x3 to 16x9 will affect the number of students enrolled in our online course.", "2. Choose the metricsE.g. We want more students to move from the course menu page to a specific course page, so we choose the \u2018click-through probability\u2019 as our metric.", "3. Design the experiment setups (including the unit of diversion, population, size, and duration), and carry out the test.", "4. Analyse the resultsCalculate the margin based on the confidence interval, and decide whether it satisfies the practical significance requirements.", "5. Make a decision. Communicate the results and risks with stakeholders.", "If you feel confused about some of the concepts above, don\u2019t worry. Let\u2019s dive into the details!", "After we set up our goals in step 1, we need to choose the correct metrics to convert the goals to concrete measurements such as click-through probability. It can be single or multiple metrics depending on the business needs. If you chose multiple metrics, one way is to combine them with weights to form an overall evaluation criterion (OEC). The steps mentioned in this course are:", "1. Invariant (Sanity) CheckBefore choosing the measurement metrics that will be affected by the variants, we need to make sure invariants are controlled. For example, do you have the same number of users across the two groups (population sizing)? Do they have comparable distributions across countries, languages? Ideally, we should also assign the two groups the same number of trials.", "2. Determine High-level Business MetricsThis usually involves discussing with domain experts to determine the best practice, such as revenues, market shares, etc. In our online learning case, click-through probability makes more business sense.", "3. Expand to More Detailed MetricsFirst of all, we could list the basic customer funnel and expand it with more details to better understand the data we need to collect for the metrics. In this case, we need to capture the number of unique users that moves from \u201cexploring the site\u201d to \u201ccreate an account.\u201d", "Then we determine how to summarise the metrics. In general, there are 4 ways to summarise the metrics:", "To choose between these 4 methods, we usually look at:", "So far we know what to test on, but before we carry out the test, there are still 4 attributes need to be designed: Unit of Diversion, Population, Size, and Time.", "Remember in our online course example, we want to collect the number of unique users that moves from \u201cexploring the site\u201d to \u201ccreate an account\u201d? So what can be considered a \u201cunique user\u201d, or the unit to run the test? This is the question that the unit of diversion answers. The commonly used units include:", "User ID, Cookies, Events such as page view, Device ID, IP address", "To determine the best unit, we need to look at:", "Sometimes we want to target the changes to specific user groups. This is called a cohort. For example, if we change the English text prompt of a button, we may only want to test the results on English speaking users.", "Note that limiting the population to a cohort may need a longer time to collect sufficient data. So unless we want to increase user stability or reduce the learning effect, using a cohort is unnecessary.", "The questions we need to answer regarding the size include: How many tests do we need to get statistically significant results? How do we reduce the number of tests to save time? These are the 4 parameters that will affect the sample size:", "And the specific numbers can be calculated using this calculator.", "The last parameter to consider is time, which includes:", "Suppose that we have already run the experiment and collected a sufficient amount of data. Shall we move on to analysing the results directly? Not quite, we still need to do another sanity check to ensure the experiment is conducted properly.", "We have already know the invariants when choosing our metrics. Now we need to check that they actually didn\u2019t change in the experiment. Let\u2019s look at an example:", "Say we\u2019ve collected 65554 samples in the \u201c4 X 3\u201d button size group and 61818 in the \u201c16 X 9\u201d group. We want to know whether the number of samples collected in these two groups are roughly the same with 95% confidence.", "We could use the formula below for sanity check:", "1) Compute the standard error of binomial with probability 0.5 of success2) Lookup Z score of 95% and calculate the margin of error3) Compute the confidence interval around 0.54) Check whether the observed probability is within the confidence interval", "The observed probability is not within the 95% confidence interval in the example above, so something about the setup isn\u2019t correct.", "Do not proceed, go straight to analysing why it fails.", "First, we could look at the data in a smaller group, eg. day by day to find out which part went wrong. If it was technical reasons, we should debug with the engineers.", "To prevent the sanity check from failing, we could also add a pre/post period A/A experiment. The pre-period test is what we mentioned in \u201cchoosing the metrics\u201d, while the post-period test is usually used to measure whether learning effect happened in our experiment.", "If sanity check only failed in the pre-period, check the experiment set up, infrastructures or things along those lines. If it only failed in the experiment itself, then it\u2019s the data capture issue.", "After the sanity check, we finally reach the most exciting part! We can now put together all the hard works and make a decision! In this step, we need to determine if the change is statistically significant, together with the magnitude and direction of the change. For single and multiple metrics, we usually use different strategies.", "Hypothesis test and sign test are commonly used to calculate the statistical significance for a single metric. Let\u2019s see the examples\uff1a", "Hypothesis test: Suppose we have the following data and parameters that already passed the sanity check:", "Unlike what we\u2019ve done in the sanity check, we use the pooled probability (overall probability) as the centre of the confidence interval for a better estimation than 0.5 this time. The standard error should also be pooled:", "Following the same steps in the sanity check, we could get the result:", "Since the lower boundary of the confidence interval is higher than the minimum practical significance level, it is safe to recommend a launch of the experiment version.", "If the practical significance level (d\u2098\u1d62\u2099) falls on a different part of the confidence interval, we could reference this graph:", "Sign Test: Suppose when we segment the data into different days, 9 out of 14 days the control group has a higher click-through probability.", "If there\u2019s no difference between the two groups, the hypothetical probability of \u201csuccess\u201d should be 0.5. We could then use this calculator to get the two-sided P-value. We could see that the two-tail P-value is 0.424, which is much larger than 0.05 for a 95% confidence interval. So the sign test suggests there\u2019s no statistically significant difference.", "We should break the data down into subgroups to see which part has more effect. You may also encounter the Simpson\u2019s paradox in such cases. A very famous example is the UC Berkeley gender bias [3].", "Simpson\u2019s Paradox is a statistical phenomenon that a trend appears in the combined data, but disappears or reverses when the data are partitioned into several different groups [4].", "One key difference between single and multiple metrics is that:", "The more metrics you test, the more likely you see statistically significant results by chance - Multiple Comparison Controversy", "This is because the probability of false-positives at least occur once would be higher.", "Luckily, it is not repeatable. If we do the test again or segment it into small groups, it should disappear.", "We could also use these techniques to resolve the multiple comparison issue:", "The general solution is to use a higher confidence interval. This can be achieved by:", "b) Bonferroni CorrectionThis method has no assumptions. It calculates the individual \u03b1 by \u03b1\u1da6\u207f\u1d48\u1da6\u1d5b\u1da6\u1d48\u1d58\u1d43\u02e1 = \u03b1\u1d52\u1d5b\u1d49\u02b3\u1d43\u02e1\u02e1/number of metrics. Note that this is a relatively conservative method, you may miss some valuable observations.", "c) Familywise Error RateThe FER only controls the probability that any metric shows a false positive.", "d) Control False Discovery RateIn this case, we allow a high probability of false positive, as long as there isn\u2019t too many. Note that FDR should be used when the number of metrics is very large, usually hundreds.", "Up until now, we\u2019ve already calculated the statistical significance and confidence interval with all the cautions. Are we good to bring up the recommendations?", "Always do a ramp-up when lauching a change, that\u2019s what we do for all the launches at Google.", "Real word data is nasty, so do the test. Even if the test is statistically significant initially, the effect can be flattened when you ramp up the change (i.e. gradually increase the percentage of users to the new version). This is mainly because:", "The risks the participants are exposed to should not exceed the minimal risk, i.e., the probability and magnitude of harm a participant would encounter in normal daily life. If the risk exceeds minimal risk, informed consent is required.", "What benefits might the outcome of the study be?", "What other choice does the participant have? For example, when testing out new drugs for cancer, the other choice most participants have is death, so that the risk for participants is quite high.", "What expectations of privacy and confidentiality do participants have? Note that the timestamps are considered personally identifiable since they could contain enough information to link the data to a person. This means that any sensitive data, such as health conditions with timestamps, should be considered sensitive.", "Wow, we are finally there! Thanks for reading the notes and explanations! I\u2019d be glad if this summary answered any of your questions in A/B testing. If you are interested in more details, just go directly to the course here.", "[3] M.Elisa, Gender Bias in Admission Statistics? The Simpson-Paradox (2019), Towards Data Science", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Master of IT graduate at the University of Melbourne. Continuously sharing ideas and summaries of data-driven programming"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F3f937e8ea31f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-101-with-examples-a-summary-of-udacitys-course-3f937e8ea31f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-101-with-examples-a-summary-of-udacitys-course-3f937e8ea31f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-101-with-examples-a-summary-of-udacitys-course-3f937e8ea31f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-101-with-examples-a-summary-of-udacitys-course-3f937e8ea31f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----3f937e8ea31f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3f937e8ea31f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://lanting-natalie-ding.medium.com/?source=post_page-----3f937e8ea31f--------------------------------", "anchor_text": ""}, {"url": "https://lanting-natalie-ding.medium.com/?source=post_page-----3f937e8ea31f--------------------------------", "anchor_text": "Lanting Natalie Ding"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6542d6e4059d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-101-with-examples-a-summary-of-udacitys-course-3f937e8ea31f&user=Lanting+Natalie+Ding&userId=6542d6e4059d&source=post_page-6542d6e4059d----3f937e8ea31f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3f937e8ea31f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-101-with-examples-a-summary-of-udacitys-course-3f937e8ea31f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3f937e8ea31f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-101-with-examples-a-summary-of-udacitys-course-3f937e8ea31f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://commons.wikimedia.org/w/index.php?curid=52602931", "anchor_text": "\u201cAB Testing Example\u201d"}, {"url": "https://creativecommons.org/licenses/by-sa/4.0?ref=ccsearch&atype=rich", "anchor_text": "CC BY-SA 4.0"}, {"url": "https://www.evanmiller.org/ab-testing/sample-size.html", "anchor_text": "his calculator"}, {"url": "https://www.graphpad.com/quickcalcs/binomial2/", "anchor_text": "this calculator"}, {"url": "https://towardsdatascience.com/gender-bias-in-admission-statistics-the-simpson-paradox-cd381d994b16", "anchor_text": "UC Berkeley gender bias"}, {"url": "https://commons.wikimedia.org/w/index.php?curid=62007681", "anchor_text": "\u201cSimpsons Paradox Animation\u201d"}, {"url": "https://commons.wikimedia.org/w/index.php?title=User:Pace~svwiki&action=edit&redlink=1", "anchor_text": "Pace~svwiki"}, {"url": "https://creativecommons.org/licenses/by-sa/4.0?ref=ccsearch&atype=rich", "anchor_text": "CC BY-SA 4.0"}, {"url": "https://www.udacity.com/course/ab-testing--ud257", "anchor_text": "here"}, {"url": "https://www.udacity.com/course/ab-testing--ud257", "anchor_text": "A/B Testing"}, {"url": "https://www.pardot.com/blog/abcs-ab-testing/", "anchor_text": "The ABCs of A/B Testing"}, {"url": "https://towardsdatascience.com/gender-bias-in-admission-statistics-the-simpson-paradox-cd381d994b16", "anchor_text": "Gender Bias in Admission Statistics? The Simpson-Paradox"}, {"url": "https://plato.stanford.edu/entries/paradox-simpson/", "anchor_text": "Simpson\u2019s Paradox"}, {"url": "https://medium.com/tag/data-science?source=post_page-----3f937e8ea31f---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----3f937e8ea31f---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/data-analytics?source=post_page-----3f937e8ea31f---------------data_analytics-----------------", "anchor_text": "Data Analytics"}, {"url": "https://medium.com/tag/statistics?source=post_page-----3f937e8ea31f---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/ab-testing?source=post_page-----3f937e8ea31f---------------ab_testing-----------------", "anchor_text": "Ab Testing"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3f937e8ea31f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-101-with-examples-a-summary-of-udacitys-course-3f937e8ea31f&user=Lanting+Natalie+Ding&userId=6542d6e4059d&source=-----3f937e8ea31f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3f937e8ea31f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-101-with-examples-a-summary-of-udacitys-course-3f937e8ea31f&user=Lanting+Natalie+Ding&userId=6542d6e4059d&source=-----3f937e8ea31f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3f937e8ea31f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-101-with-examples-a-summary-of-udacitys-course-3f937e8ea31f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3f937e8ea31f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F3f937e8ea31f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-101-with-examples-a-summary-of-udacitys-course-3f937e8ea31f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----3f937e8ea31f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----3f937e8ea31f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----3f937e8ea31f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----3f937e8ea31f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----3f937e8ea31f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----3f937e8ea31f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----3f937e8ea31f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----3f937e8ea31f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----3f937e8ea31f--------------------------------", "anchor_text": ""}, {"url": "https://lanting-natalie-ding.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://lanting-natalie-ding.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Lanting Natalie Ding"}, {"url": "https://lanting-natalie-ding.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "42 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6542d6e4059d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-101-with-examples-a-summary-of-udacitys-course-3f937e8ea31f&user=Lanting+Natalie+Ding&userId=6542d6e4059d&source=post_page-6542d6e4059d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3e252310d61e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-testing-101-with-examples-a-summary-of-udacitys-course-3f937e8ea31f&newsletterV3=6542d6e4059d&newsletterV3Id=3e252310d61e&user=Lanting+Natalie+Ding&userId=6542d6e4059d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}