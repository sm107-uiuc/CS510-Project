{"url": "https://towardsdatascience.com/how-i-got-matplotlib-to-plot-apple-color-emojis-c983767b39e0", "time": 1682994386.643757, "path": "towardsdatascience.com/how-i-got-matplotlib-to-plot-apple-color-emojis-c983767b39e0/", "webpage": {"metadata": {"title": "How I got Matplotlib to plot Apple Color Emojis | by Brienna Herold | Towards Data Science", "h1": "How I got Matplotlib to plot Apple Color Emojis", "description": "Although we explicitly specified it as the font, these emojis are not Apple Color Emoji. They are from the font DejaVu Sans, the default font that took over after Matplotlib failed to process our\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/matplotlib/matplotlib/issues/3135", "anchor_text": "#3135", "paragraph_index": 3}, {"url": "https://github.com/matplotlib/matplotlib/issues/4492", "anchor_text": "#4492", "paragraph_index": 3}, {"url": "https://github.com/matplotlib/matplotlib/issues/12830", "anchor_text": "#12830", "paragraph_index": 3}, {"url": "https://github.com/matplotlib/matplotlib/pull/9787", "anchor_text": "#9787", "paragraph_index": 6}, {"url": "https://github.com/anntzer/mplcairo", "anchor_text": "Mplcairo", "paragraph_index": 8}, {"url": "https://github.com/anntzer/mplcairo#building", "anchor_text": "build", "paragraph_index": 10}, {"url": "https://github.com/anntzer/mplcairo#installation", "anchor_text": "installation", "paragraph_index": 10}], "all_paragraphs": ["If you try to plot emojis, you might see something like this:", "Although we explicitly specified it as the font, these emojis are not Apple Color Emoji. They are from the font DejaVu Sans, the default font that took over after Matplotlib failed to process our specified font, throwing the following error:", "A few of many related questions on Stack Overflow about plotting emojis in Matplotlib:", "All remain unanswered. It simply cannot be done with recent versions of Matplotlib. A look at Matplotlib\u2019s GitHub repo reveals Issues #3135, #4492, and #12830, the first of which has been open for almost eight years as of 2022.", "Why can\u2019t Matplotlib plot emojis from the Apple Color Emoji font? How can we overcome this lack of functionality to get the emojis plotted? This post answers these questions.", "Apple Color Emoji is a TrueType Collection (TTC) file. This format combines multiple fonts into a single file, to save space. FT2Font, the dependency which threw that runtime error we saw earlier, only supports getting the first font from a TTC file. While this might work, limitations of the conversion dependency, ttconv, prevent the backends from actually using this font.", "There\u2019s a solution coming in the form of pull request #9787. It currently awaits further review.", "While we wait for the pull request to be merged, there exists an immediate solution in which we can successfully plot emojis using Matplotlib.", "Enter Mplcairo. A \u201cnew, essentially complete implementation of a cairo backend for Matplotlib,\u201d Mplcairo improves on several points in the original backend. Most notably, Mplcairo introduces support for using the first font in a TTC file.", "It seems like we should be able to easily install Mplcairo via pip install mplcairo, but for me this installation continued to throw errors when I tried to import it into my code.", "Instead, I git cloned the repo onto my machine (git clone https://github.com/matplotlib/mplcairo.git), and then followed the build and installation instructions. I summarize my process below.", "Since wheels are not available for OS X, we need to build the OS X wheel ourselves using Terminal. To do this, we need the following dependencies:", "Once we have acquired the dependencies, we can activate llvm (as documented by brew info llvm) and build the OS X wheels, while in the root folder of mplcairo:", "This might be an anomaly, but while building in Terminal, my Python downgraded from version 3.7.0 to 3.6.5. When I opened a new Terminal window, Python was at 3.7.0 again and I was able to install the wheel.", "To plot our emojis, we simply import Mplcairo and set it as the new backend of Matplotlib.", "After running the script above, you should see this output:", "Your default backend may differ depending on where you are running your script. My default backend is from Jupyter Notebook. (If you are using Jupyter Notebook, you must reset the kernel before you can reset the backend. You also must reset the backend before importing matplotlib.pyplot.)", "Once you get Mplcairo up and running, Matplotlib plots emojis beautifully.", "If you\u2019d like to read more of my articles or explore millions of other articles, you can sign up for Medium membership:", "You can also subscribe to my email list to get notified whenever I publish a new article:", "Some other stories from me that might interest you:", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc983767b39e0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-got-matplotlib-to-plot-apple-color-emojis-c983767b39e0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-got-matplotlib-to-plot-apple-color-emojis-c983767b39e0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-got-matplotlib-to-plot-apple-color-emojis-c983767b39e0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-got-matplotlib-to-plot-apple-color-emojis-c983767b39e0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c983767b39e0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c983767b39e0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://brienna.medium.com/?source=post_page-----c983767b39e0--------------------------------", "anchor_text": ""}, {"url": "https://brienna.medium.com/?source=post_page-----c983767b39e0--------------------------------", "anchor_text": "Brienna Herold"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F99827063cb38&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-got-matplotlib-to-plot-apple-color-emojis-c983767b39e0&user=Brienna+Herold&userId=99827063cb38&source=post_page-99827063cb38----c983767b39e0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc983767b39e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-got-matplotlib-to-plot-apple-color-emojis-c983767b39e0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc983767b39e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-got-matplotlib-to-plot-apple-color-emojis-c983767b39e0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://stackoverflow.com/questions/47102873/how-to-plot-high-quality-emoji-in-matplotlib?noredirect=1&lq=1", "anchor_text": "How to plot (high quality) emoji in matplotlib?"}, {"url": "https://stackoverflow.com/questions/43419590/matplotlib-annotate-plot-with-emoji-labels?noredirect=1&lq=1", "anchor_text": "matplotlib: annotate plot with Emoji labels"}, {"url": "https://stackoverflow.com/questions/30049760/emoji-in-matplotlib-figures-on-os-x", "anchor_text": "Emoji in Matplotlib figures on OS X"}, {"url": "https://stackoverflow.com/questions/51989729/emojis-in-matplotlibs-xticks", "anchor_text": "Emojis in matplotlibs xticks"}, {"url": "https://stackoverflow.com/questions/48765035/could-not-load-the-emoji-font-in-matplotlib/53368464#53368464", "anchor_text": "Could not load the emoji font in Matplotlib"}, {"url": "https://github.com/matplotlib/matplotlib/issues/3135", "anchor_text": "#3135"}, {"url": "https://github.com/matplotlib/matplotlib/issues/4492", "anchor_text": "#4492"}, {"url": "https://github.com/matplotlib/matplotlib/issues/12830", "anchor_text": "#12830"}, {"url": "https://github.com/matplotlib/matplotlib/pull/9787", "anchor_text": "#9787"}, {"url": "https://github.com/anntzer/mplcairo", "anchor_text": "Mplcairo"}, {"url": "https://github.com/anntzer/mplcairo#building", "anchor_text": "build"}, {"url": "https://github.com/anntzer/mplcairo#installation", "anchor_text": "installation"}, {"url": "https://www.phoronix.com/scan.php?page=news_item&px=Cairo-1.15.8-Colored-Emoji", "anchor_text": "introduced color support for emojis"}, {"url": "https://github.com/conda-forge/cairo-feedstock/pull/44", "anchor_text": "updates"}, {"url": "https://brienna.medium.com/membership", "anchor_text": "Join Medium with my referral link \u2014 Brienna HeroldAs a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026brienna.medium.com"}, {"url": "https://brienna.medium.com/subscribe", "anchor_text": "Get an email whenever Brienna Herold publishes.Get an email whenever Brienna Herold publishes. By signing up, you will create a Medium account if you don\u2019t already\u2026brienna.medium.com"}, {"url": "https://towardsdatascience.com/how-to-download-twitter-friends-or-followers-for-free-b9d5ac23812", "anchor_text": "How to Download Twitter Friends or Followers for FreeA simple guide in Pythontowardsdatascience.com"}, {"url": "https://towardsdatascience.com/how-to-bulk-access-arxiv-full-text-preprints-58026e19e8ef", "anchor_text": "How to bulk access arXiv full-text preprintsWith Python3 and the MacOS X command linetowardsdatascience.com"}, {"url": "https://towardsdatascience.com/collecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004", "anchor_text": "Collecting data from The New York Times over any period of timeA simple guide in Pythontowardsdatascience.com"}, {"url": "https://medium.com/tag/python?source=post_page-----c983767b39e0---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/matplotlib?source=post_page-----c983767b39e0---------------matplotlib-----------------", "anchor_text": "Matplotlib"}, {"url": "https://medium.com/tag/emoji?source=post_page-----c983767b39e0---------------emoji-----------------", "anchor_text": "Emoji"}, {"url": "https://medium.com/tag/data-science?source=post_page-----c983767b39e0---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----c983767b39e0---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc983767b39e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-got-matplotlib-to-plot-apple-color-emojis-c983767b39e0&user=Brienna+Herold&userId=99827063cb38&source=-----c983767b39e0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc983767b39e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-got-matplotlib-to-plot-apple-color-emojis-c983767b39e0&user=Brienna+Herold&userId=99827063cb38&source=-----c983767b39e0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc983767b39e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-got-matplotlib-to-plot-apple-color-emojis-c983767b39e0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c983767b39e0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc983767b39e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-got-matplotlib-to-plot-apple-color-emojis-c983767b39e0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c983767b39e0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c983767b39e0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c983767b39e0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c983767b39e0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c983767b39e0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c983767b39e0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c983767b39e0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c983767b39e0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c983767b39e0--------------------------------", "anchor_text": ""}, {"url": "https://brienna.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://brienna.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Brienna Herold"}, {"url": "https://brienna.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "118 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F99827063cb38&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-got-matplotlib-to-plot-apple-color-emojis-c983767b39e0&user=Brienna+Herold&userId=99827063cb38&source=post_page-99827063cb38--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F993f8e299c4c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-got-matplotlib-to-plot-apple-color-emojis-c983767b39e0&newsletterV3=99827063cb38&newsletterV3Id=993f8e299c4c&user=Brienna+Herold&userId=99827063cb38&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}