{"url": "https://towardsdatascience.com/sankey-diagrams-1c2e1f469c85", "time": 1683018339.471185, "path": "towardsdatascience.com/sankey-diagrams-1c2e1f469c85/", "webpage": {"metadata": {"title": "Sankey Diagrams. Why & How, Storytelling with Sankey | by Dar\u00edo Weitz | Towards Data Science", "h1": "Sankey Diagrams", "description": "Captain Matthew Henry Phineas Riall Sankey was a brilliant Irish engineer who lived from 1853 to 1925. After completing his university studies at the School of Military Engineering in Chatham, United\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.ifu.com/en/", "anchor_text": "ifu hamburg", "paragraph_index": 16}, {"url": "https://medium.com/@dar.wtz", "anchor_text": "https://medium.com/@dar.wtz", "paragraph_index": 18}], "all_paragraphs": ["Captain Matthew Henry Phineas Riall Sankey was a brilliant Irish engineer who lived from 1853 to 1925. After completing his university studies at the School of Military Engineering in Chatham, United Kingdom, he began working in the British War Office in architectural design. In 1889 he left the military activity to move to the company Willans and Robinson as a chief engineer and designer of steam engines. There he conducted a series of important experiments related to improvements in the efficiency of the machines manufactured by the company. The emphasis was on understanding where and how energy flows were distributed so that improvements could be made to increase the overall efficiency of the machines.", "In Captain Sankey\u2019s words: \u201cNo portion of a steam plant is perfect, and each is the seat of losses more or less serious. If therefore it is desired to improve the steam plant as a whole, it is first of all necessary to ascertain separately the nature of the losses due to its various portions; and in this connection the diagrams in Plate 5 have been prepared, which it is hoped may assist to a clearer understanding of the nature and extent of the various losses.\u201d", "The quote refers to a diagram invented by the captain in 1898 to visualize the energy flows in the steam engines that he studied in absolute detail. Figure 1 reproduces the original diagram of 1898. The diagram was forgotten until it was recovered at the beginning of the 20th century by the Austrian mechanical engineer Alois Riedler (1850\u20131936) to study the energy flows in the first passenger vehicles. Captain Sankey\u2019s original ideas were again recovered when the extraordinary advance in hardware and software allowed Data Visualization developers to generate improved and sophisticated versions of the Sankey Diagrams.", "WHY: Flowcharts are widely used in many technical and non-technical fields to study, improve, and communicate complex processes through simple and clear diagrams. Sankey Diagrams are a specific type of flow diagrams characterized by the presence of nodes linked by directed arrows representing flows of the process under study. The width of the arrows represents the amount of material, energy, or other resource that makes up the flow that circulates through the system. The direction of the arrows indicates the flow from one node to the next in the diagram. The flows can be combined, separated, or tracked through a series of stages represented by the nodes.", "Historically, Sankey Diagrams were used to represent energy flows but over the years new applications have been added: process flow; material flow; natural resources flow; logistics and transportation of goods; supply chains; cost flow; web page information flow; population migration; market analysis. In summary, they are used to visually represent the physical flow of objects or resources associated with a process or system.", "HOW: To date, there is no standardized version of the Sankey Diagrams: which is why there are different designs and arrangements. What can\u2019t be missing are the directed arrows with their width proportional to the magnitude of the flow they are representing.", "The arrows are drawn between two nodes, one of which represents the origin, source, or outlet of the flow while the other node represents the destination or sink. The diagrams can have a horizontal or vertical orientation, but they are generally represented from left to right, or from top to bottom. They usually have different colors to indicate different materials or different dimensions.", "Sankey Diagrams allow reducing complex systems into relatively simple diagrams where the main flows with their corresponding interactions can be seen. They help to locate the dominant contributions in the total flow. They excel in the analysis of dynamic systems by allowing easy visualization of the flows and stocks that make up the system.", "Be careful with the indiscriminate use of Sankey Diagrams: the storytelling becomes confusing with the increase in the number of nodes and crossovers.", "Audiences are often not familiar with these types of charts. Always take some time to explain to the audience the particular characteristics of them so as not to impair the storytelling.", "Comparison between nodes is difficult when the width of the nodes is relatively similar. If the main objective is to make some kind of comparison, it may be convenient to replace them with another type of diagram that allows a better visualization (e.g.: bar chart).", "A shortcoming of many commercial tools is the impossibility of feedback from an output stream to a previous stage or process. Nowadays it is very common to recover part of the heat or energy and reinject it into the system to improve its efficiency, or to recycle materials to reduce pollution. Not all the visualization tools have the alternative of feedback or recycling in their Sankey functions.", "Sankey Diagrams should not be confused with Alluvial Diagrams. As indicated by Wikipedia: \u201cAlluvial diagrams are a type of flow diagram originally developed to represent changes in network structure over time. In allusion to both their visual appearance and their emphasis on flow, alluvial diagrams are named after alluvial fans that are naturally formed by the soil deposited from streaming water\u201c[1]. Alluvial diagrams are used to show how elements of a population are related across different categorical dimensions and where the location of nodes has no particular meaning. Alluvial diagrams will be the subject of a future article.", "2.- The International Energy Agency (IEA) completed a project that resulted in an Interactive Sankey Diagram showing energy data for 140 countries since 1973. The diagram makes it possible to visualize energy transfers at the global, regional (OECD, European Union, African Union) or individual country level. Fig. 5 shows the balance of energy flows from production, imports, exports, losses, and consumption in the Argentine Republic for the year 2018 [3]. It is clear that a Sankey diagram is the most appropriate visualization technique to show this kind of information.", "Matplotlib has a Sankey class (from matplotlib.sankey import Sankey) [4]. To generate the diagram you have to supply numerical values to the arguments flows, labels, orientations, and pathlengths. The values of the argument flows indicate the sizes of the flows, with positive values for the inputs and negative values for the outputs. The argument orientations can only take the values 1 for from/to the top, 0 for from/to the right or left, -1 for from/to the bottom. The pathlengths argument is a list of the lengths of the vertical arrows. There is also a rotation argument to orient the diagram in a different direction than the horizontal default.", "Plotly Python Open Source Graphing Library makes Sankey Diagrams [5]. You have to provide values for the following parameters: source representing the source nodes, target for the target nodes, value for the flow quantities, and label for the name of the nodes. The visualization is significantly improved with the use of colored links (Fig.2).", "e!Sankey is a visualization tool specialized in the drawing of Sankey Diagrams. Developed by the company ifu hamburg, Member of iPoint Group, provides all the necessary elements to visualize energy and material flows with different alternatives for the design of the final diagram. The steps for the drawing of the diagram are relatively intuitive and it has a generator of process operations that allows adding, mixing, subtracting, and separating the flows that circulate through arrows and preset nodes. As usual, you can download a trial version to practice all the functions provided by the tool.", "The key concept in a Diagram Sankey is the amount of flow moving from one node to another. In this sense, the width of the arrows and the location of the nodes are of fundamental importance. Despite being relatively complex to implement and visualize, their use is expected to increase considerably in the coming years.", "If you find this article of interest, please read my previous (https://medium.com/@dar.wtz):", "Diverging Bars, Why & How, Storytelling with Divergences", "Slope Charts, Why & How, Storytelling with Slopes", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "+280K Views Engineer, Ms. Sc., Former Associate Professor at Ing. en Sist. de Inf., Fac. Reg. Rosario, Univ. Tecnol. Nacional, Argentina. Data Viz Consultant."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1c2e1f469c85&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsankey-diagrams-1c2e1f469c85&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsankey-diagrams-1c2e1f469c85&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsankey-diagrams-1c2e1f469c85&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsankey-diagrams-1c2e1f469c85&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----1c2e1f469c85--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1c2e1f469c85--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@dar.wtz?source=post_page-----1c2e1f469c85--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dar.wtz?source=post_page-----1c2e1f469c85--------------------------------", "anchor_text": "Dar\u00edo Weitz"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7fb26b001728&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsankey-diagrams-1c2e1f469c85&user=Dar%C3%ADo+Weitz&userId=7fb26b001728&source=post_page-7fb26b001728----1c2e1f469c85---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1c2e1f469c85&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsankey-diagrams-1c2e1f469c85&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1c2e1f469c85&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsankey-diagrams-1c2e1f469c85&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.ifu.com/en/", "anchor_text": "ifu hamburg"}, {"url": "https://medium.com/@dar.wtz", "anchor_text": "https://medium.com/@dar.wtz"}, {"url": "https://towardsdatascience.com/diverging-bars-why-how-3e3ecc066dce", "anchor_text": "Diverging Bars, Why & HowStorytelling with Divergencestowardsdatascience.com"}, {"url": "https://towardsdatascience.com/slope-charts-why-how-11c2a0bc28be", "anchor_text": "Slope Charts, Why & HowStorytelling with Slopestowardsdatascience.com"}, {"url": "https://en.wikipedia.org/wiki/Alluvial_diagram", "anchor_text": "https://en.wikipedia.org/wiki/Alluvial_diagram"}, {"url": "https://ec.europa.eu/eurostat/help/first-visit/tools", "anchor_text": "https://ec.europa.eu/eurostat/help/first-visit/tools"}, {"url": "https://www.iea.org/sankey/#?c=Argentina&s=Balance", "anchor_text": "https://www.iea.org/sankey/#?c=Argentina&s=Balance"}, {"url": "https://matplotlib.org/3.1.1/api/sankey_api.html", "anchor_text": "https://matplotlib.org/3.1.1/api/sankey_api.html"}, {"url": "https://plotly.com/python/sankey-diagram/", "anchor_text": "https://plotly.com/python/sankey-diagram/"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----1c2e1f469c85---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/data-science?source=post_page-----1c2e1f469c85---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/storytelling?source=post_page-----1c2e1f469c85---------------storytelling-----------------", "anchor_text": "Storytelling"}, {"url": "https://medium.com/tag/sankey-diagram?source=post_page-----1c2e1f469c85---------------sankey_diagram-----------------", "anchor_text": "Sankey Diagram"}, {"url": "https://medium.com/tag/charts?source=post_page-----1c2e1f469c85---------------charts-----------------", "anchor_text": "Charts"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1c2e1f469c85&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsankey-diagrams-1c2e1f469c85&user=Dar%C3%ADo+Weitz&userId=7fb26b001728&source=-----1c2e1f469c85---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1c2e1f469c85&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsankey-diagrams-1c2e1f469c85&user=Dar%C3%ADo+Weitz&userId=7fb26b001728&source=-----1c2e1f469c85---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1c2e1f469c85&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsankey-diagrams-1c2e1f469c85&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1c2e1f469c85--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1c2e1f469c85&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsankey-diagrams-1c2e1f469c85&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1c2e1f469c85---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1c2e1f469c85--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1c2e1f469c85--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1c2e1f469c85--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1c2e1f469c85--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1c2e1f469c85--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1c2e1f469c85--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1c2e1f469c85--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1c2e1f469c85--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dar.wtz?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dar.wtz?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Dar\u00edo Weitz"}, {"url": "https://medium.com/@dar.wtz/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "542 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7fb26b001728&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsankey-diagrams-1c2e1f469c85&user=Dar%C3%ADo+Weitz&userId=7fb26b001728&source=post_page-7fb26b001728--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F50ee60bd4b2f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsankey-diagrams-1c2e1f469c85&newsletterV3=7fb26b001728&newsletterV3Id=50ee60bd4b2f&user=Dar%C3%ADo+Weitz&userId=7fb26b001728&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}