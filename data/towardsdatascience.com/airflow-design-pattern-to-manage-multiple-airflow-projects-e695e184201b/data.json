{"url": "https://towardsdatascience.com/airflow-design-pattern-to-manage-multiple-airflow-projects-e695e184201b", "time": 1683001196.967792, "path": "towardsdatascience.com/airflow-design-pattern-to-manage-multiple-airflow-projects-e695e184201b/", "webpage": {"metadata": {"title": "Airflow design pattern to manage multiple Airflow projects | by Bhavin | Towards Data Science", "h1": "Airflow design pattern to manage multiple Airflow projects", "description": "Airflow Design Pattern. Manage multiple projects easily with code. Data Engineering Techniques to continuously deploy and test projects separately. Run it on a single instance or as an ECS service."}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Airflow is a great tool to schedule, visualize, and execute a data pipeline. But if you are like me, who has to manage about 100+ different pipelines, you would quickly realize that developing and managing these pipelines would require a bit of engineering.", "We will explore 3 aspects of a design pattern that will help us make the development process simple and manageable.", "Airflow will automatically initialize all the DAGs under the DAG\u2019s Home directory specified in the config. But to initialize DAG.py from separate projects, We will have to install DAGFactory.", "DAGFactory: DAGFactory will collect and initialize DAGs from the individual projects under a specific folder, in my case it was @ airflow/projects.", "Airflow will initialize all the dags under airflow/dags dir. So we will install DAGFactory here.", "Code for DAGFactory.py : Traverse through all the projects under airflow/projects and load the DAGS variable from DAG.py into airflow\u2019s global namespace.", "This will allow us to have your code in a separate repository. All we have to do is", "I will write an article on each of these soon.", "As the number of DAGs increase and their complexity increases. It takes more resources to execute them, and that means if your production airflow environment is on VM you will have to scale up to keep up with the increased demand. (If you use Kubernetes to execute or any other executor this won\u2019t apply to you).", "Now to overcome this, Instead of executing all the DAGs on a single m/c. I recommend creating separate containers for each project and executing them in ECS via airflow.", "This approach lets me keep my airflow instance size to a minimum and containers get executed on FARGATE in ECS and I only pay for the time they need to run.", "As I can keep my codebase separate by using DAGFactory, I can have DAG.py and dockerfile in the same repository. And I can put DAG.py on airflow instance and Docker containers in ECR.", "A drawback of this approach is that you won\u2019t be able to use airflow operators inside for your ETL or other processing. But you can still build your library of modules and use them across different pipelines.", "Well, Airflow comes with a greater UI and a scheduler. Which makes it easy to track job failures, kick off a job (a container in this case), and look at the logs in one place.", "In short, no need to log in to an instance to debug issues.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe695e184201b&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fairflow-design-pattern-to-manage-multiple-airflow-projects-e695e184201b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fairflow-design-pattern-to-manage-multiple-airflow-projects-e695e184201b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fairflow-design-pattern-to-manage-multiple-airflow-projects-e695e184201b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fairflow-design-pattern-to-manage-multiple-airflow-projects-e695e184201b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e695e184201b--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e695e184201b--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@datajedi?source=post_page-----e695e184201b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@datajedi?source=post_page-----e695e184201b--------------------------------", "anchor_text": "Bhavin"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fae2e1c85fc72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fairflow-design-pattern-to-manage-multiple-airflow-projects-e695e184201b&user=Bhavin&userId=ae2e1c85fc72&source=post_page-ae2e1c85fc72----e695e184201b---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe695e184201b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fairflow-design-pattern-to-manage-multiple-airflow-projects-e695e184201b&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe695e184201b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fairflow-design-pattern-to-manage-multiple-airflow-projects-e695e184201b&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@sadswim?utm_source=medium&utm_medium=referral", "anchor_text": "an Dooley"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/data-engineering?source=post_page-----e695e184201b---------------data_engineering-----------------", "anchor_text": "Data Engineering"}, {"url": "https://medium.com/tag/etl?source=post_page-----e695e184201b---------------etl-----------------", "anchor_text": "Etl"}, {"url": "https://medium.com/tag/airflow?source=post_page-----e695e184201b---------------airflow-----------------", "anchor_text": "Airflow"}, {"url": "https://medium.com/tag/data?source=post_page-----e695e184201b---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/data-science?source=post_page-----e695e184201b---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe695e184201b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fairflow-design-pattern-to-manage-multiple-airflow-projects-e695e184201b&user=Bhavin&userId=ae2e1c85fc72&source=-----e695e184201b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe695e184201b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fairflow-design-pattern-to-manage-multiple-airflow-projects-e695e184201b&user=Bhavin&userId=ae2e1c85fc72&source=-----e695e184201b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe695e184201b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fairflow-design-pattern-to-manage-multiple-airflow-projects-e695e184201b&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e695e184201b--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe695e184201b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fairflow-design-pattern-to-manage-multiple-airflow-projects-e695e184201b&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e695e184201b---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e695e184201b--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e695e184201b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e695e184201b--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e695e184201b--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e695e184201b--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e695e184201b--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e695e184201b--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e695e184201b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@datajedi?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@datajedi?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Bhavin"}, {"url": "https://medium.com/@datajedi/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "22 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fae2e1c85fc72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fairflow-design-pattern-to-manage-multiple-airflow-projects-e695e184201b&user=Bhavin&userId=ae2e1c85fc72&source=post_page-ae2e1c85fc72--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8b5ff7bbcbdc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fairflow-design-pattern-to-manage-multiple-airflow-projects-e695e184201b&newsletterV3=ae2e1c85fc72&newsletterV3Id=8b5ff7bbcbdc&user=Bhavin&userId=ae2e1c85fc72&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}