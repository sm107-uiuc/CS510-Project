{"url": "https://towardsdatascience.com/super-simple-way-to-scrape-bbc-news-articles-in-python-5fe1e6ee82d9", "time": 1683008700.5998669, "path": "towardsdatascience.com/super-simple-way-to-scrape-bbc-news-articles-in-python-5fe1e6ee82d9/", "webpage": {"metadata": {"title": "Super Simple Way to Scrape BBC News Articles in Python | by Petur Einarsson | Towards Data Science", "h1": "Super Simple Way to Scrape BBC News Articles in Python", "description": "I work in London as a Data Scientist for a consultancy. This effectively means I work for multiple companies, doing different Data Science stuff. Mostly I build Machine Learning solutions in the\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.bbc.co.uk/", "anchor_text": "BBC", "paragraph_index": 6}, {"url": "https://www.crummy.com/software/BeautifulSoup/bs4/doc/", "anchor_text": "BeautifulSoup", "paragraph_index": 8}, {"url": "https://realpython.com/python-virtual-environments-a-primer/", "anchor_text": "environment", "paragraph_index": 10}, {"url": "https://www.anaconda.com/", "anchor_text": "Anaconda", "paragraph_index": 10}, {"url": "https://www.jetbrains.com/pycharm/", "anchor_text": "PyCharm", "paragraph_index": 14}, {"url": "https://jupyter.org/", "anchor_text": "Jupyter Notebooks", "paragraph_index": 14}, {"url": "https://www.bbc.co.uk/news/world-europe-49345912", "anchor_text": "Iceland is commemorating the loss of its first glacier to climate change", "paragraph_index": 17}, {"url": "https://en.wikipedia.org/wiki/Don%27t_repeat_yourself", "anchor_text": "DRY", "paragraph_index": 34}, {"url": "https://www.streamlit.io/", "anchor_text": "Streamlit", "paragraph_index": 48}], "all_paragraphs": ["I work in London as a Data Scientist for a consultancy. This effectively means I work for multiple companies, doing different Data Science stuff.", "Mostly I build Machine Learning solutions in the Cloud. Sometimes general Data Solutions, Dashboards or recommending Data Science best practises. Recently though, it's been mostly NLP or Computer Vision. But enough about me.", "If you are into Data Science, Machine Learning or Big Data, there\u2019s a good chance you\u2019ve had to collect data from a website.", "For small projects or Proof-of-Concepts (PoC), doing this by hand is fine. Other times, this is best done in code. This is where Python shines, with many open-source libraries to interact with various websites.", "Knowing how to wield any scraping library, is a very useful skill. Well worth the investment \ud83d\udcb0", "The secret is that it\u2019s easy to scrape websites", "Together, we\u2019ll build a simple Python class that scrapes the BBC.", "Ps: If you only opened the article for the final code, feel free to skip to the end where it\u2019s all laid out.", "BeautifulSoup is my all-time favourite way to scrape websites. It\u2019s simple to learn and easy to use.", "Plus there\u2019s something comical about imagining fishing the good bits out of soup when web scraping!", "To get started, install the library into your environment using the command line. As a Data Scientist, I usually use Anaconda.", "We will also need the requests module to get the HTML code from the BBC. Run these in your terminal:", "You can also use pip if you prefer.", "Once installed, create a python file (.py) and import the libraries at the top of your code.", "I recommend using PyCharm, but if you are just starting, Jupyter Notebooks are a great way to get your feet wet.", "We are mostly concerned with the two find functions. They allow us to find any HTML element in our soup, just by specifying its name.", "Always use a python environment to manage your projects", "Let\u2019s pick a BBC article to work with. I\u2019ve chosen one where Iceland is commemorating the loss of its first glacier to climate change.", "Access the raw article via Python:", "Then pass the article content over to BeautifulSoup and specify the HTML parser.", "Simple as that and the soup is ready! Let\u2019s fish out the good bits \ud83c\udfa3", "The next step is manually inspecting the HTML of the page to find the element we are interested in. I\u2019m using Chrome for this bit, but you can use any browser.", "Open the webpage in your browser, right-click and \u2018inspect\u2019.", "Hover the mouse over any of the text, and the browser will tell you in which div that paragraph is in.", "If it\u2019s not working, press Ctrl+ Shift+ C or CMD + shift + C and try again.", "In this case, \u201cstory-body__introduction\u201d contains the highlighted paragraph.", "The div class \u201cstory-body__inner\u201d with the property \u201carticleBody\u201d contains the entire article, and that is what we are after.", "Find the body in the soup:", "This gives us the content of the page as a list of paragraphs (p) in raw HTML format.", "Access the text of each paragraph and assign it to a new list using list comprehension:", "We can combine the above in a single function, that takes in the URL of a BBC article:", "If we wanted to access the title, we again inspect the site, find the div that the title is in, and fish it out of the soup.", "This is how that code would look like:", "More experienced coders probably already see the issue with these functions\u2026", "They are the same for the most part. That\u2019s not very DRY.", "One way is to refactor them into 3 functions instead and put get_soup in its own function.", "However, that would mean if we wanted to access both the title and the body, we\u2019d have to download the BBC article twice!", "This feels like it should be a class instead.", "Plus, classes look and feel more professional instead of calling functions within functions. They also make it easier to maintain, when the scraper grows in complexity.", "As the great coders we are, let\u2019s turn it into a class!", "Every class should have an __init__ function, where you pass it any variables to initialise the functions.", "The __init__ function is called automatically when you call the class.", "Each function in the class also needs to have self as the first argument. This is the actual instance of that particular class.", "Next, add URL as an argument in __init__, and turn it into a soup. Changes are highlighted in bold.", "Writing the soup variable as self.soup makes it an attribute of that class. Class attributes can be accessed anywhere within a class, within any function.", "To access the body of the article, we use the body function from before. body is now also an attribute of the class", "The entire code looks like this then:", "That\u2019s it for now. Here\u2019s how it works in action:", "In my next post, I apply NLP to the BBC article and build a Streamlit app to interact with it!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Icelandic guy in London. Senior Data Science consultant at BJSS. Passionate about Data Science, Programming and Personal Finance"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5fe1e6ee82d9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsuper-simple-way-to-scrape-bbc-news-articles-in-python-5fe1e6ee82d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsuper-simple-way-to-scrape-bbc-news-articles-in-python-5fe1e6ee82d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsuper-simple-way-to-scrape-bbc-news-articles-in-python-5fe1e6ee82d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsuper-simple-way-to-scrape-bbc-news-articles-in-python-5fe1e6ee82d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5fe1e6ee82d9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5fe1e6ee82d9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@theNicelander?source=post_page-----5fe1e6ee82d9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@theNicelander?source=post_page-----5fe1e6ee82d9--------------------------------", "anchor_text": "Petur Einarsson"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F71bb4127a81d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsuper-simple-way-to-scrape-bbc-news-articles-in-python-5fe1e6ee82d9&user=Petur+Einarsson&userId=71bb4127a81d&source=post_page-71bb4127a81d----5fe1e6ee82d9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5fe1e6ee82d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsuper-simple-way-to-scrape-bbc-news-articles-in-python-5fe1e6ee82d9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5fe1e6ee82d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsuper-simple-way-to-scrape-bbc-news-articles-in-python-5fe1e6ee82d9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.bbc.co.uk/", "anchor_text": "BBC"}, {"url": "https://unsplash.com/@clemhlrdt?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Cl\u00e9ment H"}, {"url": "https://unsplash.com/s/photos/coding?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://www.crummy.com/software/BeautifulSoup/bs4/doc/", "anchor_text": "BeautifulSoup"}, {"url": "https://realpython.com/python-virtual-environments-a-primer/", "anchor_text": "environment"}, {"url": "https://www.anaconda.com/", "anchor_text": "Anaconda"}, {"url": "https://www.jetbrains.com/pycharm/", "anchor_text": "PyCharm"}, {"url": "https://jupyter.org/", "anchor_text": "Jupyter Notebooks"}, {"url": "https://www.bbc.co.uk/news/world-europe-49345912", "anchor_text": "Iceland is commemorating the loss of its first glacier to climate change"}, {"url": "https://www.bbc.co.uk/news/world-europe-49345912", "anchor_text": "https://www.bbc.co.uk/news/world-europe-49345912"}, {"url": "https://en.wikipedia.org/wiki/Don%27t_repeat_yourself", "anchor_text": "DRY"}, {"url": "https://www.streamlit.io/", "anchor_text": "Streamlit"}, {"url": "https://medium.com/tag/data-science?source=post_page-----5fe1e6ee82d9---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/web-scraping?source=post_page-----5fe1e6ee82d9---------------web_scraping-----------------", "anchor_text": "Web Scraping"}, {"url": "https://medium.com/tag/python?source=post_page-----5fe1e6ee82d9---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/beautifulsoup?source=post_page-----5fe1e6ee82d9---------------beautifulsoup-----------------", "anchor_text": "Beautifulsoup"}, {"url": "https://medium.com/tag/programming?source=post_page-----5fe1e6ee82d9---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5fe1e6ee82d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsuper-simple-way-to-scrape-bbc-news-articles-in-python-5fe1e6ee82d9&user=Petur+Einarsson&userId=71bb4127a81d&source=-----5fe1e6ee82d9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5fe1e6ee82d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsuper-simple-way-to-scrape-bbc-news-articles-in-python-5fe1e6ee82d9&user=Petur+Einarsson&userId=71bb4127a81d&source=-----5fe1e6ee82d9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5fe1e6ee82d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsuper-simple-way-to-scrape-bbc-news-articles-in-python-5fe1e6ee82d9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5fe1e6ee82d9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5fe1e6ee82d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsuper-simple-way-to-scrape-bbc-news-articles-in-python-5fe1e6ee82d9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5fe1e6ee82d9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5fe1e6ee82d9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5fe1e6ee82d9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5fe1e6ee82d9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5fe1e6ee82d9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5fe1e6ee82d9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5fe1e6ee82d9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5fe1e6ee82d9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5fe1e6ee82d9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@theNicelander?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@theNicelander?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Petur Einarsson"}, {"url": "https://medium.com/@theNicelander/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "46 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F71bb4127a81d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsuper-simple-way-to-scrape-bbc-news-articles-in-python-5fe1e6ee82d9&user=Petur+Einarsson&userId=71bb4127a81d&source=post_page-71bb4127a81d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F6b3201b2b7c2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsuper-simple-way-to-scrape-bbc-news-articles-in-python-5fe1e6ee82d9&newsletterV3=71bb4127a81d&newsletterV3Id=6b3201b2b7c2&user=Petur+Einarsson&userId=71bb4127a81d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}