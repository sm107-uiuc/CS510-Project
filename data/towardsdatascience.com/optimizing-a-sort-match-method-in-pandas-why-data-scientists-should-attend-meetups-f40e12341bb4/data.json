{"url": "https://towardsdatascience.com/optimizing-a-sort-match-method-in-pandas-why-data-scientists-should-attend-meetups-f40e12341bb4", "time": 1682995629.35098, "path": "towardsdatascience.com/optimizing-a-sort-match-method-in-pandas-why-data-scientists-should-attend-meetups-f40e12341bb4/", "webpage": {"metadata": {"title": "Optimizing a Sort & Match Method in Pandas | by Yaakov Bressler | Medium", "h1": "Optimizing a Sort & Match Method in Pandas", "description": "How a collaboration formed at the NYC Open Python Meetup resulted in code 118\u2013240X faster than the original."}, "outgoing_paragraph_urls": [{"url": "https://medium.com/u/1f63176e7c59?source=post_page-----f40e12341bb4--------------------------------", "anchor_text": "Yaakov Bressler", "paragraph_index": 0}, {"url": "https://medium.com/u/a6e6f577a7bc?source=post_page-----f40e12341bb4--------------------------------", "anchor_text": "Sebastian Dick", "paragraph_index": 0}, {"url": "https://www.meetup.com/nycpython/", "anchor_text": "Open Python NYC", "paragraph_index": 3}, {"url": "https://en.wiktionary.org/wiki/Pythonista", "anchor_text": "Pythonistas", "paragraph_index": 11}, {"url": "https://www.python.org/dev/peps/pep-0020/", "anchor_text": "pythonic", "paragraph_index": 18}, {"url": "https://www.meetup.com/nycpython/", "anchor_text": "https://www.meetup.com/nycpython/", "paragraph_index": 28}, {"url": "http://www.yaakovbressler.com", "anchor_text": "www.yaakovbressler.com", "paragraph_index": 30}], "all_paragraphs": ["Written by: Yaakov Bressler & Sebastian Dick", "Summary: Meetups are highly important resources for data scientists in that the community provides much needed alternative perspectives, aside from being a positive social experience. A collaboration formed at the NYC Open Python meetup focused on solving a sort and match problem resulted in code that was 118\u2013240 times faster than the original solution and 1.24\u20131.7 times faster than the fastest solution either collaborator had previously formulated. In addition to reaching an optimal method, both authors found that the collaboration resulted in better documented code, better communication skills, and new perspectives for problem solving.", "Meetups are highly important resources for data scientists in that the community provides much needed alternative perspectives. Additionally, meetups are a great social outlet. Many Programmatic Meetups are particularly inviting as defined by their codes of conduct which provide parameters for social etiquette, resulting in safe, inclusive, and accessible social experiences.", "Open Python NYC is a weekly meetup group which brings together people who care about programming in Python. A rough 30% of said attendees are along a data science career track.", "A recent experience proved to both authors the importance of attending meetups and participating in (and contributing to) the open source community.", "We found that attending meetups can develop several crucial skills for Data Scientists. They include 1) bettering communication + writing cleaner code 2) discovering new methods for solving problems and 3) increasing speed of solutions. A fuller explanation of each is discussed below:", "Solving someone\u2019s problem requires and develops effective communication. The steps for that are included below:", "The result from these steps is a smoother flow of dialog and an increase in awareness and sensitivity for those involved in the process. Additionally, little time is wasted on ineffective problem solving or diagnostics.", "When a problem is neatly outlined and the thought process of a solution clearly explained, the result is cleaner code.", "Naturally, this translates to increased readability and documentation in your code. For those who program in Jupyter, the result is a highly sharable notebook.", "Given the participatory nature of programming meetups, you\u2019ll rarely be problem solving alone. This is a fantastic opportunity to learn from another person\u2019s perspective.", "Meetups often attract people from all roles and backgrounds \u2014 as an example, there are Pythonistas who profess in astrophysics, cybersecurity, data science, and theater at the NYC Python meetup! Such a wide array of individuals provides many unique perspectives and various specialized subskills which will expose you to new approaches you\u2019d never imagine.", "Usually, the best method of solving a problem is the result of multiple perspectives. With more minds solving a problem, each is able to apply their specialized knowledge and skills to a part or process. The resulting solution is leaner, cleaner and faster. Our collaboration, for example, led to a 200X increase in speed.", "The other week, someone presented a tricky pandas question at Open Python NYC. Their dataframe contained, among others, three columns named last_name, first_name, and attr. Each last_name would define a family and the family member with first_name == 1 would be considered the parent. The goal was to distribute the value of attr from the parent to all of its children thereby ensuring that all family members share the same attr.", "The initial (left) and desired (right) dataframes are shown:", "Here\u2019s how each of the authors initially approached the solution.", "Sebastian: My initial intuition was to avoid explicitly iterating over the dataframe. I knew that pandas and numpy built-in functions were implemented in a lower-level language and highly optimized, which is why I opted for a method that uses pd.merge for the task at hand.", "Yaakov: I chose to create a dictionary with last_names as keys and attr as values by iterating over respective columns as arrays. I then applied this dictionary to the dataframe using a lambda function. My reasoning for creating a dictionary was to avoid memory usage and reduce indexing. Additionally, looping to create the dictionary provides robust options for logic.", "We chose some additional approaches too, though our hypothesis was that these would be less efficient than our chosen approaches. Of note, these additional methods are less pythonic than our chosen methods \u2014 further motivation for innovation.", "And the most efficient method is\u2026Method 3! Sebastian\u2019s approach to stick to the built in functions within pandas was a great choice and is ~80-100X faster than method 1.", "Of note, Method 4 does not converge with method 3 as the number of rows or columns in the dataframe increases. While it might with increased data complexity within the dataframe, this is not relevant since the data itself can be cleaned or reduced. Sebastion won this one, fair and straight!", "Though we had found a fast solution, we wanted something even faster. We put our heads together and came up with additional methods for solving.", "After analyzing Yaakov\u2019s approach in Method 4, Sebastian identified that indexing the attr column with i was unnecessary if the columns were all referenced together. Modifying produced Method 5.", "After analyzing all approaches, the authors speculated that instead of iterating to create the dictionary, it could be produced with a pd.filter (like the one used in Method 3) then converted to a dictionary using the pandas method. Then, using pd.apply (from Method 4/5), return matches for all values for the dataframe.", "Did we beat our previous times?\u2026 YES WE DID! The combination of our approaches resulted in the most optimal solution. Method 6 is 1.24\u20131.7X faster than Method 3 (118-240X faster than Method 1).", "The best method is really the best of both of our methods, combined.", "The best method for this unique sorting and matching problem in python is to create a dictionary from a pandas filter then use .apply() to reference the dictionary.", "Both authors agree that they wouldn\u2019t have reached this method independently. Attending the NYC Python Meetup gave us the unique opportunity to share code, ideas, have a unique discussion, and produce really fast code.", "If you\u2019re in NYC, come join us on Wednesdays at the NYC Python Meetup at the Microsoft building in Times Square. More info is available here: https://www.meetup.com/nycpython/", "Data Engineer & Theatre Producer. More about me at www.yaakovbressler.com", "Data Engineer & Theatre Producer. More about me at www.yaakovbressler.com"], "all_outgoing_urls": [{"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f40e12341bb4--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f40e12341bb4--------------------------------", "anchor_text": "Yaakov Bressler"}, {"url": "https://medium.com/u/1f63176e7c59?source=post_page-----f40e12341bb4--------------------------------", "anchor_text": "Yaakov Bressler"}, {"url": "https://medium.com/u/a6e6f577a7bc?source=post_page-----f40e12341bb4--------------------------------", "anchor_text": "Sebastian Dick"}, {"url": "https://www.meetup.com/nycpython/", "anchor_text": "Open Python NYC"}, {"url": "https://en.wiktionary.org/wiki/Pythonista", "anchor_text": "Pythonistas"}, {"url": "https://www.python.org/dev/peps/pep-0020/", "anchor_text": "pythonic"}, {"url": "https://www.meetup.com/nycpython/", "anchor_text": "https://www.meetup.com/nycpython/"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f40e12341bb4---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/pandas?source=post_page-----f40e12341bb4---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/python?source=post_page-----f40e12341bb4---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/meetup?source=post_page-----f40e12341bb4---------------meetup-----------------", "anchor_text": "Meetup"}, {"url": "https://medium.com/tag/optimization?source=post_page-----f40e12341bb4---------------optimization-----------------", "anchor_text": "Optimization"}, {"url": "https://towardsdatascience.com/?source=post_page-----f40e12341bb4--------------------------------", "anchor_text": "More from Yaakov Bressler"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F46b2d3bf123b&operation=register&redirect=https%3A%2F%2Fyaakovbressler.medium.com%2Foptimizing-a-sort-match-method-in-pandas-why-data-scientists-should-attend-meetups-f40e12341bb4&newsletterV3=1f63176e7c59&newsletterV3Id=46b2d3bf123b&user=Yaakov+Bressler&userId=1f63176e7c59&source=-----f40e12341bb4---------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://medium.com/?source=post_page-----f40e12341bb4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f40e12341bb4--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f40e12341bb4--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f40e12341bb4--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f40e12341bb4--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f40e12341bb4--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f40e12341bb4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/plans?source=upgrade_membership---two_column_layout_sidebar----------------------------------", "anchor_text": "Get unlimited access"}, {"url": "https://towardsdatascience.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Yaakov Bressler"}, {"url": "https://towardsdatascience.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "700 Followers"}, {"url": "http://www.yaakovbressler.com", "anchor_text": "www.yaakovbressler.com"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F46b2d3bf123b&operation=register&redirect=https%3A%2F%2Fyaakovbressler.medium.com%2Foptimizing-a-sort-match-method-in-pandas-why-data-scientists-should-attend-meetups-f40e12341bb4&newsletterV3=1f63176e7c59&newsletterV3Id=46b2d3bf123b&user=Yaakov+Bressler&userId=1f63176e7c59&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}