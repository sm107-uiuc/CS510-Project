{"url": "https://towardsdatascience.com/how-to-compute-satellite-image-statistics-and-use-it-in-pandas-81864a489144", "time": 1683001345.1648881, "path": "towardsdatascience.com/how-to-compute-satellite-image-statistics-and-use-it-in-pandas-81864a489144/", "webpage": {"metadata": {"title": "How To Compute Satellite Image Statistics And use It In Pandas | by Abdishakur | Towards Data Science", "h1": "How To Compute Satellite Image Statistics And use It In Pandas", "description": "Satellite data is dense and uses cells to store values. In many cases, however, you want only a summary of the satellite (raster) image converted into a tabular format \u2014 CSV or Pandas data frame. Let\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Satellite data is dense and uses cells to store values. In many cases, however, you want only a summary of the satellite (raster) image converted into a tabular format \u2014 CSV or Pandas data frame.", "Let us say, for example; you have a Digital Elevation Model (DEM). The DEM image gives a clear representation of the elevation and topography of the area. Now, what if you want to get elevation values and integrate tabular data you have, for example, buildings, to get the elevation of each building.", "This process of deriving table outputs (Summary statistics) from raster images is called Zonal Statistics.", "In this tutorial, We learn how to extract values from raster data and store these values in Tabular format (Pandas Dataframe).", "The dataset and the code for this tutorial are available in Github. Let us start by exploring the data.", "The dataset for this tutorial is sentinel images taken on 1 November 2019 in Beledweyne, Somalia. The area is flooded during this period, and we calculate the NDWI to measure the level of water stress. We use Google Colab Notebook, and we download the data in the notebook directly from URL.", "Let us import the libraries we use for this tutorial.", "With Rasterio you can read the different bands of Sentinel 2 Images. In this case, we read bands 8 (NIR), 4 (Red), 3 (Green), and 2 (Blue).", "Let us look at the width and height of the images. I am only using b4, but you can check if all bands have the same weight and length.", "We plot the data to see and explore the satellite images we have. Here I am only plotting Band 3.", "If you would like to see how to make RGB images with Rasterio, I have a tutorial you might want to see here.", "The Sentinel 2 image of the area( only Band 3) is shown below.", "Let us also read the buildings table which we will use to store the statistical summaries derived from the satellite image. Please know that you can use other polygons, like districts, rectangular grids instead of the building polygons for this example.", "We use Geopandas to read the data.", "And here are the first five rows of the table. We have the Geometry column of each building, osm_id and building columns.", "We can also plot the buildings on top of the Sentinel 2 images.", "The buildings are marked as white and overlayed in the image, as shown below. The picture shows the extent of the city (residential areas) with meandering Shabelle River.", "Let us now calculate the NDWI values from Sentinel 2 images.", "To calculate the NDWI values, we use this formula:", "So, let us calculate using this formula in Rasterio.", "The NDWI arrays can be plotted with Rasterio, as shown below.", "The NDWI plot clearly shows innundated areas near the Shabelle river (Blue). And the extent of flooding goes to residential areas.", "We can save the NDWI arrays as a raster image so that we can use it later.", "Now, that we have calculated the NDWI values, it is time to derive statistics from the NDWI raster image and merge to our buildings table. We use Rasterio mask functionality to get the cell values from the NDWI raster image.", "The following is a small function that masks the cell values to our data frame table.", "We can derive now the values we want like this. Let us say we are interested in getting the mean values of NDWI for each building. We create a column for that \u201cmean_ndwi\u201d and pass our function to apply the building\u2019s geometry and also apply to mean from using Numpy.", "Or, get the maximum NDWI values for each building.", "Our table has two new columns now, mean_ndwi and max_ndwi, where we store the mean and max NDWI values for each building.", "The dataset also includes Sentinel images from previous data (before flooding) in this area. In the \u201cData\u201d folder, you have \u201c20191002\u201d folder. Try to calculate the mean and max NDWI values using these images. Compare this with statistics derived from images we have calculated for the date 20191101 (flooding period).", "In this tutorial, we have seen how to calculate NDWI values from Sentinel 2 images and derive summary statistics from them. The code and Google Colab Notebooks are available in this Github repository.", "Or directly in this Google Collaboratory Notebook", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Writing about Geospatial Data Science, AI, ML, DL, Python, SQL, GIS | Top writer | 1m views."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F81864a489144&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-compute-satellite-image-statistics-and-use-it-in-pandas-81864a489144&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-compute-satellite-image-statistics-and-use-it-in-pandas-81864a489144&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-compute-satellite-image-statistics-and-use-it-in-pandas-81864a489144&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-compute-satellite-image-statistics-and-use-it-in-pandas-81864a489144&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----81864a489144--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----81864a489144--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://shakasom.medium.com/?source=post_page-----81864a489144--------------------------------", "anchor_text": ""}, {"url": "https://shakasom.medium.com/?source=post_page-----81864a489144--------------------------------", "anchor_text": "Abdishakur"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd4284ce02aec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-compute-satellite-image-statistics-and-use-it-in-pandas-81864a489144&user=Abdishakur&userId=d4284ce02aec&source=post_page-d4284ce02aec----81864a489144---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F81864a489144&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-compute-satellite-image-statistics-and-use-it-in-pandas-81864a489144&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F81864a489144&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-compute-satellite-image-statistics-and-use-it-in-pandas-81864a489144&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/satellite-imagery-access-and-analysis-in-python-jupyter-notebooks-387971ece84b", "anchor_text": "Satellite imagery access and analysis in Python & Jupyter notebooksAccess, preprocess, analyse and visualize satellite images in Jupyter notebooks with Python.towardsdatascience.com"}, {"url": "https://github.com/shakasom/zonalstatistics", "anchor_text": "shakasom/zonalstatisticsPython \u2014 Rasterio and Geopandas to calculate Zonal Statistics Satellite data is dense and uses cells to store values\u2026github.com"}, {"url": "https://github.com/shakasom/zonalstatistics/blob/master/Zonal_Statistics_Sentinel.ipynb", "anchor_text": "shakasom/zonalstatisticsYou can\u2019t perform that action at this time. You signed in with another tab or window. You signed out in another tab or\u2026github.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----81864a489144---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----81864a489144---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/satellite-imagery?source=post_page-----81864a489144---------------satellite_imagery-----------------", "anchor_text": "Satellite Imagery"}, {"url": "https://medium.com/tag/remote-sensing?source=post_page-----81864a489144---------------remote_sensing-----------------", "anchor_text": "Remote Sensing"}, {"url": "https://medium.com/tag/geographicdatascience?source=post_page-----81864a489144---------------geographicdatascience-----------------", "anchor_text": "Geographicdatascience"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F81864a489144&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-compute-satellite-image-statistics-and-use-it-in-pandas-81864a489144&user=Abdishakur&userId=d4284ce02aec&source=-----81864a489144---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F81864a489144&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-compute-satellite-image-statistics-and-use-it-in-pandas-81864a489144&user=Abdishakur&userId=d4284ce02aec&source=-----81864a489144---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F81864a489144&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-compute-satellite-image-statistics-and-use-it-in-pandas-81864a489144&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----81864a489144--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F81864a489144&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-compute-satellite-image-statistics-and-use-it-in-pandas-81864a489144&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----81864a489144---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----81864a489144--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----81864a489144--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----81864a489144--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----81864a489144--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----81864a489144--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----81864a489144--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----81864a489144--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----81864a489144--------------------------------", "anchor_text": ""}, {"url": "https://shakasom.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://shakasom.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Abdishakur"}, {"url": "https://shakasom.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "5.4K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd4284ce02aec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-compute-satellite-image-statistics-and-use-it-in-pandas-81864a489144&user=Abdishakur&userId=d4284ce02aec&source=post_page-d4284ce02aec--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F5da1115ce36e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-compute-satellite-image-statistics-and-use-it-in-pandas-81864a489144&newsletterV3=d4284ce02aec&newsletterV3Id=5da1115ce36e&user=Abdishakur&userId=d4284ce02aec&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}