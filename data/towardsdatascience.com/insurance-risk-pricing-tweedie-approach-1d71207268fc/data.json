{"url": "https://towardsdatascience.com/insurance-risk-pricing-tweedie-approach-1d71207268fc", "time": 1683006096.966186, "path": "towardsdatascience.com/insurance-risk-pricing-tweedie-approach-1d71207268fc/", "webpage": {"metadata": {"title": "Insurance Risk Pricing \u2014 Tweedie Approach | by Ajay Tiwari | Towards Data Science", "h1": "Insurance Risk Pricing \u2014 Tweedie Approach", "description": "Insurance is a unique industry, probably one of the few where a company doesn\u2019t know the actual cost of the product sold, they deal with the risks of unforeseeable events. Therefore, this industry\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/swlh/modeling-insurance-claim-frequency-a776f3bf41dc", "anchor_text": "count", "paragraph_index": 1}, {"url": "https://medium.com/swlh/modeling-insurance-claim-severity-b449ac426c23", "anchor_text": "gamma", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/offsetting-the-model-logic-to-implementation-7e333bc25798", "anchor_text": "offset", "paragraph_index": 20}], "all_paragraphs": ["Insurance is a unique industry, probably one of the few where a company doesn\u2019t know the actual cost of the product sold, they deal with the risks of unforeseeable events. Therefore, this industry has been relying on mathematics to understand the risk behavior of its customers and prospects for the last few centuries to estimate expected loss costs. Of course, methods have been evolving from Pascal\u2019s triangle, application of probability, minimum bias procedures to generalized linear models and now machine learning.", "We have discussed the count models (used in claim frequency) and the gamma model (used in claim severity) in previous articles in detail. The pure premium, also known as \u2018loss cost\u2019 is just the product of both the model estimates.", "Claim Frequency = Claim Count / Exposure", "Claim Severity = Claim Cost / Claim Count", "Loss Cost = Claim Frequency x Claim Severity", "In the current article, we are going to discuss a very important and interesting distribution called Tweedie, this distribution is interesting because it delivers many other distributions from Gaussian to inverse Gaussian by just changing a single parameter.", "This distribution will help us in modeling pure premium directly without any need for two different models.", "Tweedie distribution is a special case of exponential dispersion models and is often used as a distribution for generalized linear models. It can have a cluster of data items at zero and this particular property makes it useful for modeling claims in the insurance industry. This model can also be applied in other use cases across industries where you find a mixture of zeros and non-negative continuous data points.", "If you see a histogram as below with a spike at zero, it\u2019s a possible candidate to be fitted to a Tweedie model.", "The p in the variance function is an additional shape parameter for the distribution.", "An important point to be noted, this distribution is not defined for values of p between 0 and 1.", "Let\u2019s look at Some of the commonly used members of the Tweedie family of distributions with their index parameter (p), variance function (V (\u00b5)) and dispersion (\u0444)", "One distribution enables fitting many other distributions. Setting p = 0 gives a normal distribution, p = 1 is Poisson, p = 2 gives a gamma distribution and p = 3 yields an inverse Gaussian.", "We know Tweedie as a compound Poisson-Gamma distribution where a count N~Poisson(\u03bb) and continuous number Z ~ Gamma(\u03b1,\u03b8), in such case parameters can be easily translated into Tweedie parameters as given below:", "Similarly, Tweedie parameters can also be converted into Poisson and Gamma parameters as follows:", "Now, we got some understanding of this interesting distribution and its relation with its close family members like Poisson and Gamma.", "Recall our insurance dataset which we used in previous articles. We are hoping Tweedie distribution is the ideal candidate for this dataset, let\u2019s explore this data to confirm our assumption.", "This dataset (dataCar)can be downloaded from an R package called \u201cinsuranceData\u201d.", "Only 7% of observation has positive values for the response variable, the rest of the values are zero. Let\u2019s look at the distribution of claim count and cost independently.", "Let\u2019s re-write in terms of original variables", "Response Variable \u2014 We are going to use \u2018Claim Cost\u2019 as a response variable keeping \u2018exposure\u2019 as an offset which is a suggested approach for modeling rates and averages.", "Let\u2019s have a look at the distribution of this variable.", "We can see this data can not be fitted to the normal distribution, Poisson can also be discarded because this is not a count data. Another option we can think of Gamma, but this distribution does not take zero values. So, finally, we are left with Tweedie distribution which might be the best fit for this data.", "Now, look at the independent variables. For detailed exploratory analysis and transformation of these variables, you can refer to the source code shared along with this article.", "Independent Variables \u2014 We are going to use Vehicle body, vehicle age, driver\u2019s age category, gender, area, and vehicle value as predictor variables. Claim occurrence indicator and the number of claims cannot be used as they are related to the dependent variable and can be known only after the event take place.", "Derived Variable and Transformation \u2014 Vehicle body type by low frequencies can be grouped, also created an alternate categorical variable for vehicle value which can be tested for significance.", "Based on this exploratory analysis, we can confirm Tweedie distribution is an ideal candidate for fitting the model, but we are yet to find an optimum value for \u201cp\u201d which we know varies between 1 to 2.", "Approach 1 \u2014 Manual selection of the variance power.", "Approach 2 \u2014 Automated selection of variance power using statistical packages", "Statistical packages (macros) are available in various software such as R, SAS, Python, and Emblem (Industry-specific software) to calculate maximum likelihood estimate for a series of \u201cp\u201d value. These are a kind of improvement to approach 1 with many other added features such as visualization. We can see the sample output below in the form of a graph generated from R using the \u201cTweedie\u201d package.", "This graph shows that optimum \u201cp\u201d values lie somewhere between 1.5 and 1.6. We can use the suggested value for fitting the Tweedie model.", "In Python, statsmodels has a function called estimate_tweedie_power for obtaining an optimum value.", "We are using R and Python for fitting the Generalized Linear Models. R is quite mature in statistical models, python is also catching up with its statsmodels package. I feel a lack of proper examples and documentation for statsmodels is the only disadvantage.", "In machine learning models, the Tweedie loss function is available in many algorithms such as GBM, LightGBM, XGBOOST, etc. Here, I will walk you through XGBOOST implementation.", "Model validation and goodness of fit in GLMs", "We can analyze the results like any other regression, by looking at the results summary.", "Evaluation metrics like root mean squared error (rmse), mean absolute error (mae) and k-fold cross-validation techniques are some of the methods of validating and comparing the models.", "Please feel free to access complete code on my gist path.", "We have discussed Tweedie distribution, one of the most commonly used distributions in the Insurance industry and its relation with other distributions of exponential dispersion models such as Poisson and Gamma. We also learned to estimate the Tweedie variance power which is the most important parameter required to fit an accurate model.", "Though we discussed Tweedie implementation examples in some of the popular open-source packages, there are few more software that has this implementation which can be explored such as H2O, SAS, and Emblem.", "Thanks for reading, hope you found the article informative. Please feel free to reach me for any queries or suggestions.", "[1]Tweedie, M. C. K., \u201cAn Index which Distinguishes between Some Important Exponential Families,\u201d in Statistics: Applications and New Directions, Proceedings of the Indian Statistical Golden Jubilee International Conference, J. K. Ghosh and J. Roy (Eds.), Indian Statistical Institute, 1984, 579\u2013604", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1d71207268fc&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finsurance-risk-pricing-tweedie-approach-1d71207268fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finsurance-risk-pricing-tweedie-approach-1d71207268fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finsurance-risk-pricing-tweedie-approach-1d71207268fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finsurance-risk-pricing-tweedie-approach-1d71207268fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----1d71207268fc--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1d71207268fc--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@ajaytiwari.ib?source=post_page-----1d71207268fc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ajaytiwari.ib?source=post_page-----1d71207268fc--------------------------------", "anchor_text": "Ajay Tiwari"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6cd36cd3bec9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finsurance-risk-pricing-tweedie-approach-1d71207268fc&user=Ajay+Tiwari&userId=6cd36cd3bec9&source=post_page-6cd36cd3bec9----1d71207268fc---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1d71207268fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finsurance-risk-pricing-tweedie-approach-1d71207268fc&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1d71207268fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finsurance-risk-pricing-tweedie-approach-1d71207268fc&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/swlh/modeling-insurance-claim-frequency-a776f3bf41dc", "anchor_text": "count"}, {"url": "https://medium.com/swlh/modeling-insurance-claim-severity-b449ac426c23", "anchor_text": "gamma"}, {"url": "https://towardsdatascience.com/offsetting-the-model-logic-to-implementation-7e333bc25798", "anchor_text": "offset"}, {"url": "https://xgboost.readthedocs.io/en/latest/parameter.html", "anchor_text": "[2]XGBoost Parameters \u2014 xgboost 1.1.0-SNAPSHOT documentationmax_delta_step [default=0] Maximum delta step we allow each leaf output to be. If the value is set to 0, it means there\u2026xgboost.readthedocs.io"}, {"url": "https://www.rdocumentation.org/packages/tweedie/versions/2.3.2/topics/tweedie.profile", "anchor_text": "[3] Tweedie.profileTweedie Distributions: mle estimation of p Maximum likelihood estimation of the Tweedie index parameter \\(p\\). Usage\u2026www.rdocumentation.org"}, {"url": "https://www.rdocumentation.org/packages/statmod/versions/1.4.33/topics/tweedie", "anchor_text": "[4] TweedieTweedie Generalized Linear Models Produces a generalized linear model family object with any power variance function\u2026www.rdocumentation.org"}, {"url": "https://www.statsmodels.org/stable/index.html", "anchor_text": "[5] Introduction \u2014 statsmodelsstatsmodels is a Python module that provides classes and functions for the estimation of many different statistical\u2026www.statsmodels.org"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----1d71207268fc---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----1d71207268fc---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/insurance?source=post_page-----1d71207268fc---------------insurance-----------------", "anchor_text": "Insurance"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----1d71207268fc---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/analytics?source=post_page-----1d71207268fc---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1d71207268fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finsurance-risk-pricing-tweedie-approach-1d71207268fc&user=Ajay+Tiwari&userId=6cd36cd3bec9&source=-----1d71207268fc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1d71207268fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finsurance-risk-pricing-tweedie-approach-1d71207268fc&user=Ajay+Tiwari&userId=6cd36cd3bec9&source=-----1d71207268fc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1d71207268fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finsurance-risk-pricing-tweedie-approach-1d71207268fc&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1d71207268fc--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1d71207268fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finsurance-risk-pricing-tweedie-approach-1d71207268fc&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1d71207268fc---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1d71207268fc--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1d71207268fc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1d71207268fc--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1d71207268fc--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1d71207268fc--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1d71207268fc--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1d71207268fc--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1d71207268fc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ajaytiwari.ib?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ajaytiwari.ib?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Ajay Tiwari"}, {"url": "https://medium.com/@ajaytiwari.ib/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "258 Followers"}, {"url": "https://www.linkedin.com/in/ajtiwari/", "anchor_text": "https://www.linkedin.com/in/ajtiwari/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6cd36cd3bec9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finsurance-risk-pricing-tweedie-approach-1d71207268fc&user=Ajay+Tiwari&userId=6cd36cd3bec9&source=post_page-6cd36cd3bec9--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F12278ac13bbe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finsurance-risk-pricing-tweedie-approach-1d71207268fc&newsletterV3=6cd36cd3bec9&newsletterV3Id=12278ac13bbe&user=Ajay+Tiwari&userId=6cd36cd3bec9&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}