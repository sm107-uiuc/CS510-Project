{"url": "https://towardsdatascience.com/10-things-youre-doing-wrong-in-java-7608e2f050c7", "time": 1682993083.5203571, "path": "towardsdatascience.com/10-things-youre-doing-wrong-in-java-7608e2f050c7/", "webpage": {"metadata": {"title": "10 things you\u2019re doing wrong in Java | by David Bertoldi | Towards Data Science", "h1": "10 things you\u2019re doing wrong in Java", "description": "The most common mistakes that Java developers do and that can make fail your next interview: access modifiers, Strings, exception, nulls, etc."}, "outgoing_paragraph_urls": [{"url": "https://docs.oracle.com/javase/9/docs/api/java/lang/invoke/StringConcatFactory.html", "anchor_text": "StringContactFacotry", "paragraph_index": 11}, {"url": "https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/swing/JPasswordField.html", "anchor_text": "JPasswordField", "paragraph_index": 16}, {"url": "https://github.com/Password4j/password4j", "anchor_text": "Password4j", "paragraph_index": 16}, {"url": "https://www.sonarqube.org/", "anchor_text": "SonarQube", "paragraph_index": 41}], "all_paragraphs": ["In my career I\u2019ve interviewed dozens of software engineers, from juniors to senior technical leaders. And in many cases candidates had gaps in the basic concepts.", "In this article I\u2019m going to put in a list the most common mistakes Java developers do, based on my experience both as Technical Leader and interviewer.", "Don\u2019t ask me why, but candidates often forget the scope of the protected access modifier in Java. In may be the anxiety and tension accumulated during the interview, but typically they mention just one of the two:", "I really don\u2019t know which one is worse to forget, but not citing the package level scope reveals that the candidate has never tested a protected method (protected items are accessible from the test classpath, as long as the package is the same); public and protected methods are part of the API your software provides. So forgetting this property is equivalent to declare during an interview to have never written a meaningful test for your software!", "If you use == (comparison operator) instead of an equals() call, then you have to change your habits because the result may surprise you.", "Never use == when you want to compare two Strings and in general almost any object. == just compares the object reference of the two operands (memory address comparison) and not their content.", "In the above example the string y doesn\u2019t benefit of String Interning: its memory address is different from the address of x.", "If you work with a large number of Strings or with huge Strings , you may waste a lot of memory in the concatenation process.", "In order to understand what is going on, we have to take a step back.", "When you use + operator for String concatenation, you are creating a intermediary object that stores the result of the concatenation before assigning its value to the target object.", "In the above example we have created a total of 3 objects: 2 for the literals and 1 for the concatenation, that is the copy of the first String result plus the second one \" world!\". This happens because Strings are immutable.", "But the compiler is smart enough to transforms the code into the following (not applicable for java 9+, because it uses StringContactFacotry but the result is pretty similar)", "This optimization removes the intermediary concatenation object and the memory is occupied by 2 String literals and 1 StringBuilder. In general, the number of String objects drops from O(n\u00b2) to O(n).", "Back to the first example, the compiler optimizes the code like this", "The compiler just optimizes the inner concatenation, but this is creating a lot of StringBuilder and String objects! The right way to concatenate Strings is the following and requires just 1 StringBuilder and 1 String", "Storing passwords provided by users in a String object is a security issue, because they are vulnerable to memory attacks.", "You should use char[] , as JPasswordField and Password4j are already doing. If we are talking of web applications, most web containers pass the plain text password in the HttpServletRequest object as String, so in this case there\u2019s almost nothing you can do about it.", "Strings are cached by the JVM (interning) and stored in the PermGen space (before Java 8) or in the heap space. In both cases the cached values are removed only after the garbage collection occurs: this means that you don\u2019t know when a specific value is deleted from the String pool, since the Garbage Collector acts non-deterministically.", "The other problem is that Strings are immutable, so you cannot clear them. char[] however is not immutable and can be erased (e.g. substitute each element with a 0) after processing it. With this simple trick the attacker would find just zeroed arrays in memory instead of plain text passwords.", "How many times I have found methods like this:", "The problem of returning null is that you are forcing the caller on doing a null check on the result; In this case, the caller is expecting that if there is no item then an empty list would be returned.", "You always want to return either an exception or a special object (like an empty list) or the application using your code will be affected by NullPointerExceptions.", "On the other side, passing null means you are taking for granted that the code you are calling can manage a null. If this is not true, your application is going to throw a NullPointerException for sure.", "Also you are generating a lot of confusion in your code when you pass explicitly null. The following is a classic example", "When init() is called, there is no User object available. So why calling a method that operates with User if you don\u2019t even have a singleUser? If you need the logic contained in grantAccessToUser() you should extract it in a different method and use it rather than passing a null.", "The following example may cause performance loss in your system:", "Pattern.compile() is a heavy method and it should not be called every time you need to check if a string matches the same pattern.", "Pattern.compile() pre-compiles the pattern so that a faster in-memory representation is used. This operation requires a non negligible amount of computational power, compared to a single match.", "A classic way to gain performance is to cache the Pattern object in a static field like this:", "This solution should be used every time you are re-using the same heavy-to-compute stateless object.", "In some way exceptions are felt as evil by developers and they tend to write methods that return weird values instead, like -1 or \"C_ERR\".", "This is a typical case where is worth creating a custom Exception. The example may be then rewritten like this:", "As you can see, readability and maintainability is hugely increased. The caller doesn\u2019t have to handle each single return code but just to read the content of the DeviceStartException.", "This code will throw a ConcurrentModificationException.", "Removing an item from a list while iterating on it makes the list iterator behave badly, e.g. by skipping elements, repeating elements, indexing off the end of the array, etc. That\u2019s why many collections prefer to throw a ConcurrentModificationException.", "You should use the iterator of the underlying array instead:", "This example create a lot of overhead due to the synchronized nature of StringBuffer. In more complex contexts, readers could be led to believe that synchronization is required where actually it isn\u2019t.", "If you find a StringBuffer in a project, it could be because it\u2019s needed by some legacy API (namely, before Java 5) and very rarely because your code is trying to append Strings in a concurrent context.", "Use StringBuilder instead: introduced with Java 5 and all its operations are not synchronized.", "This is just a subset of the mistakes I see during interviews and in many active projects. I haven\u2019t even mentioned the pitfalls of OOP, design patterns, over-engineering, memory leaks, etc\u2026", "If you are making these mistakes, now it\u2019s time to change your coding style and make your application more maintainable and secure. It\u2019s not that hard and avoiding these pitfalls will improve your experience as a developer and it will automatically get you more prepared for your next interview.", "Keep studying the theory behind any programming language and not just its syntax, code a lot and use static code analyzers like SonarQube , as it could point to the actual bugs and highlight potential bugs.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7608e2f050c7&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-things-youre-doing-wrong-in-java-7608e2f050c7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-things-youre-doing-wrong-in-java-7608e2f050c7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-things-youre-doing-wrong-in-java-7608e2f050c7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-things-youre-doing-wrong-in-java-7608e2f050c7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----7608e2f050c7--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7608e2f050c7--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://davidbertoldi.medium.com/?source=post_page-----7608e2f050c7--------------------------------", "anchor_text": ""}, {"url": "https://davidbertoldi.medium.com/?source=post_page-----7608e2f050c7--------------------------------", "anchor_text": "David Bertoldi"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2ae088a44195&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-things-youre-doing-wrong-in-java-7608e2f050c7&user=David+Bertoldi&userId=2ae088a44195&source=post_page-2ae088a44195----7608e2f050c7---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7608e2f050c7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-things-youre-doing-wrong-in-java-7608e2f050c7&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7608e2f050c7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-things-youre-doing-wrong-in-java-7608e2f050c7&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@max_duz?utm_source=medium&utm_medium=referral", "anchor_text": "Max Duzij"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://docs.oracle.com/javase/9/docs/api/java/lang/invoke/StringConcatFactory.html", "anchor_text": "StringContactFacotry"}, {"url": "https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/swing/JPasswordField.html", "anchor_text": "JPasswordField"}, {"url": "https://github.com/Password4j/password4j", "anchor_text": "Password4j"}, {"url": "https://www.sonarqube.org/", "anchor_text": "SonarQube"}, {"url": "https://xkcd.com/1513/", "anchor_text": "xkcd"}, {"url": "https://medium.com/tag/programming?source=post_page-----7608e2f050c7---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/java?source=post_page-----7608e2f050c7---------------java-----------------", "anchor_text": "Java"}, {"url": "https://medium.com/tag/computer-science?source=post_page-----7608e2f050c7---------------computer_science-----------------", "anchor_text": "Computer Science"}, {"url": "https://medium.com/tag/development?source=post_page-----7608e2f050c7---------------development-----------------", "anchor_text": "Development"}, {"url": "https://medium.com/tag/coding?source=post_page-----7608e2f050c7---------------coding-----------------", "anchor_text": "Coding"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7608e2f050c7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-things-youre-doing-wrong-in-java-7608e2f050c7&user=David+Bertoldi&userId=2ae088a44195&source=-----7608e2f050c7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7608e2f050c7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-things-youre-doing-wrong-in-java-7608e2f050c7&user=David+Bertoldi&userId=2ae088a44195&source=-----7608e2f050c7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7608e2f050c7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-things-youre-doing-wrong-in-java-7608e2f050c7&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7608e2f050c7--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F7608e2f050c7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-things-youre-doing-wrong-in-java-7608e2f050c7&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----7608e2f050c7---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----7608e2f050c7--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----7608e2f050c7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7608e2f050c7--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7608e2f050c7--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7608e2f050c7--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7608e2f050c7--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7608e2f050c7--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7608e2f050c7--------------------------------", "anchor_text": ""}, {"url": "https://davidbertoldi.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://davidbertoldi.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "David Bertoldi"}, {"url": "https://davidbertoldi.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "268 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2ae088a44195&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-things-youre-doing-wrong-in-java-7608e2f050c7&user=David+Bertoldi&userId=2ae088a44195&source=post_page-2ae088a44195--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa8b195f26149&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-things-youre-doing-wrong-in-java-7608e2f050c7&newsletterV3=2ae088a44195&newsletterV3Id=a8b195f26149&user=David+Bertoldi&userId=2ae088a44195&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}