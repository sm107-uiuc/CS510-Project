{"url": "https://towardsdatascience.com/deploy-your-rshiny-app-on-aws-series-lightsail-d56a05f85ad9", "time": 1683001608.2717109, "path": "towardsdatascience.com/deploy-your-rshiny-app-on-aws-series-lightsail-d56a05f85ad9/", "webpage": {"metadata": {"title": "Deploy your RShiny App on AWS Series \u2014 Lightsail | by Jillian Rowe | Towards Data Science", "h1": "Deploy your RShiny App on AWS Series \u2014 Lightsail", "description": "If your head is spinning over which deployment scenario to choose for your RShiny app look no further! I have a whole series planned out for you on various deployment options and why you should\u2026"}, "outgoing_paragraph_urls": [{"url": "https://shiny.rstudio.com/", "anchor_text": "RShiny", "paragraph_index": 0}, {"url": "https://youtu.be/CtYEGPt-PCw", "anchor_text": "YouTube", "paragraph_index": 1}, {"url": "https://lightsail.aws.amazon.com/ls/webapp/home", "anchor_text": "the AWS Lightsail homepage.", "paragraph_index": 9}, {"url": "https://github.com/rstudio/shiny-examples/blob/master/001-hello/app.R", "anchor_text": "shiny-examples github repo.", "paragraph_index": 23}, {"url": "https://pm2.keymetrics.io/docs/usage/quick-start/", "anchor_text": "pm2", "paragraph_index": 32}, {"url": "https://support.rstudio.com/hc/en-us/articles/213733868-Running-Shiny-Server-with-a-Proxy", "anchor_text": "here.", "paragraph_index": 38}, {"url": "https://www.dabbleofdevops.com", "anchor_text": "https://www.dabbleofdevops.com", "paragraph_index": 45}], "all_paragraphs": ["If your head is spinning over which deployment scenario to choose for your RShiny app look no further! I have a whole series planned out for you on various deployment options and why you should choose each one.", "If you\u2019re like me and you prefer to watch a video rather than read a blog post, head on over to my YouTube channel to see this post in action!", "Deployment scenarios are like snowflakes. No two are exactly alike! ;-) You need different level of power and control for different deployment scenarios. Here we are going to talk about RShiny deployments, but it applies to just about everything.", "Lightsail is a relatively recent addition to the whole AWS deployment ecosystem. It makes it much simpler and more streamlined to deploy a web application than some of their other, more powerful solutions.", "Lightsail would be a good choice for deployment for you if:", "Now, each of these points has its exceptions. For myself, I know how to configure webservers, but I still love tools that make my life easier. If I need to get a quick demo up and running, or a small application that won\u2019t live for very long, I am not going to take the time to plan out some elaborate deployment scenario with nodes that scale up and down. While that would be fun, it would also be extreme overkill.", "Just as a quick note, many AWS deployment tools are elastic or auto-scaling, meaning you can scale up and down based on demand. Lightsail is meant to be very simple and does not have any elastic capability.", "You don\u2019t want to use Lightsail if you are anticipating large spikes in traffic. Then you will need a more powerful solution with auto-scaling capabilities. More powerful generally means more complex. Since Lightsail will create your EC2 instances you can always start off with Lightsail and then migrate as you need more power.", "The rest of this tutorial will assume that you have an AWS account.", "Head on over to the AWS Lightsail homepage.", "Choose your instance location and instance type. I would suggest choosing NGINX to future proof your life. It may be unnecessary depending on the setup you\u2019re going for, but I like it. More about NGINX vs no NGINX later!", "Next click on Change SSH key pair in order to download your SSH key pair. I know its odd wording, but just click on it.", "Once you\u2019ve clicked on it you will have the option to change the key pair or download the default. Choose one of those scenarios and make sure to save it!", "Finally, give your instance a name and click \u2018Create Instance\u2019.", "Now that you have your instance ready we can move onto the next part, which is actually running RShiny!", "Click on the top left to get back to the AWS Lightsail home. From there you will have a list of instances. Find the instance you created earlier. Mine is named RShiny.", "You can actually click on the 3 vertical orange dots and then click connect, which gets you a terminal in a web browser. Pretty neat! Just press Connect and your browser will launch a terminal.", "You can also just connect using a terminal, which is what I tend to do. I\u2019m very picky about my hot keys! In the second row of that box it should say \u2018Running\u2019 on the left hand side and have an IP address on the right. The IP address is your public IP address.", "Make sure you use your ssh key and the IP address of your instance. I always move mine from downloads to ~/.ssh.", "Now, I install pretty much all of my scientific software with conda. If you have another installation method, go for it. As long as you get it installed you are all set!", "Once all that\u2019s done you should see something like this. Now, if you installed Miniconda3 using the -b you won\u2019t have the correct shell alias to run `conda activate`. Use the old `source activate` syntax instead and you\u2019ll be fine.", "That\u2019s it. Now we are ready to start playing with some code!", "Even if you have a real-world app all ready and waiting I always recommend that you start with the simplest scenario. Then, when things go wrong you have some idea of where they went wrong!", "This code is primarily taken from the shiny-examples github repo.", "I created a folder `~/rshiny-app/` and pasted this code into app.R. chmod 777 your app.R file and run it!", "If you go to your public IP address on port 8080 it won\u2019t work, which can be hugely frustrating if you\u2019re not used to AWS locking down ports by default.", "What you want to do is go to your Lightsail homepage and click on those 3 vertical orange dots on the top right hander corner. Then click Manage.", "Under Firewall click Add another and add in port 8080. Make sure to click Save!", "Give it a few seconds and then go to the public-ip:8080.", "You should see your RShiny instance up and running!", "The next steps of this tutorial are completely optional depending on your needs. If I was deploying a demo, or even a very small application for internal use, I would probably just stop it here.", "If you haven\u2019t ever used a process manager before it is very much what it sounds like. A process manager is a wrapper around your apps, in this case, our app.R RShiny application. It takes care of starting, stopping, logging, etc.", "My favorite process manager of all time is pm2. It was initially written for Node.js applications, but it really works for everything. I\u2019ve used it for bash scripts (ya, I know), perl, python, and R as well as Node.js apps.", "As a quick aside I think it\u2019s very beneficial to learn a few tools that can be used across multiple deployment scenarios. I know RShiny has its own deployment strategy, but I really don\u2019t want to have to learn a new method for each and every application type. I deploy a lot of applications, and that is just not a reasonable goal for me. Instead, I know how to use a handful of different tools, mostly pm2 and NGINX, in order to run my web applications. (Ok I\u2019m done with me and my opinions now!)", "Ctrl / Cmd + C in order to kill your app.R.", "If you run `pm2 logs name-of-app` you will see your logs", "You can do a lot of other fun stuff, even clustering your application to run multiple instances, and creating startup scripts. PM2 can even detect what system you are on and create a startup script accordingly!", "Once we\u2019ve got our RShiny app running all nicely under our process manager its time to serve it with NGINX.", "The ultimate authority (as far as I know) to configuring your RShiny app under various webservers is here. I\u2019m only going over a single NGINX scenario here.", "Right above the `server` block put in this code", "Then, inside your server block, put the following location block:", "This is what it looks like all together.", "Go to your public IP address without the port and you will see your Shiny App!", "That\u2019s it for this post! In the upcoming posts in this series, I will go over how to use more sophisticated deployment methods for RShiny, including EC2, using AutoScaling Groups, Swarm, and Kubernetes.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Bioinformatics Infrastructure Consultant. Mom of 2 awesome girls. Web: https://www.dabbleofdevops.com Email : jillian@dabbleofdevops.com Twitter: jillianerowe"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fd56a05f85ad9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-your-rshiny-app-on-aws-series-lightsail-d56a05f85ad9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-your-rshiny-app-on-aws-series-lightsail-d56a05f85ad9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-your-rshiny-app-on-aws-series-lightsail-d56a05f85ad9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-your-rshiny-app-on-aws-series-lightsail-d56a05f85ad9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----d56a05f85ad9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d56a05f85ad9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@jilliandrowe?source=post_page-----d56a05f85ad9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jilliandrowe?source=post_page-----d56a05f85ad9--------------------------------", "anchor_text": "Jillian Rowe"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F87b832c70819&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-your-rshiny-app-on-aws-series-lightsail-d56a05f85ad9&user=Jillian+Rowe&userId=87b832c70819&source=post_page-87b832c70819----d56a05f85ad9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd56a05f85ad9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-your-rshiny-app-on-aws-series-lightsail-d56a05f85ad9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd56a05f85ad9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-your-rshiny-app-on-aws-series-lightsail-d56a05f85ad9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://shiny.rstudio.com/", "anchor_text": "RShiny"}, {"url": "https://youtu.be/CtYEGPt-PCw", "anchor_text": "YouTube"}, {"url": "https://lightsail.aws.amazon.com/ls/webapp/home", "anchor_text": "the AWS Lightsail homepage."}, {"url": "https://github.com/rstudio/shiny-examples/blob/master/001-hello/app.R", "anchor_text": "shiny-examples github repo."}, {"url": "https://pm2.keymetrics.io/docs/usage/quick-start/", "anchor_text": "pm2"}, {"url": "https://support.rstudio.com/hc/en-us/articles/213733868-Running-Shiny-Server-with-a-Proxy", "anchor_text": "here."}, {"url": "https://www.dabbleofdevops.com/blog/deploy-your-rshiny-app-on-aws-series-lightsail", "anchor_text": "https://www.dabbleofdevops.com"}, {"url": "https://medium.com/tag/r?source=post_page-----d56a05f85ad9---------------r-----------------", "anchor_text": "R"}, {"url": "https://medium.com/tag/rshiny?source=post_page-----d56a05f85ad9---------------rshiny-----------------", "anchor_text": "Rshiny"}, {"url": "https://medium.com/tag/aws?source=post_page-----d56a05f85ad9---------------aws-----------------", "anchor_text": "AWS"}, {"url": "https://medium.com/tag/lightsail?source=post_page-----d56a05f85ad9---------------lightsail-----------------", "anchor_text": "Lightsail"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd56a05f85ad9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-your-rshiny-app-on-aws-series-lightsail-d56a05f85ad9&user=Jillian+Rowe&userId=87b832c70819&source=-----d56a05f85ad9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd56a05f85ad9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-your-rshiny-app-on-aws-series-lightsail-d56a05f85ad9&user=Jillian+Rowe&userId=87b832c70819&source=-----d56a05f85ad9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd56a05f85ad9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-your-rshiny-app-on-aws-series-lightsail-d56a05f85ad9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d56a05f85ad9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fd56a05f85ad9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-your-rshiny-app-on-aws-series-lightsail-d56a05f85ad9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----d56a05f85ad9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----d56a05f85ad9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----d56a05f85ad9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----d56a05f85ad9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----d56a05f85ad9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----d56a05f85ad9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----d56a05f85ad9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----d56a05f85ad9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----d56a05f85ad9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jilliandrowe?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jilliandrowe?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Jillian Rowe"}, {"url": "https://medium.com/@jilliandrowe/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "72 Followers"}, {"url": "https://www.dabbleofdevops.com", "anchor_text": "https://www.dabbleofdevops.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F87b832c70819&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-your-rshiny-app-on-aws-series-lightsail-d56a05f85ad9&user=Jillian+Rowe&userId=87b832c70819&source=post_page-87b832c70819--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F87b832c70819%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeploy-your-rshiny-app-on-aws-series-lightsail-d56a05f85ad9&user=Jillian+Rowe&userId=87b832c70819&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}