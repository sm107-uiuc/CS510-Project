{"url": "https://towardsdatascience.com/object-detection-on-python-using-template-matching-ab4243a0ca62", "time": 1683010086.173075, "path": "towardsdatascience.com/object-detection-on-python-using-template-matching-ab4243a0ca62/", "webpage": {"metadata": {"title": "Object Detection on Python Using Template Matching | by Ravindu Senaratne | Towards Data Science", "h1": "Object Detection on Python Using Template Matching", "description": "Whenever we hear about \u2018Object Detection\u2019, machine learning along with different frameworks comes to our mind. But we can actually do object detection without using machine learning or any other\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Whenever we hear about \u2018Object Detection\u2019, machine learning along with different frameworks comes to our mind. But we can actually do object detection without using machine learning or any other frameworks. In this article, I\u2019ll show you how to do it using only Python.", "We\u2019ll start off by defining a template image(object), and the system is going to find all other objects in the source image that matches the template we picked. So let me explain what I meant by showing you an example. Below there are two pictures, on the left side, we have our source image of airplanes and on the right side, we have our template photo of an airplane as an object.", "What I\u2019m gonna do is write a python code to display all the regions where this template image actually fits in my source image.", "First, let\u2019s start off by detecting one object, and Secondly, we can adjust our code to detect multiple objects.", "For this, we need one source image and one template image. The template image is slide over the source image (like a 2D convolution) and the program will try to find the most accurate match.", "In the above part of the code, we are using OpenCV to read our SourceIMG.jpeg and TemplateIMG.jpeg.", "When the template image is slid over the source image, it\u2019s looking for the entire region. (top-left corner as the reference frame). After the template image matches the source image, we would like to note the top-left corner location and then draw a box around the region where it actually matches. In order to do that we need to find the height and width of this template image. So we can draw the rectangle.", "Template matching is part of OpenCV and it takes our grayscale source image and the template image with the statistical metrics we need to use. In this case, I\u2019m using the Minimum Square Difference (TM_SQDIFF) because we are looking for the minimum difference between the template image and the source image.", "If you plot what we have done so far, we\u2019ll see a probability map. As you can see from the image below, these tiny dots are where the template actually matched.", "Using the above code we can found out the location of tiny dots in the probability map. Using minMaxLoc(res) we can extract the minimum value, maximum value, minimum location, and maximum location.", "To draw a blue rectangle on the source image where the template image matches, we need to get the minimum location, min_loc(where match actually starts) as our top left. The same way, we can get our bottom right by top_left[0] + width and top_left[1] + height. With these dimensions, we can draw the blue rectangle using cv2.rectangle. That\u2019s everything we need to set up, let\u2019s go ahead and visualize this.", "We already did the detecting of one object by selecting the minimum difference between source and template images. By defining a threshold we can detect all the objects that are similar to our template image.", "For this, I\u2019ll be using the same source image and the template image I have used for one object detection with a threshold of probability higher than 0.5 (you can decide the threshold value by referring res array). We only need to change just a few lines of code to detect multiple objects.", "Here I use TM_CCOEFF_NORMED because we need to get the maximum values, not the minimum values. Which means we need to look for multiple objects instead of one.", "We are trying to find all the location values which are larger than the threshold value. loc will receive 2 output arrays and combining these arrays we can get the x,y coordinates.", "What I\u2019m trying to do here is now instead of one we have multiple locations. So for all these locations, we need to draw blue color rectangles. That\u2019s everything we need to set up, let\u2019s go ahead and visualize this.", "Seems quite simple right? but we can do this with a higher accuracy if we use machine learning or a framework.", "Thank you for reading and I hope this article was helpful.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "AI/ML enthusiast and writer | BSc (Hons) in Information Technology"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fab4243a0ca62&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fobject-detection-on-python-using-template-matching-ab4243a0ca62&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fobject-detection-on-python-using-template-matching-ab4243a0ca62&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fobject-detection-on-python-using-template-matching-ab4243a0ca62&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fobject-detection-on-python-using-template-matching-ab4243a0ca62&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ab4243a0ca62--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ab4243a0ca62--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@ravindusenaratne?source=post_page-----ab4243a0ca62--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ravindusenaratne?source=post_page-----ab4243a0ca62--------------------------------", "anchor_text": "Ravindu Senaratne"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffa8a7e85927d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fobject-detection-on-python-using-template-matching-ab4243a0ca62&user=Ravindu+Senaratne&userId=fa8a7e85927d&source=post_page-fa8a7e85927d----ab4243a0ca62---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fab4243a0ca62&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fobject-detection-on-python-using-template-matching-ab4243a0ca62&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fab4243a0ca62&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fobject-detection-on-python-using-template-matching-ab4243a0ca62&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@jakobowens1?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Jakob Owens"}, {"url": "https://towardsdatascience.com/s/photos/object-detection?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://www.youtube.com/channel/UC34rW-HtPJulxr5wp2Xa04w", "anchor_text": "Python for Microscopists by SreeniThis channel walks you through the entire process of learning to code in Python; all the way from basics to advanced\u2026www.youtube.com"}, {"url": "https://medium.com/tag/technology?source=post_page-----ab4243a0ca62---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/programming?source=post_page-----ab4243a0ca62---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ab4243a0ca62---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/productivity?source=post_page-----ab4243a0ca62---------------productivity-----------------", "anchor_text": "Productivity"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----ab4243a0ca62---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fab4243a0ca62&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fobject-detection-on-python-using-template-matching-ab4243a0ca62&user=Ravindu+Senaratne&userId=fa8a7e85927d&source=-----ab4243a0ca62---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fab4243a0ca62&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fobject-detection-on-python-using-template-matching-ab4243a0ca62&user=Ravindu+Senaratne&userId=fa8a7e85927d&source=-----ab4243a0ca62---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fab4243a0ca62&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fobject-detection-on-python-using-template-matching-ab4243a0ca62&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ab4243a0ca62--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fab4243a0ca62&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fobject-detection-on-python-using-template-matching-ab4243a0ca62&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ab4243a0ca62---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ab4243a0ca62--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ab4243a0ca62--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ab4243a0ca62--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ab4243a0ca62--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ab4243a0ca62--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ab4243a0ca62--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ab4243a0ca62--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ab4243a0ca62--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ravindusenaratne?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ravindusenaratne?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Ravindu Senaratne"}, {"url": "https://medium.com/@ravindusenaratne/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "315 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffa8a7e85927d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fobject-detection-on-python-using-template-matching-ab4243a0ca62&user=Ravindu+Senaratne&userId=fa8a7e85927d&source=post_page-fa8a7e85927d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fdfcc7c372310&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fobject-detection-on-python-using-template-matching-ab4243a0ca62&newsletterV3=fa8a7e85927d&newsletterV3Id=dfcc7c372310&user=Ravindu+Senaratne&userId=fa8a7e85927d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}