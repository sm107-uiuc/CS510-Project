{"url": "https://towardsdatascience.com/sql-server-with-python-679b8dba69fa", "time": 1683007835.820915, "path": "towardsdatascience.com/sql-server-with-python-679b8dba69fa/", "webpage": {"metadata": {"title": "SQL Server with Python. The world\u2019s favorite database + the\u2026 | by James Briggs | Towards Data Science", "h1": "SQL Server with Python", "description": "Everyone uses SQL, and everyone uses Python. SQL is the de-facto standard for databases. Python on the other hand is an all-star, a top language for data analytics, machine learning, and web\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.youtube.com/c/jamesbriggs", "anchor_text": "YouTube", "paragraph_index": 34}, {"url": "https://github.com/jamescalam/pysqlplus", "anchor_text": "This GitHub repo", "paragraph_index": 36}, {"url": "https://www.youtube.com/c/jamesbriggs", "anchor_text": "https://www.youtube.com/c/jamesbriggs", "paragraph_index": 38}], "all_paragraphs": ["Everyone uses SQL, and everyone uses Python. SQL is the de-facto standard for databases. Python on the other hand is an all-star, a top language for data analytics, machine learning, and web development. Imagine both, together.", "This is actually incredibly easy to setup. We can quickly utilize the dynamic nature of Python, to control and build queries in SQL. The best part? After set-up, you don\u2019t need to do anything.", "Both of these amazing tools together, allow us to reach new heights of automation and efficiency.", "Our bridge between the two technologies is pyodbc. This library allows easy access to ODBC databases.", "ODBC, short for Open Database Connectivity, is a standardised application programming interface (API) for accessing databases, developed by the SQL Access group back in the early 90's.", "Compliant database management systems (DBMS) include:", "In this article, we will be using MS SQL Server. For the most part, this should be directly transferable for use with any ODBC compliant database. The only change required should be with the connection setup.", "The first thing we need to do is create a connection to the SQL server. We can do this using pyodbc.connect. Within this function we must also pass a connection string.", "This connection string must specify the DBMS Driver, the Server, a specific Database to connect to, and our connection settings.", "So, lets assume we want to connect to server UKXXX00123,45600, database DB01 , to do this we want to use SQL Server Native Client 11.0.", "We will be connecting from an internal, and thus trusted connection (we do not need to enter our username and password).", "Our connection is now initialized with:", "If we are not accessing the database via a trusted connection, we will need to enter the username and password that we would usually use to access the server via SQL Server Management Studio (SSMS).", "For example, if our username is JoeBloggs, and our password is Password123, we should immediately change our password.", "But before changing that horrible password, we can connect like so:", "Now we are connected to the database, we can begin performing SQL queries via Python.", "Every query we run on SQL Server now will consist of a cursor initialization, and query execution. Additionally, if we make any changes inside the server, we also need to commit these changes to the server (which we cover in the next section).", "Now, whenever we want to perform a query, we use this cursor object.", "Let\u2019s first select the top 1000 rows from a table called customers:", "This performs the operation, but within the server, and so nothing is actually returned to Python. So let\u2019s look at extracting this data from SQL.", "To extract our data from SQL into Python, we use pandas. Pandas provides us with a very convenient function called read_sql, this function, as you may have guessed, reads data from SQL.", "read_sql requires both a query and the connection instance cnxn, like so:", "This returns a dataframe containing the top 1000 rows from the customers table.", "Now, if we wanted to change the data in SQL, we need to add another step to the original initialize connection, execute query process.", "When we execute queries in SQL, these changes are kept in a temporarily existing space, they are not made directly to the data.", "To make these changes permanent, we must commit them. Lets concatenate the firstName and lastName columns, to create a fullName column.", "At this point, fullName does not exist in our database. We must commit these changes to make them permanent:", "Once we have performed whichever manipulation tasks we needed to do. We can extract our data to Python \u2014 alternatively, we can extract the data to Python and manipulate it there too.", "Whichever approach you take, once the data is there in Python, we can do a multitude of useful things with it that were simply not possible before.", "Maybe we need to perform some daily reporting, with which we would usually query the newest batch of data in SQL server, calculate some basic statistics, and send the results via email.", "And with that, we are done! Running this code quickly extracts the prior week\u2019s data, calculates our key measures, and sends a summary of this to our boss.", "So, in a few simple, easy steps, we\u2019ve taken a first look at quickly setting up a more efficient, automated workflow using an integration of both SQL and Python.", "I have found this to be incredibly useful, and not just for the use-cases described above.", "Python simply kicks open new routes that were impassable to us before with just SQL alone.", "Let me know your opinions, ideas, or use-cases, I\u2019d love to hear them! If you\u2019d like more content like this, I post on YouTube too.", "If you enjoyed this article, you may be interested in a deeper look at email automation with Python. I covered this in a previous article, check it out if you\u2019re interested:", "This GitHub repo also contains documentation and code showing the implementation of a few useful methods.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Freelance ML engineer learning and writing about everything. I post a lot on YT https://www.youtube.com/c/jamesbriggs"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F679b8dba69fa&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-server-with-python-679b8dba69fa&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-server-with-python-679b8dba69fa&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-server-with-python-679b8dba69fa&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-server-with-python-679b8dba69fa&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----679b8dba69fa--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----679b8dba69fa--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://jamescalam.medium.com/?source=post_page-----679b8dba69fa--------------------------------", "anchor_text": ""}, {"url": "https://jamescalam.medium.com/?source=post_page-----679b8dba69fa--------------------------------", "anchor_text": "James Briggs"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb9d77a4ca1d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-server-with-python-679b8dba69fa&user=James+Briggs&userId=b9d77a4ca1d1&source=post_page-b9d77a4ca1d1----679b8dba69fa---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F679b8dba69fa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-server-with-python-679b8dba69fa&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F679b8dba69fa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-server-with-python-679b8dba69fa&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@martinsanchez?utm_source=medium&utm_medium=referral", "anchor_text": "Martin Sanchez"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.youtube.com/c/jamesbriggs", "anchor_text": "YouTube"}, {"url": "https://bit.ly/nlp-transformers", "anchor_text": "\ud83e\udd16 70% Discount on the NLP With Transformers Course"}, {"url": "https://towardsdatascience.com/notify-with-python-41b77d51657e", "anchor_text": "Notify with PythonMake life easier with Python built email notificationstowardsdatascience.com"}, {"url": "https://github.com/jamescalam/pysqlplus", "anchor_text": "This GitHub repo"}, {"url": "https://medium.com/tag/sql?source=post_page-----679b8dba69fa---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/python?source=post_page-----679b8dba69fa---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----679b8dba69fa---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/data-science?source=post_page-----679b8dba69fa---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-analytics?source=post_page-----679b8dba69fa---------------data_analytics-----------------", "anchor_text": "Data Analytics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F679b8dba69fa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-server-with-python-679b8dba69fa&user=James+Briggs&userId=b9d77a4ca1d1&source=-----679b8dba69fa---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F679b8dba69fa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-server-with-python-679b8dba69fa&user=James+Briggs&userId=b9d77a4ca1d1&source=-----679b8dba69fa---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F679b8dba69fa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-server-with-python-679b8dba69fa&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----679b8dba69fa--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F679b8dba69fa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-server-with-python-679b8dba69fa&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----679b8dba69fa---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----679b8dba69fa--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----679b8dba69fa--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----679b8dba69fa--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----679b8dba69fa--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----679b8dba69fa--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----679b8dba69fa--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----679b8dba69fa--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----679b8dba69fa--------------------------------", "anchor_text": ""}, {"url": "https://jamescalam.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://jamescalam.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "James Briggs"}, {"url": "https://jamescalam.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "9.6K Followers"}, {"url": "https://www.youtube.com/c/jamesbriggs", "anchor_text": "https://www.youtube.com/c/jamesbriggs"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb9d77a4ca1d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-server-with-python-679b8dba69fa&user=James+Briggs&userId=b9d77a4ca1d1&source=post_page-b9d77a4ca1d1--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F75e31c56d187&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-server-with-python-679b8dba69fa&newsletterV3=b9d77a4ca1d1&newsletterV3Id=75e31c56d187&user=James+Briggs&userId=b9d77a4ca1d1&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}