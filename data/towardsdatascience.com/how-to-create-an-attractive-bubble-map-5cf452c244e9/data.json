{"url": "https://towardsdatascience.com/how-to-create-an-attractive-bubble-map-5cf452c244e9", "time": 1683008942.207957, "path": "towardsdatascience.com/how-to-create-an-attractive-bubble-map-5cf452c244e9/", "webpage": {"metadata": {"title": "How to Create an Attractive Bubble Map in Jupyter | Towards Data Science", "h1": "How to Create an Attractive Bubble Map in Jupyter", "description": "In this article, I am going to show you how to scrape the latest data from CSSEGISandData\u2019s COVID-19 Github repo and creating a bubble map with Plotly and Mapbox. We are going to use JupyterLab (or Jupyter Notebook if you prefer), Plotly express, BeautifulSoup, and Mapbox."}, "outgoing_paragraph_urls": [{"url": "https://github.com/CSSEGISandData/COVID-19/", "anchor_text": "CSSEGISandData\u2019s COVID-19 Github repo", "paragraph_index": 0}, {"url": "https://plotly.com/python/getting-started/?utm_source=mailchimp-jan-2015&utm_medium=email&utm_campaign=generalemail-jan2015&utm_term=bubble-chart", "anchor_text": "here", "paragraph_index": 2}, {"url": "https://requests.readthedocs.io/en/master/", "anchor_text": "requests", "paragraph_index": 3}, {"url": "https://www.crummy.com/software/BeautifulSoup/bs4/doc/", "anchor_text": "BeautifulSoup", "paragraph_index": 3}, {"url": "https://plotly.com/python/plotly-express/", "anchor_text": "plotly.express", "paragraph_index": 4}, {"url": "https://pandas.pydata.org/", "anchor_text": "pandas", "paragraph_index": 4}, {"url": "https://account.mapbox.com/", "anchor_text": "Mapbox", "paragraph_index": 14}, {"url": "https://github.com/shinokada/covid-19-stats/blob/master/.gitignore", "anchor_text": ".gitignore", "paragraph_index": 16}, {"url": "https://plotly.com/python/plotly-express/", "anchor_text": "plotly.express", "paragraph_index": 17}, {"url": "https://plotly.com/python/builtin-colorscales/", "anchor_text": "color_continuous_scale", "paragraph_index": 19}, {"url": "https://gist.github.com/shinokada/3a92351442c5b15c8a30f9a606f153a3", "anchor_text": "here", "paragraph_index": 22}, {"url": "https://plotly.github.io/plotly.py-docs/generated/plotly.express.scatter_mapbox.html", "anchor_text": "various parameters", "paragraph_index": 23}, {"url": "https://blog.codewithshin.com/membership", "anchor_text": "becoming a member", "paragraph_index": 24}], "all_paragraphs": ["In this article, I am going to show you how to scrape the latest data from CSSEGISandData\u2019s COVID-19 Github repo and creating a bubble map with Plotly and Mapbox.", "We are going to use JupyterLab (or Jupyter Notebook if you prefer), Plotly express, BeautifulSoup, and Mapbox.", "Previously it was difficult to install Plotly on JupyterLab, but it is easy now to install. You can find it here.", "We use Python\u2019s HTTP library, requests to send get request to a webpage. BeautifulSoup is a Python library for pulling data out of HTML and XML files.", "plotly.express is a high-level wrapper for Plotly. It uses simpler syntax and is easy to use. pandas is a fast, powerful, flexible, and easy to use open-source data analysis and manipulation tool.", "Let\u2019s start writing code for the scraping part.", "We set variables github and URL.", "We get a webpage using request.get() and create a Beautifulsoup object by parsing the page content.", "After inspecting the page HTML, you can find that the latest report is always the fourth link from the last. If you need to confirm it you can print the latest.", "We create the link to the latest data, and again get the webpage content using requests.get(). We can confirm the latestURL by printing it.", "Github has a raw page with the id of raw-url. We get the URL of the raw page URL. We can confirm it by printing the rawURL.", "Now the raw page is a CSV format, we can use Pandas to read it. We can confirm it by printing the data using head().", "We drop the rows (axis=0) where the Lat value is missing. We also fill up the fields with 0 where data is missing.", "We pick up the date and time from the first row in the third column. (The first index is 0)", "Create an account at Mapbox. And create a token.", "In your JupyterLab/Jupyter Notebook, create a file .mapbox_token and copy and paste the created token from Mapbox to this file.", "We set the Mapbox token using Plotly express set_mapbox_access_token. If you are using Git, then add .mapbox_token to your .gitignore file.", "The final part of the code is to set the plotly.express parameters and layout.", "The following list contains some key parameters for plotly.express.scatter_mapbox.", "We use color, size, color_continuous_scale, size_max, zoom, center, hover_data, and hover_name. You can set more parameters if you wish.", "We can set the title in fig.update_layout. And fig.show() to display the image.", "We can use this for other CSSEGISandData\u2019s COVID-19 pages. For example, using the worldwide daily report link:", "The following gif image is created using Plotly.graph_object. Can you see the difference? It does not have state names, terrain, rivers, and details as the Mapbox has. You can find the code here.", "You now know how to make a bubble map using Plotly.express. The Mapbox library was used because it gives you a better presentation and you can control the map with various parameters. How about using a bubble map for your Data Science project.", "Get full access to every story on Medium by becoming a member.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "A programmer and technology enthusiast with a passion for sharing my knowledge and experience."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5cf452c244e9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-an-attractive-bubble-map-5cf452c244e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-an-attractive-bubble-map-5cf452c244e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-an-attractive-bubble-map-5cf452c244e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-an-attractive-bubble-map-5cf452c244e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://me.dm/@shinichiokada", "anchor_text": "Mastodon"}, {"url": "https://towardsdatascience.com/?source=post_page-----5cf452c244e9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5cf452c244e9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://blog.codewithshin.com/?source=post_page-----5cf452c244e9--------------------------------", "anchor_text": ""}, {"url": "https://blog.codewithshin.com/?source=post_page-----5cf452c244e9--------------------------------", "anchor_text": "Shinichi Okada"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa262a804b78f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-an-attractive-bubble-map-5cf452c244e9&user=Shinichi+Okada&userId=a262a804b78f&source=post_page-a262a804b78f----5cf452c244e9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5cf452c244e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-an-attractive-bubble-map-5cf452c244e9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5cf452c244e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-an-attractive-bubble-map-5cf452c244e9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/users/stokpic-692575/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=600497", "anchor_text": "stokpic"}, {"url": "https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=600497", "anchor_text": "Pixabay"}, {"url": "https://github.com/CSSEGISandData/COVID-19/", "anchor_text": "CSSEGISandData\u2019s COVID-19 Github repo"}, {"url": "https://plotly.com/python/getting-started/?utm_source=mailchimp-jan-2015&utm_medium=email&utm_campaign=generalemail-jan2015&utm_term=bubble-chart", "anchor_text": "here"}, {"url": "https://requests.readthedocs.io/en/master/", "anchor_text": "requests"}, {"url": "https://www.crummy.com/software/BeautifulSoup/bs4/doc/", "anchor_text": "BeautifulSoup"}, {"url": "https://plotly.com/python/plotly-express/", "anchor_text": "plotly.express"}, {"url": "https://pandas.pydata.org/", "anchor_text": "pandas"}, {"url": "https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_daily_reports_us/06-20-2020.csv", "anchor_text": "https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_daily_reports_us/06-04-2020.csv"}, {"url": "https://github.com/CSSEGISandData/COVID-19/raw/master/csse_covid_19_data/csse_covid_19_daily_reports_us/06-20-2020.csv", "anchor_text": "https://github.com/CSSEGISandData/COVID-19/raw/master/csse_covid_19_data/csse_covid_19_daily_reports_us/06-04-2020.csv"}, {"url": "https://towardsdatascience.com/how-to-run-jupyter-notebook-on-docker-7c9748ed209f", "anchor_text": "How to Run Jupyter Notebook on DockerNo more Python env and package updatetowardsdatascience.com"}, {"url": "https://account.mapbox.com/", "anchor_text": "Mapbox"}, {"url": "https://github.com/shinokada/covid-19-stats/blob/master/.gitignore", "anchor_text": ".gitignore"}, {"url": "https://plotly.com/python/plotly-express/", "anchor_text": "plotly.express"}, {"url": "https://plotly.com/python-api-reference/generated/plotly.express.scatter_mapbox.html?highlight=scatter_mapbox#plotly.express.scatter_mapbox", "anchor_text": "page"}, {"url": "https://plotly.com/python/builtin-colorscales/", "anchor_text": "color_continuous_scale"}, {"url": "https://gist.github.com/shinokada/aace1fd4e1ad0b35c1f8e8577a4c481b", "anchor_text": "Gist"}, {"url": "https://gist.github.com/shinokada/3a92351442c5b15c8a30f9a606f153a3", "anchor_text": "here"}, {"url": "https://plotly.github.io/plotly.py-docs/generated/plotly.express.scatter_mapbox.html", "anchor_text": "various parameters"}, {"url": "https://blog.codewithshin.com/membership", "anchor_text": "becoming a member"}, {"url": "https://blog.codewithshin.com/subscribe", "anchor_text": "https://blog.codewithshin.com/subscribe"}, {"url": "https://www.latlong.net/", "anchor_text": "https://www.latlong.net/"}, {"url": "https://jupyterlab.readthedocs.io/en/stable/getting_started/installation.html", "anchor_text": "JupyterLab installation"}, {"url": "https://plotly.com/python/builtin-colorscales/", "anchor_text": "Plotly Built-in Continuous Color Scales in Python"}, {"url": "https://plotly.github.io/plotly.py-docs/generated/plotly.express.scatter_mapbox.html", "anchor_text": "plotly.express"}, {"url": "https://plotly.github.io/plotly.py-docs/generated/plotly.express.scatter_mapbox.html", "anchor_text": ".scatter_mapbox"}, {"url": "https://towardsdatascience.com/how-to-create-an-interactive-dropdown-in-jupyter-322277f58a68", "anchor_text": "How to Create an Interactive Dropdown in JupyterUpdate Chart with Dropdown Menustowardsdatascience.com"}, {"url": "https://towardsdatascience.com/how-to-create-a-grouped-bar-chart-with-plotly-express-in-python-e2b64ed4abd7", "anchor_text": "How to Create a Grouped Bar Chart With Plotly Express in PythonPython melt function to format a DataFrame from wide to longtowardsdatascience.com"}, {"url": "https://towardsdatascience.com/how-to-create-an-animated-choropleth-map-with-less-than-15-lines-of-code-2ff04921c60b", "anchor_text": "How to Create an Animated Choropleth Map with Less Than 15 Lines of CodeUsing Plotly Express in Python on Jupytertowardsdatascience.com"}, {"url": "https://towardsdatascience.com/line-chart-animation-with-plotly-on-jupyter-e19c738dc882", "anchor_text": "Line Chart Animation with Plotly on JupyterPlotly unified hover mode, buttons and moretowardsdatascience.com"}, {"url": "https://towardsdatascience.com/how-to-create-an-animated-bar-chart-in-jupyter-9ee1de8d0e80", "anchor_text": "How to Create an Animated Bar Chart in JupyterData visualization showing the latest USA unemployment rate using Plotly Pythontowardsdatascience.com"}, {"url": "https://towardsdatascience.com/how-to-create-a-grouped-bar-chart-with-plotly-express-in-python-e2b64ed4abd7", "anchor_text": "How to Create a Grouped Bar Chart With Plotly Express in PythonPython melt function to format a DataFrame from wide to longtowardsdatascience.com"}, {"url": "https://towardsdatascience.com/stepping-into-intermediate-with-jupyter-f6647aeb1184", "anchor_text": "Productivity Tips for Jupyter UsersMake your workflow with Jupyter Notebook and JupyterLab more efficienttowardsdatascience.com"}, {"url": "https://medium.com/tag/plotly?source=post_page-----5cf452c244e9---------------plotly-----------------", "anchor_text": "Plotly"}, {"url": "https://medium.com/tag/data-science?source=post_page-----5cf452c244e9---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----5cf452c244e9---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/jupyter?source=post_page-----5cf452c244e9---------------jupyter-----------------", "anchor_text": "Jupyter"}, {"url": "https://medium.com/tag/programming?source=post_page-----5cf452c244e9---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5cf452c244e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-an-attractive-bubble-map-5cf452c244e9&user=Shinichi+Okada&userId=a262a804b78f&source=-----5cf452c244e9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5cf452c244e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-an-attractive-bubble-map-5cf452c244e9&user=Shinichi+Okada&userId=a262a804b78f&source=-----5cf452c244e9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5cf452c244e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-an-attractive-bubble-map-5cf452c244e9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5cf452c244e9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5cf452c244e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-an-attractive-bubble-map-5cf452c244e9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5cf452c244e9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5cf452c244e9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5cf452c244e9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5cf452c244e9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5cf452c244e9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5cf452c244e9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5cf452c244e9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5cf452c244e9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5cf452c244e9--------------------------------", "anchor_text": ""}, {"url": "https://blog.codewithshin.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://blog.codewithshin.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Shinichi Okada"}, {"url": "https://blog.codewithshin.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.3K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa262a804b78f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-an-attractive-bubble-map-5cf452c244e9&user=Shinichi+Okada&userId=a262a804b78f&source=post_page-a262a804b78f--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fbea6b9a08c54&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-an-attractive-bubble-map-5cf452c244e9&newsletterV3=a262a804b78f&newsletterV3Id=bea6b9a08c54&user=Shinichi+Okada&userId=a262a804b78f&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}