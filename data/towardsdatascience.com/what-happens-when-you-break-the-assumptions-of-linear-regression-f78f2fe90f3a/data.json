{"url": "https://towardsdatascience.com/what-happens-when-you-break-the-assumptions-of-linear-regression-f78f2fe90f3a", "time": 1683013552.651426, "path": "towardsdatascience.com/what-happens-when-you-break-the-assumptions-of-linear-regression-f78f2fe90f3a/", "webpage": {"metadata": {"title": "What Happens When You Break the Assumptions of Linear Regression? | by Andrew Plummer | Towards Data Science", "h1": "What Happens When You Break the Assumptions of Linear Regression?", "description": "Linear regression is one of the first machine learning tools that aspiring data scientists learn to use. It\u2019s easy to implement, its results are easy to interpret, and the math behind it is easy to\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/box-cox-transformation-explained-51d745e34203", "anchor_text": "here", "paragraph_index": 44}], "all_paragraphs": ["Linear regression is one of the first machine learning tools that aspiring data scientists learn to use.", "It\u2019s easy to implement, its results are easy to interpret, and the math behind it is easy to understand.", "Moreover, linear regression is common in data science projects, either as a baseline model or as a part of Exploratory Data Analysis (EDA).", "It\u2019s no wonder that a new article on linear regression is published seemingly every week.", "However, while these articles discuss the math and assumptions behind linear regression, very few discuss what happens when you break these assumptions.", "1. Explain the six assumptions of linear regression", "2. Explain what happens when each of the six assumptions are broken", "3. Explain what you can do when any of the six assumptions are broken", "I assume a general understanding of linear regression and its assumptions. Therefore, the main emphasis of this article will be the second goal and the third goal.", "Below is a simple regression model, where Y is the target variable, X is the independent variable, and epsilon is the error term (randomness not captured by the model).", "What we mean by \u2018linear in its parameters\u2019 is that the population model may have a mathematical transformation (a square root, a logarithm, a quadratic) on the target variable, or the independent variables, but not on the parameters.", "Thus, changes in our independent variables will have the same marginal effect regardless of their value.", "This assumption assures us that our sample is representative of the population. More specifically, it assures us that the sampling method does not affect the characteristics of our sample.", "The independent variables do not share a perfect, linear relationship. They can be related in some fashion \u2014 indeed, we would not include variables in our regression model if they were entirely unrelated\u2014 however, we should not be able to write one variable as a linear combination of another variable.", "The error term, epsilon, conditional on the independent variables, equals zero, on average.", "That is, the error term is unrelated to our independent variables.", "In statistics parlance, homoskedasticity is when the variance of a random variable is constant.", "Linear regression assumes that the error term, conditional on the independent variables, is homoscedastic. That is,", "The error term is normally distributed with zero mean and a constant variance.", "Specifically, suppose the true model was of the form", "but we estimated a linear model.", "Our parameter estimates would be biased, and our model would make poor predictions.", "There are two ways to determine if you should use a linear function or a non-linear function to model the relationship in the population.", "You could create a scatter plot between the two variables and see if the relationship between them is linear or non-linear. You can then compare the performance between a linear regression and a non-linear regression, and choose the function that performs best.", "A second method is to fit the data with a linear regression, and then plot the residuals. If there is no obvious pattern in the residual plot, then the linear regression was likely the correct model. However, if the residuals look non-random, then perhaps a non-linear regression would be the better choice.", "Say that you want to test if lock downs have impacted consumer spending decisions. You happened to have a survey of online shoppers prior to the pandemic, and you decide to take a second survey of online shoppers three months into the pandemic.", "This is an example of non-representative sampling. Not everyone likes to shop online, and people who do shop online may have traits that are absent from people who refuse to shop online. As a researcher, it is impossible for you to know if it is these unobserved traits, or if it is the lock downs, that changed consumer spending decisions.", "A better researcher would have selected a random group of n people prior to the lock downs, and then selected another random group of n people several months into the lock down. If the selection process was perfectly random, then the two groups would be more or less identical. Thus, you could be certain that the pandemic resulted in changes in their spending.", "Of course, perfect random sampling is impossible. Thus, it is good practice to do some EDA prior to building a regression model to confirm that the two groups are not drastically different. (There are also different types of regression techniques you can use to simulate randomness \u2014 I may discuss these in a separate article).", "(Note: governments excel in creating randomized data sets. For example, Canada\u2019s Labor Force Survey (LFS), which is widely used by labor Economists, selects a random group of people. If you are seeking a random sample, then seek out data sets from government organizations).", "In that case, our third variable is a linear combination of the first two variables.", "Recall that multiple linear regression estimates the effect of one variable by holding all other variables constant. However, this all else equal assumption is impossible in the above regression model. If we change one variable, the first variable, for example, then that changes the third variable. Similarly, if we change the third variable, then that changes the first variable or the second variable (or both).", "The solution to perfect collinearity is to drop one of the variables (in the above example, we would drop the third variable).", "This occurs if our regression model differs from the true model. For example, we might think that the true model is", "when the true model is, in fact,", "The exclusion of the second and third independent variables causes omitted variable bias. Our slope estimate, B1, will either be larger or smaller, on average, than the true value of B1.", "There are two solutions. First, if you know the variables that should be included in the true model, then you can add these variables to the model you are building. This is the best solution; however, it is also unrealistic because we can never truly know what variables are in the true model.", "The second solution is to conduct a Randomized Control Trial (RCT). In an RCT, the researcher randomly allocates participants to the treatment group or the control group. Because the treatment is given randomly, the relationship between the error term and the independent variables is equal to zero.", "Of course, unless you are a PhD student, you likely do not have the funds to perform aRCT. Thankfully, there are methods to simulate a RCT \u2014 regression discontinuity, difference-in-difference, etc. \u2014 which I may discuss in a separate article.", "This causes the variance of our parameters to be biased. Thus, the OLS standard errors are biased, as well (since they are the square root of our variance). Because our confidence intervals and hypothesis tests are based on OLS standard errors, if the standard errors are biased, then our confidence intervals and hypothesis tests are inaccurate.", "The solution is to use robust standard errors.", "Without going into the math behind it, robust standard errors cause the standard errors of OLS to be homoscedastic.", "In statsmodels, you can specify robust standard errors as an argument in the fit method.", "Similar to what occurs if assumption five is violated, if assumption six is violated, then the results of our hypothesis tests and confidence intervals will be inaccurate.", "One solution is to transform your target variable so that it becomes normal. This can have the effect of making the errors normal, as well. The log transform and square root transform are most common. If you want to get fancy, then you can also use a Box-Cox transformation, which I discuss here.", "The above assumptions only hold true if we are working with cross-sectional data. Linear regression requires different assumptions if we have panel data or time series data.", "Now you know the six assumptions of linear regression, the consequences of violating these assumptions, and what to do if these assumptions are violated.", "Now you can build more accurate linear regression models, and you can impress a recruiter with your newfound knowledge.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "That numbers guy | I know a little bit of economics"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff78f2fe90f3a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-happens-when-you-break-the-assumptions-of-linear-regression-f78f2fe90f3a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-happens-when-you-break-the-assumptions-of-linear-regression-f78f2fe90f3a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-happens-when-you-break-the-assumptions-of-linear-regression-f78f2fe90f3a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-happens-when-you-break-the-assumptions-of-linear-regression-f78f2fe90f3a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://me.dm/@andrewmplummer", "anchor_text": "Mastodon"}, {"url": "https://towardsdatascience.com/?source=post_page-----f78f2fe90f3a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f78f2fe90f3a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://andrewmplummer.medium.com/?source=post_page-----f78f2fe90f3a--------------------------------", "anchor_text": ""}, {"url": "https://andrewmplummer.medium.com/?source=post_page-----f78f2fe90f3a--------------------------------", "anchor_text": "Andrew Plummer"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd48ce7eecfaa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-happens-when-you-break-the-assumptions-of-linear-regression-f78f2fe90f3a&user=Andrew+Plummer&userId=d48ce7eecfaa&source=post_page-d48ce7eecfaa----f78f2fe90f3a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff78f2fe90f3a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-happens-when-you-break-the-assumptions-of-linear-regression-f78f2fe90f3a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff78f2fe90f3a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-happens-when-you-break-the-assumptions-of-linear-regression-f78f2fe90f3a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@lishakov?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Andrej Li\u0161akov"}, {"url": "https://unsplash.com/s/photos/wrong?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/box-cox-transformation-explained-51d745e34203", "anchor_text": "here"}, {"url": "https://medium.com/tag/statistics?source=post_page-----f78f2fe90f3a---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/econometrics?source=post_page-----f78f2fe90f3a---------------econometrics-----------------", "anchor_text": "Econometrics"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----f78f2fe90f3a---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f78f2fe90f3a---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----f78f2fe90f3a---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff78f2fe90f3a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-happens-when-you-break-the-assumptions-of-linear-regression-f78f2fe90f3a&user=Andrew+Plummer&userId=d48ce7eecfaa&source=-----f78f2fe90f3a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff78f2fe90f3a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-happens-when-you-break-the-assumptions-of-linear-regression-f78f2fe90f3a&user=Andrew+Plummer&userId=d48ce7eecfaa&source=-----f78f2fe90f3a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff78f2fe90f3a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-happens-when-you-break-the-assumptions-of-linear-regression-f78f2fe90f3a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f78f2fe90f3a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff78f2fe90f3a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-happens-when-you-break-the-assumptions-of-linear-regression-f78f2fe90f3a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f78f2fe90f3a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f78f2fe90f3a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f78f2fe90f3a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f78f2fe90f3a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f78f2fe90f3a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f78f2fe90f3a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f78f2fe90f3a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f78f2fe90f3a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f78f2fe90f3a--------------------------------", "anchor_text": ""}, {"url": "https://andrewmplummer.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://andrewmplummer.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andrew Plummer"}, {"url": "https://andrewmplummer.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "771 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd48ce7eecfaa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-happens-when-you-break-the-assumptions-of-linear-regression-f78f2fe90f3a&user=Andrew+Plummer&userId=d48ce7eecfaa&source=post_page-d48ce7eecfaa--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F68a18eab8379&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-happens-when-you-break-the-assumptions-of-linear-regression-f78f2fe90f3a&newsletterV3=d48ce7eecfaa&newsletterV3Id=68a18eab8379&user=Andrew+Plummer&userId=d48ce7eecfaa&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}