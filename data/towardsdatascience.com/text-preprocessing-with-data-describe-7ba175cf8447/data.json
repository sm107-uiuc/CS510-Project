{"url": "https://towardsdatascience.com/text-preprocessing-with-data-describe-7ba175cf8447", "time": 1683016276.458105, "path": "towardsdatascience.com/text-preprocessing-with-data-describe-7ba175cf8447/", "webpage": {"metadata": {"title": "Text Preprocessing with data-describe | by Rishi Sheth | Towards Data Science", "h1": "Text Preprocessing with data-describe", "description": "Is there anything so messy as unstructured text? Probably not. Whoever invented capitalization, punctuation and stop words clearly did not take the implications those things have on topic modeling\u2026"}, "outgoing_paragraph_urls": [{"url": "https://data-describe.ai/", "anchor_text": "data-describe", "paragraph_index": 1}], "all_paragraphs": ["Is there anything so messy as unstructured text? Probably not. Whoever invented capitalization, punctuation and stop words clearly did not take the implications those things have on topic modeling into account, and only cared about their readability to humans. How inconsiderate of them. Luckily enough, we do not have to painstakingly clean our own unstructured text, as people before us have written tools which will allow us to do this easily.", "data-describe, which is one such tool, is an open source package which is meant for data scientists to use to accelerate their Exploratory Data Analysis process. While the package has more features other than dealing with text, the remainder of this article explores cleaning up messy data using data-describe, and displays some of its topic modeling functionality afterwards. Full disclosure: I am one of the authors of data-describe, so I am not an unbiased source. However this is not just a shameless plug, so keep reading to see how useful this tool can truly be.", "We can start by importing the text preprocessing functions from data-describe, along with the scikit-learn datasets we will be using. The categories were picked at random, so feel free to experiment and play around to see different results.", "Let\u2019s take a look at the first document in our diverse corpus:", "Gross. Plenty of newline characters, capital letters, and punctuation marks to get rid of. Our work is cut out for us. Let\u2019s start by \u201ctokenizing\u201d our text, or splitting a single string document into a list of words.", "There are two things to bear in mind as we walk through the individual functions of this text preprocessing module:", "So at this point, we\u2019ve turned our document into a list of words, otherwise known as \u201cbag of words\u201d format. Our next step is to make sure everything is lower case.", "Progress! Next, we will remove punctuation. This function can either remove or replace punctuation. The default removes punctuation only when it is a trailing/leading instance, but it can also be set to remove all instances of punctuation.", "After removing punctuation, we can move to the removing of digits and any words that contain digits.", "The next function will remove any empty spaces or single characters from the text.", "Next is the removal of stopwords. In topic modeling, the idea is to separate text documents by the important words inside of those documents which are central to the meaning of the document. For this reason, commonly used words that are of little help in this sense, such as \u201cthe\u201d, \u201cwhat\u201d, \u201cthose\u201d, etc. are removed from the documents. While the following function removes all NLTK-defined stopwords from your documents, the function can take a list of additional custom stopwords as a parameter to remove those, as well.", "The subsequent functions can be used to \u201clemmatize\u201d or \u201cstem\u201d the documents. The idea is to group similar words together, so they can be identified as such when undergoing topic modeling. For example, lemmatizing the words \u201cbreaking\u201d and \u201cbroke\u201d would return \u201cbreak\u201d for each. Similarly, plural and singular words will be looked at as the same. The main difference to understand between the two different techniques is that lemmatized words are always still real words, while this is not true for stemmed words. Examples below.", "After all this is done, we can return the list of words back into single string text document format.", "So, we\u2019ve come a long way since our initial unprocessed text documents. At this point, everyone is probably wondering whether it is really necessary to have to type out ALL of those functions to get this done? Not to worry! There is one function that applies all of these steps with one swift press of a button. But wait! What if it is necessary to apply a custom step during all of the preprocessing? Once again, not to worry! Custom functions can be mixed into the preprocessing. The next block of code will demonstrate how.", "Looking over some of these documents, it seems they might need more than your general preprocessing steps to extract relevant information off of them.", "Let\u2019s take a look at how the document looks after matching on the regex pattern above.", "Removing the subject and sender from the document (spoiler alert: the documents are emails) seems like a good idea in order to make sure the contents of the document remain relevant for when we get to topic modeling. Which brings us to our holy grail preprocessing function (Note: functions from data-describe can be specified using strings in the custom pipeline, while custom functions are entered as function objects).", "Much better. At this point, we are ready for topic modeling. data-describe can help here as well, with a \u201cwidget\u201d which allows for topic modeling of choice, whether it be LDA, LSA, LSI, NMF, or SVD. While this is all customizable, along with the number of topics and numerous other parameters, if no parameters are entered the function will automatically check the coherence values for the model for two topics all the way through ten topics. The number of topics with the highest coherence value is the model which will be returned.", "The first thing we can do is look at the most important words per topic, which can be done by showing the model object in a new cell.", "There are a number of observations we can make here. We must keep in mind that these words were stemmed as part of the preprocessing pipeline. Generally looking at the topics, \u201cTopic 1\u201d is clearly about baseball and \u201cTopic 2\u201d is clearly about outer space. How did the model decide on six being the number of topics? Let\u2019s take a look at the coherence values for each model with different numbers of topics.", "As expected, the coherence value is highest for the model with six topics. Next, we can look at the top documents associated with each topic. Naturally, the documents are lengthier than what Pandas might be used to so we can first increase the size of the column width for our Dataframe.", "We can take a closer look at the top document for Topic 1 below.", "As expected, this document is about baseball. Looking over our topics, we see that while the first two topics are clear as to their meanings, the others are not as clear. This could be for a number of different reasons. Topic modeling is known to work significantly better on longer documents, and not as well for shorter texts such as the emails examined above. It\u2019s possible more regex processing is required to deal with the quoted threads and reply-chains in emails. Maybe more tuning is required, beginning by looking at word frequencies (not yet a feature of data-describe, but we are happily accepting contribution efforts!). EDA is just the first step in the modeling process, and that is what data-describe is here to help with.", "All of what is mentioned above is a great intro to text preprocessing and topic modeling using data-describe, but this just skims the surface of the package\u2019s features. Others include data summaries, clustering, correlations, heatmaps, distribution plots, feature ranking, scatter plots, dimensionality reduction, and more, while providing support for big data and sensitive data, as well. Features and enhancements are constantly being added by the authors (including myself), and the open source community, so please feel free to reach out with any questions or to jump in and start contributing today!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7ba175cf8447&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftext-preprocessing-with-data-describe-7ba175cf8447&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftext-preprocessing-with-data-describe-7ba175cf8447&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftext-preprocessing-with-data-describe-7ba175cf8447&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftext-preprocessing-with-data-describe-7ba175cf8447&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----7ba175cf8447--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7ba175cf8447--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://sheth108.medium.com/?source=post_page-----7ba175cf8447--------------------------------", "anchor_text": ""}, {"url": "https://sheth108.medium.com/?source=post_page-----7ba175cf8447--------------------------------", "anchor_text": "Rishi Sheth"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2118599a8722&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftext-preprocessing-with-data-describe-7ba175cf8447&user=Rishi+Sheth&userId=2118599a8722&source=post_page-2118599a8722----7ba175cf8447---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7ba175cf8447&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftext-preprocessing-with-data-describe-7ba175cf8447&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7ba175cf8447&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftext-preprocessing-with-data-describe-7ba175cf8447&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@utsavsrestha", "anchor_text": "Utsav Srestha"}, {"url": "https://unsplash.com/photos/HeNrEdA4Zp4", "anchor_text": "Unsplash"}, {"url": "https://data-describe.ai/", "anchor_text": "data-describe"}, {"url": "https://medium.com/tag/text-preprocessing?source=post_page-----7ba175cf8447---------------text_preprocessing-----------------", "anchor_text": "Text Preprocessing"}, {"url": "https://medium.com/tag/exploratory-data-analysis?source=post_page-----7ba175cf8447---------------exploratory_data_analysis-----------------", "anchor_text": "Exploratory Data Analysis"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----7ba175cf8447---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----7ba175cf8447---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----7ba175cf8447---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7ba175cf8447&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftext-preprocessing-with-data-describe-7ba175cf8447&user=Rishi+Sheth&userId=2118599a8722&source=-----7ba175cf8447---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7ba175cf8447&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftext-preprocessing-with-data-describe-7ba175cf8447&user=Rishi+Sheth&userId=2118599a8722&source=-----7ba175cf8447---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7ba175cf8447&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftext-preprocessing-with-data-describe-7ba175cf8447&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7ba175cf8447--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F7ba175cf8447&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftext-preprocessing-with-data-describe-7ba175cf8447&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----7ba175cf8447---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----7ba175cf8447--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----7ba175cf8447--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7ba175cf8447--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7ba175cf8447--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7ba175cf8447--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7ba175cf8447--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7ba175cf8447--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7ba175cf8447--------------------------------", "anchor_text": ""}, {"url": "https://sheth108.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://sheth108.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Rishi Sheth"}, {"url": "https://sheth108.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2118599a8722&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftext-preprocessing-with-data-describe-7ba175cf8447&user=Rishi+Sheth&userId=2118599a8722&source=post_page-2118599a8722--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F2118599a8722%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftext-preprocessing-with-data-describe-7ba175cf8447&user=Rishi+Sheth&userId=2118599a8722&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}