{"url": "https://towardsdatascience.com/deep-learning-across-mesh-on-the-fly-part-1-the-drones-8bf3d7c9b4f", "time": 1682997466.263784, "path": "towardsdatascience.com/deep-learning-across-mesh-on-the-fly-part-1-the-drones-8bf3d7c9b4f/", "webpage": {"metadata": {"title": "Deep Learning Across Mesh On The Fly \u2014Part 1: The Drones | by Wezley Sherman | Towards Data Science", "h1": "Deep Learning Across Mesh On The Fly \u2014Part 1: The Drones", "description": "Let\u2019s create a micro-drone swarm that utilizes artificial intelligence and mesh networking to mimic swarm behavior that is typically seen in nature. Hold on! Don\u2019t go! Hear me out with this concept\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.espressif.com/en/products/hardware/esp32/overview", "anchor_text": "ESP32", "paragraph_index": 8}, {"url": "https://www.invensense.com/products/motion-tracking/6-axis/mpu-6050/", "anchor_text": "MPU6050", "paragraph_index": 10}, {"url": "https://en.wikipedia.org/wiki/Integrated_circuit", "anchor_text": "IC", "paragraph_index": 10}, {"url": "https://en.wikipedia.org/wiki/I\u00b2C", "anchor_text": "Two Wire Interface", "paragraph_index": 10}, {"url": "https://www.mouser.com/ProductDetail/texas-instruments/tlv1117lv33dcyr/?qs=tEz3BkPb1rwzXMb8FiWhow%3D%3D&countrycode=US&currencycode=USD", "anchor_text": "TLV117LV33DCYR", "paragraph_index": 12}, {"url": "https://unity.com/", "anchor_text": "Unity3D", "paragraph_index": 41}], "all_paragraphs": ["Let\u2019s create a micro-drone swarm that utilizes artificial intelligence and mesh networking to mimic swarm behavior that is typically seen in nature.", "Hold on! Don\u2019t go! Hear me out with this concept. By utilizing these buzzwordy technologies we can create something pretty cool and dare I say, useful?", "Sure, small drones have terrible flight times (among other things) and yes microprocessors might not be the best solution for AI processing. However, if we keep the scope of the project small then we may be able to pull it off. Something such as mimicking swarm behavior in an indoor environment with multiple quadcopters equipped with an array of sensors.", "Still think I\u2019m full of it? What if I told you that I already have the first prototype built?", "When starting any project that requires hardware the first thing you should do is determine what components you want to use.", "For this case, I opted to use a PCB for the base of the quadcopter. This will minimize the number of parts required for the project. It\u2019ll also allow me to quickly prototype various designs and make changes without having to make multiple parts.", "The above base of the quadcopter measures 100mm by 100mm. It is printed on a two-layer PCB, and includes everything needed to make the quadcopter fly!", "Time to decide on the flight controller, inertial measurement unit, and how the motors will be controlled.", "For my concept drone, I chose the ESP32 as the main flight controller. I chose the ESP32 for its versatility, multiple cores, plenty of PWM pins (pulse width modulation for controlling the speed of the propellers), and mesh network capabilities. The ESP32 can also be optimized for minimal power consumption while still delivering enough power for the given task.", "If you haven\u2019t worked with the ESP32 module yet you\u2019re missing out.", "For my inertial measurement unit, I chose the MPU6050. The MPU6050 is a six-axis gyro and accelerometer IC. The MPU6050 is perfect for determining the pitch, yaw, roll, and acceleration of our drones. This chip also interfaces over a Two Wire Interface (can\u2019t say I2C because it\u2019s trademarked), and is super easy to access from the ESP32.", "Finally, we need a voltage regulator and the circuits for our motors.", "The voltage regulator is a Texas Instruments ultra-low dropout voltage regulator, Specifically the TLV117LV33DCYR (Yikes! That was a long number).", "For the motor controllers, I\u2019m utilizing a diode/MOSFET/resistor setup. I also attached a 100uf capacitor for smoothing.", "The configuration above is optimal because it allows for the ESP32 (a 3.3V chip) to control the motors that are receiving the full 3.7V from the battery. The capacitors will help to prevent the over-current protection on the battery from triggering due to sudden current spikes. These current spikes will typically occur when the motors are first turned on, or when the speed is drastically ramped up.", "With the parts list done and a basic idea of how the drone will be built, it\u2019s time to start putting things together!", "The first thing I focused on was connecting the ESP32 to the MPU6050 and the motors. The MPU6050 was fairly easy to connect thanks to many online references. However, I made one fatal mistake that prevented the ESP32 from communicating with the MPU6050 -.. I used 10K pull up resistors on a 3.3V line. This caused the line to be under the threshold for the signal to be considered high and the ESP32 was unable to communicate with the MPU6050 on my concept drone. I have fixed the error and am using 2.2K resistors instead, but it caused a major issue that we will look at later.", "Here is the diagram of how the flight controller looks:", "Pretty cool, right? This was the most complex part of the drone (so far).", "After I finished the flight controller, I worked on the power supply circuit. Which is just the 3.3V ultra-low dropout regulator connected to the input line and two 0.1uF capacitors.", "Finally, the LEDs that are attached to each arm of the quadcopter.", "All of these circuits are what inevitably turned into the first concept quadcopter.", "The fun part is designing the quadcopter itself and routing all of the components.", "With the drone finished, everything was sent in to be produced and came back within two weeks. I spent around $40 for a single drone (not great, but not terrible).", "After a long night of soldering everything together and testing one rotor at a time, I had everything working! \u2014 except for the MPU6050.. Oof.. So much for stability huh?", "Even without a working MPU6050 -.. I was able to get all four motors going and dynamically adjusting speed to see if the drone could lift off the ground.", "Below is the test code that I used.", "Super simple snip-it of code. Here I\u2019m just configuring the desired pins to use PWM and then slowly adjusting the power output until the battery cuts off due to over-current protection.", "This is due to me using a Lithium-Ion battery instead of a Lithium Polymer. Lithium Polymer batteries are typically much lighter than Li-Ion and can output more current. While they\u2019re lighter, the cases of the Li-Po batteries are usually thicc.", "After much anticipation, I uploaded the test code and checked to see if the drone would fly.", "Remember that issue with the MPU6050 that I alluded to earlier? Well, without stabilization we aren\u2019t going to get very far.", "What did we learn here? These quadcopters are too heavy and the flight controller requires an appropriate control loop to stabilize itself and hover.", "The next iteration of the drone will be printed on a thinner and smaller PCB, and I\u2019ll be using a Li-Po battery instead. This will allow for the quadcopter to utilize the full throttle of the motors and gain a decent amount of lift. Along with that, I\u2019ll create a more appropriate control loop that can interface with the MPU6050 and adjust the pitch, yaw, and roll of the quadcopter to keep it stable.", "All of these fixes will allow for a working quadcopter to be built, and for me to move on to the deep learning and mesh networking aspect of this project.", "I know, I know, I didn\u2019t go into much detail in this post about the deep learning aspect of this project.", "That is simply because I haven\u2019t quite gotten that far. This is a multi-iteration project and with that, we have to start small and work our way up.", "The current steps that I have outlined are:", "This is going to be a true deep learning project, even if the quadcopters have to connect to a more powerful base station for data processing. The goal, however, is to see how far we can push these microprocessors utilizing a distributed networking approach.", "I\u2019m wanting the final product to look something like the Intel drone light show shown below:", "Of course, on a much smaller scale and probably only in an indoor environment.", "For the deep learning part, the drones will utilize deep reinforcement learning to make decisions on the fly about how to maneuver through their surroundings.", "The deep reinforcement network will be trained in a simulated environment utilizing Unity3D. This way the risk of losing a drone, or finger, is mitigated through starting with a pre-trained model.", "The reinforcement model will be run either on a base station connected to the drone mesh network or on each drone. The network will rely on the sensor readings from all of the drones in the mesh network to calculate the best possible action for a single drone. This way they\u2019re either able to coordinate based on what the others are doing, or a central manager in the network will be watching the drones and commanding them.", "The singular base-station is an attractive option for this project, but would defeat the purpose of pushing the ESP32 to the absolute edge. However, without a base-station to provide the extensive computational power needed by neural networks, there will be obvious limitations to what the drones can do.", "A flying drone, control loop, and mesh capabilities.", "The next article in this series will focus on getting the drone to actually fly. It\u2019ll also go over the basic implementation of an ESP32 mesh network with data passing among nodes as a proof of concept.", "All code and schematics will be available shortly! I want to make sure I have a working design before passing it down to you guys!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "B.S.E. Software Engineering specializing in embedded computing. I am an A.I. enthusiast."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8bf3d7c9b4f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-learning-across-mesh-on-the-fly-part-1-the-drones-8bf3d7c9b4f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-learning-across-mesh-on-the-fly-part-1-the-drones-8bf3d7c9b4f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-learning-across-mesh-on-the-fly-part-1-the-drones-8bf3d7c9b4f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-learning-across-mesh-on-the-fly-part-1-the-drones-8bf3d7c9b4f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8bf3d7c9b4f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8bf3d7c9b4f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@dawezdog?source=post_page-----8bf3d7c9b4f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dawezdog?source=post_page-----8bf3d7c9b4f--------------------------------", "anchor_text": "Wezley Sherman"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F934642e40dc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-learning-across-mesh-on-the-fly-part-1-the-drones-8bf3d7c9b4f&user=Wezley+Sherman&userId=934642e40dc&source=post_page-934642e40dc----8bf3d7c9b4f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8bf3d7c9b4f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-learning-across-mesh-on-the-fly-part-1-the-drones-8bf3d7c9b4f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8bf3d7c9b4f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-learning-across-mesh-on-the-fly-part-1-the-drones-8bf3d7c9b4f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/tag/deep-learning-drones", "anchor_text": "Deep Learning Drones"}, {"url": "https://www.espressif.com/en/products/hardware/esp32/overview", "anchor_text": "ESP32"}, {"url": "https://www.invensense.com/products/motion-tracking/6-axis/mpu-6050/", "anchor_text": "MPU6050"}, {"url": "https://en.wikipedia.org/wiki/Integrated_circuit", "anchor_text": "IC"}, {"url": "https://en.wikipedia.org/wiki/I\u00b2C", "anchor_text": "Two Wire Interface"}, {"url": "https://www.mouser.com/ProductDetail/texas-instruments/tlv1117lv33dcyr/?qs=tEz3BkPb1rwzXMb8FiWhow%3D%3D&countrycode=US&currencycode=USD", "anchor_text": "TLV117LV33DCYR"}, {"url": "http://www.mouser.com/ProductDetail/diodes-incorporated/1n5819hw-7-f/?qs=NQ47qNm99eDyWTEd07miYA%3d%3d&countrycode=US&currencycode=USD", "anchor_text": "621\u20131N5819HW-F"}, {"url": "http://www.mouser.com/ProductDetail/avx/f980j107msa/?qs=YlHR7fkrjk%2fpYfX2RHfdGQ%3d%3d&countrycode=US&currencycode=USD", "anchor_text": "581-F980J107MSA"}, {"url": "http://www.mouser.com/ProductDetail/vishay/si2302cds-t1-e3/?qs=%252bPu8jn5UVnHNrjAmGCs%2fuw%3d%3d&countrycode=US&currencycode=USD", "anchor_text": "781-SI2302CDS-E3"}, {"url": "https://unity.com/", "anchor_text": "Unity3D"}, {"url": "https://medium.com/tag/deep-learning?source=post_page-----8bf3d7c9b4f---------------deep_learning-----------------", "anchor_text": "Deep Learning"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----8bf3d7c9b4f---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/drones?source=post_page-----8bf3d7c9b4f---------------drones-----------------", "anchor_text": "Drones"}, {"url": "https://medium.com/tag/quadcopter?source=post_page-----8bf3d7c9b4f---------------quadcopter-----------------", "anchor_text": "Quadcopter"}, {"url": "https://medium.com/tag/deep-learning-drones?source=post_page-----8bf3d7c9b4f---------------deep_learning_drones-----------------", "anchor_text": "Deep Learning Drones"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8bf3d7c9b4f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-learning-across-mesh-on-the-fly-part-1-the-drones-8bf3d7c9b4f&user=Wezley+Sherman&userId=934642e40dc&source=-----8bf3d7c9b4f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8bf3d7c9b4f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-learning-across-mesh-on-the-fly-part-1-the-drones-8bf3d7c9b4f&user=Wezley+Sherman&userId=934642e40dc&source=-----8bf3d7c9b4f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8bf3d7c9b4f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-learning-across-mesh-on-the-fly-part-1-the-drones-8bf3d7c9b4f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8bf3d7c9b4f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8bf3d7c9b4f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-learning-across-mesh-on-the-fly-part-1-the-drones-8bf3d7c9b4f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8bf3d7c9b4f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8bf3d7c9b4f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8bf3d7c9b4f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8bf3d7c9b4f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8bf3d7c9b4f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8bf3d7c9b4f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8bf3d7c9b4f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8bf3d7c9b4f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8bf3d7c9b4f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dawezdog?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dawezdog?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Wezley Sherman"}, {"url": "https://medium.com/@dawezdog/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "134 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F934642e40dc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-learning-across-mesh-on-the-fly-part-1-the-drones-8bf3d7c9b4f&user=Wezley+Sherman&userId=934642e40dc&source=post_page-934642e40dc--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F934642e40dc%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdeep-learning-across-mesh-on-the-fly-part-1-the-drones-8bf3d7c9b4f&user=Wezley+Sherman&userId=934642e40dc&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}