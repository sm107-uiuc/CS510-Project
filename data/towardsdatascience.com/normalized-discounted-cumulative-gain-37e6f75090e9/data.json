{"url": "https://towardsdatascience.com/normalized-discounted-cumulative-gain-37e6f75090e9", "time": 1683012144.35044, "path": "towardsdatascience.com/normalized-discounted-cumulative-gain-37e6f75090e9/", "webpage": {"metadata": {"title": "Normalized Discounted Cumulative Gain | by Kurtis Pykes | Towards Data Science", "h1": "Normalized Discounted Cumulative Gain", "description": "Do you remember the awkward moment when someone you had a good conversation with forgets your name? In this day and age we have a new standard, an expectation. And when the expectation is not met the\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/c/yandex-personalized-web-search-challenge/overview/evaluation", "anchor_text": "Personalized Web Search Challenge", "paragraph_index": 15}, {"url": "https://www.kaggle.com/c/airbnb-recruiting-new-user-bookings", "anchor_text": "AirBnB New User Booking Challenge", "paragraph_index": 15}, {"url": "https://www.kaggle.com/c/expedia-personalized-sort/overview/evaluation", "anchor_text": "Personalize Expedia Hotel Searches \u2014 ICDM 2013", "paragraph_index": 15}], "all_paragraphs": ["Do you remember the awkward moment when someone you had a good conversation with forgets your name? In this day and age we have a new standard, an expectation. And when the expectation is not met the feeling is not far off being asked \u201cwhere do I know you from again?\u201d by some the lady/guy you spent the whole evening with at the pub last week, awkward! \u2014 well I don\u2019t actually go to the pub but you get my gist. We are in the era of personalization and personalized content is popping up everywhere \u2014 Netflix, Youtube, Amazon, etc. The user demands personalized content, and businesses seek to meet the demands of the users.", "In the recent years, many businesses have been employing Machine Learning to develop effective recommender systems to assist in personalizing the users experience. As with all things in life, this feat comes with its challenges. Evaluating the impact of a recommender engine is a major challenge in the development stages, or enhancement stages of a recommender engine. Although we may be sure of the positive impact caused by a recommender system, there\u2019s a much required need to quantify this impact in order to effectively communicate to stakeholders or for when we want to enhance our system in the future.", "After a long-winded introduction, I hereby present to you\u2026 Normalized Discounted Cumulative Gain (NDCG).", "A measure of ranking quality that is often used to measure effectiveness of web search engine algorithms or related applications.", "If we are to understand the NDCG metric accordingly we must first understand CG (Cumulative Gain) and DCG (Discounted Cumulative Gain), as well as understanding the two assumptions that we make when we use DCG and its related measures:", "If every recommendation has a graded relevance score associated with it, CG is the sum of graded relevance values of all results in a search result list \u2014 see Figure 1 for how we can express this mathematically.", "The Cumulative Gain at a particular rank position p, where the rel_i is the graded relevance of the result at position i. To demonstrate this in Python we must first let the variable setA be the graded relevance scores of a response to a search query, thereby each graded relevance score is associated with a document.", "The problem with CG is that it does not take into consideration the rank of the result set when determining the usefulness of a result set. In other words, if we was to reorder the graded relevance scores returned in setA we will not get a better insight into the usefulness of the result set since the CG will be unchanged. See the code cell below for an example.", "setB is clearly returning a much more useful set than setA, but the CG measure says that they are returning equally as good results.", "To overcome this we introduce DCG. DCG penalizes highly relevant documents that appear lower in the search by reducing the graded relevance value logarithimically proportional to the position of the result \u2014 see Figure 2.", "Below we have created a function called discountedCumulativeGain to calculate DCG for setA and setB. If this is an effective measurement, setB should have a higher DCG than setA since its results are more useful.", "The DCG of setB is higher than setA which aligns with our intuition that setB returned more useful results than setA.", "An issue arises with DCG when we want to compare the search engines performance from one query to the next because search results list can vary in length depending on the query that has been provided. Hence, by normalizing the cumulative gain at each position for a chosen value of p across queries we arrive at NDCG. We perform this by sorting all the relevant documents in the corpus by their relative relevance producing the max possible DCG through position p (a.k.a Ideal Discounted Cumulative Gain) - see Figure 3.", "To perform this metric in python we created the function normalizedDiscountedCumulativeGain to assist with this functionality.", "The ratios will always be in the range of [0, 1] with 1 being a perfect score \u2014 meaning that the DCG is the same as the IDCG. Therefore, the NDCG values can be averaged for all queries to obtain a measure of the average performance of a recommender systems ranking algorithm.", "The main difficulty that we face when using NDCG is that often times we don\u2019t know the ideal ordering of results when only partial relevance feedback is available. However, the NDCG has proven to be an effect metric to evaluate ranking quality for various problems, for example the Personalized Web Search Challenge, AirBnB New User Booking Challenge, and Personalize Expedia Hotel Searches \u2014 ICDM 2013 to name a few.", "Thank you for reading to the end of this post. If you\u2019d like to get in contact with me, I am most accessible on LinkedIn.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F37e6f75090e9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnormalized-discounted-cumulative-gain-37e6f75090e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnormalized-discounted-cumulative-gain-37e6f75090e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnormalized-discounted-cumulative-gain-37e6f75090e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnormalized-discounted-cumulative-gain-37e6f75090e9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----37e6f75090e9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----37e6f75090e9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://kurtispykes.medium.com/?source=post_page-----37e6f75090e9--------------------------------", "anchor_text": ""}, {"url": "https://kurtispykes.medium.com/?source=post_page-----37e6f75090e9--------------------------------", "anchor_text": "Kurtis Pykes"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5ba760786877&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnormalized-discounted-cumulative-gain-37e6f75090e9&user=Kurtis+Pykes&userId=5ba760786877&source=post_page-5ba760786877----37e6f75090e9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F37e6f75090e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnormalized-discounted-cumulative-gain-37e6f75090e9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F37e6f75090e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnormalized-discounted-cumulative-gain-37e6f75090e9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@gramdaman?utm_source=medium&utm_medium=referral", "anchor_text": "Graham Ruttan"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.kaggle.com/c/yandex-personalized-web-search-challenge/overview/evaluation", "anchor_text": "Personalized Web Search Challenge"}, {"url": "https://www.kaggle.com/c/airbnb-recruiting-new-user-bookings", "anchor_text": "AirBnB New User Booking Challenge"}, {"url": "https://www.kaggle.com/c/expedia-personalized-sort/overview/evaluation", "anchor_text": "Personalize Expedia Hotel Searches \u2014 ICDM 2013"}, {"url": "https://www.linkedin.com/in/kurtispykes/", "anchor_text": "Kurtis Pykes - AI Writer - Towards Data Science | LinkedInView Kurtis Pykes' profile on LinkedIn, the world's largest professional community. Kurtis has 1 job listed on their\u2026www.linkedin.com"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----37e6f75090e9---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----37e6f75090e9---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----37e6f75090e9---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/deep-learning?source=post_page-----37e6f75090e9---------------deep_learning-----------------", "anchor_text": "Deep Learning"}, {"url": "https://medium.com/tag/recommendation-system?source=post_page-----37e6f75090e9---------------recommendation_system-----------------", "anchor_text": "Recommendation System"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F37e6f75090e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnormalized-discounted-cumulative-gain-37e6f75090e9&user=Kurtis+Pykes&userId=5ba760786877&source=-----37e6f75090e9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F37e6f75090e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnormalized-discounted-cumulative-gain-37e6f75090e9&user=Kurtis+Pykes&userId=5ba760786877&source=-----37e6f75090e9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F37e6f75090e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnormalized-discounted-cumulative-gain-37e6f75090e9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----37e6f75090e9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F37e6f75090e9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnormalized-discounted-cumulative-gain-37e6f75090e9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----37e6f75090e9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----37e6f75090e9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----37e6f75090e9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----37e6f75090e9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----37e6f75090e9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----37e6f75090e9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----37e6f75090e9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----37e6f75090e9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----37e6f75090e9--------------------------------", "anchor_text": ""}, {"url": "https://kurtispykes.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://kurtispykes.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kurtis Pykes"}, {"url": "https://kurtispykes.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "9.3K Followers"}, {"url": "https://www.fullstackfreelancershub.com/wisdom-wednesday", "anchor_text": "https://www.fullstackfreelancershub.com/wisdom-wednesday"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5ba760786877&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnormalized-discounted-cumulative-gain-37e6f75090e9&user=Kurtis+Pykes&userId=5ba760786877&source=post_page-5ba760786877--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ffde3d752d24c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnormalized-discounted-cumulative-gain-37e6f75090e9&newsletterV3=5ba760786877&newsletterV3Id=fde3d752d24c&user=Kurtis+Pykes&userId=5ba760786877&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}