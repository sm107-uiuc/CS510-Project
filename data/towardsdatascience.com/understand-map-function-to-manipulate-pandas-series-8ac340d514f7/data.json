{"url": "https://towardsdatascience.com/understand-map-function-to-manipulate-pandas-series-8ac340d514f7", "time": 1683006004.150192, "path": "towardsdatascience.com/understand-map-function-to-manipulate-pandas-series-8ac340d514f7/", "webpage": {"metadata": {"title": "Understand map() function to manipulate pandas Series | by Yong Cui | Towards Data Science", "h1": "Understand map() function to manipulate pandas Series", "description": "When we work with real-world data, the datasets are rarely or probably never in the exact format ready for our analytic purposes. Thus, an essential step in the data processing phase is to convert\u2026"}, "outgoing_paragraph_urls": [{"url": "https://levelup.gitconnected.com/dictionary-data-types-in-python-more-than-just-dict-a9ff84d38738", "anchor_text": "previous article", "paragraph_index": 18}, {"url": "https://github.com/ycui1/medium_series_map.git", "anchor_text": "GitHub", "paragraph_index": 20}, {"url": "https://www.manning.com/books/python-how-to", "anchor_text": "https://www.manning.com/books/python-how-to", "paragraph_index": 23}], "all_paragraphs": ["When we work with real-world data, the datasets are rarely or probably never in the exact format ready for our analytic purposes. Thus, an essential step in the data processing phase is to convert the data from the raw undesirable format to an analysis-friendly format.", "Besides handling missing data and outliers, another crucial data conversion procedure is data mapping. Originally as a mathematic concept, mapping is the process of creating a new set of values from an existing set of values, usually on a one-to-one basis. As one of the most popular Python libraries for data science research, the pandas library provides us with the map() function to manipulate the Series data. Once you have a good understanding of the map() function, we can move on to the study of the other more powerful data manipulation function apply() in a later article.", "In pandas, a Series is a one-dimensional array-like object containing a sequence of values. Each of these values is associated with a label, which is called index. We can create a Series by passing in an array-like object (e.g., list) or a dictionary. Some common examples are shown below.", "In the above diagram, we first created a Series using a list. If we don\u2019t set the optionalindex argument, the Series will use the default integer index starting from 0. The name argument is also optional. When it\u2019s specified, it becomes the name of the Series.", "We also created a Series using a dictionary, whose values form the values of the Series. The keys automatically become the index of the Series.", "The map() function has the following syntax: Series.map(self, arg, na_action=None). As you can see, the caller of this function is a pandas Series, and we can say the map() function is an instance method for a Series object. To know more about the self argument in the function, you can refer to my previous article.", "The na_action argument is to specify how we deal with the NaN values. The default option for this argument is None, using which the NA values in the original data will be passed to the mapping function (i.e., the arg argument). The other option for this argument is \u2018ignore\u2019, using which no actions will be performed on the NA values in the original data.", "The following example shows the difference between these two options on how they handle the last data point (i.e., an NA value) in the Series. When the na_action is \u2018ignore\u2019, the mapping function doesn\u2019t try to do anything with the NA value and set the mapped value as NaN. By contrast, when the na_action is None, the mapping function will use the NA value (i.e., nan) to create the mapped value (i.e., Number: nan).", "The fun part of the map() function is mostly about how we can paly with the arg argument. Specifically, the arg argument gives the instruction to the function on how to map the existing data to the new data. This argument can be set either as a function or as a dictionary. Let\u2019s see how each works.", "Actually, in the above example about the na_action option, you saw that we used a lambda function to map the data. If you don\u2019t know what a Python lambda function is, please refer to my previous article on this topic.", "Briefly, lambda functions are known as anonymous functions and their basic syntax is lambda arguments: expression. Specifically, the declaration is signaled by the lambda keyword, followed by the list of arguments (0 or more), and the expression specifying what operations are to be performed on these arguments.", "To give you a more practical use case about lambda functions, let\u2019s consider the following example. In real-life data, we may have percentage data expressed as strings. We can write a lambda function to convert the string data to numeric data, a more analysis-friendly format.", "In the example above, we take the value of the original data and use the slicing technique to get a substring. The relevant knowledge point is that the last character in a string has an index of -1. So the expression x[:-1] will create a string from the original string\u2019s start to the last character (non-inclusive).", "Besides the use of lambda functions, we can also use built-in or custom-defined functions. These functions need to be capable of mapping each of the data points in the Series, otherwise, an error will occur.", "In the diagram above, we first created a Series that consists of a list of names. The first task is to create the initials for these people. To do that, we write a function called initials(). This function takes in the value of the Series. We use the list comprehension technique that creates a list of the initials from each name and join these letters to create the final output as the mapped value. As you can see, after mapping, the new Series has all people\u2019s initials.", "Besides using the custom functions, we can also use some built-in functions to generate a new Series. For example, in the code above, we can simply use the len() function, which will calculate the length of the names (spaces are included) in the new Series.", "In most cases, we should be able to set a function as above to the arg argument to fulfill our needs. However, we can also use a dictionary as the mapping function, although we don\u2019t use it very frequently. Here\u2019s a trivial example of this usage.", "As shown above, we created a Series with integers from 0 to 4. We then created a dictionary that has keys from 1 to 4, and this dictionary was used as the arg argument for the map() function call.", "One thing to note is that if the values are not found in the dictionary, the mapped values will be NaN. However, we can use the defaultdict data type instead of the dict data type (for more information on the defaultdict, please refer to my previous article). In this case, the NaN values will be replaced with the default values generated from the defaultdict object. See the following example for this feature.", "Data manipulation is an essential step in pre-processing our data. Pandas Series can be viewed as the building block for the more flexible and powerful DataFrame objects. Thus, understanding the use of map() function can facilitate your manipulation of DataFrame data, for which, we can have more discussions later.", "Thanks for reading. The Notebook used for this tutorial can be found on the GitHub.", "I write blogs about Python and data processing and analysis. Just in case you\u2019ve missed some of my earlier blogs. Here are the links to a few articles that are relevant to the current article.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Work at the nexus of biomedicine, data science & mobile dev. Author of Python How-to by Manning (https://www.manning.com/books/python-how-to)."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8ac340d514f7&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstand-map-function-to-manipulate-pandas-series-8ac340d514f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstand-map-function-to-manipulate-pandas-series-8ac340d514f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstand-map-function-to-manipulate-pandas-series-8ac340d514f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstand-map-function-to-manipulate-pandas-series-8ac340d514f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8ac340d514f7--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8ac340d514f7--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://yongcui01.medium.com/?source=post_page-----8ac340d514f7--------------------------------", "anchor_text": ""}, {"url": "https://yongcui01.medium.com/?source=post_page-----8ac340d514f7--------------------------------", "anchor_text": "Yong Cui"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F88ff1e2545d0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstand-map-function-to-manipulate-pandas-series-8ac340d514f7&user=Yong+Cui&userId=88ff1e2545d0&source=post_page-88ff1e2545d0----8ac340d514f7---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8ac340d514f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstand-map-function-to-manipulate-pandas-series-8ac340d514f7&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8ac340d514f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstand-map-function-to-manipulate-pandas-series-8ac340d514f7&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@emilymorter?utm_source=medium&utm_medium=referral", "anchor_text": "Emily Morter"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://medium.com/better-programming/unlock-the-4-mysteries-of-self-in-python-d1913fbb8e16", "anchor_text": "Unlock the 4 Mysteries of self in PythonUsing self in Pythonmedium.com"}, {"url": "https://medium.com/better-programming/the-top-4-misuses-of-lambdas-in-python-e419f426b74f", "anchor_text": "The Top 4 Misuses of Lambdas in PythonBest practices for using Python lambdasmedium.com"}, {"url": "https://levelup.gitconnected.com/dictionary-data-types-in-python-more-than-just-dict-a9ff84d38738", "anchor_text": "previous article"}, {"url": "https://github.com/ycui1/medium_series_map.git", "anchor_text": "GitHub"}, {"url": "https://medium.com/better-programming/30-simple-tricks-to-level-up-your-python-coding-5b625c15b79a", "anchor_text": "30 Simple Tricks to Level Up Your Python CodingBetter Pythonmedium.com"}, {"url": "https://medium.com/better-programming/9-things-to-know-to-master-list-comprehensions-in-python-8bc0411ec2ed", "anchor_text": "9 Things to Know to Master List Comprehensions in PythonThis tutorial will help you learn the most common usages of list comprehensions in Pythonmedium.com"}, {"url": "https://towardsdatascience.com/3-simple-reasons-why-you-should-first-visualize-data-before-doing-anything-else-63ec05d86d9", "anchor_text": "3 Simple Reasons Why You Should First Visualize Data Before Doing Anything Else90% of the information processed by our brain is visual, and our brain processes visuals thousands of times faster than\u2026towardsdatascience.com"}, {"url": "https://medium.com/tag/technology?source=post_page-----8ac340d514f7---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----8ac340d514f7---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/programming?source=post_page-----8ac340d514f7---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/python?source=post_page-----8ac340d514f7---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----8ac340d514f7---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8ac340d514f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstand-map-function-to-manipulate-pandas-series-8ac340d514f7&user=Yong+Cui&userId=88ff1e2545d0&source=-----8ac340d514f7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8ac340d514f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstand-map-function-to-manipulate-pandas-series-8ac340d514f7&user=Yong+Cui&userId=88ff1e2545d0&source=-----8ac340d514f7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8ac340d514f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstand-map-function-to-manipulate-pandas-series-8ac340d514f7&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8ac340d514f7--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8ac340d514f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstand-map-function-to-manipulate-pandas-series-8ac340d514f7&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8ac340d514f7---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8ac340d514f7--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8ac340d514f7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8ac340d514f7--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8ac340d514f7--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8ac340d514f7--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8ac340d514f7--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8ac340d514f7--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8ac340d514f7--------------------------------", "anchor_text": ""}, {"url": "https://yongcui01.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://yongcui01.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Yong Cui"}, {"url": "https://yongcui01.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "5.5K Followers"}, {"url": "https://www.manning.com/books/python-how-to", "anchor_text": "https://www.manning.com/books/python-how-to"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F88ff1e2545d0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstand-map-function-to-manipulate-pandas-series-8ac340d514f7&user=Yong+Cui&userId=88ff1e2545d0&source=post_page-88ff1e2545d0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fef441bd78519&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstand-map-function-to-manipulate-pandas-series-8ac340d514f7&newsletterV3=88ff1e2545d0&newsletterV3Id=ef441bd78519&user=Yong+Cui&userId=88ff1e2545d0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://www.manning.com/books/python-how-to", "anchor_text": "Python How-To2023"}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}