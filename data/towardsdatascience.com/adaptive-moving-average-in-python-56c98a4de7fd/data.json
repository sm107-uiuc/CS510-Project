{"url": "https://towardsdatascience.com/adaptive-moving-average-in-python-56c98a4de7fd", "time": 1683015986.0800881, "path": "towardsdatascience.com/adaptive-moving-average-in-python-56c98a4de7fd/", "webpage": {"metadata": {"title": "Adaptive Moving Average in Python. | by Sofien Kaabar, CFA | Towards Data Science", "h1": "Adaptive Moving Average in Python.", "description": "Note from Towards Data Science\u2019s editors: While we allow independent authors to publish articles in accordance with our rules and guidelines, we do not endorse each author\u2019s contribution. You should\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms", "paragraph_index": 0}], "all_paragraphs": ["Note from Towards Data Science\u2019s editors: While we allow independent authors to publish articles in accordance with our rules and guidelines, we do not endorse each author\u2019s contribution. You should not rely on an author\u2019s works without seeking professional advice. See our Reader Terms for details.", "Moving averages are one of the simplest and most effective tools in detecting changes in trend. They are also used in creating trading strategies based on crossovers. Pretty much every trader uses them and includes them in her decision-making process. In this article, we will skim through the basic known moving averages and then present the slightly more complex Kaufman Adapative Moving Average \u2014 KAMA.", "I have just published a new book after the success of New Technical Indicators in Python. It features a more complete description and addition of complex trading strategies with a Github page dedicated to the continuously updated code. If you feel that this interests you, feel free to visit the below link, or if you prefer to buy the PDF version, you could contact me on Linkedin.", "The three most common moving averages are:", "We will go through each one, define it, code it, and chart it before we move on to the KAMA.", "As the name suggests, this is your plain simple average that is used everywhere in statistics and basically any other part in our lives. It is simply the total values of the observations divided by the number of observations. Mathematically speaking, it can be written down as:", "In python, we can define a function that calculates moving averages as follows:", "The function takes your data structure represented by the Data variable, the moving average period (20, 60, 200, etc.) represented by the period variable, what do you want to apply it on (on OHLC data structures, choose 3 for close prices because python indexing starts at zero) represented by the onwhat variable, and the where variable is where do you want the moving average column to appear. Note that you must have an array of more than 4 columns for this to work, because it doesn\u2019t automatically create a new column, but simply populate it.", "As opposed to the simple moving average that gives equal weights to all observations, the exponential moving average gives more weight to the more recent observations. It reacts more than the simple moving average with regards to recent movements. Mathematically speaking, it can be written down as:", "The smoothing factor is often 2. Note, that if we increase the smoothing factor (also known as alpha) then, the more recent observations will have more weight. In python language, we can define a function that calculates the EMA as follows:", "The function is self-explanatory as it merely reproduces the EMA function presented above.", "If you are also interested by more technical indicators and using Python to create strategies, then my best-selling book on Technical Indicators may interest you:", "This moving average takes into account the general picture and is less impacted by recent movements. It\u2019s my favourite trend-following indicator. Mathematically speaking, it can be found by simply multiplying the Days variable in the EMA function by 2 and subtract 1. This means that to transform an exponential moving average into a smoothed one, we follow this equation in python language, that transforms the exponential moving average into a smoothed one:", "The KAMA has been created to reduce the noise and whipsaw effects. It works the same as other moving averages do and follows the same intuition. The generation of false trading signals is one of the problems with moving averages and this is due to short-term sudden fluctuations that bias the calculation. The KAMA\u2019s primary objective is to reduce as much noise as possible.", "The first concept we should measure is the Efficiency Ratio which is the absolute change of the current close relative to the change in the past 10 periods divided by a type of volatility calculated in a special manner. We can say that the Efficiency Ratio is the change divided by volatility.", "Then we calculate a smoothing constant based on the following formula:", "Finally, to calculate the KAMA we use the below formula:", "The calculation may seem complicated but it is easily automated and you do not have to think about it much. Let us see how to code it in Python and then proceed by seeing some examples.", "The below chart illustrates what the above function can give us. Notice the more stable tendency of the KAMA relative to other moving averages. It is an improvement with regards to whipsaws and false breaks.", "The KAMA can also be used to detect the start of new trends. For instance, we can plot a long-term KAMA with a short-term KAMA and trade on their crossovers. If the default settings are 10-period, we can try a 30-period KAMA and see what it gives us.", "Using the above chart, we can say that when the two KAMA\u2019s are flat, the market is ranging and when a trend starts, we should follow their respective crossover such as that when the 30-period KAMA is above the 10-period KAMA, a bearish trend is in progress until a crossover happens. This in turn can be a valuable signal to us. If you are interested in trend-following strategies, you can check out the below article:", "Now, let us plot a simple moving average and compare it to a same period KAMA. Visibly, the latter provides a better and more accurate picture of what is going on and that is because it takes volatility into account . Now I am not saying you should replace the simple moving average with the KAMA but it may seem like a good idea to include it in the framework.", "Being a fan of adaptive and exponential moving averages, I encourage you to experiment with this technique. KAMA provides valuable support and resistance levels that can be used to complement your trading system. It is not meant to be used as a sole contributor to generate trading signals but it is valuable in confirming them.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Top writer in Finance, Investing, Business | Trader & Author"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F56c98a4de7fd&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadaptive-moving-average-in-python-56c98a4de7fd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadaptive-moving-average-in-python-56c98a4de7fd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadaptive-moving-average-in-python-56c98a4de7fd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadaptive-moving-average-in-python-56c98a4de7fd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----56c98a4de7fd--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----56c98a4de7fd--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://kaabar-sofien.medium.com/?source=post_page-----56c98a4de7fd--------------------------------", "anchor_text": ""}, {"url": "https://kaabar-sofien.medium.com/?source=post_page-----56c98a4de7fd--------------------------------", "anchor_text": "Sofien Kaabar, CFA"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F38cf8a3c1a81&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadaptive-moving-average-in-python-56c98a4de7fd&user=Sofien+Kaabar%2C+CFA&userId=38cf8a3c1a81&source=post_page-38cf8a3c1a81----56c98a4de7fd---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F56c98a4de7fd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadaptive-moving-average-in-python-56c98a4de7fd&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F56c98a4de7fd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadaptive-moving-average-in-python-56c98a4de7fd&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines"}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms"}, {"url": "https://www.amazon.com/gp/product/B09919GQ22/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B09919GQ22&linkCode=as2&tag=sofien-20&linkId=bc5df3f6ab0f3af2df79641c56b949ba", "anchor_text": "The Book of Trading StrategiesAmazon.com: The Book of Trading Strategies: 9798532885707: Kaabar, Sofien: Bookswww.amazon.com"}, {"url": "https://www.amazon.com/gp/product/B08WZL1PNL/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B08WZL1PNL&linkCode=as2&tag=sofien-20&linkId=e3cb9716bb6a07cf6c8b9fb585412b07", "anchor_text": "New Technical Indicators in PythonAmazon.com: New Technical Indicators in Python: 9798711128861: Kaabar, Mr Sofien: Bookswww.amazon.com"}, {"url": "https://medium.com/swlh/the-supertrend-indicator-in-python-coding-and-back-testing-its-strategy-e37d631c33f", "anchor_text": "The SuperTrend Indicator in Python \u2014 Coding and Back-Testing Its StrategyHow to code it, back-test it, and evaluate it on FX Trading.medium.com"}, {"url": "https://unsplash.com/@bash__profile?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "NICHOLAS CAPPELLO"}, {"url": "https://unsplash.com/s/photos/trading?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/finance?source=post_page-----56c98a4de7fd---------------finance-----------------", "anchor_text": "Finance"}, {"url": "https://medium.com/tag/data-science?source=post_page-----56c98a4de7fd---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----56c98a4de7fd---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/trading?source=post_page-----56c98a4de7fd---------------trading-----------------", "anchor_text": "Trading"}, {"url": "https://medium.com/tag/investing?source=post_page-----56c98a4de7fd---------------investing-----------------", "anchor_text": "Investing"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F56c98a4de7fd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadaptive-moving-average-in-python-56c98a4de7fd&user=Sofien+Kaabar%2C+CFA&userId=38cf8a3c1a81&source=-----56c98a4de7fd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F56c98a4de7fd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadaptive-moving-average-in-python-56c98a4de7fd&user=Sofien+Kaabar%2C+CFA&userId=38cf8a3c1a81&source=-----56c98a4de7fd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F56c98a4de7fd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadaptive-moving-average-in-python-56c98a4de7fd&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----56c98a4de7fd--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F56c98a4de7fd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadaptive-moving-average-in-python-56c98a4de7fd&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----56c98a4de7fd---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----56c98a4de7fd--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----56c98a4de7fd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----56c98a4de7fd--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----56c98a4de7fd--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----56c98a4de7fd--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----56c98a4de7fd--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----56c98a4de7fd--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----56c98a4de7fd--------------------------------", "anchor_text": ""}, {"url": "https://kaabar-sofien.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://kaabar-sofien.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sofien Kaabar, CFA"}, {"url": "https://kaabar-sofien.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "12.4K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F38cf8a3c1a81&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadaptive-moving-average-in-python-56c98a4de7fd&user=Sofien+Kaabar%2C+CFA&userId=38cf8a3c1a81&source=post_page-38cf8a3c1a81--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F369c97b6a708&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadaptive-moving-average-in-python-56c98a4de7fd&newsletterV3=38cf8a3c1a81&newsletterV3Id=369c97b6a708&user=Sofien+Kaabar%2C+CFA&userId=38cf8a3c1a81&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://amzn.to/3CUNmLR", "anchor_text": "Mastering Financial Pattern Recognition: Finding and Back-Testing Candlestick Patterns with Python2023"}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}