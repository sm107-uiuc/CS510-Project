{"url": "https://towardsdatascience.com/how-to-docker-for-your-computer-science-research-project-the-minimal-guide-for-using-docker-2ecd3e9280ac", "time": 1683013160.9865549, "path": "towardsdatascience.com/how-to-docker-for-your-computer-science-research-project-the-minimal-guide-for-using-docker-2ecd3e9280ac/", "webpage": {"metadata": {"title": "How to \u201cDocker\u201d for your computer science research project? | by KamWoh Ng | Towards Data Science", "h1": "How to \u201cDocker\u201d for your computer science research project?", "description": "This post is about the minimal guide for using docker in any computer science research project."}, "outgoing_paragraph_urls": [{"url": "https://phoenixnap.com/kb/how-to-install-docker-on-ubuntu-18-04", "anchor_text": "https://phoenixnap.com/kb/how-to-install-docker-on-ubuntu-18-04", "paragraph_index": 4}, {"url": "https://hub.docker.com/r/pytorch/pytorch", "anchor_text": "https://hub.docker.com/r/pytorch/pytorch", "paragraph_index": 11}, {"url": "http://kamwoh.github.io", "anchor_text": "kamwoh.github.io", "paragraph_index": 37}], "all_paragraphs": ["When everyone is discussing dockers, talking about how good it is to dockerize your project, because it is like an isolated environment, people can just run your docker image without setting up dependencies.", "I am currently working on deep learning research and my boss asked me to put my research project into a docker. So it took me some time to understand what is docker and how to use it with minimal understanding.", "It is a minimal understanding, therefore it might not be the correct way to use docker, but I found out it suits my usage as a researcher so I decided to share it!", "I am explaining it by my experience, not from the definition of Google. If you know what is a virtual machine, it is like an emulator of another computer (e.g. ubuntu) in your current computer. Docker is like a similar one, just that it is a faster and better virtual machine (deep inside is quite different and complicated). It is an isolated environment, a new computer!", "This website has very clear instructions on installing docker in your ubuntu https://phoenixnap.com/kb/how-to-install-docker-on-ubuntu-18-04. After you installed it, try running \u201cdocker --version\u201d and you have installed successfully if outputs are shown!", "The reason I use docker for all my projects is that I don\u2019t need to setup CUDA stuff in a new computer (as you know, CUDA stuff very complicated, I messed up my ubuntu a few times). Of course, some times I am lazy to install dependencies, docker is best for me!", "If you are messing with Deep Learning now, most probably you will use either PyTorch or Tensorflow.", "Without docker, you may need to install Anaconda3, python3, new ubuntu, setting up CUDA, pip install, conda install. But with docker, want you need to do is just two commands.", "docker pull pytorch/pytorch:latest # will be downloading the \u201cimage\u201d, or you can get it as it is installing the environmentdocker run -it --rm --gpus all pytorch/pytorch bash", "If you face \u201cpermission error\u201d, just run with sudo, because I have set up running docker without sudo.", "Now you have entered the \u201cvirtual machine\u201d (it is called \u201ccontainer\u201d, whenever I talked about \u201ccontainer\u201d, it means I am talking about this \u201cvirtual machine\u201d), notice that you are \u201croot\u201d in this container, later I will talk about how to get rid of \u201croot\u201d.", "You can refer to pytorch repository in Dockerhub for other versions of pytorch: https://hub.docker.com/r/pytorch/pytorch", "If you want tensorflow version (or maybe specific library version), just try Google \u201cdockerhub tensorflow\u201d or \u201cdocker pull tensorflow\u201d, or search it in Dockerhub.", "If you wonder what is that -it and --rm, \u201c-i\u201d is interactive, \u201c-t\u201d is TTY (something like displaying the real-time standard output, you may check the docker documentation for the actual meaning), \u201c--rm\u201d is that it will remove the \u201ccontainer\u201d after you exit the docker (like deleting your virtual machine from storage, you can run without this command if you have already familiar with docker).", "Latest docker is quite convenient that you don\u2019t have to set up Nvidia stuff. \u201c--gpus all\u201d is telling docker that you want to map ALL GPU devices to this container. You may run with \u201c--gpus \\\u201cdevice=0,1\\\u201d if you just want to map GPU 0 and GPU 1 into this container, noticed that I used \\\u201d \\\u201d is because it is the docker syntax for the individual device.", "For each folder that you want to \u201cmount\u201d into the container, you need to put a \u201c-v\u201d and \u201c/pathA:/pathB\u201d in the command like above. Then your folder \u201c/A\u201d will be mounted (or mapped) into \u201c/B\u201d in container", "As you can see from above, the original folder path is \u201c/data/Projects\u2026\u201d, then I mounted it into the container with the command \u201c-v\u201d. In the container, my mounted folder is in \u201c/workspace/DeepIPR\u201d. Note: all your files created in the mounted folder, will be appeared in the original folder.", "Before I knowing this command, I usually just run the docker, mapping my folder into container\u2019s folder like below", "It is okay if you don\u2019t run with \u201c-u\u201d, but your new folder created by container in /path/to/my/code will become \u201croot\u201d access. After doing this step, your new folder created in the folder that is mounted in container will become your own username again. You will see \u201cI have no name\u201d, but it is okay, it won\u2019t affect any usage, just ignore it because we didn\u2019t set up the docker properly (more advance part)", "My DevOps friend told me that my way of using docker is not right, using \u201cbash\u201d command is a bit ugly (all programmers love the elegant way of handling their code).", "After arguments after that image name, are commands that will be run in the container. So you can run like this", "If you need to install an extra package that your original docker image doesn\u2019t have.", "For example, the PyTorch image that you have pulled doesn\u2019t contain \u201cjupyter notebook\u201d. You can create your own Dockerfile. (you will notice some github projects that is \u201cdockerized\u201d have a file named \u201cDockerfile\u201d)", "This Dockerfile is basically like a setup script to set up your image (image is like ISO file, container is like the content we run with the ISO file). Like how you set up your new ubuntu environment.", "Remember to save your file as \u201cDockerfile\u201d!!", "FROM xxxxx, it is the base image you want to build on top of.", "RUN xxxxx, it is running the command during the image building. For apt-get, you must be careful of it, if you want to have apt-get update before installing other packages, you must run with & like what I shown above, or else the docker will skip it for the second time you build with this Dockerfile.", "ENV xxxxx, it is to setup environment varibles", "WORKDIR xxxxx, you would notice that whenever I enter the container, I am in \u201c/workspace\u201d, this is what WORKDIR for. Setting a default location for you.", "You will feel weird that why am I setting chmod 777 for jupyter, it was the permission bug I facing, hoping this trick can help to solve your problem if you face it. (not elegant way of course)", "And you can build your own docker with your own name.", "DOCKER_BUILDKIT=1 docker build --tag imagename .", "\u201cDOCKER_BUILDKIT=1\u201d makes the docker building the image in a faster way (probably something about caching stuff), argument after the \u201c--tag\u201d is the image name, and don\u2019t forget that dot \u201c.\u201d, indicating \u201cDockerfile\u201d in current directory.", "After building your own image, you can check it with \u201cdocker images\u201d", "In this post, I am actually skipping a lot of useful docker shortcut as well, but I think those are quite complicated in this post (at least it was complicated for me when the first time I used docker). You might feel setting up docker troublesome, but trust me, the troublesome only once. Docker is quite convenient because you don\u2019t need to set up again on a new computer. In case you really need to know more about docker or real elegant way of using ocker, you should Google about some docker cheatsheet or whatever. This post is about the minimal understanding of docker usage. Thanks for reading!!", "I think after this post, you should have an intuitive understanding, reading below cheat sheets shouldn\u2019t be a problem for you anymore!!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I am a PhD student in Computer Vision at University of Surrey. See kamwoh.github.io"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F2ecd3e9280ac&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-docker-for-your-computer-science-research-project-the-minimal-guide-for-using-docker-2ecd3e9280ac&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-docker-for-your-computer-science-research-project-the-minimal-guide-for-using-docker-2ecd3e9280ac&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-docker-for-your-computer-science-research-project-the-minimal-guide-for-using-docker-2ecd3e9280ac&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-docker-for-your-computer-science-research-project-the-minimal-guide-for-using-docker-2ecd3e9280ac&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----2ecd3e9280ac--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2ecd3e9280ac--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://kamwohng.medium.com/?source=post_page-----2ecd3e9280ac--------------------------------", "anchor_text": ""}, {"url": "https://kamwohng.medium.com/?source=post_page-----2ecd3e9280ac--------------------------------", "anchor_text": "KamWoh Ng"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd2f8aec55b14&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-docker-for-your-computer-science-research-project-the-minimal-guide-for-using-docker-2ecd3e9280ac&user=KamWoh+Ng&userId=d2f8aec55b14&source=post_page-d2f8aec55b14----2ecd3e9280ac---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2ecd3e9280ac&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-docker-for-your-computer-science-research-project-the-minimal-guide-for-using-docker-2ecd3e9280ac&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2ecd3e9280ac&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-docker-for-your-computer-science-research-project-the-minimal-guide-for-using-docker-2ecd3e9280ac&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://phoenixnap.com/kb/how-to-install-docker-on-ubuntu-18-04", "anchor_text": "https://phoenixnap.com/kb/how-to-install-docker-on-ubuntu-18-04"}, {"url": "https://hub.docker.com/r/pytorch/pytorch", "anchor_text": "https://hub.docker.com/r/pytorch/pytorch"}, {"url": "https://kamwoh.github.io/DeepIPR/", "anchor_text": "https://kamwoh.github.io/DeepIPR/"}, {"url": "https://www.docker.com/sites/default/files/d8/2019-09/docker-cheat-sheet.pdf", "anchor_text": "https://www.docker.com/sites/default/files/d8/2019-09/docker-cheat-sheet.pdf"}, {"url": "https://github.com/wsargent/docker-cheat-sheet", "anchor_text": "https://github.com/wsargent/docker-cheat-sheet"}, {"url": "http://dockerlabs.collabnix.com/docker/cheatsheet/", "anchor_text": "http://dockerlabs.collabnix.com/docker/cheatsheet/"}, {"url": "https://phoenixnap.com/kb/list-of-docker-commands-cheat-sheet", "anchor_text": "https://phoenixnap.com/kb/list-of-docker-commands-cheat-sheet"}, {"url": "https://medium.com/tag/docker?source=post_page-----2ecd3e9280ac---------------docker-----------------", "anchor_text": "Docker"}, {"url": "https://medium.com/tag/research?source=post_page-----2ecd3e9280ac---------------research-----------------", "anchor_text": "Research"}, {"url": "https://medium.com/tag/setup-guide?source=post_page-----2ecd3e9280ac---------------setup_guide-----------------", "anchor_text": "Setup Guide"}, {"url": "https://medium.com/tag/guides-and-tutorials?source=post_page-----2ecd3e9280ac---------------guides_and_tutorials-----------------", "anchor_text": "Guides And Tutorials"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2ecd3e9280ac&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-docker-for-your-computer-science-research-project-the-minimal-guide-for-using-docker-2ecd3e9280ac&user=KamWoh+Ng&userId=d2f8aec55b14&source=-----2ecd3e9280ac---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2ecd3e9280ac&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-docker-for-your-computer-science-research-project-the-minimal-guide-for-using-docker-2ecd3e9280ac&user=KamWoh+Ng&userId=d2f8aec55b14&source=-----2ecd3e9280ac---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2ecd3e9280ac&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-docker-for-your-computer-science-research-project-the-minimal-guide-for-using-docker-2ecd3e9280ac&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2ecd3e9280ac--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F2ecd3e9280ac&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-docker-for-your-computer-science-research-project-the-minimal-guide-for-using-docker-2ecd3e9280ac&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----2ecd3e9280ac---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----2ecd3e9280ac--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----2ecd3e9280ac--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----2ecd3e9280ac--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----2ecd3e9280ac--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----2ecd3e9280ac--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----2ecd3e9280ac--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----2ecd3e9280ac--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----2ecd3e9280ac--------------------------------", "anchor_text": ""}, {"url": "https://kamwohng.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://kamwohng.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "KamWoh Ng"}, {"url": "https://kamwohng.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "178 Followers"}, {"url": "http://kamwoh.github.io", "anchor_text": "kamwoh.github.io"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd2f8aec55b14&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-docker-for-your-computer-science-research-project-the-minimal-guide-for-using-docker-2ecd3e9280ac&user=KamWoh+Ng&userId=d2f8aec55b14&source=post_page-d2f8aec55b14--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd31c8b149066&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-docker-for-your-computer-science-research-project-the-minimal-guide-for-using-docker-2ecd3e9280ac&newsletterV3=d2f8aec55b14&newsletterV3Id=d31c8b149066&user=KamWoh+Ng&userId=d2f8aec55b14&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}