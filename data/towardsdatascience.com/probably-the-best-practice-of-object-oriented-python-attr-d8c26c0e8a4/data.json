{"url": "https://towardsdatascience.com/probably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4", "time": 1683009663.989401, "path": "towardsdatascience.com/probably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4/", "webpage": {"metadata": {"title": "Probably the Best Practice of Object-Oriented Python \u2014 Attr | by Christopher Tao | Towards Data Science", "h1": "Probably the Best Practice of Object-Oriented Python \u2014 Attr", "description": "Python Object-Oriented Programming best practice. Python sub-classing, multi-inheritance, attribute input validation and serialization to dictionary."}, "outgoing_paragraph_urls": [], "all_paragraphs": ["It is known that Python is very flexible that can be written in functional, procedural and object-oriented. Honestly, I rarely write classes in Python unless I have to, just because most of the time I don\u2019t want to over-engineered the problems. For example, it probably does not make too much sense to use object-oriented programming when we use Python to perform some ad-hoc data analysis.", "However, things got changed when I knew the library called \u201cAttrs\u201d. It makes Python be programmed in object-oriented mode even easier (I think Python\u2019s object-oriented programming is already very concise and easy). In this article, I will introduce this library regarding how it can facilitate Pythonic Object-Oriented Programming.", "Like most of the Python libraries, we can simply install attrs using pip.", "Now, let\u2019s code a class in Python without any libraries.", "Please note that I have also instantiated two instances with the same values the attributes.", "When we output the instance, we can only get the name of the class. Also, the two instances with the same values of their attributes will not be considered equal because they are not pointing to the same memory address.", "Then, what attrs can do for us? Let\u2019s do the same thing here.", "Something needs to have a simple explanation I guess. Firstly, the @attrs is the annotation that tells this class is going to be declared with the attrs library. Then, for each attribute, we only need to define them as attrib() and it is not necessary to have a __init__() method. After that, we can simply instantiate the class just like there was an __init__ method.", "Let\u2019s also try output and equal testing.", "Obviously, we have a very meaningful output of the object, as well as we can test the equality between objects.", "You may have a question now. What if there is such an attribute that we don\u2019t want to initialise it during instantiation but probably assign value to it later? Of course, if you still use attrib() as follows, it will not work.", "With attrs, you can achieve this by passing the init argument with False.", "As shown, we don\u2019t have to give the value of skills initially, but we can assign it later on.", "You may also ask how about I want to give default values to the attributes? Yes, with attrs you can do that easily.", "As shown, we give both the attributes default values. Then, the instance without any arguments passed in is exactly the same as the other one that is explicitly initialised with arguments.", "What if we want to have an attribute with an empty collection as a default value? Usually, we don\u2019t want to pass an [] in as an argument, this is one of the famous traps of Python that may cause a lot of unexpected problems. Don\u2019t worry, attrs provides a \u201cfactory\u201d for us.", "As shown, the attribute skills was empty initially, but later on, we can append values to it.", "Now, we want to add some validation to the attributes to make sure that the values we passed in are valid. It is also very easy to implemented using attrs.", "In the above example, we have declared a \u201cStudent\u201d class with the attribute \u201cstudent_id\u201d. Suppose that we want to validate the student id that it must be 6 characters long.", "Note that we need to define a function to do this. The function needs to be annotated as @<attribute_name>.validator. Therefore, in our case, this should be @student_id.validator. Then, we can raise an exception in this validating function as above shown.", "The first instance s1 doesn\u2019t have any problem because its student_id has a length of 6, but the second instance s2 won\u2019t pass because the length is 5, and the exception with a pre-defined error message is correctly displayed.", "In plain Python, we have to use the super() function in the __init__() function to achieve inheritance. This will be super complex when we want a multi-inheritance. attrs makes it extremely easy.", "In the above example, Student inherits from both Person and User. In the Student class, we only need to define its specific attribute student_id, and the other attributes from both Person and User will be automatically inherited directly without any verbose definitions.", "As shown above, the functions are inherited without problems too.", "The attrs library can also help us to easily serialise the instances to dictionaries. After that, you may use that in JSON and do whatever you want to do.", "In this article, I have introduced the library attrs and some of the basic usage. I like this library because it makes Python even simpler and more concise. It is highly recommended to try it out if you haven\u2019t used it before. Hope you will like it, too.", "If you feel my articles are helpful, please consider joining Medium Membership to support me and thousands of other writers! (Click the link above)", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fd8c26c0e8a4&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----d8c26c0e8a4--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d8c26c0e8a4--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://qiuyujx.medium.com/?source=post_page-----d8c26c0e8a4--------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=post_page-----d8c26c0e8a4--------------------------------", "anchor_text": "Christopher Tao"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb8176fabf308&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4&user=Christopher+Tao&userId=b8176fabf308&source=post_page-b8176fabf308----d8c26c0e8a4---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd8c26c0e8a4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd8c26c0e8a4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@codytdavis?utm_source=medium&utm_medium=referral", "anchor_text": "davisco"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.attrs.org/", "anchor_text": "attrsRelease v19.3.0 (). is the Python package that will bring back the joy of writing classes by relieving you from the\u2026www.attrs.org"}, {"url": "https://unsplash.com/@dsmacinnes?utm_source=medium&utm_medium=referral", "anchor_text": "Danielle MacInnes"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "http://twitter.com/attrs", "anchor_text": "@attrs"}, {"url": "https://unsplash.com/@nordwood?utm_source=medium&utm_medium=referral", "anchor_text": "NordWood Themes"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "http://twitter.com/attrs", "anchor_text": "@attrs"}, {"url": "https://unsplash.com/@kellysikkema?utm_source=medium&utm_medium=referral", "anchor_text": "Kelly Sikkema"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "http://twitter.com/attrs", "anchor_text": "@attrs"}, {"url": "http://twitter.com/attrs", "anchor_text": "@attrs"}, {"url": "https://unsplash.com/@markuswinkler?utm_source=medium&utm_medium=referral", "anchor_text": "Markus Winkler"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "http://twitter.com/attrs", "anchor_text": "@attrs"}, {"url": "http://twitter.com/student_id", "anchor_text": "@student_id"}, {"url": "https://pixabay.com/users/Clker-Free-Vector-Images-3736/", "anchor_text": "Clker-Free-Vector-Images"}, {"url": "https://pixabay.com/vectors/diagram-schematic-hierarchy-chart-23676/#", "anchor_text": "Pixabay"}, {"url": "http://twitter.com/attrs", "anchor_text": "@attrs"}, {"url": "http://twitter.com/attrs", "anchor_text": "@attrs"}, {"url": "http://twitter.com/attrs", "anchor_text": "@attrs"}, {"url": "https://pixabay.com/users/libellule789-5876729/", "anchor_text": "libellule789"}, {"url": "https://pixabay.com/photos/girl-english-dictionary-study-2771936/", "anchor_text": "Pixabay"}, {"url": "https://unsplash.com/@joannakosinska?utm_source=medium&utm_medium=referral", "anchor_text": "Joanna Kosinska"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://medium.com/@qiuyujx/membership", "anchor_text": "Join Medium with my referral link \u2014 Christopher TaoAs a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026medium.com"}, {"url": "https://medium.com/tag/python?source=post_page-----d8c26c0e8a4---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/software-development?source=post_page-----d8c26c0e8a4---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/programming?source=post_page-----d8c26c0e8a4---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----d8c26c0e8a4---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/technology?source=post_page-----d8c26c0e8a4---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd8c26c0e8a4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4&user=Christopher+Tao&userId=b8176fabf308&source=-----d8c26c0e8a4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd8c26c0e8a4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4&user=Christopher+Tao&userId=b8176fabf308&source=-----d8c26c0e8a4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd8c26c0e8a4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d8c26c0e8a4--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fd8c26c0e8a4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----d8c26c0e8a4---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----d8c26c0e8a4--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----d8c26c0e8a4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----d8c26c0e8a4--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----d8c26c0e8a4--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----d8c26c0e8a4--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----d8c26c0e8a4--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----d8c26c0e8a4--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----d8c26c0e8a4--------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Christopher Tao"}, {"url": "https://qiuyujx.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "8.7K Followers"}, {"url": "https://www.linkedin.com/in/christopher-tao-5717a274/", "anchor_text": "https://www.linkedin.com/in/christopher-tao-5717a274/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb8176fabf308&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4&user=Christopher+Tao&userId=b8176fabf308&source=post_page-b8176fabf308--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F1d2af94a683f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4&newsletterV3=b8176fabf308&newsletterV3Id=1d2af94a683f&user=Christopher+Tao&userId=b8176fabf308&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}