{"url": "https://towardsdatascience.com/extracting-webpage-information-with-python-for-non-programmer-1ab4be2bb812", "time": 1683007500.742618, "path": "towardsdatascience.com/extracting-webpage-information-with-python-for-non-programmer-1ab4be2bb812/", "webpage": {"metadata": {"title": "Extracting webpage information with Python for non-programmers | by Elye | Towards Data Science", "h1": "Extracting webpage information with Python for non-programmers", "description": "Knowing how to extract data from the webpage using a script is helpful. The easiest way to do so that I found is using Python, with the help of lxml library. The nicest part is, you might not need to\u2026"}, "outgoing_paragraph_urls": [{"url": "https://lxml.de/", "anchor_text": "lxml library", "paragraph_index": 0}, {"url": "https://www.onlinegdb.com/online_python_interpreter", "anchor_text": "Python online compiler", "paragraph_index": 1}, {"url": "https://www.worldometers.info/coronavirus/", "anchor_text": "Wordometer Coronavirus webpage", "paragraph_index": 3}, {"url": "https://gist.github.com/elye/b4197c8db5b0d1380d1f2426fa08add7", "anchor_text": "code script", "paragraph_index": 5}, {"url": "https://www.onlinegdb.com/online_python_interpreter", "anchor_text": "online compiler", "paragraph_index": 5}, {"url": "https://realpython.com/python-requests/", "anchor_text": "request library of Python", "paragraph_index": 12}, {"url": "https://medium.com/@elye.project/", "anchor_text": "here", "paragraph_index": 46}, {"url": "https://medium.com/@elye.project", "anchor_text": "Medium", "paragraph_index": 47}, {"url": "https://twitter.com/elye_project", "anchor_text": "Twitter", "paragraph_index": 47}, {"url": "https://www.facebook.com/elye.project/", "anchor_text": "Facebook", "paragraph_index": 47}, {"url": "https://www.reddit.com/user/elyeproj/", "anchor_text": "Reddit", "paragraph_index": 47}], "all_paragraphs": ["Knowing how to extract data from the webpage using a script is helpful. The easiest way to do so that I found is using Python, with the help of lxml library.", "The nicest part is, you might not need to do it in your machine. You could put your script on the Python online compiler, and you get some data.", "For something simple, we just need a few lines of codes in a single file, then it will do pretty cool things.", "To make learning more relevant, we\u2019ll take the Wordometer Coronavirus webpage as our source.", "If you visit the page, you\u2019ll see something similar to below. I separate the learning into 4 sections, which I called as Exercise each as below.", "I have provided the code script (just 70 lines) whereby copy-paste and running it (in the online compiler), you\u2019ll see the below", "And select each of the numbers to execute it. This should make learning easier.", "All webpage is constructed using HTML.", "Let\u2019s get to the most basic structure of HTML, as that\u2019s the basic pattern we need to recognize to extract the information we need.", "The most basic structure I could provide is as below.", "That\u2019s it! Give a pat to yourself. You have mastered HTML (and also XML) structure \ud83c\udf89", "Before we could extract the HTML information, we need to get our script to read the HTML first. There are 2 ways of doing so.", "We\u2019re using the request library of Python. Don\u2019t worry, that\u2019s as simple as the line below, then it\u2019s done.", "After that, try getting the website content using the code below.", "To be more robust, in case the url is wrong or the website is down, I add the following", "If the request is loaded successfully, then you could get Html content, using the below code, and extract it into a tree.", "The reason it is called a tree because if we draw the tags relationship, they look like one.", "Sometimes this is needed, as some webpages require credentials to log in, and hence to access it from the script would be more complicated as you need to supply the needed credential along the way.", "But since you just need to extract some data from the HTML, you could save it as a .html file and get the script to read from it.", "After that, in your python script, you just need to", "1 Extracting single tag wrap text. Just to recap, for exercise 1, we want to extract the names of the countries as shown below.", "If we check the HTML code for it, we\u2019ll see the below pattern.", "To extract the Spain, we\u2019ll just need to identify a tag that has attribute class of \"mt_a\".", "To extract, we just use xpath function for the tree.", "We\u2019ll get a list of the, where we separate them by a newline (i.e. \"\\n\") and print them out.", "2 Extracting tag and sub-tag wrap text. Just to recap, for exercise 2, we want to extract the population information of each country.", "If we check the HTML code for it, we\u2019ll see the below pattern.", "We cannot capture <a href=\u201d/world-population/spain-population/\u201d> as the href for each country will be different.", "We also cannot capture <td style=\u201dfont-weight: bold; text-align:right\u201d>, as there are a lot of other numbers as shown above (e.g. 2,467,761) that we don\u2019t want.", "Hence the best is to capture <td style=\u201dfont-weight: bold; text-align:right\u201d> that follow by <a> tag.", "To extract, we just use xpath function as well for the tree.", "We\u2019ll get a list of the, where we separate them by a newline (i.e. \"\\n\") and print them out.", "3 Extracting attrib value from a tag. Just to recap, for exercise 3, we want to extract the image URL that the website has.", "In HTML, the images URL store as the src attribute of the img tag.", "To extract it, we first need to extract the img element first, then use a special extraction below i.e. list(map(lambda ...)) to extract each src attribute out i.e. x.attrib.get(\u2018src\u2019).", "The x is a single item of each elements within.", "From this, we can now get", "A little complicated on the list(map(lambda ...)) but it\u2019s an approach that extracts individual items of the elements list.", "4Iterate through each tag to extract the sub-tags. Just to recap, for exercise 4, we want to extract the high-level numbers for each continent", "To be more specific, as we enter one of the continents, the value is as shown below, that\u2019s what we want to extract.", "If we look into the HTML, each of the continents data is grouped with tr that has class attribute of \"total_row_world row_continnet\".", "Let\u2019s extract the \"total_row_world row_continnet\" as sections of information.", "To further extract each item within each section, we create a separate function name extractElements as shown below. We send in x which is each section from the sections.", "Now in the function extractElements, we use findall to extract out all the td tag, and again use the list(map(lambda ...)) to separately extract it\u2019s text.", "To further illustrate how element.findall(\u2018.//td\u2019) work, I use a for-loop to individually print out each extracted", "Having learned all these four ways, you now have the basic essential to explore some website of your interest and extract relevant info for your further processing. \ud83d\udee0", "Thanks for reading. You can check out my other topics here.", "You could follow me on Medium, Twitter, Facebook, or Reddit for little tips and learning on mobile development, medium writing, etc related topics. ~Elye~", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1ab4be2bb812&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fextracting-webpage-information-with-python-for-non-programmer-1ab4be2bb812&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fextracting-webpage-information-with-python-for-non-programmer-1ab4be2bb812&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fextracting-webpage-information-with-python-for-non-programmer-1ab4be2bb812&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fextracting-webpage-information-with-python-for-non-programmer-1ab4be2bb812&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----1ab4be2bb812--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1ab4be2bb812--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://elye-project.medium.com/?source=post_page-----1ab4be2bb812--------------------------------", "anchor_text": ""}, {"url": "https://elye-project.medium.com/?source=post_page-----1ab4be2bb812--------------------------------", "anchor_text": "Elye"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5742b4fcf89e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fextracting-webpage-information-with-python-for-non-programmer-1ab4be2bb812&user=Elye&userId=5742b4fcf89e&source=post_page-5742b4fcf89e----1ab4be2bb812---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1ab4be2bb812&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fextracting-webpage-information-with-python-for-non-programmer-1ab4be2bb812&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1ab4be2bb812&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fextracting-webpage-information-with-python-for-non-programmer-1ab4be2bb812&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@isaacquesada", "anchor_text": "Isaac Quesada"}, {"url": "https://unsplash.com/photos/U0apbBgkOeQ", "anchor_text": "Unsplash"}, {"url": "https://lxml.de/", "anchor_text": "lxml library"}, {"url": "https://www.onlinegdb.com/online_python_interpreter", "anchor_text": "Python online compiler"}, {"url": "https://medium.com/better-marketing/export-personal-medium-partner-program-data-into-excel-spreadsheet-8887cb4d4442", "anchor_text": "How to Analyze Your Medium Partner Program Data in ExcelFind patterns in a simple graphmedium.com"}, {"url": "https://medium.com/better-programming/how-to-find-your-mutual-connections-on-medium-d0c586c04e6f", "anchor_text": "How to Find Your Mutual Connections on MediumWith a Python script and instructions, no coding knowledge requiredmedium.com"}, {"url": "https://www.worldometers.info/coronavirus/", "anchor_text": "Wordometer Coronavirus webpage"}, {"url": "https://gist.github.com/elye/b4197c8db5b0d1380d1f2426fa08add7", "anchor_text": "code script"}, {"url": "https://www.onlinegdb.com/online_python_interpreter", "anchor_text": "online compiler"}, {"url": "https://realpython.com/python-requests/", "anchor_text": "request library of Python"}, {"url": "http://twitter.com/class", "anchor_text": "@class"}, {"url": "http://twitter.com/style", "anchor_text": "@style"}, {"url": "http://twitter.com/class", "anchor_text": "@class"}, {"url": "https://medium.com/@elye.project/", "anchor_text": "here"}, {"url": "https://medium.com/@elye.project", "anchor_text": "Medium"}, {"url": "https://twitter.com/elye_project", "anchor_text": "Twitter"}, {"url": "https://www.facebook.com/elye.project/", "anchor_text": "Facebook"}, {"url": "https://www.reddit.com/user/elyeproj/", "anchor_text": "Reddit"}, {"url": "https://medium.com/tag/programming?source=post_page-----1ab4be2bb812---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/self-improvement?source=post_page-----1ab4be2bb812---------------self_improvement-----------------", "anchor_text": "Self Improvement"}, {"url": "https://medium.com/tag/technology?source=post_page-----1ab4be2bb812---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/python?source=post_page-----1ab4be2bb812---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----1ab4be2bb812---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1ab4be2bb812&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fextracting-webpage-information-with-python-for-non-programmer-1ab4be2bb812&user=Elye&userId=5742b4fcf89e&source=-----1ab4be2bb812---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1ab4be2bb812&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fextracting-webpage-information-with-python-for-non-programmer-1ab4be2bb812&user=Elye&userId=5742b4fcf89e&source=-----1ab4be2bb812---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1ab4be2bb812&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fextracting-webpage-information-with-python-for-non-programmer-1ab4be2bb812&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1ab4be2bb812--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1ab4be2bb812&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fextracting-webpage-information-with-python-for-non-programmer-1ab4be2bb812&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1ab4be2bb812---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1ab4be2bb812--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1ab4be2bb812--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1ab4be2bb812--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1ab4be2bb812--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1ab4be2bb812--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1ab4be2bb812--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1ab4be2bb812--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1ab4be2bb812--------------------------------", "anchor_text": ""}, {"url": "https://elye-project.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://elye-project.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Elye"}, {"url": "https://elye-project.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "58K Followers"}, {"url": "https://elye-project.medium.com/subscribe", "anchor_text": "https://elye-project.medium.com/subscribe"}, {"url": "https://twitter.com/elye_project", "anchor_text": "https://twitter.com/elye_project"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5742b4fcf89e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fextracting-webpage-information-with-python-for-non-programmer-1ab4be2bb812&user=Elye&userId=5742b4fcf89e&source=post_page-5742b4fcf89e--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff0c69aa4769e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fextracting-webpage-information-with-python-for-non-programmer-1ab4be2bb812&newsletterV3=5742b4fcf89e&newsletterV3Id=f0c69aa4769e&user=Elye&userId=5742b4fcf89e&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}