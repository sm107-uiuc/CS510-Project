{"url": "https://towardsdatascience.com/out-of-memory-computation-using-wsl-and-turicreate-84667412e32b", "time": 1683017956.290426, "path": "towardsdatascience.com/out-of-memory-computation-using-wsl-and-turicreate-84667412e32b/", "webpage": {"metadata": {"title": "Out of Memory Computation Using WSL and Turicreate | by Jack Lindsay | Towards Data Science", "h1": "Out of Memory Computation Using WSL and Turicreate", "description": "When it comes to data science and analytics, you can really group it into two categories by oversimplifying the entire thing as: Big Data and Data. While both have their respective aspects of\u2026"}, "outgoing_paragraph_urls": [{"url": "https://docs.microsoft.com/en-us/windows/client-management/introduction-page-file", "anchor_text": "Windows auto-paging and page pool allocation", "paragraph_index": 2}, {"url": "https://medium.com/u/664d460a5ffa?source=post_page-----84667412e32b--------------------------------", "anchor_text": "Jonathan Balaban", "paragraph_index": 7}, {"url": "https://towardsdatascience.com/how-turi-create-is-disrupting-the-machine-learning-landscape-37b562f01eab", "anchor_text": "post on Turicreate", "paragraph_index": 7}, {"url": "https://www.safegraph.com/", "anchor_text": "Safegraph", "paragraph_index": 8}, {"url": "https://www.tomshardware.com/news/how-to-manage-virtual-memory-pagefile-windows-10,36929.html", "anchor_text": "auto paging", "paragraph_index": 8}, {"url": "https://www.jetbrains.com/pycharm/", "anchor_text": "Pycharm", "paragraph_index": 8}, {"url": "https://github.com/SafeGraphInc/safegraph_py", "anchor_text": "https://github.com/SafeGraphInc/safegraph_py", "paragraph_index": 8}, {"url": "https://twitter.com/JackLindsay03", "anchor_text": "Twitter", "paragraph_index": 30}, {"url": "https://www.linkedin.com/in/jack-lindsay-83473371/", "anchor_text": "LinkedIn", "paragraph_index": 30}, {"url": "https://www.safegraph.com/", "anchor_text": "SafeGraph", "paragraph_index": 31}, {"url": "https://www.safegraph.com/covid-19-data-consortium", "anchor_text": "SafeGraph", "paragraph_index": 32}], "all_paragraphs": ["When it comes to data science and analytics, you can really group it into two categories by oversimplifying the entire thing as: Big Data and Data. While both have their respective aspects of interest, Big Data has always caught my eye \u2014 and with it, the inequalities of Mac/Unix based data science vs Windows based Data Science. No matter which team you play for, the truth of the matter is, Macs are better equipped (out of the box) to handle Big Data problems. Thus, my quest for true equality in the workplace began.", "The Inequality: Macs can turn spare SSD space into \u201cextra RAM (memory)\u201d making it essentially impossible to hit memory errors when processing large batches.", "\u201cBut Jack, What about Windows auto-paging and page pool allocation on Windows?\u201d I hear you asking. To which I say, patience, we will get to why that doesn\u2019t work natively.", "Like many Data Scientists, I was stuck in a sea of information/ideas surrounding the topic, with no clear directive on how to solve my problem. This is what I learned:", "In short, the problem wasn\u2019t that I couldn\u2019t process the data on the rig I was using \u2014 batch processing can make nearly any job possible with small enough batches and enough over engineering \u2014 my problem was that a Mac with the same hardware could do it for less work. And that is just unacceptable.", "The Windows Subsystem for Linux lets developers run a GNU/Linux environment \u2014 including most command-line tools, utilities, and applications \u2014 directly on Windows, unmodified, without the overhead of a traditional virtual machine or dualboot setup.", "Wait! Don\u2019t Go! Linux is not as scary as it sounds, I swear. Embrace Linux, let it further empower your Data Science skills and become more powerful than you ever imagined! *Star Wars reference intended*", "In all seriousness, the most important part of this is a) you get to use a Linux terminal on a Windows OS and b) you get the libraries that accompany it (can you say SUDO?) \u2014 in this particular case, you get Turicreate which is a very powerful Data Science tool (only available to UNIX and Linux machines) closely modeled after Pandas that allows your PC to automatically convert spare SSD space to \u201cslow\u201d RAM (I suppose I should note that you do not HAVE to use an SSD, but whereas an SSD is typically 10x slower than modern DDR4 RAM, a traditional disk drive is upwards of 100x slower than DDR4 RAM). I highly recommend you check out Jonathan Balaban post on Turicreate.", "Before we dive into the setup, lets see what happens when we try to load in ~25GB of uncompressed .csv foot traffic SDM data (3.8 million rows and 25 columns), courtesy of Safegraph. Since I have set up auto paging on my Windows machine, the SSD is in fact being turned into RAM, but when you actually try to print(), even the first 5 rows of the new Data Frame, you are met with an error. You will see this is true for both a powerful IDE like Pycharm as well as straight through the Command Shell. If you are interested in exactly how the function is combining the data, please check out https://github.com/SafeGraphInc/safegraph_py (spoiler: it is just concatenating Pandas DFs).", "Note: while the file did in fact run (proving that Windows paging was in fact working), the output still failed.", "Note: We receive the same MemoryError running through a Command Shell.", "The rig this test was run on only has 16GB of RAM available, yet you see over 20GB committed (See Image Above) and the total amount of RAM available continues to grow \u2014 the only limitation being the amount of space you have available on your SSD. Windows OS was able to turn the SSD to RAM, yet unable to process the results \u2014 I am still not 100% sure why that is, though I have some theories.", "Now, since I like my dessert before my meat and potatoes, let me show you what happens when we run this through WSL. Remember, this entire file was coded on Windows and remains in my windows files, but is being accessed, natively, from a Linux box that is then running Turicreate commands that should, theoretically, only be available to Unix/Linux users, and finally producing our print result by taking advantage of Windows paging (scroll further to see a step-by-step guide).", "Huzzah! I would be lying if I said this didn\u2019t actually leave my mouth once I saw that this worked.", "Now, lets get to the nitty gritty method so you too can start throwing normalcy to the wind! Now, no one controls your Data Science! You are the author of your story! I see no one atop the pedestal of Data Science but YOU!", "There are a few ways to get it, but the easiest is by using an administrator level Windows Power SHELL \u2014 type: \u201cWindows Power Shell\u201d into your search bar and right click, then select \u2018RUN AS ADMINISTRATOR\u2019 (note: this is not the same as command prompt)", "Once you have started the Power SHELL \u2014 input this command:", "Enabling Windows Subsystem for Linux using Settings", "To install WSL using Setting on Windows 10, follow the steps below:", "3. Under the \u201cRelated settings\u201d section, click Programs and Features", "4. Click the Turn Windows features on or off option from the left pane.", "5. Check the Windows Subsystem for Linux option", "7. Click the Restart now button.", "You can now download and run whichever Linux distribution tickles your fancy from the Microsoft Store \u2014 I prefer just plain ole vanilla Ubuntu, but the cyber enthusiast amongst you may appreciate the option to download Kali instead.", "After installing. . . badabing, badaboom! You have yourself a working Linux terminal embedded right into your Windows OS.", "1. Your file paths within your python files will need to start with \u201c/mnt/c/etc\u2026\u201d as opposed to \u201cC://etc\u2026\u201d (the easiest way to remember this is to think of the Linux box being a \u201cmounted drive\u201d hints the \u2018mnt\u2019)", "2. While many commands in Turicreate are similar to Pandas, it is not exact, so do your own due diligence for each project \u2014 i.e. Instead of concatenating each of my TC Data Frames together (like you would do in Pandas), I had to create a Data Frame with 1\u20132 rows of data to append the TC DFs.", "3. Not \u201ctiming-out\u201d and doing work in a \u201ctimely manner\u201d are very different concepts. Combining multi-threading with small batch processing may be better for your particular scenario - it depends on how big your output is.", "4. You will have to install all of your python libraries, including Turicreate, on your new Linux box/window/app", "5.WSL is still relatively new with the first stable release as recently as June 12, 2019", "If you are interested in furthering this discussion or need anything clarified or even have something to add (I do miss things from time to time) feel free to reach out on Twitter or LinkedIn or leave a comment below!", "Special thanks to SafeGraph for the data: \u201cSafeGraph, a data company that aggregates anonymized location data from numerous applications in order to provide insights about physical places. To enhance privacy, SafeGraph excludes census block group information if fewer than five devices visited an establishment in a month from a given census block group.\u201d", "If you would like access to Foot Traffic Data or Social Distancing Metrics etc, contact SafeGraph.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Analyst and GIS enthusiast with a knack for International Affairs!"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F84667412e32b&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fout-of-memory-computation-using-wsl-and-turicreate-84667412e32b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fout-of-memory-computation-using-wsl-and-turicreate-84667412e32b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fout-of-memory-computation-using-wsl-and-turicreate-84667412e32b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fout-of-memory-computation-using-wsl-and-turicreate-84667412e32b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----84667412e32b--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----84667412e32b--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://trippl7777.medium.com/?source=post_page-----84667412e32b--------------------------------", "anchor_text": ""}, {"url": "https://trippl7777.medium.com/?source=post_page-----84667412e32b--------------------------------", "anchor_text": "Jack Lindsay"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd72182ee8182&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fout-of-memory-computation-using-wsl-and-turicreate-84667412e32b&user=Jack+Lindsay&userId=d72182ee8182&source=post_page-d72182ee8182----84667412e32b---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F84667412e32b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fout-of-memory-computation-using-wsl-and-turicreate-84667412e32b&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F84667412e32b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fout-of-memory-computation-using-wsl-and-turicreate-84667412e32b&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/photos/gpjvRZyavZc?utm_source=unsplash&utm_medium=referral&utm_content=creditShareLink", "anchor_text": "https://unsplash.com/photos/gpjvRZyavZc?utm_source=unsplash&utm_medium=referral&utm_content=creditShareLink"}, {"url": "https://docs.microsoft.com/en-us/windows/client-management/introduction-page-file", "anchor_text": "Windows auto-paging and page pool allocation"}, {"url": "https://medium.com/u/664d460a5ffa?source=post_page-----84667412e32b--------------------------------", "anchor_text": "Jonathan Balaban"}, {"url": "https://towardsdatascience.com/how-turi-create-is-disrupting-the-machine-learning-landscape-37b562f01eab", "anchor_text": "post on Turicreate"}, {"url": "https://www.safegraph.com/", "anchor_text": "Safegraph"}, {"url": "https://www.tomshardware.com/news/how-to-manage-virtual-memory-pagefile-windows-10,36929.html", "anchor_text": "auto paging"}, {"url": "https://www.jetbrains.com/pycharm/", "anchor_text": "Pycharm"}, {"url": "https://github.com/SafeGraphInc/safegraph_py", "anchor_text": "https://github.com/SafeGraphInc/safegraph_py"}, {"url": "https://twitter.com/JackLindsay03", "anchor_text": "Twitter"}, {"url": "https://www.linkedin.com/in/jack-lindsay-83473371/", "anchor_text": "LinkedIn"}, {"url": "https://www.safegraph.com/", "anchor_text": "SafeGraph"}, {"url": "https://www.safegraph.com/covid-19-data-consortium", "anchor_text": "SafeGraph"}, {"url": "https://medium.com/tag/out-of-memory?source=post_page-----84667412e32b---------------out_of_memory-----------------", "anchor_text": "Out Of Memory"}, {"url": "https://medium.com/tag/python?source=post_page-----84667412e32b---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/big-data?source=post_page-----84667412e32b---------------big_data-----------------", "anchor_text": "Big Data"}, {"url": "https://medium.com/tag/big-data-analytics?source=post_page-----84667412e32b---------------big_data_analytics-----------------", "anchor_text": "Big Data Analytics"}, {"url": "https://medium.com/tag/wsl?source=post_page-----84667412e32b---------------wsl-----------------", "anchor_text": "Wsl"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F84667412e32b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fout-of-memory-computation-using-wsl-and-turicreate-84667412e32b&user=Jack+Lindsay&userId=d72182ee8182&source=-----84667412e32b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F84667412e32b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fout-of-memory-computation-using-wsl-and-turicreate-84667412e32b&user=Jack+Lindsay&userId=d72182ee8182&source=-----84667412e32b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F84667412e32b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fout-of-memory-computation-using-wsl-and-turicreate-84667412e32b&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----84667412e32b--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F84667412e32b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fout-of-memory-computation-using-wsl-and-turicreate-84667412e32b&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----84667412e32b---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----84667412e32b--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----84667412e32b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----84667412e32b--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----84667412e32b--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----84667412e32b--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----84667412e32b--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----84667412e32b--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----84667412e32b--------------------------------", "anchor_text": ""}, {"url": "https://trippl7777.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://trippl7777.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Jack Lindsay"}, {"url": "https://trippl7777.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "7 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd72182ee8182&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fout-of-memory-computation-using-wsl-and-turicreate-84667412e32b&user=Jack+Lindsay&userId=d72182ee8182&source=post_page-d72182ee8182--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fd72182ee8182%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fout-of-memory-computation-using-wsl-and-turicreate-84667412e32b&user=Jack+Lindsay&userId=d72182ee8182&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}