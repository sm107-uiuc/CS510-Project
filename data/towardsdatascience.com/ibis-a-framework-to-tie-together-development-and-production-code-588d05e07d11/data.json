{"url": "https://towardsdatascience.com/ibis-a-framework-to-tie-together-development-and-production-code-588d05e07d11", "time": 1683005745.390219, "path": "towardsdatascience.com/ibis-a-framework-to-tie-together-development-and-production-code-588d05e07d11/", "webpage": {"metadata": {"title": "Ibis: A Python Data Analysis Framework for Development and Production | by ChiefHustler | Towards Data Science", "h1": "Ibis: A Python Data Analysis Framework for Development and Production", "description": "After training your machine learning model, you want to put in in production. Once your model is served and ready to make predictions, you will probably need to preprocess the data you receive before\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["After training your machine learning model, you want to put in in production. Once your model is served and ready to make predictions, you will probably need to preprocess the data you receive before sending it to the model. This could be some sort of feature engineering or data cleaning, but whatever it is, this will typically be done using a standard data frame, one sample at a time.", "However, when you are still in the development phase, you are dealing with much bigger data, potentially millions of training samples or more. In which case, using regular data frames (e.g. pandas) will just be too slow. So you resort to other tools such as Spark, BigQuery, etc.", "And therein lies the potential problem: these tools have a different API. For Spark, it would big Spark\u2019s DataFrame API; for BigQuery, it would be SQL. And so on. The point being: this code is different from the one you\u2019ll be using in production. And maintaining two different code bases is not a good idea in the long term.", "There are solutions to deal with this dilemma. For example, using Google\u2019s Dataflow, it can be eliminated it completely, since Dataflow can be used both during training and at prediction time. Another solution involves TensorFlow Extended, which was created to address exactly this problem for Deep Learning applications. Or you can try and factor out as much as possible of the core functionality and make it reusable by both the training and the prediction code.", "None of these solutions is perfect, and although Ibis isn\u2019t perfect either, it\u2019s an interesting proposal because it approaches the problem from another angle, and as such, is quite unique in this space.", "What Ibis proposes is one single api for data manipulation, and a core engine that will translate this high-level api in lower-level code, depending on the back-end. So if we use a pandas back-end, Ibis will translate to pandas python code. If we use a BigQuery back-end, Ibis will translate to SQL. The user writes code using the Ibis api and just swaps the back-end between training and prediction.", "At the moment, Ibis supports quite a few back-ends: pandas, Spark, BigQuery, PostgreSQL, sqlite, to name a few. In terms of project health, there are some on-going commits and issues, although it\u2019s not the most active project ever. Wes McKinney, creator of pandas, was a contributor a few years ago, but not anymore.", "So let\u2019s see look at a concrete example, and because I\u2019m a fan of BigQuery, I\u2019ll start with that. I\u2019ll be using the stackoverflow public data set, and in particular the posts_questions table.", "To connect to BigQuery, I\u2019m using a credentials file:", "And then to connect to the table:", "And now we can do some simple data manipulation (e.g. create new columns):", "At this point, no rows were actually retrieved from BigQuery. Ibis only built the internal execution graph.", "You\u2019ll notice I only asked for the head of my projection in the code above, so I only got 5 rows in return, but I could just as easily have run the query on the entire table. Just for fun, we can compile our projection and see the code that Ibis generated for us:", "Fast forward a few months\u2026and we are ready to go to production. Which means, we need to do the exact same preprocessing on a little pandas data frame.", "This is how Ibis connects to a local data frame:", "And the following is pretty much the exact same code we were using on BigQuery:", "And the beauty is: we are not stuck with BigQuery, or even Pandas for that matter. For example, we could just as easily switch both for sqlite (on disk and/or in memory) or Spark, and change absolutely nothing to our code base. Finally, it is worth mentioning that Ibis supports all the typical data processing operations: aggregating, filtering, joins, applying user-defined functions, etc.", "Conclusion: Ibis is a very interesting project that deserves a look. I would like to see some more activity on it and time allowing, to contribute as well, but in the mean time, I wouldn\u2019t hesitate to use it or recommend it to anyone looking for a way to unify training and production data processing code.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Growth stocks investor. Data scientist by trade. Passionate about fintech. In residence at Entrepreneur First."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F588d05e07d11&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fibis-a-framework-to-tie-together-development-and-production-code-588d05e07d11&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fibis-a-framework-to-tie-together-development-and-production-code-588d05e07d11&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fibis-a-framework-to-tie-together-development-and-production-code-588d05e07d11&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fibis-a-framework-to-tie-together-development-and-production-code-588d05e07d11&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----588d05e07d11--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----588d05e07d11--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@chiefhustler?source=post_page-----588d05e07d11--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@chiefhustler?source=post_page-----588d05e07d11--------------------------------", "anchor_text": "ChiefHustler"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffa5cb554796e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fibis-a-framework-to-tie-together-development-and-production-code-588d05e07d11&user=ChiefHustler&userId=fa5cb554796e&source=post_page-fa5cb554796e----588d05e07d11---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F588d05e07d11&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fibis-a-framework-to-tie-together-development-and-production-code-588d05e07d11&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F588d05e07d11&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fibis-a-framework-to-tie-together-development-and-production-code-588d05e07d11&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@alwig64?utm_source=medium&utm_medium=referral", "anchor_text": "Alex Wigan"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://docs.ibis-project.org/index.html", "anchor_text": "https://docs.ibis-project.org/index.html"}, {"url": "https://github.com/ibis-project/ibis", "anchor_text": "https://github.com/ibis-project/ibis"}, {"url": "https://medium.com/tag/python?source=post_page-----588d05e07d11---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/python-programming?source=post_page-----588d05e07d11---------------python_programming-----------------", "anchor_text": "Python Programming"}, {"url": "https://medium.com/tag/big-data?source=post_page-----588d05e07d11---------------big_data-----------------", "anchor_text": "Big Data"}, {"url": "https://medium.com/tag/bigquery?source=post_page-----588d05e07d11---------------bigquery-----------------", "anchor_text": "Bigquery"}, {"url": "https://medium.com/tag/pandas?source=post_page-----588d05e07d11---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F588d05e07d11&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fibis-a-framework-to-tie-together-development-and-production-code-588d05e07d11&user=ChiefHustler&userId=fa5cb554796e&source=-----588d05e07d11---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F588d05e07d11&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fibis-a-framework-to-tie-together-development-and-production-code-588d05e07d11&user=ChiefHustler&userId=fa5cb554796e&source=-----588d05e07d11---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F588d05e07d11&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fibis-a-framework-to-tie-together-development-and-production-code-588d05e07d11&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----588d05e07d11--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F588d05e07d11&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fibis-a-framework-to-tie-together-development-and-production-code-588d05e07d11&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----588d05e07d11---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----588d05e07d11--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----588d05e07d11--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----588d05e07d11--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----588d05e07d11--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----588d05e07d11--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----588d05e07d11--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----588d05e07d11--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----588d05e07d11--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@chiefhustler?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@chiefhustler?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "ChiefHustler"}, {"url": "https://medium.com/@chiefhustler/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "194 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffa5cb554796e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fibis-a-framework-to-tie-together-development-and-production-code-588d05e07d11&user=ChiefHustler&userId=fa5cb554796e&source=post_page-fa5cb554796e--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F22430265b692&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fibis-a-framework-to-tie-together-development-and-production-code-588d05e07d11&newsletterV3=fa5cb554796e&newsletterV3Id=22430265b692&user=ChiefHustler&userId=fa5cb554796e&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}