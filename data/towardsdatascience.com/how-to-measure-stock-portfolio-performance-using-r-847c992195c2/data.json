{"url": "https://towardsdatascience.com/how-to-measure-stock-portfolio-performance-using-r-847c992195c2", "time": 1683011732.352641, "path": "towardsdatascience.com/how-to-measure-stock-portfolio-performance-using-r-847c992195c2/", "webpage": {"metadata": {"title": "How to Measure Stock Portfolio Performance using R | by Dery Kurniawan | Towards Data Science", "h1": "How to Measure Stock Portfolio Performance using R", "description": "Indonesia has been named as the Largest Economy in Southeast Asia by the World Bank. As one of the four most populous countries in the world with more than 200 million people living in this country\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Stock market is a place where people arrange a transaction for buying or selling shares of publicly listed company", "Indonesia has been named as the Largest Economy in Southeast Asia by the World Bank. As one of the four most populous countries in the world with more than 200 million people living in this country, Indonesia has a bargaining power to emerge as one of the biggest economies in the world. Those promising prospect of Indonesia economic condition makes this country as one of the best choices to put your investment on.", "Indonesia stock markets with more than 600 listed enterprises still on the uptrends before the coronavirus outbreak. Some of the listed enterprises are state-owned enterprises and for this case study, I will only analyze 17 state-owned enterprises which been a member of the latest IDX-BUMN20 Index.", "The assumption for this case study:", "We will import stock price data using getSymbols() function from the quantmod package. getSymbols() function is a particular function to load and manage financial data from various sources, but for this example, we will use Yahoo Finance as our data source.", "In default, we will have every stock price data assigned to their stock code as xts object (ex: ANTM.JK prices will be stored in ANTM.JK variable as xts object). To make it easier for analysis, we should gather all these separate data into a single xts object.", "We already made a portfolio, and it stored as single xts object in a variable named Index. The data that we store in this variable is still in closing price format for every market day, since most of the portfolio analytics method need to feed by return data, we have to calculate its Return first before taking a step into portfolio analysis.", "Fortunately, in R we don\u2019t have to manually calculate every stock return day by day, we just need to call Return. calculate () function, and it will give us the return output in xts object format.", "Since nobody can see the future, most of the stock market investor relies on two things before deciding which stock they will buy, first is fundamental analysis and second is technical analysis. Fundamental Analysis involves the use of economic and financial data (e.g., production, consumption, disposable income, etc.) to forecast prices in the future, whereas Technical Analysis is based primarily (and often solely) on the study of patterns in the price data itself [1]. This article will cover only some of the Technical Analysis methods available.", "For the first analysis, we will try to look at every stock performance in term of their reward & risk in annualized return, since Investors sometimes want to see if their investments are well-rewarded compared to its risk, and Sharpe Ratio is a great calculation that can measure it all. Higher Sharpe ratio means our investments are well-rewarded compared to the risk that we have during the investing period. For calculation, we assume Indonesia Risk-Free Rate is 4.5% yearly.", "Annualized means we recalculate the number in a certain period on a yearly basis, for example, the return of ANTM.JK is -5.35%/Year during the 2013\u20132020 periods. Our portfolio annualized performance show there are varies from one stock to the others. The worst performer in our portfolio is PGAS.JK which has a negative return and swing too much during the periods makes PGAS.JK Sharpe Ratio is the lowest among others. The best performer in our portfolio is BBRI.JK which shows the highest return, smallest standard deviation, and highest Sharpe Ratio.", "If we compare the line chart between the best performer and the worst performer stock in our portfolio, we can obviously see the differences between them. BBRI.JK has more consistent movement and steadily increase from year to year, in the opposite PGAS.JK movement fluctuates with a massive span between its peak and valley.", "We can also make a general view about how our stock performance compared to Risk-Free rate Asset (4.5% annual return) using label plot in ggplot2 package.", "If we see in the big picture, during this period, 10 companies are well-worthy to be invested for, that means if we put our investment into these stocks, we will gain much more than if we put our investments into the risk-free assets. Using this plot, we know how vital diversification is in investment, some of our investments will have a high return, but other investments are losing its value than when we buy it.", "Now we will start to analyze those stocks as a portfolio and we will see how its performance if we hold all of those stocks in the same proportion from 2013 until July 2020.", "First of all, we will look at our portfolio daily return distribution. Using this distribution, we will see how often our portfolio gives us a positive return and how frequent it is losing its value.", "The daily return distribution plot shows our portfolio averaging positive returns near zero with some time. It can give more than 10% return in a day, but on the other hand, it possible to lose more than 10% of its value just in a day. We will prove it using time-series daily return plot and find out when our portfolio losing so much and when it gains the highest return.", "From the time-series plot, we can obviously see most of our return will be in the range of \u00b15%, even though there\u2019s some outlier and the most recent is coming due to the coronavirus effect in the first half of 2020.", "Using only daily return is not enough to display how well our portfolio performance. Luckily, there is charts.PerformanceSummary() function in R that will produce portfolio cumulative return, daily return, and drawdown plot as its output.", "Performance Summary Chart sums up every information we need in analyzing our portfolio performance during the periods. From the cumulative return chart, we know our portfolio will still have more than 100% return until the 26th of July despite the fact that some stocks have negative returns and coronavirus effects that mostly disrupt every stock market activity in the world. From the daily return chart, we will get information about which period our portfolio return fluctuated so much and using this information we can develop an insight about how the major events in certain period can disrupt stock market transaction and make a plan if there will be any other major events in the future. From the drawdown chart, we gain the knowledge about how our portfolio performs against downtrend and how long it can recover so we can have a proper strategy on how we hold the stocks if in the future downtrends are happen.", "Technical analysis is about predicting the movement of the stock price using historical patterns and market statistics. This article has discussed how to use R-Computation to extract the pattern and gain insight into how our portfolio movement and performance during a certain period.", "For future investment, we can use the analysis result as the basis for every action that we will take. As an example, we can subset this kind of analysis into a smaller period and revise our portfolio composition based on the shape ratio.", "There\u2019s also a method to find the optimum weight of our portfolio based on historical data. Hopefully, it can be discussed in the other articles.", "Notes: We can reconstruct every code in this article for every stock and every period as long as the data is available in the data source. Just try to change it to your portfolio composition and see how your portfolio was doing in a certain period.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Analytics Enthusiast | Writing for Memorizing"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F847c992195c2&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-measure-stock-portfolio-performance-using-r-847c992195c2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-measure-stock-portfolio-performance-using-r-847c992195c2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-measure-stock-portfolio-performance-using-r-847c992195c2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-measure-stock-portfolio-performance-using-r-847c992195c2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----847c992195c2--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----847c992195c2--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@dkurniawan1395?source=post_page-----847c992195c2--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dkurniawan1395?source=post_page-----847c992195c2--------------------------------", "anchor_text": "Dery Kurniawan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7a46de682dc7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-measure-stock-portfolio-performance-using-r-847c992195c2&user=Dery+Kurniawan&userId=7a46de682dc7&source=post_page-7a46de682dc7----847c992195c2---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F847c992195c2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-measure-stock-portfolio-performance-using-r-847c992195c2&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F847c992195c2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-measure-stock-portfolio-performance-using-r-847c992195c2&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@chrisliverani?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Chris Liverani"}, {"url": "https://unsplash.com/s/photos/stock?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/portfolio?source=post_page-----847c992195c2---------------portfolio-----------------", "anchor_text": "Portfolio"}, {"url": "https://medium.com/tag/finance?source=post_page-----847c992195c2---------------finance-----------------", "anchor_text": "Finance"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----847c992195c2---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----847c992195c2---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/stock-market?source=post_page-----847c992195c2---------------stock_market-----------------", "anchor_text": "Stock Market"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F847c992195c2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-measure-stock-portfolio-performance-using-r-847c992195c2&user=Dery+Kurniawan&userId=7a46de682dc7&source=-----847c992195c2---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F847c992195c2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-measure-stock-portfolio-performance-using-r-847c992195c2&user=Dery+Kurniawan&userId=7a46de682dc7&source=-----847c992195c2---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F847c992195c2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-measure-stock-portfolio-performance-using-r-847c992195c2&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----847c992195c2--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F847c992195c2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-measure-stock-portfolio-performance-using-r-847c992195c2&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----847c992195c2---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----847c992195c2--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----847c992195c2--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----847c992195c2--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----847c992195c2--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----847c992195c2--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----847c992195c2--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----847c992195c2--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----847c992195c2--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dkurniawan1395?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dkurniawan1395?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Dery Kurniawan"}, {"url": "https://medium.com/@dkurniawan1395/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "44 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7a46de682dc7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-measure-stock-portfolio-performance-using-r-847c992195c2&user=Dery+Kurniawan&userId=7a46de682dc7&source=post_page-7a46de682dc7--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F969a126bbcb2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-measure-stock-portfolio-performance-using-r-847c992195c2&newsletterV3=7a46de682dc7&newsletterV3Id=969a126bbcb2&user=Dery+Kurniawan&userId=7a46de682dc7&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}