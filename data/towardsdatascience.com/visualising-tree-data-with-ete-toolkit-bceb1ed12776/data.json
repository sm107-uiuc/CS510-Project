{"url": "https://towardsdatascience.com/visualising-tree-data-with-ete-toolkit-bceb1ed12776", "time": 1683007960.587014, "path": "towardsdatascience.com/visualising-tree-data-with-ete-toolkit-bceb1ed12776/", "webpage": {"metadata": {"title": "[EN] Visualising Tree Data with ETE Toolkit | by Andrew Hetherington | Towards Data Science", "h1": "[EN] Visualising Tree Data with ETE Toolkit", "description": "The world is very complex. Things are related in all kinds of different ways \u2014 some relations are intuitive, some aren\u2019t. As a result, the data that we collect and use to describe the world comes in\u2026"}, "outgoing_paragraph_urls": [{"url": "http://etetoolkit.org/gallery/", "anchor_text": "ETE Toolkit\u2019s Gallery", "paragraph_index": 6}, {"url": "https://unsplash.com/@toddquackenbush?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Todd Quackenbush", "paragraph_index": 22}, {"url": "https://unsplash.com/s/photos/tree?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash", "paragraph_index": 22}], "all_paragraphs": ["The world is very complex. Things are related in all kinds of different ways \u2014 some relations are intuitive, some aren\u2019t. As a result, the data that we collect and use to describe the world comes in all kinds of shapes and sizes.", "In addition, Data Visualisation is one of the most important aspects of the data analysis process. Good visualisation is critical in helping clients and stakeholders understand data.", "In combination, these two points mean that people who work with data need to be prepared to represent it in ways that best illustrate the relationships between data points \u2014 and what it might mean for action. Today, we\u2019re going to look at one such representation and a tool you can use to create it.", "At work, I recently came into contact with trees. A tree is a way of representing a set of hierarchical data. The relations between instances in a tree are fairly intuitive to understand, thanks to the ready analogy with the botanical trees that we are all familiar with. The ideas of roots, leaves and branches transfer over quite well when we are talking about the data structure rather than the perennial plant.", "Trees and hierarchies are found all over the place \u2014 common real-world examples are company structures and evolutionary trees.", "As you can see, it\u2019s relatively easy to sketch out a tree for a given set of hierarchically linked data. But what about when you have large amounts of data, or your data is constantly evolving? Redrawing the whole thing by hand is painstaking and time-consuming\u2026", "\u2026And that\u2019s where ETE Toolkit comes in. This is a Python library for the analysis and visualisation of trees. It was originally developed by the bioinformatics department at the Principe Felipe Research Center in Valencia, Spain, so it\u2019s capable of all kinds of scientific analysis. It\u2019s also a handy way to automate the visualisation of any tree data structure, the basics of which I\u2019m going to describe here. Check out ETE Toolkit\u2019s Gallery to see some of the package\u2019s more advanced features.", "Let\u2019s use a customer referral system as an example. You\u2019re probably familiar with how this works \u2014 a customer who purchases a product is given a unique code that they can share with their friends. If one of their friends decides to also purchase the product and quotes this unique code when doing so, both earn a reward. It\u2019s a win-win scenario \u2014 the company selling the product is able to align the customer\u2019s interests with its own by incentivising them to spread the word and encourage more people to become customers \u2014 and of course, the customers themselves enjoy a discount.", "Say each customer is allowed to refer up to 5 people. Say also that we currently have a tabular representation of this data as follows:", "We have data on a number of purchases, including:", "This data forms a hierarchy \u2014 each customer can be represented as a node in a tree diagram, with the person who referred them placed above them in the tree, and the people they went on to refer branching off below them. We can also see here that Alice is the \u201coriginal\u201d customer that has started this particular chain of referrals \u2014 that is, Alice is the only customer who was not referred by someone else. This makes her the root customer.", "Given this, we could draw a tree diagram by hand \u2014 going through each customer in turn, working out who should be linked to them in the tree, and adding the appropriate as children, branching off underneath them. But why do that when ETE will gladly to do the hard work for us?", "ETE takes input in Newick format \u2014 a relatively standard way of compactly describing the layout of tree structures in mathematics and science. Here\u2019s a couple of examples:", "You may be able to notice that a set of branches is represented by a pair of parentheses. The number of branches coming off of a given node is determined by the presence of commas within the parentheses. And of course, pairs of parentheses can be nested to produce more and more complex structures.", "I\u2019m not going to spend too long on the details of Newick format \u2014 it\u2019s sufficient to know that we can tell ETE what we want to visualise by converting our data into this format. I\u2019ve written some code to do this for us, which I won\u2019t describe here \u2014 if you\u2019re interested, take a look at the Jupyter Notebook on GitHub that goes with this post for more information.", "Our customer data can thus be written in Newick format as follows:", "Let\u2019s see what we get when we feed it into ETE:", "Not too bad! Looking quite basic at the moment \u2014 but ETE has taken a lot of the complexity out of the visualisation process. What\u2019s more, we can simply re-run our code whenever we get updated data!", "Another advantage of ETE is that we can quite easily make adjustments to presentational aspects of the tree. Let\u2019s see if we can make it look a bit snazzier\u2026", "That\u2019s better. We\u2019re still just scratching the surface of what ETE Toolkit is capable of, but as a quick illustration, this is enough to get some of the key ideas across.", "The human brain loves to hoover up visual information. Trees have a ready real-world analogy that makes them intuitive and easy to understand. This makes them a great tool for explaining data to non-specialists. And to make one final generalisation \u2014 the brain has a number of natural strengths and a number of natural weaknesses. We will always have an easier time digesting data when it is presented to us in a way that works with these peculiarities, rather than against them.", "Andrew Hetherington is an actuary-in-training and data enthusiast based in London, UK.", "Tree photo by Todd Quackenbush on Unsplash.", "ETE 3: Reconstruction, analysis and visualization of phylogenomic data.", "Jaime Huerta-Cepas, Francois Serra and Peer Bork.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Actuary-in-training and data enthusiast based in London, UK."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fbceb1ed12776&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualising-tree-data-with-ete-toolkit-bceb1ed12776&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualising-tree-data-with-ete-toolkit-bceb1ed12776&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualising-tree-data-with-ete-toolkit-bceb1ed12776&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualising-tree-data-with-ete-toolkit-bceb1ed12776&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----bceb1ed12776--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----bceb1ed12776--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://andrew-m-hetherington.medium.com/?source=post_page-----bceb1ed12776--------------------------------", "anchor_text": ""}, {"url": "https://andrew-m-hetherington.medium.com/?source=post_page-----bceb1ed12776--------------------------------", "anchor_text": "Andrew Hetherington"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff1c776b81964&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualising-tree-data-with-ete-toolkit-bceb1ed12776&user=Andrew+Hetherington&userId=f1c776b81964&source=post_page-f1c776b81964----bceb1ed12776---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbceb1ed12776&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualising-tree-data-with-ete-toolkit-bceb1ed12776&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbceb1ed12776&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualising-tree-data-with-ete-toolkit-bceb1ed12776&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@toddquackenbush?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Todd Quackenbush"}, {"url": "https://unsplash.com/s/photos/tree?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "http://etetoolkit.org/gallery/", "anchor_text": "ETE Toolkit\u2019s Gallery"}, {"url": "https://www.linkedin.com/in/andrewmhetherington/", "anchor_text": "LinkedIn"}, {"url": "https://github.com/andrewhetherington/python-projects", "anchor_text": "GitHub"}, {"url": "https://github.com/andrewhetherington/python-projects/blob/master/Blog%E2%80%94Visualising%20Tree%20Data/Visualising%20Tree%20Data.ipynb", "anchor_text": "here"}, {"url": "https://unsplash.com/@toddquackenbush?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Todd Quackenbush"}, {"url": "https://unsplash.com/s/photos/tree?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "http://mbe.oxfordjournals.org/content/early/2016/03/21/molbev.msw046", "anchor_text": "doi: 10.1093/molbev/msw046"}, {"url": "https://medium.com/tag/data-science?source=post_page-----bceb1ed12776---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data?source=post_page-----bceb1ed12776---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----bceb1ed12776---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----bceb1ed12776---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/data-structures?source=post_page-----bceb1ed12776---------------data_structures-----------------", "anchor_text": "Data Structures"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbceb1ed12776&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualising-tree-data-with-ete-toolkit-bceb1ed12776&user=Andrew+Hetherington&userId=f1c776b81964&source=-----bceb1ed12776---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbceb1ed12776&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualising-tree-data-with-ete-toolkit-bceb1ed12776&user=Andrew+Hetherington&userId=f1c776b81964&source=-----bceb1ed12776---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbceb1ed12776&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualising-tree-data-with-ete-toolkit-bceb1ed12776&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----bceb1ed12776--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fbceb1ed12776&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualising-tree-data-with-ete-toolkit-bceb1ed12776&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----bceb1ed12776---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----bceb1ed12776--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----bceb1ed12776--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----bceb1ed12776--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----bceb1ed12776--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----bceb1ed12776--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----bceb1ed12776--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----bceb1ed12776--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----bceb1ed12776--------------------------------", "anchor_text": ""}, {"url": "https://andrew-m-hetherington.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://andrew-m-hetherington.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andrew Hetherington"}, {"url": "https://andrew-m-hetherington.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "47 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff1c776b81964&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualising-tree-data-with-ete-toolkit-bceb1ed12776&user=Andrew+Hetherington&userId=f1c776b81964&source=post_page-f1c776b81964--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F464e8b563032&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualising-tree-data-with-ete-toolkit-bceb1ed12776&newsletterV3=f1c776b81964&newsletterV3Id=464e8b563032&user=Andrew+Hetherington&userId=f1c776b81964&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}