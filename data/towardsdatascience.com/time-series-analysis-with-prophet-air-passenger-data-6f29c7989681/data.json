{"url": "https://towardsdatascience.com/time-series-analysis-with-prophet-air-passenger-data-6f29c7989681", "time": 1683011849.105645, "path": "towardsdatascience.com/time-series-analysis-with-prophet-air-passenger-data-6f29c7989681/", "webpage": {"metadata": {"title": "Time Series Analysis with Prophet: Air Passenger Data | by Michael Grogan | Towards Data Science", "h1": "Time Series Analysis with Prophet: Air Passenger Data", "description": "Prophet is a forecasting model by Facebook that forecasts time series using special adjustments for factors such as seasonality, holiday periods, and changepoints. The dataset is sourced from the San\u2026"}, "outgoing_paragraph_urls": [{"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com", "paragraph_index": 30}], "all_paragraphs": ["Prophet is a forecasting model by Facebook that forecasts time series using special adjustments for factors such as seasonality, holiday periods, and changepoints.", "Let\u2019s investigate this further by building a Prophet model to forecast air passenger numbers.", "The dataset is sourced from the San Francisco International Airport Report on Monthly Passenger Traffic Statistics by Airline, which is available from data.world (Original Source: San Francisco Open Data) as indicated in the References section below.", "Specifically, adjusted passenger numbers for the airline KLM (enplaned) are filtered as the time series for analysis from the period May 2005 to March 2016.", "As we can see, the time series shows quite a stationary pattern (one where there is a constant mean, variance and autocorrelation.", "We will not formally test for this condition here, but it is also evident that there appears to be significant seasonality present in the dataset \u2014 i.e. significant shifts in the time series trend that occur at certain time intervals.", "From a visual inspection of the time series, it would appear that this shift happens approximately every eight months or so.", "With that in mind, let\u2019s get started on building a forecasting model.", "The first step is to properly format the data in order to work with Prophet.", "Here is the dataframe that will be used as the test set (the part of the time series we are trying to predict), with the time interval defined as monthly:", "We firstly define a model as follows:", "Here is a plot of the forecast:", "Here are the components of the forecast:", "Note that we observed visually that seasonality appears to be present in the dataset. However, given that we are working with a monthly dataset \u2014 we will not use Prophet to explicitly model seasonality in this instance.", "There are two reasons for this:", "A changepoint represents a significant structural shift in a time series.", "For instance, the big drop in air passenger numbers after the onset of COVID-19 would represent a significant structural shift in the data.", "For instance, here is the indicated changepoints on the model when the appropriate parameter is set to 4.", "We see that the significant changepoint as indicated in the model lies between 2007\u20132009.", "What is interesting is that while passenger numbers did see a significant decline for 2009\u200a\u2014\u200anumbers were still higher on average for this period than for 2005\u20132007, indicating that the overall demand for air travel (for KLM flights from San Francisco at least) actually grew towards the end of the decade.", "Now that the forecasting model has been built, the predicted passenger numbers are compared to the test set in order to determine model accuracy.", "With the changepoint set to 4, we obtain the following error metrics:", "With a mean of 8,799 passengers per month \u2014 the errors are quite low in comparison to this figure \u2014 indicating that the model is performing well in forecasting monthly passenger numbers.", "However, it is important to note that the model accuracy is significantly influenced by the changepoint parameter.", "Let\u2019s see what happens to the RMSE when the changepoints are modified.", "We can see that the RMSE drops quite dramatically as more changepoints are introduced \u2014 but the RMSE is minimised at 4 changepoints.", "In this example, you have seen:", "Hope you found this of use, and grateful for any thoughts or feedback!", "Disclaimer: This article is written on an \u201cas is\u201d basis and without warranty. It was written with the intention of providing an overview of data science concepts, and should not be interpreted as professional advice in any way.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Science Consultant with expertise in economics, time series analysis, and Bayesian methods | michael-grogan.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F6f29c7989681&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-with-prophet-air-passenger-data-6f29c7989681&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-with-prophet-air-passenger-data-6f29c7989681&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-with-prophet-air-passenger-data-6f29c7989681&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-with-prophet-air-passenger-data-6f29c7989681&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----6f29c7989681--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6f29c7989681--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----6f29c7989681--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----6f29c7989681--------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-with-prophet-air-passenger-data-6f29c7989681&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178----6f29c7989681---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6f29c7989681&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-with-prophet-air-passenger-data-6f29c7989681&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6f29c7989681&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-with-prophet-air-passenger-data-6f29c7989681&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/users/free-photos-242387/", "anchor_text": "Free-Photos"}, {"url": "https://pixabay.com/photos/plane-trip-journey-explore-841441/", "anchor_text": "Pixabay"}, {"url": "https://kourentzes.com/forecasting/2014/11/09/additive-and-multiplicative-seasonality/", "anchor_text": "Additive and multiplicative seasonality \u2014 can you identify them correctly?"}, {"url": "https://data.world/data-society/air-traffic-passenger-data", "anchor_text": "data.world: Air Traffic Passenger Data"}, {"url": "https://data.sfgov.org/Transportation/Air-Traffic-Passenger-Statistics/rkru-6vcg", "anchor_text": "San Francisco Open Data"}, {"url": "https://github.com/facebook/prophet", "anchor_text": "GitHub: facebook/prophet"}, {"url": "https://robjhyndman.com/hyndsight/monthly-seasonality/", "anchor_text": "Rob J Hyndman: Monthly Seasonality"}, {"url": "https://medium.com/tag/time-series?source=post_page-----6f29c7989681---------------time_series-----------------", "anchor_text": "Time Series"}, {"url": "https://medium.com/tag/data-science?source=post_page-----6f29c7989681---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/econometrics?source=post_page-----6f29c7989681---------------econometrics-----------------", "anchor_text": "Econometrics"}, {"url": "https://medium.com/tag/seasonality?source=post_page-----6f29c7989681---------------seasonality-----------------", "anchor_text": "Seasonality"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----6f29c7989681---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6f29c7989681&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-with-prophet-air-passenger-data-6f29c7989681&user=Michael+Grogan&userId=eec017a8b178&source=-----6f29c7989681---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6f29c7989681&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-with-prophet-air-passenger-data-6f29c7989681&user=Michael+Grogan&userId=eec017a8b178&source=-----6f29c7989681---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6f29c7989681&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-with-prophet-air-passenger-data-6f29c7989681&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6f29c7989681--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F6f29c7989681&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-with-prophet-air-passenger-data-6f29c7989681&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----6f29c7989681---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----6f29c7989681--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----6f29c7989681--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----6f29c7989681--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----6f29c7989681--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----6f29c7989681--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----6f29c7989681--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----6f29c7989681--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----6f29c7989681--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://mgcodesandstats.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.5K Followers"}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-with-prophet-air-passenger-data-6f29c7989681&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3c6e2607915&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-analysis-with-prophet-air-passenger-data-6f29c7989681&newsletterV3=eec017a8b178&newsletterV3Id=3c6e2607915&user=Michael+Grogan&userId=eec017a8b178&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}