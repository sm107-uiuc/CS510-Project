{"url": "https://towardsdatascience.com/arima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608", "time": 1683011951.210568, "path": "towardsdatascience.com/arima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608/", "webpage": {"metadata": {"title": "ARIMA vs. Prophet: Forecasting Air Passenger Numbers | by Michael Grogan | Towards Data Science", "h1": "ARIMA vs. Prophet: Forecasting Air Passenger Numbers", "description": "In this example, an ARIMA (Autoregressive Integrated Moving Average) model is built using R to forecast air passenger numbers using the San Francisco International Airport Report on Monthly Passenger\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/time-series-analysis-with-prophet-air-passenger-data-6f29c7989681", "anchor_text": "Time Series Analysis with Prophet: Air Passenger Data", "paragraph_index": 0}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com", "paragraph_index": 40}], "all_paragraphs": ["This is a follow-up to my prior article: Time Series Analysis with Prophet: Air Passenger Data", "In this example, an ARIMA (Autoregressive Integrated Moving Average) model is built using R to forecast air passenger numbers using the San Francisco International Airport Report on Monthly Passenger Traffic Statistics by Airline.", "Specifically, adjusted passenger numbers for the airline KLM (enplaned) are filtered as the time series for analysis from the period May 2005 to March 2016.", "The results will be compared to those obtained by Prophet to see how ARIMA performs relative to this model.", "The model is trained on 90% of the time series (training set), with the latter 10% of the series being used to compare to the predictions (test set).", "An ARIMA model consists of coordinates (p, d, q):", "When it comes to forecasting, a key assumption for time series data is that of stationarity. This is where the mean, variance, and autocorrelation of a series are constant.", "The reason for this assumption is that if the mean, variance and autocorrelation of a series are not constant over time \u2014 then it makes it a lot harder to use forecasting models to make predictions.", "However, as we have noted above, the d parameter in the ARIMA model denotes the number of differences needed to make the series stationary. When using the auto.arima feature in R, the p, d, and q values are selected automatically.", "Stationarity can usually be indicated visually through a visual inspection of the data.", "Let\u2019s have a look at the time series again.", "We can see that \u2014 on the whole \u2014 the time series demonstrates a zig-zag pattern with little to no change in the overall trend over time.", "However, this can formally be tested for using the Dickey-Fuller test. The null hypothesis is that the series has a unit root present (non-stationarity), with the alternative hypothesis being stationarity or trend stationarity.", "The test for a unit root is as follows:", "When running the test on the series, a p-value of 0.01 is obtained, meaning that the null hypothesis is rejected at the 5% level of significance \u2014 indicating stationarity is present in the series.", "The p parameter in ARIMA accounts for the number of autoregressive terms in the model \u2014 which allows the model to handle autocorrelation. Autocorrelation is a situation where correlation exists between the error terms across different observations in the time series, and this can also skew forecasts.", "Here is the ACF (autocorrelation function) plot for the time series (maximum lags of 20 are set):", "We see that autocorrelations persist for two months after lag 0, with positive and negative correlations persisting at the 6-month and 12-month period. In this instance, the lags are monthly \u2014 hence the 6-month period is indicated as 0.5, while the 12-month period is indicated as 1.0.", "The partial autocorrelation function seeks to remove indirect correlations that result from inherent linear functions that exist between each observation.", "Here is the partial autocorrelation plot for the series:", "We see that the partial autocorrelation function still shows correlations (albeit negative) persisting two months after lag 0. Therefore, the ARIMA model will need to be configured in such a way so as to account for the correct number of autoregressive terms.", "Here is a general overview of the components for the time series trend:", "When looking at the series, significant seasonality patterns are observed roughly every six to eight months. With that in mind, the ARIMA model will need to account for such seasonality in its forecasts.", "Given the visual indication of autocorrelation as well as seasonality, auto.arima is used to automatically generate many ARIMA models with differing p, d, and q coordinates \u2014 the best model is then selected based on the one with the lowest BIC (Bayesian Information Criterion).", "The coefficients for this model are as follows:", "The ARIMA model generates the following forecasts:", "The RMSE (root mean squared error) and MFE (mean forecast error) are as follows:", "One key difference between ARIMA and Prophet is that the Prophet model accounts for \u201cchange points\u201d, or specific shifts in trend in the time series. While it is technically possible to do this with ARIMA in R \u2014 it requires use of a separate package called AEDForecasting.", "Prophet works through use of an additive model whereby the non-linear trends in the series are fitted with the appropriate seasonality (whether daily, weekly, or yearly).", "In this particular dataset, a shift in trend came after 2009 \u2014 when we saw a reversal of growth in the overall trend for passenger demand:", "A standard Prophet model was fitted to the dataset, without any manual specifications for seasonality:", "Through trial and error, 4 change points were shown to minimise the RMSE and MFE and therefore were defined as the appropriate number of change points in the model:", "The RMSE and MAE are calculated as follows:", "With an RMSE and MFE of 524 and 71 obtained with Prophet respectively, the errors are significantly lower than the errors of 698 and -115 obtained with ARIMA.", "From this standpoint, while ARIMA has accounted for patterns such as seasonality and autocorrelation in the time series \u2014 Prophet has excelled at correctly identifying the relevant change point in the series \u2014 and this appears to have boosted the forecast accuracy for the model.", "It may be possible that ARIMA would excel when forecasting data with a more clearly defined trend or one that does not particularly exhibit seasonality \u2014 we saw very clear signs of this for the dataset in question. However, other cases where seasonality is not present may not be suitable for use with Prophet.", "In this example, we have seen:", "Many thanks for reading, and questions or feedback are always welcome.", "Disclaimer: This article is written on an \u201cas is\u201d basis and without warranty. It was written with the intention of providing an overview of data science concepts, and should not be interpreted as professional advice in any way.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Science Consultant with expertise in economics, time series analysis, and Bayesian methods | michael-grogan.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4e01b2d93608&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4e01b2d93608--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4e01b2d93608--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----4e01b2d93608--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----4e01b2d93608--------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178----4e01b2d93608---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4e01b2d93608&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4e01b2d93608&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/time-series-analysis-with-prophet-air-passenger-data-6f29c7989681", "anchor_text": "Time Series Analysis with Prophet: Air Passenger Data"}, {"url": "https://medium.com/analytics-vidhya/sarima-forecasting-seasonal-data-with-python-and-r-2e7472dfad83", "anchor_text": "Analytics Vidhya: SARIMA \u2014 Forecasting Seasonal Data with Python and R"}, {"url": "https://cran.r-project.org/web/packages/AEDForecasting/AEDForecasting.pdf", "anchor_text": "CRAN \u2014 Package AEDForecasting"}, {"url": "https://data.world/data-society/air-traffic-passenger-data", "anchor_text": "data.world: Air Traffic Passenger Data"}, {"url": "https://data.sfgov.org/Transportation/Air-Traffic-Passenger-Statistics/rkru-6vcg", "anchor_text": "San Francisco Open Data"}, {"url": "https://github.com/facebook/prophet", "anchor_text": "GitHub: facebook/prophet"}, {"url": "https://machinelearningmastery.com/gentle-introduction-autocorrelation-partial-autocorrelation/", "anchor_text": "Machine Learning Mastery: A Gentle Introduction to Autocorrelation and Partial Autocorrelation"}, {"url": "https://medium.com/tag/data-science?source=post_page-----4e01b2d93608---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----4e01b2d93608---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/statistics?source=post_page-----4e01b2d93608---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/time-series?source=post_page-----4e01b2d93608---------------time_series-----------------", "anchor_text": "Time Series"}, {"url": "https://medium.com/tag/forecasting?source=post_page-----4e01b2d93608---------------forecasting-----------------", "anchor_text": "Forecasting"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4e01b2d93608&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608&user=Michael+Grogan&userId=eec017a8b178&source=-----4e01b2d93608---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4e01b2d93608&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608&user=Michael+Grogan&userId=eec017a8b178&source=-----4e01b2d93608---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4e01b2d93608&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4e01b2d93608--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4e01b2d93608&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4e01b2d93608---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4e01b2d93608--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4e01b2d93608--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4e01b2d93608--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4e01b2d93608--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4e01b2d93608--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4e01b2d93608--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4e01b2d93608--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4e01b2d93608--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://mgcodesandstats.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.5K Followers"}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3c6e2607915&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Farima-vs-prophet-forecasting-air-passenger-numbers-4e01b2d93608&newsletterV3=eec017a8b178&newsletterV3Id=3c6e2607915&user=Michael+Grogan&userId=eec017a8b178&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}