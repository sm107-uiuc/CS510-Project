{"url": "https://towardsdatascience.com/how-to-use-high-performance-local-storage-for-ai-workloads-on-aws-outposts-3203b2853cc4", "time": 1683014257.024294, "path": "towardsdatascience.com/how-to-use-high-performance-local-storage-for-ai-workloads-on-aws-outposts-3203b2853cc4/", "webpage": {"metadata": {"title": "How to access local storage from AWS Outposts | Towards Data Science", "h1": "How to use local storage withAWS Outposts for AI workloads", "description": "Accessing local file and object storage from within EC2 instances running inside an AWS Outpost."}, "outgoing_paragraph_urls": [{"url": "https://aws.amazon.com/outposts/", "anchor_text": "AWS Outposts", "paragraph_index": 2}, {"url": "https://www.purestorage.com/products/flashblade.html", "anchor_text": "FlashBlade", "paragraph_index": 3}, {"url": "https://blogs.nvidia.com/blog/2019/12/03/aws-outposts-t4-gpus/", "anchor_text": "GPU Outpost configuration", "paragraph_index": 9}, {"url": "https://aws.amazon.com/blogs/storage/connecting-aws-outposts-to-on-premises-data-sources/", "anchor_text": "a great article", "paragraph_index": 10}, {"url": "https://medium.com/@emwatz/use-nconnect-to-effortlessly-increase-nfs-performance-4ceb46c64089", "anchor_text": "Use nconnect to effortlessly increase NFS performance", "paragraph_index": 14}, {"url": "https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-quickstart.html#cli-configure-quickstart-creds", "anchor_text": "AWS Command Line Interface User Guide", "paragraph_index": 15}, {"url": "https://aws.amazon.com/emr/", "anchor_text": "AWS EMR", "paragraph_index": 19}, {"url": "https://medium.com/@emwatz/create-amazon-emr-clusters-on-aws-outposts-bec702ec3bae", "anchor_text": "Create Amazon EMR Clusters on AWS Outposts", "paragraph_index": 22}], "all_paragraphs": ["From self-driving cars and financial transactions to transit systems, many use cases require the ability to process data in near real time and locally. Stuff is happening, and we need to make decisions about it asap. There\u2019s no time for transferring all that data back to the public cloud.", "So, many organizations are choosing to extend their public cloud projects to private, on-premises locations, building a hybrid cloud solution.", "AWS Outposts is one of the ways that organizations with a cloud-first initiative can meet local data processing or low-latency requirements. With an Outpost rack, you can deploy AWS compute hardware in your data center.", "This post gives an introduction to hybrid cloud AI workflows and describes how to pair local storage with AWS Outposts. In this post, I use Pure Storage FlashBlade as an example storage server since it supports both file and object storage from the same device.", "As data science teams ramp up their models to production, they have to support larger-scale data ingest and data processing as part of inference.", "Often the performance penalty (or cost) of transferring large datasets into the public cloud is prohibitive. Or, the connection from edge to public cloud may be unreliable. Because of these limitations, teams with massive data ingest are relocating AI inference from the public cloud to edge data centers.", "Note: In this case, we use \u201cedge\u201d to mean the distributed computing model where service delivery is performed at multiple edge sites, such as colocation facilities.", "Teams may centralize model development in the public cloud and then deploy finalized models into edge data centers for inference. Teams can perform initial analytics at the edge to identify anomalies or interesting data points to send back to the public cloud for further analysis or retraining.", "For example, an autonomous-vehicle company might have a fleet of cars driving around generating 2TB logs of data per vehicle each day. Yet, their computer vision training datasets might not have enough samples of a specific signpost variant (other things the cars might cross paths with). So, the company\u2019s data scientists might perform inference at the edge location to pull out data points with these high-value anomalies that they can then feed into model retraining.", "The full datasets are ingested into local servers, and AWS Outposts\u2013maybe even a GPU Outpost configuration\u2013can be used as the edge compute for inference.", "Josh Coen, a senior solutions architect at Amazon wrote a wrote a great article that highlights the simplicity of the networking paths between an Outpost and an adjacent storage device.", "After connectivity is set up, it\u2019s easy to start using those external datasets. In this section, I demonstrate how EC2 instances inside an Outpost can interact with on-prem file and object data.", "Use the data vip to mount the filesystem to a directory inside the instance. Example:", "Confirm via ls that contents of the mounted filesystem appear as expected from within the EC2 instance.", "Note: for increased performance via multiple TCP connections per mount point, use the nconnect mount option. Learn more: Use nconnect to effortlessly increase NFS performance.", "Like the process for in-Region instances, an IAM role with S3 access must be associated with the instance before users can access S3. (For more information, refer to the AWS Command Line Interface User Guide.)", "Use the aws configure command to add the Access Key ID and Secret Access Key for the FlashBlade object storage user.", "Use the aws s3 ls command to verify that the EC2 instance has access to buckets on the FlashBlade. Because the system is using a custom endpoint instead of the default AWS S3, specify an --endpoint-url with the previously-created data VIP on FlashBlade.", "At this point, the Outpost EC2 instance is ready to consume both file and object data stored on FlashBlade.", "Often, it\u2019s not sufficient to only perform inference directly from raw data at the edge. Organizations frequently chose to preprocess the data or otherwise manipulate it before running inference. You can use a service like AWS EMR to perform preprocessing steps inside the Outpost.", "To simplify infrastructure, organizations can utilize that same shared storage across the entire edge analytics pipeline.", "Once you have the cluster instance(s) running, it\u2019s easy for cluster workloads to access data on the local storage server.", "For instructions on launching the cluster, see my post: Create Amazon EMR Clusters on AWS Outposts", "To access objects on FlashBlade S3 from this cluster, submit a job with the FlashBlade endpoint and credentials included. Example:", "Alternatively, document the FlashBlade specs in the spark-defaults.conf file to use them by default automatically.", "Add the following lines to the bottom of the file:", "You can now submit jobs without specifying the FlashBlade specs in-line:", "Hybrid cloud deployments are becoming more common, especially to support edge analytics. Using FlashBlade as an example storage server, we demonstrated the quick steps to use local file and object storage with AWS Outpost EC2 instances. This enables data scientists to deploy edge inference pipelines that can consume large datasets and perform analytics locally.", "Using performant local storage with Outposts helps eliminate the latency of sending analytics queries to the public cloud and helps prevent the transfer time incurred by pushing all edge data to the public cloud (and it might even help in complying with data governance mandates). By pairing simple-to-manage compute and storage infrastructures, hybrid cloud deployments can become easier.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F3203b2853cc4&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-high-performance-local-storage-for-ai-workloads-on-aws-outposts-3203b2853cc4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-high-performance-local-storage-for-ai-workloads-on-aws-outposts-3203b2853cc4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-high-performance-local-storage-for-ai-workloads-on-aws-outposts-3203b2853cc4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-high-performance-local-storage-for-ai-workloads-on-aws-outposts-3203b2853cc4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----3203b2853cc4--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3203b2853cc4--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@aihelper?source=post_page-----3203b2853cc4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@aihelper?source=post_page-----3203b2853cc4--------------------------------", "anchor_text": "Emily P."}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fff882220c17d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-high-performance-local-storage-for-ai-workloads-on-aws-outposts-3203b2853cc4&user=Emily+P.&userId=ff882220c17d&source=post_page-ff882220c17d----3203b2853cc4---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3203b2853cc4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-high-performance-local-storage-for-ai-workloads-on-aws-outposts-3203b2853cc4&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3203b2853cc4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-high-performance-local-storage-for-ai-workloads-on-aws-outposts-3203b2853cc4&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@designedforadventure?utm_source=medium&utm_medium=referral", "anchor_text": "Michelle"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://aws.amazon.com/outposts/", "anchor_text": "AWS Outposts"}, {"url": "https://www.purestorage.com/products/flashblade.html", "anchor_text": "FlashBlade"}, {"url": "https://blogs.nvidia.com/blog/2019/12/03/aws-outposts-t4-gpus/", "anchor_text": "GPU Outpost configuration"}, {"url": "https://aws.amazon.com/blogs/storage/connecting-aws-outposts-to-on-premises-data-sources/", "anchor_text": "a great article"}, {"url": "https://medium.com/@emwatz/launch-ec2-instances-on-aws-outposts-fc4a0e12bd27", "anchor_text": "Launch an EC2 instance within the Outpost"}, {"url": "https://medium.com/@emwatz/use-nconnect-to-effortlessly-increase-nfs-performance-4ceb46c64089", "anchor_text": "Use nconnect to effortlessly increase NFS performance"}, {"url": "https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-quickstart.html#cli-configure-quickstart-creds", "anchor_text": "AWS Command Line Interface User Guide"}, {"url": "https://aws.amazon.com/emr/", "anchor_text": "AWS EMR"}, {"url": "https://medium.com/@emwatz/create-amazon-emr-clusters-on-aws-outposts-bec702ec3bae", "anchor_text": "Create Amazon EMR Clusters on AWS Outposts"}, {"url": "https://medium.com/@emwatz/launch-ec2-instances-on-aws-outposts-fc4a0e12bd27", "anchor_text": "Launch EC2 Instances on AWS OutpostsA visual guidemedium.com"}, {"url": "https://medium.com/@emwatz/create-amazon-emr-clusters-on-aws-outposts-bec702ec3bae", "anchor_text": "Create Amazon EMR Clusters on AWS OutpostsA visual guidemedium.com"}, {"url": "https://medium.com/tag/aws?source=post_page-----3203b2853cc4---------------aws-----------------", "anchor_text": "AWS"}, {"url": "https://medium.com/tag/cloud-computing?source=post_page-----3203b2853cc4---------------cloud_computing-----------------", "anchor_text": "Cloud Computing"}, {"url": "https://medium.com/tag/edge-computing?source=post_page-----3203b2853cc4---------------edge_computing-----------------", "anchor_text": "Edge Computing"}, {"url": "https://medium.com/tag/ai?source=post_page-----3203b2853cc4---------------ai-----------------", "anchor_text": "AI"}, {"url": "https://medium.com/tag/hybrid-cloud?source=post_page-----3203b2853cc4---------------hybrid_cloud-----------------", "anchor_text": "Hybrid Cloud"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3203b2853cc4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-high-performance-local-storage-for-ai-workloads-on-aws-outposts-3203b2853cc4&user=Emily+P.&userId=ff882220c17d&source=-----3203b2853cc4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3203b2853cc4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-high-performance-local-storage-for-ai-workloads-on-aws-outposts-3203b2853cc4&user=Emily+P.&userId=ff882220c17d&source=-----3203b2853cc4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3203b2853cc4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-high-performance-local-storage-for-ai-workloads-on-aws-outposts-3203b2853cc4&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3203b2853cc4--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F3203b2853cc4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-high-performance-local-storage-for-ai-workloads-on-aws-outposts-3203b2853cc4&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----3203b2853cc4---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----3203b2853cc4--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----3203b2853cc4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----3203b2853cc4--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----3203b2853cc4--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----3203b2853cc4--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----3203b2853cc4--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----3203b2853cc4--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----3203b2853cc4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@aihelper?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@aihelper?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Emily P."}, {"url": "https://medium.com/@aihelper/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "179 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fff882220c17d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-high-performance-local-storage-for-ai-workloads-on-aws-outposts-3203b2853cc4&user=Emily+P.&userId=ff882220c17d&source=post_page-ff882220c17d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F726ef29b5f75&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-high-performance-local-storage-for-ai-workloads-on-aws-outposts-3203b2853cc4&newsletterV3=ff882220c17d&newsletterV3Id=726ef29b5f75&user=Emily+P.&userId=ff882220c17d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}