{"url": "https://towardsdatascience.com/step-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2", "time": 1683015899.832638, "path": "towardsdatascience.com/step-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2/", "webpage": {"metadata": {"title": "Step-by-step Tutorial to Deploy Kubernetes to Your GCP Cloud | by Zora Li | Towards Data Science", "h1": "Step-by-step Tutorial to Deploy Kubernetes to Your GCP Cloud", "description": "As a data scientist in practice, I feel the trend of pushing the traditional routine of data processing, model training, and inference into an integrated pipeline with (CI/CD)Continuous\u2026"}, "outgoing_paragraph_urls": [{"url": "https://docs.gitlab.com/ee/ci/", "anchor_text": "CI/CD", "paragraph_index": 0}, {"url": "https://stackoverflow.blog/2020/05/29/why-kubernetes-getting-so-popular/", "anchor_text": "This blog", "paragraph_index": 1}, {"url": "https://cloud.google.com/kubernetes-applications", "anchor_text": "list", "paragraph_index": 5}, {"url": "https://cloud.google.com/kubernetes-engine/", "anchor_text": "Google Kubernetes Engine", "paragraph_index": 6}, {"url": "https://cloud.google.com/sdk/docs/install", "anchor_text": "gcloud", "paragraph_index": 7}, {"url": "https://cloud.google.com/sdk/docs/install", "anchor_text": "official guide", "paragraph_index": 8}, {"url": "https://kubernetes.io/docs/reference/access-authn-authz/rbac/#kubectl-create-clusterrolebinding", "anchor_text": "grant permission", "paragraph_index": 13}, {"url": "https://helm.sh/docs/intro/install/", "anchor_text": "helm", "paragraph_index": 14}, {"url": "https://artifacthub.io/", "anchor_text": "Helm Chart", "paragraph_index": 14}, {"url": "https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/customization.html", "anchor_text": "guide", "paragraph_index": 18}, {"url": "https://zero-to-jupyterhub.readthedocs.io/en/latest/resources/reference.html#singleuser-memory", "anchor_text": "here", "paragraph_index": 18}, {"url": "https://helm.sh/docs/helm/helm_upgrade/", "anchor_text": "here", "paragraph_index": 20}, {"url": "https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/installation.html", "anchor_text": "guide", "paragraph_index": 22}, {"url": "https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/installation.html", "anchor_text": "guide", "paragraph_index": 23}, {"url": "https://jupyterhub.readthedocs.io/en/stable/getting-started/authenticators-users-basics.html", "anchor_text": "this link", "paragraph_index": 27}, {"url": "https://cloud.google.com/kubernetes-engine/docs/how-to/deleting-a-cluster#deleting_a_cluster", "anchor_text": "delete", "paragraph_index": 28}, {"url": "https://www.linkedin.com/in/zoraxl/", "anchor_text": "https://www.linkedin.com/in/zoraxl/", "paragraph_index": 31}], "all_paragraphs": ["As a data scientist in practice, I feel the trend of pushing the traditional routine of data processing, model training, and inference into an integrated pipeline with (CI/CD)Continuous Integration/Continuous Deployment, whose concepts are borrowed from DevOps. There are two primary reasons, at least from my perspective. One is that modeling is stepping out of the prototyping phase to the massive adoption of the model to the production, either as an add-on or application. The other reason is the rising need of bringing the whole modeling experience to the cloud and the enhanced orchestration of the model development.", "Urging by the need, I started my upskilling journeys with tools that fit in the transformation of modeling, like Kubernetes. It is a hit right now and it has acquired its reputation of easy scaling, portability, and extensibility. This blog here specifically laid out the components that it offers. Yet when I started my research and get my hands on it, I feel overwhelmed by all these concepts and \u201cofficial guides\u201d for not being a trained software developer. I chewed up all these materials bit by bit and started to gain the fuller picture even though I don\u2019t have an experienced background in DevOps. My notes and understanding are all in this tutorial and I hope this can be an easy yet accomplishing start for those who are also in need of upskilling themselves in Kubernetes.", "Kubernetes define itself as a production-grade, open-source platform that orchestrates executions of application containers within and across computer clusters. Simply put, Kubernetes is a manager of a couple of computers assembled for you to perform application on. It is the command center to execute the tasks you assign to it: scheduling applications, regular maintenance, scaling up capacity, and rolling out updates.", "The most basic components of a Kubernetes cluster are master and node. The master is the manager, the center of the cluster. A node is a virtual machine or a physical computer. Each node has a Kubelet that manages it and communicate with the master. Since the node is a VM, we should also have Docker/Container as a tool to execute our applications.", "Now we know the basics of Kubernetes, we may start to wonder what can it do from a data scientist's perspective. In my view and experience, I do find the concepts of Kubernetes very appealing, especially when you think the modeling should eventually be productized as an application/service. The issues where it hinders many products designer like scalability and extensibility will also be a part of the consideration when we want to make the models accessible to the end-user.", "Google offers a list of applications that they have for on-premise solutions. But what we want to achieve here is to use and customize Kubernetes for our needs and purposes. Thus this tutorial will grind from the bottom up that we start from the basics to setup GCP all the way to deploy an application onto the Kubernetes cluster.", "In this tutorial, we will use Google Kubernetes Engine to set up a Kubernetes cluster. But before you start, make sure the following prerequisites are met:", "3. Install gcloud. You can use the web-based terminal or your own computer terminal. To find you web-based terminal in the GCP console:", "It is recommended to follow the official guide to install gcloud, but you can also use the following command for your convenience:", "4. Install kubectl. This step is simple: after setting up the gcloud, enter the command:", "Once we have all preceding steps fulfilled, the project can now use Google Cloud SDK to create a managed Kubernetes cluster.", "If the cluster is properly created, it will display info as the following:", "2. To test the newly set up cluster, we use can use kubectl:", "3. Next we will grant permission to the user to perform admin actions.", "4. Install helm. Helm is a package manager for Kubernetes applications. You can use the Helm Chart to search for the applications/packages to deploy to Kubernetes. Helm Chart are preset abstractions to describe how packages will be installed to Kubernetes", "With Helm installed, we can check what is installed in the cluster by calling:", "Now your Kubernetes is ready to go! Congrats \ud83e\udd13", "Before starting out with the installation process, it is always helpful to inspect from a higher level and understand what it looks like. In the previous steps, we have finish setup the Kubernetes Cluster with Helm installed. Now we want to deploy an application to it and start using it. For the example here I will use JupyterHub that can serve multiple users. The following is the structure of this exercise for easier reference.", "JupyterHub provides a very comprehensive guide on how to set up the configuration. I am adding some useful customizations for data science purposes. You can also refer to the guide to setup your customization or use the reference here to navigate your needs.", "If you want to only follow the example, just copy&paste the above and replace the necessary credential. Use nano config.yaml or vim config.yaml to create the yaml file and replace the content.", "3. Install with Helm. The following scripts will install JupyterHub with helm upgrade . For details with the command, check here for reference.", "For future upgrade with helm , we don\u2019t need to create the namespace.", "This part is very thoroughly explained by the guide from JupyterHub and personally, I find it super helpful to read. The RELEASE specify how you want to call from helm command and NAMESPACE is what you want to identify with kubectl .", "Rest while helm kicks off the installation and once it is properly setup, you will see the finishing messages by JupyterHub. If you need to troubleshoot any issues with this step, refer to the guide or use kubectl get events to retrieve the log and find out what is going on by yourself.", "4. Check status and test your JupyterHub. After setting up correctly, we should see the hub is ready by calling:", "To access the Hub with your cluster, call the following to acquire the IP address:", "Copy&Paste your external-IP to a new browser, and it should navigate you to the JupyerHub sign-in page. You can start using your own JupyterHub with Kubernetes cluster.", "Notice here we haven\u2019t setup any authentication for users so we can just enter random username and password to get started. However, if you are looking for more security to protect your cluster, check this link to setup your authentication with JupyerHub.", "Cloud is not cheap if you keep it idle without doing anything. So if you are no longer need your cluster, it is recommended to delete it.", "I learnt a ton from the implementation of this example and I hope you feel the same. Kubernetes are not all about mystery and as a data scientist, even without prior training, can understand the fundamentals and get hands-on on practical applications. I will continue writing about my research, thoughts, and application with Kubernetes and demystify with plain and simple language. Peace! \ud83e\udd17", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Enthusiast | Data Scientist | https://www.linkedin.com/in/zoraxl/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F171e739eedc2&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----171e739eedc2--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----171e739eedc2--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://zorali2788.medium.com/?source=post_page-----171e739eedc2--------------------------------", "anchor_text": ""}, {"url": "https://zorali2788.medium.com/?source=post_page-----171e739eedc2--------------------------------", "anchor_text": "Zora Li"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F67ce20fa0d10&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2&user=Zora+Li&userId=67ce20fa0d10&source=post_page-67ce20fa0d10----171e739eedc2---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F171e739eedc2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F171e739eedc2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/hands-on-tutorials", "anchor_text": "Hands-on Tutorials"}, {"url": "https://unsplash.com/@cgower?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Christopher Gower"}, {"url": "https://unsplash.com/s/photos/portable?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://docs.gitlab.com/ee/ci/", "anchor_text": "CI/CD"}, {"url": "https://stackoverflow.blog/2020/05/29/why-kubernetes-getting-so-popular/", "anchor_text": "This blog"}, {"url": "https://kubernetes.io/docs/tutorials/kubernetes-basics/create-cluster/cluster-intro/", "anchor_text": "Kubernetes"}, {"url": "https://cloud.google.com/kubernetes-applications", "anchor_text": "list"}, {"url": "https://cloud.google.com/kubernetes-engine/", "anchor_text": "Google Kubernetes Engine"}, {"url": "https://cloud.google.com/", "anchor_text": "GCP"}, {"url": "https://console.cloud.google.com/", "anchor_text": "console"}, {"url": "https://console.cloud.google.com/apis/api/container.googleapis.com/overview", "anchor_text": "Kubernetes Engine AP"}, {"url": "https://cloud.google.com/sdk/docs/install", "anchor_text": "gcloud"}, {"url": "https://cloud.google.com/sdk/docs/install", "anchor_text": "official guide"}, {"url": "https://cloud.google.com/sdk/gcloud/reference/container/clusters/create#--machine-type", "anchor_text": "machine-type"}, {"url": "https://cloud.google.com/sdk/gcloud/reference/container/clusters/create#--num-nodes", "anchor_text": "num-nodes"}, {"url": "https://cloud.google.com/kubernetes-engine/docs/how-to/resizing-a-cluster", "anchor_text": "gcloud command"}, {"url": "https://cloud.google.com/sdk/gcloud/reference/container/clusters/create#--zone", "anchor_text": "zone"}, {"url": "https://cloud.google.com/compute/docs/regions-zones/#available", "anchor_text": "zone"}, {"url": "https://kubernetes.io/docs/reference/access-authn-authz/rbac/#kubectl-create-clusterrolebinding", "anchor_text": "grant permission"}, {"url": "https://helm.sh/docs/intro/install/", "anchor_text": "helm"}, {"url": "https://artifacthub.io/", "anchor_text": "Helm Chart"}, {"url": "http://penssl rand -hex 32", "anchor_text": "proxy"}, {"url": "https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/customization.html", "anchor_text": "guide"}, {"url": "https://zero-to-jupyterhub.readthedocs.io/en/latest/resources/reference.html#singleuser-memory", "anchor_text": "here"}, {"url": "https://zero-to-jupyterhub.readthedocs.io/en/latest/resources/reference.html#singleuser-image", "anchor_text": "image"}, {"url": "https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#jupyter-datascience-notebook", "anchor_text": "data-science notebook"}, {"url": "https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html", "anchor_text": "here"}, {"url": "https://hub.docker.com/r/jupyter/pyspark-notebook/tags/", "anchor_text": "here"}, {"url": "https://zero-to-jupyterhub.readthedocs.io/en/latest/resources/reference.html#singleuser-memory", "anchor_text": "memory"}, {"url": "https://helm.sh/docs/helm/helm_upgrade/", "anchor_text": "here"}, {"url": "https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/installation.html", "anchor_text": "guide"}, {"url": "https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/installation.html", "anchor_text": "guide"}, {"url": "https://jupyterhub.readthedocs.io/en/stable/getting-started/authenticators-users-basics.html", "anchor_text": "this link"}, {"url": "https://cloud.google.com/kubernetes-engine/docs/how-to/deleting-a-cluster#deleting_a_cluster", "anchor_text": "delete"}, {"url": "https://medium.com/tag/kubernetes?source=post_page-----171e739eedc2---------------kubernetes-----------------", "anchor_text": "Kubernetes"}, {"url": "https://medium.com/tag/cloud?source=post_page-----171e739eedc2---------------cloud-----------------", "anchor_text": "Cloud"}, {"url": "https://medium.com/tag/google-cloud-platform?source=post_page-----171e739eedc2---------------google_cloud_platform-----------------", "anchor_text": "Google Cloud Platform"}, {"url": "https://medium.com/tag/data-science?source=post_page-----171e739eedc2---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/hands-on-tutorials?source=post_page-----171e739eedc2---------------hands_on_tutorials-----------------", "anchor_text": "Hands On Tutorials"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F171e739eedc2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2&user=Zora+Li&userId=67ce20fa0d10&source=-----171e739eedc2---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F171e739eedc2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2&user=Zora+Li&userId=67ce20fa0d10&source=-----171e739eedc2---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F171e739eedc2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----171e739eedc2--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F171e739eedc2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----171e739eedc2---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----171e739eedc2--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----171e739eedc2--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----171e739eedc2--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----171e739eedc2--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----171e739eedc2--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----171e739eedc2--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----171e739eedc2--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----171e739eedc2--------------------------------", "anchor_text": ""}, {"url": "https://zorali2788.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://zorali2788.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Zora Li"}, {"url": "https://zorali2788.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "13 Followers"}, {"url": "https://www.linkedin.com/in/zoraxl/", "anchor_text": "https://www.linkedin.com/in/zoraxl/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F67ce20fa0d10&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2&user=Zora+Li&userId=67ce20fa0d10&source=post_page-67ce20fa0d10--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F6a46f4500e4f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-tutorial-to-deploy-kubernetes-to-your-gcp-cloud-171e739eedc2&newsletterV3=67ce20fa0d10&newsletterV3Id=6a46f4500e4f&user=Zora+Li&userId=67ce20fa0d10&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}