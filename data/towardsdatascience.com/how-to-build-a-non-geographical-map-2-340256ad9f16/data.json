{"url": "https://towardsdatascience.com/how-to-build-a-non-geographical-map-2-340256ad9f16", "time": 1682994611.499268, "path": "towardsdatascience.com/how-to-build-a-non-geographical-map-2-340256ad9f16/", "webpage": {"metadata": {"title": "How to build a non-geographical map #2 | by Fanny Kassapian | Towards Data Science", "h1": "How to build a non-geographical map #2", "description": "Maps are powerful design objects for data visualization. They emphasize the spatial relationship between elements and the comparison of variables. In the context of non-geographical data, web maps\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/how-to-build-a-non-geographical-map-1-8d3373e83d6c", "anchor_text": "#part 1: How to map similarities with dimensionality reduction", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/how-to-build-a-non-geographical-map-1-8d3373e83d6c", "anchor_text": "first part of this series", "paragraph_index": 5}, {"url": "https://plot.ly/~fanny_kassapian/1/#/", "anchor_text": "graph (Plotly)", "paragraph_index": 5}, {"url": "https://towardsdatascience.com/how-to-build-a-non-geographical-map-1-8d3373e83d6c", "anchor_text": "mapping of non-geographical data", "paragraph_index": 8}, {"url": "https://github.com/fannykassapian/python_json_coordinates/blob/master/UMAP.ipynb", "anchor_text": "full notebook here (Github)", "paragraph_index": 15}, {"url": "https://github.com/fannykassapian/python_json_coordinates/blob/master/UMAP.ipynb", "anchor_text": "full notebook here (Github)", "paragraph_index": 16}, {"url": "https://leafletjs.com/download.html", "anchor_text": "Leaflet", "paragraph_index": 17}, {"url": "https://getbootstrap.com/docs/4.1/getting-started/introduction/", "anchor_text": "Bootstrap", "paragraph_index": 17}, {"url": "https://code.jquery.com/", "anchor_text": "jQuery", "paragraph_index": 17}, {"url": "https://cdnjs.com/libraries/jqueryui", "anchor_text": "jQuery-ui", "paragraph_index": 17}, {"url": "https://leafletjs.com/examples.html", "anchor_text": "it\u2019s worth a look", "paragraph_index": 18}, {"url": "https://leafletjs.com/examples/quick-start/", "anchor_text": "quick start guide", "paragraph_index": 19}, {"url": "https://codepen.io/fannykassapian/pen/qJOvbB", "anchor_text": "codePen example", "paragraph_index": 20}, {"url": "https://codepen.io/fannykassapian/pen/qJOvbB", "anchor_text": "complete code here (codePen)", "paragraph_index": 22}, {"url": "http://www.tailoredpath.com", "anchor_text": "www.tailoredpath.com", "paragraph_index": 38}], "all_paragraphs": ["Maps are powerful design objects for data visualization. They emphasize the spatial relationship between elements and the comparison of variables. In the context of non-geographical data, web maps can enhance traditional scatter plots.", "\ud83d\udd17 Link to #part 1: How to map similarities with dimensionality reduction", "At the center of data visualization, is communication. The ability to transform a frightening table into a compelling story. Often, the ultimate goal is to drive insights for problem-solving or decision making. In most cases, users don\u2019t get to play with data and take a passive stance. But, what if you want to empower your audience, spark their curiosity and allow them to explore data?", "We use maps to navigate the unknown. They give us the confidence to get off the beaten path. We deviate from the initial route and make a stop at a caf\u00e9 or a detour by a museum. This is also how we use the web. We make a search, one link leads to another, and we end up developing an interest in something we did not even know existed a few clicks ago.", "Could we convey data in the same serendipitous way?", "In the first part of this series, we used dimensionality reduction to map similarities in a 2D space. We ended up with a new coordinate system that allowed us to visualize our data in a scatter plot (see graph (Plotly)).", "In this article, we will transform it into an interactive map, including a search bar and a side panel. We\u2019ll be using Leaflet and some additional JavaScript.", "This article might be useful to anyone who wants to build a web map, no matter the type of data. If that\u2019s your case, jump to step 2.", "If you followed along the mapping of non-geographical data, you now have an embedding \u2014 a (very, very long) Numpy array of coordinates representing your data in 2D.", "To plot all these points of data on a Leaflet map, we need them stored into a JavaScript object.", "To do so, we can transform our DataFrame into a JSON string and handle it with JavaScript.", "If you only have a few points of data to plot, then you may want to skip this step and store them manually in your JavaScript.", "Also, bear in mind that each user will \u201cload\u201d the entire JSON every time they open the page. This will affect your website\u2019s performance. Depending on the amount of data and traffic you have, you may prefer to load the content dynamically from a data base.", "In this example, I will be using:", "Our JSON must contain each marker\u2019s coordinates and some data, such as its title and description, that we\u2019ll use to update the panel\u2019s content.", "Below is a quick description of the steps that I followed to create the DataFrame. You can find the full notebook here (Github):", "For more details, you can find the full notebook here (Github).", "To create this map, you need Leaflet, Bootstrap, jQuery and jQuery-ui. Make sure to include the links to their CSS and JS libraries in your code.", "In this article, I will only use the very basic settings of Leaflet and focus on panel interactivity with the map. However, there are plenty of amazing things you can do with Leaflet, it\u2019s worth a look.", "Below is a quick set up. Alternatively, you can follow their quick start guide.", "The data is stored under a JSON file with the same structure as a JavaScript dictionary. Note that I based my codePen example on a JavaScript dictionary with only 3 elements and 3 features (\u201ctitle\u201d, \u201ccoords\u201d (coordinates) and \u201cdescription\u201d).", "Before tackling interactivity, let\u2019s get the HTML and CSS out of the way.", "You can find the complete code here (codePen).", "We have to jump ahead a little and think about the data we will need to access to display the right output.", "Let\u2019s call markerOnClick() the function that is called when a marker is clicked, and search() the function that is called after a search is entered (either by clicking on a suggested marker title or by clicking the search button).", "These functions have a bulk of steps in common. To avoid writing the same code twice, we encompass these steps under the updatePanel() function.", "To update the panel with the title and text attached to each markerId, updatePanel() must have access to some other marker features. Likewise, search() is a function of markerTitle but needs access to markerId to call updatePanel().", "For functions to be able to access those features, we need dictionaries.", "When the user types a search, it calls autocomplete(), which suggests all the possible marker titles based on user input. Thus, the data source for this function must be a list of marker titles:", "Now, when the user clicks on a marker, the corresponding popup window opens.", "Now, if the user clicks on a suggestedmarkerTitle, search() and updatePanel() are called. However, without an actual click on the marker, the popup won\u2019t show.", "A solution is to attach a different layer to each marker. We can then apply Leaflet\u2019s openPopup() method to the layers within the search() function.", "After users have made a search or clicked a marker, we want them to be able to close the panel and go back to the map at all times. We also want to leave them the option to reopen the panel, from the map directly.", "The #panelBtn button allows the user to successively open or close the panel. Its content should change depending on which action (open or close) it allows the user to do next. We can achieve this by using jQuery\u2019s toggleClass method.", "The #closeBtn button allows the user to close the panel when it is open, and updates the #panelBtn inner HTML.", "In this series, we\u2019ve covered how to use dimensionality reduction to build a scatter plot that uses distance as a proxy for similarity and turned it into an interactive map.", "I had a lot of fun writing those articles and illustrating them, and learnt a lot along the way. I hope you\u2019ve found it useful, and I look forward to seeing more amazing maps out there.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Cultivating a beginner\u2019s mind by exploring new fields of knowledge. Creator of www.tailoredpath.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F340256ad9f16&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-non-geographical-map-2-340256ad9f16&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-non-geographical-map-2-340256ad9f16&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-non-geographical-map-2-340256ad9f16&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-non-geographical-map-2-340256ad9f16&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----340256ad9f16--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----340256ad9f16--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@fannykassapian?source=post_page-----340256ad9f16--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@fannykassapian?source=post_page-----340256ad9f16--------------------------------", "anchor_text": "Fanny Kassapian"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F417fc9684734&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-non-geographical-map-2-340256ad9f16&user=Fanny+Kassapian&userId=417fc9684734&source=post_page-417fc9684734----340256ad9f16---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F340256ad9f16&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-non-geographical-map-2-340256ad9f16&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F340256ad9f16&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-non-geographical-map-2-340256ad9f16&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/how-to-build-a-non-geographical-map-1-8d3373e83d6c", "anchor_text": "#part 1: How to map similarities with dimensionality reduction"}, {"url": "https://towardsdatascience.com/how-to-build-a-non-geographical-map-1-8d3373e83d6c", "anchor_text": "first part of this series"}, {"url": "https://plot.ly/~fanny_kassapian/1/#/", "anchor_text": "graph (Plotly)"}, {"url": "https://codepen.io/fannykassapian/pen/qJOvbB", "anchor_text": "See code & end result (CodePen)"}, {"url": "https://towardsdatascience.com/how-to-build-a-non-geographical-map-1-8d3373e83d6c", "anchor_text": "mapping of non-geographical data"}, {"url": "https://towardsdatascience.com/how-to-build-a-non-geographical-map-1-8d3373e83d6c", "anchor_text": "embedding resulting from the mapping of occupations based on skills and knowledge similarity"}, {"url": "https://www.onetcenter.org/database.html", "anchor_text": "ONET open database"}, {"url": "https://github.com/fannykassapian/python_json_coordinates/blob/master/UMAP.ipynb", "anchor_text": "full notebook here (Github)"}, {"url": "https://www.onetcenter.org/dictionary/23.1/excel/occupation_data.html", "anchor_text": "Occupation Data.xlsx"}, {"url": "https://github.com/fannykassapian/python_json_coordinates/blob/master/UMAP.ipynb", "anchor_text": "full notebook here (Github)"}, {"url": "https://leafletjs.com/", "anchor_text": "Leaflet.js"}, {"url": "https://leafletjs.com/download.html", "anchor_text": "Leaflet"}, {"url": "https://getbootstrap.com/docs/4.1/getting-started/introduction/", "anchor_text": "Bootstrap"}, {"url": "https://code.jquery.com/", "anchor_text": "jQuery"}, {"url": "https://cdnjs.com/libraries/jqueryui", "anchor_text": "jQuery-ui"}, {"url": "https://leafletjs.com/examples.html", "anchor_text": "it\u2019s worth a look"}, {"url": "https://leafletjs.com/examples/quick-start/", "anchor_text": "quick start guide"}, {"url": "https://codepen.io/fannykassapian/pen/qJOvbB", "anchor_text": "codePen example"}, {"url": "https://codepen.io/fannykassapian/pen/qJOvbB", "anchor_text": "See CodePen"}, {"url": "https://codepen.io/fannykassapian/pen/qJOvbB", "anchor_text": "complete code here (codePen)"}, {"url": "https://leafletjs.com/reference-1.4.0.html#layergroup", "anchor_text": "documentation"}, {"url": "https://towardsdatascience.com/how-to-build-a-non-geographical-map-1-8d3373e83d6c", "anchor_text": "#part 1: How to map similarities with dimensionality reduction"}, {"url": "http://www.tailoredpath.com", "anchor_text": "www.tailoredpath.com"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----340256ad9f16---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/javascript?source=post_page-----340256ad9f16---------------javascript-----------------", "anchor_text": "JavaScript"}, {"url": "https://medium.com/tag/maps?source=post_page-----340256ad9f16---------------maps-----------------", "anchor_text": "Maps"}, {"url": "https://medium.com/tag/leaflet?source=post_page-----340256ad9f16---------------leaflet-----------------", "anchor_text": "Leaflet"}, {"url": "https://medium.com/tag/code?source=post_page-----340256ad9f16---------------code-----------------", "anchor_text": "Code"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F340256ad9f16&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-non-geographical-map-2-340256ad9f16&user=Fanny+Kassapian&userId=417fc9684734&source=-----340256ad9f16---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F340256ad9f16&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-non-geographical-map-2-340256ad9f16&user=Fanny+Kassapian&userId=417fc9684734&source=-----340256ad9f16---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F340256ad9f16&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-non-geographical-map-2-340256ad9f16&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----340256ad9f16--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F340256ad9f16&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-non-geographical-map-2-340256ad9f16&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----340256ad9f16---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----340256ad9f16--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----340256ad9f16--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----340256ad9f16--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----340256ad9f16--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----340256ad9f16--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----340256ad9f16--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----340256ad9f16--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----340256ad9f16--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@fannykassapian?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@fannykassapian?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Fanny Kassapian"}, {"url": "https://medium.com/@fannykassapian/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "83 Followers"}, {"url": "http://www.tailoredpath.com", "anchor_text": "www.tailoredpath.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F417fc9684734&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-non-geographical-map-2-340256ad9f16&user=Fanny+Kassapian&userId=417fc9684734&source=post_page-417fc9684734--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F417fc9684734%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-build-a-non-geographical-map-2-340256ad9f16&user=Fanny+Kassapian&userId=417fc9684734&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}