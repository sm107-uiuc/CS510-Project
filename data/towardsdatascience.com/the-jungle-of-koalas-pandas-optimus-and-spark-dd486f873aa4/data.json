{"url": "https://towardsdatascience.com/the-jungle-of-koalas-pandas-optimus-and-spark-dd486f873aa4", "time": 1682995956.5909178, "path": "towardsdatascience.com/the-jungle-of-koalas-pandas-optimus-and-spark-dd486f873aa4/", "webpage": {"metadata": {"title": "The Jungle of Koalas, Pandas, Optimus and Spark | by Favio V\u00e1zquez | Towards Data Science", "h1": "The Jungle of Koalas, Pandas, Optimus and Spark", "description": "If you are as excited about data science as me, you probably know that the Spark+AI latest summit started yesterday (April 24th 2019). And there are great things to talk about. But I will do it with\u2026"}, "outgoing_paragraph_urls": [{"url": "https://matrixds.com/", "anchor_text": "MatrixDS", "paragraph_index": 8}], "all_paragraphs": ["If you are as excited about data science as me, you probably know that the Spark+AI latest summit started yesterday (April 24th 2019). And there are great things to talk about. But I will do it with a spin-off.", "If you\u2019ve been following me you now that I co-created a framework called Optimus. If you want to see more about that check these articles:", "Where I\u2019m explaining a whole data science environment with Optimus and other open source tools. This could have been part 3, but I\u2019m more interested in showing you other stuff.", "In the beginning Optimus started as a project for cleaning big data, but suddenly we realized that there was a lot of more opportunities for the framework. Right now we have created a lot of interesting things and if you are a data scientist using pandas, or spark you should check it out.", "Right now we have these APIs:", "And more. You can even read data directly from the internet to Spark.", "So you can see we have been trying a lot to improve the world of the data scientist. One of the things we care was creating a simple and usable API, and we didn\u2019t love Pandas API or Spark API by itself, but a combination of those with a little touch of awesomeness created what you can call today our framework.", "Today Databricks announced the project Koala as a more productive way when interacting with big data, by augmenting Apache Spark\u2019s Python DataFrame API to be compatible with Pandas.", "If you want to try it check this MatrixDS project:", "So instead of boring you with copy-pasting the documentation of Koalas that you can read right now, I created a simple example of the connection between Koalas, Optimus and Spark.", "I\u2019ll be using this dataset for testing:", "Let\u2019s first read data with Spark vanilla:", "For that I needed to upload the dataset before. Let\u2019s see that in Optimus:", "That was one step simpler because with Optimus you can read data directly from the web.", "This code will fail, would that happen in Pandas?", "Well no. That would work. That\u2019s because you can read data with Pandas from the web directly. Ok so let\u2019s make the Koalas code work:", "Well that looks simple enough. By the way, if you want to read the data from the local storage with Optimus it\u2019s almost the same:", "But, let\u2019s take a look at what happen next. What are the types of this Dataframes?", "So the only framework that created a Spark DF apart from Spark itself, was Optimus. What does this mean?", "Let\u2019s see what happens when we want to show the data. For showing data in Spark we normally use the .show() method, and for Pandas the .head() method.", "Will work as well. But what about out Koalas DF? Well you need to use the pandas API, because that\u2019s one of the goals of the library, make the transition easier from pandas. So:", "If you are running this code along with me, if you hit show for spark, this is what you saw:", "Which is kinda awful. Everyone prefers those pretty HTML outline tables to see their data, and Pandas has them, so Koalas inherits them from Pandas. But remember, this are not Spark DF. If you really want to see a prettier version of Spark DF with Optimus you can use the .table() method.", "which shows you the data better plus information about it like the types of the columns, the number of rows in the DF, the number of columns and partitions.", "Let\u2019s do more with our data. Like slicing it.", "I\u2019ll choose the columns Date, Open, High, Low and Volume with the frameworks. There may be more ways of selecting data, I\u2019m just using the common ones.", "So as you can see right now we have good support of different things with Optimus, and if you love the [[]] style from Pandas, you can use it with Koalas too, but you can\u2019t select by indices, at least not yet.", "The difference here is with Koalas and Optimus you are running Spark code underneath, so you don\u2019t have to worry about performance. At least not right now.", "Let\u2019s get the frequencies for a column:", "They\u2019re the same which is very cool.", "Spark (some of the bad parts):", "Optimus (you can do the same as in Spark):", "or you can use the .cols attribute to get more functions:", "Let\u2019s transform our data with One-Hot-Enconding:", "Spark (similar enough result but horrible to do):", "Optimus (a little better but I still prefer Koalas for this):", "So in this case the easier way was from Pandas, and luckily it\u2019s implemented in Koalas, and this types of functions will increase in the future, but right now this is almost all we have as you can see here:", "But they run in Spark so it rocks.", "Plotting is an important part of data analysis. With Pandas we are use to plot what ever we want very easily, but with Spark it\u2019s not that easy. We are happy to announce that in the latest version of Optimus (2.2.2) we have created a way of creating plots directly from your Spark DataFrames, no subsetting needed.", "These are some of the things to expect from Spark 3.x:", "Spark it\u2019s growing exponentially, and if you are not using it now, you definitely should. Commonly you will be coming from Pandas or something like that, so make use of great libraries like Koalas and Optimus to improve your life in the Data Science world.", "If you have any questions please write me here:", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data scientist, physicist and computer engineer. Love sharing ideas, thoughts and contributing to Open Source in Machine Learning and Deep Learning ;)."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fdd486f873aa4&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-jungle-of-koalas-pandas-optimus-and-spark-dd486f873aa4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-jungle-of-koalas-pandas-optimus-and-spark-dd486f873aa4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-jungle-of-koalas-pandas-optimus-and-spark-dd486f873aa4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-jungle-of-koalas-pandas-optimus-and-spark-dd486f873aa4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----dd486f873aa4--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----dd486f873aa4--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@faviovazquez?source=post_page-----dd486f873aa4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@faviovazquez?source=post_page-----dd486f873aa4--------------------------------", "anchor_text": "Favio V\u00e1zquez"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe8ec6fa4d7d4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-jungle-of-koalas-pandas-optimus-and-spark-dd486f873aa4&user=Favio+V%C3%A1zquez&userId=e8ec6fa4d7d4&source=post_page-e8ec6fa4d7d4----dd486f873aa4---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdd486f873aa4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-jungle-of-koalas-pandas-optimus-and-spark-dd486f873aa4&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdd486f873aa4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-jungle-of-koalas-pandas-optimus-and-spark-dd486f873aa4&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/data-science-with-optimus-part-1-intro-1f3e2392b02a", "anchor_text": "Data Science with Optimus. Part 1: Intro.Breaking down data science with Python, Spark and Optimus.towardsdatascience.com"}, {"url": "https://towardsdatascience.com/data-science-with-optimus-part-2-setting-your-dataops-environment-248b0bd3bce3", "anchor_text": "Data Science with Optimus. Part 2: Setting your DataOps Environment.Breaking down data science with Python, Spark and Optimus. Today: Data Operations for Data Science. ..::Part 1 here\u2026towardsdatascience.com"}, {"url": "https://github.com/ironmussa/Optimus", "anchor_text": "https://github.com/ironmussa/Optimus"}, {"url": "https://www.freepik.com/", "anchor_text": "https://www.freepik.com/"}, {"url": "https://matrixds.com/", "anchor_text": "MatrixDS"}, {"url": "https://community.platform.matrixds.com/community/project/5cc0de62b8f4a97f2912aabf", "anchor_text": "MatrixDS | The Data Project WorkbenchMatrixDS is a place to build, share and manage data projects at any scale.community.platform.matrixds.com"}, {"url": "https://github.com/FavioVazquez/koalas_optimus_spark", "anchor_text": "FavioVazquez/koalas_optimus_sparkRocking the world with Spark and friends. . Contribute to FavioVazquez/koalas_optimus_spark development by creating an\u2026github.com"}, {"url": "https://raw.githubusercontent.com/databricks/koalas/master/data/sample_stocks.csv", "anchor_text": "https://raw.githubusercontent.com/databricks/koalas/master/data/sample_stocks.csv"}, {"url": "https://raw.githubusercontent.com/databricks/koalas/master/data/sample_stocks.csv", "anchor_text": "https://raw.githubusercontent.com/databricks/koalas/master/data/sample_stocks.csv"}, {"url": "https://raw.githubusercontent.com/databricks/koalas/master/data/sample_stocks.csv", "anchor_text": "https://raw.githubusercontent.com/databricks/koalas/master/data/sample_stocks.csv"}, {"url": "https://raw.githubusercontent.com/databricks/koalas/master/data/sample_stocks.csv", "anchor_text": "https://raw.githubusercontent.com/databricks/koalas/master/data/sample_stocks.csv"}, {"url": "https://koalas.readthedocs.io/en/latest/reference/general_functions.html", "anchor_text": "General functions - Koalas 0.1.0 documentationEdit descriptionkoalas.readthedocs.io"}, {"url": "https://www.linkedin.com/in/faviovazquez/", "anchor_text": "Favio Vazquez \u2014 Founder / Chief Data Scientist \u2014 Ciencia y Datos | LinkedInJoin LinkedIn \u203c\ufe0f\u203c\ufe0f Important Note: Due to Linkedin technical limitations, I can now only accept connection requests\u2026www.linkedin.com"}, {"url": "https://twitter.com/faviovaz", "anchor_text": "Favio V\u00e1zquez (@FavioVaz) | TwitterThe latest Tweets from Favio V\u00e1zquez (@FavioVaz). Data Scientist. Physicist and computational engineer. I have a\u2026twitter.com"}, {"url": "https://medium.com/tag/technology?source=post_page-----dd486f873aa4---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/data-science?source=post_page-----dd486f873aa4---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/business?source=post_page-----dd486f873aa4---------------business-----------------", "anchor_text": "Business"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----dd486f873aa4---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----dd486f873aa4---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdd486f873aa4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-jungle-of-koalas-pandas-optimus-and-spark-dd486f873aa4&user=Favio+V%C3%A1zquez&userId=e8ec6fa4d7d4&source=-----dd486f873aa4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdd486f873aa4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-jungle-of-koalas-pandas-optimus-and-spark-dd486f873aa4&user=Favio+V%C3%A1zquez&userId=e8ec6fa4d7d4&source=-----dd486f873aa4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdd486f873aa4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-jungle-of-koalas-pandas-optimus-and-spark-dd486f873aa4&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----dd486f873aa4--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fdd486f873aa4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-jungle-of-koalas-pandas-optimus-and-spark-dd486f873aa4&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----dd486f873aa4---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----dd486f873aa4--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----dd486f873aa4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----dd486f873aa4--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----dd486f873aa4--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----dd486f873aa4--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----dd486f873aa4--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----dd486f873aa4--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----dd486f873aa4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@faviovazquez?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@faviovazquez?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Favio V\u00e1zquez"}, {"url": "https://medium.com/@faviovazquez/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "9K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe8ec6fa4d7d4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-jungle-of-koalas-pandas-optimus-and-spark-dd486f873aa4&user=Favio+V%C3%A1zquez&userId=e8ec6fa4d7d4&source=post_page-e8ec6fa4d7d4--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe5c1070d2e27&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-jungle-of-koalas-pandas-optimus-and-spark-dd486f873aa4&newsletterV3=e8ec6fa4d7d4&newsletterV3Id=e5c1070d2e27&user=Favio+V%C3%A1zquez&userId=e8ec6fa4d7d4&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}