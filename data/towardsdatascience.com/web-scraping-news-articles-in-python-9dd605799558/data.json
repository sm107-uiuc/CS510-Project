{"url": "https://towardsdatascience.com/web-scraping-news-articles-in-python-9dd605799558", "time": 1682997070.3881779, "path": "towardsdatascience.com/web-scraping-news-articles-in-python-9dd605799558/", "webpage": {"metadata": {"title": "Web Scraping news articles in Python | by Miguel Fern\u00e1ndez Zafra | Towards Data Science", "h1": "Web Scraping news articles in Python", "description": "This article is the second of a series in which I will cover the whole process of developing a machine learning project. If you have not read the first one, I strongly encourage you to do it here\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/text-classification-in-python-dd95d264c802", "anchor_text": "here", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/text-classification-in-python-dd95d264c802", "anchor_text": "first", "paragraph_index": 3}, {"url": "https://github.com/miguelfzafra/Latest-News-Classifier", "anchor_text": "here", "paragraph_index": 5}, {"url": "https://towardsdatascience.com/text-classification-in-python-dd95d264c802", "anchor_text": "first", "paragraph_index": 6}, {"url": "https://towardsdatascience.com", "anchor_text": "Towards Data Science", "paragraph_index": 8}, {"url": "http://www.towardsdatascience.com", "anchor_text": "Towards Data Science", "paragraph_index": 12}, {"url": "https://www.crummy.com/software/BeautifulSoup/bs4/doc/", "anchor_text": "here", "paragraph_index": 24}, {"url": "https://elpais.com/elpais/inenglish.html", "anchor_text": "El Pais English", "paragraph_index": 32}, {"url": "https://github.com/miguelfzafra/Latest-News-Classifier", "anchor_text": "repo", "paragraph_index": 45}, {"url": "https://towardsdatascience.com/text-classification-in-python-dd95d264c802", "anchor_text": "first post", "paragraph_index": 47}], "all_paragraphs": ["This article is the second of a series in which I will cover the whole process of developing a machine learning project. If you have not read the first one, I strongly encourage you to do it here.", "The project involves the creation of a real-time web application that gathers data from several newspapers and shows a summary of the different topics that are being discussed in the news articles.", "This is achieved with a supervised machine learning classification model that is able to predict the category of a given news article, a web scraping method that gets the latest news from the newspapers, and an interactive web application that shows the obtained results to the user.", "As I explained in the first post of this series, the motivation behind writing these articles is that a lot of the articles or content published on the internet, books or literature regarding data science and machine learning models focus on the modelling part with the training data. However, a machine learning project is much more than that: once you have a trained model, you need to feed new data to it and what is more important, you need to provide useful insights to the final user.", "The whole process is divided in three different posts:", "The github repo can be found here. It includes all the code and a complete report.", "In the first article, we developed the text classification model in Python, which allowed us to get a certain news article text and predict its category with an overall good accuracy.", "This post covers the second part: News articles web scraping. We\u2019ll create a script that scrapes the latest news articles from different newspapers and stores the text, which will be fed into the model afterwards to get a prediction of its category. We\u2019ll cover it in the following steps:", "If we want to be able to extract news articles (or, in fact, any other kind of text) from a website, the first step is to know how a website works. We will follow an example with the Towards Data Science webpage.", "When we insert an url into the web browser (i.e. Google Chrome, Firefox, etc\u2026) and access to it, what we see is the combination of three technologies:", "Note that these three are programming languages. They will allow us to create and manipulate every aspect of the design of a webpage.", "However, if we want a website to be accessible to every one in a browser, we need to know about additional things: standing up a web server, using a certain domain, etc\u2026 But since we are only interested in extracting content from a webpage, this will be enough for today.", "Let\u2019s illustrate these concepts with an example. When we visit the Towards Data Science homepage, we see the following:", "If we deleted the CSS content from the webpage, we would see something like this:", "And if we disabled JavaScript, we would not be able to use this pop-up no more:", "At this point, I\u2019ll ask the following question:", "\u201cIf I want to extract the content of a webpage via web scraping, where do I need to look up?\u201d", "If your answer was the HTML code, then you\u2019re absolutely getting it. In the above example we can see that after disabling CSS, the content (text, images, etc\u2026) is still there.", "So, the last step before performing web scraping methods is to understand a bit of the HTML language.", "HTML is, from a really basic point of view, composed of elements that have attributes. An element could be a paragraph, and an attribute could be that the paragraph is in bold letter.", "There are a lot of different types of elements, each one with its own attributes. To identify an element (this means, as an example, to set if some text is a heading or a paragraph) we use tags. These tags are represented with the <> symbols (for example, a <p> tag means a certain text is acting as a paragraph).", "For example, this HTML code below allows us to change the alignment of the paragraphs:", "Consequently, when we visit a website, we will be able to find the content and its properties in the HTML code.", "Once we have presented these concepts, we are ready for some web scraping!", "There are several packages in Python that allow us to scrape information from webpages. One of the most common ones is BeautifulSoup. The official package information can be found here.", "BeautifulSoup allows us to parse the HTML content of a given URL and access its elements by identifying them with their tags and attributes. For this reason, we will use it to extract certain pieces of text from the websites.", "It is an extremely easy-to-use yet powerful package. With almost 3\u20135 lines of code we will be able to extract any text we want from the internet.", "To install it, please type the following code into your Python distribution:", "So as to provide BeautifulSoup with the HTML code of any page, we will also need to import the requests module. In order to install it if it's not already included in your python distribution, please type:", "We will use the requests module to get the HTML code from the page and then navigate through it with the BeautifulSoup package. We will learn to use two commands that will be enough for our task:", "So, at this point, what we need to do is to navigate through the HTML code of our webpage (for example, in Google Chrome we need to enter the webpage, press right click button and go to See source code) and locate the elements we want to scrape. We can simply do this searching with Ctrl+F or Cmd+F once we are seeing the source code.", "Once we have identified the elements of interest, we will get the HTML code with the requests module and extract those elements with BeautifulSoup.", "We will carry out an example with the El Pais English newspaper. We will first try to web scrape the news articles titles from the frontpage and then extract the text out of them.", "Once we enter the website, we need to inspect the HTML code to locate the news articles. After a fast look we can see that each article in the frontpage is an element like this:", "The title is an <h2> (heading-2) element with itemprop=\u201dheadline\" and class=\u201darticulo-titulo\" atributes. It has an <a> element with an href attribute which contains the text. So, in order to extract the text, we need to code the following commands:", "With the requests module we can get the HTML content and save into the coverpage variable:", "Next, we need to create a soup in order to allow BeautifulSoup to work:", "And finally, we can locate the elements we are looking for:", "This will return a list in which each element is a news article (because with find_all we are getting all ocurrences):", "If we code the following command, we will be able to extract the text:", "If we want to access the value of an attribute (in this case, the link), we can type the following:", "And we\u2019ll get the link in plain text.", "If you have understood until this point, you are ready to web scrape any content you want.", "The next step would be to access each of the news articles content with the href attribute, get the source code again and find the paragraphs in the HTML code to finally get them with BeautifulSoup. It\u2019s the same idea as before, but we need to locate the tags and attributes that identify the news article content.", "The code of the full process is the following. I will show the code but won\u2019t enter in the same detail as before since it\u2019s exactly the same idea.", "All the details can be found in my github repo.", "It is important to mention that this code is only useful for this webpage in particular. If we want to scrape another one, we should expect that elements are identified with different tags and attributes. But once we know how to identify them, the process is exactly the same.", "At this point, we are able to extract the content of different news articles. The final step is to apply the machine learning model we trained in the first post to predict its categories and show a summary to the user. This will be covered in the final post of this series.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Passionate about Finance and Data Science, and looking forward to combining these two worlds so as to take advantage of what technology can bring to us."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F9dd605799558&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-news-articles-in-python-9dd605799558&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-news-articles-in-python-9dd605799558&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-news-articles-in-python-9dd605799558&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-news-articles-in-python-9dd605799558&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----9dd605799558--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----9dd605799558--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@miguelfzafra?source=post_page-----9dd605799558--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@miguelfzafra?source=post_page-----9dd605799558--------------------------------", "anchor_text": "Miguel Fern\u00e1ndez Zafra"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F32ed8c680957&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-news-articles-in-python-9dd605799558&user=Miguel+Fern%C3%A1ndez+Zafra&userId=32ed8c680957&source=post_page-32ed8c680957----9dd605799558---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9dd605799558&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-news-articles-in-python-9dd605799558&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9dd605799558&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-news-articles-in-python-9dd605799558&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/an-end-to-end-ml-project", "anchor_text": "An end to end Machine Learning project"}, {"url": "https://generalassemb.ly/coding/front-end-web-development/html", "anchor_text": "Source"}, {"url": "https://towardsdatascience.com/text-classification-in-python-dd95d264c802", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/text-classification-in-python-dd95d264c802", "anchor_text": "first"}, {"url": "https://towardsdatascience.com/text-classification-in-python-dd95d264c802", "anchor_text": "link"}, {"url": "https://towardsdatascience.com/deploying-a-text-classification-model-7ad2d23a556d", "anchor_text": "link"}, {"url": "https://github.com/miguelfzafra/Latest-News-Classifier", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/text-classification-in-python-dd95d264c802", "anchor_text": "first"}, {"url": "https://towardsdatascience.com", "anchor_text": "Towards Data Science"}, {"url": "http://www.towardsdatascience.com", "anchor_text": "Towards Data Science"}, {"url": "https://www.crummy.com/software/BeautifulSoup/bs4/doc/", "anchor_text": "here"}, {"url": "https://elpais.com/elpais/inenglish.html", "anchor_text": "El Pais English"}, {"url": "https://github.com/miguelfzafra/Latest-News-Classifier", "anchor_text": "repo"}, {"url": "https://towardsdatascience.com/text-classification-in-python-dd95d264c802", "anchor_text": "first post"}, {"url": "https://medium.com/tag/python?source=post_page-----9dd605799558---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/web-scraping?source=post_page-----9dd605799558---------------web_scraping-----------------", "anchor_text": "Web Scraping"}, {"url": "https://medium.com/tag/an-end-to-end-ml-project?source=post_page-----9dd605799558---------------an_end_to_end_ml_project-----------------", "anchor_text": "An End To End Ml Project"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----9dd605799558---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/web-development?source=post_page-----9dd605799558---------------web_development-----------------", "anchor_text": "Web Development"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F9dd605799558&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-news-articles-in-python-9dd605799558&user=Miguel+Fern%C3%A1ndez+Zafra&userId=32ed8c680957&source=-----9dd605799558---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F9dd605799558&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-news-articles-in-python-9dd605799558&user=Miguel+Fern%C3%A1ndez+Zafra&userId=32ed8c680957&source=-----9dd605799558---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9dd605799558&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-news-articles-in-python-9dd605799558&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----9dd605799558--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F9dd605799558&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-news-articles-in-python-9dd605799558&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----9dd605799558---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----9dd605799558--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----9dd605799558--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----9dd605799558--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----9dd605799558--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----9dd605799558--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----9dd605799558--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----9dd605799558--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----9dd605799558--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@miguelfzafra?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@miguelfzafra?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Miguel Fern\u00e1ndez Zafra"}, {"url": "https://medium.com/@miguelfzafra/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "673 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F32ed8c680957&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-news-articles-in-python-9dd605799558&user=Miguel+Fern%C3%A1ndez+Zafra&userId=32ed8c680957&source=post_page-32ed8c680957--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa032726296d4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-news-articles-in-python-9dd605799558&newsletterV3=32ed8c680957&newsletterV3Id=a032726296d4&user=Miguel+Fern%C3%A1ndez+Zafra&userId=32ed8c680957&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}