{"url": "https://towardsdatascience.com/tensorflow-2-4-on-apple-silicon-m1-installation-under-conda-environment-ba6de962b3b8", "time": 1683018010.768933, "path": "towardsdatascience.com/tensorflow-2-4-on-apple-silicon-m1-installation-under-conda-environment-ba6de962b3b8/", "webpage": {"metadata": {"title": "TensorFlow 2.4 on Apple Silicon M1: installation under Conda environment | by Fabrice Daniel | Towards Data Science", "h1": "TensorFlow 2.4 on Apple Silicon M1: installation under Conda environment", "description": "The previous article was about the Machine Learning packages that works natively on Apple Silicon. I also explained how TensorFlow and scikit-learn can be installed on a Mac M1. In this article ATF\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/new-apple-silicon-m1-macbook-air-the-dream-laptop-for-machine-learning-engineers-a1590fbd170f", "anchor_text": "previous article", "paragraph_index": 1}, {"url": "https://www.apple.com/mac/m1/", "anchor_text": "Apple Silicon", "paragraph_index": 1}, {"url": "https://github.com/apple/tensorflow_macos", "anchor_text": "TensorFlow", "paragraph_index": 1}, {"url": "https://scikit-learn.org/", "anchor_text": "scikit-learn", "paragraph_index": 1}, {"url": "https://github.com/apple/tensorflow_macos", "anchor_text": "from github", "paragraph_index": 2}, {"url": "https://pypi.org/project/pip/", "anchor_text": "pip", "paragraph_index": 3}, {"url": "https://developer.apple.com/download/more/?=command%20line%20tools", "anchor_text": "Xcode Command Line Tools", "paragraph_index": 5}, {"url": "https://developer.apple.com/", "anchor_text": "Apple Developer", "paragraph_index": 5}, {"url": "https://github.com/conda-forge/miniforge", "anchor_text": "miniforge github", "paragraph_index": 6}, {"url": "https://github.com/apple/tensorflow_macos", "anchor_text": "TensorFlow 2.4 from Apple github", "paragraph_index": 8}, {"url": "https://github.com/apple/tensorflow_macos/issues/153", "anchor_text": "this process", "paragraph_index": 18}, {"url": "https://github.com/apple/tensorflow_macos/issues", "anchor_text": "here", "paragraph_index": 19}, {"url": "https://www.linkedin.com/in/fabrice-daniel-250930164/", "anchor_text": "https://www.linkedin.com/in/fabrice-daniel-250930164/", "paragraph_index": 21}], "all_paragraphs": ["Updated Instructions for TensorFlow 2.4 alpha 3. See details at the end of the article.", "The previous article was about the Machine Learning packages that works natively on Apple Silicon. I also explained how TensorFlow and scikit-learn can be installed on a Mac M1.", "In this article ATF 2.4 stand for TensorFlow 2.4 for Apple Silicon currently available from github in release 0.1 alpha 3.", "With ATF 2.4, standard installation requires creating a python environment while nearly no other package like scikit-learn can be installed from pip. This is making this environment quite useless for machine learning engineers except for small testing.", "At the time of writing this article ATF 2.4 is not free of bugs. It cannot yet be used in a professional context. But it\u2019s already possible to start working on personal Machine Learning projects with a Mac M1. Here I describe step by step how to install a full environment under Conda with every packages natively compiled for Apple Silicon:", "Install Xcode Command Line Tools by downloading it from Apple Developer or by typing:", "Install miniforge for arm64 (Apple Silicon) from miniforge github.", "Miniforge enables installing python packages natively compiled for Apple Silicon including scikit-learn.", "Download TensorFlow 2.4 from Apple github, untar it but don\u2019t install it by using the provided script. Go under the arm64 directory:", "Don\u2019t forget to open a new session or to source your .zshrc after miniforge install and before going through this step.", "Create an empty Conda environment, then activate it and install python 3.8 (as required for ATF 2.4) and all the needed packages. Please note numpy is unnecessary here as pandas already install it, but it will be overwritten in the last step with the version provided by Apple.", "Now manually install ATF 2.4 packages exactly like install_venv.sh does but under your Conda environment.", "Please note the following instruction corresponds to the second ATF 2.4 release, namely 0.1 alpha 3. Any new release can require a different process, you will be able to adapt it by checking install_venv.sh content.", "Now you can run JupyterLab and start working.", "Note that as pip installation can lead to inconsistencies with Conda packages previously installed, and especially because numpy is replaced by the 1.18.5 version shipped with ATF 2.4, there is no guarantee that it will work in every situation.", "For now, I\u2019ve successfully trained several MLP and Convnet models while LSTM still have an issue with the evaluation on test set. I also trained RandomForest models and plot confusion matrix everything from JupyterLab without any issue.", "In the next article I will go through TensorFlow 2.4 benchmark on Mac M1.", "This article is updated with instructions for TensorFlow 2.4 alpha 3. Previously, I mentioned that initial instructions were only for alpha 1 release and that \u201cAny new release can require a different process, you will be able to adapt it by checking install_venv.sh content.\u201d.", "So you can use these instructions for installing TF 2.4 Alpha 3. Alternatively you can also use this process proposed on ATF GitHub.", "Apple does not propose an install that works everywhere in any situation. It\u2019s an Alpha version. It means the instructions and prerequisites must be carefully followed. You must be on a mac M1, not Intel. Not running a terminal with rosetta2, only keep it native arm64 in any situation. You must install miniforge not anaconda and you must install the exact python version required. And of course if the release increases to alpha 4, you will need to adapt the instructions by yourself (by reading install_venv.sh). If you still have any trouble or want to do any custom thing, please directly ask your questions here to Apple.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Head of AI lab at Lusis. Co-lead AI research projects in a university chair with CentraleSupelec. https://www.linkedin.com/in/fabrice-daniel-250930164/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fba6de962b3b8&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-2-4-on-apple-silicon-m1-installation-under-conda-environment-ba6de962b3b8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-2-4-on-apple-silicon-m1-installation-under-conda-environment-ba6de962b3b8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-2-4-on-apple-silicon-m1-installation-under-conda-environment-ba6de962b3b8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-2-4-on-apple-silicon-m1-installation-under-conda-environment-ba6de962b3b8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ba6de962b3b8--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ba6de962b3b8--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://fabrice-daniel.medium.com/?source=post_page-----ba6de962b3b8--------------------------------", "anchor_text": ""}, {"url": "https://fabrice-daniel.medium.com/?source=post_page-----ba6de962b3b8--------------------------------", "anchor_text": "Fabrice Daniel"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F926442548db0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-2-4-on-apple-silicon-m1-installation-under-conda-environment-ba6de962b3b8&user=Fabrice+Daniel&userId=926442548db0&source=post_page-926442548db0----ba6de962b3b8---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fba6de962b3b8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-2-4-on-apple-silicon-m1-installation-under-conda-environment-ba6de962b3b8&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fba6de962b3b8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-2-4-on-apple-silicon-m1-installation-under-conda-environment-ba6de962b3b8&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/new-apple-silicon-m1-macbook-air-the-dream-laptop-for-machine-learning-engineers-a1590fbd170f", "anchor_text": "previous article"}, {"url": "https://www.apple.com/mac/m1/", "anchor_text": "Apple Silicon"}, {"url": "https://github.com/apple/tensorflow_macos", "anchor_text": "TensorFlow"}, {"url": "https://scikit-learn.org/", "anchor_text": "scikit-learn"}, {"url": "https://github.com/apple/tensorflow_macos", "anchor_text": "from github"}, {"url": "https://pypi.org/project/pip/", "anchor_text": "pip"}, {"url": "https://developer.apple.com/download/more/?=command%20line%20tools", "anchor_text": "Xcode Command Line Tools"}, {"url": "https://developer.apple.com/", "anchor_text": "Apple Developer"}, {"url": "https://github.com/conda-forge/miniforge", "anchor_text": "miniforge github"}, {"url": "https://github.com/apple/tensorflow_macos", "anchor_text": "TensorFlow 2.4 from Apple github"}, {"url": "https://github.com/apple/tensorflow_macos/issues/153", "anchor_text": "this process"}, {"url": "https://github.com/apple/tensorflow_macos/issues", "anchor_text": "here"}, {"url": "https://medium.com/tag/tensorflow?source=post_page-----ba6de962b3b8---------------tensorflow-----------------", "anchor_text": "TensorFlow"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----ba6de962b3b8---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/deep-learning?source=post_page-----ba6de962b3b8---------------deep_learning-----------------", "anchor_text": "Deep Learning"}, {"url": "https://medium.com/tag/apple-silicon?source=post_page-----ba6de962b3b8---------------apple_silicon-----------------", "anchor_text": "Apple Silicon"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ba6de962b3b8---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fba6de962b3b8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-2-4-on-apple-silicon-m1-installation-under-conda-environment-ba6de962b3b8&user=Fabrice+Daniel&userId=926442548db0&source=-----ba6de962b3b8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fba6de962b3b8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-2-4-on-apple-silicon-m1-installation-under-conda-environment-ba6de962b3b8&user=Fabrice+Daniel&userId=926442548db0&source=-----ba6de962b3b8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fba6de962b3b8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-2-4-on-apple-silicon-m1-installation-under-conda-environment-ba6de962b3b8&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ba6de962b3b8--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fba6de962b3b8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-2-4-on-apple-silicon-m1-installation-under-conda-environment-ba6de962b3b8&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ba6de962b3b8---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ba6de962b3b8--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ba6de962b3b8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ba6de962b3b8--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ba6de962b3b8--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ba6de962b3b8--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ba6de962b3b8--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ba6de962b3b8--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ba6de962b3b8--------------------------------", "anchor_text": ""}, {"url": "https://fabrice-daniel.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://fabrice-daniel.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Fabrice Daniel"}, {"url": "https://fabrice-daniel.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "268 Followers"}, {"url": "https://www.linkedin.com/in/fabrice-daniel-250930164/", "anchor_text": "https://www.linkedin.com/in/fabrice-daniel-250930164/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F926442548db0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-2-4-on-apple-silicon-m1-installation-under-conda-environment-ba6de962b3b8&user=Fabrice+Daniel&userId=926442548db0&source=post_page-926442548db0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7116984ccbca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-2-4-on-apple-silicon-m1-installation-under-conda-environment-ba6de962b3b8&newsletterV3=926442548db0&newsletterV3Id=7116984ccbca&user=Fabrice+Daniel&userId=926442548db0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}