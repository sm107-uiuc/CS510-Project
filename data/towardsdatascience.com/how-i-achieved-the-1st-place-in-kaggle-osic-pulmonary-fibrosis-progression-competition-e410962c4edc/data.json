{"url": "https://towardsdatascience.com/how-i-achieved-the-1st-place-in-kaggle-osic-pulmonary-fibrosis-progression-competition-e410962c4edc", "time": 1683014820.2673979, "path": "towardsdatascience.com/how-i-achieved-the-1st-place-in-kaggle-osic-pulmonary-fibrosis-progression-competition-e410962c4edc/", "webpage": {"metadata": {"title": "How I achieved the 1st place in Kaggle OSIC Pulmonary Fibrosis Progression competition | by Art Kulakov | Towards Data Science", "h1": "How I achieved the 1st place in Kaggle OSIC Pulmonary Fibrosis Progression competition", "description": "During the OSIC Pulmonary Fibrosis Progression competition, the competitors were asked to predict a patient\u2019s severity of the decline in lung function based on a CT scan of their lungs and some\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/c/osic-pulmonary-fibrosis-progression", "anchor_text": "OSIC Pulmonary Fibrosis Progression", "paragraph_index": 0}, {"url": "https://www.kaggle.com/khoongweihao/efficientnets-quantile-regression-inference", "anchor_text": "which in fact was introduced before the competition end by other kagglers", "paragraph_index": 9}], "all_paragraphs": ["During the OSIC Pulmonary Fibrosis Progression competition, the competitors were asked to predict a patient\u2019s severity of the decline in lung function based on a CT scan of their lungs and some additional tabular data fields. The challenge was to use machine learning techniques to make a prediction with the image, metadata, and baseline FVC as input. The task wasn\u2019t simple. Due to the rather low amount of data available, it was not easy to use traditional Computer Vision approaches to model the dependency between CT scans and patient FVC values. Moreover, the public leaderboard score was based only on 15% of test data and didn\u2019t correlate with the validation at all, which made it really hard to select the best models for final submission.", "In general, it is really hard to explain all the subtle points of the competition here, so I recommend to visit the competition link above and read about it yourself if you are really interested!", "As described above, the input data consisted of chest CT scans in dicom format, which formed a 3d chest ct scan plus some additional metadata fields, which described each patient in general. Here is an example slice of one of the CT scans.", "And here is a sample of the additional metadata fields for the patient.", "For each patient, there was given an initial CT scan that corresponded to the first week in the patients' metadata and additional weeks, which described how patients FVC changed during that time.", "For the test set for each patient, only the first-week data was given, along with the initial CT scan. The task was not only to predict the \u201cFVC\u201d values for the following weeks but also to display the \u201cConfidence\u201d score for each prediction.", "Speaking about the metric, the loglikelihood score was used to score all the submissions.", "Here is my python implementation of the metric.", "Speaking about validation, I tried to make it as close as possible to the scoring method used by organizers. Originally, they scored only 3 last predictions (last 3 weeks for each patient), so I developed a similar validation framework. For the test set, I included only patients not present in the training set and used only 3 last weeks for scoring. Though, this validation scheme did not correlate with the leaderboard well.", "My best model turned out to be the blend of 2 models, which in fact was introduced before the competition end by other kagglers: EfficientNet B5 and Quantile Regression Dense Neural Network. Whereas EfficientNet used CT scan slices along with tabular data, Quantile Regression relied manually on tabular data. Due to the fact that those 2 models were originally built a bit different from each other, blending them was a good idea to get a high score due to the diversity in their predictions.", "Here are the exact steps on how I achieved the 1st place on the private leaderboard.", "In terms of training time, Effnet b5 was finetuning for about 5 minutes on a single Nvidia Titan RTX GPU card. Quantile Regression trained directly on the Kaggle machine during inference and took not more than 30 seconds to train. In general, all inference process took only 3 minutes on Kaggle machines.", "Also, I would like to give a small tip, on how I tend to select submissions and verify the prediction correctness, in general, this helps me a lot. When I have trained the new model and receive the submission file, I always draw distribution plots of prediction values, along with plots for predictions themselves. Here is how prediction plots look like:", "These are plots for the test set \u201cConfidence\u201d for a subset of my models, sometimes by looking at those plots you can identify strange model behavior and find a bug. In general, I always analyze the predictions really carefully and build a lot of graphs before submitting anything.", "I have tried a ton of stuff, but it almost always worked badly both on LB and CV. Here are a few things:", "This is my first gold on Kaggle and I am really happy about that. I would like to thank all the Kaggle community for making so many notebooks public and being active on the forum! Without this, I wouldn\u2019t have learned that much during this competition and all other previous ones.", "Below I will attach links to my final submission notebooks, along with Kaggle writeup and Github repo.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe410962c4edc&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-achieved-the-1st-place-in-kaggle-osic-pulmonary-fibrosis-progression-competition-e410962c4edc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-achieved-the-1st-place-in-kaggle-osic-pulmonary-fibrosis-progression-competition-e410962c4edc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-achieved-the-1st-place-in-kaggle-osic-pulmonary-fibrosis-progression-competition-e410962c4edc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-achieved-the-1st-place-in-kaggle-osic-pulmonary-fibrosis-progression-competition-e410962c4edc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e410962c4edc--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e410962c4edc--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://artkulakov.medium.com/?source=post_page-----e410962c4edc--------------------------------", "anchor_text": ""}, {"url": "https://artkulakov.medium.com/?source=post_page-----e410962c4edc--------------------------------", "anchor_text": "Art Kulakov"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8c4b7f24d954&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-achieved-the-1st-place-in-kaggle-osic-pulmonary-fibrosis-progression-competition-e410962c4edc&user=Art+Kulakov&userId=8c4b7f24d954&source=post_page-8c4b7f24d954----e410962c4edc---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe410962c4edc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-achieved-the-1st-place-in-kaggle-osic-pulmonary-fibrosis-progression-competition-e410962c4edc&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe410962c4edc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-achieved-the-1st-place-in-kaggle-osic-pulmonary-fibrosis-progression-competition-e410962c4edc&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/photos/6BVinN0Y7Xk", "anchor_text": "https://unsplash.com/photos/6BVinN0Y7Xk"}, {"url": "https://www.kaggle.com/c/osic-pulmonary-fibrosis-progression", "anchor_text": "OSIC Pulmonary Fibrosis Progression"}, {"url": "https://www.kaggle.com/andradaolteanu/pulmonary-fibrosis-competition-eda-dicom-prep", "anchor_text": "https://www.kaggle.com/andradaolteanu/pulmonary-fibrosis-competition-eda-dicom-prep"}, {"url": "https://www.kaggle.com/andradaolteanu/pulmonary-fibrosis-competition-eda-dicom-prep", "anchor_text": "https://www.kaggle.com/andradaolteanu/pulmonary-fibrosis-competition-eda-dicom-prep"}, {"url": "https://www.kaggle.com/c/osic-pulmonary-fibrosis-progression/overview/evaluation", "anchor_text": "https://www.kaggle.com/c/osic-pulmonary-fibrosis-progression/overview/evaluation"}, {"url": "https://www.kaggle.com/khoongweihao/efficientnets-quantile-regression-inference", "anchor_text": "which in fact was introduced before the competition end by other kagglers"}, {"url": "https://www.kaggle.com/artkulak/inference-45-55-600-epochs-tuned-effnet-b5-30-ep", "anchor_text": "1st Place notebook"}, {"url": "https://www.kaggle.com/artkulak/simple-logreg", "anchor_text": "Bronze zone very simple solution"}, {"url": "https://www.kaggle.com/c/osic-pulmonary-fibrosis-progression/discussion/189346", "anchor_text": "Kaggle writeup"}, {"url": "https://github.com/artkulak/osic-pulmonary-fibrosis-progression", "anchor_text": "Github repository"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----e410962c4edc---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/python?source=post_page-----e410962c4edc---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----e410962c4edc---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----e410962c4edc---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe410962c4edc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-achieved-the-1st-place-in-kaggle-osic-pulmonary-fibrosis-progression-competition-e410962c4edc&user=Art+Kulakov&userId=8c4b7f24d954&source=-----e410962c4edc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe410962c4edc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-achieved-the-1st-place-in-kaggle-osic-pulmonary-fibrosis-progression-competition-e410962c4edc&user=Art+Kulakov&userId=8c4b7f24d954&source=-----e410962c4edc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe410962c4edc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-achieved-the-1st-place-in-kaggle-osic-pulmonary-fibrosis-progression-competition-e410962c4edc&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e410962c4edc--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe410962c4edc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-achieved-the-1st-place-in-kaggle-osic-pulmonary-fibrosis-progression-competition-e410962c4edc&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e410962c4edc---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e410962c4edc--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e410962c4edc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e410962c4edc--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e410962c4edc--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e410962c4edc--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e410962c4edc--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e410962c4edc--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e410962c4edc--------------------------------", "anchor_text": ""}, {"url": "https://artkulakov.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://artkulakov.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Art Kulakov"}, {"url": "https://artkulakov.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "626 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8c4b7f24d954&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-achieved-the-1st-place-in-kaggle-osic-pulmonary-fibrosis-progression-competition-e410962c4edc&user=Art+Kulakov&userId=8c4b7f24d954&source=post_page-8c4b7f24d954--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ffbb3f8dbd5f6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-achieved-the-1st-place-in-kaggle-osic-pulmonary-fibrosis-progression-competition-e410962c4edc&newsletterV3=8c4b7f24d954&newsletterV3Id=fbb3f8dbd5f6&user=Art+Kulakov&userId=8c4b7f24d954&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}