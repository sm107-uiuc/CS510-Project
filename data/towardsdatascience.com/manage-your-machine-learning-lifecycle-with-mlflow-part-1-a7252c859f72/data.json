{"url": "https://towardsdatascience.com/manage-your-machine-learning-lifecycle-with-mlflow-part-1-a7252c859f72", "time": 1682993439.084897, "path": "towardsdatascience.com/manage-your-machine-learning-lifecycle-with-mlflow-part-1-a7252c859f72/", "webpage": {"metadata": {"title": "Manage your Machine Learning Lifecycle with MLflow \u2014 Part 1. | by Favio V\u00e1zquez | Towards Data Science", "h1": "Manage your Machine Learning Lifecycle with MLflow \u2014 Part 1.", "description": "Machine Learning (ML) is not easy, but creating a good workflow which you can reproduce, revisit and deploy to production is even harder. There has been many advances towards creating a good platform\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/u/5ae67e7eecef?source=post_page-----a7252c859f72--------------------------------", "anchor_text": "Databricks", "paragraph_index": 3}, {"url": "https://github.com/databricks/mlflow", "anchor_text": "open source project", "paragraph_index": 5}, {"url": "https://brew.sh/", "anchor_text": "Homebrew", "paragraph_index": 8}, {"url": "https://mlflow.org/docs/latest/projects.html#projects", "anchor_text": "MLflow Project", "paragraph_index": 21}, {"url": "https://mlflow.org/docs/latest/projects.html#projects", "anchor_text": "MLflow Project", "paragraph_index": 23}, {"url": "https://parquet.apache.org/", "anchor_text": "Parquet", "paragraph_index": 26}, {"url": "https://mlflow.org/docs/latest/python_api/mlflow.html#mlflow.create_experiment", "anchor_text": "mlflow.create_experiment()", "paragraph_index": 27}, {"url": "https://archive.ics.uci.edu/ml/datasets/wine+quality", "anchor_text": "Wine Quality dataset", "paragraph_index": 29}, {"url": "http://localhost:5000/", "anchor_text": "http://localhost:5000", "paragraph_index": 32}], "all_paragraphs": ["Machine Learning (ML) is not easy, but creating a good workflow which you can reproduce, revisit and deploy to production is even harder. There has been many advances towards creating a good platform or managing solution for ML. Note that this is not the Data Science (DS) Lifecycle, which is more complex and has many parts.", "The ML lifecycle exists inside the DS lifecycle.", "You can check some of the projects for creating ML workflows here:", "These packages are great, but not so easy to follow. Maybe the solution is a mix of these three, or something like that. But here I\u2019ll present you the latest solution created by Databricks called MLflow.", "MLflow is an open source platform for the complete machine learning lifecycle.", "MLflow is designed to work with any ML library, algorithm, deployment tool or language. It is very easy to add MLflow to your existing ML code so you can benefit from it immediately, and to share code using any ML library that others in your organization can run. MLflow is also an open source project that users and library developers can extend.", "Installing MLflow is very easy, you just have to run:", "And this is according to the creators. But I faced several issues while installing it. So here are my recommendations (if you can run mlflow in your terminal after installing ignore ):", "From Databricks: MLflow cannot be installed on the MacOS system installation of Python. We recommend installing Python 3 through the Homebrew package manager using brew install python. (In this case, installing mlflow is now pip3 install mlflow).", "That did not work for me and I got this error:", "And the way of solving that was not very easy. I\u2019m using MacOS btw. To solve that I needed to update the protobuf library. To do that I installed the Google\u2019s protobuf library from source:", "Now that you have MLflow installed let\u2019s run a simple example.", "Save that to train.py and then run with", "And that\u2019s it? Nope. With MLflow you have a UI that you can access easily writing:", "So what have we done so far? If you see the code you\u2019ll se we used two things, a log_param, log_metric and log_artifact. The first one logs the passed-in parameter under the current run, creating a run if necessary, the second one logs the passed-in metric under the current run, creating a run if necessary, and the last one log a local file or directory as an artifact of the currently active run.", "So with this simple example we learned how to save the log of params, metrics and files in our lifecycle.", "If we click on the date of the run, we can see more about it.", "Now if we click the metric, we can see how it got updated through the run:", "And if we click the artifact we can see a preview of it:", "The MLflow Tracking component lets you log and query experiments using either REST or Python.", "Each run records the following information:", "Code Version: Git commit used to execute the run, if it was executed from an MLflow Project.", "Start & End: TimeStart and end time of the run", "Source: Name of the file executed to launch the run, or the project name and entry point for the run if the run was executed from an MLflow Project.", "Parameters: Key-value input parameters of your choice. Both keys and values are strings.", "Metrics: Key-value metrics where the value is numeric. Each metric can be updated throughout the course of the run (for example, to track how your model\u2019s loss function is converging), and MLflow will record and let you visualize the metric\u2019s full history.", "Artifacts: Output files in any format. For example, you can record images (for example, PNGs), models (for example, a pickled SciKit-Learn model) or even data files (for example, a Parquet file) as artifacts.", "Runs can optionally be organized into experiments, which group together runs for a specific task. You can create an experiment via the mlflow experiments CLI, withmlflow.create_experiment(), or via the corresponding REST parameters.", "And then you just launch an experiment:", "A simple example using the Wine Quality dataset: Two datasets are included, related to red and white vinho verde wine samples, from the north of Portugal. The goal is to model wine quality based on physicochemical tests.", "And then in the folder create the file train.py with the content:", "Here we will thest MLflow integration for SciKit-Learn too. After running you will see in the terminal this:", "And then run the mlflow ui in the same current working directory as the one which contains the mlruns directory and navigate your browser to http://localhost:5000. You will see:", "And you will have this for each run, so you can track everything you do. Also the model have a pkl file and a YAML for deployment, reproduction and sharing.", "In the next post I\u2019ll cover the Projects and Models API, where we will be able to run in production these models, also create a full lifecycle.", "Make sure to check the MLflow project for more:", "Thanks for reading this. I hope you found something interesting here :)", "If you have questions just follow me on Twitter", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data scientist, physicist and computer engineer. Love sharing ideas, thoughts and contributing to Open Source in Machine Learning and Deep Learning ;)."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa7252c859f72&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmanage-your-machine-learning-lifecycle-with-mlflow-part-1-a7252c859f72&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmanage-your-machine-learning-lifecycle-with-mlflow-part-1-a7252c859f72&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmanage-your-machine-learning-lifecycle-with-mlflow-part-1-a7252c859f72&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmanage-your-machine-learning-lifecycle-with-mlflow-part-1-a7252c859f72&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a7252c859f72--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a7252c859f72--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@faviovazquez?source=post_page-----a7252c859f72--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@faviovazquez?source=post_page-----a7252c859f72--------------------------------", "anchor_text": "Favio V\u00e1zquez"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe8ec6fa4d7d4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmanage-your-machine-learning-lifecycle-with-mlflow-part-1-a7252c859f72&user=Favio+V%C3%A1zquez&userId=e8ec6fa4d7d4&source=post_page-e8ec6fa4d7d4----a7252c859f72---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa7252c859f72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmanage-your-machine-learning-lifecycle-with-mlflow-part-1-a7252c859f72&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa7252c859f72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmanage-your-machine-learning-lifecycle-with-mlflow-part-1-a7252c859f72&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/pachyderm/pachyderm", "anchor_text": "pachyderm/pachydermpachyderm - Reproducible Data Science at Scale!github.com"}, {"url": "https://github.com/combust/mleap", "anchor_text": "combust/mleapmleap - MLeap: Deploy Spark Pipelines to Productiongithub.com"}, {"url": "https://medium.com/u/5ae67e7eecef?source=post_page-----a7252c859f72--------------------------------", "anchor_text": "Databricks"}, {"url": "https://github.com/databricks/mlflow", "anchor_text": "open source project"}, {"url": "https://brew.sh/", "anchor_text": "Homebrew"}, {"url": "https://github.com/google/protobuf/releases", "anchor_text": "google/protobufprotobuf - Protocol Buffers - Google's data interchange formatgithub.com"}, {"url": "http://google.github.io/proto-lens/installing-protoc.html", "anchor_text": "Installing protocAPI for protocol buffers using modern Haskell language and library patterns.google.github.io"}, {"url": "https://mlflow.org/docs/latest/projects.html#projects", "anchor_text": "MLflow Project"}, {"url": "https://mlflow.org/docs/latest/projects.html#projects", "anchor_text": "MLflow Project"}, {"url": "https://parquet.apache.org/", "anchor_text": "Parquet"}, {"url": "https://mlflow.org/docs/latest/python_api/mlflow.html#mlflow.create_experiment", "anchor_text": "mlflow.create_experiment()"}, {"url": "https://archive.ics.uci.edu/ml/datasets/wine+quality", "anchor_text": "Wine Quality dataset"}, {"url": "https://raw.githubusercontent.com/databricks/mlflow/master/example/tutorial/wine-quality.csv", "anchor_text": "https://raw.githubusercontent.com/databricks/mlflow/master/example/tutorial/wine-quality.csv"}, {"url": "http://localhost:5000/", "anchor_text": "http://localhost:5000"}, {"url": "https://github.com/databricks/mlflow", "anchor_text": "databricks/mlflowmlflow - Open source platform for the complete machine learning lifecyclegithub.com"}, {"url": "https://twitter.com/faviovaz", "anchor_text": "Favio V\u00e1zquez (@FavioVaz) | TwitterThe latest Tweets from Favio V\u00e1zquez (@FavioVaz). Data Scientist. Physicist and computational engineer. I have a\u2026twitter.com"}, {"url": "http://linkedin.com/in/faviovazquez/", "anchor_text": "Favio V\u00e1zquez \u2014 Principal Data Scientist \u2014 OXXO | LinkedInView Favio V\u00e1zquez\u2019s profile on LinkedIn, the world\u2019s largest professional community. Favio has 15 jobs jobs listed on\u2026linkedin.com"}, {"url": "https://medium.com/tag/python?source=post_page-----a7252c859f72---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----a7252c859f72---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/mlflow?source=post_page-----a7252c859f72---------------mlflow-----------------", "anchor_text": "Mlflow"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a7252c859f72---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data?source=post_page-----a7252c859f72---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa7252c859f72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmanage-your-machine-learning-lifecycle-with-mlflow-part-1-a7252c859f72&user=Favio+V%C3%A1zquez&userId=e8ec6fa4d7d4&source=-----a7252c859f72---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa7252c859f72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmanage-your-machine-learning-lifecycle-with-mlflow-part-1-a7252c859f72&user=Favio+V%C3%A1zquez&userId=e8ec6fa4d7d4&source=-----a7252c859f72---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa7252c859f72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmanage-your-machine-learning-lifecycle-with-mlflow-part-1-a7252c859f72&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a7252c859f72--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa7252c859f72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmanage-your-machine-learning-lifecycle-with-mlflow-part-1-a7252c859f72&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a7252c859f72---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a7252c859f72--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a7252c859f72--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a7252c859f72--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a7252c859f72--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a7252c859f72--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a7252c859f72--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a7252c859f72--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a7252c859f72--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@faviovazquez?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@faviovazquez?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Favio V\u00e1zquez"}, {"url": "https://medium.com/@faviovazquez/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "9K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe8ec6fa4d7d4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmanage-your-machine-learning-lifecycle-with-mlflow-part-1-a7252c859f72&user=Favio+V%C3%A1zquez&userId=e8ec6fa4d7d4&source=post_page-e8ec6fa4d7d4--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe5c1070d2e27&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmanage-your-machine-learning-lifecycle-with-mlflow-part-1-a7252c859f72&newsletterV3=e8ec6fa4d7d4&newsletterV3Id=e5c1070d2e27&user=Favio+V%C3%A1zquez&userId=e8ec6fa4d7d4&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}