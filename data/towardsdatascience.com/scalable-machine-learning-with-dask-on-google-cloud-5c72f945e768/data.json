{"url": "https://towardsdatascience.com/scalable-machine-learning-with-dask-on-google-cloud-5c72f945e768", "time": 1683012338.494112, "path": "towardsdatascience.com/scalable-machine-learning-with-dask-on-google-cloud-5c72f945e768/", "webpage": {"metadata": {"title": "Scalable Machine Learning with Dask on Google Cloud | by Jiahao Weng | Towards Data Science", "h1": "Scalable Machine Learning with Dask on Google Cloud", "description": "Dask has been reviewed by many and compared to various other tools, including Spark, Ray and Vaex. Developed in coordination with other community projects like Numpy, Pandas, and Scikit-Learn, it is\u2026"}, "outgoing_paragraph_urls": [{"url": "https://docs.dask.org/en/latest/how-to/deploy-dask/kubernetes-helm.html", "anchor_text": "existing documentation", "paragraph_index": 2}, {"url": "https://cloud.google.com/free/docs/gcp-free-tier", "anchor_text": "free trial", "paragraph_index": 2}, {"url": "https://console.cloud.google.com/apis/api/container.googleapis.com/overview", "anchor_text": "Kubernetes Engine API", "paragraph_index": 5}, {"url": "https://console.cloud.google.com/kubernetes", "anchor_text": "Kubernetes Clusters", "paragraph_index": 10}, {"url": "https://github.com/dask/helm-chart/blob/master/dask/values.yaml", "anchor_text": "standard configuration file", "paragraph_index": 31}, {"url": "https://console.cloud.google.com/kubernetes", "anchor_text": "Kubernetes Cluster", "paragraph_index": 41}], "all_paragraphs": ["Updated on 13 Nov 2021 to reflect latest steps to setup Dask cluster on Google Cloud", "Dask has been reviewed by many and compared to various other tools, including Spark, Ray and Vaex. Developed in coordination with other community projects like Numpy, Pandas, and Scikit-Learn, it is definitely a great tool for scaling machine learning.", "Hence, the purpose of this article is not to compare the pros and cons of Dask (for that, you can refer to the reference links at the end of this article), but rather to add to existing documentation on the deployment of Dask on cloud and specifically Google Cloud. It definitely also helps that Google Cloud has a free trial for new signups, so you can experiment at no cost.", "We list down first the general steps to take before detailing each of the steps with screenshots (feel free to click on each step to navigate). Having a Google Cloud account is the only prerequisite for following this article.", "Our first step is to set up a Kubernetes Cluster through Google Kubernetes Engine (GKE).", "a) Enable the Kubernetes Engine API after logging in to your Google Cloud console", "You should see a button similar to the one in red box below in the top right corner of your console page. Click on it and a terminal will pop out. The virtual machine behind this terminal has various tools preinstalled, most importantly kubectl, which is a tool for controlling Kubernetes clusters.", "c) Create a managed Kubernetes cluster", "Key in the following into Google Cloud Shell to create a managed Kubernetes cluster, replacing <CLUSTERNAME> with a name that can be referred to later.", "A brief description of the parameters in the code above:", "While your cluster is initializing, you can also see it spinning up on the Kubernetes Clusters page:", "Alternatively, you can also verify if your cluster is initialized by running:", "When your cluster is deployed, you should see the status as Ready.", "d) Provide account permissions to cluster", "Replace <GOOGLE-EMAIL-ACCOUNT> with the email of the Google account you used to login to Google Cloud.", "We will use Helm for installing, upgrading and managing applications on a Kubernetes cluster.", "a) Install Helm by running installer script in Google Cloud Shell", "b) Verify that Helm is installed properly", "Make sure the version is at least 3.5.", "We are almost there\u2026 Just a couple more steps before we can start running our machine learning code.", "a) Add and update packages information with Dask\u2019s Helm chart repository", "b) Launch Dask on Kubernetes cluster", "This deploys a dask-scheduler, three dask-workers, and also a Jupyter server by default.", "Depending on your use case, you may amend the options in the code above:", "In the previous step, we launched Dask on the cluster. However, it may take a minute to deploy and you can check the status with kubectl after a while:", "Once ready,the external IPs will show up for your Jupyter server (my-dask-jupyter) and Dask scheduler (my-dask-scheduler). If you see <pending> under EXTERNAL-IP, just wait a while more before running the above code again.", "Entering the external IP addresses for my-dask-jupyter and my-dask-scheduler in your web browser will allow you to access your Jupyter server and Dask dashboard respectively.", "For the Jupyter server, you can log in with default password dask. To change this password, please see the next section.", "Congratulations! You can now start running your Dask code :)", "Note: If you face 404 error when accessing Jupyter, just click on the Jupyter logo at the top to be directed to the login page.", "You may be able to perform some basic Dask code after step 4 but what if you would like to run dask-ml? That is not installed by default. And what if you would like to launch more than the default three workers? How about changing your Jupyter server password?", "Hence, we need a way to customize our environment and we can configure it by creating a yaml file. The values in this yaml file will then overwrite the default values of the corresponding parameters in the standard configuration file.", "For our illustration, we shall be using the values.yaml below. In general, the configurations are separated into three main sections; one each for the Scheduler, Worker and Jupyter.", "To update the configurations, simply perform the following:", "We also provide below a general description of the commonly used configurations in our template.", "Under Worker and Jupyter, you can find the sub-section on env. Notice that installation can be via conda or pip and packages are separated by space.", "Number of workers can be specified through replicas parameter. In our case, we requested 4 workers.", "Depending on your needs, you can increase the amount of memory or CPUs allocated to your scheduler, workers and/or Jupyter through the resources sub-section.", "The Jupyter password is a hashed value under password parameter. You can change your password by replacing this field.", "To generate the hashed value of your new password,", "To remove your Helm deployment, execute in Google Cloud Shell:", "Note that this does not destroy the Kubernetes cluster. To do so, you can delete your cluster from the Kubernetes Cluster page.", "Through the guide above, we hope that you are now able to deploy Dask on Google Cloud.", "Thanks for reading and I hope the article was useful :) Please also feel free to comment with any questions or suggestions that you may have.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5c72f945e768&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fscalable-machine-learning-with-dask-on-google-cloud-5c72f945e768&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fscalable-machine-learning-with-dask-on-google-cloud-5c72f945e768&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fscalable-machine-learning-with-dask-on-google-cloud-5c72f945e768&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fscalable-machine-learning-with-dask-on-google-cloud-5c72f945e768&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5c72f945e768--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5c72f945e768--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@jh.weng.87?source=post_page-----5c72f945e768--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jh.weng.87?source=post_page-----5c72f945e768--------------------------------", "anchor_text": "Jiahao Weng"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feb5be9b213df&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fscalable-machine-learning-with-dask-on-google-cloud-5c72f945e768&user=Jiahao+Weng&userId=eb5be9b213df&source=post_page-eb5be9b213df----5c72f945e768---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5c72f945e768&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fscalable-machine-learning-with-dask-on-google-cloud-5c72f945e768&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5c72f945e768&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fscalable-machine-learning-with-dask-on-google-cloud-5c72f945e768&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://docs.dask.org/en/latest/how-to/deploy-dask/kubernetes-helm.html", "anchor_text": "existing documentation"}, {"url": "https://cloud.google.com/free/docs/gcp-free-tier", "anchor_text": "free trial"}, {"url": "https://console.cloud.google.com/apis/api/container.googleapis.com/overview", "anchor_text": "Kubernetes Engine API"}, {"url": "https://cloud.google.com/compute/docs/machine-types#machine_type_comparison", "anchor_text": "list"}, {"url": "https://cloud.google.com/compute/docs/regions-zones/#available", "anchor_text": "somewhere"}, {"url": "https://console.cloud.google.com/kubernetes", "anchor_text": "Kubernetes Clusters"}, {"url": "https://raw.githubusercontent.com/helm/helm/HEAD/scripts/get-helm-3", "anchor_text": "https://raw.githubusercontent.com/helm/helm/HEAD/scripts/get-helm-3"}, {"url": "https://helm.dask.org/", "anchor_text": "https://helm.dask.org/"}, {"url": "https://stackoverflow.com/questions/62324275/external-ip-not-exposed-helm-dask", "anchor_text": "Stack Overflow post"}, {"url": "https://github.com/dask/helm-chart/blob/master/dask/values.yaml", "anchor_text": "standard configuration file"}, {"url": "https://console.cloud.google.com/kubernetes", "anchor_text": "Kubernetes Cluster"}, {"url": "https://www.datarevenue.com/en-blog/pandas-vs-dask-vs-vaex-vs-modin-vs-rapids-vs-ray", "anchor_text": "Scaling Pandas: Dask vs Ray vs Modin vs Vaex vs RAPIDSPython and its most popular data wrangling library, Pandas, are soaring in popularity. Compared to competitors like\u2026www.datarevenue.com"}, {"url": "https://docs.dask.org/en/latest/setup/kubernetes-helm.html", "anchor_text": "Kubernetes and Helm - Dask 2.22.0+11.gb5156d66.dirty documentationIt is easy to launch a Dask cluster and a Jupyter notebook server on cloud resources using Kubernetes and Helm. This is\u2026docs.dask.org"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----5c72f945e768---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----5c72f945e768---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/dask?source=post_page-----5c72f945e768---------------dask-----------------", "anchor_text": "Dask"}, {"url": "https://medium.com/tag/parallel-computing?source=post_page-----5c72f945e768---------------parallel_computing-----------------", "anchor_text": "Parallel Computing"}, {"url": "https://medium.com/tag/google-cloud-platform?source=post_page-----5c72f945e768---------------google_cloud_platform-----------------", "anchor_text": "Google Cloud Platform"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5c72f945e768&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fscalable-machine-learning-with-dask-on-google-cloud-5c72f945e768&user=Jiahao+Weng&userId=eb5be9b213df&source=-----5c72f945e768---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5c72f945e768&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fscalable-machine-learning-with-dask-on-google-cloud-5c72f945e768&user=Jiahao+Weng&userId=eb5be9b213df&source=-----5c72f945e768---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5c72f945e768&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fscalable-machine-learning-with-dask-on-google-cloud-5c72f945e768&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5c72f945e768--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5c72f945e768&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fscalable-machine-learning-with-dask-on-google-cloud-5c72f945e768&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5c72f945e768---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5c72f945e768--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5c72f945e768--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5c72f945e768--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5c72f945e768--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5c72f945e768--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5c72f945e768--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5c72f945e768--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5c72f945e768--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jh.weng.87?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jh.weng.87?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Jiahao Weng"}, {"url": "https://medium.com/@jh.weng.87/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "277 Followers"}, {"url": "https://www.linkedin.com/in/jiahao-weng/", "anchor_text": "https://www.linkedin.com/in/jiahao-weng/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feb5be9b213df&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fscalable-machine-learning-with-dask-on-google-cloud-5c72f945e768&user=Jiahao+Weng&userId=eb5be9b213df&source=post_page-eb5be9b213df--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa863ec98252c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fscalable-machine-learning-with-dask-on-google-cloud-5c72f945e768&newsletterV3=eb5be9b213df&newsletterV3Id=a863ec98252c&user=Jiahao+Weng&userId=eb5be9b213df&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}