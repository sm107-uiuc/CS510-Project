{"url": "https://towardsdatascience.com/why-we-need-indexes-for-database-tables-25198145a8ca", "time": 1683009219.0758772, "path": "towardsdatascience.com/why-we-need-indexes-for-database-tables-25198145a8ca/", "webpage": {"metadata": {"title": "Why We Need Indexes for Database Tables | by Christopher Tao | Towards Data Science", "h1": "Why We Need Indexes for Database Tables", "description": "Using B+Tree index to improve database table query performance. DBA, Data Analysts, Developers and Data Scientists must know to optimize SQL queries."}, "outgoing_paragraph_urls": [], "all_paragraphs": ["If you are not a DBA or a Database Developer, you may not know the mechanisms of the database index. But as long as you can write some SQL queries, you must have been heard of database indexes and know that indexes can improve the performance of the SQL queries.", "In this article, I\u2019ll try to use the simplest language and diagrams to illustrate how the B+tree index can improve the performance of your SQL queries. The reason why I use the B+tree index as the example is that", "Let\u2019s keep this instruction simple, here is a simplified diagram illustrating the structure of the B+tree index.", "In the above B+Tree example, each rectangle stands for a block in the hard disk, while the blue filled dot stands for a pointer that links the blocks together.", "Please be noted that this diagram has extremely simplified the B+Tree for demonstration purposes, as it assumes that each hard disk block can only contain 2 keys. In practice, this will be much larger.", "It is important to understand how a B+tree index is constructed. We need to know that the \u201cLeaf Nodes\u201d level is supposed to have all the values of the field that this index was created on. In the above example, it is apparent that we have only 9 rows in this table column, and their values are from 1 to 9.", "If you\u2019re interested in how the above B+Tree was built, please refer to another article of mine: How B+Tree Indexes Are Built In A Database?", "B+tree can help most of the database query scenarios, and this is also the reason why it is useful.", "Let\u2019s suppose that our SQL query is retrieving on \u201cequal\u201d where condition, for example:", "To find the ID equals 3, the B+tree is used as follows.", "What if our SQL query is searching in a range? For example, here is the SQL query:", "Here is the demonstration of the process.", "The most important characteristic of B+Tree indexes is that it consists of leaf node level and search key level of the tree.", "As shown in the above examples, B+Tree works for both \u201cequal\u201d and comparison conditions.", "It can be seen that the query only need to go through the search keys on the non-leaf nodes to find the expected values. Therefore, when the SQL query is retrieving on the column on which the B+Tree index was created, only a few levels of non-leaf nodes need to go through.", "You must be thinking that the non-leaf nodes must be kind of overheads, and when there are a lot of data rows it will be slow down because there might be numerous non-leaf levels.", "Partially correct. Yes, the non-leaf nodes need to be scanned to get the expected value. In fact, the number of scanned times exactly equals the number of non-leaf levels. However, in practice, the block on our hard disk will be much larger than the above examples. Typically, a table with 10 million entries can be put in a B+Tree with only 3 non-leaf levels. Even though the table is extremely big such as billions scaled, normally the number of non-leaf levels of the B+Tree is usually 4 or 5.", "Hence, using B+Tree indexes can dramatically reduce the number of hard disk blocks scanned in a SQL query.", "I suppose the audience of this article might not have a computer science background, so I guess a simple explanation of the \u201cblock\u201d might be necessary for a better understanding of the problem.", "In our hard disk, the data is stored not always in sequence. A single file might be split and stored into different blocks. So, when we are reading a file/dataset/table, in order to scan the whole file, it will be necessary to jump between different blocks.", "Typically, for a mechanical hard drive, there is a magnetic head that can only move up and down. When it is necessary to read data from a different location, the whole hard drive disk will rotate the location to where the magnetic head is so that the head can read the data.", "Imagine that we are scanning 1000 blocks. The worst case is that the disk will need to be rotated 1000 times. If we\u2019re using indexes, this number will be reduced to 4\u20135 times. That\u2019s why an index can help to the performance.", "In this article, I\u2019ve shared how B+tree looks like and how it works and facilitate a SQL query, typically with equal and comparing conditions.", "It turns out B+Tree is not the most advanced database index anymore, but I believe as probably the most classic index which is still pervasively used in most RDBMS, it is still the best example to demonstrate why we need indexes for a database table and how it works. Hope this is interesting enough for you.", "If you feel my articles are helpful, please consider joining Medium Membership to support me and thousands of other writers! (Click the link above)", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F25198145a8ca&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-we-need-indexes-for-database-tables-25198145a8ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-we-need-indexes-for-database-tables-25198145a8ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-we-need-indexes-for-database-tables-25198145a8ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-we-need-indexes-for-database-tables-25198145a8ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----25198145a8ca--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----25198145a8ca--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://qiuyujx.medium.com/?source=post_page-----25198145a8ca--------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=post_page-----25198145a8ca--------------------------------", "anchor_text": "Christopher Tao"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb8176fabf308&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-we-need-indexes-for-database-tables-25198145a8ca&user=Christopher+Tao&userId=b8176fabf308&source=post_page-b8176fabf308----25198145a8ca---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F25198145a8ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-we-need-indexes-for-database-tables-25198145a8ca&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F25198145a8ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-we-need-indexes-for-database-tables-25198145a8ca&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@toddquackenbush?utm_source=medium&utm_medium=referral", "anchor_text": "Todd Quackenbush"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://unsplash.com/@shanehauser?utm_source=medium&utm_medium=referral", "anchor_text": "Shane Hauser"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/how-b-tree-indexes-are-built-in-a-database-6f847fb3cfcc", "anchor_text": "How B+Tree Indexes Are Built In A Database?Using diagrams to illustrate how a B+Tree index is built in a database management systemtowardsdatascience.com"}, {"url": "https://unsplash.com/@salty_morning?utm_source=medium&utm_medium=referral", "anchor_text": "Maria Krasnova"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://unsplash.com/@cristina_gottardi?utm_source=medium&utm_medium=referral", "anchor_text": "Cristina Gottardi"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://unsplash.com/@andersjilden?utm_source=medium&utm_medium=referral", "anchor_text": "Anders Jild\u00e9n"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://unsplash.com/@aaronburden?utm_source=medium&utm_medium=referral", "anchor_text": "Aaron Burden"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://medium.com/@qiuyujx/membership", "anchor_text": "Join Medium with my referral link \u2014 Christopher TaoAs a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026medium.com"}, {"url": "https://medium.com/tag/data?source=post_page-----25198145a8ca---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/database?source=post_page-----25198145a8ca---------------database-----------------", "anchor_text": "Database"}, {"url": "https://medium.com/tag/sql?source=post_page-----25198145a8ca---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/query-optimization?source=post_page-----25198145a8ca---------------query_optimization-----------------", "anchor_text": "Query Optimization"}, {"url": "https://medium.com/tag/software-development?source=post_page-----25198145a8ca---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F25198145a8ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-we-need-indexes-for-database-tables-25198145a8ca&user=Christopher+Tao&userId=b8176fabf308&source=-----25198145a8ca---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F25198145a8ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-we-need-indexes-for-database-tables-25198145a8ca&user=Christopher+Tao&userId=b8176fabf308&source=-----25198145a8ca---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F25198145a8ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-we-need-indexes-for-database-tables-25198145a8ca&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----25198145a8ca--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F25198145a8ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-we-need-indexes-for-database-tables-25198145a8ca&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----25198145a8ca---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----25198145a8ca--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----25198145a8ca--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----25198145a8ca--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----25198145a8ca--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----25198145a8ca--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----25198145a8ca--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----25198145a8ca--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----25198145a8ca--------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Christopher Tao"}, {"url": "https://qiuyujx.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "8.7K Followers"}, {"url": "https://www.linkedin.com/in/christopher-tao-5717a274/", "anchor_text": "https://www.linkedin.com/in/christopher-tao-5717a274/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb8176fabf308&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-we-need-indexes-for-database-tables-25198145a8ca&user=Christopher+Tao&userId=b8176fabf308&source=post_page-b8176fabf308--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F1d2af94a683f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-we-need-indexes-for-database-tables-25198145a8ca&newsletterV3=b8176fabf308&newsletterV3Id=1d2af94a683f&user=Christopher+Tao&userId=b8176fabf308&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}