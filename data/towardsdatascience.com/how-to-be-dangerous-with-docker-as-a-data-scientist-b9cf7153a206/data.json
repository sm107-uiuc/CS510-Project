{"url": "https://towardsdatascience.com/how-to-be-dangerous-with-docker-as-a-data-scientist-b9cf7153a206", "time": 1683007116.232186, "path": "towardsdatascience.com/how-to-be-dangerous-with-docker-as-a-data-scientist-b9cf7153a206/", "webpage": {"metadata": {"title": "How to be Dangerous with Docker as a Data Scientist | by Kyle Stahl | Towards Data Science", "h1": "How to be Dangerous with Docker as a Data Scientist", "description": "Docker is going to allow you to package up and deploy your data science solution anywhere (typically moving into the cloud). It can be a vital tool in the data science tool bet to move data science\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Docker_(software)", "anchor_text": "here", "paragraph_index": 1}, {"url": "https://hub.docker.com/", "anchor_text": "public", "paragraph_index": 6}, {"url": "https://aws.amazon.com/ecr/", "anchor_text": "AWS", "paragraph_index": 6}, {"url": "https://cglcloud.jfrog.io/cglcloud/webapp/#/home", "anchor_text": "other", "paragraph_index": 6}, {"url": "https://goinbigdata.com/docker-run-vs-cmd-vs-entrypoint/", "anchor_text": "read more", "paragraph_index": 10}, {"url": "https://www.freecodecamp.org/news/an-introduction-to-docker-tags-9b5395636c2a/", "anchor_text": "read more", "paragraph_index": 11}, {"url": "https://stackoverflow.com/questions/33379393/docker-env-vs-run-export", "anchor_text": "here's why", "paragraph_index": 16}, {"url": "https://goinbigdata.com/docker-run-vs-cmd-vs-entrypoint/", "anchor_text": "read more", "paragraph_index": 22}, {"url": "http://www.kyle-stahl.com", "anchor_text": "www.kyle-stahl.com", "paragraph_index": 41}], "all_paragraphs": ["Docker is going to allow you to package up and deploy your data science solution anywhere (typically moving into the cloud). It can be a vital tool in the data science tool bet to move data science work from theory & research into practice & value-add for your business.", "Click here for the boring, formal definition from Wikipedia. Then move onto my description below.", "Docker lets you bundle up everything that your code needs to run in a completely reproducible environment that is easy to bring to other machines (like running it in the cloud). Docker (and container management systems like Kubernetes) isolate these bundles from each other. This brings added reliabililty and security because if my code gets hacked or breaks down, it will not affect your code.", "So\u2026 is Docker like a virtual machine?", "Yes, kinda. People who know a lot about docker on the internet will tell you it\u2019s actually not like a virtual machine because of some confusing computer mumbo-jumbo. Nonetheless, it is a useful analogy to draw. You can run multiple different, completely isolated apps on the same computer. With VM\u2019s you have the whole operating system for each new application; while with docker you only bring what you need. This is what makes it lightweight, scalable, and even more secure.", "DockerfileThis is just a text file that contains specific instructions for building docker images. Some common things you do with this file include: specifying the base image, copying the required files, defining environment variables, installing third-party packages, and writing the default command that will be run when containers are launched from that image.", "ImageAn image is created from Dockerfiles and used to create Docker containers. Images are generally stored in a repository like Dockerhub (public), Elastic Container Registry (AWS), and Artifactory (other).", "ContainerThis is where work actually gets done. Creating a new container will run your code. Some docker containers are built to run for a certain period & shut down afterward (like a training job or data processing job); others are launched and stay up forever (like web services, API endpoints, web app dashboards).", "If your are familiar with Object-Oriented program, an \u201cimage\u201d is like a class definition, while a \u201ccontainer\u201d is an instance of that class. Once you have a class definition, you can create as many instances of that class as you want.", "RegistryThink of a GitHub repository, but for Docker images. You can work locally on Dockerfiles to create images. Once you are done developing those images you can push them to a registry where they will launch containers, or other people can use it as a base image for their projects.", "EntrypointThis is the CLI command that is run whenever a container is launched from an image. It is usually specified by theENTRYPOINT or CMD step at the end of your Dockerfile, or inherited from your base image. You want this command to kick off whatever script or code is needed to accomplish your task. (read more)", "TagThis is a way to name versions of images. This is useful to track the version history of an image over time (similarly to how git tags commits); or just to have an easy name used to reference that image. (read more)", "Base ImageThis is the starting point of a docker image, usually defined in the FROM statement of the Dockerfile. There is a base image for almost everything. Any image can be a base image for another image, as long as it is accessible from a registry. The most basic of base images is just an operating system.", "Some possibly useful of Base Images:", "FROMThis command is in every Dockerfile. It defines the base image you will build upon. You must have access to the registry that contains the base image.", "COPYThis will copy files from your local machine (or where-ever you are building the image) to the docker image (and ensuing containers). The files should be relative to the current working directory that you are building the docker image from.", "ENVThis sets OS environment variables for your docker containers * Note: Use this instead of RUN export. (here's why)", "RUNThis will run OS CLI commands. Usually, this is done to edit the base file system or install third-party packages.", "WORKDIRSets the starting directory from which your ENTRYPOINT or CMD will be executed.", "ARGAllows you to pass arguments into your Dockerfile through the docker build command.", "EXPOSEThis exposes a port that can be accessed by the world through the machine the container is running on. If you have a web app, dashboard, or API endpoint then you need to expose a port. Many times this already is done by your the Base Image.", "ENTRYPOINT or CMDThe CLI command that will run when a new container starts up. This should invoke all the other things that you want the docker container to do.", "The difference between ENTRYPOINT and CMD is that CMD can be overwritten, while ENTRYPOINT cannot be overwritten. (read more)", "ENTRYPOINT will run no matter what. CMD can either be run on its own or be used to add extra parameters to ENTRYPOINT. CMD will specify some default value to be run when the container launches, but that parameter or command can be overwritten though docker run.", "The simplest version is to just build the Dockerfile in the current directory:docker build .", "The next thing you might want to do is add a tag (registry & version name):docker build -t localRegistryName:TagName .", "Then maybe you want to pass in some arguments into your Dockerfile with ARG:", "Another option for complex applications, you might hide your Dockerfile in a folder, or want to copy some files from a parent directory. You can specify -f as a path to your Dockerfile.", "The simplest way to run a container from an image:docker run localRegistryName:TagName", "Port MappingOne thing you\u2019ll have to do when testing containers locally is to map the port that is exposed for your dashboard or endpoint to your local machine:docker run -p PORTNUM:PORTNUM localRegistryName:TagName", "Note: the first PORTNUM is the port on your local machine that you want to map to, the second PORTNUM is the exposed port from the docker container that you want to view. The port numbers can be different, but that just makes things confusing.", "Debugging with BashAnother thing you might want to do is explore your container with the CLI. You can do this to inspect things like: Is my code files being copied correctly? Are the environment variables correctly defined?docker run -it localRegistryName:TagName /bin/bash", "Note: For this to work, a few things need to be true. 1) your image needs to have bash installed. So this wouldn\u2019t work on a windows container. 2) You need to use CMD instead of ENTRYPOINT. the /bin/bash is there to override the CMD when the docker container starts up. An ENTRYPOINT will still run and block your attempt to run bash.", "You can easily list all your current images or running containers with:docker image lsdocker container ls", "You might forget to tag an image, or you just want to add another tag. You can add a tag to an image by referencing other tags or it\u2019s IMAGE ID. (IMAGE ID can be found by listing all images)", "You can stop containers that are currently running by:docker stop ContainerName or docker kill ContainerName", "Cleaning up your systemThere are different ways to remove old images to clean up your workspace.", "docker rmi RegistryName:TagName will remove 1 imagedocker system prune will delete all images that are untagged & not associated with a running containerdocker system prune -a will delete everything", "Docker has a steep learning curve for many data scientists, but once you get over that curve you drastically improve your ability to productionalize your work.", "Thanks for reading!Let me know in the comments if there is anything I should add or change, feedback is welcome!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist & Adjunct Faculty. Other interests include economics, strategy, leadership, physics, philosophy, and history. www.kyle-stahl.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb9cf7153a206&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-be-dangerous-with-docker-as-a-data-scientist-b9cf7153a206&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-be-dangerous-with-docker-as-a-data-scientist-b9cf7153a206&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-be-dangerous-with-docker-as-a-data-scientist-b9cf7153a206&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-be-dangerous-with-docker-as-a-data-scientist-b9cf7153a206&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b9cf7153a206--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b9cf7153a206--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://kyle-stahl.medium.com/?source=post_page-----b9cf7153a206--------------------------------", "anchor_text": ""}, {"url": "https://kyle-stahl.medium.com/?source=post_page-----b9cf7153a206--------------------------------", "anchor_text": "Kyle Stahl"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7d0b0a351a27&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-be-dangerous-with-docker-as-a-data-scientist-b9cf7153a206&user=Kyle+Stahl&userId=7d0b0a351a27&source=post_page-7d0b0a351a27----b9cf7153a206---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb9cf7153a206&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-be-dangerous-with-docker-as-a-data-scientist-b9cf7153a206&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb9cf7153a206&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-be-dangerous-with-docker-as-a-data-scientist-b9cf7153a206&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.docker.com/sites/default/files/d8/2019-07/horizontal-logo-monochromatic-white.png", "anchor_text": "https://www.docker.com/sites/default/files/d8/2019-07/horizontal-logo-monochromatic-white.png"}, {"url": "https://en.wikipedia.org/wiki/Docker_(software)", "anchor_text": "here"}, {"url": "https://hub.docker.com/", "anchor_text": "public"}, {"url": "https://aws.amazon.com/ecr/", "anchor_text": "AWS"}, {"url": "https://cglcloud.jfrog.io/cglcloud/webapp/#/home", "anchor_text": "other"}, {"url": "https://goinbigdata.com/docker-run-vs-cmd-vs-entrypoint/", "anchor_text": "read more"}, {"url": "https://www.freecodecamp.org/news/an-introduction-to-docker-tags-9b5395636c2a/", "anchor_text": "read more"}, {"url": "https://hub.docker.com/r/rocker/shiny-verse/dockerfile", "anchor_text": "R shiny with tidyverse"}, {"url": "https://hub.docker.com/r/continuumio/miniconda/", "anchor_text": "Python with Conda"}, {"url": "https://hub.docker.com/_/alpine", "anchor_text": "Alpine"}, {"url": "https://hub.docker.com/r/lambci/lambda/", "anchor_text": "AWS Lambda"}, {"url": "https://hub.docker.com/_/debian", "anchor_text": "Debian Linux"}, {"url": "https://stackoverflow.com/questions/33379393/docker-env-vs-run-export", "anchor_text": "here's why"}, {"url": "https://goinbigdata.com/docker-run-vs-cmd-vs-entrypoint/", "anchor_text": "read more"}, {"url": "https://medium.com/tag/docker?source=post_page-----b9cf7153a206---------------docker-----------------", "anchor_text": "Docker"}, {"url": "https://medium.com/tag/getting-started?source=post_page-----b9cf7153a206---------------getting_started-----------------", "anchor_text": "Getting Started"}, {"url": "https://medium.com/tag/data-science?source=post_page-----b9cf7153a206---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb9cf7153a206&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-be-dangerous-with-docker-as-a-data-scientist-b9cf7153a206&user=Kyle+Stahl&userId=7d0b0a351a27&source=-----b9cf7153a206---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb9cf7153a206&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-be-dangerous-with-docker-as-a-data-scientist-b9cf7153a206&user=Kyle+Stahl&userId=7d0b0a351a27&source=-----b9cf7153a206---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb9cf7153a206&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-be-dangerous-with-docker-as-a-data-scientist-b9cf7153a206&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b9cf7153a206--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb9cf7153a206&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-be-dangerous-with-docker-as-a-data-scientist-b9cf7153a206&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b9cf7153a206---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b9cf7153a206--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b9cf7153a206--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b9cf7153a206--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b9cf7153a206--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b9cf7153a206--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b9cf7153a206--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b9cf7153a206--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b9cf7153a206--------------------------------", "anchor_text": ""}, {"url": "https://kyle-stahl.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://kyle-stahl.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kyle Stahl"}, {"url": "https://kyle-stahl.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "62 Followers"}, {"url": "http://www.kyle-stahl.com", "anchor_text": "www.kyle-stahl.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7d0b0a351a27&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-be-dangerous-with-docker-as-a-data-scientist-b9cf7153a206&user=Kyle+Stahl&userId=7d0b0a351a27&source=post_page-7d0b0a351a27--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Faf306badd77c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-be-dangerous-with-docker-as-a-data-scientist-b9cf7153a206&newsletterV3=7d0b0a351a27&newsletterV3Id=af306badd77c&user=Kyle+Stahl&userId=7d0b0a351a27&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}