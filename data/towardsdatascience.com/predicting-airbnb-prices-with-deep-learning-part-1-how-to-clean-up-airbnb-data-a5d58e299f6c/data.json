{"url": "https://towardsdatascience.com/predicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c", "time": 1682996243.897433, "path": "towardsdatascience.com/predicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c/", "webpage": {"metadata": {"title": "Data cleaning in Python: examples from cleaning Airbnb data | Towards Data Science", "h1": "Data cleaning in Python: examples from cleaning Airbnb data", "description": "A step by step guide to cleaning very messy Airbnb data, including how to deal with matching geographic units in London."}, "outgoing_paragraph_urls": [{"url": "https://insideairbnb.com/", "anchor_text": "Insideairbnb.com", "paragraph_index": 2}, {"url": "https://github.com/L-Lewis/Airbnb-neural-network-price-prediction", "anchor_text": "GitHub repo", "paragraph_index": 3}, {"url": "https://github.com/L-Lewis/Airbnb-neural-network-price-prediction", "anchor_text": "GitHub", "paragraph_index": 16}, {"url": "https://towardsdatascience.com/predicting-airbnb-prices-with-deep-learning-part-2-how-to-improve-your-nightly-price-50ea8bc2bd29", "anchor_text": "my next post", "paragraph_index": 18}, {"url": "https://medium.com/@lvlewis8/predicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6", "anchor_text": "building a predictive model", "paragraph_index": 18}], "all_paragraphs": ["Airbnb fascinates me. I previously worked for a year and a half at an Airbnb property management company, as head of the team responsible for pricing, revenue and analysis. One thing I find particularly interesting is how to figure out what price to charge for a listing on the site. Although \u2018it\u2019s a two bedroom in Manchester\u2019 will get you reasonably far, there are actually a huge number of factors that can influence a listing\u2019s price.", "As part of a bigger project on using deep learning to predict Airbnb prices, I found myself thrown back into the murky world of property data. Geospatial data can be very complex and messy \u2014 and user-entered geospatial data doubly so. This post will explain how I went about sourcing and preparing the data for my project, including some thoughts on dealing with UK geographic data (it\u2019s surprisingly complicated) and extracting relevant information from long text strings.", "The dataset used for this project comes from Insideairbnb.com, an anti-Airbnb lobby group that scrapes Airbnb listings, reviews and calendar data from multiple cities around the world. The dataset was scraped on 9 April 2019 and contains information on all London Airbnb listings that were live on the site on that date (about 80,000).", "For the full exciting details (disclosure: level of excitement may vary) of data cleaning, feel free to check out my GitHub repo. In the interests of brevity, I\u2019ll discuss three particular areas of data pre-processing that might be of interest.", "The original dataset contained 106 features, including quite a few text columns of all the different description fields that you can fill in for an Airbnb listing. Due to time constraints I did not do any natural language processing (NLP) in this model, so all these features were dropped. However, an interesting avenue of future development for this model would be to augment it with NLP \u2014 perhaps for sentiment analysis, or looking for keywords, or some sort of fancy Word2Vec type situation that looks for similar listing descriptions and uses this to help guess price based on similar listings.", "Another potential direction of future work could include reviews. Insideairbnb.com also scrapes reviews, which can be matched to listings with their listing IDs. Although most guests tend to give most listings high ratings, more nuanced ratings could perhaps be derived from the reviews themselves.", "Postcodes in the UK are complicated and messy. They can be various lengths, and consist of letters and numbers in various orders. The first half of a postcode is called the outcode or postcode district, and refers to areas as shown here:", "Just to make things more complicated, the main geographic division of London is into 32 boroughs plus the City of London (technically a Corporation rather than a borough due to some quirks of 12th Century English history), which do not align with postcode districts (because that would be too easy, right?):", "There also aren\u2019t any easy ways of classifying London areas on a less granular level. In fact, there is not even agreement on what counts as \u2018inner London\u2019:", "And to make matters even worse, it turns out Airbnb allows hosts to enter postcodes in a free text entry box, precluding any easy separation of parts of postcodes, and allowing hosts to write all kinds of nonsense (my favourite is just the word \u2018no\u2019).", "In the end, after discarding a bunch of regex experimentation with postcodes, I settled on using borough as the unit of geography. Location is very important for Airbnb listings, and so I was not entirely happy about having to use borough. It is not on a particularly fine-grained level, and does not always express well whether a property is in central London or out in the sticks \u2014 which makes a huge difference to price. For example, the famous Shard skyscraper is in Southwark, but so is Dulwich , where the tube doesn\u2019t even reach (disclaimer: Dulwich is actually lovely, but is probably less well known to tourists in London).", "I did also experiment with using latitude and longitude instead of borough in order to get more fine-grained results \u2014 but as a future blog post will show, it was not entirely successful.", "In the dataset from Insiderairbnb.com, amenities were stored as one big block of text\u2014 here\u2019s one example:", "In order to figure out what the various options were and which listings had them, I first made a giant string of all the amenities values, tidied it up a bit, split out the individual amenities separated by commas, and created a set of the resultant list (fortunately the dataset was small enough to allow this, but I would have needed a more efficient way to do this with a much larger dataset):", "And here\u2019s a list of all the amenities it is possible to have:", "In the list above, some amenities are more important than others (e.g. a balcony is more likely to increase price than a fax machine), and some are likely to be fairly uncommon (e.g. \u2018Electric profiling bed\u2019). Based on previous experience in the industry, and furtherresearch into which amenities are considered by guests to be more important, a selection of the more important amenities were extracted. These were then selected from for inclusion in the final model depending on how sparse the data was. For example, if it turns out that almost all properties have/do not have a particular amenity, that feature will not be very useful in differentiating between listings or helping explain differences in prices.", "The whole convoluted code for this can be found on GitHub, but this is the final section where I removed columns where over 90% of the listings either had or did not have a particular amenity:", "These are the amenities that I ended up keeping:", "After these (and many other) cleaning and pre-processing steps, the Airbnb was in suitable form to begin exploration and modelling, and you can read more about this in my next post on data exploration, and another post I wrote about building a predictive model.", "If you found this post interesting or helpful, please let me know via the medium of claps and/or comments, and you can follow me in order to be notified about future posts. Thanks for reading!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist at Amazon. Previously in data in startups, academia and government. Oxford PhD."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa5d58e299f6c&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a5d58e299f6c--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a5d58e299f6c--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@lvlewis8?source=post_page-----a5d58e299f6c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lvlewis8?source=post_page-----a5d58e299f6c--------------------------------", "anchor_text": "Laura Lewis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fafb662460a24&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c&user=Laura+Lewis&userId=afb662460a24&source=post_page-afb662460a24----a5d58e299f6c---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa5d58e299f6c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa5d58e299f6c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://insideairbnb.com/", "anchor_text": "Insideairbnb.com"}, {"url": "https://github.com/L-Lewis/Airbnb-neural-network-price-prediction", "anchor_text": "GitHub repo"}, {"url": "https://en.wikipedia.org/wiki/London_postal_district", "anchor_text": "https://en.wikipedia.org/wiki/London_postal_district"}, {"url": "https://en.wikipedia.org/wiki/London_postal_district", "anchor_text": "https://en.wikipedia.org/wiki/London_postal_district"}, {"url": "https://en.wikipedia.org/wiki/Inner_London", "anchor_text": "https://en.wikipedia.org/wiki/Inner_London"}, {"url": "https://www.visitbritainshop.com/world/the-view-from-the-shard/", "anchor_text": "https://www.visitbritainshop.com/world/the-view-from-the-shard/"}, {"url": "https://de.wikipedia.org/wiki/Dulwich_(London)", "anchor_text": "https://de.wikipedia.org/wiki/Dulwich_(London)"}, {"url": "https://github.com/L-Lewis/Airbnb-neural-network-price-prediction", "anchor_text": "GitHub"}, {"url": "https://towardsdatascience.com/predicting-airbnb-prices-with-deep-learning-part-2-how-to-improve-your-nightly-price-50ea8bc2bd29", "anchor_text": "my next post"}, {"url": "https://medium.com/@lvlewis8/predicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6", "anchor_text": "building a predictive model"}, {"url": "https://medium.com/tag/airbnb?source=post_page-----a5d58e299f6c---------------airbnb-----------------", "anchor_text": "Airbnb"}, {"url": "https://medium.com/tag/python?source=post_page-----a5d58e299f6c---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a5d58e299f6c---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data?source=post_page-----a5d58e299f6c---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa5d58e299f6c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c&user=Laura+Lewis&userId=afb662460a24&source=-----a5d58e299f6c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa5d58e299f6c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c&user=Laura+Lewis&userId=afb662460a24&source=-----a5d58e299f6c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa5d58e299f6c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a5d58e299f6c--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa5d58e299f6c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a5d58e299f6c---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a5d58e299f6c--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a5d58e299f6c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a5d58e299f6c--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a5d58e299f6c--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a5d58e299f6c--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a5d58e299f6c--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a5d58e299f6c--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a5d58e299f6c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lvlewis8?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lvlewis8?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Laura Lewis"}, {"url": "https://medium.com/@lvlewis8/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "381 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fafb662460a24&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c&user=Laura+Lewis&userId=afb662460a24&source=post_page-afb662460a24--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F81d47781bec6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c&newsletterV3=afb662460a24&newsletterV3Id=81d47781bec6&user=Laura+Lewis&userId=afb662460a24&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}