{"url": "https://towardsdatascience.com/how-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-part-2-e61a48ee6c3d", "time": 1683002557.523639, "path": "towardsdatascience.com/how-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-part-2-e61a48ee6c3d/", "webpage": {"metadata": {"title": "How to create a Choropleth Map Plot in Python with Geoviews | by Christos Zeglis | Towards Data Science", "h1": "How to create a Choropleth Map Plot in Python with Geoviews", "description": "How to create an interactive choropleth map plot using python and geoviews. We create a map to visualize how each country in Europe scores in terms of economic freedom."}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/how-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-c4f444ca2929", "anchor_text": "post", "paragraph_index": 0}, {"url": "http://geoviews.org/", "anchor_text": "Geoviews", "paragraph_index": 0}, {"url": "https://www.heritage.org/index/", "anchor_text": "Index of Economic Freedom", "paragraph_index": 2}, {"url": "https://www.heritage.org/index/explore", "anchor_text": "Explore tab", "paragraph_index": 3}, {"url": "https://www.heritage.org/index/", "anchor_text": "website", "paragraph_index": 5}, {"url": "https://www.naturalearthdata.com/downloads/50m-cultural-vectors/50m-admin-0-countries-2/", "anchor_text": "NaturalEarthData website", "paragraph_index": 9}, {"url": "http://techslides.com/list-of-countries-and-capitals", "anchor_text": "here", "paragraph_index": 21}, {"url": "https://towardsdatascience.com/how-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-c4f444ca2929", "anchor_text": "post", "paragraph_index": 23}, {"url": "https://www.linkedin.com/in/christoszeglis/", "anchor_text": "here", "paragraph_index": 27}], "all_paragraphs": ["In another post we learned how to use the geoviews.Points method to create a plot of points that represent specific coordinates on a map. We also used the geoviews.tile_sources to get a map which we can use as our base layer for the points to be plotted on. Since I didn\u2019t find a guide for using Geoviews for choropleth plots, I decided to write this short tutorial.", "The end result will look like this.", "For the purposes of this tutorial, we are going to make a plot to visualize the Index of Economic Freedom for European countries through a choropleth map plot using the Geoviews library.", "You can download your own chosen dataset of any region and year under the Explore tab.", "First, we need to import the libraries and the methods we are about to use.", "If we read the economic_freedom.csv file we got from The Heritage website we have something like this.", "To understand what we are looking at, the higher the number, the higher a country scores in terms of freedom. As you can see there is a score in each category which combined lead to the overall score . Thus, there is no need to get into the details of each category and so we will just use the overall score in this tutorial.", "Let\u2019s refer to that dataframe as ef_df from now on. The dataframe is almost perfect. I will just add two lines of code for better understanding and to fix an issue with some strings I found out.", "Now we are ready to move on to the next element required in order to create a choropleth map plot. That is a is a shapefile (.shp) that contains the boundaries (the shapes actually) of the countries we are interested in.", "I don\u2019t really know if there are better shapefiles from the one I will use, but you are free to search and find them on the web. The one I will use can be download from the NaturalEarthData website.", "We can read the shapefile using Geopandas and we will name that dataframe shapes_df .", "From shapes_df we need only 3 columns: ADMIN , TYPE , geometry .The geometry column is of utmost importance as it contains the geoinformation, i.e. the country shapes. Therefore we will run the following line.", "Now the shapes_df will look like this.", "As I said, I don\u2019t know if there is a better shapefile available on the web, but in this one, we will also have to run the following line to correct some country names in order to match the country names on the ef_df dataframe.", "Now we can finally merge these two dataframes into one. From the ef_df we will keep only the country , index year , and overall score columns and only for the the index year = 2019.", "The merged_df will look like this.", "Before we proceed, please make sure that the geometry data types are either Polygons or Multipolygons by running something like that.", "Now, we are ready to plot our choropleth map using the geoviews.Polygons method. First, let\u2019s assign to poly the gv.Polygons and to carto the basemap.", "Now if we run them together like:", "We can clearly see which countries are considered to be more free in economic terms (light colors) and which ones are not (darker colors).", "Bonus: Using Geoviews we can combine even more plots into one.", "To show you that, I will use a dataset that contains the country capitals and their respective geo-locations, i.e. latitude and longitude. I found that dataset here. I will refer to that as capitals_df.", "After some cleaning and merging, we get to that looking like this.", "Now, we can use the gv.Points method we saw on the previous post and assign it to points.", "In the end, we will run the following command.", "and we will get the combined plot.", "That\u2019s it for today. Hope you found it useful. Till next time!", "You can always find me on LinkedIn by clicking here.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe61a48ee6c3d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-part-2-e61a48ee6c3d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-part-2-e61a48ee6c3d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-part-2-e61a48ee6c3d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-part-2-e61a48ee6c3d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e61a48ee6c3d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e61a48ee6c3d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@christoszeglis?source=post_page-----e61a48ee6c3d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@christoszeglis?source=post_page-----e61a48ee6c3d--------------------------------", "anchor_text": "Christos Zeglis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5139bb7d8fdc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-part-2-e61a48ee6c3d&user=Christos+Zeglis&userId=5139bb7d8fdc&source=post_page-5139bb7d8fdc----e61a48ee6c3d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe61a48ee6c3d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-part-2-e61a48ee6c3d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe61a48ee6c3d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-part-2-e61a48ee6c3d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/how-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-c4f444ca2929", "anchor_text": "post"}, {"url": "http://geoviews.org/", "anchor_text": "Geoviews"}, {"url": "https://www.heritage.org/index/", "anchor_text": "Index of Economic Freedom"}, {"url": "https://www.heritage.org/index/explore", "anchor_text": "Explore tab"}, {"url": "https://www.heritage.org/index/", "anchor_text": "website"}, {"url": "https://www.naturalearthdata.com/downloads/50m-cultural-vectors/50m-admin-0-countries-2/", "anchor_text": "NaturalEarthData website"}, {"url": "http://techslides.com/list-of-countries-and-capitals", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/how-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-c4f444ca2929", "anchor_text": "post"}, {"url": "https://www.linkedin.com/in/christoszeglis/", "anchor_text": "here"}, {"url": "https://medium.com/tag/data-science?source=post_page-----e61a48ee6c3d---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----e61a48ee6c3d---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/education?source=post_page-----e61a48ee6c3d---------------education-----------------", "anchor_text": "Education"}, {"url": "https://medium.com/tag/python?source=post_page-----e61a48ee6c3d---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/interactive-maps?source=post_page-----e61a48ee6c3d---------------interactive_maps-----------------", "anchor_text": "Interactive Maps"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe61a48ee6c3d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-part-2-e61a48ee6c3d&user=Christos+Zeglis&userId=5139bb7d8fdc&source=-----e61a48ee6c3d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe61a48ee6c3d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-part-2-e61a48ee6c3d&user=Christos+Zeglis&userId=5139bb7d8fdc&source=-----e61a48ee6c3d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe61a48ee6c3d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-part-2-e61a48ee6c3d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e61a48ee6c3d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe61a48ee6c3d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-part-2-e61a48ee6c3d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e61a48ee6c3d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e61a48ee6c3d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e61a48ee6c3d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e61a48ee6c3d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e61a48ee6c3d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e61a48ee6c3d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e61a48ee6c3d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e61a48ee6c3d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e61a48ee6c3d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@christoszeglis?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@christoszeglis?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Christos Zeglis"}, {"url": "https://medium.com/@christoszeglis/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "122 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5139bb7d8fdc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-part-2-e61a48ee6c3d&user=Christos+Zeglis&userId=5139bb7d8fdc&source=post_page-5139bb7d8fdc--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Faa00c790744f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-visualize-data-on-top-of-a-map-in-python-using-the-geoviews-library-part-2-e61a48ee6c3d&newsletterV3=5139bb7d8fdc&newsletterV3Id=aa00c790744f&user=Christos+Zeglis&userId=5139bb7d8fdc&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}