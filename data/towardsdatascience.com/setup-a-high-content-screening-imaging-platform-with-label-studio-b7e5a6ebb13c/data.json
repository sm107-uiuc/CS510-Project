{"url": "https://towardsdatascience.com/setup-a-high-content-screening-imaging-platform-with-label-studio-b7e5a6ebb13c", "time": 1683006984.7575722, "path": "towardsdatascience.com/setup-a-high-content-screening-imaging-platform-with-label-studio-b7e5a6ebb13c/", "webpage": {"metadata": {"title": "Set up a High Content Screening Imaging Platform with Label Studio | by Jillian Rowe | Towards Data Science", "h1": "Set up a High Content Screening Imaging Platform with Label Studio", "description": "For a few years now, I have been on a quest to find a tool I really like for annotating HCS images using a web interface. I\u2019ve used several tools, including a desktop application called LabelImg, and\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/tzutalin/labelImg", "anchor_text": "LabelImg", "paragraph_index": 0}, {"url": "https://labelstud.io/", "anchor_text": "LabelStudio", "paragraph_index": 0}, {"url": "https://data.broadinstitute.org/bbbc/BBBC010/", "anchor_text": "Broad BioImage Benchmark Collection", "paragraph_index": 3}, {"url": "https://www.openmicroscopy.org/bio-formats/", "anchor_text": "bftools", "paragraph_index": 4}, {"url": "https://imagemagick.org/index.php", "anchor_text": "Imagmagick", "paragraph_index": 4}, {"url": "https://labelstud.io/templates/", "anchor_text": "templates", "paragraph_index": 9}, {"url": "https://labelstud.io/tags/#Styles", "anchor_text": "labelling interface", "paragraph_index": 28}, {"url": "https://labelstud.io/tags/choices.html", "anchor_text": "Control Tags", "paragraph_index": 28}, {"url": "https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/instance_segmentation.md", "anchor_text": "Tensorflow MaskRCNN", "paragraph_index": 37}, {"url": "https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/using_your_own_dataset.md", "anchor_text": "TFRecord", "paragraph_index": 37}, {"url": "http://dx.doi.org/10.1038/nmeth.2083", "anchor_text": "Ljosa et al., Nature Methods, 2012", "paragraph_index": 39}, {"url": "https://www.dabbleofdevops.com", "anchor_text": "https://www.dabbleofdevops.com", "paragraph_index": 41}], "all_paragraphs": ["For a few years now, I have been on a quest to find a tool I really like for annotating HCS images using a web interface. I\u2019ve used several tools, including a desktop application called LabelImg, and I have finally found a tool that checks all the boxes called LabelStudio!", "Label Studio is an annotation tool for images, audio, and text. Here we\u2019ll be concentrating on images as our medium of choice.", "I go through the process in this video.", "You can, of course, use your own data, but for this tutorial I will be using a publically available C. elegans dataset from the Broad BioImage Benchmark Collection.", "HCS images are often very dark when opened in a system viewer. To use them for the rest of the pipeline we will have to do a two step conversion process, first using bftools to convert from tif -> png, and then using Imagmagick to do a levels correction.", "Now we\u2019ll use ImageMagick to apply an autolevel correction so we can see what we\u2019re labelling!", "If you\u2019re like me and you collect docker images as a way to avoid installing stuff on your computer you\u2019ll need to clean them out on occasion.", "If you need to clean up the images remove the data/png and data/tif folders. We won't be using them.", "LabelStudio works based on projects, and each project is compromised of tasks. In this case a task is labelling an image. So what we need to do is to point it at a directory of images, and it will configure the project for us.", "LabelStudio can accomodate several different image annotation types. The best place to go to learn more about this is to go to their templates page and start exploring with their playground.", "I\u2019m going to assume that you are using the Semantic Segmentation, Polygon Labelling, or Bounding Boxes. As a quick disclaimer the semantic segmentation interface was a bit glitchy when I tried it out. At the time of writing it\u2019s marked as \u2018New\u2019 and under active development. Probably by the time you read this it will be sorted out.", "This wasn\u2019t a problem for me because I personally found that I could get the same functionality using the Polygon Labelling tool to outline the shape. I also found the polygon tool easier to use, and once you have the polygon outline you can convert that into a mask.", "Semantic segmentation is when you assign each of the pixels in your image as being the thing you want to label of not. It is more time consuming to label, and you need more significant computational resources in order to train your models, but you will have greater accuracy.", "Using a bounding box is quite a bit faster to label and get started with, but you lose accuracy, particularly when you have lots of overlapping objects.", "This is better explained with examples:", "Grab this and name it init-labelproject.sh.", "Grab this and name it run-labelstudio.sh.", "Once you have these run chmod 777 *sh and let's label some worms!", "Grab your desired configured below and start up the web interface.", "Grab this and place it in conf/object-config.xml.", "Grab this and place it in conf/polygon-config.xml.", "Grab this and place it in conf/semantic-config.xml.", "To run the bounding box interface use these commands -", "And open up localhost:8080 in your browser.", "To run the polygon interface use these commands -", "And open up localhost:8081 in your browser.", "To run the semantic interface use these commands -", "And open up localhost:8082 in your browser.", "LabelStudio gives you quite a bit of control over the labelling interface. You can also add simple forms directly through the configuration by using the Control Tags.", "Something I wanted was to the ability to mark the image as complete, meaning all worms were marked, or invalid to exclude it from training. I was able to add this with the following configuration.", "You can play around with this quite a bit in order to get the exact layout you want. Width, height, and other CSS variables are all configurable through the configuration. Make sure to restart the server to see your new configuration!", "Each control has a name name, which must be unique, and a destination toName.", "Each output will be in your project-dir/completions, and in that directory there will be one json file per image. You will see the path completions and then there will be an array of results. The output format and exact specs can change based on your configuration, so be sure to verify this with your own configurations.", "Here is an example polygon label output. I\u2019ve added comments and it\u2019s no longer valid json, so don\u2019t try to parse it. ;-)", "And here is an example of the \u2018form\u2019 we created with complete/invalid.", "This is when things get interesting because now that you have a configurable interface with a parseable output you can start to create robust pipelines for training.", "When you spin up the interface and start labeling you will see that LabelStudio spits out your data to {polygon,object,semantic}/completions/*.json. These are just data files, and you can then use these to train models for Tensorflow, PyTorch or Keras.", "Let\u2019s say you are using the Tensorflow MaskRCNN model. You could use LabelStudio to label your images, convert the JSON files to a TFRecord, and train. You could then take your imperfect model, have it label an image set, then manually clean up the new images, rinse and repeat.", "If you have any questions please don\u2019t hesitate to contact me at jillian@dabbleofdevops.com.", "\u201cWe used the C.elegans infection live/dead image set version 1 provided by Fred Ausubel and available from the Broad Bioimage Benchmark Collection [Ljosa et al., Nature Methods, 2012].\u201d", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Bioinformatics Infrastructure Consultant. Mom of 2 awesome girls. Web: https://www.dabbleofdevops.com Email : jillian@dabbleofdevops.com Twitter: jillianerowe"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb7e5a6ebb13c&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetup-a-high-content-screening-imaging-platform-with-label-studio-b7e5a6ebb13c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetup-a-high-content-screening-imaging-platform-with-label-studio-b7e5a6ebb13c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetup-a-high-content-screening-imaging-platform-with-label-studio-b7e5a6ebb13c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetup-a-high-content-screening-imaging-platform-with-label-studio-b7e5a6ebb13c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b7e5a6ebb13c--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b7e5a6ebb13c--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@jilliandrowe?source=post_page-----b7e5a6ebb13c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jilliandrowe?source=post_page-----b7e5a6ebb13c--------------------------------", "anchor_text": "Jillian Rowe"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F87b832c70819&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetup-a-high-content-screening-imaging-platform-with-label-studio-b7e5a6ebb13c&user=Jillian+Rowe&userId=87b832c70819&source=post_page-87b832c70819----b7e5a6ebb13c---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb7e5a6ebb13c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetup-a-high-content-screening-imaging-platform-with-label-studio-b7e5a6ebb13c&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb7e5a6ebb13c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetup-a-high-content-screening-imaging-platform-with-label-studio-b7e5a6ebb13c&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/tzutalin/labelImg", "anchor_text": "LabelImg"}, {"url": "https://labelstud.io/", "anchor_text": "LabelStudio"}, {"url": "https://data.broadinstitute.org/bbbc/BBBC010/", "anchor_text": "Broad BioImage Benchmark Collection"}, {"url": "https://www.openmicroscopy.org/bio-formats/", "anchor_text": "bftools"}, {"url": "https://imagemagick.org/index.php", "anchor_text": "Imagmagick"}, {"url": "https://labelstud.io/templates/", "anchor_text": "templates"}, {"url": "https://labelstud.io/tags/#Styles", "anchor_text": "labelling interface"}, {"url": "https://labelstud.io/tags/choices.html", "anchor_text": "Control Tags"}, {"url": "https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/instance_segmentation.md", "anchor_text": "Tensorflow MaskRCNN"}, {"url": "https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/using_your_own_dataset.md", "anchor_text": "TFRecord"}, {"url": "https://data.broadinstitute.org/bbbc/BBBC010/", "anchor_text": "BBBC010: C. elegans live/dead assayAccession number BBBC010 \u00b7 Version 1 This selection of images are controls selected from a screen to find novel\u2026data.broadinstitute.org"}, {"url": "http://dx.doi.org/10.1038/nmeth.2083", "anchor_text": "Ljosa et al., Nature Methods, 2012"}, {"url": "https://www.dabbleofdevops.com/blog/setup-a-high-content-screening-imaging-platform-with-label-studio", "anchor_text": "https://www.dabbleofdevops.com"}, {"url": "https://medium.com/tag/bioinformatics?source=post_page-----b7e5a6ebb13c---------------bioinformatics-----------------", "anchor_text": "Bioinformatics"}, {"url": "https://medium.com/tag/data-science?source=post_page-----b7e5a6ebb13c---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/high-content-screening?source=post_page-----b7e5a6ebb13c---------------high_content_screening-----------------", "anchor_text": "High Content Screening"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----b7e5a6ebb13c---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/programming?source=post_page-----b7e5a6ebb13c---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb7e5a6ebb13c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetup-a-high-content-screening-imaging-platform-with-label-studio-b7e5a6ebb13c&user=Jillian+Rowe&userId=87b832c70819&source=-----b7e5a6ebb13c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb7e5a6ebb13c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetup-a-high-content-screening-imaging-platform-with-label-studio-b7e5a6ebb13c&user=Jillian+Rowe&userId=87b832c70819&source=-----b7e5a6ebb13c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb7e5a6ebb13c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetup-a-high-content-screening-imaging-platform-with-label-studio-b7e5a6ebb13c&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b7e5a6ebb13c--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb7e5a6ebb13c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetup-a-high-content-screening-imaging-platform-with-label-studio-b7e5a6ebb13c&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b7e5a6ebb13c---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b7e5a6ebb13c--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b7e5a6ebb13c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b7e5a6ebb13c--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b7e5a6ebb13c--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b7e5a6ebb13c--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b7e5a6ebb13c--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b7e5a6ebb13c--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b7e5a6ebb13c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jilliandrowe?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jilliandrowe?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Jillian Rowe"}, {"url": "https://medium.com/@jilliandrowe/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "72 Followers"}, {"url": "https://www.dabbleofdevops.com", "anchor_text": "https://www.dabbleofdevops.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F87b832c70819&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetup-a-high-content-screening-imaging-platform-with-label-studio-b7e5a6ebb13c&user=Jillian+Rowe&userId=87b832c70819&source=post_page-87b832c70819--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F87b832c70819%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsetup-a-high-content-screening-imaging-platform-with-label-studio-b7e5a6ebb13c&user=Jillian+Rowe&userId=87b832c70819&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}