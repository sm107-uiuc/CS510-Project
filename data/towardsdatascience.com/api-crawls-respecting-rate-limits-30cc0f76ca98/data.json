{"url": "https://towardsdatascience.com/api-crawls-respecting-rate-limits-30cc0f76ca98", "time": 1683004037.7077708, "path": "towardsdatascience.com/api-crawls-respecting-rate-limits-30cc0f76ca98/", "webpage": {"metadata": {"title": "API Crawls: Respecting Rate Limits | by Neeraj Kashyap | Towards Data Science", "h1": "API Crawls: Respecting Rate Limits", "description": "Anyone kind enough to expose information over a network API is also likely to enforce rate limits on API clients. This mitigates the risk of denial of service attacks, helps the API provider to\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Denial-of-service_attack", "anchor_text": "denial of service attacks", "paragraph_index": 0}, {"url": "https://developer.github.com/v3/#rate-limiting", "anchor_text": "returns rate limit information in response headers", "paragraph_index": 2}, {"url": "https://developer.github.com/v3/rate_limit/", "anchor_text": "/rate_limit endpoint", "paragraph_index": 2}, {"url": "https://aws.amazon.com/builders-library/timeouts-retries-and-backoff-with-jitter/", "anchor_text": "This AWS article", "paragraph_index": 9}, {"url": "https://twitter.com/zomglings", "anchor_text": "Twitter", "paragraph_index": 11}, {"url": "https://github.com/nkashy1", "anchor_text": "GitHub", "paragraph_index": 11}], "all_paragraphs": ["Anyone kind enough to expose information over a network API is also likely to enforce rate limits on API clients. This mitigates the risk of denial of service attacks, helps the API provider to control and predict their infrastructure costs, and limits the severity of API failures.", "Crawling is usually okay and running is usually not. How do you crawl quickly?", "Some APIs make it easy for a caller to inspect their rate limits. The GitHub API is my favorite example of this. It returns rate limit information in response headers and provides a /rate_limit endpoint which does not count against the caller\u2019s rate limit.", "With other APIs, you are responsible for tracking your own usage. Read through the API documentation and note the rate limits on the endpoints you will access.", "Also, know how you will be penalized for exceeding the rate limit. Searching Google too quickly blocks access for over 24 hours. Crawling GitHub too quickly typically locks you down for at most an hour.", "Determine how many processes will be involved in the crawl, calculate the number of rate-limited API calls each process will make in a single step of the crawl, and determine the budget for each of them.", "There are a few ways to enforce a budget:", "However you choose to do it, do some arithmetic and make sure to stay within your budget.", "Sometimes, the cost of exceeding a rate limit is prohibitively high. This could happen if the API serves a critical function in your application or if it is priced in tiers with unaffordable upper tiers. If this is the case, implement a kill switch which shuts off all your crawlers if you get too close to your rate limit.", "If exceeding an API rate limit is not the end of the world, your crawlers should simply retry their API calls with increasing time intervals between attempts, up to a certain number of attempts. The technical name for this is retries with a backoff. The backoff is usually exponential, meaning that the time interval between API calls gets magnified by a fixed factor r > 1 on every failed attempt. This AWS article is a great guide to the strategies open to you.", "These are simple guidelines to follow, and following them will make it easy for you to scale your API crawls beyond your laptop. Good luck, fellow crawler!", "Neeraj Kashyap (Follow me on Twitter and on GitHub)", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F30cc0f76ca98&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapi-crawls-respecting-rate-limits-30cc0f76ca98&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapi-crawls-respecting-rate-limits-30cc0f76ca98&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapi-crawls-respecting-rate-limits-30cc0f76ca98&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapi-crawls-respecting-rate-limits-30cc0f76ca98&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----30cc0f76ca98--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----30cc0f76ca98--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@nkashy1?source=post_page-----30cc0f76ca98--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nkashy1?source=post_page-----30cc0f76ca98--------------------------------", "anchor_text": "Neeraj Kashyap"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F114731108059&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapi-crawls-respecting-rate-limits-30cc0f76ca98&user=Neeraj+Kashyap&userId=114731108059&source=post_page-114731108059----30cc0f76ca98---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F30cc0f76ca98&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapi-crawls-respecting-rate-limits-30cc0f76ca98&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F30cc0f76ca98&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapi-crawls-respecting-rate-limits-30cc0f76ca98&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://en.wikipedia.org/wiki/Denial-of-service_attack", "anchor_text": "denial of service attacks"}, {"url": "https://unsplash.com/@vidarnm?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Vidar Nordli-Mathisen"}, {"url": "https://unsplash.com/s/photos/spider?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://developer.github.com/v3/#rate-limiting", "anchor_text": "returns rate limit information in response headers"}, {"url": "https://developer.github.com/v3/rate_limit/", "anchor_text": "/rate_limit endpoint"}, {"url": "https://www.monterail.com/blog/2011/outbound-api-rate-limits-the-nginx-way", "anchor_text": "Here is an example of how nginx can be used to limit API requests."}, {"url": "https://aws.amazon.com/builders-library/timeouts-retries-and-backoff-with-jitter/", "anchor_text": "This AWS article"}, {"url": "https://twitter.com/zomglings", "anchor_text": "Twitter"}, {"url": "https://github.com/nkashy1", "anchor_text": "GitHub"}, {"url": "https://medium.com/tag/data-science?source=post_page-----30cc0f76ca98---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/api?source=post_page-----30cc0f76ca98---------------api-----------------", "anchor_text": "API"}, {"url": "https://medium.com/tag/programming?source=post_page-----30cc0f76ca98---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/software-development?source=post_page-----30cc0f76ca98---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/data?source=post_page-----30cc0f76ca98---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F30cc0f76ca98&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapi-crawls-respecting-rate-limits-30cc0f76ca98&user=Neeraj+Kashyap&userId=114731108059&source=-----30cc0f76ca98---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F30cc0f76ca98&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapi-crawls-respecting-rate-limits-30cc0f76ca98&user=Neeraj+Kashyap&userId=114731108059&source=-----30cc0f76ca98---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F30cc0f76ca98&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapi-crawls-respecting-rate-limits-30cc0f76ca98&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----30cc0f76ca98--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F30cc0f76ca98&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapi-crawls-respecting-rate-limits-30cc0f76ca98&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----30cc0f76ca98---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----30cc0f76ca98--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----30cc0f76ca98--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----30cc0f76ca98--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----30cc0f76ca98--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----30cc0f76ca98--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----30cc0f76ca98--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----30cc0f76ca98--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----30cc0f76ca98--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nkashy1?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nkashy1?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Neeraj Kashyap"}, {"url": "https://medium.com/@nkashy1/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "35 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F114731108059&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapi-crawls-respecting-rate-limits-30cc0f76ca98&user=Neeraj+Kashyap&userId=114731108059&source=post_page-114731108059--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F425c5ae06ee2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fapi-crawls-respecting-rate-limits-30cc0f76ca98&newsletterV3=114731108059&newsletterV3Id=425c5ae06ee2&user=Neeraj+Kashyap&userId=114731108059&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}