{"url": "https://towardsdatascience.com/what-is-a-present-day-scraper-e2c3d3b79648", "time": 1682993921.715279, "path": "towardsdatascience.com/what-is-a-present-day-scraper-e2c3d3b79648/", "webpage": {"metadata": {"title": "What is a present-day web scraper? | Towards Data Science", "h1": "What is a present-day web scraper in 2020?", "description": "Web data extraction or web scraping in 2020 is the only way to get desired data if owners of a web site don\u2019t grant access to their users through API."}, "outgoing_paragraph_urls": [{"url": "https://covid-19.dataflowkit.com/", "anchor_text": "https://covid-19.dataflowkit.com/", "paragraph_index": 6}, {"url": "https://covid-19.dataflowkit.com/v1", "anchor_text": "https://covid-19.dataflowkit.com/v1", "paragraph_index": 8}, {"url": "https://medium.com/dataflow-kit/is-web-scraping-legal-or-not-f6c26074584", "anchor_text": "Is web scraping legal or not?", "paragraph_index": 18}, {"url": "https://github.com/chromedp/chromedp", "anchor_text": "chromedp", "paragraph_index": 26}, {"url": "https://github.com/mafredri/cdp", "anchor_text": "cdp", "paragraph_index": 26}, {"url": "https://dataflowkit.com/render-web", "anchor_text": "Dataflow Kit fetch service", "paragraph_index": 36}, {"url": "https://medium.com/dataflow-kit/css-selectors-vs-xpath-f368b431c9dc?source=friends_link&sk=ac6efc5d55cd648fa3c9488f8e09d4db", "anchor_text": "CSS Selector or XPath", "paragraph_index": 52}, {"url": "https://ctt.ac/d2bFU", "anchor_text": "Tweet about web scrapers in 2020.", "paragraph_index": 80}], "all_paragraphs": ["Many web sites like Twitter, YouTube, or Facebook provide an easy way to access their data through a public API. All the information that you obtained using API is both well structured and normalized. For example, it can be in the format of JSON, CSV, or XML.", "First of all, you should always check out if there\u2019s an official API that you can use to get the desired data.", "Sometimes the official API is not updated accurately, or some of the data are missing from it.", "The backend might generate data in JSON or XML format, consumed by the frontend.", "Investigating XMLHttpRequest (XHR) with a web browser inspector gives us another way to access the data. It would provide us the data in the same way as an official API would do it.", "How to get this data? Let\u2019s hunt for API endpoint!", "For example, let\u2019s look at https://covid-19.dataflowkit.com/ resource showing local COVID-19 cases for website visitors.", "Now you can see a list of requests on the left. Investigate them. The preview tab shows an array of values for the item named \"v1.\"", "Press the \u201cHeaders\u201d tab to see details of the request. The most important thing for us is the URL. Request URL for \"v1\" is https://covid-19.dataflowkit.com/v1.Now, let's just open that URL as another browser tab to see what happens.", "Cool! That\u2019s what we\u2019re looking for.", "Taking data either directly from an API or using the technique described above, is the easiest way to download datasets from websites. Of course, theses approaches are not going to be effective for all the website, and that is why the web scraping libraries are still necessary.", "Web data extraction or web scraping is the only way to get desired data if owners of a web site don\u2019t grant access to their users through API. Web Scraping is the data extraction technique that substitutes manual repetitive typing or copy-pasting.", "What should you check before scraping a website?", "\u2611\ufe0f Robots.txt is the first thing to check when you plan to scrape website data. Robots.txt file lists the rules on how you or a bot should interact with them. You should always respect and follow all the rules listed in robots.txt.", "\u2611\ufe0f Make sure you also look at a site\u2019s Terms of use. If terms of use provision do not say that it limits access to bots and spiders and does not prohibit rapid requests of the server, crawling is fine.", "\u2611\ufe0f To be compliant with the new EU General Data Protection Regulation, or GDPR, you should first evaluate your web scrapping project.", "If you don\u2019t scrape personal data, then GDPR does not apply. In this case, you can skip this section and move to the next step.", "\u2611\ufe0f Be careful about how you use the extracted data as you may violate the copyrights sometimes. If the terms of use do not provide a limitation on a particular use of the data, anything goes so long as the crawler does not violate copyright.", "Find more information: Is web scraping legal or not?", "Typical websites have sitemap files containing a list of links belong to this web site. They help to make it easier for search engines to crawl web sites and index their pages. Getting URLs from sitemaps to crawl is always much faster than gathering it sequentially with a web scraper.", "JavaScript Frameworks like Angular, React, Vue.js used widely for building modern web applications. In short, a typical web application frontend consists of HTML + JS code + CSS Styles. Usually, source HTML initially does not contain all the actual content. During a web page download, HTML DOM elements are loaded dynamically along with rendering JavaScript code. As a result, we get rendered static HTML.", "\u2611\ufe0f You can use Selenium for website scraping, but it is not a good idea. Many tutorials are teaching how to use Selenium for scraping data from websites. Their home page clearly states that Selenium is \u201cfor automating web applications for testing purposes.\u201d", "\u2611\ufe0f PhantomJS was suitable to take care of such tasks earlier, but since 2018 its development has been suspended.", "\u2611\ufe0f Alternatively, Scrapinghub\u2019s Splash was an option for Python programmers before Headless Chrome.", "Your browser is a website scraper by its nature. The best way nowadays is to use Headless Chrome as it renders web pages \u201cnatively.\u201d", "Puppeteer Node library is the best choice for Javascript developers to control Chrome over DevTools Protocol.", "Go developers have an option to choose from either chromedp or cdp to access Chrome via DevTools protocol.", "Some web sites use anti-scraping techniques to prevent web scrapper tools from harvesting online data. Web scraping is always a \u201ccat and mouse\u201d game. So when building a web scraper, consider the following ways to avoid getting blocked. Or you risk not receiving the desired results.", "When a human visits a web site, the speed of accessing different pages is in times less compared to a web crawler\u2019s one. Web scraper, on the opposite, can extract several pages simultaneously in no time. Huge traffic coming to the site in a short period on time looks suspicious.", "You should find out the ideal crawling speed that is individual for each website. To mimic human user behavior, you can add random delays between requests.", "Don\u2019t create excessive load for the site. Be polite to the site that you extract data from so that you can keep scraping it without getting blocked.", "When a browser connects to a web site, it passes the User-Agent (UA) string inthe HTTP header. This field identifies the browser, its version number, and a host operating system.", "You have to build a list of user-agents and rotate them randomly.", "If you send multiple requests from the same IP address during scraping, the website considers suspicious behavior and blocks you.", "For the most straightforward cases, it is enough to use the cheapest Datacenter proxies. But some websites have advanced bot detection algorithms, so you have to use either residential or mobile proxies to scrape them.", "For example, someone in Europe wants to extract data from a website with limited access to US users only. It is evident to make requests through a proxy server located in the USA since their traffic seems to be coming from the local to US IP address.", "To obtain country-specific versions of target websites, just specify any arbitrary country in request parameters in Dataflow Kit fetch service.", "Humans are not consistent while navigating a website. They do different random actions like clicks on the page and mouse movements.", "In opposite, web scraping bots follow specified patterns when crawling a web site.", "Teach your scraper to imitate human beings\u2019 behavior. This way, website bot detection algorithms don\u2019t have any reason to block you from automation your scraping tasks.", "One of the most frequently used tools for the detection of hacking or web scraping attempts is the \u201choney pot.\u201d The honey pots are not visible to the human eye but can be seen by bots or web scrapers. Right after your scraper clicks such a hidden link, the site blocks you quite easily.", "Find out whether a link has the \"display: none\" or \"visibility: hidden\" CSS properties set if they do just stop following that link. Otherwise, a site immediately identifies you as a bot or scraper, fingerprints the properties of your requests, and bans you.", "While scraping a website on a large scale, there is a chance to be blocked by a website. Then you start seeing captcha pages instead of web pages.", "CAPTCHA is a test used by websites to battle back against bots and crawlers, asking website visitors to prove they\u2019re human before proceeding.", "Many websites use reCAPTCHA from Google. The last version v3 of reCAPTCHA analyses human behavior and require them to tick \"I'm not a robot\" box.", "CAPTCHA solving services use two methods for solving CAPTCHAs:", "When you send your CAPTCHA to such service, human workers solve a CAPTCHA and send it back.", "\u2611\ufe0f OCR (Optical Character Recognition) Solutions", "In this case, OCR technology is used to solve CAPTCHAs automatically.", "Of course, we don\u2019t intend only to download and render JavaScript-driven web pages but to extract structured data from them.", "Before starting of data extraction, let\u2019s specify patterns of data. Look at the sample screenshot taken from web store selling smartphones. We want to scrape the Image, Title of an item, and its Price.", "Google chrome inspect tool does a great job of investigating the DOM structure of HTML web pages.", "With the Chrome Inspect tool, you can easily find and copy either CSS Selector or XPath of specified DOM elements on the web page.", "Usually, when scraping a web page, you have more than one similar block of data to extract. Often you crawl several pages during one scraping session.", "Surely, you can use Chrome Inspector to build a payload for scraping. In some complex cases, it is only a way to investigate particular element properties on a web page.", "Though modern online web scrapers, in most cases, offer a more comfortable way to specify patterns (CSS Selectors or XPath) for data scraping, set up pagination rules, and rules for processing detailed pages on its way.", "Look at this video to find out how it works.", "The most well-known simple data formats for storing structured data nowadays include CSV, Excel, JSON (Lines). Extracted data may be encoded to destination format right after parsing a web page. These formats are suitable for use as low sized volumes storages.", "Crawling a few pages may be easy, but millions of pages require different approaches.", "How to crawl several million pages and extract tens of million records?", "What to do if the size of output data is from moderate to huge?", "CSV is the most simple human-readable data exchange format. Each line of the file is a data record. Each record consists of an identical list of fields separated by commas.", "Here is a list of families represented as CSV data:", "CSV is limited to store two-dimensional, untyped data. There is no way to specify nested structures or types of values like the names of children in plain CSV.", "Representing nested structures in JSON files is easy, however.", "Nowadays, JavaScript Object Notation (JSON) became a de-facto of data exchange format standard, replacing XML in most cases.", "One of our projects consists of 3 Millions of parsed pages. As a result, the size of the final JSON is more than 700 Mb.", "The problem arises when you have to deal with such sized JSONs. To insert or read a record from a JSON array, you need to parse the whole file every time, which is far from ideal.", "Let\u2019s look into what JSON Lines format is, and how it compares to traditional JSON. It is already common in the industry to use JSON Lines. Logstash and Docker store logs as JSON Lines.", "The same list of families expressed as a JSON Lines format looks like this:", "JSON Lines consists of several lines in which each line is a valid JSON object, separated by the newline character \\n.", "Since every entry in JSON Lines is a valid JSON, you can parse every line as a standalone JSON document. For example, you can seek within it, split a 10gb file into smaller files without parsing the entire thing. You can read as many lines as needed to get the same amount of records.", "\u2611\ufe0f Fetch and extract data from web pages concurrently.", "We use concurrency features of Golang, and found them fantastic;", "\u2611\ufe0f Persist extracted blocks of scraped data in the central database regularly.", "This way, you don\u2019t have to store much data in the RAM while scraping many pages. Besides, it is easy to export data to different formats several times later. We use MongoDB as our central storage.", "Online Website scraper is accessible anywhere from any device which can connect to the internet. Different operating systems aren\u2019t an issue anymore. It\u2019s all about the browser.", "It should provide a way to quickly scale up or down cloud capacity according to the current requirement of a web data extraction project.", "In this post, I tried to explain how to scrape web pages in the year 2020. But before considering scraping, try to find out official API exists or hunt for some \u201chidden\u201d API endpoints.", "I would appreciate it if you could take a minute to tell me which one of the web scraping methods you use the most in 2020. Just leave me a comment below.", "Tweet about web scrapers in 2020.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe2c3d3b79648&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-a-present-day-scraper-e2c3d3b79648&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-a-present-day-scraper-e2c3d3b79648&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-a-present-day-scraper-e2c3d3b79648&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-a-present-day-scraper-e2c3d3b79648&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e2c3d3b79648--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e2c3d3b79648--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://slotix.medium.com/?source=post_page-----e2c3d3b79648--------------------------------", "anchor_text": ""}, {"url": "https://slotix.medium.com/?source=post_page-----e2c3d3b79648--------------------------------", "anchor_text": "Dmitry Narizhnykh"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8f65853de878&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-a-present-day-scraper-e2c3d3b79648&user=Dmitry+Narizhnykh&userId=8f65853de878&source=post_page-8f65853de878----e2c3d3b79648---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe2c3d3b79648&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-a-present-day-scraper-e2c3d3b79648&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe2c3d3b79648&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-a-present-day-scraper-e2c3d3b79648&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@brunomira?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Bruno Mira"}, {"url": "https://unsplash.com/s/photos/odivela?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://covid-19.dataflowkit.com/", "anchor_text": "https://covid-19.dataflowkit.com/"}, {"url": "https://covid-19.dataflowkit.com/v1", "anchor_text": "https://covid-19.dataflowkit.com/v1"}, {"url": "https://unsplash.com/@mr_sherez?utm_source=medium&utm_medium=referral", "anchor_text": "Adam Sherez"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://medium.com/dataflow-kit/is-web-scraping-legal-or-not-f6c26074584", "anchor_text": "Is web scraping legal or not?"}, {"url": "https://github.com/chromedp/chromedp", "anchor_text": "chromedp"}, {"url": "https://github.com/mafredri/cdp", "anchor_text": "cdp"}, {"url": "https://unsplash.com/@randyfath?utm_source=medium&utm_medium=referral", "anchor_text": "Randy Fath"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://dataflowkit.com/render-web", "anchor_text": "Dataflow Kit fetch service"}, {"url": "https://medium.com/dataflow-kit/css-selectors-vs-xpath-f368b431c9dc?source=friends_link&sk=ac6efc5d55cd648fa3c9488f8e09d4db", "anchor_text": "CSS Selector or XPath"}, {"url": "https://unsplash.com/@ripato?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit", "anchor_text": "Ricardo Gomez Angel"}, {"url": "https://unsplash.com/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit", "anchor_text": "Unsplash"}, {"url": "https://ctt.ac/d2bFU", "anchor_text": "Tweet about web scrapers in 2020."}, {"url": "https://blog.dataflowkit.com/what-is-a-present-day-web-scraper/", "anchor_text": "https://blog.dataflowkit.com"}, {"url": "https://medium.com/tag/web-scraping?source=post_page-----e2c3d3b79648---------------web_scraping-----------------", "anchor_text": "Web Scraping"}, {"url": "https://medium.com/tag/web-scraper?source=post_page-----e2c3d3b79648---------------web_scraper-----------------", "anchor_text": "Web Scraper"}, {"url": "https://medium.com/tag/collect-data?source=post_page-----e2c3d3b79648---------------collect_data-----------------", "anchor_text": "Collect Data"}, {"url": "https://medium.com/tag/extract-data?source=post_page-----e2c3d3b79648---------------extract_data-----------------", "anchor_text": "Extract Data"}, {"url": "https://medium.com/tag/data-extraction?source=post_page-----e2c3d3b79648---------------data_extraction-----------------", "anchor_text": "Data Extraction"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe2c3d3b79648&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-a-present-day-scraper-e2c3d3b79648&user=Dmitry+Narizhnykh&userId=8f65853de878&source=-----e2c3d3b79648---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe2c3d3b79648&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-a-present-day-scraper-e2c3d3b79648&user=Dmitry+Narizhnykh&userId=8f65853de878&source=-----e2c3d3b79648---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe2c3d3b79648&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-a-present-day-scraper-e2c3d3b79648&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e2c3d3b79648--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe2c3d3b79648&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-a-present-day-scraper-e2c3d3b79648&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e2c3d3b79648---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e2c3d3b79648--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e2c3d3b79648--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e2c3d3b79648--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e2c3d3b79648--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e2c3d3b79648--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e2c3d3b79648--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e2c3d3b79648--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e2c3d3b79648--------------------------------", "anchor_text": ""}, {"url": "https://slotix.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://slotix.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Dmitry Narizhnykh"}, {"url": "https://slotix.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "91 Followers"}, {"url": "https://dbconvert.com", "anchor_text": "https://dbconvert.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8f65853de878&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-a-present-day-scraper-e2c3d3b79648&user=Dmitry+Narizhnykh&userId=8f65853de878&source=post_page-8f65853de878--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd74426600ba2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-is-a-present-day-scraper-e2c3d3b79648&newsletterV3=8f65853de878&newsletterV3Id=d74426600ba2&user=Dmitry+Narizhnykh&userId=8f65853de878&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}