{"url": "https://towardsdatascience.com/single-line-of-code-to-interchange-between-python-objects-and-json-b0f23fbaaa65", "time": 1683010114.2654212, "path": "towardsdatascience.com/single-line-of-code-to-interchange-between-python-objects-and-json-b0f23fbaaa65/", "webpage": {"metadata": {"title": "Single Line of Code to Interchange Between Python Objects and JSON | by Christopher Tao | Towards Data Science", "h1": "Single Line of Code to Interchange Between Python Objects and JSON", "description": "Object-Oriented Programming (OO) in Python. The best practice and easiest way to serialise and deserialise JSON or dictionaries into Python Objects."}, "outgoing_paragraph_urls": [], "all_paragraphs": ["In one of my previous articles, I have introduced probably the best practice of Object-Oriented Programming (OOP) in Python, which is using the library \u201cAttrs\u201d.", "However, in most cases, we use OOP is probably due to it can be serialised into strings such as JSON strings. More conveniently, we should also be able to deserialise it back to class instances for other purposes.", "For example, one of the most popular usages of these is Data Access Objects (DAO). So, we may implement CRUD functions with the objects to seamlessly integrate with the persistence layer.", "Therefore, most of the time, we might want to serialise the Python objects into JSON for transferring purposes. Reversely, we also want to deserialise JSON strings into Python objects if we\u2019re using Python to receive the data as JSON types.", "In this article, I\u2019ll introduce another library \u2014 \u201cCattr\u201d which can be used together with \u201cAttr\u201d. I\u2019ll focus on \u201cCattr\u201d, so if you are interesting what are the capabilities that \u201cAttr\u201d has, please check out the article above mentioned.", "First of all, we need to install these two libraries using pip.", "In this article, all we need from attr are the annotations for the class and the attribute function, so let\u2019s import them together with the library cattr.", "Basically, cattr is used for converting the data objects between structured and unstructured states. For example, instances from classes are considered structured data, whereas Python dictionaries and JSON objects are considered unstructured data.", "Suppose we want to regulate data in a list with uncertain, we can use cattr as follows.", "Please note that we are using the type alias \u201cTuple\u201d from the typing library, which is built-in to Python 3. If you are not sure what it is, here is the official documentation.", "In this example, the float, boolean and string objects are regulated into integers as specified in the template. Also, the 5th object in the list has been ignored because there are only 4 elements in the template.", "cattr works best with attr when dealing with classes.", "Suppose we define the class as follows.", "Of course, as introduced in my previous article, attr can be used for serialising the instances into dictionaries.", "Of course, cattr can do this as well.", "It looks like the asdict() function from attr is more intuitive. However, this is just serialisation. What if we got a dictionary and want to deserialise it into a Person object? This time attr cannot help, but we can use cattr.", "The above example is only deserialising a single dictionary. In practice, that\u2019s not ideal. What if we want to deserialise a list of dictionaries into Python objects? In the example below, we have three dictionaries to be deserialised in a list.", "To implement this, we will need to define a \u201ctemplate\u201d, too. Please note that the argument we passed in is not a \u201cPerson\u201d anymore, but a list of \u201cPerson\u201d objects. Therefore, we will need to use the typing alias again.", "Therefore, we got a list of person objects from the list of person dictionaries.", "Of course, we are not satisfied by only serialise/deserialise to Python dictionaries. We want it to be a JSON object! It is also very easy. In fact, the only thing we need to do is to import the json library which is also a Python built-in module.", "Recall that we have a list of Python objects p_list from the previous example.", "To serialise it into a JSON array, simply use cattr together with json.dumps() function as follows.", "To deserialise the JSON array into a list of Python objects is also very easy. Simple use the json.loads() function in conjunction with cattr.", "Just don\u2019t forget we need the typing alias \u201cList\u201d as the template.", "The above example also showed that the deserialised objects can be called with their class functions, of course :)", "In this article, I have introduced how to use cattr together with attr libraries to achieve Python objects serialising into dictionaries/JSON, as well as dictionaries and JSON objects deserialising into Python objects in an extremely easy way.", "Given that this is usually not an easy job in most of the other programming languages, at least not that fast to be implemented, I would say that it reflects why people love Python in a single aspect.", "All the code in this article can be found here:", "If you feel my articles are helpful, please consider joining Medium Membership to support me and thousands of other writers! (Click the link above)", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb0f23fbaaa65&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingle-line-of-code-to-interchange-between-python-objects-and-json-b0f23fbaaa65&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingle-line-of-code-to-interchange-between-python-objects-and-json-b0f23fbaaa65&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingle-line-of-code-to-interchange-between-python-objects-and-json-b0f23fbaaa65&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingle-line-of-code-to-interchange-between-python-objects-and-json-b0f23fbaaa65&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b0f23fbaaa65--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b0f23fbaaa65--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://qiuyujx.medium.com/?source=post_page-----b0f23fbaaa65--------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=post_page-----b0f23fbaaa65--------------------------------", "anchor_text": "Christopher Tao"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb8176fabf308&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingle-line-of-code-to-interchange-between-python-objects-and-json-b0f23fbaaa65&user=Christopher+Tao&userId=b8176fabf308&source=post_page-b8176fabf308----b0f23fbaaa65---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb0f23fbaaa65&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingle-line-of-code-to-interchange-between-python-objects-and-json-b0f23fbaaa65&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb0f23fbaaa65&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingle-line-of-code-to-interchange-between-python-objects-and-json-b0f23fbaaa65&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/users/geralt-9301/", "anchor_text": "geralt"}, {"url": "https://pixabay.com/illustrations/binary-code-binary-binary-system-475664/", "anchor_text": "Pixabay"}, {"url": "https://towardsdatascience.com/probably-the-best-practice-of-object-oriented-python-attr-d8c26c0e8a4", "anchor_text": "Probably the Best Practice of Object-Oriented Python \u2014 AttrMakes Python Object-Oriented Programming Even Easiertowardsdatascience.com"}, {"url": "https://pixabay.com/users/JoshuaWoroniecki-12734309/", "anchor_text": "JoshuaWoroniecki"}, {"url": "https://pixabay.com/photos/keyboard-computer-technology-light-5017973/", "anchor_text": "Pixabay"}, {"url": "https://pixabay.com/users/Free-Photos-242387/", "anchor_text": "Free-Photos"}, {"url": "https://pixabay.com/photos/desk-table-simple-mockup-1081708/", "anchor_text": "Pixabay"}, {"url": "https://docs.python.org/3/library/typing.html", "anchor_text": "typing - Support for type hints - Python 3.8.3 documentationSource code: Lib/typing.py Note The Python runtime does not enforce function and variable type annotations. They can be\u2026docs.python.org"}, {"url": "https://pixabay.com/users/PublicDomainPictures-14/", "anchor_text": "PublicDomainPictures"}, {"url": "https://pixabay.com/photos/connect-connection-cooperation-20333/", "anchor_text": "Pixabay"}, {"url": "http://twitter.com/attrs", "anchor_text": "@attrs"}, {"url": "https://pixabay.com/users/josephredfield-8385382/", "anchor_text": "josephredfield"}, {"url": "https://pixabay.com/photos/people-friends-together-happy-4050698/", "anchor_text": "Pixabay"}, {"url": "https://pixabay.com/users/SCY-1147075/", "anchor_text": "SCY"}, {"url": "https://pixabay.com/photos/laptop-book-information-online-819285/", "anchor_text": "Pixabay"}, {"url": "https://pixabay.com/users/geralt-9301/", "anchor_text": "geralt"}, {"url": "https://pixabay.com/photos/learn-note-sign-directory-64058/", "anchor_text": "Pixabay"}, {"url": "https://colab.research.google.com/drive/1fm8PWLVp2vHEhkArmUcDp6VdNqLSG-O1?usp=sharing", "anchor_text": "Attrs+Cattrs.ipynbGoogle Colabcolab.research.google.com"}, {"url": "https://medium.com/@qiuyujx/membership", "anchor_text": "Join Medium with my referral link \u2014 Christopher TaoAs a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026medium.com"}, {"url": "https://medium.com/tag/python?source=post_page-----b0f23fbaaa65---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----b0f23fbaaa65---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/software-development?source=post_page-----b0f23fbaaa65---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/object-oriented?source=post_page-----b0f23fbaaa65---------------object_oriented-----------------", "anchor_text": "Object Oriented"}, {"url": "https://medium.com/tag/technology?source=post_page-----b0f23fbaaa65---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb0f23fbaaa65&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingle-line-of-code-to-interchange-between-python-objects-and-json-b0f23fbaaa65&user=Christopher+Tao&userId=b8176fabf308&source=-----b0f23fbaaa65---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb0f23fbaaa65&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingle-line-of-code-to-interchange-between-python-objects-and-json-b0f23fbaaa65&user=Christopher+Tao&userId=b8176fabf308&source=-----b0f23fbaaa65---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb0f23fbaaa65&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingle-line-of-code-to-interchange-between-python-objects-and-json-b0f23fbaaa65&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b0f23fbaaa65--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb0f23fbaaa65&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingle-line-of-code-to-interchange-between-python-objects-and-json-b0f23fbaaa65&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b0f23fbaaa65---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b0f23fbaaa65--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b0f23fbaaa65--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b0f23fbaaa65--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b0f23fbaaa65--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b0f23fbaaa65--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b0f23fbaaa65--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b0f23fbaaa65--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b0f23fbaaa65--------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Christopher Tao"}, {"url": "https://qiuyujx.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "8.7K Followers"}, {"url": "https://www.linkedin.com/in/christopher-tao-5717a274/", "anchor_text": "https://www.linkedin.com/in/christopher-tao-5717a274/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb8176fabf308&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingle-line-of-code-to-interchange-between-python-objects-and-json-b0f23fbaaa65&user=Christopher+Tao&userId=b8176fabf308&source=post_page-b8176fabf308--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F1d2af94a683f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsingle-line-of-code-to-interchange-between-python-objects-and-json-b0f23fbaaa65&newsletterV3=b8176fabf308&newsletterV3Id=1d2af94a683f&user=Christopher+Tao&userId=b8176fabf308&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}