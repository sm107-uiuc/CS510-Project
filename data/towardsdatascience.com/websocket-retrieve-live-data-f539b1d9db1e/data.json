{"url": "https://towardsdatascience.com/websocket-retrieve-live-data-f539b1d9db1e", "time": 1683004905.9812381, "path": "towardsdatascience.com/websocket-retrieve-live-data-f539b1d9db1e/", "webpage": {"metadata": {"title": "Websocket \u2014 Retrieve Live Data. How to retrieve LIVE cryptocurrency\u2026 | by Low Wei Hong | Towards Data Science", "h1": "Websocket \u2014 Retrieve Live Data", "description": "Websocket protocol is used to provide persistent real-time connection. Here is how to use python WebSocket client to effectively retrieve live streaming data."}, "outgoing_paragraph_urls": [{"url": "https://github.com/websocket-client/websocket-client", "anchor_text": "websocket-client Python package", "paragraph_index": 14}, {"url": "https://towardsdatascience.com/scraping-in-another-dimension-7c6890a156da", "anchor_text": "link", "paragraph_index": 20}, {"url": "https://www.linkedin.com/in/lowweihong/?source=post_page---------------------------", "anchor_text": "Low Wei Hong", "paragraph_index": 23}, {"url": "https://www.thedataknight.com/", "anchor_text": "this website", "paragraph_index": 24}, {"url": "https://www.linkedin.com/in/lowweihong/?source=post_page---------------------------", "anchor_text": "LinkedIn", "paragraph_index": 25}, {"url": "https://medium.com/@lowweihong?source=post_page---------------------------", "anchor_text": "Medium", "paragraph_index": 25}, {"url": "https://www.thedataknight.com/", "anchor_text": "https://www.thedataknight.com/", "paragraph_index": 27}], "all_paragraphs": ["Why do we need to learn how to extract data from WebSocket?", "Isn\u2019t it requests already able to scrape almost all kinds of websites?", "First of all, let me give a brief introduction to WebSocket, and you will know why do we need to learn how to scrape it.", "Websocket protocol is used to provide persistent real-time connection. It means that most of the websites use WebSocket to send real-time data from its server to the web so that you are able to view the ever-changing live data.", "You might ask, what kind of websites normally uses WebSocket?", "There are a few specific kinds of websites that I know, uses WebSocket. For instance, live betting, cryptocurrency, and stock market websites.", "Now, let\u2019s get into the complete picture of how WebSocket works. In order to make it more practical, I will be using Python to scrape Cryptocompare (a global cryptocurrency market data provider) as an illustration purpose.", "First, you will need to find the WebSocket URI.", "Here I am using Chrome developer tools to inspect. After open Chrome DevTools, click the WS (Web Socket) tab, then you will be able to find the request URL which is bounded by a purple box above.", "Besides, one thing to notice is that the success status code is different from normal requests. Normally when you are requesting a website, the success status code is 200 but the success status code for WebSocket is 101 which is bounded by the red box in the above screenshot.", "Before getting to the handshake part, let\u2019s discuss some of the simple yet important concepts when you are connecting through WebSocket. Let\u2019s take a look at the diagram below.", "Click on the Messages tab, and you will have the same view as mine. You will notice that there are green and red color arrows. Green arrows indicate that you are sending this message to the website. On the other hand, red arrows are the messages that you will be receiving when connecting through the WebSocket.", "Let\u2019s move on to the next part \u2014 handshake. Remember that there is a green arrow in the above figure? That\u2019s actually a handshake process.", "You can think of this process as a verification process. After you manage to send this message to the website, you will be able to retrieve the LIVE data. This concludes the whole process and let\u2019s get into the code part.", "There are several packages that you can use, but in this case, I will be using websocket-client Python package.", "First, you need to copy your web browser\u2019s header to here and use json.dumpsto convert it into the string format.", "After that, create the connection to the server by usingcreate_connection.Then, perform the handshake by sending the message, and you will be able to see the data on your side.", "Below is a similar output that you should be seeing.", "You might be wondering, the message seems meaningless and messy, are you sure that the price is in the information here?", "The answer is yes. You can have a look at the text bounded by the purple box in the above screenshot, and that is actually the current price of BTC-USD.", "After scraping this website, you will notice how easily you can retrieve information through WebSocket. If you are interested to know why you should scrape through WebSocket, feel free to visit this link.", "This article is written to answer one of the questions which I have received through my article\u2019s comment section. If you have any questions which you would like me to clarify, feel free to comment below.", "Thank you for reading until the end. See you in the next post!", "Low Wei Hong is a Data Scientist at Shopee. His experiences involved more on crawling websites, creating data pipeline and also implementing machine learning models on solving business problems.", "He provides crawling services that can provide you with the accurate and cleaned data which you need. You can visit this website to view his portfolio and also to contact him for crawling services.", "You can connect with him on LinkedIn and Medium.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist | Web Scraping Service: https://www.thedataknight.com/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff539b1d9db1e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwebsocket-retrieve-live-data-f539b1d9db1e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwebsocket-retrieve-live-data-f539b1d9db1e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwebsocket-retrieve-live-data-f539b1d9db1e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwebsocket-retrieve-live-data-f539b1d9db1e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f539b1d9db1e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f539b1d9db1e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@lowweihong?source=post_page-----f539b1d9db1e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lowweihong?source=post_page-----f539b1d9db1e--------------------------------", "anchor_text": "Low Wei Hong"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F46a7a7d19f50&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwebsocket-retrieve-live-data-f539b1d9db1e&user=Low+Wei+Hong&userId=46a7a7d19f50&source=post_page-46a7a7d19f50----f539b1d9db1e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff539b1d9db1e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwebsocket-retrieve-live-data-f539b1d9db1e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff539b1d9db1e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwebsocket-retrieve-live-data-f539b1d9db1e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@noahsilliman?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Noah Silliman"}, {"url": "https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://github.com/websocket-client/websocket-client", "anchor_text": "websocket-client Python package"}, {"url": "https://towardsdatascience.com/scraping-in-another-dimension-7c6890a156da", "anchor_text": "link"}, {"url": "https://www.pexels.com/@juan-mendez-402571?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels", "anchor_text": "juan mendez"}, {"url": "https://www.pexels.com/photo/smiling-woman-looking-upright-standing-against-yellow-wall-1536619/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels", "anchor_text": "Pexels"}, {"url": "https://www.linkedin.com/in/lowweihong/?source=post_page---------------------------", "anchor_text": "Low Wei Hong"}, {"url": "https://www.thedataknight.com/", "anchor_text": "this website"}, {"url": "https://www.linkedin.com/in/lowweihong/?source=post_page---------------------------", "anchor_text": "LinkedIn"}, {"url": "https://medium.com/@lowweihong?source=post_page---------------------------", "anchor_text": "Medium"}, {"url": "https://medium.com/@lowweihong", "anchor_text": "Low Wei Hong - MediumRead writing from Low Wei Hong on Medium. Data Scientist | Web Scraping Service: https://www.thedataknight.com/. Every\u2026medium.com"}, {"url": "https://medium.com/tag/websocket?source=post_page-----f539b1d9db1e---------------websocket-----------------", "anchor_text": "Websocket"}, {"url": "https://medium.com/tag/advice?source=post_page-----f539b1d9db1e---------------advice-----------------", "anchor_text": "Advice"}, {"url": "https://medium.com/tag/programming?source=post_page-----f539b1d9db1e---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/technology?source=post_page-----f539b1d9db1e---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----f539b1d9db1e---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff539b1d9db1e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwebsocket-retrieve-live-data-f539b1d9db1e&user=Low+Wei+Hong&userId=46a7a7d19f50&source=-----f539b1d9db1e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff539b1d9db1e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwebsocket-retrieve-live-data-f539b1d9db1e&user=Low+Wei+Hong&userId=46a7a7d19f50&source=-----f539b1d9db1e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff539b1d9db1e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwebsocket-retrieve-live-data-f539b1d9db1e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f539b1d9db1e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff539b1d9db1e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwebsocket-retrieve-live-data-f539b1d9db1e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f539b1d9db1e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f539b1d9db1e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f539b1d9db1e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f539b1d9db1e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f539b1d9db1e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f539b1d9db1e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f539b1d9db1e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f539b1d9db1e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f539b1d9db1e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lowweihong?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lowweihong?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Low Wei Hong"}, {"url": "https://medium.com/@lowweihong/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.2K Followers"}, {"url": "https://www.thedataknight.com/", "anchor_text": "https://www.thedataknight.com/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F46a7a7d19f50&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwebsocket-retrieve-live-data-f539b1d9db1e&user=Low+Wei+Hong&userId=46a7a7d19f50&source=post_page-46a7a7d19f50--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8d2dc5634cb1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwebsocket-retrieve-live-data-f539b1d9db1e&newsletterV3=46a7a7d19f50&newsletterV3Id=8d2dc5634cb1&user=Low+Wei+Hong&userId=46a7a7d19f50&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}