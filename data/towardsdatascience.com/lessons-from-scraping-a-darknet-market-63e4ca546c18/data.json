{"url": "https://towardsdatascience.com/lessons-from-scraping-a-darknet-market-63e4ca546c18", "time": 1683006740.330931, "path": "towardsdatascience.com/lessons-from-scraping-a-darknet-market-63e4ca546c18/", "webpage": {"metadata": {"title": "Lessons from Scraping a DarkNet Market | by Andreas Varotsis | Towards Data Science", "h1": "Lessons from Scraping a DarkNet Market", "description": "While writing this, I\u2019ve tried to adhere to a few principles to try and balance the benefits and risks of sharing some of this information \u2014 I\u2019ve listed those below: I appreciate some people may see\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.darknetstats.com/pax-romana-market/", "anchor_text": "Pax Romana", "paragraph_index": 4}, {"url": "https://webscraper.io/", "anchor_text": "Web Scraper", "paragraph_index": 5}, {"url": "https://github.com/seatgeek/fuzzywuzzy", "anchor_text": "FuzzyWuzzy", "paragraph_index": 9}, {"url": "https://www.nber.org/papers/w6592", "anchor_text": "just like in the physical world", "paragraph_index": 22}, {"url": "https://github.com/crimsoneer/DNM_Scrape_Analysis", "anchor_text": "Jupyter notebook format on my Github", "paragraph_index": 36}, {"url": "https://andreasthinks.me/", "anchor_text": "https://andreasthinks.me/", "paragraph_index": 38}], "all_paragraphs": ["While writing this, I\u2019ve tried to adhere to a few principles to try and balance the benefits and risks of sharing some of this information \u2014 I\u2019ve listed those below:", "I appreciate some people may see this differently \u2014 I feel these discussions are best held in the open, and obscurity isn\u2019t a particularly good means of keeping people safe.", "On the 20th of April, I decided to try and flex my rusty data-science tool-set by scraping and analysing the contents of a dark-net market (DNM). I was hoping to analyse the impact of fluctuating drug prices as social-distancing measures were relaxed (for instance, the much touted link to violence) but, as will soon become clear, circumstances conspired to ruin my cunning plan.", "This isn\u2019t a journal article, I\u2019m not a statistician/data-scientist, and my data-set may not be representative of the rest of the dark-web \u2014 I\u2019m sure I\u2019ve made plenty of mistakes, and please tell me (constructively) about them in the comments\u2026but it\u2019s been an interesting experience that I hope was worth sharing.", "Accessing DNMs isn\u2019t technically complex, but it\u2019s obtuse and unintuitive \u2014obscurity and friction is the real barrier to access. You have to be running TOR, and you can\u2019t just click on the first Google link you find\u2026but it won\u2019t take that much more effort than that either, as there are plenty of sites that will aggregate information on existing markets and how to access them. After exploring a few options, I settled on Pax Romana, described as a \u201cnew dark web Marketplace with lots of innovative features to reduce phishing and exit scams\u201d \u2014 it had apparently been around since early March, but had accrued a significant customer-base due to novice friendly processes, and security features, and the reassuring picture of Marcus Marcus Aurelius that greeted you at log in.", "It was also well structured, with a defined \u201cdrugs\u201d category, containing around 200 pages of products. After a bit of tweaking my proxy settings, I had Web Scraper busily crawling through all couple of of hundred pages, which I ran daily from the 21st until the 25th of April.", "On the 25th of April, Pax Romana was hacked. When I tried to log on on the 26th, I got an error 404, and the website never came back.", "My plan to analyse shifting drug prices had been ruined, but I\u2019d also inadvertently recorded the last days of Rome.", "With that in mind, I started cleaning and analysing my data-set, which consisted of 10930 rows representing an advert run per day, of which 3149 were unique adverts (broken into daily CSV files).", "My main challenge was categorising each advert into a specific substance type \u2014 Pax Romana wasn\u2019t categorised beyond \u201cdrugs\u201d, so I had to be a little creative to obtain useful data. I used the FuzzyWuzzy python library to iterate over each word in the advert, looking for common drug names.", "I then used various painful Regex strings to extract views, sales, country of origin and destination, price, seller details, pretty much everything else I could crowbar out without tearing my hair out too much.", "I learnt my first lesson right here: drug markets are an absolute mess. Pax Romana was actually quite helpfully designed, with functionality to list price per unit-weight enabling customers to quickly identify worthwhile offers.", "Spoilers: most drug dealers don\u2019t like clear pricing structures.", "In the vast majority of listings, instead of listing their price using this functionality, the information around the product was packed into the title, leading to eclectic and nigh-on unintelligible product quantity, description, and pricing \u2014 I\u2019ve highlighted a few particularly egregious examples.", "Single advert for large quantities of pill were also quite common \u2014 have fun measuring price per volume when you\u2019re accounting for number of pills and the weight per pill. I imagine this is what trying to understand cricket is like.", "As best I can, I tried to extract pricing information, weight, and pill quantities from all of these adverts. Eventually, I had 6193 entries where I was confident in the drug name (defined as over 85% similar to one of my pre-defined names) and had a price per weight (ideally stated, or if not extracted from the description), created from 1800 unique adverts.", "I first wanted to get a feel for just how much activity an advert would see, so I calculated the mean number of views per day an advert could expect, for variance substances.", "Just under ten views, per day, per advert. Considering the number of adverts on the website, that suggests a decent customer base. How much of that customer base then converts into a sale though?", "Not that many, apparently \u2014 the average advert had fewer than 0.1 sales per day.", "Using a simple linear OLS regression, views seem to be quite a strong predictor of sales (as represented by our R\u00b2 of 0.6, meaning the number of views seem to account for over half the variance in sales) but the coefficient is only around 0.015, suggesting it takes around an additional 66 views to generate an additional sale.", "Lesson 2? It looks pretty damn hard to sell drugs on the internet. That said, averages mask extremes, and I\u2019m sure we\u2019ve all wondered who buys the overwhelming majority of junk available on the internet\u2026if you have enough adverts up, who cares if the conversion rate is low?", "With that in mind, I next examined individual sellers: how many ads does your friendly online neighbourhood dealer have, and how many actually make sales?", "Turns out, just like in the physical world, most people dealing drugs don\u2019t really make that much cash. Of 95 sellers on the platform, 50% had not made a single sale \u2014 no matter what price they set. A few big players were competing for the big bucks, while everyone else fought over the scraps.", "A second interesting finding was that most dealers did not sell only one product, and in fact, some sold upwards of ten different substances. This isn\u2019t even different strands of cannabis: this is sellers selling medical opioids, amphetamines, benzos, steroids\u2026there are some seriously industrious actors here. Meanwhile, remember how I highlighted that averages hid extremes? The 3d scatter chart above highlights some of those most successful sellers, who even if they aren\u2019t selling in significant numbers, have a very significant turnover. For instance, one seller had made 62 sales, and had an average price of 5407USD, while another has made 136 sales at around 1730USD.", "Where was this money coming from, and where was it going? Obviously I don\u2019t have the capabilities (or intent) to track users, but plenty of adverts listed where the product would be sent from. Although we obviously can\u2019t confirm how accurate these are, they paint an interesting picture.", "The USA, Netherlands, Germany, the UK and Spain represent the vast majority of sales, and given sellers have the option of obfuscating their location by listing \u201cWorldWide\u201d, these are probably mostly accurate. Interestingly, even as all these countries went deeper into lockdown, supply has shot up over the course of the week, growing by nearly a third.", "Once again though, aggregate mask unique trends. Many countries were dropping at the start of the week, hitting a plateau mid-week before climbing as the weekend approached \u2014 in the UK, overall supply shrank, although without more data it\u2019s impossible to say whether this is natural variation or due to the lockdown affecting the wider market. Overall however, supply increases massively \u2014 I assume this is due to seasonal variation (perhaps in the run up to the end of the month or the weekend) though it\u2019s possible social distancing may be playing part.", "By examining the market breakdown by substances, it looks like this increase isn\u2019t driven by any one product \u2014 while the increase isn\u2019t uniform, multiple products see an increase in supply over the course of the week.", "To try and understand these shifts, I examined individual country markets in more detail.", "I was expecting cocaine, marijuana or heroin to be our drug of choice, but cocaine was just pipped to the post by various Benzodiazepine options (often prescribed to treat anxiety or panic attacks and sold under their commercial names, such as Xanax).", "Examining the US graph, prescription opioids are an obvious stand-out \u2014 the size of the supply here is staggering, especially when compared to other drugs.", "Examining adverts from Netherlands and Germany, I can\u2019t help but think these differences might be driven by large sellers\u2014 despite the quite large volumes, it seems too stark to be natural variance.", "Next, I examined drug pricing. As I alluded to above, this data is incredibly messy, and I suspect is driven by plenty of adverts intended to drive traffic towards other places rather than make real sales (for example, Whatsapp numbers given in the description). That said, by focusing only on those adverts that had made only one sale, I could focus on price information on the 760 or so unique adverts that had actually sold something at the stated price.", "Once again, we notice that incredibly variance, and the influence of large-scale players \u2014 while the majority of sales tend to be at or around the $100 mark, some extreme sale are being made far closer to the $1000 price point. I\u2019d hoped that plotting the price per gram make the data clearer, but frankly it just adds to the confusion.", "That said, there tends to be a consistent average identified, and I\u2019m confident that with more data we could have plotted pricing variations over time.", "So, what are my main takeaways?", "If you\u2019d like to know more about the code behind these visualisations, or the data itself, they\u2019re available in Jupyter notebook format on my Github. Github doesn\u2019t run the visualisation hugely well, so I\u2019ve also uploaded those to Google Collab below.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "quantitative crime science @ MPS | Coordinator @ Police Rewired | My (personal) thoughts on crime, data, and economics | https://andreasthinks.me/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F63e4ca546c18&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flessons-from-scraping-a-darknet-market-63e4ca546c18&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flessons-from-scraping-a-darknet-market-63e4ca546c18&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flessons-from-scraping-a-darknet-market-63e4ca546c18&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flessons-from-scraping-a-darknet-market-63e4ca546c18&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----63e4ca546c18--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----63e4ca546c18--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://andreas-varotsis.medium.com/?source=post_page-----63e4ca546c18--------------------------------", "anchor_text": ""}, {"url": "https://andreas-varotsis.medium.com/?source=post_page-----63e4ca546c18--------------------------------", "anchor_text": "Andreas Varotsis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F36c279eeb755&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flessons-from-scraping-a-darknet-market-63e4ca546c18&user=Andreas+Varotsis&userId=36c279eeb755&source=post_page-36c279eeb755----63e4ca546c18---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F63e4ca546c18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flessons-from-scraping-a-darknet-market-63e4ca546c18&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F63e4ca546c18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flessons-from-scraping-a-darknet-market-63e4ca546c18&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.darknetstats.com/pax-romana-market/", "anchor_text": "Pax Romana"}, {"url": "https://webscraper.io/", "anchor_text": "Web Scraper"}, {"url": "https://github.com/seatgeek/fuzzywuzzy", "anchor_text": "FuzzyWuzzy"}, {"url": "https://www.nber.org/papers/w6592", "anchor_text": "just like in the physical world"}, {"url": "https://github.com/crimsoneer/DNM_Scrape_Analysis", "anchor_text": "Jupyter notebook format on my Github"}, {"url": "https://colab.research.google.com/drive/1jr0dGkoFdC5zjT9jaEDS3kfwQOQhA8Pb", "anchor_text": "ColabLink"}, {"url": "https://medium.com/tag/drugs?source=post_page-----63e4ca546c18---------------drugs-----------------", "anchor_text": "Drugs"}, {"url": "https://medium.com/tag/crime?source=post_page-----63e4ca546c18---------------crime-----------------", "anchor_text": "Crime"}, {"url": "https://medium.com/tag/cyber?source=post_page-----63e4ca546c18---------------cyber-----------------", "anchor_text": "Cyber"}, {"url": "https://medium.com/tag/data-science?source=post_page-----63e4ca546c18---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/economics?source=post_page-----63e4ca546c18---------------economics-----------------", "anchor_text": "Economics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F63e4ca546c18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flessons-from-scraping-a-darknet-market-63e4ca546c18&user=Andreas+Varotsis&userId=36c279eeb755&source=-----63e4ca546c18---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F63e4ca546c18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flessons-from-scraping-a-darknet-market-63e4ca546c18&user=Andreas+Varotsis&userId=36c279eeb755&source=-----63e4ca546c18---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F63e4ca546c18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flessons-from-scraping-a-darknet-market-63e4ca546c18&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----63e4ca546c18--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F63e4ca546c18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flessons-from-scraping-a-darknet-market-63e4ca546c18&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----63e4ca546c18---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----63e4ca546c18--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----63e4ca546c18--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----63e4ca546c18--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----63e4ca546c18--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----63e4ca546c18--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----63e4ca546c18--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----63e4ca546c18--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----63e4ca546c18--------------------------------", "anchor_text": ""}, {"url": "https://andreas-varotsis.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://andreas-varotsis.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andreas Varotsis"}, {"url": "https://andreas-varotsis.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "17 Followers"}, {"url": "https://andreasthinks.me/", "anchor_text": "https://andreasthinks.me/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F36c279eeb755&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flessons-from-scraping-a-darknet-market-63e4ca546c18&user=Andreas+Varotsis&userId=36c279eeb755&source=post_page-36c279eeb755--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F36c279eeb755%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flessons-from-scraping-a-darknet-market-63e4ca546c18&user=Andreas+Varotsis&userId=36c279eeb755&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}