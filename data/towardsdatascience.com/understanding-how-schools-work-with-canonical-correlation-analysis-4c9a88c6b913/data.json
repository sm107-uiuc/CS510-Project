{"url": "https://towardsdatascience.com/understanding-how-schools-work-with-canonical-correlation-analysis-4c9a88c6b913", "time": 1683004524.721289, "path": "towardsdatascience.com/understanding-how-schools-work-with-canonical-correlation-analysis-4c9a88c6b913/", "webpage": {"metadata": {"title": "Understanding How Schools Work with Canonical Correlation Analysis | by Liana Mehrabyan | Towards Data Science", "h1": "Understanding How Schools Work with Canonical Correlation Analysis", "description": "Us data scientists spend most of our time analysing relationships and patterns in our data. Most of our exploratory tools, however, focus on one-to-one relationships. But what if we want to have a\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/a-one-stop-shop-for-principal-component-analysis-5582fb7e0a9c", "anchor_text": "PCA", "paragraph_index": 9}, {"url": "https://www.kaggle.com/passnyc/data-science-for-good#2016%20School%20Explorer.csv", "anchor_text": "dataset", "paragraph_index": 10}, {"url": "https://github.com/gallantlab/pyrcca", "anchor_text": "pyrcca", "paragraph_index": 11}, {"url": "https://www.frontiersin.org/articles/10.3389/fninf.2016.00049/full", "anchor_text": "Frontiers in Neuroinfomatics", "paragraph_index": 25}, {"url": "https://scholarscompass.vcu.edu/cgi/viewcontent.cgi?article=1001&context=socialwork_pubs", "anchor_text": "A Demonstration of Canonical Correlation Analysis with Orthogonal Rotation to Facilitate Interpretation", "paragraph_index": 26}, {"url": "http://linkedin.com/in/liana-m/", "anchor_text": "linkedin.com/in/liana-m/", "paragraph_index": 28}], "all_paragraphs": ["Us data scientists spend most of our time analysing relationships and patterns in our data. Most of our exploratory tools, however, focus on one-to-one relationships. But what if we want to have a more generalised view and find commonalities and patterns between certain groups of variables?", "Suppose we want to find out how a school\u2019s ambience affects its students\u2019 academic success. On one hand, we have variables about the level of support, trust and collaboration in their learning environment. On the other hand, we have students\u2019 academic records and test results.", "CCA lets us explore associations between these two sets of variables as a whole, rather than considering them on an individual basis. Loosely speaking, we come up with a collective representation (a latent variable called canonical variate) for each of these variable sets in a way that the correlation between those variates is maximised.", "Before diving into a pile of equations, let\u2019s see why it\u2019s worth the effort.", "We construct the first pair of Canonical Variates as linear combinations of the variables in each group:", "where the weights (a1, \u2026 ap), (b1, \u2026 , bq) are chosen in a way that the correlation between the two variates is maximised.", "The Canonical Correlation Coefficient is the correlation between the canonical variates CVX and CVY.", "To compute the second pair of covariates, we conduct the same process by adding one more constraint: each new variate should be orthogonal and uncorrelated to the previous ones.", "We compute min(p,q) pairs in a similar fashion and end up with min(p,q) components ready to explore. (Note that the number of variables in each set doesn\u2019t have to be the same.)", "Just as in PCA, we project our data onto min(p,q) latent dimensions. However, not all of them might be informative and important. Let\u2019s see the makeup and interpretation of our canonical variates in the example below.", "We\u2019ll be using two variable groups from NYC schools dataset:", "As for the tool, we\u2019ll be using the pyrcca implementation.", "We start with separating each of our variable groups in a single dataframe:", "Convert group X into numeric variables and standardise the data:", "After relevant preprocessing, we\u2019re ready to apply CCA. Note that we set the regularisation parameter to 0 as regularised CCA is out of the scope of this post (we will get back to this in future posts though).", "For our two pairs of canonical variates, we have canonical correlations of 0.46 and 0.18 respectively. So, latent representations of school ambience and students\u2019 performance do have a positive correlation of 0.46 and share 21 percent of variance.", "Squared canonical correlation represents the shared variance by the latent representations of variable sets, and not the variance inferred from the sets of variables themselves.", "In order to access the weights assigned to our standardised variables (a1, \u2026 , ap) and (b1, \u2026 , bq) we use cca.ws:", "Given these weights, the canonical variates of set Y, for example, were calculated with the following formula:", "where the weights can be interpreted as the coefficients in a linear regression model. We should take into account that it is not highly recommended to rely on weights when interpreting individual variable contribution to covariates.", "Relying on canonical loadings instead is a more common practice.", "Canonical loadings are nothing more than the correlation between the original variable and the canonical variate of that set. For example, to assess the contribution of Trust in school environment representation, we calculate the correlation between the variable Trust and the resulting variate for variable set X.", "Calculating loadings for group Y in the first variate:", "Finally, we might want to access the covariate values directly, be it for visualisation or any other purpose.", "Hope you find this helpful and use CCA more in your EDA routine.", "[1] Bilenko N., Gallan., 2016, Pyrcca: Regularized Kernel Canonical Correlation Analysis in Python and Its Applications to Neuroimaging, Frontiers in Neuroinfomatics", "[2] Dattalo, P.V., 2014, A Demonstration of Canonical Correlation Analysis with Orthogonal Rotation to Facilitate Interpretation", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Hi there, I\u2019m a Data Scientist focused on social DS. Learning and sharing insights as I explore education, music and more through data. linkedin.com/in/liana-m/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4c9a88c6b913&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-how-schools-work-with-canonical-correlation-analysis-4c9a88c6b913&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-how-schools-work-with-canonical-correlation-analysis-4c9a88c6b913&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-how-schools-work-with-canonical-correlation-analysis-4c9a88c6b913&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-how-schools-work-with-canonical-correlation-analysis-4c9a88c6b913&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4c9a88c6b913--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4c9a88c6b913--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@liana.m?source=post_page-----4c9a88c6b913--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@liana.m?source=post_page-----4c9a88c6b913--------------------------------", "anchor_text": "Liana Mehrabyan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F288e37fb21c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-how-schools-work-with-canonical-correlation-analysis-4c9a88c6b913&user=Liana+Mehrabyan&userId=288e37fb21c&source=post_page-288e37fb21c----4c9a88c6b913---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4c9a88c6b913&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-how-schools-work-with-canonical-correlation-analysis-4c9a88c6b913&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4c9a88c6b913&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-how-schools-work-with-canonical-correlation-analysis-4c9a88c6b913&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@peterbucks?utm_source=medium&utm_medium=referral", "anchor_text": "peter bucks"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/a-one-stop-shop-for-principal-component-analysis-5582fb7e0a9c", "anchor_text": "PCA"}, {"url": "https://www.kaggle.com/passnyc/data-science-for-good#2016%20School%20Explorer.csv", "anchor_text": "dataset"}, {"url": "https://github.com/gallantlab/pyrcca", "anchor_text": "pyrcca"}, {"url": "https://www.frontiersin.org/articles/10.3389/fninf.2016.00049/full", "anchor_text": "Frontiers in Neuroinfomatics"}, {"url": "https://scholarscompass.vcu.edu/cgi/viewcontent.cgi?article=1001&context=socialwork_pubs", "anchor_text": "A Demonstration of Canonical Correlation Analysis with Orthogonal Rotation to Facilitate Interpretation"}, {"url": "https://medium.com/tag/data-science?source=post_page-----4c9a88c6b913---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/exploratory-data-analysis?source=post_page-----4c9a88c6b913---------------exploratory_data_analysis-----------------", "anchor_text": "Exploratory Data Analysis"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----4c9a88c6b913---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/dimensionality-reduction?source=post_page-----4c9a88c6b913---------------dimensionality_reduction-----------------", "anchor_text": "Dimensionality Reduction"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----4c9a88c6b913---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4c9a88c6b913&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-how-schools-work-with-canonical-correlation-analysis-4c9a88c6b913&user=Liana+Mehrabyan&userId=288e37fb21c&source=-----4c9a88c6b913---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4c9a88c6b913&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-how-schools-work-with-canonical-correlation-analysis-4c9a88c6b913&user=Liana+Mehrabyan&userId=288e37fb21c&source=-----4c9a88c6b913---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4c9a88c6b913&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-how-schools-work-with-canonical-correlation-analysis-4c9a88c6b913&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4c9a88c6b913--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4c9a88c6b913&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-how-schools-work-with-canonical-correlation-analysis-4c9a88c6b913&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4c9a88c6b913---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4c9a88c6b913--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4c9a88c6b913--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4c9a88c6b913--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4c9a88c6b913--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4c9a88c6b913--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4c9a88c6b913--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4c9a88c6b913--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4c9a88c6b913--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@liana.m?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@liana.m?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Liana Mehrabyan"}, {"url": "https://medium.com/@liana.m/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "814 Followers"}, {"url": "http://linkedin.com/in/liana-m/", "anchor_text": "linkedin.com/in/liana-m/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F288e37fb21c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-how-schools-work-with-canonical-correlation-analysis-4c9a88c6b913&user=Liana+Mehrabyan&userId=288e37fb21c&source=post_page-288e37fb21c--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F24ad43e08caa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-how-schools-work-with-canonical-correlation-analysis-4c9a88c6b913&newsletterV3=288e37fb21c&newsletterV3Id=24ad43e08caa&user=Liana+Mehrabyan&userId=288e37fb21c&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}