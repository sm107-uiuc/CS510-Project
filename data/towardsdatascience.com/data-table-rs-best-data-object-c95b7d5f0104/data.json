{"url": "https://towardsdatascience.com/data-table-rs-best-data-object-c95b7d5f0104", "time": 1683007640.04974, "path": "towardsdatascience.com/data-table-rs-best-data-object-c95b7d5f0104/", "webpage": {"metadata": {"title": "data.table: R\u2019s Best Data Object. data.frame is so 2016 | by Wicaksono Wijono | Towards Data Science", "h1": "data.table: R\u2019s Best Data Object", "description": "data.table is the primary reason I prefer working in R rather than Python. Although R is notorious for being a slow language, data.table generally runs faster than Python\u2019s pandas (benchmark) and\u2026"}, "outgoing_paragraph_urls": [{"url": "https://h2oai.github.io/db-benchmark/", "anchor_text": "benchmark", "paragraph_index": 0}, {"url": "https://www.tidyverse.org/blog/2019/11/dtplyr-1-0-0/", "anchor_text": "dtplyr", "paragraph_index": 2}], "all_paragraphs": ["data.table is the primary reason I prefer working in R rather than Python. Although R is notorious for being a slow language, data.table generally runs faster than Python\u2019s pandas (benchmark) and even gives Spark a run for its money as long as R can process the data of that size. Even better, data.table is extremely concise and supports complicated operations like window functions with only a little bit of typing.", "I believe that data.table is the single most important R package. Any form of wrangling is best done using data.table. It\u2019s the data superhero we need.", "There is virtually no reason to use data.frame other than cases where a function does not accept data.table. I personally don\u2019t like tidyverse (sorry!) as it uses data.frame and tibble and thus runs so slowly in comparison \u2014 with twice as much typing. (Recently Wickham released dtplyr which translates dplyr code into data.table operations. You get dplyr syntax and data.table speeds, if that\u2019s your thing.)", "This article will guide you through how to use data.table and the tips and tricks that will allow you to process data much more quickly and easily.", "Instead of using read.csv() or the likes, you can use fread() to directly load data into a data.table. The f stands for fast. Once you have moderately sized data, you can see how much faster fread() is compared to read.csv().", "You can also construct one using the data.table() function just like you would for data.frame(). Note that strings are no longer automatically converted to factors.", "If you already have a data.frame, the data.table() function will convert it.", "If your data is split into multiple files, you can load each file into its own data.table stored into a list and then use rbindlist(). This works like do.call(\u201crbind\u201d,\u2026) but much more efficient.", "SQL is the de facto language of data (remember when NoSQL was retconned to \u201cnot only SQL\u201d?) and should be familiar to most data professionals. If you can write SQL, you can write data.table syntax:", "Suppose you want to run this query:", "That\u2019s it! Minimal typing and no need to pipe a bazillion functions. It does take some getting used to, but it makes so much sense once you get the hang of it.", "The .() is a shorthand for list(). Using it in the SELECT statement returns a data.table (explained in next section).", "With data.table, you no longer have to repeatedly type the table\u2019s name when referring to its fields. Using data.frame you need to type", "But data.table understands that the things inside the square brackets are probably referring to its columns so you can type", "This doesn\u2019t look like much but it\u2019s a huge quality of life improvement when you type hundreds of lines of code.", "The SELECT statement takes one of two forms:", "The output from .() is not stored anywhere unless you create a new object. For the example tasks, the data.table X has two columns: grp (grouping variable) and val (numerical value).", "Task 1: Create a scalar of the average of all values.", "Task 2: Create a new data.table X_agg that contains group means.", "Task 3: Create a new column in X containing the group means.", "Task 4: Create a new column in X saying whether the observation is greater than the group average.", "Task 5: Create two new columns in X for the group avg and stdev.", "Sometimes you have a LOT of columns that you want to group by two fields, grp1 and grp2. You can do:", "The .SD is shorthand for all columns other than those used for grouping. Notice how short the code is for all of these tasks!", "Unlike a data.frame, a data.table supports indexing using the setkey() function:", "The last line, X[Y], merges the two tables using the specified indices much faster than if you had used base merge(). The indexing also enables data.table to use binary search when you want to look up specific values.", "In SQL you can take fancy cumulative sums such as", "You can do the same in data.table very quickly:", "data.table even comes with its own fast window functions such as shift() and frank() \u2014 the latter for fast ranking.", "If you haven\u2019t been using data.table for your R work, I urge you to try it and learn it. You will look back and wonder how you could\u2019ve worked without it before. It is faster, more memory efficient, and much more succinct than anything else available in R.", "One primary advantage over working purely in SQL is that you can keep your intermediary tables well-organized instead of creating views. In Rstudio, you can use the Environment window to keep track of all your objects.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Bayesian data scientist. Alternates between light reading and more in-depth articles about applied statistics and machine learning."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc95b7d5f0104&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-table-rs-best-data-object-c95b7d5f0104&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-table-rs-best-data-object-c95b7d5f0104&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-table-rs-best-data-object-c95b7d5f0104&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-table-rs-best-data-object-c95b7d5f0104&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c95b7d5f0104--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c95b7d5f0104--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@wwijono?source=post_page-----c95b7d5f0104--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@wwijono?source=post_page-----c95b7d5f0104--------------------------------", "anchor_text": "Wicaksono Wijono"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5e69e4814607&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-table-rs-best-data-object-c95b7d5f0104&user=Wicaksono+Wijono&userId=5e69e4814607&source=post_page-5e69e4814607----c95b7d5f0104---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc95b7d5f0104&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-table-rs-best-data-object-c95b7d5f0104&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc95b7d5f0104&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-table-rs-best-data-object-c95b7d5f0104&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://h2oai.github.io/db-benchmark/", "anchor_text": "benchmark"}, {"url": "https://www.needpix.com/photo/download/271646/superhero-girl-speed-runner-running-lights-space-cyber-suit", "anchor_text": "source"}, {"url": "https://www.tidyverse.org/blog/2019/11/dtplyr-1-0-0/", "anchor_text": "dtplyr"}, {"url": "https://medium.com/tag/data-science?source=post_page-----c95b7d5f0104---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/business-intelligence?source=post_page-----c95b7d5f0104---------------business_intelligence-----------------", "anchor_text": "Business Intelligence"}, {"url": "https://medium.com/tag/analytics?source=post_page-----c95b7d5f0104---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/tag/r?source=post_page-----c95b7d5f0104---------------r-----------------", "anchor_text": "R"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc95b7d5f0104&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-table-rs-best-data-object-c95b7d5f0104&user=Wicaksono+Wijono&userId=5e69e4814607&source=-----c95b7d5f0104---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc95b7d5f0104&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-table-rs-best-data-object-c95b7d5f0104&user=Wicaksono+Wijono&userId=5e69e4814607&source=-----c95b7d5f0104---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc95b7d5f0104&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-table-rs-best-data-object-c95b7d5f0104&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c95b7d5f0104--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc95b7d5f0104&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-table-rs-best-data-object-c95b7d5f0104&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c95b7d5f0104---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c95b7d5f0104--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c95b7d5f0104--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c95b7d5f0104--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c95b7d5f0104--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c95b7d5f0104--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c95b7d5f0104--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c95b7d5f0104--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c95b7d5f0104--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@wwijono?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@wwijono?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Wicaksono Wijono"}, {"url": "https://medium.com/@wwijono/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "785 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5e69e4814607&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-table-rs-best-data-object-c95b7d5f0104&user=Wicaksono+Wijono&userId=5e69e4814607&source=post_page-5e69e4814607--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd2f99368ce0a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-table-rs-best-data-object-c95b7d5f0104&newsletterV3=5e69e4814607&newsletterV3Id=d2f99368ce0a&user=Wicaksono+Wijono&userId=5e69e4814607&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}