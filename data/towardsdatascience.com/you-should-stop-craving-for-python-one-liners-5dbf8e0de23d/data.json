{"url": "https://towardsdatascience.com/you-should-stop-craving-for-python-one-liners-5dbf8e0de23d", "time": 1683017919.746472, "path": "towardsdatascience.com/you-should-stop-craving-for-python-one-liners-5dbf8e0de23d/", "webpage": {"metadata": {"title": "Using Python one-liners may not always be a good idea | Towards Data Science", "h1": "You Should Stop Craving for Python One-Liners", "description": "While coding, you shouldn't make Python syntactic sugar or one-liners a priority. I will show you an example that proves one-liners' inefficiency."}, "outgoing_paragraph_urls": [{"url": "https://www.python.org/dev/peps/pep-0008/#maximum-line-length", "anchor_text": "Python code style guidelines", "paragraph_index": 20}, {"url": "https://pypi.org/project/memory-profiler/", "anchor_text": "memory profiler", "paragraph_index": 27}], "all_paragraphs": ["\u201cAny fool can write code that a computer can understand. Good programmers write code that humans can understand\u201d. Martin Fowler said.", "Programmers are in demand more than ever. The problem is that everybody is looking for good programmers. Yet, those aren\u2019t ubiquitous.", "What sets good developers apart from their peers is quite subtle. It all boils down to code refactoring skills. The purpose of refactoring is to improve the design, structure, and/or implementation of software while preserving its functionality.", "Unfortunately, there is no shortcut to boosting code refactoring prowess. The process is arduous and involves hard work and a willingness to learn from others.", "While hard work means coding, coding, and coding, StackOverflow and the websites alike are good places to learn from experienced programmers before you develop your own coding style. In these forums, developers share their problems, should they be error messages, misconceptions, or bad code design. Community members in return answer accordingly.", "Recently, in Python threads, one specific type of inquiry grabbed my attention. The wording follows this pattern:", "My code does this [something]:#code\u2026>>>#outputIs it possible to get the same output with a one-liner?", "As a programmer who jumped from C straight to Python. The difference was blatant. Programs that consisted of more than 100 lines of C code could be squeezed into few lines under Python. Tradeoff: efficiency.", "It appears that a few lines of code are not enough anymore. One-liners are what programmers are looking for nowadays. Tradeoffs: Let\u2019s examine and see.", "When it comes to code design, good code refactoring practices are none other than finding a sweet spot that allows you to meet roughly all the following criteria:", "One-liners tick the \u201cConciseness\u201d box by default. what about readability, memory-runtime complexities, and maintainability?", "Only recently and while working on a machine learning program, one of my class functions had to return a list of employees with the highest salary from a dictionary mapping employees' IDs to their salaries. We\u2019ll use that as an example.", "For the sake of demonstration and simplicity, let\u2019s consider the following dictionary mapping employees\u2019 names to their annual salaries:", "As a practice, I recommend that you try to find the solution on your own then you can compare it with my solutions below.", "Having said that, let\u2019s dive into it.", "On the first attempt, I came up with the following test.py:", "Although this version makes use of simple and basic Python syntax, most intermediate and seasoned programmers will most likely reject it outright. This is because the program is too long. And length impacts negatively code readability.", "Besides, while this program does the job, in the world of programming, it is known that a simple code should be short and to the point, which leads us to one-liners.", "By sticking two nested list comprehensions in thereturnstatement we could write a one-liner one_liner.pythat would allow us to do exactly what 10 lines of code test.pydid.", "There are two main problems arising from this one-liner. First, it doesn\u2019t adhere to the DRY (don\u2019t repeat yourself) principle \u2014 string manipulation was performed 2 times. Second, since a decent amount of lines were squeezed into one expression, the code became cryptic and hard to decipher at first glance, even for people who are familiar with Python.", "Tip: I didn\u2019t write the return statement in one single line so as to respect the threshold suggested in the Python code style guidelines. And according to the guidelines, each line should not exceed 79 characters.", "In a nutshell, while one_liner.py represents a shorter and concise solution to the task at hand, it fails to meet the requirements of what constitutes simple and readable code. Thus, it\u2019s a badly refactored code.", "Maintainability in programming means the ease with which a code can be re-engineered to serve some other purposes. An example of that would be rather than getting the names of employees with the highest paycheck we want to get those with the lowest salary instead.", "For that purpose, we can see that a bit of work is needed on test.py. For instance, highest_salaryand the first if statementshould be reprogrammed again, which might be time-consuming. And in the business world time is money.", "On the other side of the spectrum, one_liner.py seems to be more maintainable as it suffices to change the max() function to min() and you end up with employees with the lowest paycheck.", "A good programmer should heed the importance of memory.", "Memory is the amount of space that\u2019s being allocated to store data and instructions while a program is running. So, when a program is memory efficient, it takes little space in memory.", "We\u2019ll use the memory profiler module in order to analyze the memory usage in both programs. The memory profiler is easy to use as it\u2019s enough to decorate the function you want to monitor with@profile decorator to get the summary.", "The memory profiler applied on test.pyyields the following:", "On the other hand, the memory profiler on one_liner.pyproduces the following results:", "Even though the first code consisted of more code it\u2019s used less memory than its one-liner counterpart (19.199 MB Vs 19.297 MB). This is due to the substantial amount of stored instructions in one_liner.py . Therefore, memory-wise one_liner.py is not a suitable option.", "Another essential factor to consider is Runtime, which is the time a program takes to finish execution. This becomes problematic when we\u2019re dealing with a huge amount of data \u2014 10 000+ entries. These are likely to be real-life data.", "One of the best ways to calculate a program\u2019s running time in Python is thetimeit module.", "The following command gives the processing time of test.pyin microseconds:", "Again, test.pyoutperformedone_liner.py. This is because of the ample amount of calculations one_liner.py has gone through.", "To improve upon the last metrics, we can come up with a set of instructions that are neither excessively lengthy nor extremely short. The code is the following sweet_spot.py:", "By minimizing the length of this code and leveraging Python's powerful syntax we managed to create a short and readable code. Each line does one important task at a time. Data cleaning, finding the max, and filtering.", "As to maintainability, this code version is highly maintainable since it is enough to tweak the code a bit to get different results that might satisfy other purposes.", "Finally, the Benchmark of sweet_spot.pyusing timeit and memory_profiler output the following:", "We can see that test.py got the upper hand in terms of memory compared to one_liner.py and sweet_spot.py . In term of execution time, test.py and sweet_spot.py perform equally and both are faster thanone_liner.py .", "Although sweet_spot.py didn\u2019t outperform both test.py and one_liner.pyin all design aspects, it meets roughly all the requirements of a refactored code. Hence, for this function, we\u2019re better off with sweet_spot.py.", "One-liners are a good option to write compact, attractive code especially with Python syntactic sugar under the belt. However, on top of efficiency problems, the overuse of complex one-liners might result in other programmers having a hard time getting the gist of your code.", "In the end, don\u2019t strive to be a programmer. Strive to be a great one. And great ones write efficient easy-to-read code.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Software and crypto in simple terms. Ideas that make you think."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5dbf8e0de23d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyou-should-stop-craving-for-python-one-liners-5dbf8e0de23d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyou-should-stop-craving-for-python-one-liners-5dbf8e0de23d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyou-should-stop-craving-for-python-one-liners-5dbf8e0de23d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyou-should-stop-craving-for-python-one-liners-5dbf8e0de23d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5dbf8e0de23d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5dbf8e0de23d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://ayarmohammed96.medium.com/?source=post_page-----5dbf8e0de23d--------------------------------", "anchor_text": ""}, {"url": "https://ayarmohammed96.medium.com/?source=post_page-----5dbf8e0de23d--------------------------------", "anchor_text": "Mohammed Ayar"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff2f097ed2ac0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyou-should-stop-craving-for-python-one-liners-5dbf8e0de23d&user=Mohammed+Ayar&userId=f2f097ed2ac0&source=post_page-f2f097ed2ac0----5dbf8e0de23d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5dbf8e0de23d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyou-should-stop-craving-for-python-one-liners-5dbf8e0de23d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5dbf8e0de23d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyou-should-stop-craving-for-python-one-liners-5dbf8e0de23d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.python.org/dev/peps/pep-0008/#maximum-line-length", "anchor_text": "Python code style guidelines"}, {"url": "https://pypi.org/project/memory-profiler/", "anchor_text": "memory profiler"}, {"url": "http://twitter.com/profile", "anchor_text": "@profile"}, {"url": "http://twitter.com/profile", "anchor_text": "@profile"}, {"url": "https://medium.com/tag/python?source=post_page-----5dbf8e0de23d---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----5dbf8e0de23d---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/one-liners?source=post_page-----5dbf8e0de23d---------------one_liners-----------------", "anchor_text": "One Liners"}, {"url": "https://medium.com/tag/efficiency?source=post_page-----5dbf8e0de23d---------------efficiency-----------------", "anchor_text": "Efficiency"}, {"url": "https://medium.com/tag/coding-style?source=post_page-----5dbf8e0de23d---------------coding_style-----------------", "anchor_text": "Coding Style"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5dbf8e0de23d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyou-should-stop-craving-for-python-one-liners-5dbf8e0de23d&user=Mohammed+Ayar&userId=f2f097ed2ac0&source=-----5dbf8e0de23d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5dbf8e0de23d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyou-should-stop-craving-for-python-one-liners-5dbf8e0de23d&user=Mohammed+Ayar&userId=f2f097ed2ac0&source=-----5dbf8e0de23d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5dbf8e0de23d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyou-should-stop-craving-for-python-one-liners-5dbf8e0de23d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5dbf8e0de23d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5dbf8e0de23d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyou-should-stop-craving-for-python-one-liners-5dbf8e0de23d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5dbf8e0de23d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5dbf8e0de23d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5dbf8e0de23d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5dbf8e0de23d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5dbf8e0de23d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5dbf8e0de23d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5dbf8e0de23d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5dbf8e0de23d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5dbf8e0de23d--------------------------------", "anchor_text": ""}, {"url": "https://ayarmohammed96.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://ayarmohammed96.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Mohammed Ayar"}, {"url": "https://ayarmohammed96.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff2f097ed2ac0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyou-should-stop-craving-for-python-one-liners-5dbf8e0de23d&user=Mohammed+Ayar&userId=f2f097ed2ac0&source=post_page-f2f097ed2ac0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fcfd546b6d451&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyou-should-stop-craving-for-python-one-liners-5dbf8e0de23d&newsletterV3=f2f097ed2ac0&newsletterV3Id=cfd546b6d451&user=Mohammed+Ayar&userId=f2f097ed2ac0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}