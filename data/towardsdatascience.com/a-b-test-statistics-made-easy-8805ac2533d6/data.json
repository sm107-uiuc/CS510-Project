{"url": "https://towardsdatascience.com/a-b-test-statistics-made-easy-8805ac2533d6", "time": 1683005983.28613, "path": "towardsdatascience.com/a-b-test-statistics-made-easy-8805ac2533d6/", "webpage": {"metadata": {"title": "A/B Test Statistics Made Easy. Part 2: Proportion Metrics | by Rezwan Hoppe-Islam | Towards Data Science", "h1": "A/B Test Statistics Made Easy", "description": "This article will demonstrate how to evaluate the results of an A/B test when the output metric is a proportion, such as customer conversion rate. Here we exploit the statistical foundations that we\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/a-b-test-statistics-made-easy-4e94098758d9", "anchor_text": "Part 1: Continuous Metrics", "paragraph_index": 0}, {"url": "https://en.wikipedia.org/wiki/Standard_normal_table#Table_examples", "anchor_text": "look-up", "paragraph_index": 25}, {"url": "https://medium.com/@rezwan.islam99/power-analysis-made-easy-dfee1eb813a", "anchor_text": "next article", "paragraph_index": 32}], "all_paragraphs": ["This article will demonstrate how to evaluate the results of an A/B test when the output metric is a proportion, such as customer conversion rate. Here we exploit the statistical foundations that we built in Part 1: Continuous Metrics, so start there if you need a refresher.", "Statistics can be a daunting subject to learn, and it doesn\u2019t have to be. The aim of these guides is to make statistical tools more accessible to people. This guide uses simulation data to demystify the subject and bring key statistical concepts to life. Enjoy!", "Imagine that we own 2 websites. Each website converts visitors into customers at the rate of 30%. Let\u2019s see what happens after 1,000 visitors visit each website:", "Now we run a simulation that can repeat the above process for a total of 100,000 samples. Here\u2019s a peek at the results:", "So even though we know that the true conversion rate is 30%, we see some variation around this number due to random sampling error. Now let\u2019s convert all the numbers above into proportions:", "And finally, let\u2019s plot the distribution of the difference in conversion rates (the last column):", "Recap: We have two websites with identical conversion rates. So the difference in conversion rates should equal zero. But due to sampling error, we see a sampling distribution of results around zero.", "Now imagine that an A/B test yields the following results:", "Has the Test treatment really improved the conversion by 45 customers? Or do the Test and Control groups have identical conversion rates? In which case any difference we observe is just a result of random sampling error?", "Let\u2019s capture these hypotheses more formally:", "So let\u2019s begin by determining what the sampling distribution would look like given the null hypothesis. All we need to know is what the true (population) conversion rate might be. Our best guess would be the average of the sample conversion rates: (0.335 + 0.290) / 2 = 0.3125. And now let\u2019s simulate the distribution that we would see if in fact both Test and Control had conversion rates of 0.3125:", "Recap: We have again used simulation to generate the sampling distribution. Here we assume that both Test and Control populations have the same conversion rate \u2014 this is our null hypothesis.", "Simulation is a great tool for generating a sampling distribution to demonstrate the impact of sampling error. If we want to move faster, we can, in fact, compute the sampling distribution as follows:", "Step 1: Calculate the pooled sample proportion (p).", "Here\u2019s the actual formula which is especially useful when the Test and Control groups have different sample sizes:", "Step 2: Use p to calculate the standard error (se).", "Step 3: Compute a normal distribution with mean = 0, standard deviation = 0.0207.", "In R we would simply write:", "Let\u2019s check to see what this distribution of computed values (red) looks like, compared to the previous distribution that we created through simulation (black):", "As you can see we have an almost perfect match! In fact, simulation leads to an estimate of the sampling distribution. The computed sampling distribution, however, is what we would obtain if we ran the simulation an infinite number of times. Therefore, it is the exact sampling distribution.", "Recap: We no longer have to run many simulations to estimate the sampling distribution. We can now compute the precise sampling distribution.", "So, given the sampling distribution above, what is the probability of obtaining a result as extreme or more as 0.045, under the null hypothesis? Let\u2019s re-examine our sampling distribution:", "Here our p-value (shaded in blue) is 3% and it tells us that if the null hypothesis were true then we would expect to see a result as extreme or more as 0.045 in only 3 out of 100 A/B tests. And since our p-value is less than our significance level (\ud835\udec2) of 0.05, we reject the null hypothesis.", "Recap: The chance of seeing an improvement in conversion rate as extreme or more as 0.045 is improbable under the null hypothesis. Specifically, our p-value of 0.03 means that we\u2019re only likely to see a result as extreme or more as 0.045 in 3 out of 100 experiments. This ratio is less than our significance level (\ud835\udec2) of 0.05 and, therefore, we reject the null hypothesis.", "We can speed up the process even more by just making use of the standard normal distribution. We can transform our distribution into the standard normal distribution by dividing by the standard error. Likewise, we can also transform our test result into a z score by dividing by the standard error. So here we get 0.045 / 0.0207 = 2.17.", "Using this z-score, we can now quickly determine the p-value via a look-up table, or by calculating it using a programming language such as R:", "In both cases, we arrive at the same p-value as we had before: 0.03.", "Recap: By converting our observed difference in conversion rates (0.045) into a z score (2.17), we were able to exploit the use of a look-up table against the standard normal distribution to rapidly arrive at the p-value.", "If we accept that difference in population conversion rates does not equal zero then what does it equal? What is the range of possible values given the alternative hypothesis? Let\u2019s refer to the sampling distribution given the alternative hypothesis:", "The area shaded in grey represents the middle 95% of the chart which corresponds to a confidence interval of (0.004, 0.086) or 0.045 \u00b1 0.041. Every confidence interval has an associated confidence level which is predetermined by the significance level (\ud835\udec2) and is equal to 1 \u2014 \ud835\udec2 = 1\u20130.05 = 95%. The confidence interval tells us that if we were to repeat the entire A/B test many times then, in the long run, 95% of our confidence intervals would capture the true difference between population conversion rates.", "Recap: A confidence interval (at an associated confidence level) shows the range of possible values for our A/B test result. Here, we report a confidence interval of 0.045 \u00b1 0.041 at a confidence level of 95%.", "By this point, you should feel fairly comfortable with the overall framework of a statistical analysis. Now let\u2019s see how we can reduce all the above-mentioned steps into just a few lines of code. In R we would write:", "Here we explored the steps involved in analyzing an A/B test, together with a framework that ties all the steps together. Hopefully, this has left you with a greater sense of comfort around A/B test statistics. In this scenario, we had sufficient evidence (in terms of a p-value) to reject the null hypothesis. But what if we hadn\u2019t collected a large enough sample to yield a p-value < 0.05? In the next article, we\u2019ll demonstrate how you can deduce ahead of time your required sample size.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8805ac2533d6&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-8805ac2533d6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-8805ac2533d6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-8805ac2533d6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-8805ac2533d6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8805ac2533d6--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8805ac2533d6--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@rezwan.islam99?source=post_page-----8805ac2533d6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rezwan.islam99?source=post_page-----8805ac2533d6--------------------------------", "anchor_text": "Rezwan Hoppe-Islam"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2a3e368a49d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-8805ac2533d6&user=Rezwan+Hoppe-Islam&userId=2a3e368a49d&source=post_page-2a3e368a49d----8805ac2533d6---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8805ac2533d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-8805ac2533d6&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8805ac2533d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-8805ac2533d6&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/a-b-test-statistics-made-easy-4e94098758d9", "anchor_text": "Part 1: Continuous Metrics"}, {"url": "https://en.wikipedia.org/wiki/Standard_normal_table#Table_examples", "anchor_text": "look-up"}, {"url": "https://medium.com/@rezwan.islam99/power-analysis-made-easy-dfee1eb813a", "anchor_text": "next article"}, {"url": "https://medium.com/tag/statistics?source=post_page-----8805ac2533d6---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/a-b-testing?source=post_page-----8805ac2533d6---------------a_b_testing-----------------", "anchor_text": "A B Testing"}, {"url": "https://medium.com/tag/hypothesis-testing?source=post_page-----8805ac2533d6---------------hypothesis_testing-----------------", "anchor_text": "Hypothesis Testing"}, {"url": "https://medium.com/tag/r?source=post_page-----8805ac2533d6---------------r-----------------", "anchor_text": "R"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8805ac2533d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-8805ac2533d6&user=Rezwan+Hoppe-Islam&userId=2a3e368a49d&source=-----8805ac2533d6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8805ac2533d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-8805ac2533d6&user=Rezwan+Hoppe-Islam&userId=2a3e368a49d&source=-----8805ac2533d6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8805ac2533d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-8805ac2533d6&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8805ac2533d6--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8805ac2533d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-8805ac2533d6&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8805ac2533d6---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8805ac2533d6--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8805ac2533d6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8805ac2533d6--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8805ac2533d6--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8805ac2533d6--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8805ac2533d6--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8805ac2533d6--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8805ac2533d6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rezwan.islam99?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rezwan.islam99?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Rezwan Hoppe-Islam"}, {"url": "https://medium.com/@rezwan.islam99/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "115 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2a3e368a49d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-8805ac2533d6&user=Rezwan+Hoppe-Islam&userId=2a3e368a49d&source=post_page-2a3e368a49d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F5fa230cf6c2f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-8805ac2533d6&newsletterV3=2a3e368a49d&newsletterV3Id=5fa230cf6c2f&user=Rezwan+Hoppe-Islam&userId=2a3e368a49d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}