{"url": "https://towardsdatascience.com/generating-spotify-playlists-with-unsupervised-learning-abac60182022", "time": 1683007016.088299, "path": "towardsdatascience.com/generating-spotify-playlists-with-unsupervised-learning-abac60182022/", "webpage": {"metadata": {"title": "Generating Spotify Playlists With Unsupervised Learning | by Callum Ballard | Towards Data Science", "h1": "Generating Spotify Playlists With Unsupervised Learning", "description": "In this series\u2019 previous blog, we explored how music-streaming behemoth, Spotify, has created algorithms to automatically describe the musical qualities of any song based purely on its waveform\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/tagged/music-by-numbers", "anchor_text": "this series", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/analysing-the-greatest-show-on-earth-e234f611e110", "anchor_text": "previous blog", "paragraph_index": 0}, {"url": "https://developer.spotify.com/documentation/web-api/reference/tracks/get-audio-features/", "anchor_text": "musical qualities of any song", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/analysing-the-greatest-show-on-earth-e234f611e110", "anchor_text": "previous blog", "paragraph_index": 2}, {"url": "https://en.wikipedia.org/wiki/Hierarchical_clustering#Agglomerative_clustering_example", "anchor_text": "Hierarchical Agglomerative Clustering", "paragraph_index": 5}, {"url": "https://scikit-learn.org/stable/modules/generated/sklearn.cluster.AgglomerativeClustering.html#sklearn.cluster.AgglomerativeClustering", "anchor_text": "HAC package", "paragraph_index": 6}, {"url": "https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html", "anchor_text": "standard-scale", "paragraph_index": 7}, {"url": "https://en.wikipedia.org/wiki/Dendrogram", "anchor_text": "Dendrogram", "paragraph_index": 11}, {"url": "https://towardsdatascience.com/tagged/music-by-numbers", "anchor_text": "Music By Numbers", "paragraph_index": 15}, {"url": "https://www.linkedin.com/in/callum-ballard/", "anchor_text": "LinkedIn", "paragraph_index": 15}], "all_paragraphs": ["In this series\u2019 previous blog, we explored how music-streaming behemoth, Spotify, has created algorithms to automatically describe the musical qualities of any song based purely on its waveform. These algorithms can calculate some obvious musical properties (e.g. how fast a song is and what key its in). However, they can also get at more nuanced measures; How happy is a song? Is it chilled or high energy? Could you dance to it?", "To see how this works in action, I\u2019ve created a playlist with, let\u2019s say, some eclectic content \u2014 Kendrick Lamar to Black Sabbath, via The Beatles and Billie Eilish. And, of course, Despacito.", "Let\u2019s see how Spotify classifies these songs against the various audio feature metrics (full descriptions of these metrics can be found in the previous blog).", "Of course, we can use these measures to start thinking about which songs are sonically similar to each other. Let\u2019s keep things simple for now, and assume that the songs have just two characteristics \u2014 Danceability and Valence. Both of these measures take values between 0 and 1, so we can infer how similar two songs are by the (Euclidean) distance between their two points on a scatter.", "We could extend this logic. Given a song from the playlist, we can work out the n most similar tracks by finding the closest n points on the scatter. But we can be more sophisticated\u200a\u2014\u200asuppose we want to take the 32 songs, and divide these into a given number of playlists (say, five). Then we need some way of taking this scatter chart above, and dividing the dots into five different groups, where the songs within group are \u2018optimally similar\u2019 to each other.", "If this sounds a lot like a use case for clustering, then that\u2019s because it is. Specifically, we can deploy \u2018Hierarchical Agglomerative Clustering\u2019 (HAC). In layman\u2019s terms, HAC starts off by viewing each individual point as its own cluster of one. It then merges the two existing clusters that are \u2018closest\u2019 to each other (note; the definition of \u2018distance\u2019 in this context is changeable \u2014 we\u2019ll explore this later on). The HAC algorithm will iteratively merge \u2018close\u2019 clusters, until it reaches its natural conclusion where all data points belong to one single cluster.", "As mentioned, how the algorithm thinks of the \u2018distance\u2019 between two existing clusters is variable. Scikit-learn provides three such \u2018linkage criteria\u2019 as part of its HAC package:", "Given that HAC deals with \u2018distances\u2019\u200a\u2014\u200aabstract or otherwise\u200a\u2014\u200awe need to standard-scale our data before feeding it into the clustering algorithm. This ensures that our final results are not skewed by feature units. For example, tempo typically ranges between 70 and 180 beats per minute, whereas most other measures fall somewhere between 0 and 1. Without scaling, two songs with very different tempos would always be very \u2018far apart\u2019, even if they were identical on the other metrics.", "Happily, standard scaling and HAC using Scikit-Learn is very straightforward:", "Let\u2019s apply HAC to our playlist (remember, we\u2019re still constraining ourselves to two dimensions \u2014 danceability on the horizontal axis, and valence on the vertical). We can see how the number of different colours decreases as clusters are merged together.", "Of course, as distance between two points can be defined in two dimensions, it can also be defined in three \u2014 the below diagram shows how the HAC algorithm creates four clusters when we add a third metric (\u2018energy\u2019).", "It follows that we can continue adding dimensions, calculating \u2018distance\u2019 between points in the same way, we just lose the ability to visualise the results on a \u2018grid\u2019. One way we can view the results, however, is through a Dendrogram. Following the below diagram from left to right, we see how the different songs are linked together into increasingly larger clusters.", "Note \u2014 the horizontal distance indicates how \u2018close\u2019 two linked clusters are, with a longer line indicating that the songs are \u2018further apart\u2019. If we want to create n clusters, we can do this using the dendrogram. We simply need to draw a straight, vertical line across the diagram at the appropriate place \u2014 however many lines you intersect is the number of clusters created.", "Suffice to say, this clustering analysis throws up some interesting results. Arctic Monkeys and Radiohead are obvious bedfellows, as are Dua Lipa and Justin Beiber, and Mot\u00f6rhead and Black Sabbath. Bowie, The Beatles, Pink Floyd and Elvis Presley also sound like a sensible cluster, though Michael Jackson and Eminem make for a slightly eyebrow-raising combination. All in all, though, we can say that Spotify\u2019s metrics, combined with HAC, has done a pretty good job at grouping similar songs.", "In the next couple of blogs, we\u2019ll be looking at how to mathematically measure the quality of clustering results. We\u2019ll then produce playlists of alike songs from collections of thousands of tracks, and examine how to upload these new playlists directly into a user\u2019s profile using Spotify\u2019s API.", "This is the latest blog in my \u2018Music By Numbers\u2019 column, which uses data to tell stories about music. I\u2019d love to hear any comments about the above analysis \u2014 feel free to leave a message below, or reach out to me through LinkedIn!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Analysis Lead at Cleo AI, McKinsey & LSE Alumni, previously published in The Economist. Typically found listening to Japanese Math Rock..."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fabac60182022&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgenerating-spotify-playlists-with-unsupervised-learning-abac60182022&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgenerating-spotify-playlists-with-unsupervised-learning-abac60182022&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgenerating-spotify-playlists-with-unsupervised-learning-abac60182022&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgenerating-spotify-playlists-with-unsupervised-learning-abac60182022&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----abac60182022--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----abac60182022--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@callumballard?source=post_page-----abac60182022--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@callumballard?source=post_page-----abac60182022--------------------------------", "anchor_text": "Callum Ballard"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3bcc53c95269&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgenerating-spotify-playlists-with-unsupervised-learning-abac60182022&user=Callum+Ballard&userId=3bcc53c95269&source=post_page-3bcc53c95269----abac60182022---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fabac60182022&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgenerating-spotify-playlists-with-unsupervised-learning-abac60182022&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fabac60182022&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgenerating-spotify-playlists-with-unsupervised-learning-abac60182022&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/music-by-numbers", "anchor_text": "Music By Numbers"}, {"url": "https://www.pexels.com/photo/black-cassette-tape-on-top-of-red-and-yellow-surface-1626481/", "anchor_text": "Stas Knop on Pexels"}, {"url": "https://towardsdatascience.com/tagged/music-by-numbers", "anchor_text": "this series"}, {"url": "https://towardsdatascience.com/analysing-the-greatest-show-on-earth-e234f611e110", "anchor_text": "previous blog"}, {"url": "https://developer.spotify.com/documentation/web-api/reference/tracks/get-audio-features/", "anchor_text": "musical qualities of any song"}, {"url": "https://towardsdatascience.com/analysing-the-greatest-show-on-earth-e234f611e110", "anchor_text": "previous blog"}, {"url": "https://en.wikipedia.org/wiki/Hierarchical_clustering#Agglomerative_clustering_example", "anchor_text": "Hierarchical Agglomerative Clustering"}, {"url": "https://scikit-learn.org/stable/modules/generated/sklearn.cluster.AgglomerativeClustering.html#sklearn.cluster.AgglomerativeClustering", "anchor_text": "HAC package"}, {"url": "https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html", "anchor_text": "standard-scale"}, {"url": "https://en.wikipedia.org/wiki/Dendrogram", "anchor_text": "Dendrogram"}, {"url": "https://towardsdatascience.com/tagged/music-by-numbers", "anchor_text": "Music By Numbers"}, {"url": "https://www.linkedin.com/in/callum-ballard/", "anchor_text": "LinkedIn"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----abac60182022---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/music-by-numbers?source=post_page-----abac60182022---------------music_by_numbers-----------------", "anchor_text": "Music By Numbers"}, {"url": "https://medium.com/tag/data-science?source=post_page-----abac60182022---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/music?source=post_page-----abac60182022---------------music-----------------", "anchor_text": "Music"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----abac60182022---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fabac60182022&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgenerating-spotify-playlists-with-unsupervised-learning-abac60182022&user=Callum+Ballard&userId=3bcc53c95269&source=-----abac60182022---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fabac60182022&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgenerating-spotify-playlists-with-unsupervised-learning-abac60182022&user=Callum+Ballard&userId=3bcc53c95269&source=-----abac60182022---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fabac60182022&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgenerating-spotify-playlists-with-unsupervised-learning-abac60182022&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----abac60182022--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fabac60182022&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgenerating-spotify-playlists-with-unsupervised-learning-abac60182022&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----abac60182022---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----abac60182022--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----abac60182022--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----abac60182022--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----abac60182022--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----abac60182022--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----abac60182022--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----abac60182022--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----abac60182022--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@callumballard?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@callumballard?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Callum Ballard"}, {"url": "https://medium.com/@callumballard/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3bcc53c95269&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgenerating-spotify-playlists-with-unsupervised-learning-abac60182022&user=Callum+Ballard&userId=3bcc53c95269&source=post_page-3bcc53c95269--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F107151aaecd0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgenerating-spotify-playlists-with-unsupervised-learning-abac60182022&newsletterV3=3bcc53c95269&newsletterV3Id=107151aaecd0&user=Callum+Ballard&userId=3bcc53c95269&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}