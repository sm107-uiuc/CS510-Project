{"url": "https://towardsdatascience.com/restricted-cubic-splines-c0617b07b9a5", "time": 1682995700.95225, "path": "towardsdatascience.com/restricted-cubic-splines-c0617b07b9a5/", "webpage": {"metadata": {"title": "Restricted cubic splines. A spline is a drafting tool for drawing\u2026 | by Peter Flom | Towards Data Science", "h1": "Restricted cubic splines", "description": "A spline is a drafting tool for drawing curves. In statistics, splines are a broad class of methods for transforming variables. I first introduce the concept via linear splines and work my way to\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/@peterflom/what-happens-when-we-categorize-an-independent-variable-in-regression-77d4c5862b6c", "anchor_text": "an earlier article I showed", "paragraph_index": 1}, {"url": "http://www.IAmLearningDisabled.com", "anchor_text": "www.IAmLearningDisabled.com", "paragraph_index": 10}], "all_paragraphs": ["A spline is a drafting tool for drawing curves. In statistics, splines are a broad class of methods for transforming variables. I first introduce the concept via linear splines and work my way to restricted cubic splines which is what I (and many others) recommend. You should be aware that there are a huge variety of splines and each has its proponents. The pathway is as follows:", "In an earlier article I showed that categorizing (which is the dummy variable method) isn\u2019t a good method. There are two basic problems with it: The relationship is flat within each segment and it jumps between segments. In spline terminology, letting a curve jump is called \u201cunrestricted\u201d. Step 2 gets rid of the flatness (but leaves us with straight lines that jump). Step 3 gets rid of the jumps (but keeps the straight lines). Step 4 lets the relationship in each section curve. The result is a very flexible curve that has no jumps. Restricted cubic splines (RCS) have many advantages but they have one big disadvantage: The resultant output is not always easy to interpret.", "Two aspects of splines that we have not touched on is the number of knots to allow and how to place them. Various proposals have been made, but Frank Harrell recommends using 4 knots if N < 100 and 5 for larger data sets and placing them at the 5th, 35th, 65th and 95th percentiles for k = 4 and the 5th, 27.5th, 50th, 72.5th and 95th for k = 5 (where k is the number of knots).", "All this may be clearer by example. I will start with a sine regression(as in my previous post) For comparison purposes, we should follow the above advice about knots for the dummy variable plot. This yields:", "The first step is to allow the lines between each not to have nonzero slope. Somewhat messy code (dammit Jim, I\u2019m a data analyst, not a programmer!) is:", "which is already a major improvement, but has jumps (one of them fairly large) and sudden shifts in direction that are probably as hard to justify as the jumps in the earlier model.", "Next, we can force the lines to match up with a restricted linear spline. There is already an R function for this, so the code is straightforward:", "The final step is to allow the lines within each segment to curve. We can do this with restricted cubic splines; again, there is an R package making this easy.", "which matches the original sine curve very well.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Word person. Math person. Learning disabled adult (www.IAmLearningDisabled.com). 2E."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc0617b07b9a5&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frestricted-cubic-splines-c0617b07b9a5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frestricted-cubic-splines-c0617b07b9a5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frestricted-cubic-splines-c0617b07b9a5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frestricted-cubic-splines-c0617b07b9a5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c0617b07b9a5--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c0617b07b9a5--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@peterflom?source=post_page-----c0617b07b9a5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@peterflom?source=post_page-----c0617b07b9a5--------------------------------", "anchor_text": "Peter Flom"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa92aac365169&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frestricted-cubic-splines-c0617b07b9a5&user=Peter+Flom&userId=a92aac365169&source=post_page-a92aac365169----c0617b07b9a5---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc0617b07b9a5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frestricted-cubic-splines-c0617b07b9a5&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc0617b07b9a5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frestricted-cubic-splines-c0617b07b9a5&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/@peterflom/what-happens-when-we-categorize-an-independent-variable-in-regression-77d4c5862b6c", "anchor_text": "an earlier article I showed"}, {"url": "https://medium.com/tag/statistics?source=post_page-----c0617b07b9a5---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/data-science?source=post_page-----c0617b07b9a5---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/regression?source=post_page-----c0617b07b9a5---------------regression-----------------", "anchor_text": "Regression"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc0617b07b9a5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frestricted-cubic-splines-c0617b07b9a5&user=Peter+Flom&userId=a92aac365169&source=-----c0617b07b9a5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc0617b07b9a5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frestricted-cubic-splines-c0617b07b9a5&user=Peter+Flom&userId=a92aac365169&source=-----c0617b07b9a5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc0617b07b9a5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frestricted-cubic-splines-c0617b07b9a5&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c0617b07b9a5--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc0617b07b9a5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frestricted-cubic-splines-c0617b07b9a5&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c0617b07b9a5---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c0617b07b9a5--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c0617b07b9a5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c0617b07b9a5--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c0617b07b9a5--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c0617b07b9a5--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c0617b07b9a5--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c0617b07b9a5--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c0617b07b9a5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@peterflom?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@peterflom?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Peter Flom"}, {"url": "https://medium.com/@peterflom/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.7K Followers"}, {"url": "http://www.IAmLearningDisabled.com", "anchor_text": "www.IAmLearningDisabled.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa92aac365169&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frestricted-cubic-splines-c0617b07b9a5&user=Peter+Flom&userId=a92aac365169&source=post_page-a92aac365169--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F1abc438cf575&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frestricted-cubic-splines-c0617b07b9a5&newsletterV3=a92aac365169&newsletterV3Id=1abc438cf575&user=Peter+Flom&userId=a92aac365169&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://www.barnesandnoble.com/w/screwed-up-somehow-but-not-stupid-life-with-a-learning-disability-peter-flom/1123213240?ean=9780692611692", "anchor_text": "Screwed Up Somehow but not Stupid: Life with a Learning Disability2016"}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}