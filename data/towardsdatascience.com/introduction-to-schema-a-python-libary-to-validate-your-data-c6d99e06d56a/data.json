{"url": "https://towardsdatascience.com/introduction-to-schema-a-python-libary-to-validate-your-data-c6d99e06d56a", "time": 1683014124.8631418, "path": "towardsdatascience.com/introduction-to-schema-a-python-libary-to-validate-your-data-c6d99e06d56a/", "webpage": {"metadata": {"title": "Introduction to Schema: A Python Libary to Validate your Data | by Khuyen Tran | Towards Data Science", "h1": "Introduction to Schema: A Python Libary to Validate your Data", "description": "Your script works with the training data, but when you use that script for a new but supposedly similar data, you run into an error. What is going on? That might be because the structure of your data\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/keleshev/schema", "anchor_text": "Schema", "paragraph_index": 5}, {"url": "https://towardsdatascience.com/how-to-create-fake-data-with-faker-a835e5b7a9d9", "anchor_text": "here", "paragraph_index": 6}, {"url": "https://github.com/khuyentran1401/Data-science/blob/master/data_science_tools/schema.ipynb", "anchor_text": "here", "paragraph_index": 39}, {"url": "https://github.com/keleshev/schema", "anchor_text": "doc", "paragraph_index": 40}, {"url": "https://www.linkedin.com/in/khuyen-tran-1ab926151/", "anchor_text": "LinkedIn", "paragraph_index": 41}, {"url": "https://twitter.com/KhuyenTran16", "anchor_text": "Twitter", "paragraph_index": 41}, {"url": "https://github.com/khuyentran1401/Data-science", "anchor_text": "this repo", "paragraph_index": 42}], "all_paragraphs": ["Your script works with the training data, but when you use that script for a new but supposedly similar data, you run into an error. What is going on? That might be because the structure of your data is not like what you expected.", "But it might be difficult for you to take a look at every row of your new data to find out where the problem could be. It can also be time-consuming to manually analyze your data every time the new data is used.", "It is even worse if your code does not throw any error but the data changes. As the result, the performance of your model might get worse because the data is different from what you expected.", "If we can write a test for functions with tools such as Pytest, is there a way to can write a test for data as well?", "We can do that with schema. This article will show you how to use schema in a variety of scenarios.", "Schema is a library for validating Python data structures.", "We will use faker to create data that is a list of dictionary. Faker is a Python library that enables us to create fake data with ease. I wrote about how to use faker here.", "Imagine this is data that presents the information about your friends.", "We can use schema to validate data types such as below.", "Since schema returns the output without throwing any error, we know that our data is valid.", "Let\u2019s see what happens if the data types are not like what we expect", "From the error, we know exactly which column and value of the data are different from what we expect. Thus, we can go back to the data to fix or delete that value.", "If all you care about is whether the data is valid or not, use", "This will return True if the data is as expected or False otherwise.", "But what if we don\u2019t care about the data types of all of the columns but just care about the value of some columns? We can specify that with str: object", "As you can see, we try to validate the data types of \u2018name\u2019, \u2018city\u2019, and \u2018favorite_temperature\u2019, while ignoring the data types of the rest of the features in our data.", "The data is valid because the data types of the 3 features specified are correct.", "What if we want to determine whether the data within a column satisfies a specific condition that is not relevant to data types such as the range of the values in a column?", "Schema allows you to use a function to specify the condition for your data.", "If we want to check whether the values in the \u2018closeness\u2019 column is between 1 and 5, we can use lambda like below", "As you can see, we specify n,the value in each row of the column \u2018closeness\u2019, to between 1 and 5 with lambda n: 1 <= n <=5. Neat!", "What if you want to make sure your \u2018closeness\u2019 column to be between 1 and 5 and the data type to be an integer?", "That is when And comes in handy", "While all the values are within 1 and 5, the data type is not a float. Because one of the conditions is not satisfied, the data is not valid", "If we want the data of column to be valid if either of the conditions is satisfied, we can use Or", "For example, if we want the city\u2019s name to contain either 1 or 2 words, we can use", "What if we want the data type of \u2018city\u2019 to be a string but the length can be either 1 or 2? Luckily, this could be handled easily by combining And and Or", "What if we don\u2019t have the detailed information about some of your friends?", "Since the \u2018detailed_info\u2019 of Samantha Cook is not available with all of your friends, we want to make this column optional. Schema allows us to set that condition with Optional", "Sometimes, we might also want to make sure a certain kind of data is not in our data, such as private information. We can specify which column is forbidden with Forbidden", "Now we are aware of the existence of the forbidden column every time schema throws an error!", "So far, schema has enabled us to perform many sophisticated validations in several lines of code. But in the real-life, we might deal with a more sophisticated data structure than the example above.", "Can we use it for data with a more complicated structure? Such as a dictionary within a dictionary? Yes we can", "We create another data that contains a nested dictionary", "Now we validate with a nested dictionary", "The syntax is straight forward! We just need to write another dictionary within the dictionary and specify the data type for each key.", "Not only can schema be used to validate data but also can be used to convert the data type if it happens not to be like what we expected!", "For example, we can convert string \u2018123\u2019 to integer 123 with Use(int)", "Congratulations! You have just learned how to validate and convert your data structures with schema. If you want your code to be reproducible, it is not only necessary to test for the code but also necessary to test your data. If you are looking for a way to validate your data, give this tool a try. It is not only helpful but also easy to use.", "Source code with more examples of schema could be found here.", "Check out the doc of schema if you want to find more ways to validate your data.", "I like to write about basic data science concepts and play with different algorithms and data science tools. You could connect with me on LinkedIn and Twitter.", "Star this repo if you want to check out the codes for all of the articles I have written. Follow me on Medium to stay informed with my latest data science articles like these:", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc6d99e06d56a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroduction-to-schema-a-python-libary-to-validate-your-data-c6d99e06d56a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroduction-to-schema-a-python-libary-to-validate-your-data-c6d99e06d56a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroduction-to-schema-a-python-libary-to-validate-your-data-c6d99e06d56a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroduction-to-schema-a-python-libary-to-validate-your-data-c6d99e06d56a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c6d99e06d56a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c6d99e06d56a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://khuyentran1476.medium.com/?source=post_page-----c6d99e06d56a--------------------------------", "anchor_text": ""}, {"url": "https://khuyentran1476.medium.com/?source=post_page-----c6d99e06d56a--------------------------------", "anchor_text": "Khuyen Tran"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F84a02493194a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroduction-to-schema-a-python-libary-to-validate-your-data-c6d99e06d56a&user=Khuyen+Tran&userId=84a02493194a&source=post_page-84a02493194a----c6d99e06d56a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc6d99e06d56a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroduction-to-schema-a-python-libary-to-validate-your-data-c6d99e06d56a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc6d99e06d56a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroduction-to-schema-a-python-libary-to-validate-your-data-c6d99e06d56a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@nonsapvisuals?utm_source=medium&utm_medium=referral", "anchor_text": "Nonsap Visuals"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://github.com/keleshev/schema", "anchor_text": "Schema"}, {"url": "https://towardsdatascience.com/how-to-create-fake-data-with-faker-a835e5b7a9d9", "anchor_text": "here"}, {"url": "https://github.com/khuyentran1401/Data-science/blob/master/data_science_tools/schema.ipynb", "anchor_text": "here"}, {"url": "https://github.com/keleshev/schema", "anchor_text": "doc"}, {"url": "https://www.linkedin.com/in/khuyen-tran-1ab926151/", "anchor_text": "LinkedIn"}, {"url": "https://twitter.com/KhuyenTran16", "anchor_text": "Twitter"}, {"url": "https://github.com/khuyentran1401/Data-science", "anchor_text": "this repo"}, {"url": "https://towardsdatascience.com/how-to-boost-your-efficiency-with-customized-code-snippets-on-vscode-8127781788d7", "anchor_text": "How to Boost Your Efficiency with Customized Code Snippets on VSCodeInstead of Reproducing for the Same Piece of Code, why not Save it for Future Use?towardsdatascience.com"}, {"url": "https://towardsdatascience.com/how-to-create-fake-data-with-faker-a835e5b7a9d9", "anchor_text": "How to Create Fake Data with FakerYou can either Collect Data or Create your Own Datatowardsdatascience.com"}, {"url": "https://towardsdatascience.com/how-to-create-and-view-interactive-cheatsheets-on-the-command-line-6578641039ff", "anchor_text": "How to Create and View Interactive Cheatsheets on the Command-lineStop Googling for Command-line. Save your Time with Cheat Insteadtowardsdatascience.com"}, {"url": "https://towardsdatascience.com/introduction-to-hydra-cc-a-powerful-framework-to-configure-your-data-science-projects-ed65713a53c6", "anchor_text": "Introduction to Hydra.cc: A Powerful Framework to Configure your Data Science ProjectsExperiment with Different Parameters and Models without Spending Hours Fixing your Code!towardsdatascience.com"}, {"url": "https://towardsdatascience.com/introduction-to-ibm-federated-learning-a-collaborative-approach-to-train-ml-models-on-private-data-2b4221c3839", "anchor_text": "Introduction to IBM Federated Learning: A Collaborative Approach to Train ML Models on Private DataHow to Keep the Data Secured while Training the Data from Different Sources?towardsdatascience.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----c6d99e06d56a---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----c6d99e06d56a---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----c6d99e06d56a---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/data-management?source=post_page-----c6d99e06d56a---------------data_management-----------------", "anchor_text": "Data Management"}, {"url": "https://medium.com/tag/data-analytics?source=post_page-----c6d99e06d56a---------------data_analytics-----------------", "anchor_text": "Data Analytics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc6d99e06d56a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroduction-to-schema-a-python-libary-to-validate-your-data-c6d99e06d56a&user=Khuyen+Tran&userId=84a02493194a&source=-----c6d99e06d56a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc6d99e06d56a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroduction-to-schema-a-python-libary-to-validate-your-data-c6d99e06d56a&user=Khuyen+Tran&userId=84a02493194a&source=-----c6d99e06d56a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc6d99e06d56a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroduction-to-schema-a-python-libary-to-validate-your-data-c6d99e06d56a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c6d99e06d56a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc6d99e06d56a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroduction-to-schema-a-python-libary-to-validate-your-data-c6d99e06d56a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c6d99e06d56a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c6d99e06d56a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c6d99e06d56a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c6d99e06d56a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c6d99e06d56a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c6d99e06d56a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c6d99e06d56a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c6d99e06d56a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c6d99e06d56a--------------------------------", "anchor_text": ""}, {"url": "https://khuyentran1476.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://khuyentran1476.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Khuyen Tran"}, {"url": "https://khuyentran1476.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "34K Followers"}, {"url": "https://mathdatasimplified.com", "anchor_text": "https://mathdatasimplified.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F84a02493194a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroduction-to-schema-a-python-libary-to-validate-your-data-c6d99e06d56a&user=Khuyen+Tran&userId=84a02493194a&source=post_page-84a02493194a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fde46523b7a77&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroduction-to-schema-a-python-libary-to-validate-your-data-c6d99e06d56a&newsletterV3=84a02493194a&newsletterV3Id=de46523b7a77&user=Khuyen+Tran&userId=84a02493194a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}