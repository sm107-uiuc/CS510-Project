{"url": "https://towardsdatascience.com/how-to-scale-python-on-every-major-cloud-provider-5e5df3e88274", "time": 1683007568.4513059, "path": "towardsdatascience.com/how-to-scale-python-on-every-major-cloud-provider-5e5df3e88274/", "webpage": {"metadata": {"title": "How to Scale Python on Every Major Cloud Provider | by Robert Nishihara | Towards Data Science", "h1": "How to Scale Python on Every Major Cloud Provider", "description": "Once you\u2019ve developed a Python application on your laptop and want to scale it up in the cloud (perhaps with more data or more GPUs), the next steps are unclear, and unless you have an infrastructure\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/pywren/pywren", "anchor_text": "Pywren", "paragraph_index": 0}, {"url": "http://ericjonas.com/", "anchor_text": "Eric Jonas,", "paragraph_index": 0}, {"url": "https://spark.apache.org/docs/latest/api/python/index.html", "anchor_text": "PySpark", "paragraph_index": 2}, {"url": "https://mpi4py.readthedocs.io/en/stable/", "anchor_text": "mpi4py", "paragraph_index": 2}, {"url": "http://www.celeryproject.org/", "anchor_text": "Celery", "paragraph_index": 2}, {"url": "https://uber.github.io/fiber/introduction/", "anchor_text": "Fiber", "paragraph_index": 3}, {"url": "https://eng.lyft.com/introducing-flyte-cloud-native-machine-learning-and-data-processing-platform-fb2bb3046a59", "anchor_text": "Flyte", "paragraph_index": 3}, {"url": "https://github.com/ray-project/ray", "anchor_text": "Ray", "paragraph_index": 4}, {"url": "https://docs.ray.io/en/master/autoscaling.html", "anchor_text": "Ray cluster launcher", "paragraph_index": 7}, {"url": "https://github.com/ray-project/ray/blob/master/python/ray/autoscaler/node_provider.py", "anchor_text": "NodeProvider class", "paragraph_index": 18}, {"url": "https://github.com/ray-project/ray/blob/master/python/ray/autoscaler/aws/node_provider.py", "anchor_text": "implementation for AWS", "paragraph_index": 18}], "all_paragraphs": ["In the words of Pywren creator Eric Jonas, \u201cThe cloud is too damn hard!\u201d", "Once you\u2019ve developed a Python application on your laptop and want to scale it up in the cloud (perhaps with more data or more GPUs), the next steps are unclear, and unless you have an infrastructure team that\u2019s already set it up for you, \u201cJust use kubernetes\u201d is not so simple.", "So you\u2019ll choose one of AWS, GCP, and Azure and navigate over to the management console to sift through instance types, security groups, spot prices, availability zones, instance limits, and so on. Once you\u2019ve got all of that sorted out and managed to rent some virtual machines, you\u2019ve still got to figure out how to actually run your application on them. How exactly does my Python script divide up the work across a 10 machine cluster? At this point, you may try to rewrite your application using PySpark or mpi4py or Celery.", "If that fails you\u2019ll build a brand new distributed system like Uber and Lyft recently did with Fiber and Flyte. In either case, you\u2019re either rewriting your application, building a new distributed system, or both. All to speed up your Python script in the cloud.", "We\u2019re going to walk through how to use Ray to launch clusters and scale Python on any of these cloud providers with just a few commands.", "Here it is in a diagram. Step 1 is to develop your Python application. This usually happens on your laptop, but you can do it in the cloud if you prefer. Step 2 is to launch a cluster on your cloud provider of choice. Step 3 is to run your application wherever you want (your laptop or in the cloud).", "Next, configure credentials for the cloud provider of your choice. You can skip this step if you\u2019re already set up to use your cloud provider from the command line.", "The Ray cluster launcher uses a config file that looks something like this", "Here you can specify everything including setup commands to run, instance types to use, files to rsync, autoscaling strategies, and so on.", "Fetch a slightly more complete example with additional configurable fields as follows.", "You\u2019ll need to make a few minor modifications to the above config files:", "Define a simple Python script that we want to scale up.", "You can run the example (actually a slightly more complete one) as follows.", "Now run the same script on a Ray cluster. These instructions are for AWS. To use Azure or GCP, simple replace aws-config.yaml with either azure-config.yaml or gcp-config.yaml in both lines.", "If it says there is only 1 node, then you may need to wait a little longer for the other nodes to start up.", "In this case, the 10,000 tasks were run across three machines.", "You can also connect to the cluster and poke around with one of the following commands.", "Don\u2019t forget to shutdown your cluster when you\u2019re done!", "Want to add support for a new cloud provider? Just extend the NodeProvider class, which usually takes 200\u2013300 lines of code. Take a look at the implementation for AWS.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5e5df3e88274&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-scale-python-on-every-major-cloud-provider-5e5df3e88274&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-scale-python-on-every-major-cloud-provider-5e5df3e88274&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-scale-python-on-every-major-cloud-provider-5e5df3e88274&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-scale-python-on-every-major-cloud-provider-5e5df3e88274&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5e5df3e88274--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5e5df3e88274--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@robertnishihara?source=post_page-----5e5df3e88274--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@robertnishihara?source=post_page-----5e5df3e88274--------------------------------", "anchor_text": "Robert Nishihara"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fff6b3bf101cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-scale-python-on-every-major-cloud-provider-5e5df3e88274&user=Robert+Nishihara&userId=ff6b3bf101cd&source=post_page-ff6b3bf101cd----5e5df3e88274---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5e5df3e88274&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-scale-python-on-every-major-cloud-provider-5e5df3e88274&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5e5df3e88274&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-scale-python-on-every-major-cloud-provider-5e5df3e88274&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/pywren/pywren", "anchor_text": "Pywren"}, {"url": "http://ericjonas.com/", "anchor_text": "Eric Jonas,"}, {"url": "https://spark.apache.org/docs/latest/api/python/index.html", "anchor_text": "PySpark"}, {"url": "https://mpi4py.readthedocs.io/en/stable/", "anchor_text": "mpi4py"}, {"url": "http://www.celeryproject.org/", "anchor_text": "Celery"}, {"url": "https://uber.github.io/fiber/introduction/", "anchor_text": "Fiber"}, {"url": "https://eng.lyft.com/introducing-flyte-cloud-native-machine-learning-and-data-processing-platform-fb2bb3046a59", "anchor_text": "Flyte"}, {"url": "https://github.com/ray-project/ray", "anchor_text": "Ray"}, {"url": "http://boto3.readthedocs.io/en/latest/guide/configuration.html", "anchor_text": "the boto docs"}, {"url": "https://cloud.google.com/docs/authentication/getting-started", "anchor_text": "docs"}, {"url": "https://docs.ray.io/en/master/autoscaling.html", "anchor_text": "Ray cluster launcher"}, {"url": "https://docs.ray.io/en/master/autoscaling.html", "anchor_text": "Ray cluster launcher"}, {"url": "https://gist.githubusercontent.com/robertnishihara/a9ce1d0d434cd52dd9b07eb57f4c3476/raw/dafd4c6bd26fe4599dc3c6b05e80789188b3e2e5/aws-config.yaml", "anchor_text": "https://gist.githubusercontent.com/robertnishihara/a9ce1d0d434cd52dd9b07eb57f4c3476/raw/dafd4c6bd26fe4599dc3c6b05e80789188b3e2e5/aws-config.yaml"}, {"url": "https://gist.githubusercontent.com/robertnishihara/a9ce1d0d434cd52dd9b07eb57f4c3476/raw/dafd4c6bd26fe4599dc3c6b05e80789188b3e2e5/azure-config.yaml", "anchor_text": "https://gist.githubusercontent.com/robertnishihara/a9ce1d0d434cd52dd9b07eb57f4c3476/raw/dafd4c6bd26fe4599dc3c6b05e80789188b3e2e5/azure-config.yaml"}, {"url": "https://gist.githubusercontent.com/robertnishihara/a9ce1d0d434cd52dd9b07eb57f4c3476/raw/1846cbf971d1cd708b3d29d9ae50ad882fbaac50/gcp-config.yaml", "anchor_text": "https://gist.githubusercontent.com/robertnishihara/a9ce1d0d434cd52dd9b07eb57f4c3476/raw/1846cbf971d1cd708b3d29d9ae50ad882fbaac50/gcp-config.yaml"}, {"url": "https://github.com/ray-project/ray", "anchor_text": "Ray"}, {"url": "https://gist.githubusercontent.com/robertnishihara/a9ce1d0d434cd52dd9b07eb57f4c3476/raw/4313660c0bd40f8bd909f70c1e0abc4be8584198/script.py", "anchor_text": "https://gist.githubusercontent.com/robertnishihara/a9ce1d0d434cd52dd9b07eb57f4c3476/raw/4313660c0bd40f8bd909f70c1e0abc4be8584198/script.py"}, {"url": "https://github.com/ray-project/ray/blob/master/python/ray/autoscaler/node_provider.py", "anchor_text": "NodeProvider class"}, {"url": "https://github.com/ray-project/ray/blob/master/python/ray/autoscaler/aws/node_provider.py", "anchor_text": "implementation for AWS"}, {"url": "https://docs.ray.io/en/master/autoscaling.html", "anchor_text": "Ray cluster launcher"}, {"url": "https://docs.ray.io/en/master/", "anchor_text": "documentation"}, {"url": "https://github.com/ray-project/ray", "anchor_text": "GitHub"}, {"url": "https://twitter.com/raydistributed", "anchor_text": "Twitter"}, {"url": "https://docs.ray.io/en/latest/raysgd/raysgd.html", "anchor_text": "machine learning training"}, {"url": "https://docs.ray.io/en/master/tune.html", "anchor_text": "hyperparameter tuning"}, {"url": "https://docs.ray.io/en/master/rayserve/overview.html", "anchor_text": "model serving"}, {"url": "https://docs.ray.io/en/master/rllib.html", "anchor_text": "reinforcement learning"}, {"url": "https://medium.com/distributed-computing-with-ray/how-to-scale-python-on-every-major-cloud-provider-12b3bde01208", "anchor_text": "here"}, {"url": "https://medium.com/tag/python?source=post_page-----5e5df3e88274---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/aws?source=post_page-----5e5df3e88274---------------aws-----------------", "anchor_text": "AWS"}, {"url": "https://medium.com/tag/azure?source=post_page-----5e5df3e88274---------------azure-----------------", "anchor_text": "Azure"}, {"url": "https://medium.com/tag/google-cloud-platform?source=post_page-----5e5df3e88274---------------google_cloud_platform-----------------", "anchor_text": "Google Cloud Platform"}, {"url": "https://medium.com/tag/cloud-computing?source=post_page-----5e5df3e88274---------------cloud_computing-----------------", "anchor_text": "Cloud Computing"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5e5df3e88274&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-scale-python-on-every-major-cloud-provider-5e5df3e88274&user=Robert+Nishihara&userId=ff6b3bf101cd&source=-----5e5df3e88274---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5e5df3e88274&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-scale-python-on-every-major-cloud-provider-5e5df3e88274&user=Robert+Nishihara&userId=ff6b3bf101cd&source=-----5e5df3e88274---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5e5df3e88274&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-scale-python-on-every-major-cloud-provider-5e5df3e88274&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5e5df3e88274--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5e5df3e88274&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-scale-python-on-every-major-cloud-provider-5e5df3e88274&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5e5df3e88274---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5e5df3e88274--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5e5df3e88274--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5e5df3e88274--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5e5df3e88274--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5e5df3e88274--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5e5df3e88274--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5e5df3e88274--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5e5df3e88274--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@robertnishihara?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@robertnishihara?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Robert Nishihara"}, {"url": "https://medium.com/@robertnishihara/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "422 Followers"}, {"url": "https://twitter.com/robertnishihara", "anchor_text": "https://twitter.com/robertnishihara"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fff6b3bf101cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-scale-python-on-every-major-cloud-provider-5e5df3e88274&user=Robert+Nishihara&userId=ff6b3bf101cd&source=post_page-ff6b3bf101cd--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F887029f3f520&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-scale-python-on-every-major-cloud-provider-5e5df3e88274&newsletterV3=ff6b3bf101cd&newsletterV3Id=887029f3f520&user=Robert+Nishihara&userId=ff6b3bf101cd&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}