{"url": "https://towardsdatascience.com/time-series-forecasting-with-arima-model-in-r-77f4e2ae7abb", "time": 1683007794.494081, "path": "towardsdatascience.com/time-series-forecasting-with-arima-model-in-r-77f4e2ae7abb/", "webpage": {"metadata": {"title": "ARIMA Model Time Series | Towards Data Science", "h1": "Time Series Forecasting with ARIMA Model in R", "description": "This article shows you how to analyze and forecast non-stationary time series data, especially on Indonesia's CO2 emission using ARIMA in R."}, "outgoing_paragraph_urls": [{"url": "https://edgar.jrc.ec.europa.eu/overview.php?v=CO2ts1990-2015", "anchor_text": "here", "paragraph_index": 3}], "all_paragraphs": ["Climate Change is real. What makes it worse is because of the human activities that are not environment friendly, in the example using fossil fuel for the vehicle, coal-powered generator, cement production, etc. One of the effects of these activities is increasing in temperature and depletion on the ozone layer.", "As we know, that developed countries, especially in Europe, are reducing the emission amount that contributes to climate change. If we visualize some European countries by their time series, it shows no significant growth on it and it has the same emission that is produced and even the amount decreases in some cases, especially on Russian Federation after USSR collapsed in 1991. It shows almost no significant growth on it.", "It is a different story when we look at developing countries. If we look at this plot from ASEAN countries, it shows a slightly linear growth from time to time. As you can see below,", "Based on this problem, this article will show you how to forecast the time-series data on CO2 emission from European Commission which you can get the data here using ARIMA model in R and the reason why we have to use the model.", "By analyze and forecast the production amount of emission, we will know how much the emission has been produced and also it is very useful to make what kind of policy to reduce its growth.", "This is different from my previous article that I\u2019ve made before where I forecast the CPI in Indonesia which is a stationary data. In this case, I will use Indonesia\u2019s CO2 emission to show you how to work on non-stationary data.", "But wait, what is the differences between stationary and non-stationary data?", "What makes the difference between stationary and non-stationary data is from the mean and the variance by time.", "The stationary data has a constant mean, variance, and correlation over time. While the non-stationary data has mean, variance, and correlation that changes over time.", "Still don\u2019t have any idea? Well, take a look at these visualizations:", "Recall my CPI plot above from my previous article, this is a stationary data. The reason why is that the CPI value doesn\u2019t not increasing over time or in other words, no trend exists over time whether it\u2019s increasing or not.", "Here is Malaysia\u2019s CO2 emission that has been produced over time. As we can see, it shows some linear trend on it. We can say, that the mean, variance, and correlation is increasing over time. That\u2019s why it\u2019s non-stationary data.", "I hope you can understand at least the differences between stationary and non-stationary time series data right now.", "Before we conduct the analysis, I will give you how do I work on this data. Here are the steps that I\u2019ve done:", "Before we build the model, we have to know the data first. How it looks, how different does the pattern from the other countries, and many more. I will describe what the data set really is and what the information contains on it.", "The data set represents the total amount of CO2 emission that has been produced from 1970 to 2015. It records the amount from all countries around the world. The CO2 amount that is recorded by the European Commission Joint Research Center is the emission that comes from fossil fuel use and industrial process use, such as cement production, chemical processes, non-energy use, and many more. This doesn\u2019t include biomass burning and the other agricultural-related activities, such as forest fires and agricultural waste burning.", "Because I\u2019ve already told you about some countries CO2 emissions, I will show you specifically on how Indonesia\u2019s CO2 emission is. Here it shows the visualization on it,", "As we can see here, it has a linear trend over time. This is a non-stationary data because the mean, variance, and correlation change over time. In 1970, the CO2 emission is just 30.066 kilotons and in 2015, the CO2 emission is 502.961 kilotons.", "That\u2019s a big change. Based on this data, we want to forecast using the ARIMA model to know what is the emission amount that will be produced years ahead if there are no changes in the government\u2019s policy.", "Because this is not a stationary time series, we have to find the differenced data with the previous value.", "If the differenced data has stationary properties, then it can be modelled using the ARMA model. Therefore, we can find which perfect lag for the model from it.", "To do that, we have to make the value as a time series object and then we look at the result of the time-series that is applied on diff function. Here is the code look like,", "And here is the visualization result from it,", "Based on this visualization, we can see that the differenced data has slightly more stationary properties to it and there\u2019s no trend on it. Therefore, we can use this differenced data to find which AR and MA parameters are good for our ARIMA model.", "To find which AR\u2019s and MA\u2019s parameter values that suit our ARIMA model, we can use ACF and PACF function to find which are the best value,", "Here is the function that we can visualize the ACF and PACF plot,", "Based on this plot, we know that the ACF and the PACF function have slightly tail off on it and it\u2019s not reaching 0\u2019s quickly. Because of that, we can assume that it will use parameter p with 1 and parameter q also with 1. Therefore, the ARMA model that suits is ARMA(1,1).", "To make the model becomes an ARIMA model, we just add another parameter, which is d that stands for the differences that are given to the data. With that, our ARIMA model will be ARIMA(1, 1, 1) where each parameter represents the p, d, and q. The p is AR model parameter, d is the amount of the differences that gives to the data, and q is the MA model parameter.", "The ARIMA(1, 1, 1) will be our model if there are no significant changes between the other model. In this case, we will try ARIMA(2, 1, 1) and ARIMA(1, 1, 2) to see if the parameter has a significant p-value on it.", "We can diagnose this model simply by using this function below,", "Here are the p-values for each parameters,", "As we can see here, the ARIMA(1,1,1) has a significant p-value on its parameters. Then, both models, ARIMA(1,1,2) and ARIMA(2,1,1), have a non-significant p-values on it. By changing its parameters doesn\u2019t have any effect on the model. Therefore, we can use ARIMA(1,1,1) model.", "After we chose the best model for the data, we have to diagnose one more thing, which is the residuals. Below are the residual analysis result from the sarima function,", "If we want to use this model, the residual must have a normal distribution to it and there is no correlation between each lag of its values. Based on this visualization, we can see that the residual don\u2019t have any significant autocorrelation to it as we can see from the ACF plot, most of the points also get aligned on the line as we can see from the Q-Q plot, and the Ljung-Box statistic p values doesn\u2019t cross the blue line. Therefore, we can use this model to do forecasting.", "If we want to do some forecasting, we can use sarima.for function to do it. Each parameter for this function consist of the data, what time ahead we want to forecast, and then set the p, d, and q parameter that represents our ARIMA model.", "In this example, we want to know what is the CO2 emission amount that will be produced for the next 35 years, and what is the amount of CO2 emission that is produced in 2050.", "Here is the function that is used to make a forecast,", "Here is the visualization from it,", "As we can see here, the black dot represents our data, and the red one represents the forecast result. As we can see here, the forecast result also shows the grey boundary between the red line. It basically indicates the standard error from the forecast result. The boundary doesn\u2019t have a large boundary on it, therefore the model has a good result to it.", "Based on the forecast result, we know that in 2050 the amount of CO2 emission that will produce around 904.186 kilotons. This is a huge amount of CO2 emission. Because of that, the government should think the policy on how to reduce the emission so it can fight the climate change and make our earth more livable and not broken because of our activities that consequences on earth\u2019s condition.", "In conclusion, the ARIMA model is a good model to make a forecasting on non-stationary time series data.", "I know, that the model is not perfect, but at least it gives you how the value is in the future. This is really important to know, especially if you are a policymaker, by know this result, you will know what kind of policy to make.", "I will close this article with this quote to remind us that,", "\u201cAll models are wrong, but some are useful\u201d \u2014 George Box", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F77f4e2ae7abb&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-forecasting-with-arima-model-in-r-77f4e2ae7abb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-forecasting-with-arima-model-in-r-77f4e2ae7abb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-forecasting-with-arima-model-in-r-77f4e2ae7abb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-forecasting-with-arima-model-in-r-77f4e2ae7abb&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----77f4e2ae7abb--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----77f4e2ae7abb--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@irfanalghani11?source=post_page-----77f4e2ae7abb--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@irfanalghani11?source=post_page-----77f4e2ae7abb--------------------------------", "anchor_text": "Irfan Alghani Khalid"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F44601cf05927&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-forecasting-with-arima-model-in-r-77f4e2ae7abb&user=Irfan+Alghani+Khalid&userId=44601cf05927&source=post_page-44601cf05927----77f4e2ae7abb---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F77f4e2ae7abb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-forecasting-with-arima-model-in-r-77f4e2ae7abb&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F77f4e2ae7abb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-forecasting-with-arima-model-in-r-77f4e2ae7abb&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@worldsbetweenlines?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Patrick Hendry"}, {"url": "https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://edgar.jrc.ec.europa.eu/overview.php?v=CO2ts1990-2015", "anchor_text": "here"}, {"url": "https://onlinelibrary.wiley.com/doi/abs/10.1111/jtsa.12508", "anchor_text": "Time Series: A Data Analysis Approach Using R"}, {"url": "https://otexts.com/fpp2/", "anchor_text": "Forecasting: principles and practice"}, {"url": "https://towardsdatascience.com/introduction-to-time-series-analysis-with-r-a2f97650baa3", "anchor_text": "Introduction to Time Series Analysis with RFrom Exploration, To Forecasting. Using consumer price index (CPI) data in Indonesia from December 2002 to April 2020towardsdatascience.com"}, {"url": "https://towardsdatascience.com/3-reasons-why-i-recommend-you-to-learn-python-first-8e72ed4a6c65", "anchor_text": "3 Reasons Why I Recommend You To Learn Python FirstIf you want to start on data science and not learn R firsttowardsdatascience.com"}, {"url": "https://towardsdatascience.com/greater-accuracy-does-not-mean-greater-machine-learning-model-performance-771222345e61", "anchor_text": "Greater Accuracy Does Not Mean Greater Machine Learning Model PerformanceWe can measure the performance of the machine learning model quantitatively, but it\u2019s not just accuracy, there\u2019s a lot\u2026towardsdatascience.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----77f4e2ae7abb---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----77f4e2ae7abb---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----77f4e2ae7abb---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/programming?source=post_page-----77f4e2ae7abb---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/statistics?source=post_page-----77f4e2ae7abb---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F77f4e2ae7abb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-forecasting-with-arima-model-in-r-77f4e2ae7abb&user=Irfan+Alghani+Khalid&userId=44601cf05927&source=-----77f4e2ae7abb---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F77f4e2ae7abb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-forecasting-with-arima-model-in-r-77f4e2ae7abb&user=Irfan+Alghani+Khalid&userId=44601cf05927&source=-----77f4e2ae7abb---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F77f4e2ae7abb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-forecasting-with-arima-model-in-r-77f4e2ae7abb&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----77f4e2ae7abb--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F77f4e2ae7abb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-forecasting-with-arima-model-in-r-77f4e2ae7abb&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----77f4e2ae7abb---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----77f4e2ae7abb--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----77f4e2ae7abb--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----77f4e2ae7abb--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----77f4e2ae7abb--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----77f4e2ae7abb--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----77f4e2ae7abb--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----77f4e2ae7abb--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----77f4e2ae7abb--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@irfanalghani11?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@irfanalghani11?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Irfan Alghani Khalid"}, {"url": "https://medium.com/@irfanalghani11/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.2K Followers"}, {"url": "https://www.linkedin.com/in/alghaniirfan/", "anchor_text": "https://www.linkedin.com/in/alghaniirfan/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F44601cf05927&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-forecasting-with-arima-model-in-r-77f4e2ae7abb&user=Irfan+Alghani+Khalid&userId=44601cf05927&source=post_page-44601cf05927--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F309de219c913&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftime-series-forecasting-with-arima-model-in-r-77f4e2ae7abb&newsletterV3=44601cf05927&newsletterV3Id=309de219c913&user=Irfan+Alghani+Khalid&userId=44601cf05927&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}