{"url": "https://towardsdatascience.com/conditional-selection-and-assignment-with-loc-in-pandas-2a5d17c7765b", "time": 1683017506.936843, "path": "towardsdatascience.com/conditional-selection-and-assignment-with-loc-in-pandas-2a5d17c7765b/", "webpage": {"metadata": {"title": "Conditional Selection and Assignment With .loc in Pandas | by Byron Dolon | Towards Data Science", "h1": "Conditional Selection and Assignment With .loc in Pandas", "description": "There are many different ways to select data in Pandas, but some methods work better than others. In this piece, we\u2019ll go over how to edit your DataFrames based on conditional statements using the\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/you-dont-always-have-to-loop-through-rows-in-pandas-22a970b347ac?sk=d7ce0f2f181ce52a88d07e6481f92e7d", "anchor_text": "this piece", "paragraph_index": 4}], "all_paragraphs": ["There are many different ways to select data in Pandas, but some methods work better than others. In this piece, we\u2019ll go over how to edit your DataFrames based on conditional statements using the .loc method.", "If you\u2019ve been working with Pandas for a while now, you may already have come across the dreaded \u201cSettingwithCopyWarning\u201d message when you run your code. It may seem scary at first (trust me, I\u2019ve been there), but all it\u2019s telling you is that you are probably trying to assign a value to a copy of a Pandas object when in reality you want to be editing the actual value.", "For some operations, you can get around this warning simply by adding the inplace=True parameter to whatever function you\u2019re running. When you\u2019re working with conditional selection, however, it\u2019s worth going over a few examples to understand how to make your changes stick properly.", "Examples in this piece will use some old Tesla stock price data from Yahoo Finance. Feel free to run the code below if you want to follow along. For more information on pd.read_html and df.sort_values, check out the links at the end of this piece.", "If you haven\u2019t worked with .loc in the past at all, check out this piece for some simple examples. Otherwise, let\u2019s dive straight in!", "First, let\u2019s just try to grab all rows in our DataFrame that match one condition. In this example, I\u2019d just like to get all the rows that occur after a certain date, so we\u2019ll run the following code below:", ".loc allows you to set a condition and the result will be a DataFrame that contains only the rows that match that condition. Now that we understand the basic syntax, let\u2019s move on to a slightly more interesting example.", "Now, we\u2019ll introduce the syntax that allows you to specify which columns you want .loc to return. In this case, we\u2019ll use the same conditional statement as before to filter out specific dates. However, our goal this time is to only select two columns (Date and Open) from the original DataFrame. To do so, we run the following code:", "As you can see, after the conditional statement .loc, we simply pass a list of the columns we would like to find in the original DataFrame. The resulting DataFrame gives us only the Date and Open columns for rows with a Date value greater than February 6, 2019.", "But what if we wanted to filter by multiple conditions? Let\u2019s keep going.", "If you have two or more conditions you would like to use to get a very specific subset of your data, .loc allows you to do that very easily. In our case, let\u2019s take the rows that not only occur after a specific date but also have an Open value greater than a specific value. To do so, we run the following:", "As you can see, we\u2019ve simply wrapped added another conditional by including the & sign to indicate that we want both conditions to be fulfilled (note that the | sign will also work for \u201cor\u201d). We\u2019ve also wrapped each conditional statement in parentheses for a clean look. The result is a very small subset of the original DataFrame with only the rows that meet our two conditions.", "Now that we\u2019ve gone over all the components, we\u2019re ready to make changes to our DataFrame!", "As mentioned before, there may be other ways to do this, but you might end up with a \u201cSettingwithCopyWarning\u201d if you\u2019re not careful. Using .loc to assign values will take care of this issue for you!", "We\u2019ll put together all the previous steps and edit our DataFrame so that rows that meet a condition that we set will be assigned a specific value. In this case, we\u2019ll create a new \u201cRemarkable\u201d column, which will include rows that either has a very high Volume or a positive Gain. To do so, we run the following code:", "For clarity, we put our conditional statements in a separate variable, which is used later in .loc. Then, we assign either True to the Remarkable column for all the rows that meet our conditional statements. We use the ~ symbol to find all the rows that don\u2019t meet our conditional statement and then assign False to the Remarkable column for those rows.", "I hope you found this useful in further understanding .loc and how you can use it to filter and edit your DataFrames in Pandas! This way, you\u2019ll also be safe from the \u201cSettingwithCopyWarning\u201d, because all we\u2019re doing is following the warning\u2019s instructions:", "Best of luck on your Pandas adventures!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Medium has become a place to store my \u201chow to do tech stuff\u201d type guides. Come check out my notes on data-related shenanigans!"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F2a5d17c7765b&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconditional-selection-and-assignment-with-loc-in-pandas-2a5d17c7765b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconditional-selection-and-assignment-with-loc-in-pandas-2a5d17c7765b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconditional-selection-and-assignment-with-loc-in-pandas-2a5d17c7765b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconditional-selection-and-assignment-with-loc-in-pandas-2a5d17c7765b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----2a5d17c7765b--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2a5d17c7765b--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://byrondolon.medium.com/?source=post_page-----2a5d17c7765b--------------------------------", "anchor_text": ""}, {"url": "https://byrondolon.medium.com/?source=post_page-----2a5d17c7765b--------------------------------", "anchor_text": "Byron Dolon"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6b5d063df5dd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconditional-selection-and-assignment-with-loc-in-pandas-2a5d17c7765b&user=Byron+Dolon&userId=6b5d063df5dd&source=post_page-6b5d063df5dd----2a5d17c7765b---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2a5d17c7765b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconditional-selection-and-assignment-with-loc-in-pandas-2a5d17c7765b&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2a5d17c7765b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconditional-selection-and-assignment-with-loc-in-pandas-2a5d17c7765b&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@lllllatiao?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Qinghong Shen"}, {"url": "https://unsplash.com/s/photos/pandas?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://finance.yahoo.com/quote/TSLA/history?period1=1546300800&period2=1550275200&interval=1d&filter=history&frequency=1d", "anchor_text": "https://finance.yahoo.com/quote/TSLA/history?period1=1546300800&period2=1550275200&interval=1d&filter=history&frequency=1d"}, {"url": "https://towardsdatascience.com/you-dont-always-have-to-loop-through-rows-in-pandas-22a970b347ac?sk=d7ce0f2f181ce52a88d07e6481f92e7d", "anchor_text": "this piece"}, {"url": "https://towardsdatascience.com/dont-miss-out-on-rolling-window-functions-in-pandas-850b817131db?sk=5e590d1c6b95a58f11f5f9ae93c2c867", "anchor_text": "Don\u2019t Miss Out on Rolling Window Functions in Pandas"}, {"url": "https://towardsdatascience.com/4-different-ways-to-efficiently-sort-a-pandas-dataframe-9aba423f12db?source=friends_link&sk=97821818c45f0bdbdbc8d341a14ecddd", "anchor_text": "4 Different Ways to Efficiently Sort a Pandas DataFrame"}, {"url": "https://towardsdatascience.com/top-4-repositories-on-github-to-learn-pandas-1008cb769f77?source=friends_link&sk=d3acc38062490a86ecb46875342224e6", "anchor_text": "Top 4 Repositories on GitHub to Learn Pandas"}, {"url": "https://towardsdatascience.com/how-to-quickly-create-and-unpack-lists-with-pandas-d0e78e487c75?source=friends_link&sk=32ea67b35fe90382dc719c1c78c5900c", "anchor_text": "How to Quickly Create and Unpack Lists with Pandas"}, {"url": "https://towardsdatascience.com/learning-to-forecast-effectively-with-tableau-in-6-minutes-or-less-3d77a55930a0?source=friends_link&sk=9abdfd7533ee9a31ab8a036413450059", "anchor_text": "Learning to Forecast With Tableau in 5 Minutes Or Less"}, {"url": "https://medium.com/tag/technology?source=post_page-----2a5d17c7765b---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/data-science?source=post_page-----2a5d17c7765b---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data?source=post_page-----2a5d17c7765b---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/python?source=post_page-----2a5d17c7765b---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----2a5d17c7765b---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2a5d17c7765b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconditional-selection-and-assignment-with-loc-in-pandas-2a5d17c7765b&user=Byron+Dolon&userId=6b5d063df5dd&source=-----2a5d17c7765b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2a5d17c7765b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconditional-selection-and-assignment-with-loc-in-pandas-2a5d17c7765b&user=Byron+Dolon&userId=6b5d063df5dd&source=-----2a5d17c7765b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2a5d17c7765b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconditional-selection-and-assignment-with-loc-in-pandas-2a5d17c7765b&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2a5d17c7765b--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F2a5d17c7765b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconditional-selection-and-assignment-with-loc-in-pandas-2a5d17c7765b&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----2a5d17c7765b---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----2a5d17c7765b--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----2a5d17c7765b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----2a5d17c7765b--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----2a5d17c7765b--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----2a5d17c7765b--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----2a5d17c7765b--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----2a5d17c7765b--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----2a5d17c7765b--------------------------------", "anchor_text": ""}, {"url": "https://byrondolon.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://byrondolon.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Byron Dolon"}, {"url": "https://byrondolon.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.2K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6b5d063df5dd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconditional-selection-and-assignment-with-loc-in-pandas-2a5d17c7765b&user=Byron+Dolon&userId=6b5d063df5dd&source=post_page-6b5d063df5dd--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb2ea4b269407&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fconditional-selection-and-assignment-with-loc-in-pandas-2a5d17c7765b&newsletterV3=6b5d063df5dd&newsletterV3Id=b2ea4b269407&user=Byron+Dolon&userId=6b5d063df5dd&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}