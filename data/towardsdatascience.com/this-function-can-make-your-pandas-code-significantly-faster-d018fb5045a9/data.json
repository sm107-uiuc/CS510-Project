{"url": "https://towardsdatascience.com/this-function-can-make-your-pandas-code-significantly-faster-d018fb5045a9", "time": 1683014136.08005, "path": "towardsdatascience.com/this-function-can-make-your-pandas-code-significantly-faster-d018fb5045a9/", "webpage": {"metadata": {"title": "This Function Can Make Your Pandas Code Significantly Faster | by Dario Rade\u010di\u0107 | Towards Data Science", "h1": "This Function Can Make Your Pandas Code Significantly Faster", "description": "Pandas is an awesome library, but it\u2019s not the fastest. There are ways of making it faster though, and that is by using the right tool for the right task. Today we\u2019ll explore one of these tools, and\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/@radecicdario/membership", "anchor_text": "Medium member", "paragraph_index": 19}, {"url": "http://betterdatascience.com", "anchor_text": "betterdatascience.com", "paragraph_index": 21}], "all_paragraphs": ["Pandas is an awesome library, but it\u2019s not the fastest. There are ways of making it faster though, and that is by using the right tool for the right task. Today we\u2019ll explore one of these tools, and it will make everyday tasks significantly faster.", "There\u2019s no point in making the introduction section any longer, so let\u2019s take a quick look at the article structure and proceed with the fun stuff. The article is split into several sections:", "So without much ado, let\u2019s get started!", "We\u2019ll need two libraries for the demonstration, and those are Numpy and Pandas. The dataset is completely made up and shows sales for 3 products on a particular date. Dates are split into 3 columns, just to make everything a bit harder and heavier for the computer.", "Nothing special here, but we have a decent amount of data \u2014 100K rows. Here\u2019s how the first couple of rows look like:", "We know how many items were sold on a particular day, but we don\u2019t know the unit price \u2014 so let\u2019s declare that quickly:", "Awesome! Here\u2019s what our end goal is (for every row):", "We also want to do this fast. There are multiple ways we can approach this problem, but only one of them is optimal.", "Let\u2019s explore what not to do before we announce the go-to approach for this type of task.", "We have quite a bit of work to do, as discussed in the previous section. That doesn\u2019t mean it should require a lot of time for the computer to finish. You\u2019d be surprised how quickly this can be done.", "But first, let\u2019s explore the worst of two options, and that is by using the iterrows function to iterate through DataFrame rows and perform calculations.", "So, we\u2019ve completed all of the tasks described in the previous sections, and it took almost 8 seconds to complete.", "You might think that it isn\u2019t that bad, but just wait until you see what we\u2019ll do next.", "If you think that iterrows is good, wait until you meet the itertuples. It\u2019s a similar function, used to iterate through DataFrame rows, but it does it so much faster.", "We\u2019ll perform the same task and compare the execution times. The itertuples works with, well, tuples, so we won\u2019t be able to access the DataFrame values using the bracket notation. That\u2019s the only difference.", "This took only 0.218 seconds to complete! That is a 35x decrease and is quite significant. Maybe not so much in this toy example, as 8 seconds isn\u2019t that much of a time to wait, but this scales easily to millions or tens of millions of rows.", "Remember \u2014 always use itertuples when performing tasks similar to this one.", "This is the second time I\u2019ve covered this topic, but this time the dataset and the problem tasks are much heavier for the computer and for the developer to code out, so I find it worth sharing.", "Don\u2019t take this 35x speed improvement as something guaranteed, as the results may vary, depending on the type of the task and your hardware. Nevertheless, iteruples should outperform iterrows every time. That\u2019s what matters.", "Loved the article? Become a Medium member to continue learning without limits. I\u2019ll receive a portion of your membership fee if you use the following link, with no extra cost to you.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist & Tech Writer | betterdatascience.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fd018fb5045a9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthis-function-can-make-your-pandas-code-significantly-faster-d018fb5045a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthis-function-can-make-your-pandas-code-significantly-faster-d018fb5045a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthis-function-can-make-your-pandas-code-significantly-faster-d018fb5045a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthis-function-can-make-your-pandas-code-significantly-faster-d018fb5045a9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----d018fb5045a9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d018fb5045a9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@radecicdario?source=post_page-----d018fb5045a9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@radecicdario?source=post_page-----d018fb5045a9--------------------------------", "anchor_text": "Dario Rade\u010di\u0107"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F689ba04bb8be&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthis-function-can-make-your-pandas-code-significantly-faster-d018fb5045a9&user=Dario+Rade%C4%8Di%C4%87&userId=689ba04bb8be&source=post_page-689ba04bb8be----d018fb5045a9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd018fb5045a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthis-function-can-make-your-pandas-code-significantly-faster-d018fb5045a9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd018fb5045a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthis-function-can-make-your-pandas-code-significantly-faster-d018fb5045a9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@lurm?utm_source=medium&utm_medium=referral", "anchor_text": "Adrien Converse"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://mailchi.mp/46a3d2989d9b/bdssubscribe", "anchor_text": "Join my private email list for more helpful insights."}, {"url": "https://medium.com/@radecicdario/membership", "anchor_text": "Medium member"}, {"url": "https://medium.com/@radecicdario/membership", "anchor_text": "Join Medium with my referral link - Dario Rade\u010di\u0107As a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026medium.com"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----d018fb5045a9---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/data-science?source=post_page-----d018fb5045a9---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----d018fb5045a9---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----d018fb5045a9---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/python?source=post_page-----d018fb5045a9---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd018fb5045a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthis-function-can-make-your-pandas-code-significantly-faster-d018fb5045a9&user=Dario+Rade%C4%8Di%C4%87&userId=689ba04bb8be&source=-----d018fb5045a9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd018fb5045a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthis-function-can-make-your-pandas-code-significantly-faster-d018fb5045a9&user=Dario+Rade%C4%8Di%C4%87&userId=689ba04bb8be&source=-----d018fb5045a9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd018fb5045a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthis-function-can-make-your-pandas-code-significantly-faster-d018fb5045a9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d018fb5045a9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fd018fb5045a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthis-function-can-make-your-pandas-code-significantly-faster-d018fb5045a9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----d018fb5045a9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----d018fb5045a9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----d018fb5045a9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----d018fb5045a9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----d018fb5045a9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----d018fb5045a9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----d018fb5045a9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----d018fb5045a9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----d018fb5045a9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@radecicdario?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@radecicdario?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Dario Rade\u010di\u0107"}, {"url": "https://medium.com/@radecicdario/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "39K Followers"}, {"url": "http://betterdatascience.com", "anchor_text": "betterdatascience.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F689ba04bb8be&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthis-function-can-make-your-pandas-code-significantly-faster-d018fb5045a9&user=Dario+Rade%C4%8Di%C4%87&userId=689ba04bb8be&source=post_page-689ba04bb8be--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F33e2fb82c727&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthis-function-can-make-your-pandas-code-significantly-faster-d018fb5045a9&newsletterV3=689ba04bb8be&newsletterV3Id=33e2fb82c727&user=Dario+Rade%C4%8Di%C4%87&userId=689ba04bb8be&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://amzn.to/400ZUtX", "anchor_text": "Machine Learning Automation with TPOT: Build, validate, and deploy fully automated machine learning models with Python2021"}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}