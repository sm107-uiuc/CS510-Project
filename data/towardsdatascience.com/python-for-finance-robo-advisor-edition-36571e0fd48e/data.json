{"url": "https://towardsdatascience.com/python-for-finance-robo-advisor-edition-36571e0fd48e", "time": 1682996005.8238919, "path": "towardsdatascience.com/python-for-finance-robo-advisor-edition-36571e0fd48e/", "webpage": {"metadata": {"title": "Python for Finance: Robo Advisor Edition | by Kevin Boller | Towards Data Science", "h1": "Python for Finance: Robo Advisor Edition", "description": "This post is the third installment in my series on leveraging Python for finance, specifically stock portfolio analyses. In part 1, I reviewed a Jupyter notebook with all of the code needed to\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/python-for-finance-stock-portfolio-analyses-6da4c3e61054", "anchor_text": "part 1", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/python-for-finance-dash-by-plotly-ccf84045b8be", "anchor_text": "part 2", "paragraph_index": 0}, {"url": "https://www.investopedia.com/terms/t/tsr.asp", "anchor_text": "total shareholder return", "paragraph_index": 2}, {"url": "https://www.nerdwallet.com/blog/investing/best-robo-advisors/", "anchor_text": "NerdWallet", "paragraph_index": 4}, {"url": "https://www.personalcapital.com/wealth-management/performance", "anchor_text": "Wealth Management performance page", "paragraph_index": 6}, {"url": "https://www.marketwatch.com/story/why-way-fewer-actively-managed-funds-beat-the-sp-than-we-thought-2017-04-24", "anchor_text": "link", "paragraph_index": 7}, {"url": "https://www.cnbc.com/2019/03/15/active-fund-managers-trail-the-sp-500-for-the-ninth-year-in-a-row-in-triumph-for-indexing.html", "anchor_text": "active fund managers trailed the S&P 500", "paragraph_index": 7}, {"url": "https://github.com/kdboller/pythonsp500-robo-advisor-edition", "anchor_text": "a repo on GitHub", "paragraph_index": 9}, {"url": "https://towardsdatascience.com/python-for-finance-stock-portfolio-analyses-6da4c3e61054", "anchor_text": "part 1", "paragraph_index": 10}, {"url": "https://towardsdatascience.com/python-for-finance-dash-by-plotly-ccf84045b8be", "anchor_text": "part 2", "paragraph_index": 10}, {"url": "https://towardsdatascience.com/python-for-finance-stock-portfolio-analyses-6da4c3e61054", "anchor_text": "here", "paragraph_index": 13}, {"url": "https://towardsdatascience.com/python-for-finance-stock-portfolio-analyses-6da4c3e61054", "anchor_text": "part 1", "paragraph_index": 13}, {"url": "https://towardsdatascience.com/python-for-finance-dash-by-plotly-ccf84045b8be", "anchor_text": "part 2\u2019s", "paragraph_index": 17}, {"url": "https://twitter.com/kevinboller", "anchor_text": "@kevinboller", "paragraph_index": 22}, {"url": "https://kdboller.github.io/", "anchor_text": "here", "paragraph_index": 22}], "all_paragraphs": ["This post is the third installment in my series on leveraging Python for finance, specifically stock portfolio analyses. In part 1, I reviewed a Jupyter notebook with all of the code needed to extract financial time series data from the Yahoo Finance API and create a rich dataframe for analyzing portfolio performance across individual tickers. The code also included a review of some key portfolio metrics with several visualizations created using the Plotly library. In part 2, I extended Part 1\u2019s analyses and visualizations by providing the code needed to take the data sets generated and visualize them in a Dash by Plotly (Dash) web app.", "In this series continuation, I will provide an overview of Robo Advisors and then share additional code and details on how to evaluate a diversified index strategy. This strategy can be used for several personal finance use cases, including as part of a holistic approach that combines ETFs with individual stocks and bonds. It could also be used to evaluate the efficacy of a Robo Advisor alongside a personally managed ETF strategy.", "Finally, one of the largest limitations from my initial approach was that the analyses did not account for dividends and compare total shareholder return. Total shareholder return is now incorporated \u2014 in my view, this is one of the largest gaps I\u2019ve seen in retail investor personal portfolio apps. It is extremely difficult to get an all-up view of portfolio performance, across investment timings and including earned dividends. My approach now accounts for both, which was a personal pain point that led me to solve this with my own product. I will continue to evolve this portfolio performance web app; and I\u2019ll share future updates to see if there is a broader market for this approach as a consumer-facing app.", "Disclosure: Nothing in this post should be considered investment advice. Past performance is not necessarily indicative of future returns. I am writing about generalized examples and show how to import data using pandas for a model portfolio. You should direct all investment related questions that you have to your financial advisor and perform your own due diligence on any investments mentioned in this post. Therefore, I assume no liability for any losses that may be sustained by the use of the method described in this post, and any such liability is hereby expressly disclaimed.", "Per NerdWallet, a robo-advisor is \u201can online, automated portfolio management service\u201d. Robo Advisors use algorithms, which are based on answers that the individual user inputs and drive investment selection for the individual based on her risk tolerance and investment horizon (aka, time to retirement and/or financial objectives). Robo Advisors offer much lower costs than traditional human financial advisory, with the tradeoff being that you generally do not have anyone to personally consult with regarding your financial objectives. Robo Advisors are typically best suited for passive investors, who are comfortable with someone else building and optimizing a personal portfolio, and who also do not have complex financial situations.", "Some of the major and most well-known Robo Advisors include Wealthfront, SoFi and Betterment. Personal Capital is another option in this space, although the company does not believe it should be classified as a Robo Advisor \u2014 this is because that Personal Capital combines a sophisticated budgeting and portfolio monitoring application with virtual human financial advisors. Personal Capital markets itself as a financial technology platform that can also advise higher net worth individuals and families who have more complicated financial situations.", "In this post, we will leverage a diversified ETF example that Personal Capital provides on its Wealth Management performance page. I believe this is informative because I respect Personal Capital\u2019s approach and they\u2019re very transparent with their performance relative to benchmarks.", "Over the years since I initially started investing, I\u2019ve focused more and more on making my investing strategy as boring as possible. This means that I\u2019ve subscribed to more of a passive investment strategy and I acknowledge that attempting to beat the market is extremely difficult. In Part 1 of this series, I noted that over the long-term 1 in 20 actively managed domestic funds beat index funds (link). Outperformance over a prolonged period is very difficult to maintain and previous outperformers tend to revert to the mean of benchmark performance over the long term. Further emphasizing this point, it was recently announced that, for the 9th year in a row, active fund managers trailed the S&P 500. Active managers, who previously claimed they would do better during periods of increased volatility, will have to go back to the drawing board once again.", "Given this, part of my focus is in a diversified ETF strategy \u2014 this employs high quality ETFs that have a very low-cost structure and provide diversification across asset classes. While I prefer my investment strategy to be as boring as possible, I continue to also invest in individual stocks that meet several investment criteria, including accelerating revenue growth, earnings outperformance and, ideally, the development of products that I personally love. Part 1 and Part 2 of this series cover in detail how to track individual stock performance relative to the S&P 500, which is similar to how we\u2019ll evaluate a diversified ETF strategy in this post.", "Setup. Similar to Parts 1 and 2, I created a repo on GitHub with all files and code required to create the final Dash dashboard. For this post, I will explain the following aspects of the code:", "The Jupyter notebook in the repo for this post has all the code needed from start to finish, but if you would like the full explanation on generating the portfolio data set, please refer to part 1. If you would like more detail on working with Anaconda, virtual environments, and working with Dash, please see the Getting Started section in part 2.", "As discussed at the end of Part 2, the limitations to the previous approach were i) it did not account for dividends, ii) it evaluated active positions and did not include previously divested ones, and iii) there were opportunities to automate the overall process by generating data pipelines that could feed into a live web application.", "In my view, not including dividends and being unable to evaluate total shareholder return (TSR) were the largest gaps; and the updated approach in this post evaluates TSR. I\u2019m less concerned with divested positions, because this evaluation is most useful for evaluating how well your strategy is performing and if there are positions you continue to hold that you probably should not, e.g., lagging benchmark and therefore representing both overall performance drag and opportunity cost in not holding a better investment. While I would like to fully automate this process, I\u2019ve de-prioritized that in favor of refining my overall strategy. If I do decide to pursue a fully automated approach, I\u2019ll decide if it merits a separate post.", "Target Allocation. For the code discussion, we\u2019ll review parts of the Jupyter notebook \u2014 an interactive version can be found here. If you would like details on the dataframe development and closing high evaluation, please review part 1. Below I\u2019ll highlight the primary addition to the dataframe development, which is understanding and comparing target allocation versus current allocation. In our model portfolio, we would like to have 50% of our investments allocated to VTI, which is a total stock index ETF for US equities. As prices change post investment, our allocation will shift away from 50% based on the movement of this asset, as well as the other assets in our model portfolio. For that reason, we should monitor this movement, e.g., quarterly, and adjust the assets held in order to get back to our target allocation. For example, if VTI increases above 50% and VEU dips below 25%, then we should sell down some of VTI and purchase more of VEU to get back to our targets (assuming you want your model portfolio\u2019s overall investment to remain neutral, which is similar to robo-advisor strategies). The below starts on line 32 and stops on line 36 in the notebook.", "Total Shareholder Return. Above line 54 in the notebook, you\u2019ll see a Dividends section. Here I\u2019ve gathered dividend data for each position, and you\u2019ll see in the notebook the URLs for the sites where you can gather dividend data. I\u2019ll be self-critical here and admit that this section of the code has some room for improvement. I\u2019ve investigated accessing Quandl\u2019s API to automate importing dividend data, but I decided for now that it was not worth paying for a subscription (dividend data is pay walled). I\u2019m also looking into developing a scraper for these sites; but for now, I\u2019m copying/pasting data from the sites into the Historical Dividends excel file and manually cleaning it up a bit. This is generally fine as dividends tend to be paid quarterly and the model portfolio only has 7 total positions. I definitely welcome any suggestions on how to improve this section of the code. Note, however you decide to aggregate dividend data, you should make sure that you only account for dividends where your acquisition date of the position is less than or equal to the Ex-Div Date (see function, from line 60, shown as the first code block below).", "The above code is the least elegant and the most in need of improvement, but it gets the job done for the time being.", "In line 74, you\u2019ll see some familiar calculations, as well as some new ones, in order to create the key metrics, we\u2019ll compare for each position relative to the SP500.", "Both of the below visualizations can be seen in the Jupyter notebook, as well as by running the Dashdashboard locally. For instructions on setting up Dash, please see part 2\u2019s Working with Dash section.", "Does this mean you have a poor model portfolio? In my view, no. Some reasons for this view include the following:", "I\u2019ve not found a service out there that replicates this type of analysis, which I believe is a valuable framework to make sure that you\u2019re properly investing your savings for retirement, or whatever your particular financial goal(s) may be. Almost all financial sites and online brokers that I\u2019ve seen show the capital return of assets, but they do not provide total shareholder return. TSR is very important in my mind \u2014 you could hold a position that modestly underperforms the SP500 but provides a larger yield and therefore might be a better holding at that time.", "A robo-advisor employs similar strategies to what we\u2019ve reviewed in this post, and robo-advisors automate all of this portfolio management, including portfolio re-balancing. But, every dollar you invest is subject to their fee structure versus your time in running a comparable strategy. Robo Advisors also provide tax efficient strategies, which this post does not cover but is another lever that helps in generating additional returns for your investment dollars. Either way, I hope that this post was a helpful intro to robo-advisors and provided a useful framework to consider as part of an overall diversified investment strategy.", "If you enjoyed this post, it would be awesome if you would click the \u201cclaps\u201d icon to let me know and to help increase circulation of my work.", "Feel free to also reach out to me on twitter, @kevinboller, and my personal blog can be found here. Thanks for reading!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Sports, data, digital media, fintech and analytics enthusiast. Lead Strategy/Corp Dev @FloSports ; prev product @PrimeVideo, live events and Blackstone."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F36571e0fd48e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-for-finance-robo-advisor-edition-36571e0fd48e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-for-finance-robo-advisor-edition-36571e0fd48e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-for-finance-robo-advisor-edition-36571e0fd48e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-for-finance-robo-advisor-edition-36571e0fd48e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----36571e0fd48e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----36571e0fd48e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@kevinboller?source=post_page-----36571e0fd48e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@kevinboller?source=post_page-----36571e0fd48e--------------------------------", "anchor_text": "Kevin Boller"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fad21d3b5b4fd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-for-finance-robo-advisor-edition-36571e0fd48e&user=Kevin+Boller&userId=ad21d3b5b4fd&source=post_page-ad21d3b5b4fd----36571e0fd48e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F36571e0fd48e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-for-finance-robo-advisor-edition-36571e0fd48e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F36571e0fd48e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-for-finance-robo-advisor-edition-36571e0fd48e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/python-for-finance-stock-portfolio-analyses-6da4c3e61054", "anchor_text": "part 1"}, {"url": "https://towardsdatascience.com/python-for-finance-dash-by-plotly-ccf84045b8be", "anchor_text": "part 2"}, {"url": "https://www.investopedia.com/terms/t/tsr.asp", "anchor_text": "total shareholder return"}, {"url": "https://www.nerdwallet.com/blog/investing/best-robo-advisors/", "anchor_text": "NerdWallet"}, {"url": "https://www.personalcapital.com/wealth-management/performance", "anchor_text": "Wealth Management performance page"}, {"url": "https://www.marketwatch.com/story/why-way-fewer-actively-managed-funds-beat-the-sp-than-we-thought-2017-04-24", "anchor_text": "link"}, {"url": "https://www.cnbc.com/2019/03/15/active-fund-managers-trail-the-sp-500-for-the-ninth-year-in-a-row-in-triumph-for-indexing.html", "anchor_text": "active fund managers trailed the S&P 500"}, {"url": "https://github.com/kdboller/pythonsp500-robo-advisor-edition", "anchor_text": "a repo on GitHub"}, {"url": "https://towardsdatascience.com/python-for-finance-stock-portfolio-analyses-6da4c3e61054", "anchor_text": "part 1"}, {"url": "https://towardsdatascience.com/python-for-finance-dash-by-plotly-ccf84045b8be", "anchor_text": "part 2"}, {"url": "https://towardsdatascience.com/python-for-finance-stock-portfolio-analyses-6da4c3e61054", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/python-for-finance-stock-portfolio-analyses-6da4c3e61054", "anchor_text": "part 1"}, {"url": "https://towardsdatascience.com/python-for-finance-dash-by-plotly-ccf84045b8be", "anchor_text": "part 2\u2019s"}, {"url": "https://twitter.com/kevinboller", "anchor_text": "@kevinboller"}, {"url": "https://kdboller.github.io/", "anchor_text": "here"}, {"url": "https://medium.com/tag/investing?source=post_page-----36571e0fd48e---------------investing-----------------", "anchor_text": "Investing"}, {"url": "https://medium.com/tag/python?source=post_page-----36571e0fd48e---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----36571e0fd48e---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----36571e0fd48e---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F36571e0fd48e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-for-finance-robo-advisor-edition-36571e0fd48e&user=Kevin+Boller&userId=ad21d3b5b4fd&source=-----36571e0fd48e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F36571e0fd48e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-for-finance-robo-advisor-edition-36571e0fd48e&user=Kevin+Boller&userId=ad21d3b5b4fd&source=-----36571e0fd48e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F36571e0fd48e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-for-finance-robo-advisor-edition-36571e0fd48e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----36571e0fd48e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F36571e0fd48e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-for-finance-robo-advisor-edition-36571e0fd48e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----36571e0fd48e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----36571e0fd48e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----36571e0fd48e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----36571e0fd48e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----36571e0fd48e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----36571e0fd48e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----36571e0fd48e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----36571e0fd48e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----36571e0fd48e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@kevinboller?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@kevinboller?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kevin Boller"}, {"url": "https://medium.com/@kevinboller/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fad21d3b5b4fd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-for-finance-robo-advisor-edition-36571e0fd48e&user=Kevin+Boller&userId=ad21d3b5b4fd&source=post_page-ad21d3b5b4fd--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb47297ab5eb4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-for-finance-robo-advisor-edition-36571e0fd48e&newsletterV3=ad21d3b5b4fd&newsletterV3Id=b47297ab5eb4&user=Kevin+Boller&userId=ad21d3b5b4fd&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}