{"url": "https://towardsdatascience.com/population-pyramid-animation-cfa7c1a79a63", "time": 1683002088.555091, "path": "towardsdatascience.com/population-pyramid-animation-cfa7c1a79a63/", "webpage": {"metadata": {"title": "Population Pyramid Animation. A short primer for gganimate in RStudio | by Siphu Langeni, MS | Towards Data Science", "h1": "Population Pyramid Animation", "description": "Visualization is an excellent way to show insights found in data. If a picture speaks a thousand words, an animation speaks a million. Used tastefully, an animation can very explicitly showcase some\u2026"}, "outgoing_paragraph_urls": [{"url": "https://databank.worldbank.org/", "anchor_text": "World Bank website", "paragraph_index": 3}, {"url": "https://github.com/SiphuLangeni/Population-Pyramid-Animation/blob/master/CAPop.csv", "anchor_text": "here", "paragraph_index": 3}, {"url": "https://github.com/SiphuLangeni/Population-Pyramid-Animation", "anchor_text": "GitHub repository", "paragraph_index": 14}, {"url": "https://www.linkedin.com/in/SiphuLangeni/", "anchor_text": "LinkedIn", "paragraph_index": 14}], "all_paragraphs": ["Visualization is an excellent way to show insights found in data. If a picture speaks a thousand words, an animation speaks a million. Used tastefully, an animation can very explicitly showcase some of the wealth of wisdom we have extracted from the data. In order for its true value to be noticed by decision makers, they must be able to internalize the information provided to them. We can help them connect by telling a more visually compelling story.", "In this short tutorial, I will show you how to make an animated population pyramid for Canada for the years 1960\u20132018 in RStudio. You may take what you learn and apply it to other animation projects. Let\u2019s get started!", "Let\u2019s begin by installing and loading the necessary packages.", "Population data for Canada was retrieved from the World Bank website\u00b9. The years spanned from 1960 to 2018. The dataframe was originally in the wide format and consisted of 34 records representing each age group and gender. The data was saved as a csv file and imported into the RStudio IDE. To follow along, you may download the dataset here.", "Much of the work went into preparing the data so that it could be used in the animation. The steps were as follows:", "After manipulating the data, we are left with 2006 rows and 4 columns. Let\u2019s take a peak to see what we are working with.", "Next, we create the animation in 3 distinct steps:", "Every animation begins with a single picture. First, establish what the plot will display by mapping variables to aesthetics. A population pyramid is a special kind of bar graph. It displays male and female populations on back-to-back x axes. If you remember, the male population values were made negative. This allows a \u201cmirror image\u201d of the two graphs displayed along the shared x axis. The facet_share function allows the bar graphs to be placed back to back. Insert the argument reverse_num = TRUE to get the correct scale since the graph on the left is essentially a backwards graph.", "To manipulate overall appearance of the plot, you may use themes. There are nine built-in themes to choose from and that may be a great place to start. I have chosen to create my own custom theme to manipulate the background, panels, borders, gridlines, tick marks and all element text. There are more than 90 arguments in theme( ) for maximum customization! As you can see, this gives a great deal of flexibility in determining the overall look of your animation. I have used only 17 of those arguments.", "Finally, I have added meaningful labels to make the visualization much easier for the viewer to understand. I want the animation to occur along the variable of time, so I want that change to reflect within the title. By using {closest_state}, the year of the state closest to the frame will be displayed.", "Next, use transition_states to determine the behavior of the animation. The transition should happen across time, Year in this case. The transition_length and state_length give a relative length of the the transition and state, respectively. In this example, this produces a 1:2 ratio. The ease_aes function describes how the tweening takes place between states.", "In this case, a gif file has been produced. Using gifski, you can fine-tune how the file is rendered. I have chosen 24 frames per second for smooth motion, 30 second total duration and 500x500 size.", "This may be a good moment to take a break. Depending on the parameters you have chosen for your animation, this step may take a long time to render. I try to keep all gifs 30 seconds or less if I plan to showcase them on GitHub as there seems to be a time limit for gifs on that platform.", "And there you have it: an animated population pyramid of Canada ranging from 1960 to 2018! We can see that the population of Canada is aging much more convincingly with the aid of animation.", "Thank you for taking the time to stop by. I hope you feel confident in creating your own animated visualizations. Full code can be viewed on my GitHub repository. Please feel free to connect with me on LinkedIn.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist | Machine Learning | Deep Learning"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fcfa7c1a79a63&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulation-pyramid-animation-cfa7c1a79a63&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulation-pyramid-animation-cfa7c1a79a63&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulation-pyramid-animation-cfa7c1a79a63&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulation-pyramid-animation-cfa7c1a79a63&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----cfa7c1a79a63--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cfa7c1a79a63--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@SiphuLangeni?source=post_page-----cfa7c1a79a63--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@SiphuLangeni?source=post_page-----cfa7c1a79a63--------------------------------", "anchor_text": "Siphu Langeni, MS"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8fcaa7871337&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulation-pyramid-animation-cfa7c1a79a63&user=Siphu+Langeni%2C+MS&userId=8fcaa7871337&source=post_page-8fcaa7871337----cfa7c1a79a63---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcfa7c1a79a63&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulation-pyramid-animation-cfa7c1a79a63&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcfa7c1a79a63&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulation-pyramid-animation-cfa7c1a79a63&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@chuttersnap?utm_source=medium&utm_medium=referral", "anchor_text": "CHUTTERSNAP"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://databank.worldbank.org/", "anchor_text": "World Bank website"}, {"url": "https://github.com/SiphuLangeni/Population-Pyramid-Animation/blob/master/CAPop.csv", "anchor_text": "here"}, {"url": "https://databank.worldbank.org%27/", "anchor_text": "https://databank.worldbank.org\u2019"}, {"url": "https://github.com/SiphuLangeni/Population-Pyramid-Animation", "anchor_text": "GitHub repository"}, {"url": "https://www.linkedin.com/in/SiphuLangeni/", "anchor_text": "LinkedIn"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----cfa7c1a79a63---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/data-science?source=post_page-----cfa7c1a79a63---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----cfa7c1a79a63---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/ggplot2?source=post_page-----cfa7c1a79a63---------------ggplot2-----------------", "anchor_text": "Ggplot2"}, {"url": "https://medium.com/tag/gganimate?source=post_page-----cfa7c1a79a63---------------gganimate-----------------", "anchor_text": "Gganimate"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcfa7c1a79a63&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulation-pyramid-animation-cfa7c1a79a63&user=Siphu+Langeni%2C+MS&userId=8fcaa7871337&source=-----cfa7c1a79a63---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcfa7c1a79a63&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulation-pyramid-animation-cfa7c1a79a63&user=Siphu+Langeni%2C+MS&userId=8fcaa7871337&source=-----cfa7c1a79a63---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcfa7c1a79a63&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulation-pyramid-animation-cfa7c1a79a63&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cfa7c1a79a63--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fcfa7c1a79a63&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulation-pyramid-animation-cfa7c1a79a63&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----cfa7c1a79a63---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----cfa7c1a79a63--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----cfa7c1a79a63--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----cfa7c1a79a63--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----cfa7c1a79a63--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----cfa7c1a79a63--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----cfa7c1a79a63--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----cfa7c1a79a63--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----cfa7c1a79a63--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@SiphuLangeni?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@SiphuLangeni?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Siphu Langeni, MS"}, {"url": "https://medium.com/@SiphuLangeni/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "131 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8fcaa7871337&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulation-pyramid-animation-cfa7c1a79a63&user=Siphu+Langeni%2C+MS&userId=8fcaa7871337&source=post_page-8fcaa7871337--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F284b4821a92b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopulation-pyramid-animation-cfa7c1a79a63&newsletterV3=8fcaa7871337&newsletterV3Id=284b4821a92b&user=Siphu+Langeni%2C+MS&userId=8fcaa7871337&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}