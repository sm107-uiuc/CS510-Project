{"url": "https://towardsdatascience.com/chat-images-to-textual-conversation-part-3-49cdee0f2c72", "time": 1683015286.840536, "path": "towardsdatascience.com/chat-images-to-textual-conversation-part-3-49cdee0f2c72/", "webpage": {"metadata": {"title": "Chat Images To Textual Conversation: Part 3 | by Avani Sharma | Towards Data Science", "h1": "Chat Images To Textual Conversation: Part 3", "description": "It feels good to be back with the final part of this project: \u201cChat Images to Textual Conversation\u201d. But before diving deep into this article I would recommend reading first two parts here: Chat\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/chat-images-to-textual-conversation-c44aadef59fe", "anchor_text": "Chat Recognition", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/chat-images-to-textual-conversation-part-2-8260c09a032e", "anchor_text": "Emoji Detection", "paragraph_index": 0}, {"url": "https://medium.com/u/bd8d094402aa?source=post_page-----49cdee0f2c72--------------------------------", "anchor_text": "Akshat Sharma", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/chat-images-to-textual-conversation-part-2-8260c09a032e", "anchor_text": "Step 2 in Emoji Detection", "paragraph_index": 4}, {"url": "https://towardsdatascience.com/chat-images-to-textual-conversation-part-2-8260c09a032e", "anchor_text": "Part 2", "paragraph_index": 7}, {"url": "https://towardsdatascience.com/chat-images-to-textual-conversation-part-2-8260c09a032e", "anchor_text": "Part 2 at the end", "paragraph_index": 10}, {"url": "https://appstore.com/messagink", "anchor_text": "ios", "paragraph_index": 13}, {"url": "https://play.google.com/store/apps/details?id=com.messagink.messagink", "anchor_text": "android", "paragraph_index": 13}], "all_paragraphs": ["It feels good to be back with the final part of this project: \u201cChat Images to Textual Conversation\u201d. But before diving deep into this article I would recommend reading first two parts here: Chat Recognition (Part 1)and Emoji Detection (Part 2)respectively.", "I would like to thanks Akshat Sharma for all contributions in this project.", "Now let\u2019s look at our objectives and then we will look into the approach I used to achieve them:", "First step is identifying if image is Dark mode or Light mode. For this we use a very simple technique of finding the average pixel value for chat image and if image is greater than threshold then we mark it as \u2018Light\u2019 otherwise \u2018Dark\u2019. For our usecase we are using threshold value as 127.", "Now for second step we know that tesseract detects black text on white background with 100% accuracy, however it fails mercilessly while detecting white text on black background. We used an easy trick in our pipeline which masks the current image after Intensity Manipulation in 2nd blog (Step 2 in Emoji Detection) if image is \u2018dark\u2019.", "Most of the noise the was appearing in output was because tesseract was recognizing emojis, blue ticks, timestamps as some special characters such as @, #, W, Y, (, $. Timestamps are already handled in Chat Recognition (Part 1) using regex to strip off matching part at the end of line.", "When tesseract detects the text in chat images it also detects the blue tick and draws a bounding box around it, however the area of the bounding box is very small compared to the area of other bounding boxes. Hence we just calculate the area of each bounding box and just ignore if it\u2019s less than threshold. The threshold we are using for chat images is scaled according to image size and we are setting it as", "The next step was removing the noise due to emojis, We already have another method to detect emojis in Part 2, so here we do not want tesseract to detect emojis. Basically we can just make emojis undetectable in the image and then feed to tesseract. We use a very simple technique to implement this idea.", "While doing Emoji Detection in Part 2 we already found the bounding boxes around emojis. For light mode images we just filled those emoji bounding boxes with white color and used black color for dark mode images. This technique prevented tesseract from detecting any special characters for emojis present in image.", "Below is the output after the implementing above idea. The dark mode is not very accurate as it missed 2 hearts, but still performance is pretty good.", "And thus finally we had noise removed from chat images and finally output was quite smooth. Below is the output from the images in Part 2 at the end. And now you can see the improvement in the below output with no unnecessary characters which were earlier appearing mostly towards the end of text lines.", "That\u2019s all for Chat Images to Textual Conversation. Hope you enjoyed reading my blogs.", "You can try latest feature for importing chat images into textual stories by using Import button available in the editor on Messagink website by clicking below link:", "You can also try the feature in the editor available in Messagink\u2019s app (ios, android)", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Machine Learning / Sequence Modelling / Data Science Enthusiast, MSCS from University of Utah (2018), Software Engineer @ Goldman Sachs"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F49cdee0f2c72&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchat-images-to-textual-conversation-part-3-49cdee0f2c72&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchat-images-to-textual-conversation-part-3-49cdee0f2c72&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchat-images-to-textual-conversation-part-3-49cdee0f2c72&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchat-images-to-textual-conversation-part-3-49cdee0f2c72&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----49cdee0f2c72--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----49cdee0f2c72--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://avaninith.medium.com/?source=post_page-----49cdee0f2c72--------------------------------", "anchor_text": ""}, {"url": "https://avaninith.medium.com/?source=post_page-----49cdee0f2c72--------------------------------", "anchor_text": "Avani Sharma"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F65c1fd6e51fb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchat-images-to-textual-conversation-part-3-49cdee0f2c72&user=Avani+Sharma&userId=65c1fd6e51fb&source=post_page-65c1fd6e51fb----49cdee0f2c72---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F49cdee0f2c72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchat-images-to-textual-conversation-part-3-49cdee0f2c72&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F49cdee0f2c72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchat-images-to-textual-conversation-part-3-49cdee0f2c72&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@walling?utm_source=medium&utm_medium=referral", "anchor_text": "Walling"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/chat-images-to-textual-conversation-c44aadef59fe", "anchor_text": "Chat Recognition"}, {"url": "https://towardsdatascience.com/chat-images-to-textual-conversation-part-2-8260c09a032e", "anchor_text": "Emoji Detection"}, {"url": "https://medium.com/u/bd8d094402aa?source=post_page-----49cdee0f2c72--------------------------------", "anchor_text": "Akshat Sharma"}, {"url": "https://towardsdatascience.com/chat-images-to-textual-conversation-part-2-8260c09a032e", "anchor_text": "Step 2 in Emoji Detection"}, {"url": "https://towardsdatascience.com/chat-images-to-textual-conversation-part-2-8260c09a032e", "anchor_text": "Emoji Detection Blog"}, {"url": "https://towardsdatascience.com/chat-images-to-textual-conversation-part-2-8260c09a032e", "anchor_text": "Part 2"}, {"url": "https://towardsdatascience.com/chat-images-to-textual-conversation-part-2-8260c09a032e", "anchor_text": "Part 2 at the end"}, {"url": "https://towardsdatascience.com/chat-images-to-textual-conversation-part-2-8260c09a032e", "anchor_text": "part 2"}, {"url": "https://messagink.com/editor/new", "anchor_text": "Messagink - discover text storiesRead conversations and text stories in your favourite genre. Write your own text stories for free.messagink.com"}, {"url": "https://appstore.com/messagink", "anchor_text": "ios"}, {"url": "https://play.google.com/store/apps/details?id=com.messagink.messagink", "anchor_text": "android"}, {"url": "https://medium.com/tag/ai?source=post_page-----49cdee0f2c72---------------ai-----------------", "anchor_text": "AI"}, {"url": "https://medium.com/tag/computer-vision?source=post_page-----49cdee0f2c72---------------computer_vision-----------------", "anchor_text": "Computer Vision"}, {"url": "https://medium.com/tag/noise-removal?source=post_page-----49cdee0f2c72---------------noise_removal-----------------", "anchor_text": "Noise Removal"}, {"url": "https://medium.com/tag/dark-mode?source=post_page-----49cdee0f2c72---------------dark_mode-----------------", "anchor_text": "Dark Mode"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----49cdee0f2c72---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F49cdee0f2c72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchat-images-to-textual-conversation-part-3-49cdee0f2c72&user=Avani+Sharma&userId=65c1fd6e51fb&source=-----49cdee0f2c72---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F49cdee0f2c72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchat-images-to-textual-conversation-part-3-49cdee0f2c72&user=Avani+Sharma&userId=65c1fd6e51fb&source=-----49cdee0f2c72---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F49cdee0f2c72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchat-images-to-textual-conversation-part-3-49cdee0f2c72&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----49cdee0f2c72--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F49cdee0f2c72&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchat-images-to-textual-conversation-part-3-49cdee0f2c72&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----49cdee0f2c72---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----49cdee0f2c72--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----49cdee0f2c72--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----49cdee0f2c72--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----49cdee0f2c72--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----49cdee0f2c72--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----49cdee0f2c72--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----49cdee0f2c72--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----49cdee0f2c72--------------------------------", "anchor_text": ""}, {"url": "https://avaninith.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://avaninith.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Avani Sharma"}, {"url": "https://avaninith.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "12 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F65c1fd6e51fb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchat-images-to-textual-conversation-part-3-49cdee0f2c72&user=Avani+Sharma&userId=65c1fd6e51fb&source=post_page-65c1fd6e51fb--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fc98e63f1f65d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchat-images-to-textual-conversation-part-3-49cdee0f2c72&newsletterV3=65c1fd6e51fb&newsletterV3Id=c98e63f1f65d&user=Avani+Sharma&userId=65c1fd6e51fb&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}