{"url": "https://towardsdatascience.com/treemaps-why-and-how-cfb1e1c863e8", "time": 1683014726.011818, "path": "towardsdatascience.com/treemaps-why-and-how-cfb1e1c863e8/", "webpage": {"metadata": {"title": "Treemaps, Why and How. Storytelling with Treemaps | by Dar\u00edo Weitz | Towards Data Science", "h1": "Treemaps, Why and How", "description": "Gradually but relentlessly, the number of files on the hard disks went from tens to hundreds, and from hundreds to thousands. Similarly, the number of folders and directories increased almost\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Leviathan", "anchor_text": "Leviathan.", "paragraph_index": 0}, {"url": "https://medium.com/@dar.wtz", "anchor_text": "https://medium.com/@dar.wtz", "paragraph_index": 17}], "all_paragraphs": ["Gradually but relentlessly, the number of files on the hard disks went from tens to hundreds, and from hundreds to thousands. Similarly, the number of folders and directories increased almost exponentially. It was essential to find some diagram that would allow a relatively simple way to visualize the contents of the new Leviathan.", "The solution came from the inventiveness of Ben Shneiderman, professor of Computer Science at the University of Maryland and creator of the Human-Computer Interaction Lab (HCIL). He was looking for \u201ca compact visualization of directory tree structures\u201d (#1). It was evident that the structure of the directories corresponded to a hierarchical tree scheme, but the existing diagrams were very bulky, and therefore inefficient. In his own words: \u201cTree structured node-link diagrams grew too large to be useful, so I explored ways to show a tree in a space-constrained layout\u201d (#2).", "The final result was a diagram called Treemap. The unexpected was that its current applications greatly exceeded the original purpose.", "WHY: a Treemap is a rectangle-based visualization that allows you to represent a hierarchically-ordered (tree-structured) set of data. The conceptual idea is to compare quantities and show patterns of some hierarchical structure in a physically restricted space. For that purpose, rectangles of different sizes and colors are used to display the dataset from different perspectives. The goal is not to indicate the exact numerical values, but to \u201cbreak\u201d the dataset into its constituent parts and quickly identify its larger and smaller components.", "They are also used to indicate rankings, differences between parts, and relative proportions in non-hierarchical \u201cflat\u201d structures. In that sense, they are considered an alternative to traditional pie charts, which are often used to visualize \u201cPart to Whole\u201d relationships. The big difference with pie charts is that Treemaps allow you to compare the parts that make up the whole in a scheme of nested rectangles in a relatively small space. An advantage over pie charts is that they can include tens or hundreds of parts in a structure that may or may not be hierarchical.", "The efficient use of physical space and the intelligent color management make them an exceptional tool to visualize a significant volume of information in a wide variety of business analytical applications, as well as in financial, commercial, governmental, electoral, and similar fields: Standard and Poor\u2019s 500 Index; Merval (Buenos Aires Stock Exchange); Election results by province or state; Exports by region, country or sector; Sales by product division; etc. The following Treemap shows Jamaica\u2019s exports in 2017 separated by sector (agriculture, oil, chemicals, minerals, etc.) (#3).", "For the reasons previously indicated, Treemaps are one of the visual elements most employed in Business Intelligence (BI) presentations, although they should not be used when the objective of the visualization is to make exact comparisons between the components of the dataset.", "HOW: they are composed of a series of nested rectangles (tiles) whose areas are proportional to the data they represent. The larger rectangles (higher levels of the hierarchy) indicate the root or main branches of the data tree, and are subdivided into smaller rectangles that indicate the sizes of the nodes (lower levels of the hierarchy) that each branch of the tree has. The numerical values of the data set should be positive and correspond to the areas of the rectangles.", "An intelligent use of color allows new dimensions to be incorporated into the diagram. The usual procedure is to use color in the different rectangles to indicate a second categorical or quantitative value. Therefore, a ranking is indicated by the changes in the intensity of a single color; different positive and negative quantitative values are displayed by the changes in the intensity of two colors. The following diagram shows values over and below a threshold ranked with different intensities of two colors.", "From the above, it can be deduced that an appropriate use of color allows us to use Treemaps to represent losses, drops in sales, or other non-positive values. Always referred to a second quantitative value not represented by the area of the rectangle.", "The following Treemap shows the S&P 500 (#4). It is an index or collection of 500 widely held stocks on the New York Stock Exchange (NYSE) and NASDAQ. The size of the rectangles indicates the relative size of each company in the index. Different colors and different color intensities show graduations of positive, negative, and \u201cneutral\u201d results for a particular day: very bright red indicates a big shift downward, and very bright green indicates a big shift upwards. Undoubtedly, a Treemap is the most appropriate visualization for the enormous volume of the information displayed in that relatively small space.", "Several algorithms allow you to display hierarchical data through nested figures in the shape of colored rectangles: Squarified, Slice and Dice, and Stripped. Squarified is the most implemented algorithm by commercial data visualization tools. It is based on a strategy that seeks to make each block as square as possible to facilitate comparison between them. It also tries to arrange the successive members of the data set (blocks, tiles) in a decreasing manner from the top left to the bottom right of the diagram. Finally, the algorithm has a good visual presentation on desktops, notebooks, and cell phones.", "Some precautions to take into account when telling a story with Treemaps:", "Of course, it is important to know Stephen Few\u2019s opinion on the subject: \u201cWhen conventional graphs, such as bar graphs, cannot be used because there are too many items to represent as bars in a single graph or even a series of graphs on a single screen, Treemaps solve the problem by making optimal use of screen space. Because they rely on pre-attentive attributes to encode values (area and color) that we can\u2019t compare precisely, we reserve such methods for circumstances when other more precise visualizations cannot be used, or precision isn\u2019t necessary.\u201d (#5).", "As indicated by The Python Graph Gallery (#6), \u201cthe dataviz possibilities are quite poor\u201d. To draw a Treemap with Python you must import the Squarify library (pip install squarify) and use the squarify.plot function indicating values, labels, colors, and transparency through the alpha attribute. The resulting diagrams are quite limited when compared to those generated by some commercial tools.", "A better alternative is to use Plotly through the treemap instruction whose syntax is much superior to its Squarify equivalent. In addition to indicating values, labels, and colors, the treemap syntax in plotly.express includes the path parameter, which allows you to define the hierarchy of the sectors from the root to the branches (#7).", "A Treemap diagram is an appropriate type of visualization when the data set is structured in a hierarchical order with a tree layout with roots, branches, and nodes. It allows us to show information about an important amount of data in a very efficient way in a limited space. The main purpose of the visualization is to make non-accurate comparisons between different levels of the hierarchy. They are also used for a \u201cpart of a whole\u201d analysis with non-hierarchical data. They should not be used to draw accurate conclusions, with negative quantitative data, or when numerical differences do not allow for proper comparison.", "If you find this article of interest, please read my previous (https://medium.com/@dar.wtz):", "Gauge & Bullet Charts, Why & How, Storytelling with Gauges", "#5. \u2014 Stephen Few, 2009, \u201cNow You See It: Simple Visualization Techniques for Quantitative Analysis\u201c, Analytics Press; 1st edition (April 1, 2009)", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "+280K Views Engineer, Ms. Sc., Former Associate Professor at Ing. en Sist. de Inf., Fac. Reg. Rosario, Univ. Tecnol. Nacional, Argentina. Data Viz Consultant."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fcfb1e1c863e8&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftreemaps-why-and-how-cfb1e1c863e8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftreemaps-why-and-how-cfb1e1c863e8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftreemaps-why-and-how-cfb1e1c863e8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftreemaps-why-and-how-cfb1e1c863e8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----cfb1e1c863e8--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cfb1e1c863e8--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@dar.wtz?source=post_page-----cfb1e1c863e8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dar.wtz?source=post_page-----cfb1e1c863e8--------------------------------", "anchor_text": "Dar\u00edo Weitz"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7fb26b001728&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftreemaps-why-and-how-cfb1e1c863e8&user=Dar%C3%ADo+Weitz&userId=7fb26b001728&source=post_page-7fb26b001728----cfb1e1c863e8---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcfb1e1c863e8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftreemaps-why-and-how-cfb1e1c863e8&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcfb1e1c863e8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftreemaps-why-and-how-cfb1e1c863e8&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://en.wikipedia.org/wiki/Leviathan", "anchor_text": "Leviathan."}, {"url": "https://medium.com/@dar.wtz", "anchor_text": "https://medium.com/@dar.wtz"}, {"url": "https://towardsdatascience.com/mekko-charts-f38311c576e2", "anchor_text": "Mekko ChartsWhy & Howtowardsdatascience.com"}, {"url": "https://towardsdatascience.com/gauge-bullet-charts-cfe171ca3094", "anchor_text": "Gauge & Bullet ChartsWhy & How, Storytelling with Gaugestowardsdatascience.com"}, {"url": "https://doi.org/10.1145%2F102377.115768", "anchor_text": "doi:10.1145/102377.115768"}, {"url": "http://www.perceptualedge.com/articles/b-eye/treemaps.pdf", "anchor_text": "http://www.perceptualedge.com/articles/b-eye/treemaps.pdf"}, {"url": "https://commons.wikimedia.org/wiki/File:Jamaica_Export_Treemap.jpg", "anchor_text": "https://commons.wikimedia.org/wiki/File:Jamaica_Export_Treemap.jpg"}, {"url": "https://www.mergersandinquisitions.com/what-is-the-sp-500/", "anchor_text": "https://www.mergersandinquisitions.com/what-is-the-sp-500/"}, {"url": "https://python-graph-gallery.com/treemap/", "anchor_text": "https://python-graph-gallery.com/treemap/"}, {"url": "https://plotly.com/python-api-reference/generated/plotly.express.treemap.html", "anchor_text": "https://plotly.com/python-api-reference/generated/plotly.express.treemap.html"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----cfb1e1c863e8---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/data-science?source=post_page-----cfb1e1c863e8---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/storytelling?source=post_page-----cfb1e1c863e8---------------storytelling-----------------", "anchor_text": "Storytelling"}, {"url": "https://medium.com/tag/python?source=post_page-----cfb1e1c863e8---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/trees?source=post_page-----cfb1e1c863e8---------------trees-----------------", "anchor_text": "Trees"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcfb1e1c863e8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftreemaps-why-and-how-cfb1e1c863e8&user=Dar%C3%ADo+Weitz&userId=7fb26b001728&source=-----cfb1e1c863e8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcfb1e1c863e8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftreemaps-why-and-how-cfb1e1c863e8&user=Dar%C3%ADo+Weitz&userId=7fb26b001728&source=-----cfb1e1c863e8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcfb1e1c863e8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftreemaps-why-and-how-cfb1e1c863e8&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cfb1e1c863e8--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fcfb1e1c863e8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftreemaps-why-and-how-cfb1e1c863e8&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----cfb1e1c863e8---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----cfb1e1c863e8--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----cfb1e1c863e8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----cfb1e1c863e8--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----cfb1e1c863e8--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----cfb1e1c863e8--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----cfb1e1c863e8--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----cfb1e1c863e8--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----cfb1e1c863e8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dar.wtz?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dar.wtz?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Dar\u00edo Weitz"}, {"url": "https://medium.com/@dar.wtz/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "542 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7fb26b001728&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftreemaps-why-and-how-cfb1e1c863e8&user=Dar%C3%ADo+Weitz&userId=7fb26b001728&source=post_page-7fb26b001728--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F50ee60bd4b2f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftreemaps-why-and-how-cfb1e1c863e8&newsletterV3=7fb26b001728&newsletterV3Id=50ee60bd4b2f&user=Dar%C3%ADo+Weitz&userId=7fb26b001728&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}