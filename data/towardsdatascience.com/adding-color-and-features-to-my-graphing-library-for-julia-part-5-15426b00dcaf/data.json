{"url": "https://towardsdatascience.com/adding-color-and-features-to-my-graphing-library-for-julia-part-5-15426b00dcaf", "time": 1683006547.248619, "path": "towardsdatascience.com/adding-color-and-features-to-my-graphing-library-for-julia-part-5-15426b00dcaf/", "webpage": {"metadata": {"title": "Adding Color And Features To My Graphing Library For Julia (Part 5) | by Emma Boudreau | Towards Data Science", "h1": "Adding Color And Features To My Graphing Library For Julia (Part 5)", "description": "In my last article, I left my code with a few obvious issues, most notably the inability to change the color of any particular objects inside of the composition independently. This was a big flaw, as\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/adding-julias-polymorphic-dispatch-to-my-plotting-library-part-4-1446e924774f", "anchor_text": "Part 4 (links to the other parts are available here!)", "paragraph_index": 0}], "all_paragraphs": ["Part 4 (links to the other parts are available here!)", "In my last article, I left my code with a few obvious issues, most notably the inability to change the color of any particular objects inside of the composition independently. This was a big flaw, as it meant that I was hindered by the lack of color for differentiating between different data, and it also meant that the shapes that are parsed had the same stroke as the two axis\u2019s did, which of course was certainly not optimal. I did, however, manage to get Julia\u2019s dispatch working for DataFrames and Arrays simultaneously with the same user command.", "Fixing this stroke issue is something I have been dreading for a bit, because it will be a decent bit of work, but no work is too much whenever an optimal improvement is on the horizon!", "As I have likely explained before, this issue is caused by all of our objects being drawn on the same context, and will be solved by making a new context within the composition. Here is an example of a composition with two contexts:", "This is where the introspect() method is going to come into handy. If we introspect this composition we can clearly see both of our contexts:", "The tan dots are the context points, followed by their respective shapes, R and C with the blue squares, and the red triangles represent properties that are applied to the objects within that particular context, for this example the red triangle represents the fill() method. Let\u2019s start simply by first getting a different color between the axis and the points in our original _arrayscatter() function. The first thing I\u2019m going to do is add the string code for a new context for the axis lines:", "And the second context after that line is for our incoming data. To finish this function off, I need to add a second set of parenthesis to the end of the expression to close the context as well as the compose method. I also took the liberty of moving those two one-line for loops into the other loops, something I have been stalling on for no particular reason.", "This one won\u2019t be quite as simple as the array scatter function because this time we are going to need to add multiple contexts iteratively inside of the parsing zip loop.", "The first thing we\u2019re going to do different is in that first line, we are not going to make a context for the new shapes coming in since we have to iterate through the different arrays and shapes anyway. Instead we will just add a comma.", "Down here inside of the zip loop there just needs to be a context before, and a parenthesis and comma after the expression added for the new shapes. Moving on, we need to add a stroke to our shapes that are being parsed for a bit more customization. In the future, I will likely also add stroke width. This is done the same exact way that the fill was added originally.", "I also added a default for this parameter so that we can have a stroke without asking for a stroke, which is pretty neat. Now plotting that out:", "Now let\u2019s test the other function, _dfscatter(). First I\u2019m going to make an extra-large DataFrame with a bunch of different arrays.", "And then I\u2019ll make a new array that will contain our shapes for the function to accept:", "Just for fun, let\u2019s take a look at the tree for this one!", "There must be a lot to this one, because clearly something has gone wrong with introspect!", "In the last article I added a new shape, the Rectangle object, but in this one, I have a desire to take it up a notch with a grid. I had a few different thoughts about interesting ways to make a custom grid, but it occurred to me that some other things I plan to implement will make a lot of my ideas possible without the need for custom grids. So what I decided to do instead is allow the user to put in a certain number of divisions. What we can do to process the number of divisions is simply divide one by the number, for example if 4 were our number then we would get the number .25. Here\u2019s how that translates into Julia:", "Next, we need a total amount for an upcoming loop that we can use to create our lines. This will, of course, be zero for now. We will also need to create a context just as we normally would.", "As you might expect, the next thing we need is a loop to populate all of the lines in our grid. For this, I chose a while loop. What we can do is create a while loop for the condition where the total is less than one and add our division percentage to the number each time we go through the loop. We can use this number for both positioning as well as capping off the loop at a certain range. This is what I came up with:", "Note that the X line\u2019s positions are actually being changed on the Y axis, but are being cast across the X axis, hence why the X coordinates are 0 percent and 100 percent. In our four example, I talked about earlier where our division size is 25 percent, or the float .25, we would add the division amount (.25) to the total, then draw a line across that position on the Y axis to 100 percent of the X axis. After that, the expression would be added and the loop would start again with our total now adding to .5, and so on until the loop is broken by the lines being greater than or equal to 100 percent of the canvas.", "Next, we\u2019ll repeat the same for the Y. After that we will add them all together just as we have with all of the other functions for a final product that looks something like this:", "There is one thing left to do which is add our type return to the bottom, along with our update method to return a tag.", "To test it out, we\u2019ll just add the tag to the beginning of our array scatter function.", "Oddly enough, this returned a parse error because of the regular expression \\\u201d used in the Line object\u2026 This is odd because the _arrayscatter() function works fine using the same exact object with the same exact expression, so this one has me a little stumped. As you can see I did also print out the expression, and the expression looks perfect, so I am really uncertain what the issue could be. Though this might be a rather significant hiccup, I\u2019m certain we can solve it in the next article, but for now let\u2019s move on to", "This is something interesting I have definitely wanted to add. This will open the door for expansions to be made for Hone that use custom meta information to execute commands. While this might sound terrifyingly insecure, it\u2019s important to remember that the syntax must fit within the bounds of context and its syntax because Julia still needs to parse the code. Additionally, I don\u2019t think anyone should be worried about a vulnerability in a plotting module that will likely primarily be used inside of a notebook. This will be easy enough to add by just modifying the parameters of our scatter functions to include it and place it into the expression prior to the coordinate parsing:", "The good news is that the coordinate parsers and the dispatch are both working very well, and actually performing even better. The bad news is that I failed to create a grid due to this odd regular expression issue. The last thing I touched on is actually something I am really excited for. Custom tagging will allow a user to customize their own extensions and share them, and it\u2019s the plotting software equivalent of including a map editor in a video-game. I will most certainly be making demonstrations of this in the future!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F15426b00dcaf&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-color-and-features-to-my-graphing-library-for-julia-part-5-15426b00dcaf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-color-and-features-to-my-graphing-library-for-julia-part-5-15426b00dcaf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-color-and-features-to-my-graphing-library-for-julia-part-5-15426b00dcaf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-color-and-features-to-my-graphing-library-for-julia-part-5-15426b00dcaf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----15426b00dcaf--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----15426b00dcaf--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://emmettgb.medium.com/?source=post_page-----15426b00dcaf--------------------------------", "anchor_text": ""}, {"url": "https://emmettgb.medium.com/?source=post_page-----15426b00dcaf--------------------------------", "anchor_text": "Emma Boudreau"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fea170050148c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-color-and-features-to-my-graphing-library-for-julia-part-5-15426b00dcaf&user=Emma+Boudreau&userId=ea170050148c&source=post_page-ea170050148c----15426b00dcaf---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F15426b00dcaf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-color-and-features-to-my-graphing-library-for-julia-part-5-15426b00dcaf&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F15426b00dcaf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-color-and-features-to-my-graphing-library-for-julia-part-5-15426b00dcaf&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/adding-julias-polymorphic-dispatch-to-my-plotting-library-part-4-1446e924774f", "anchor_text": "Part 4 (links to the other parts are available here!)"}, {"url": "https://github.com/emmettgb/Emmetts-DS-NoteBooks/blob/master/Julia/Adding%20more%20features%20and%20fixing%20Contexts%20in%20Hone.ipynb", "anchor_text": "Notebook"}, {"url": "https://medium.com/tag/julia?source=post_page-----15426b00dcaf---------------julia-----------------", "anchor_text": "Julia"}, {"url": "https://medium.com/tag/programming?source=post_page-----15426b00dcaf---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F15426b00dcaf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-color-and-features-to-my-graphing-library-for-julia-part-5-15426b00dcaf&user=Emma+Boudreau&userId=ea170050148c&source=-----15426b00dcaf---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F15426b00dcaf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-color-and-features-to-my-graphing-library-for-julia-part-5-15426b00dcaf&user=Emma+Boudreau&userId=ea170050148c&source=-----15426b00dcaf---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F15426b00dcaf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-color-and-features-to-my-graphing-library-for-julia-part-5-15426b00dcaf&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----15426b00dcaf--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F15426b00dcaf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-color-and-features-to-my-graphing-library-for-julia-part-5-15426b00dcaf&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----15426b00dcaf---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----15426b00dcaf--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----15426b00dcaf--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----15426b00dcaf--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----15426b00dcaf--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----15426b00dcaf--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----15426b00dcaf--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----15426b00dcaf--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----15426b00dcaf--------------------------------", "anchor_text": ""}, {"url": "https://emmettgb.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://emmettgb.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Emma Boudreau"}, {"url": "https://emmettgb.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "4.6K Followers"}, {"url": "https://twitter.com/emmettboudgie", "anchor_text": "https://twitter.com/emmettboudgie"}, {"url": "https://github.com/emmettgb", "anchor_text": "https://github.com/emmettgb"}, {"url": "https://ems.computer/", "anchor_text": "https://ems.computer/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fea170050148c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-color-and-features-to-my-graphing-library-for-julia-part-5-15426b00dcaf&user=Emma+Boudreau&userId=ea170050148c&source=post_page-ea170050148c--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff16bf42bb45f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadding-color-and-features-to-my-graphing-library-for-julia-part-5-15426b00dcaf&newsletterV3=ea170050148c&newsletterV3Id=f16bf42bb45f&user=Emma+Boudreau&userId=ea170050148c&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}