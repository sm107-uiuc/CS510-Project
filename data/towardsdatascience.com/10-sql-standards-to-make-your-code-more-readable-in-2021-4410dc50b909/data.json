{"url": "https://towardsdatascience.com/10-sql-standards-to-make-your-code-more-readable-in-2021-4410dc50b909", "time": 1683017554.569396, "path": "towardsdatascience.com/10-sql-standards-to-make-your-code-more-readable-in-2021-4410dc50b909/", "webpage": {"metadata": {"title": "SQL naming standards | Towards Data Science", "h1": "10 SQL standards to make your code more readable in 2021", "description": "SQL naming standards and SQL formatting standards for databases like BigQuery."}, "outgoing_paragraph_urls": [{"url": "https://www.ancoris.com/solutions/data_analytics_ai", "anchor_text": "Ancoris Data, Analytics & AI", "paragraph_index": 54}], "all_paragraphs": ["This is my 20th year working with SQL (eek!), and I\u2019ve shared my 10 key learnings to help make sure your SQL code is easy to read, debug, and maintain.", "The key to success is, of course, to enforce these (or your own standards) across your Enterprise. Tip 10 discusses how you can do this.", "So, in no particular order, let\u2019s begin.", "If I was given \u00a31 every time I saw something like this, I think I\u2019d be sitting on a tidy sum:", "First, choose a case for your SQL keywords. Historically, these tended to be uppercase, but I have seen a gradual movement to lowercase, and I actually prefer this. Having keywords in lowercase is quicker to type, and easier to read.", "No, it\u2019s not an exotic lunch menu! And yes, kebab-case is a thing!", "Decide on your case for naming tables, columns, variables, etc. Your options are:", "camelCase (all words following the first word have title case, no separator)", "PascalCase (all words in title case, no separator)", "The choice is very much a personal one here, and you may risk decent in the ranks if you claim one is better than the other. But, consistency is key.", "This is another thing I often see, and causes me some internal distress (last line):", "Agree on a standard. Personally I find commas at the end of the line easier to read. However, the \u201cleading commas camp\u201d may argue it makes shifting lines up and down easier (moving the last line up means adding a comma to the end).", "Now my internal peace is restored (at least on the last line):", "Again, make this a standard and stick to it. I prefer single quotes, I feel they are easier to read:", "Make a standard for formatting your select clause \u2014 this may sound trivial, but trust me, once your codebase grows you will be thankful you did it.", "Here are my personal formatting rules I enforce:", "This one I feel really strongly about, and it makes SQL so much easier to read.", "Astute readers will note there is no alias for title. My reasoning here, is I prefer to only alias a column if the name is changing.", "Also, note the formatting of the case statement. I prefer this layout, as it allows the column alias to line up. Also, nested case statements are much easier to read.", "Sometimes, if case statements are complex, or follow each other like this, I put line breaks in. I think it just helps with readability:", "This is potentially an article in itself, but for column names, as well as consistent case and layout, I also use these standards:", "I prefix with is_ Here is our is_valid in our example:", "I also prefer 1 and 0 to Y and N. It makes aggregation a lot easier.", "To help consumers know a column is a date, datetime, or timestamp, I suffix columns like this:", "For timezones (which can cause a lot of confusion), I tend to suffix with _utc to signify they are UTC time.", "These I like to suffix with _count and _amount, again just to help consumers. With these standards, names then should be very clear:", "Another rule I feel strongly about is the consistent use of table aliases. We want to avoid this:", "Note using table aliases (the \u2018e\u2019 and \u2018s\u2019 in bold) when referencing columns, makes it difficult to know which tables columns are from. For example:", "Are these referencing the employee or salary tables? The same applies, in fact, to all columns in the select clause.", "Also, note the lack of the as keyword in the table alias:", "Enforcing table alias standards makes this SQL statement a lot clearer to read and easier to modify if needed:", "Try to avoid overly large, single blocks of SQL. Instead, use CTEs (or temp tables if these are not available on your database platform) to divide up complexity into smaller blocks. This is good practice because:", "To format CTEs, this is nice and readable:", "Avoid select * (this applies to all code). Instead, you should list all columns explicitly. Select * makes code hard to maintain (you have to know the structure of the source tables) and also opens up the risk of breakages, should additional columns be added to source tables.", "So, using our lunary CTE as an example, instead of this:", "Again, another contentious topic here, and I don\u2019t think there is a right or wrong answer; although many data modelling purists will tell otherwise! (hint, singular).", "But again, make sure you agree on a standard and stick to it.", "Our penultimate tip \u2014 make sure you bring consistency into your table names. For example, when working with dimensional data models, I always prefix dimensions with dim_ and facts with fact_. Anything meta related, is suffixed with meta_ and so on\u2026", "Poor table naming can really hurt the organisation of data, and make it very difficult for people to find.", "And this applies to column names too. In fact, longer names have a real advantage in that it can self-document your SQL code.", "Let\u2019s take the lunar example again.", "Some would fall off their chair at seeing such a long column name. But, I would argue this is very effective at documenting exactly what is going on.", "Now, of course, should this logic change \u2014 \u201cHouston, we have a problem\u2026\u201d.", "So apply some judgment with this rule. In my case, lunar cycles are going to be with us for a while.", "The first step is to review and document with your team, a set of SQL standards. This document should form the baseline for all future SQL development. Note this should cover formatting and naming, but not necessarily best practices (e.g. avoid views on views) \u2014 these are often better described in a separate document.", "Many of you will have an existing SQL code base that of course, won\u2019t adhere to your new standards. That\u2019s ok. You may wish to completely leave this alone, or, perhaps if at any point a SQL script is modified, perhaps part of that change involves ensuring it applies to standards.", "Table and column naming is more difficult to change retrospectively, another reason to put these SQL standards in early. You could consider a layer of views that apply renaming \u2014 so at least consumers have a consistent experience.", "This is the relatively easy part. You should already be doing peer code reviews, so make sure reviewers are well aware of your SQL standards (and best practices) documents. Have this part of the review.", "You may consider automating the process \u2014 for example having scripts that interrogate database metatables and verify your standards. For example, I remember during my years at Goldman Sachs, they did exactly that. Hunting out, and alerting on, select * occurrences, as an example.", "Another option (again Goldman used this) was in data modelling tools such as Erwin, or IBM DataSphere, write macros to enforce your standards. These can easily check for things like column formatting, index naming, etc. The aim is to catch it early before it ever even hits a database.", "I have presented 9 SQL standards that you may want to adopt, or should at least consider, together with a final tip for how to put them into place.", "Of course, I have merely presented my own preferences in this article, and your standards will no doubt be different. They may extend to other areas (standard comment headers in views, for example), or fewer areas should you wish to be less prescriptive. But it should lead to a healthy debate, at the very least, and hopefully a set of standards for your team or organisation.", "I can\u2019t emphasise how much easier database code is to maintain when these standards are properly defined and enforced. It also discourages \u201csloppy\u201d, or rushed code, that can quickly descend into a series of hacks, tape, and glue.", "(that includes data scientists, analysts, or anybody in fact, who is writing or contributing SQL code).", "1. Learn more about Ancoris Data, Analytics & AI", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Head of Data, Analytics & AI @ Ancoris. Part of a highly committed team of data scientists, mathematicians & engineers delivering Google Cloud client solutions"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4410dc50b909&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-sql-standards-to-make-your-code-more-readable-in-2021-4410dc50b909&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-sql-standards-to-make-your-code-more-readable-in-2021-4410dc50b909&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-sql-standards-to-make-your-code-more-readable-in-2021-4410dc50b909&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-sql-standards-to-make-your-code-more-readable-in-2021-4410dc50b909&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4410dc50b909--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4410dc50b909--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://google-cloud-data.medium.com/?source=post_page-----4410dc50b909--------------------------------", "anchor_text": ""}, {"url": "https://google-cloud-data.medium.com/?source=post_page-----4410dc50b909--------------------------------", "anchor_text": "James Green"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe242c1ce5f6d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-sql-standards-to-make-your-code-more-readable-in-2021-4410dc50b909&user=James+Green&userId=e242c1ce5f6d&source=post_page-e242c1ce5f6d----4410dc50b909---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4410dc50b909&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-sql-standards-to-make-your-code-more-readable-in-2021-4410dc50b909&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4410dc50b909&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-sql-standards-to-make-your-code-more-readable-in-2021-4410dc50b909&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.ancoris.com/solutions/data_analytics_ai", "anchor_text": "Ancoris Data, Analytics & AI"}, {"url": "https://medium.com/tag/sql?source=post_page-----4410dc50b909---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/sql-server?source=post_page-----4410dc50b909---------------sql_server-----------------", "anchor_text": "Sql Server"}, {"url": "https://medium.com/tag/mysql?source=post_page-----4410dc50b909---------------mysql-----------------", "anchor_text": "MySQL"}, {"url": "https://medium.com/tag/postgres?source=post_page-----4410dc50b909---------------postgres-----------------", "anchor_text": "Postgres"}, {"url": "https://medium.com/tag/data-science?source=post_page-----4410dc50b909---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4410dc50b909&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-sql-standards-to-make-your-code-more-readable-in-2021-4410dc50b909&user=James+Green&userId=e242c1ce5f6d&source=-----4410dc50b909---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4410dc50b909&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-sql-standards-to-make-your-code-more-readable-in-2021-4410dc50b909&user=James+Green&userId=e242c1ce5f6d&source=-----4410dc50b909---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4410dc50b909&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-sql-standards-to-make-your-code-more-readable-in-2021-4410dc50b909&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4410dc50b909--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4410dc50b909&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-sql-standards-to-make-your-code-more-readable-in-2021-4410dc50b909&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4410dc50b909---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4410dc50b909--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4410dc50b909--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4410dc50b909--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4410dc50b909--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4410dc50b909--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4410dc50b909--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4410dc50b909--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4410dc50b909--------------------------------", "anchor_text": ""}, {"url": "https://google-cloud-data.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://google-cloud-data.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "James Green"}, {"url": "https://google-cloud-data.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "216 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe242c1ce5f6d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-sql-standards-to-make-your-code-more-readable-in-2021-4410dc50b909&user=James+Green&userId=e242c1ce5f6d&source=post_page-e242c1ce5f6d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F354049f3c33d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-sql-standards-to-make-your-code-more-readable-in-2021-4410dc50b909&newsletterV3=e242c1ce5f6d&newsletterV3Id=354049f3c33d&user=James+Green&userId=e242c1ce5f6d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}