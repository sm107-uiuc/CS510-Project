{"url": "https://towardsdatascience.com/using-markov-chain-monte-carlo-method-for-project-estimation-cd641f8038ce", "time": 1682994247.9732301, "path": "towardsdatascience.com/using-markov-chain-monte-carlo-method-for-project-estimation-cd641f8038ce/", "webpage": {"metadata": {"title": "Using Markov Chain Monte Carlo method for project estimation | by Michael Larionov, PhD | Towards Data Science", "h1": "Using Markov Chain Monte Carlo method for project estimation", "description": "One type of criticism I received for the previous work on project estimation is that the log-Normal distribution has short tails. And this is true, despite all the benefits of log-Normal\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/agile-estimation-part-ii-80bba09b9fc1", "anchor_text": "previous work on project estimation", "paragraph_index": 0}, {"url": "https://en.wikipedia.org/wiki/Markov_chain_Monte_Carlo", "anchor_text": "Markov chain Monte Carlo", "paragraph_index": 10}, {"url": "https://en.wikipedia.org/wiki/Stan_(software)", "anchor_text": "Stan", "paragraph_index": 13}], "all_paragraphs": ["One type of criticism I received for the previous work on project estimation is that the log-Normal distribution has short tails. And this is true, despite all the benefits of log-Normal distribution. The reason is very simple: when fitting the data to the distribution shape we pick the most likely parameters \u03bc\u03bc and \u03c3\u03c3. This approach, however easy it is, always results in short tails, especially for the small amount of data we possess. Indeed, the parameters of the log-normal distribution can be different, than the most likely parameters we\u2019ve got based on five data points. The appropriate way would be to get the joint distribution of the predictions and parameters and then marginalize by the parameters. In case of the Normal distribution we would get Student\u2019s t-distribution with nice long tails. For the log-normal distribution we would get a more complex distribution, but also with long tails.", "To remind you the problem we are working on, our task is to estimate the number of story points that can fit into one Agile iteration/sprint based on the historic data. In particular, we are interested in finding the number of story points we can complete in one iteration with 95% confidence.", "We will start by defining the likelihood function for the sample of size one:", "Let\u2019s select the priors for \u03bc and \u03c3.", "For \u03c3 we choose non-informative prior:", "For \u03bc we choose the conjugate prior which is a Normal distribution with a L2 regularization hyperparameter \u03bb:", "The posterior probability in this case is proportional to:", "The joint probability distribution, that will let us calculate percentiles, is therefore:", "So we can calculate all percentiles by marginalizing over the parameters \u03bc and \u03c3. The answer can be derived analytically, but in our case I want to solve it numerically using MCMC Hamiltonian sampling method.", "The idea of this method is to get a sample of joined distribution p(x,\u03bc,\u03c32|x(i)). After that we can calculate percentiles of x. This equivalent to marginalizing by the parameters of the posterior distribution.", "As I said earlier, the answer can be derived analytically, but we will use a method that can be used for the distributions, for which it is hard or impossible to get a sample. This method is called Markov chain Monte Carlo. The idea of this method is to do a random walk in the variable space, but try to visit more probable areas more frequently, so that in the resulting sample the histogram follows the probability distribution. Some of the unlikely values in this case have to be rejected.", "A specific flavor of MCMC is the Hamiltonian sampling method. It is somewhat similar to the Gradient Descent algorithm, except that instead of trying to converge to the minimum of the cost function, the step in MCMC is large enough, so that it explores also the less likely regions in the variable space, but tends to visit in the high probable regions more often.", "For this we need to take a log of the joint distribution function (ignoring the constant):", "There are many libraries to do Hamiltonian sampling. There are even probabilistic programming languages optimized for this, for example, Stan. But here we will use TensorFlow Probability, a probabilistic library created by Google", "We want to make sure our functions are working correctly, and the best way to do that is to write a unit test", "We will use the same data as we used earlier", "Our results has three rows for x, \u03bc and \u03c3 respectively. We can take mean of these three variables", "Unexpectedly, the mean of x is higher than we thought it would be (12). Let's plot the histogram to see the probability distribution:", "We see that the maximum is around 12, as we would get using maximum posterior distribution.", "The curve has an irregular shape, but that is somewhat expected for multivariate MCMC results. Notice also, that the tails are longer that we would get for log-Normal distribution. This is the result of marginalizing over the parameters of the posterior distribution. Let\u2019s see what our 95% confidence would fall into:", "The 95% confidence is also remarkably close to what we\u2019ve got in a simpler approach. However experimenting with the MCMC I discovered that the method is unstable and depends strongly on seeding, initial values and the choice of hyperparameters. The problem is aggravated as the dimensionality increases.", "In this story we tried to use Bayesian approach in Agile project estimation, and, instead of calculating the percentiles analytically, we demonstrated how we can use Markov chain Monte Carlo and Hamiltonian sampling to achieve this result. We also demonstrated how we can do it in TensorFlow Probability package.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fcd641f8038ce&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-markov-chain-monte-carlo-method-for-project-estimation-cd641f8038ce&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-markov-chain-monte-carlo-method-for-project-estimation-cd641f8038ce&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-markov-chain-monte-carlo-method-for-project-estimation-cd641f8038ce&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-markov-chain-monte-carlo-method-for-project-estimation-cd641f8038ce&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://me.dm/@michaellarionov", "anchor_text": "Mastodon"}, {"url": "https://towardsdatascience.com/?source=post_page-----cd641f8038ce--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cd641f8038ce--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://michaellarionov.medium.com/?source=post_page-----cd641f8038ce--------------------------------", "anchor_text": ""}, {"url": "https://michaellarionov.medium.com/?source=post_page-----cd641f8038ce--------------------------------", "anchor_text": "Michael Larionov, PhD"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff9158ca11a43&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-markov-chain-monte-carlo-method-for-project-estimation-cd641f8038ce&user=Michael+Larionov%2C+PhD&userId=f9158ca11a43&source=post_page-f9158ca11a43----cd641f8038ce---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcd641f8038ce&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-markov-chain-monte-carlo-method-for-project-estimation-cd641f8038ce&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcd641f8038ce&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-markov-chain-monte-carlo-method-for-project-estimation-cd641f8038ce&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com", "anchor_text": "https://pixabay.com"}, {"url": "https://towardsdatascience.com/agile-estimation-part-ii-80bba09b9fc1", "anchor_text": "previous work on project estimation"}, {"url": "https://en.wikipedia.org/wiki/Markov_chain_Monte_Carlo", "anchor_text": "Markov chain Monte Carlo"}, {"url": "https://en.wikipedia.org/wiki/Stan_(software)", "anchor_text": "Stan"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----cd641f8038ce---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/agile?source=post_page-----cd641f8038ce---------------agile-----------------", "anchor_text": "Agile"}, {"url": "https://medium.com/tag/markov-chains?source=post_page-----cd641f8038ce---------------markov_chains-----------------", "anchor_text": "Markov Chains"}, {"url": "https://medium.com/tag/bayesian-statistics?source=post_page-----cd641f8038ce---------------bayesian_statistics-----------------", "anchor_text": "Bayesian Statistics"}, {"url": "https://medium.com/tag/tensorflow?source=post_page-----cd641f8038ce---------------tensorflow-----------------", "anchor_text": "TensorFlow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcd641f8038ce&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-markov-chain-monte-carlo-method-for-project-estimation-cd641f8038ce&user=Michael+Larionov%2C+PhD&userId=f9158ca11a43&source=-----cd641f8038ce---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcd641f8038ce&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-markov-chain-monte-carlo-method-for-project-estimation-cd641f8038ce&user=Michael+Larionov%2C+PhD&userId=f9158ca11a43&source=-----cd641f8038ce---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcd641f8038ce&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-markov-chain-monte-carlo-method-for-project-estimation-cd641f8038ce&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cd641f8038ce--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fcd641f8038ce&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-markov-chain-monte-carlo-method-for-project-estimation-cd641f8038ce&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----cd641f8038ce---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----cd641f8038ce--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----cd641f8038ce--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----cd641f8038ce--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----cd641f8038ce--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----cd641f8038ce--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----cd641f8038ce--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----cd641f8038ce--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----cd641f8038ce--------------------------------", "anchor_text": ""}, {"url": "https://michaellarionov.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://michaellarionov.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Michael Larionov, PhD"}, {"url": "https://michaellarionov.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "611 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff9158ca11a43&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-markov-chain-monte-carlo-method-for-project-estimation-cd641f8038ce&user=Michael+Larionov%2C+PhD&userId=f9158ca11a43&source=post_page-f9158ca11a43--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fcf000f0c5fdd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-markov-chain-monte-carlo-method-for-project-estimation-cd641f8038ce&newsletterV3=f9158ca11a43&newsletterV3Id=cf000f0c5fdd&user=Michael+Larionov%2C+PhD&userId=f9158ca11a43&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}