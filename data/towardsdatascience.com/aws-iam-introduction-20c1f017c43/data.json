{"url": "https://towardsdatascience.com/aws-iam-introduction-20c1f017c43", "time": 1683015575.11007, "path": "towardsdatascience.com/aws-iam-introduction-20c1f017c43/", "webpage": {"metadata": {"title": "AWS IAM Introduction. An overview of AWS identity and access\u2026 | by Evan Kozliner | Towards Data Science", "h1": "AWS IAM Introduction", "description": "The first thing to both shock (and frustrate) many people moving into cloud-based environments is how complicated permissions can be. Typically, after years of becoming acclimated to being the God \u2014\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/how-to-copy-between-encrypted-s3-buckets-cross-account-e4e3096d1a8a", "anchor_text": "this follow-up post", "paragraph_index": 2}, {"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_root-user.html", "anchor_text": "root user", "paragraph_index": 9}, {"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies.html", "anchor_text": "docs.", "paragraph_index": 17}, {"url": "https://awspolicygen.s3.amazonaws.com/policygen.html", "anchor_text": "https://awspolicygen.s3.amazonaws.com/policygen.html", "paragraph_index": 18}, {"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_evaluation-logic.html#policy-eval-denyallow", "anchor_text": "the public documentation", "paragraph_index": 24}, {"url": "https://towardsdatascience.com/how-to-copy-between-encrypted-s3-buckets-cross-account-e4e3096d1a8a", "anchor_text": "my follow up post", "paragraph_index": 26}, {"url": "https://twitter.com/evankozliner", "anchor_text": "Twitter", "paragraph_index": 27}, {"url": "https://aws.amazon.com/organizations/getting-started/best-practices/", "anchor_text": "this introduction", "paragraph_index": 28}, {"url": "https://docs.aws.amazon.com/general/latest/gr/root-vs-iam.html#aws_tasks-that-require-root", "anchor_text": "There are certain tasks that only a root user can execute", "paragraph_index": 29}, {"url": "http://thinkoutloudnews.substack.com", "anchor_text": "thinkoutloudnews.substack.com", "paragraph_index": 31}, {"url": "http://evankozliner.com", "anchor_text": "evankozliner.com", "paragraph_index": 31}], "all_paragraphs": ["The first thing to both shock (and frustrate) many people moving into cloud-based environments is how complicated permissions can be. Typically, after years of becoming acclimated to being the God \u2014 sudo\u2014 of whatever code you have been writing prior, you are introduced to an environment where nearly everything is locked down by default.", "This post will focus on alleviating some of that pain by teaching you the most important parts of IAM, the identity and access management service for Amazon Web Services, as well as introducing some well known best practices. In future posts I plan to build off this one.", "Be sure to read this follow-up post, if you\u2019re interested in seeing all the elements of IAM I discuss in this post in-action.", "The world of AWS starts with accounts and resources within those accounts. IAM exists primarily to protect the resources in your account from problems like:", "The logical barrier between users of AWS. Pretty straightforward:", "Resources are persisted objects in your account that you want to use, like load balancers or EC2 instances.", "Notice how the account id 123456789012is present in the ARN, as well as the type of resource (this resource is an IAM user).", "The core feature of IAM is identities, a type of AWS resource. AWS services always expose APIs you can call using some identity; this tells AWS who you are (authentication) and whether you\u2019re allowed to do what you\u2019re doing (authorization).", "There are two major forms of identities in IAM: users, and roles.", "The intention of a user in IAM is similar those in other websites like Facebook. When you first create an AWS account you are given a root user that has complete access to your account [2]. Then you\u2019re given the \u2014 strongly suggested \u2014 option of creating further users and roles.", "You can use a credentials profile with the CLI with the --profile option on the CLI:", "Like users, roles are an identity used for accessing an AWS APIs and resources. However, roles are generally used to grant temporary credentials to an AWS account. Further, these temporary credentials can be configured to trust third parties, or other AWS services.", "Roles are used ubiquitously in AWS:", "Finally, when you (running as some identity) call an AWS API, IAM will determine whether the call is valid by evaluating one or more policies. There are two major kinds of policies: identity policies and resource policies.", "Identity policies determine what a given identity (role/user) is allowed to do. Identity policies can be managed by either AWS \u2014 these managed policies will be pre-created in your account \u2014 or by you.", "Below is an example of a simpler identity policy:", "Any given identity can have multiple policies attached to it; when this is the case, the identity gets the logical OR of the policies applied to it, where an explicit Deny will overwrite an explicit Allow .", "I think the syntax is mostly straightforward, but, for a deeper dive into policy syntax, read the docs.", "There is also an EMR policy generator I recommend you use to build these faster here: https://awspolicygen.s3.amazonaws.com/policygen.html", "When a resource is acted on by some Principal, whether that resource is an S3 bucket getting objects pulled from it, or an IAM role that someone is trying to assume, its resource policy will take effect. These may seem redundant at first, as you can scope identity policies to specific resources, but oftentimes it can be useful to set a policy on your resource instead of the identities that call it.", "These resource policies also serve a critical role in enabling cross-account access to resources. Identity policies alone cannot enable cross account access, as the permissions boundary between AWS accounts is much tighter than within a single account.", "Let\u2019s examine a resource policy for a role. Note that resource policies on roles are also known as trust policies, because they enable others to assume the role.", "On most resources, resource policies are optional. If they are not present, they are ignored, as you will see below.", "To close, I want to offer a simple diagram to visualize what order the policies we talked about are evaluated in.", "In the interests of simplicity, I\u2019ve omitted the complete evaluation logic and only included common policies below. I recommend you read the public documentation for a more detailed view of policy evaluation, including more esoteric policies like Session policies and Permissions Boundaries.", "IAM is one of the major building blocks of AWS. I hope this has served to introduce you to the major topics you will encounter when using it.", "If you\u2019d like understand IAM a little more in depth, be sure to read my follow up post too!", "If you have any more questions or just want to chat you can contact me through my, evankozliner@gmail.com or message me on Twitter.", "[1] Architecting a multi-account organization is beyond the scope of this post, but, if you\u2019re interested, I would recommend this video below and this introduction.", "[2] The root user is actually distinct from IAM users. There are certain tasks that only a root user can execute.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I write about technology, philosophy, and their intersections. Subscribe at thinkoutloudnews.substack.com! My articles are also on evankozliner.com."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F20c1f017c43&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-iam-introduction-20c1f017c43&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-iam-introduction-20c1f017c43&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-iam-introduction-20c1f017c43&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-iam-introduction-20c1f017c43&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----20c1f017c43--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----20c1f017c43--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://evankozliner.medium.com/?source=post_page-----20c1f017c43--------------------------------", "anchor_text": ""}, {"url": "https://evankozliner.medium.com/?source=post_page-----20c1f017c43--------------------------------", "anchor_text": "Evan Kozliner"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1735ba74241&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-iam-introduction-20c1f017c43&user=Evan+Kozliner&userId=1735ba74241&source=post_page-1735ba74241----20c1f017c43---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F20c1f017c43&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-iam-introduction-20c1f017c43&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F20c1f017c43&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-iam-introduction-20c1f017c43&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://desk.draw.io/support/solutions/articles/16000042494-usage-terms-for-diagrams-created-in-diagrams-net", "anchor_text": "Draw.io"}, {"url": "https://towardsdatascience.com/how-to-copy-between-encrypted-s3-buckets-cross-account-e4e3096d1a8a", "anchor_text": "this follow-up post"}, {"url": "https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html", "anchor_text": "ARN"}, {"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_root-user.html", "anchor_text": "root user"}, {"url": "https://docs.aws.amazon.com/general/latest/gr/aws-access-keys-best-practices.html#use-roles", "anchor_text": "best practice"}, {"url": "https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html", "anchor_text": "STS assume role API"}, {"url": "https://docs.aws.amazon.com/autoscaling/ec2/userguide/autoscaling-service-linked-role.html", "anchor_text": "will need permissions"}, {"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_evaluation-logic.html#policy-eval-denyallow", "anchor_text": "this doc"}, {"url": "https://krebsonsecurity.com/2019/08/what-we-can-learn-from-the-capital-one-hack/", "anchor_text": "gave their firewall excessive S3 permissions"}, {"url": "https://www.hackerone.com/blog-How-To-Server-Side-Request-Forgery-SSRF", "anchor_text": "SSRF"}, {"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies.html", "anchor_text": "docs."}, {"url": "https://awspolicygen.s3.amazonaws.com/policygen.html", "anchor_text": "https://awspolicygen.s3.amazonaws.com/policygen.html"}, {"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_principal.html", "anchor_text": "Principals"}, {"url": "https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html#key-policy-default", "anchor_text": "grant your account\u2019s root user permissions"}, {"url": "https://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html", "anchor_text": "Access Control Lists"}, {"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_evaluation-logic.html#policy-eval-denyallow", "anchor_text": "the public documentation"}, {"url": "https://desk.draw.io/support/solutions/articles/16000042494-usage-terms-for-diagrams-created-in-diagrams-net", "anchor_text": "Draw.io"}, {"url": "https://towardsdatascience.com/how-to-copy-between-encrypted-s3-buckets-cross-account-e4e3096d1a8a", "anchor_text": "my follow up post"}, {"url": "https://twitter.com/evankozliner", "anchor_text": "Twitter"}, {"url": "https://aws.amazon.com/organizations/getting-started/best-practices/", "anchor_text": "this introduction"}, {"url": "https://docs.aws.amazon.com/general/latest/gr/root-vs-iam.html#aws_tasks-that-require-root", "anchor_text": "There are certain tasks that only a root user can execute"}, {"url": "https://medium.com/tag/aws?source=post_page-----20c1f017c43---------------aws-----------------", "anchor_text": "AWS"}, {"url": "https://medium.com/tag/aws-iam?source=post_page-----20c1f017c43---------------aws_iam-----------------", "anchor_text": "Aws Iam"}, {"url": "https://medium.com/tag/computer-science?source=post_page-----20c1f017c43---------------computer_science-----------------", "anchor_text": "Computer Science"}, {"url": "https://medium.com/tag/software-engineering?source=post_page-----20c1f017c43---------------software_engineering-----------------", "anchor_text": "Software Engineering"}, {"url": "https://medium.com/tag/security?source=post_page-----20c1f017c43---------------security-----------------", "anchor_text": "Security"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F20c1f017c43&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-iam-introduction-20c1f017c43&user=Evan+Kozliner&userId=1735ba74241&source=-----20c1f017c43---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F20c1f017c43&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-iam-introduction-20c1f017c43&user=Evan+Kozliner&userId=1735ba74241&source=-----20c1f017c43---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F20c1f017c43&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-iam-introduction-20c1f017c43&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----20c1f017c43--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F20c1f017c43&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-iam-introduction-20c1f017c43&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----20c1f017c43---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----20c1f017c43--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----20c1f017c43--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----20c1f017c43--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----20c1f017c43--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----20c1f017c43--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----20c1f017c43--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----20c1f017c43--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----20c1f017c43--------------------------------", "anchor_text": ""}, {"url": "https://evankozliner.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://evankozliner.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Evan Kozliner"}, {"url": "https://evankozliner.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "441 Followers"}, {"url": "http://thinkoutloudnews.substack.com", "anchor_text": "thinkoutloudnews.substack.com"}, {"url": "http://evankozliner.com", "anchor_text": "evankozliner.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1735ba74241&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-iam-introduction-20c1f017c43&user=Evan+Kozliner&userId=1735ba74241&source=post_page-1735ba74241--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff945805cdbee&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Faws-iam-introduction-20c1f017c43&newsletterV3=1735ba74241&newsletterV3Id=f945805cdbee&user=Evan+Kozliner&userId=1735ba74241&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}