{"url": "https://towardsdatascience.com/popcorn-data-analysing-cinema-seating-patterns-part-1-a0b2a5c2c19a", "time": 1683008999.910563, "path": "towardsdatascience.com/popcorn-data-analysing-cinema-seating-patterns-part-1-a0b2a5c2c19a/", "webpage": {"metadata": {"title": "Popcorn Data \u2014 Analysing Cinema Seating Patterns (Part I) | by Noel Mathew Isaac | Towards Data Science", "h1": "Popcorn Data \u2014 Analysing Cinema Seating Patterns (Part I)", "description": "We wanted to find out more about the movie trends in Singapore \u2014 from which seats people prefer to the way they like to watch different movies. So we created PopcornData \u2014 a website to get a glimpse\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/u/65c74d59f3e2?source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": "Noel Mathew Isaac", "paragraph_index": 0}, {"url": "https://medium.com/u/19e9504cf53f?source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": "Vanshiqa Agrawal", "paragraph_index": 0}, {"url": "https://medium.com/popcorndata/popcorn-data-analysing-cinema-seating-patterns-part-ii-987fbde9d363", "anchor_text": "Part II", "paragraph_index": 1}, {"url": "https://popcorn-data.herokuapp.com/", "anchor_text": "PopcornData", "paragraph_index": 2}, {"url": "http://popcorn-data.herokuapp.com/", "anchor_text": "http://popcorn-data.herokuapp.com", "paragraph_index": 26}], "all_paragraphs": ["By Noel Mathew Isaac and Vanshiqa Agrawal", "In Part II, we analyse the data, visualise it, and then build a website for our findings.", "We wanted to find out more about the movie trends in Singapore \u2014 from which seats people prefer to the way they like to watch different movies. So we created PopcornData \u2014 a website to get a glimpse of Singapore\u2019s Movie trends \u2014 by scraping data, finding interesting insights, and visualising it.", "On the website, you can see how people watched different movies, at different halls, theatres, and timings! Some unique aspects include heat maps to show the most popular seats and animations to show the order in which seats were bought. This 2 part article elaborates on how we obtained the data for the website and our analysis of the data.", "To implement our idea, the first and maybe even the most crucial step was to collect the data. We decided to scrape the website of Shaw Theatres, one of the biggest cinema chains in Singapore.", "Starting with basic knowledge of scraping in python, we initially tried using python\u2019s requests library to get the site\u2019s HTML and BeautifulSoup library to parse it but quickly realized that the data we required was not present in the HTML we requested. This was because the website was dynamic \u2014 it requests the data from an external source using Javascript and renders the HTML dynamically. When we request the HTML directly, the dynamic part of the website is not being rendered, hence the missing data.", "To fix this issue, we used Selenium \u2014 A web browser automation tool that can first render the website with the dynamic content before getting the HTML.", "Getting the selenium driver to work and fixing minor issues with it was a big learning curve. After countless StackOverflow searches and \u2018giving up\u2019 multiple times we managed to scrape through (pun intended) and get it to work.", "The main issues we faced were:", "With Selenium and BeautifulSoup, we were finally able to get the data for all the available movie sessions for a particular day!", "We were halfway there! Now we needed to collect the seat data for each movie slot to see which seats were occupied and when they were bought. After going through the Network tab of the website in the Developer Tools, we found that the seat data was being requested from Shaw\u2019s API.", "The data could be obtained by requesting the URL https://www.shaw.sg/api/SeatingStatuses?recordcode=<session_code> where the session code was the unique code for each movie session which we had already scraped earlier.", "The data we got was in JSON format and we parsed it and reordered the seats in ascending order of seat buy time to obtain an array of JSON objects where each object contained information about each seat in the movie hall, including seat_number, seat_buy_time, and seat_status.", "Halls have anywhere between 28\u2013502 seats and each seat corresponds to a JSON object in the array. Add this to the fact that there are upwards of 350 movie sessions in a single day, and the amount of data generated is pretty big. Storing data for a single day took about 10MB. The movie session data was combined with the seat data and stored on a MongoDB database.", "We managed to scrape all the movie data from Shaw for January 2020.", "The complete raw data collected can be downloaded here:", "It was now time to get our hands dirty by cleaning the data and pulling out relevant information. Using pandas, we parsed the JSON, cleaned it, and made a DataFrame with the data to improve readability and filter it easily.", "Since the seat data took a lot of memory, we could not include all of it in the DataFrame. Instead, we aggregated the seat data using python to obtain the following:", "Each element in the array represents the seats bought at the same time and the order of elements represents the order in which the seats were purchased.", "4. Seat Distribution: Dictionary showing the number of seats that were bought together (in groups of 1, 2, 3 or more)", "5. Seat Frequency: Dictionary showing the number of times each seat in a hall was bought over the month", "6. Rate of Buying: Two dictionaries, with the first dictionary showing the time left to a movie showing (in days) with the corresponding accumulated number of tickets bought in the second dictionary.", "The cleaned data can be viewed here:", "With our data scraped and cleaned, we could now get to the fun part \u2014 analysing the data to find patterns amongst the popcorn litter.", "To find our analysis of the data and interesting patterns we found, check out Part II of this article:", "The code for the scraper can be found in the following GitHub repo:", "Don\u2019t forget to check out our website at http://popcorn-data.herokuapp.com!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Computer Science Student @ NUS | Passionate about Data Science"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa0b2a5c2c19a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopcorn-data-analysing-cinema-seating-patterns-part-1-a0b2a5c2c19a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopcorn-data-analysing-cinema-seating-patterns-part-1-a0b2a5c2c19a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopcorn-data-analysing-cinema-seating-patterns-part-1-a0b2a5c2c19a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopcorn-data-analysing-cinema-seating-patterns-part-1-a0b2a5c2c19a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@noelmathewisaac?source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@noelmathewisaac?source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": "Noel Mathew Isaac"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F65c74d59f3e2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopcorn-data-analysing-cinema-seating-patterns-part-1-a0b2a5c2c19a&user=Noel+Mathew+Isaac&userId=65c74d59f3e2&source=post_page-65c74d59f3e2----a0b2a5c2c19a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa0b2a5c2c19a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopcorn-data-analysing-cinema-seating-patterns-part-1-a0b2a5c2c19a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa0b2a5c2c19a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopcorn-data-analysing-cinema-seating-patterns-part-1-a0b2a5c2c19a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/u/65c74d59f3e2?source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": "Noel Mathew Isaac"}, {"url": "https://medium.com/u/19e9504cf53f?source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": "Vanshiqa Agrawal"}, {"url": "https://medium.com/popcorndata/popcorn-data-analysing-cinema-seating-patterns-part-ii-987fbde9d363", "anchor_text": "Part II"}, {"url": "https://popcorn-data.herokuapp.com/", "anchor_text": "PopcornData"}, {"url": "https://unsplash.com/@kristsll?utm_source=medium&utm_medium=referral", "anchor_text": "Krists Luhaers"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://gist.github.com/noelmathewisaac/31a9d20a674f6dd8524ed89d65183279", "anchor_text": "https://gist.github.com/noelmathewisaac/31a9d20a674f6dd8524ed89d65183279"}, {"url": "https://drive.google.com/file/d/1K7Vv88SnmWarf6rOre2ijA-Qq7Dv2sNp/view?usp=sharing", "anchor_text": "Raw Movie Data.zipdrive.google.com"}, {"url": "https://unsplash.com/@markusspiske?utm_source=medium&utm_medium=referral", "anchor_text": "Markus Spiske"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://docs.google.com/spreadsheets/d/1pLNbwfnrmfpyA7sxtRyB1P6iHuSFyUPEerwW7f3fEWU/edit?usp=sharing", "anchor_text": "Cleaned Movie Datadocs.google.com"}, {"url": "https://medium.com/popcorndata/popcorn-data-analysing-cinema-seating-patterns-part-ii-987fbde9d363", "anchor_text": "Popcorn Data \u2014 Analysing Cinema Seating Patterns (Part II)What Can Data Analytics Reveal About Your Cinema Habits?medium.com"}, {"url": "https://github.com/PopcornData/shaw-scraper", "anchor_text": "PopcornData/shaw-scraperContribute to PopcornData/shaw-scraper development by creating an account on GitHub.github.com"}, {"url": "http://popcorn-data.herokuapp.com/", "anchor_text": "http://popcorn-data.herokuapp.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a0b2a5c2c19a---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/movies?source=post_page-----a0b2a5c2c19a---------------movies-----------------", "anchor_text": "Movies"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----a0b2a5c2c19a---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/web-scraping?source=post_page-----a0b2a5c2c19a---------------web_scraping-----------------", "anchor_text": "Web Scraping"}, {"url": "https://medium.com/tag/python?source=post_page-----a0b2a5c2c19a---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa0b2a5c2c19a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopcorn-data-analysing-cinema-seating-patterns-part-1-a0b2a5c2c19a&user=Noel+Mathew+Isaac&userId=65c74d59f3e2&source=-----a0b2a5c2c19a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa0b2a5c2c19a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopcorn-data-analysing-cinema-seating-patterns-part-1-a0b2a5c2c19a&user=Noel+Mathew+Isaac&userId=65c74d59f3e2&source=-----a0b2a5c2c19a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa0b2a5c2c19a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopcorn-data-analysing-cinema-seating-patterns-part-1-a0b2a5c2c19a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa0b2a5c2c19a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopcorn-data-analysing-cinema-seating-patterns-part-1-a0b2a5c2c19a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a0b2a5c2c19a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a0b2a5c2c19a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@noelmathewisaac?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@noelmathewisaac?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Noel Mathew Isaac"}, {"url": "https://medium.com/@noelmathewisaac/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "12 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F65c74d59f3e2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopcorn-data-analysing-cinema-seating-patterns-part-1-a0b2a5c2c19a&user=Noel+Mathew+Isaac&userId=65c74d59f3e2&source=post_page-65c74d59f3e2--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F6338e20aab1f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpopcorn-data-analysing-cinema-seating-patterns-part-1-a0b2a5c2c19a&newsletterV3=65c74d59f3e2&newsletterV3Id=6338e20aab1f&user=Noel+Mathew+Isaac&userId=65c74d59f3e2&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}