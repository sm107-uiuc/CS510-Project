{"url": "https://towardsdatascience.com/whatsapp-messages-visualizing-interjections-sent-by-users-and-other-perks-ea97bbd7f7c5", "time": 1683016145.1061518, "path": "towardsdatascience.com/whatsapp-messages-visualizing-interjections-sent-by-users-and-other-perks-ea97bbd7f7c5/", "webpage": {"metadata": {"title": "Data Analysis in Python: Using Regular Expressions on WhatsApp Messages | by Murilo Bento | Towards Data Science", "h1": "Data Analysis in Python: Using Regular Expressions on WhatsApp Messages", "description": "It probably happened before: You opened your WhatsApp and read a lot of \u201cgood morning\u201d, \u201cgood evening\u201d and \u201cgood afternoon\u201d messages through a lot of groups. Now, suppose you want to visualize the\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/kurasaiteja/Whatsapp-Analysis", "anchor_text": "kurasaiteja/WhatsApp-Analysis", "paragraph_index": 4}, {"url": "https://pandas.pydata.org/", "anchor_text": "Pandas", "paragraph_index": 5}, {"url": "https://numpy.org/", "anchor_text": "NumPy", "paragraph_index": 5}, {"url": "https://matplotlib.org/", "anchor_text": "Matplotlib", "paragraph_index": 5}, {"url": "https://pypi.org/project/emoji/", "anchor_text": "emoji", "paragraph_index": 5}, {"url": "https://pypi.org/project/regex/", "anchor_text": "regex", "paragraph_index": 5}, {"url": "https://plotly.com/", "anchor_text": "Plotly", "paragraph_index": 5}], "all_paragraphs": ["It probably happened before: You opened your WhatsApp and read a lot of \u201cgood morning\u201d, \u201cgood evening\u201d and \u201cgood afternoon\u201d messages through a lot of groups. Now, suppose you want to visualize the messages of this group in order to achieve more insight about, for example, the number of messages from someone, or what day had the most number of messages, or, in this case, discover how many \u201cgood morning\u201d-esque interjections each person has sent in a specific WhatsApp group. How does one do that?", "In this post, we are going to investigate the use of Python and Pandas with regular expressions in order to achieve our goal.", "The data is acquired from an WhatsApp group chat, exported through the app. For this post, the group has 57 members and its language is Portuguese.", "The data follows this format for messages:", "This project is based on kurasaiteja/WhatsApp-Analysis. Although this project follows a similar path, some core design choices and other improvements are going to be discussed. It is written in Python.", "This project uses Pandas, NumPy, Matplotlib, emoji, regex and Plotly.", "In order to find out if a line in the input begins with the datetime notation, the starts_with_date_time function is defined as:", "Now that we are done with the starting date verification, we move on to find out if there\u2019s an author field (i.e. if the USER: MESSAGE exists). For that, we want to look at the number of the characters \u2018:\u2019 that are present in the line. The Whatsapp-Analysis project, in this step, does not take account if the message has the character in the message\u2019s body. If it\u2019s present, the message won\u2019t have an author since the number of \u2018:\u2019 is not equal to 2. In order to prevent this, it\u2019s verified if the number of the \u2018:\u2019 character is higher than 1.", "The split_count function is defined to list the emojis that are present in every message.", "Now that our helper functions are defined, it\u2019s time to parse the data into an array, so that it can be transformed into a Pandas DataFrame. The function get_data_point is a function that uses has_author and it splits the line into the fields of date, time, author, and message. As soon as the message is parsed into an array of size four, it\u2019s appended to the parsed variable.", "Now that the information is parsed into a two dimensional array, we can transform it into a Pandas DataFrame.", "But now we have a problem: We don\u2019t want to use the name or phone number of those in the group, but we rather want them to be anonymously identified. In order to do this, we can use the unique() function of the author column and, then, apply an update to the author\u2019s name according to their position in the unique() array, plus one for better readability.", "Now that the authors\u2019 identity is preserved, we can filter the data. In this project, we will filter the data for word count, emoji list, url count and greetings, but, since the objective is to find out how many interjections the users send, only the greetings is going to be used.", "In order to find out if a message has an interjection, a regex match is used.", "Now that we have the greetings value, we just need to plot it. A bar graph provides a good visualization in this context.", "It can be seen that the Author 43 uses the defined interjections the most, while the Author 30 is the second place. They are the most frequent users that use them, for announcements. More information can be gathered with this, such as how interjections an user say in average, for example, or what day of the week shows the most interjections. But, since this post\u2019s objective was regular expressions and messages parsing, it will be a future work. There are a lot of possibilities from here, and it sure shows the power of regular expressions.", "This project is available at my GitHub, along with the instructions to run it.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Bachelor in Information Technology and Software Engineering student at Federal University of Rio Grande do Norte."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fea97bbd7f7c5&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhatsapp-messages-visualizing-interjections-sent-by-users-and-other-perks-ea97bbd7f7c5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhatsapp-messages-visualizing-interjections-sent-by-users-and-other-perks-ea97bbd7f7c5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhatsapp-messages-visualizing-interjections-sent-by-users-and-other-perks-ea97bbd7f7c5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhatsapp-messages-visualizing-interjections-sent-by-users-and-other-perks-ea97bbd7f7c5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ea97bbd7f7c5--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ea97bbd7f7c5--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://murilobnt.medium.com/?source=post_page-----ea97bbd7f7c5--------------------------------", "anchor_text": ""}, {"url": "https://murilobnt.medium.com/?source=post_page-----ea97bbd7f7c5--------------------------------", "anchor_text": "Murilo Bento"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F21043ee6946c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhatsapp-messages-visualizing-interjections-sent-by-users-and-other-perks-ea97bbd7f7c5&user=Murilo+Bento&userId=21043ee6946c&source=post_page-21043ee6946c----ea97bbd7f7c5---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fea97bbd7f7c5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhatsapp-messages-visualizing-interjections-sent-by-users-and-other-perks-ea97bbd7f7c5&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fea97bbd7f7c5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhatsapp-messages-visualizing-interjections-sent-by-users-and-other-perks-ea97bbd7f7c5&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@_giri_?utm_source=medium&utm_medium=referral", "anchor_text": "AARN GIRI"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://github.com/kurasaiteja/Whatsapp-Analysis", "anchor_text": "kurasaiteja/WhatsApp-Analysis"}, {"url": "https://pandas.pydata.org/", "anchor_text": "Pandas"}, {"url": "https://numpy.org/", "anchor_text": "NumPy"}, {"url": "https://matplotlib.org/", "anchor_text": "Matplotlib"}, {"url": "https://pypi.org/project/emoji/", "anchor_text": "emoji"}, {"url": "https://pypi.org/project/regex/", "anchor_text": "regex"}, {"url": "https://plotly.com/", "anchor_text": "Plotly"}, {"url": "https://pandas.pydata.org", "anchor_text": "pandaspandas is a fast, powerful, flexible and easy to use open source data analysis and manipulation tool, built on top of\u2026pandas.pydata.org"}, {"url": "https://numpy.org", "anchor_text": "NumPyWhy NumPy? Powerful n-dimensional arrays. Numerical computing tools. Interoperable. Performant. Open source.numpy.org"}, {"url": "https://matplotlib.org", "anchor_text": "Matplotlib: Python plotting - Matplotlib 3.3.2 documentationMatplotlib is a comprehensive library for creating static, animated, and interactive visualizations in Python\u2026matplotlib.org"}, {"url": "https://pypi.org/project/emoji/", "anchor_text": "emojiEmoji for Python. This project was inspired by kyokomi. The entire set of Emoji codes as defined by the unicode\u2026pypi.org"}, {"url": "https://pypi.org/project/regex/", "anchor_text": "regexThe issue numbers relate to the Python bug tracker, except where listed as \"Hg issue\". The test of a conditional\u2026pypi.org"}, {"url": "https://plotly.com/", "anchor_text": "Plotly: The front end for ML and data science modelsPlotly creates & stewards the leading data viz & UI tools for ML, data science, engineering, and the sciences. Language\u2026plotly.com"}, {"url": "https://github.com/murilobnt/whatsapp-interjections", "anchor_text": "murilobnt/whatsapp-interjectionsYou can't perform that action at this time. You signed in with another tab or window. You signed out in another tab or\u2026github.com"}, {"url": "https://medium.com/tag/pandas?source=post_page-----ea97bbd7f7c5---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/python?source=post_page-----ea97bbd7f7c5---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ea97bbd7f7c5---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/whatsapp?source=post_page-----ea97bbd7f7c5---------------whatsapp-----------------", "anchor_text": "WhatsApp"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fea97bbd7f7c5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhatsapp-messages-visualizing-interjections-sent-by-users-and-other-perks-ea97bbd7f7c5&user=Murilo+Bento&userId=21043ee6946c&source=-----ea97bbd7f7c5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fea97bbd7f7c5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhatsapp-messages-visualizing-interjections-sent-by-users-and-other-perks-ea97bbd7f7c5&user=Murilo+Bento&userId=21043ee6946c&source=-----ea97bbd7f7c5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fea97bbd7f7c5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhatsapp-messages-visualizing-interjections-sent-by-users-and-other-perks-ea97bbd7f7c5&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ea97bbd7f7c5--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fea97bbd7f7c5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhatsapp-messages-visualizing-interjections-sent-by-users-and-other-perks-ea97bbd7f7c5&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ea97bbd7f7c5---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ea97bbd7f7c5--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ea97bbd7f7c5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ea97bbd7f7c5--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ea97bbd7f7c5--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ea97bbd7f7c5--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ea97bbd7f7c5--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ea97bbd7f7c5--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ea97bbd7f7c5--------------------------------", "anchor_text": ""}, {"url": "https://murilobnt.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://murilobnt.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Murilo Bento"}, {"url": "https://murilobnt.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "2 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F21043ee6946c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhatsapp-messages-visualizing-interjections-sent-by-users-and-other-perks-ea97bbd7f7c5&user=Murilo+Bento&userId=21043ee6946c&source=post_page-21043ee6946c--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F21043ee6946c%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhatsapp-messages-visualizing-interjections-sent-by-users-and-other-perks-ea97bbd7f7c5&user=Murilo+Bento&userId=21043ee6946c&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}