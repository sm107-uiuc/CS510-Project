{"url": "https://towardsdatascience.com/linear-programming-using-python-priyansh-22b5ee888fe0", "time": 1683006410.26367, "path": "towardsdatascience.com/linear-programming-using-python-priyansh-22b5ee888fe0/", "webpage": {"metadata": {"title": "Linear Programming and Optimization using Python | Towards Data Science", "h1": "Linear Programming using Python", "description": "Introduction to Linear Programming using Python and PuLP library | Operations Research | Step by step explanation | Linear Optimization | Beginners Guide"}, "outgoing_paragraph_urls": [{"url": "https://www.igi-global.com/dictionary/cuckoo-search-for-optimization-and-computational-intelligence/21383", "anchor_text": "an optimization problem consists of maximizing or minimizing a real function by systematically choosing input values from within an allowed set and computing the value of the function.", "paragraph_index": 2}, {"url": "https://medium.com/u/10df94b13417?source=post_page-----22b5ee888fe0--------------------------------", "anchor_text": "Karan Bhanot", "paragraph_index": 39}], "all_paragraphs": ["The main objective of this article is to introduce the reader to one of the easiest and one of the most used tools to code up a linear optimization problem in Python using the PuLP library. It also gives a quick introduction about optimization and linear programming so that even those readers who have little or no prior knowledge about Optimization, Prescriptive Analytics or Operations Research can easily understand the context of the article and what it will be talking about. We also are touching upon how to formulate a LP using mathematical notations.", "The given prerequisites are good to have and not necessary.", "Optimization is the process of finding maximum or minimum value of a given objective by controlling a set of decisions in a constrained environment. In simple words, an optimization problem consists of maximizing or minimizing a real function by systematically choosing input values from within an allowed set and computing the value of the function.", "The real function (objective function) can be the cost of delivering goods from a warehouse to its customers which we would like to minimize by choosing the optimal route and optimal set of vehicles (decision variables) to deliver the goods given a limited number of drivers and time (constraints). This is a generic case of Route Optimization in the world of Operations Research and Optimization.", "Another very famous problem in the field of Computer Science is TSP or Travelling Salesman Problem, wherein we want to find the shortest route or least costly route to travel across all cities, given the pairwise distances between them. In this case, our objective function becomes minimizing the total distance (or total cost) travelled, decision variables become binary variables which tell whether the traveller should travel from City i to City j and constraints are applied such that the traveller covers all the cities and does not visit a city twice. We will also be handling a simpler but similar kind of problem today.", "Linear Programming is basically a subset of optimization. Linear programming or linear optimization is an optimization technique wherein we try to find an optimal value for a linear objective function for a system of linear constraints using a varying set of decision variables.", "You want to minimize the cost of shipping goods from 2 different warehouses to 4 different customers. Each warehouse has a limited supply and each customer has a certain demand. We need to fulfil the demand of the customers by shipping products from given warehouses such that the overall cost of shipping is minimum and we are also able to satisfy the customer demands using limited supply available with each warehouse.", "Let\u2019s say the company is Crocs which supplies only footwear, and the customers here are its distributors who need these crocs in bulk. The products to be supplied are uniform in nature.", "2. The customer demands and the warehouse availability is as follows.", "Let\u2019s start formulating the problem using mathematical equations. We need to identify 3 main components of our LP namely :-", "We will define our decision variable as Xij which basically tells that X products should be delivered from Warehouse i to Customer j.", "Our objective function is defined as the overall cost of shipping these products and we need to minimize this overall cost. Hence, objective function is defined as :-", "With respect to the given problem we will have 2 major types of constraints:-", "3.1) Warehouse Constraints or Supply Constraints: These constraints basically say that the overall supply that will be done by each warehouse across all the 4 customers is less than or equal to the maximum availability/capacity of that warehouse.", "3.2) Customer Constraints or Demand Constraints: These constraints basically say that for each customer the supply done across the 2 warehouses should be equal (or greater than equal to) to the demand of that customer. We can use \u2265 instead of = because our objective function would always try to minimize cost and hence never supply more than needed. This is done because in some optimization problems we may not reach to a feasible solution with strict equality constraints. Although, that is not the case here.", "Formulation of the problem ends here. We now move forward to understanding how we can code this problem in Python and finding the minimum cost of supplying the goods. We will also get the optimal answer which will suggest how many goods should be supplied by which warehouse and to which customers.", "PuLP is a free open source software written in Python. It is used to describe optimisation problems as mathematical models. PuLP can then call any of numerous external LP solvers (CBC, GLPK, CPLEX, Gurobi etc) to solve this model and then use python commands to manipulate and display the solution. Do read its documentation which is super-helpful. The following link also helps you understand how you can install the library PuLP and any required solver in your Python environment.", "You can find the entire code (Jupyter notebook) that will be explained below in the following Github repo.", "The first statement imports all the required functions that we will be using from the PuLP library. Pandas is a data manipulation library and Numpy is a library used majorly for working with multi-dimensional arrays in Python. I usually just import these libraries since they are mostly used in almost all data analysis projects.", "Let\u2019s define the data and assign it to variables which can be then used to feed into the model, objective function and constraints.", "All variables are intuitive and easy to interpret.", "We can initialize the model by calling LpProblem() function. The first argument in the function represents the name we want to give to our model. The second argument tells our model whether we want to minimize or maximize our objective function.", "You can use LpMaximize instead incase you want to maximize your objective function.", "You can define variable names in your model to make your model look more intuitive to the person who will be reading it later. Hence, we create indices for our decision variables which will be defined later.", "Further, we define our variables using LpVariables.matrix. We can also use dictionaries or singleton variables while defining our decision variables but this looked like the best method in this case since the number of warehouses or customers may increase for a bigger problem. We give our decision variables the name X and use indices defined above as the second argument which helps PuLP understand that we want a 2*4 matrix. The third argument is a category which tells that our decision variables can only take Integer values. By default, it is Continuous . This also tells us that our Linear Programming problem is actually an Integer LP. In case, we also had decision variables which could take continuous values, we would call it a MILP or Mixed Integer LP. In the fourth and final argument, we set a lower bound of 0 suggesting that our decision variables are \u2265 0. In order to leverage the Numpy array operations, we can convert our decision variables to a Numpy array.", "Let us now define our objective function which is basically the overall cost of supplying the products. In other words, it is the sum-product of Cost matrix and the Allocation matrix defined above. We can define our objective function as follows. lpSum is used alternatively with sum function in Python because it is much faster while performing operations with PuLP variables and also summarizes the variables well. We further add the objective function to the model using the += shorthand operator.", "Let us see how our model looks like now.", "As we can see, we have given our problem a name. In the objective function we are trying to minimize the cost and all our decision variables are in place. It is a good idea to print the model while creating it to understand if we have missed upon something or not. Now we move forward to adding constraints to our model.", "We have 2 major types of constraints that we need to add:-", "As seen before, these constraints say that the total allocation done or products supplied across all customers for a given warehouse or i-th warehouse should be such that it does not violate the availability of that warehouse.", "These constraints say that the allocation done for each customer or the j-th customer should be such that the demand of that customer is met.", "Now that we are done with all formulation needed, let us check how are model looks. This can be done by printing the model: print(model).", "We can also save this model in a .lp file which can be referred by anyone who is not familiar with our model. It is basically like a text file containing the exact details of the optimization model as printed above.", "Since we have checked that the model looks fine, we should now run the model and check whether we got a feasible/optimal solution to our problem or not. By default, PuLP uses the CBC solver, but we can initiate other solvers as well like GLPK, Gurobi etc. I have explicitly called CBC here. Similarly, we can call any other solver in-place of CBC.", "The output of the above code is Optimal which tells us that our model has been able to find an optimal solution to the problem.", "Let us now look at the minimum cost that the company has to bear by printing out the optimal solution to our problem i.e the objective function value and also look at the optimal arrangement of shipping products from warehouses to the customers.", "Further, we can check how many products need to be supplied from each warehouse and hence how much capacity will be needed at each warehouse.", "Thus, we only need 45000 units at Warehouse 2 contrary to 80000 available. Although very naive in this case, we can do many similar analysis from the output of optimization problems and make relevant business decisions. Like, in case there was an operating cost associated with each warehouse. There can be many variants to this demand supply problem. Explore!", "We briefly looked upon Optimization and Linear Programming. We also learnt how to formulate a problem using mathematical equations. Further, we deep dived into coding a LP problem by leveraging Python and PuLP library and analysing its results. With this, we come to the end of this article. I hope you find this useful!", "I would also like to thank my dear friend, Karan Bhanot, who has inspired me through his articles and also motivated me to share my knowledge with the world!", "Note: I have used Python version 3.7.6 and PuLP version 2.1. It is not necessary for you to use the same versions but sometimes due to some updates in the PuLP library, there might be minor discrepancies leading to errors (majorly due to syntactical changes), hence adding this as a quick note.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist at McKinsey & Company | Prescriptive Analytics | Optimization | Meta-heuristics | ML | NN & RL enthusiast | Badminton lover l Views are my own."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F22b5ee888fe0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flinear-programming-using-python-priyansh-22b5ee888fe0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flinear-programming-using-python-priyansh-22b5ee888fe0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flinear-programming-using-python-priyansh-22b5ee888fe0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flinear-programming-using-python-priyansh-22b5ee888fe0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----22b5ee888fe0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----22b5ee888fe0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@priyanshsoni?source=post_page-----22b5ee888fe0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@priyanshsoni?source=post_page-----22b5ee888fe0--------------------------------", "anchor_text": "Priyansh Soni"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F57f701514aa9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flinear-programming-using-python-priyansh-22b5ee888fe0&user=Priyansh+Soni&userId=57f701514aa9&source=post_page-57f701514aa9----22b5ee888fe0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F22b5ee888fe0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flinear-programming-using-python-priyansh-22b5ee888fe0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F22b5ee888fe0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flinear-programming-using-python-priyansh-22b5ee888fe0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@antoine1003?utm_source=medium&utm_medium=referral", "anchor_text": "Antoine Dautry"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://unsplash.com/@diggitymarketing?utm_source=medium&utm_medium=referral", "anchor_text": "Diggity Marketing"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://unsplash.com/@helloquence?utm_source=medium&utm_medium=referral", "anchor_text": "Helloquence"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.igi-global.com/dictionary/cuckoo-search-for-optimization-and-computational-intelligence/21383", "anchor_text": "an optimization problem consists of maximizing or minimizing a real function by systematically choosing input values from within an allowed set and computing the value of the function."}, {"url": "https://unsplash.com/@stevep4?utm_source=medium&utm_medium=referral", "anchor_text": "Stephen Monroe"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://commons.wikimedia.org/w/index.php?curid=6666051", "anchor_text": "https://commons.wikimedia.org/w/index.php?curid=6666051"}, {"url": "https://coin-or.github.io/pulp/main/installing_pulp_at_home.html", "anchor_text": "https://coin-or.github.io/pulp/main/installing_pulp_at_home.htm"}, {"url": "https://github.com/mnips/Linear-Programming-Python-1", "anchor_text": "mnips/Linear-Programming-Python-1A quick guide for Linear Programming using Python (PuLP). - mnips/Linear-Programming-Python-1github.com"}, {"url": "https://medium.com/u/10df94b13417?source=post_page-----22b5ee888fe0--------------------------------", "anchor_text": "Karan Bhanot"}, {"url": "https://medium.com/tag/optimization?source=post_page-----22b5ee888fe0---------------optimization-----------------", "anchor_text": "Optimization"}, {"url": "https://medium.com/tag/operations-research?source=post_page-----22b5ee888fe0---------------operations_research-----------------", "anchor_text": "Operations Research"}, {"url": "https://medium.com/tag/linear-optimization?source=post_page-----22b5ee888fe0---------------linear_optimization-----------------", "anchor_text": "Linear Optimization"}, {"url": "https://medium.com/tag/python?source=post_page-----22b5ee888fe0---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----22b5ee888fe0---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F22b5ee888fe0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flinear-programming-using-python-priyansh-22b5ee888fe0&user=Priyansh+Soni&userId=57f701514aa9&source=-----22b5ee888fe0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F22b5ee888fe0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flinear-programming-using-python-priyansh-22b5ee888fe0&user=Priyansh+Soni&userId=57f701514aa9&source=-----22b5ee888fe0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F22b5ee888fe0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flinear-programming-using-python-priyansh-22b5ee888fe0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----22b5ee888fe0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F22b5ee888fe0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flinear-programming-using-python-priyansh-22b5ee888fe0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----22b5ee888fe0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----22b5ee888fe0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----22b5ee888fe0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----22b5ee888fe0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----22b5ee888fe0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----22b5ee888fe0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----22b5ee888fe0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----22b5ee888fe0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----22b5ee888fe0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@priyanshsoni?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@priyanshsoni?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Priyansh Soni"}, {"url": "https://medium.com/@priyanshsoni/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "71 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F57f701514aa9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flinear-programming-using-python-priyansh-22b5ee888fe0&user=Priyansh+Soni&userId=57f701514aa9&source=post_page-57f701514aa9--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F71fbf402d7d5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flinear-programming-using-python-priyansh-22b5ee888fe0&newsletterV3=57f701514aa9&newsletterV3Id=71fbf402d7d5&user=Priyansh+Soni&userId=57f701514aa9&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}