{"url": "https://towardsdatascience.com/dynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6", "time": 1683013689.6107688, "path": "towardsdatascience.com/dynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6/", "webpage": {"metadata": {"title": "Dynamic UI in Shiny (incl. demo app) | by Thomas Filaire | Towards Data Science", "h1": "Dynamic UI in Shiny (incl. demo app)", "description": "How to build dynamic UI iteratively with R Shiny - a tutorial"}, "outgoing_paragraph_urls": [{"url": "https://shiny.rstudio.com/", "anchor_text": "Shiny", "paragraph_index": 0}, {"url": "https://www.r-project.org/", "anchor_text": "R", "paragraph_index": 0}, {"url": "https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects", "anchor_text": "RStudio projects", "paragraph_index": 4}, {"url": "https://cho7tom.shinyapps.io/dynamic-ui/", "anchor_text": "here", "paragraph_index": 8}, {"url": "https://bitbucket.org/cho7tom/dynamic-ui/src/master/", "anchor_text": "here", "paragraph_index": 11}, {"url": "https://shiny.rstudio.com/", "anchor_text": "shiny", "paragraph_index": 14}, {"url": "https://rstudio.github.io/shinythemes/", "anchor_text": "shinythemes", "paragraph_index": 14}, {"url": "https://dreamrs.github.io/shinyWidgets/index.html", "anchor_text": "shinyWidgets", "paragraph_index": 14}, {"url": "https://www.tidyverse.org/", "anchor_text": "tidyverse", "paragraph_index": 14}, {"url": "https://fr.wikipedia.org/wiki/Stranger_Things#Acteurs_principaux", "anchor_text": "Wikipedia", "paragraph_index": 15}, {"url": "https://shiny.rstudio.com/gallery/widget-gallery.html", "anchor_text": "selectInput()", "paragraph_index": 20}, {"url": "https://www.rdocumentation.org/packages/shinyWidgets/versions/0.5.3/topics/pickerInput", "anchor_text": "shinyWidget::pickerInput()", "paragraph_index": 20}, {"url": "https://adv-r.hadley.nz/fp.html", "anchor_text": "functional programing", "paragraph_index": 22}, {"url": "https://www.rdocumentation.org/packages/stringr/versions/1.4.0/topics/str_glue", "anchor_text": "str_glue()", "paragraph_index": 24}, {"url": "https://stringr.tidyverse.org/", "anchor_text": "stringr", "paragraph_index": 25}, {"url": "https://bitbucket.org/cho7tom/dynamic-ui/src/master/", "anchor_text": "here", "paragraph_index": 38}], "all_paragraphs": ["Shiny has become an extremely popular solution to build interactive web apps straight from R. So popular that most data & analytics teams in companies have adopted this framework as part of their toolkit.", "However, R Shiny is often said to be a good framework for fast prototyping, but not robust enough for industrialized, scalable solutions running into production.", "With this series, I share some advanced tips with the ambition to overcome these objections and to help you build robust/ sustainable/ scalable applications, ready for business usage in production!", "Software environments that are used and relied on by real users, with real consequences if things go wrong \u2014 Joe Cheng, CTO@RStudio", "Note: in order to get the most from this tutorial, interested reader should already be familiar with basic Shiny principles (e.g. reactivity), R programing (e.g. function definition, tidyverse, purrr::map()), web development (e.g. html tags and css), and RStudio projects.", "In this tutorial, I will focus on describing a reproducible way to dynamically generate UI components based on user inputs.", "This feature is very useful in countless situations, as users of your applications are likely to display an a-priori unknown number of information on their dashboard. To list just a few situations:", "In addition, I\u2019ll also describe how to define observers to trigger actions from dynamically generated buttons which is not a trivial task (as it requires a bit of JavaScript).", "This tutorial comes with a R Shiny demo application which you can access here.", "In this particular educational example, you (the user) can select as many Stranger Things characters as desired, and display basic information for each of them, through what I\u2019ll call an infocard.", "Each character\u2019s infocard offers additional capabilities:", "My advice: in order to get the most out of this tutorial, I recommend to try rebuilding the application by combining the various pieces of code provided throughout the article. Main blocks are numbered in a logical way so that you do not get lost along the way. If necessary, the entire code is also available on my bitbucket account here. Please have a look to see where to store images in the project structure.", "My approach to guide you through the code is the following:", "To build the R Shiny companion app for this tutorial:", "I used the 4 following packages: shiny, shinythemes, shinyWidgets, and tidyverse", "I built a small dataset with basic information relative to main Stranger Things\u2019 characters (source: Wikipedia):", "I chose to initialise the application with 2 active characters, meaning that 2 infocards will be displayed when the app starts:", "Lastly I built a basic backbone for the application, made of:", "The header (backbone\u2019s section 2.1) is a simple container where I display basic information about the application. I took advantage of existing bootstrap classes to make the text eye-catching (see page-header and lead classes)", "To illustrate the dynamic UI functionality, I built a very simple selector for the user to choose her/his favorite Stranger Things character. Once selected, just click on the \u2018Add\u2019 button to show the corresponding infocard.", "While the basic selectInput() from shiny package is great and I use it most of the time, I made the choice to opt for the shinyWidget::pickerInput() alternative, which presents many benefits, in particular live search capabilities. Test it and I\u2019m sure you\u2019ll adopt it!", "I built a function to generate infocard (thus an HTML piece of code), which I will call later on from the server side in a purrr::map() function to apply it to a list of Stranger Things characters.", "As an R Shiny programers you should embrace functional programing as it forces you to create functions that can easily be analyzed in isolation, and avoid unnecessary duplication of code, improving readability.", "The function takes a character\u2019s name as an input, and return the infocard (HTML object). 3 key important things to notice:", "str_glue() makes is easy to insert the value of a variable within a character string. In order to make each button\u2019s id unique I adopted the following pattern:", "I also used functions from the stringr package to lowercase/uppercase selected character\u2019s name and to add/remove \u201c_\u201d so as to make string a valid id.", "Once we have defined the backbone of the application, and built the function to generate the custom-made infocards, let\u2019s jump on the server side.", "First, I used an eventReactive() function to capture any new character which the user selects through the pickerInput widget. eventReactive() allows the reactive components to update only when the user confirms her/his choice by clicking on the \u2018Add\u2019 button (which id is input$ab_show_character).", "Whenever a new character is selected by the user, information must be captured and added to previous list of selected characters. I used a reactiveValues() to store selected characters, initialized with current_user_selection defined as per part 1.", "An observeEvent updates reactive_values whenever the \u2018Add\u2019 button is clicked. I inserted a unique() in the pipeline to make sure infocards are note created multiple times, and thus are displayed only once.", "Based on reactive_values$character_list (the list of user\u2019s chosen characters), I generate as many infocards as necessary inside a renderUI block, which is then \u2018rendered\u2019 in the UI via a corresponding uiOutput:", "To build the UI part, I passed the list of characters within the purrr::map() function so as to call the custom my_infocard() function as many times as required. As purrr::map() returns a list, I pipe the result with the tagList() function to bind outputs together and generate a unique (and potentially big) HTML section.", "See in the screenshot below a visual explanation of how tagList() works:", "At this stage of development, the application should be working almost as desired.", "The last functionality to add is the ability to remove an infocard by clicking on the \u2018Remove\u2019 button.", "I used a bit of JavaScript here. I will not cover JavaScript in details (I\u2019m far from being a expert in this domain), but simply notice here that:", "As \u2018Remove\u2019 buttons have the rm_btn class (see definition in section 1.3), Shiny will get access to their respective id whenever they are clicked. Finally, I take advantage of this in order to remove the corresponding character from the characters\u2019 list, through an observeEvent().", "And we\u2019re done! Congratulations if you\u2019ve been able to made it so far!.", "I hope you found this article useful and that it will help you build better applications. You can find the entire code on my bitbucket repo here.", "Please do not hesitate to send any feedback or questions!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa6fb791be4c6&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://me.dm/@tfilaire", "anchor_text": "Mastodon"}, {"url": "https://towardsdatascience.com/?source=post_page-----a6fb791be4c6--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a6fb791be4c6--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://tfilaire.medium.com/?source=post_page-----a6fb791be4c6--------------------------------", "anchor_text": ""}, {"url": "https://tfilaire.medium.com/?source=post_page-----a6fb791be4c6--------------------------------", "anchor_text": "Thomas Filaire"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6a059addf340&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6&user=Thomas+Filaire&userId=6a059addf340&source=post_page-6a059addf340----a6fb791be4c6---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa6fb791be4c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa6fb791be4c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://cho7tom.shinyapps.io/dynamic-ui/", "anchor_text": "here"}, {"url": "https://shiny.rstudio.com/", "anchor_text": "Shiny"}, {"url": "https://www.r-project.org/", "anchor_text": "R"}, {"url": "https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects", "anchor_text": "RStudio projects"}, {"url": "https://cho7tom.shinyapps.io/dynamic-ui/", "anchor_text": "here"}, {"url": "https://bitbucket.org/cho7tom/dynamic-ui/src/master/", "anchor_text": "here"}, {"url": "https://shiny.rstudio.com/", "anchor_text": "shiny"}, {"url": "https://rstudio.github.io/shinythemes/", "anchor_text": "shinythemes"}, {"url": "https://dreamrs.github.io/shinyWidgets/index.html", "anchor_text": "shinyWidgets"}, {"url": "https://www.tidyverse.org/", "anchor_text": "tidyverse"}, {"url": "https://fr.wikipedia.org/wiki/Stranger_Things#Acteurs_principaux", "anchor_text": "Wikipedia"}, {"url": "https://en.wikipedia.org/wiki/Winona_Ryder", "anchor_text": "https://en.wikipedia.org/wiki/Winona_Ryder"}, {"url": "https://en.wikipedia.org/wiki/David_Harbour", "anchor_text": "https://en.wikipedia.org/wiki/David_Harbour"}, {"url": "https://en.wikipedia.org/wiki/Finn_Wolfhard", "anchor_text": "https://en.wikipedia.org/wiki/Finn_Wolfhard"}, {"url": "https://en.wikipedia.org/wiki/Millie_Bobby_Brown", "anchor_text": "https://en.wikipedia.org/wiki/Millie_Bobby_Brown"}, {"url": "https://en.wikipedia.org/wiki/Gaten_Matarazzo", "anchor_text": "https://en.wikipedia.org/wiki/Gaten_Matarazzo"}, {"url": "https://en.wikipedia.org/wiki/Caleb_McLaughlin", "anchor_text": "https://en.wikipedia.org/wiki/Caleb_McLaughlin"}, {"url": "https://en.wikipedia.org/wiki/Natalia_Dyer", "anchor_text": "https://en.wikipedia.org/wiki/Natalia_Dyer"}, {"url": "https://en.wikipedia.org/wiki/Charlie_Heaton", "anchor_text": "https://en.wikipedia.org/wiki/Charlie_Heaton"}, {"url": "https://en.wikipedia.org/wiki/Cara_Buono", "anchor_text": "https://en.wikipedia.org/wiki/Cara_Buono"}, {"url": "https://en.wikipedia.org/wiki/Noah_Schnapp", "anchor_text": "https://en.wikipedia.org/wiki/Noah_Schnapp"}, {"url": "https://en.wikipedia.org/wiki/Sadie_Sink", "anchor_text": "https://en.wikipedia.org/wiki/Sadie_Sink"}, {"url": "https://en.wikipedia.org/wiki/Joe_Keery", "anchor_text": "https://en.wikipedia.org/wiki/Joe_Keery"}, {"url": "https://tibble.tidyverse.org/", "anchor_text": "tibble"}, {"url": "https://www.rdocumentation.org/packages/shiny/versions/1.5.0/topics/navbarPage", "anchor_text": "navbarPage"}, {"url": "https://getbootstrap.com/docs/3.3/", "anchor_text": "bootstrap 3"}, {"url": "https://www.rdocumentation.org/packages/shiny/versions/1.5.0/topics/wellPanel", "anchor_text": "shiny::wellPanel()"}, {"url": "https://shiny.rstudio.com/gallery/widget-gallery.html", "anchor_text": "selectInput()"}, {"url": "https://www.rdocumentation.org/packages/shinyWidgets/versions/0.5.3/topics/pickerInput", "anchor_text": "shinyWidget::pickerInput()"}, {"url": "https://adv-r.hadley.nz/fp.html", "anchor_text": "functional programing"}, {"url": "https://www.rdocumentation.org/packages/stringr/versions/1.4.0/topics/str_glue", "anchor_text": "str_glue()"}, {"url": "https://stringr.tidyverse.org/", "anchor_text": "stringr"}, {"url": "https://bitbucket.org/cho7tom/dynamic-ui/src/master/", "anchor_text": "here"}, {"url": "https://shiny.rstudio.com/articles/cheatsheet.html", "anchor_text": "R Shiny cheatsheet"}, {"url": "https://shiny.rstudio.com/articles/communicating-with-js.html", "anchor_text": "Communicating with Shiny via JavaScript"}, {"url": "https://university.business-science.io/p/expert-shiny-developer-with-aws-course-ds4b-202a-r/", "anchor_text": "Business Science 202A \u2014 Build scalable applications using R"}, {"url": "https://medium.com/tag/shiny?source=post_page-----a6fb791be4c6---------------shiny-----------------", "anchor_text": "Shiny"}, {"url": "https://medium.com/tag/web-development?source=post_page-----a6fb791be4c6---------------web_development-----------------", "anchor_text": "Web Development"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a6fb791be4c6---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/rstats?source=post_page-----a6fb791be4c6---------------rstats-----------------", "anchor_text": "Rstats"}, {"url": "https://medium.com/tag/tutorial?source=post_page-----a6fb791be4c6---------------tutorial-----------------", "anchor_text": "Tutorial"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa6fb791be4c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6&user=Thomas+Filaire&userId=6a059addf340&source=-----a6fb791be4c6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa6fb791be4c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6&user=Thomas+Filaire&userId=6a059addf340&source=-----a6fb791be4c6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa6fb791be4c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a6fb791be4c6--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa6fb791be4c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a6fb791be4c6---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a6fb791be4c6--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a6fb791be4c6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a6fb791be4c6--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a6fb791be4c6--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a6fb791be4c6--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a6fb791be4c6--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a6fb791be4c6--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a6fb791be4c6--------------------------------", "anchor_text": ""}, {"url": "https://tfilaire.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://tfilaire.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Thomas Filaire"}, {"url": "https://tfilaire.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "203 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6a059addf340&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6&user=Thomas+Filaire&userId=6a059addf340&source=post_page-6a059addf340--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ffb05bf86a8ba&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6&newsletterV3=6a059addf340&newsletterV3Id=fb05bf86a8ba&user=Thomas+Filaire&userId=6a059addf340&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}