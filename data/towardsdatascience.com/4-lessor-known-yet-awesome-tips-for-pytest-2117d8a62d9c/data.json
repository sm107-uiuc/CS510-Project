{"url": "https://towardsdatascience.com/4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c", "time": 1683016776.127539, "path": "towardsdatascience.com/4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c/", "webpage": {"metadata": {"title": "4 Useful Plugins for Pytest. Master Unit Testing in Python with\u2026 | by Khuyen Tran | Towards Data Science", "h1": "4 Useful Plugins for Pytest", "description": "As a data scientist, it is important to make sure your functions work as expected. A good practice is to write a small function then test your function with unit testing. Rather than trying to debug\u2026"}, "outgoing_paragraph_urls": [{"url": "https://docs.pytest.org/en/stable/", "anchor_text": "Pytest", "paragraph_index": 2}, {"url": "https://towardsdatascience.com/pytest-for-data-scientists-2990319e55e6", "anchor_text": "here", "paragraph_index": 2}, {"url": "https://medium.com/r?url=https%3A%2F%2Ftowardsdatascience.com%2Fpytest-for-data-scientists-2990319e55e6", "anchor_text": "my previous pytest article", "paragraph_index": 5}, {"url": "https://towardsdatascience.com/supercharge-your-python-string-with-textblob-2d9c08a8da05", "anchor_text": "here", "paragraph_index": 5}, {"url": "https://towardsdatascience.com/supercharge-your-python-string-with-textblob-2d9c08a8da05#087d", "anchor_text": "polarity of the sentiment.", "paragraph_index": 14}, {"url": "https://pypi.org/project/pytest-repeat/", "anchor_text": "here", "paragraph_index": 22}, {"url": "https://towardsdatascience.com/timing-the-performance-to-choose-the-right-python-object-for-your-data-science-project-670db6f11b8e", "anchor_text": "timing for efficient Python code", "paragraph_index": 26}, {"url": "https://pypi.org/project/pytest-benchmark/", "anchor_text": "here", "paragraph_index": 36}, {"url": "https://github.com/khuyentran1401/Data-science/tree/master/data_science_tools/advanced_pytest", "anchor_text": "here", "paragraph_index": 39}, {"url": "https://twitter.com/KhuyenTran16", "anchor_text": "Twitter", "paragraph_index": 40}, {"url": "https://github.com/khuyentran1401/Data-science", "anchor_text": "this repo", "paragraph_index": 41}], "all_paragraphs": ["As a data scientist, it is important to make sure your functions work as expected. A good practice is to write a small function then test your function with unit testing.", "Rather than trying to debug a big chunk of code, it is better to break your code down into smaller pieces and make sure the smaller pieces work.", "Pytest is the ideal framework that makes it easy to write small tests in Python. I covered the benefits of unit testing and how to get started with pytest here. In the last article, I have shown how to:", "In this article, I will show you how to:", "It is common to see deprecation warnings when running pytest. The warnings might not be necessary and appear annoying when we just want to debug our code. Luckily, we can filter pytest warnings.", "I will borrow the examples from my previous pytest article. In this example, I want to test whether TextBlob accurately predicts the sentiment of a text. If you don\u2019t know about TextBlob, you can learn more about the tool here.", "When we test this script using", "In order to filter the warnings, create a file called pytest.ini in the same directory that we run our script", "Then insert the content below inside the pytest.ini", "That\u2019s it! Now rerun our test. We will have a clean output without the warnings!", "Sometimes we might want to see the intermediate output before writing assert statement. Why not print the output to know the intermediate output?", "This will also help us develop a function that produces the output we want.", "For example, we can print text.sentiment to know what exactly text.sentiment does", "When running pytest test_example.py, we will see no output. In order to see the output of theprint function, we need to include -s at the end of our command", "Awesome! Now we know we can use text.sentiment.polarityto get the polarity of the sentiment.", "Sometimes we might want to run one test 100 times to make sure the function always works as expected.", "For example, we discovered the method to combine 2 Python lists", "From the output, it seems like the values in the list l2 are inserted after the values in the list l1. But is the order always that way with every pair of lists?", "To make sure the order of insertion is preserved when using the functionextend, we can create two random lists then test it 100 times. If all tests pass, we are certain that the function will always work as we expected", "To repeat a single test, install pytest-repeat", "Now use pytest.mark.repeat(100) as the decorator of the test function we want to repeat", "Awesome. Now we are certain that the order of insertion will always be preserved when using extend() since 101 tests passed.", "If you want to be more certain, increase the number to 1000 and see what you get. You can find more about pytest-repeat here.", "We might not only want to assert the outputs are what we expected, but we also want to compare the speed of different functions.", "A benchmark is a test that we can use to measure how fast our code is.", "Luckily, there is a library called pytest-benchmark that allows us to benchmark our code while testing our function with pytest!", "I will borrow the examples from my article on timing for efficient Python code to show how we can use pytest-benchmark.", "Here we test how long it takes to create a list using concat method", "The mean time of running concat is 792.1252 microseconds. We can see other measurements such as the min time and max time!", "We can also insert parameters for the test function and repeat the tests 100 times to get a more accurate estimation of how fast the code is executed.", "We get a different mean of 730 microseconds.", "Now let\u2019s use pytest-benchmark to compare multiple methods to create a list ranging from 0 to 999.", "The output is nice and easy to read! From the output, we know that the list range method takes the least amount of time to execute and the concat method takes the most amount of time to execute!", "We know that theconcat method takes more time to execute than other methods, but how much longer?", "We can visualize the results using --benchmark-historgram", "Wow! Theconcat method takes much longer to run compared to other methods.", "You can learn more about pytest-benchmark here.", "Congratulations! You have just learned 4 different tips to test your functions using pytest. I hope these will help you test your functions more efficiently and write robust code.", "Your teammates will be thankful when you write code that works.", "The source code of this article could be found here.", "I like to write about basic data science concepts and play with different algorithms and data science tools. You could connect with me on LinkedIn and Twitter.", "Star this repo if you want to check out the codes for all of the articles I have written. Follow me on Medium to stay informed with my latest data science articles like these:", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F2117d8a62d9c&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----2117d8a62d9c--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2117d8a62d9c--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://khuyentran1476.medium.com/?source=post_page-----2117d8a62d9c--------------------------------", "anchor_text": ""}, {"url": "https://khuyentran1476.medium.com/?source=post_page-----2117d8a62d9c--------------------------------", "anchor_text": "Khuyen Tran"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F84a02493194a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c&user=Khuyen+Tran&userId=84a02493194a&source=post_page-84a02493194a----2117d8a62d9c---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2117d8a62d9c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2117d8a62d9c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@gmalhotra?utm_source=medium&utm_medium=referral", "anchor_text": "Gayatri Malhotra"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://docs.pytest.org/en/stable/", "anchor_text": "Pytest"}, {"url": "https://towardsdatascience.com/pytest-for-data-scientists-2990319e55e6", "anchor_text": "here"}, {"url": "https://medium.com/r?url=https%3A%2F%2Ftowardsdatascience.com%2Fpytest-for-data-scientists-2990319e55e6", "anchor_text": "my previous pytest article"}, {"url": "https://towardsdatascience.com/supercharge-your-python-string-with-textblob-2d9c08a8da05", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/supercharge-your-python-string-with-textblob-2d9c08a8da05#087d", "anchor_text": "polarity of the sentiment."}, {"url": "https://pypi.org/project/pytest-repeat/", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/timing-the-performance-to-choose-the-right-python-object-for-your-data-science-project-670db6f11b8e", "anchor_text": "timing for efficient Python code"}, {"url": "https://pypi.org/project/pytest-benchmark/", "anchor_text": "here"}, {"url": "https://github.com/khuyentran1401/Data-science/tree/master/data_science_tools/advanced_pytest", "anchor_text": "here"}, {"url": "https://twitter.com/KhuyenTran16", "anchor_text": "Twitter"}, {"url": "https://github.com/khuyentran1401/Data-science", "anchor_text": "this repo"}, {"url": "https://towardsdatascience.com/timing-the-performance-to-choose-the-right-python-object-for-your-data-science-project-670db6f11b8e", "anchor_text": "Timing for Efficient Python CodeHow to compare the performance between list, set and other methodstowardsdatascience.com"}, {"url": "https://towardsdatascience.com/3-ways-to-extract-features-from-dates-927bd89cd5b9", "anchor_text": "3 Ways to Extract Features from Dates with PythonGet more Features Out of your Time Series Dataset in One Line of Codetowardsdatascience.com"}, {"url": "https://towardsdatascience.com/3-python-tricks-to-read-create-and-run-multiple-files-automatically-5221ebaad2ba", "anchor_text": "3 Python Tricks to Read, Create, and Run Multiple Files AutomaticallyAutomate Boring Stuff with Python and Bash For Looptowardsdatascience.com"}, {"url": "https://towardsdatascience.com/incorporate-the-best-practices-for-python-with-these-top-4-vscode-extensions-3101177c23a9", "anchor_text": "Incorporate the Best Practices for Python with These Top 4 VSCode ExtensionsWhy not Make Python\u2019s Best Practices Easier to Adopt?towardsdatascience.com"}, {"url": "https://medium.com/tag/python?source=post_page-----2117d8a62d9c---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----2117d8a62d9c---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/coding?source=post_page-----2117d8a62d9c---------------coding-----------------", "anchor_text": "Coding"}, {"url": "https://medium.com/tag/data-science?source=post_page-----2117d8a62d9c---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python-programming?source=post_page-----2117d8a62d9c---------------python_programming-----------------", "anchor_text": "Python Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2117d8a62d9c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c&user=Khuyen+Tran&userId=84a02493194a&source=-----2117d8a62d9c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2117d8a62d9c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c&user=Khuyen+Tran&userId=84a02493194a&source=-----2117d8a62d9c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2117d8a62d9c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2117d8a62d9c--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F2117d8a62d9c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----2117d8a62d9c---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----2117d8a62d9c--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----2117d8a62d9c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----2117d8a62d9c--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----2117d8a62d9c--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----2117d8a62d9c--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----2117d8a62d9c--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----2117d8a62d9c--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----2117d8a62d9c--------------------------------", "anchor_text": ""}, {"url": "https://khuyentran1476.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://khuyentran1476.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Khuyen Tran"}, {"url": "https://khuyentran1476.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "34K Followers"}, {"url": "https://mathdatasimplified.com", "anchor_text": "https://mathdatasimplified.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F84a02493194a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c&user=Khuyen+Tran&userId=84a02493194a&source=post_page-84a02493194a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fde46523b7a77&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-lessor-known-yet-awesome-tips-for-pytest-2117d8a62d9c&newsletterV3=84a02493194a&newsletterV3Id=de46523b7a77&user=Khuyen+Tran&userId=84a02493194a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}