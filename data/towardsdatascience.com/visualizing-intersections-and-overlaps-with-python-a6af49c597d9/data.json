{"url": "https://towardsdatascience.com/visualizing-intersections-and-overlaps-with-python-a6af49c597d9", "time": 1683017820.795584, "path": "towardsdatascience.com/visualizing-intersections-and-overlaps-with-python-a6af49c597d9/", "webpage": {"metadata": {"title": "Visualizing Intersections and Overlaps with Python | by Thiago Carvalho | Towards Data Science", "h1": "Visualizing Intersections and Overlaps with Python", "description": "A prevalent task in any data analysis is comparing multiple sets of something. You may have lists of IPs for each landing page of your website, clients who bought certain items from your store\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/data-visualization-society/data_visualization_survey/tree/master/data/2020", "anchor_text": "dataset", "paragraph_index": 2}, {"url": "https://www.datavisualizationsociety.com/census", "anchor_text": "Data Visualization Society 2020 Census", "paragraph_index": 2}, {"url": "https://pypi.org/project/matplotlib-venn/", "anchor_text": "Matplotlib-Venn", "paragraph_index": 9}, {"url": "https://pypi.org/project/venn/", "anchor_text": "PyVenn", "paragraph_index": 25}, {"url": "https://ieeexplore.ieee.org/document/6876017", "anchor_text": "Upset plots", "paragraph_index": 30}, {"url": "https://pypi.org/project/UpSetPlot/", "anchor_text": "UpSetPlot", "paragraph_index": 31}, {"url": "https://linktr.ee/thiagobc23", "anchor_text": "Here", "paragraph_index": 39}], "all_paragraphs": ["A prevalent task in any data analysis is comparing multiple sets of something. You may have lists of IPs for each landing page of your website, clients who bought certain items from your store, multiple answers from a survey, and so many others.", "This article will use Python to explore ways to visualize overlaps and intersections of sets, the possibilities, and their advantages and disadvantages.", "For the next examples, I\u2019ll use a dataset from the Data Visualization Society 2020 Census.", "I\u2019m using the survey because it has many different types of questions, where some are multiple-choice questions with multiple answers, like the bellow.", "Let\u2019s say we plot a count for each answer. We would have a total in our chart bigger than the total number of respondents, which can be hard for our audience to understand, raising questions or even making the viewers skeptical about the data.", "For example, if we had 100 respondents and three possible answers \u2014 A, B, and C.", "We could have something like this:50 answered \u2014 A and B;25 answered \u2014 A and C;25 answered \u2014 A;", "It looks confusing; even if we explain to the audience that a respondent could select more than one response, it\u2019s hard to grasp what this chart represents.", "Besides that, with this visualization, we don\u2019t have any information about how the answers intersect. For example, it\u2019s impossible to tell that nobody selected all three options.", "Let\u2019s start with a simple and very familiar solution, Venn diagrams. I\u2019ll use Matplotlib-Venn for this task.", "Now let\u2019s load the dataset and prepare the data we want to analyze.", "The question we\u2019ll check is, \u201cWhich of these best describes your role as a data visualizer in the past year?\u201d.", "The answers to this question are distributed in 6 columns, one for each response.", "If the respondent selected that answer, the field will have a text. If not, it\u2019ll be empty.", "We\u2019ll convert that data to 6 lists containing the indexes of the users that selected each response.", "Venn diagrams are straightforward to use and understand.", "We need to pass the sets with the key/ids we\u2019ll analyze. If it\u2019s an intersection of two sets, we use Venn2; if it's three sets, we use Venn3.", "Great! With Venn Diagrams, we can clearly display that 201 respondents selected A and didn\u2019t select B, 974 selected B and didn\u2019t select A, and 157 selected both.", "We can even customize some aspects of the chart.", "That\u2019s great, but what if we want to display the overlaps of more than 3 sets?", "Well, there are a couple of possibilities. We could use multiple diagrams, for example.", "That\u2019s ok, but it didn\u2019t really solve the problem. We can\u2019t tell if there\u2019s someone who selected all answers, nor can we tell the intersection of three sets.", "What about a Venn with four circles?", "Here is where things start to get complicated.", "In the above image, there is no intersection for only blue and green. To solve that, we can use ellipses instead of circles.", "I\u2019ll use PyVenn for the next example.", "But, we lost a critical encoding in our diagram \u2014 the size.", "The blue (807) is smaller than the yellow (62), which doesn\u2019t help much in visualizing the data. We can use the legends and the labels to figure what is what, but using a table would be clearer than this.", "There are a few implementations of area proportional Venn diagrams that can handle more than three sets, but I couldn\u2019t find any in Python.", "Layout wise, it\u2019s hard to make a Venn diagram that can display more than three sets properly.", "But there\u2019s another solution available. Upset plots are a great way of displaying the intersection of multiple sets. They\u2019re not so intuitive to read as Venn diagrams but do get the job done.", "I\u2019ll use the library UpSetPlot for the next example, but first, let\u2019s prepare the data.", "With the data properly arranged, we only need one method to draw our chart, and we\u2019re done.", "Awesome! On the top, we have bars showing how many times a combination appeared. On the bottom, there is a matrix showing which combination each bar represents, and on the bottom left, we have a horizontal bar chart representing the total size of each set.", "That\u2019s a lot of information, but the well-organized layout makes it simple to extract insights.", "Even with my poorly written labels, we can easily tell that most people selected \u2018working for an organization.\u2019", "The second most common answer wasn\u2019t even displayed in the previous Venn diagrams: the number of people who didn\u2019t select any answer.", "Overall visualizing sets and their intersections can be a thought task, but we have some good options for tackling it.", "I prefer Venn Diagrams when dealing with a small number of sets and Upset plots when it's more than three. It\u2019s always a good idea to explain what the visualization is displaying and how to read the charts you\u2019re presenting, especially in cases like this where the charts aren\u2019t so friendly.", "Thanks for reading my article. Here, you can find more tutorials about DataViz with Python.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa6af49c597d9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-intersections-and-overlaps-with-python-a6af49c597d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-intersections-and-overlaps-with-python-a6af49c597d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-intersections-and-overlaps-with-python-a6af49c597d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-intersections-and-overlaps-with-python-a6af49c597d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a6af49c597d9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a6af49c597d9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=post_page-----a6af49c597d9--------------------------------", "anchor_text": ""}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=post_page-----a6af49c597d9--------------------------------", "anchor_text": "Thiago Carvalho"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7af498f86142&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-intersections-and-overlaps-with-python-a6af49c597d9&user=Thiago+Carvalho&userId=7af498f86142&source=post_page-7af498f86142----a6af49c597d9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa6af49c597d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-intersections-and-overlaps-with-python-a6af49c597d9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa6af49c597d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-intersections-and-overlaps-with-python-a6af49c597d9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/data-visualization-society/data_visualization_survey/tree/master/data/2020", "anchor_text": "dataset"}, {"url": "https://www.datavisualizationsociety.com/census", "anchor_text": "Data Visualization Society 2020 Census"}, {"url": "https://github.com/data-visualization-society/data_visualization_survey/tree/master/data/2020", "anchor_text": "Data_visualization_survey Git"}, {"url": "https://pypi.org/project/matplotlib-venn/", "anchor_text": "Matplotlib-Venn"}, {"url": "https://pypi.org/project/venn/", "anchor_text": "PyVenn"}, {"url": "https://ieeexplore.ieee.org/document/6876017", "anchor_text": "Upset plots"}, {"url": "https://pypi.org/project/UpSetPlot/", "anchor_text": "UpSetPlot"}, {"url": "https://linktr.ee/thiagobc23", "anchor_text": "Here"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----a6af49c597d9---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/python?source=post_page-----a6af49c597d9---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/matplotlib?source=post_page-----a6af49c597d9---------------matplotlib-----------------", "anchor_text": "Matplotlib"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a6af49c597d9---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/editors-pick?source=post_page-----a6af49c597d9---------------editors_pick-----------------", "anchor_text": "Editors Pick"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa6af49c597d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-intersections-and-overlaps-with-python-a6af49c597d9&user=Thiago+Carvalho&userId=7af498f86142&source=-----a6af49c597d9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa6af49c597d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-intersections-and-overlaps-with-python-a6af49c597d9&user=Thiago+Carvalho&userId=7af498f86142&source=-----a6af49c597d9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa6af49c597d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-intersections-and-overlaps-with-python-a6af49c597d9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a6af49c597d9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa6af49c597d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-intersections-and-overlaps-with-python-a6af49c597d9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a6af49c597d9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a6af49c597d9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a6af49c597d9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a6af49c597d9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a6af49c597d9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a6af49c597d9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a6af49c597d9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a6af49c597d9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a6af49c597d9--------------------------------", "anchor_text": ""}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Thiago Carvalho"}, {"url": "https://thiago-bernardes-carvalho.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.7K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7af498f86142&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-intersections-and-overlaps-with-python-a6af49c597d9&user=Thiago+Carvalho&userId=7af498f86142&source=post_page-7af498f86142--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F10a0f4458714&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-intersections-and-overlaps-with-python-a6af49c597d9&newsletterV3=7af498f86142&newsletterV3Id=10a0f4458714&user=Thiago+Carvalho&userId=7af498f86142&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}