{"url": "https://towardsdatascience.com/deriving-patterns-of-fraud-from-the-enron-dataset-64cbceb65c36", "time": 1683016673.165441, "path": "towardsdatascience.com/deriving-patterns-of-fraud-from-the-enron-dataset-64cbceb65c36/", "webpage": {"metadata": {"title": "Deriving Patterns of Fraud from the Enron Dataset | by Mahnoor Javed | Towards Data Science", "h1": "Deriving Patterns of Fraud from the Enron Dataset", "description": "The Enron fraud is a big, messy and totally fascinating story about corporate malfeasance of nearly every imaginable type. In this article, we will use Python to analyze the dataset, and find out\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Kenneth_Lay", "anchor_text": "Kenneth Lay", "paragraph_index": 3}, {"url": "https://fortune.com/2015/12/30/is-enron-overpriced-fortune-2001/", "anchor_text": "How exactly does Enron make its money", "paragraph_index": 4}, {"url": "https://en.wikipedia.org/wiki/Jeffrey_Skilling", "anchor_text": "Jeffrey Skilling", "paragraph_index": 6}, {"url": "https://en.wikipedia.org/wiki/Mark-to-market_accounting", "anchor_text": "Mark to Market", "paragraph_index": 6}, {"url": "https://en.wikipedia.org/wiki/Arthur_Andersen", "anchor_text": "Arthur Anderson", "paragraph_index": 8}, {"url": "https://www.cs.cmu.edu/~./enron/", "anchor_text": "here", "paragraph_index": 9}, {"url": "https://classroom.udacity.com/courses/ud120", "anchor_text": "Intro to Machine Learning", "paragraph_index": 17}, {"url": "https://github.com/MahnoorJaved98/Enron-Case", "anchor_text": "repository", "paragraph_index": 17}, {"url": "https://matplotlib.org/", "anchor_text": "Matplotlib", "paragraph_index": 26}], "all_paragraphs": ["The Enron fraud is a big, messy and totally fascinating story about corporate malfeasance of nearly every imaginable type.", "In this article, we will use Python to analyze the dataset, and find out patterns and clues through data exploration, as well as build a regression model that could predict the bonus of a person at Enron based on the salaries they receive.", "But first, we need to know a bit about the biggest corporate fraud in American history!", "Enron Corporation was an American energy, commodities, and services company based in Houston, Texas. It was founded by Kenneth Lay as a merger between Houston Natural Gas and InterNorth in 1985.", "Although it started as an energy company, it was involved in so many complex things that people didn\u2019t understand what exactly the company did, and as Bethnay McLean asked \u201cHow exactly does Enron make its money?\u201d.", "Enron was fantastic! Very attractive to investors and the fastest growing company making money at a rate no one has ever seen before. They were the Wall Street darlings, a company that could never lose. It was well-connected politically, was making money at an incredible rate, and seemed to be the leading innovative company and very profitable investment. Fortune named Enron \u201cAmerica\u2019s Most Innovative Company\u201d for six consecutive years.", "Jeffrey Skilling was hired by Kenneth Lay in 1990 as chairman and chief executive officer of Enron Finance Corp. In 1992, Skilling devised a new accounting technique called the Mark to Market, under which the value of the asset could be adjusted on the balance sheet from its historical cost up to the fair market value, and the difference be captured as the gain or revenue. So under this technique, projected revenue was captured as revenue of today and Enron reaped billions. The company\u2019s share prices went up from $10/share to around $80/share from 1999 \u2013 2000. Enron was also guilty of setting up side companies and moving the debts to the new companies' financial records.", "Enron was thus portrayed as a very profitable investment when all numbers on the financial statements were illusionary and fake!", "Enron filed for bankruptcy on December 2, 2001. Arthur Anderson, one of the \u201cBig Five\u201d accounting firms, which audited the financial statements was dissolved as a result of the Enron scandal.", "The Enron email and financial datasets are big, messy treasure troves of information, which become much more useful once you know your way around them a bit. Enron\u2019s complete data may be downloaded from this link here, and the refined pickle files may be downloaded from the following Github repository along with the complete code used in this article.", "First of all, we will explore the dataset we have. Enron data is stored as a pickle file, which is a handy way to store and load Python objects directly.", "The aggregated Enron email + financial dataset is stored in a dictionary, where each key in the dictionary is a person\u2019s name and the value is a dictionary containing all the features of that person.", "Let us find out the number of people in the dataset. We will first load the pickle file to retrieve the pickled data and store it in the variable enron_data (which is a dictionary). We will use Python\u2019s len() command to calculate the length of the dictionary loaded from the pickle file, and print the value.", "As can be seen from the variable explorer, enron_data is a dictionary with 146 keys. It means there are 146 data points or persons we will be dealing with in our dataset.", "Moreover, it can be seen that enron_data is a nested dictionary. We have dictionaries within the dictionary and we have a total of 21 features for each person in the Enron dataset.", "Let us access the features of the nested dictionary. We will first get the first dictionary item of enron_data and then use it to print its features:", "Let us explore the \u2018poi\u2019 feature. POI stands for \u201cPerson of Interest\u201d and includes all the people who are indicted, charged with crime, and people who settled without admitting guilt and testified in exchange for immunity from prosecution in the Enron Scandal.", "The POI list had been prepared by Katie from Udacity\u2019s course \u201cIntro to Machine Learning\u201d. The files can be found in the GitHub repository.", "The following is the code to calculate the number of People of Interest in the dictionary. Out of the 146 people in the enron_data dictionary, the number of POI is 18.", "Out of the 146 people in the enron_data dictionary, the number of POI is 18.", "There are a total of 35 POIs in the text file.", "Let us dive into the data available for the CEO at Enron: Jeffrey K Skilling.", "On printing we get the following information:", "Now, let us access the features of the different people in the dictionary. Following is the code to access and print Skilling\u2019s and Lay\u2019s salary, bonus, and total stocks value:", "Let us find out how many people at Enron had quantified salary:", "95 people from the 146 persons in enron_data have a quantified salary. The rest have NaN values in their salary features. This may pose problems while applying regression so we will remove them.", "Now let us see the range of the salaries of the Enron employees in our dataset. We will use plt.hist from the Matplotlib library in Python and create a histogram to visualize the salaries. We will also be using featureFormat function which will convert the dictionary list into a numpy array:", "As can be seen, most of the employees had their salaries within the $0.1M \u2014 $0.3M range. We have a few outliers here as well. As can be seen, these are the data points for receiving salaries greater than 1 million USD.", "Let us find out the outliers and who is receiving such salaries:", "The salaries beyond $1M are the following:", "Let us see who earned these salaries:", "Let us do the same with the \u2018bonus\u2019 features:", "Hence, Lavorato John J, Lay Kenneth L, Belden Timothy N and Skilling Jeffrey K are the 4 people who earned the highest bonuses during their employment at Enron. What\u2019s interesting is that although Lay and Skilling have been known for their fraud, we get additional 2 persons. Are these POIs as well? Let\u2019s check:", "Now let us use some machine learning algorithms that would predict the bonus knowing the salary of the person.", "For this, we will be using sklearn\u2019s linear regression.", "But first, let us plot the scatterplot to visualize how the salary and bonus of a person are related. We will use the features \u201cbonus\u201d and \u201csalary\u201d and define them in our own features_list.", "We will then use the sklearn.model_selection\u2019s train_test_split to split the data into training and testing data.", "Lastly, we will plot the scatterplot using matplotlib:", "As can be seen, the data has been divided equally between testing and training data and are colored in the scatterplot for visualization purposes.", "Now we will use Linear Regression from sklearn in order to build the regression model for our data:", "When we have predicted the regression line, and know the slope as well as the new intercept, we can now predict the bonuses of people at Enron based on the salary they receive.", "So these were some of the tasks we did with the Enron dataset. The dataset is enormous, and there are hundreds of other cool stuff you could do with it. For the sake of this article, we keep to the basic ones. You may explore further on your own! \ud83d\ude04", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "An engineer by profession, a bibliophile by heart!"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F64cbceb65c36&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fderiving-patterns-of-fraud-from-the-enron-dataset-64cbceb65c36&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fderiving-patterns-of-fraud-from-the-enron-dataset-64cbceb65c36&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fderiving-patterns-of-fraud-from-the-enron-dataset-64cbceb65c36&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fderiving-patterns-of-fraud-from-the-enron-dataset-64cbceb65c36&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----64cbceb65c36--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----64cbceb65c36--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mahnoorjaved.medium.com/?source=post_page-----64cbceb65c36--------------------------------", "anchor_text": ""}, {"url": "https://mahnoorjaved.medium.com/?source=post_page-----64cbceb65c36--------------------------------", "anchor_text": "Mahnoor Javed"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc005fe8944b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fderiving-patterns-of-fraud-from-the-enron-dataset-64cbceb65c36&user=Mahnoor+Javed&userId=c005fe8944b4&source=post_page-c005fe8944b4----64cbceb65c36---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F64cbceb65c36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fderiving-patterns-of-fraud-from-the-enron-dataset-64cbceb65c36&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F64cbceb65c36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fderiving-patterns-of-fraud-from-the-enron-dataset-64cbceb65c36&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@tierramallorca?utm_source=medium&utm_medium=referral", "anchor_text": "Tierra Mallorca"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://en.wikipedia.org/wiki/Kenneth_Lay", "anchor_text": "Kenneth Lay"}, {"url": "https://fortune.com/2015/12/30/is-enron-overpriced-fortune-2001/", "anchor_text": "How exactly does Enron make its money"}, {"url": "https://en.wikipedia.org/wiki/Enron", "anchor_text": "Image from Wikipedia"}, {"url": "https://en.wikipedia.org/wiki/Jeffrey_Skilling", "anchor_text": "Jeffrey Skilling"}, {"url": "https://en.wikipedia.org/wiki/Mark-to-market_accounting", "anchor_text": "Mark to Market"}, {"url": "https://en.wikipedia.org/wiki/Arthur_Andersen", "anchor_text": "Arthur Anderson"}, {"url": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d0/EnronStockPriceAugust2000toJanuary2001.svg/567px-EnronStockPriceAugust2000toJanuary2001.svg.png", "anchor_text": "Image from Wikipedia"}, {"url": "https://www.cs.cmu.edu/~./enron/", "anchor_text": "here"}, {"url": "https://github.com/MahnoorJaved98/Enron-Case", "anchor_text": "MahnoorJaved98/Enron-CaseEnron Case Dataset & accompanying Code File to the Medium Article GitHub is home to over 50 million developers working\u2026github.com"}, {"url": "https://classroom.udacity.com/courses/ud120", "anchor_text": "Intro to Machine Learning"}, {"url": "https://github.com/MahnoorJaved98/Enron-Case", "anchor_text": "repository"}, {"url": "https://matplotlib.org/", "anchor_text": "Matplotlib"}, {"url": "https://medium.com/tag/data-science?source=post_page-----64cbceb65c36---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----64cbceb65c36---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/accounting?source=post_page-----64cbceb65c36---------------accounting-----------------", "anchor_text": "Accounting"}, {"url": "https://medium.com/tag/finance?source=post_page-----64cbceb65c36---------------finance-----------------", "anchor_text": "Finance"}, {"url": "https://medium.com/tag/python?source=post_page-----64cbceb65c36---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F64cbceb65c36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fderiving-patterns-of-fraud-from-the-enron-dataset-64cbceb65c36&user=Mahnoor+Javed&userId=c005fe8944b4&source=-----64cbceb65c36---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F64cbceb65c36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fderiving-patterns-of-fraud-from-the-enron-dataset-64cbceb65c36&user=Mahnoor+Javed&userId=c005fe8944b4&source=-----64cbceb65c36---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F64cbceb65c36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fderiving-patterns-of-fraud-from-the-enron-dataset-64cbceb65c36&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----64cbceb65c36--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F64cbceb65c36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fderiving-patterns-of-fraud-from-the-enron-dataset-64cbceb65c36&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----64cbceb65c36---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----64cbceb65c36--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----64cbceb65c36--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----64cbceb65c36--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----64cbceb65c36--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----64cbceb65c36--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----64cbceb65c36--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----64cbceb65c36--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----64cbceb65c36--------------------------------", "anchor_text": ""}, {"url": "https://mahnoorjaved.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mahnoorjaved.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Mahnoor Javed"}, {"url": "https://mahnoorjaved.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "268 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc005fe8944b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fderiving-patterns-of-fraud-from-the-enron-dataset-64cbceb65c36&user=Mahnoor+Javed&userId=c005fe8944b4&source=post_page-c005fe8944b4--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3ad1ddb9d9ce&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fderiving-patterns-of-fraud-from-the-enron-dataset-64cbceb65c36&newsletterV3=c005fe8944b4&newsletterV3Id=3ad1ddb9d9ce&user=Mahnoor+Javed&userId=c005fe8944b4&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}