{"url": "https://towardsdatascience.com/what-to-do-when-your-data-science-project-fails-6087b91c02cd", "time": 1683005607.5240269, "path": "towardsdatascience.com/what-to-do-when-your-data-science-project-fails-6087b91c02cd/", "webpage": {"metadata": {"title": "What To Do When Your Project Fails | by Callum Ballard | Towards Data Science", "h1": "What To Do When Your Project Fails", "description": "You spend weeks \u2014 maybe months \u2014 sourcing, scraping, munging, and cleaning data. The EDA produces some promising charts. Everything points to unmitigated success. And then, with a couple of weeks\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/tagged/on-target", "anchor_text": "\u2018On Target\u2019 series", "paragraph_index": 7}, {"url": "https://medium.com/@cjl2fv/an-intro-to-hyper-parameter-optimization-using-grid-search-and-random-search-d73b9834ca0a", "anchor_text": "GridSearchCV", "paragraph_index": 11}, {"url": "https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html", "anchor_text": "standard scaling", "paragraph_index": 14}, {"url": "https://machinelearningmastery.com/smote-oversampling-for-imbalanced-classification/", "anchor_text": "SMOTE", "paragraph_index": 15}, {"url": "https://languagecaster.com/football-glossary-woodwork/", "anchor_text": "woodwork", "paragraph_index": 28}, {"url": "http://www.cb91.io/projects/fpl", "anchor_text": "my website", "paragraph_index": 44}, {"url": "https://github.com/calbal91/project-moneyballing-fpl", "anchor_text": "GitHub repo here", "paragraph_index": 46}, {"url": "https://towardsdatascience.com/tagged/on-target", "anchor_text": "On Target", "paragraph_index": 48}, {"url": "https://www.linkedin.com/in/callum-ballard/", "anchor_text": "LinkedIn", "paragraph_index": 48}], "all_paragraphs": ["You may already know the feeling.", "You spend weeks \u2014 maybe months \u2014 sourcing, scraping, munging, and cleaning data. The EDA produces some promising charts. Everything points to unmitigated success.", "And then, with a couple of weeks until your project\u2019s deadline, you train your first model. And it totally sucks.", "As does the second one. And the third.", "Let\u2019s be clear, I\u2019m not talking about models that have 80% accuracy when you were hoping for 90%. I\u2019m talking about models that are functionally useless. I\u2019m talking about models with a negative adjusted R-Squared.", "What on earth do you do?", "There are some caveats to the advice outlined in this blog\u2014 the exact strategy you take will almost certainly be shaped by circumstance. Is this a personal project or a professional one? Is there an imminent, immovable deadline? Does your job depend on this? Nonetheless, the steps outlined below ought to be a rough guide for most situations.", "As a reminder, the project that I\u2019ve been working through during this \u2018On Target\u2019 series is a deceptively simple one \u2014 can we predict which players will be involved in goals scored in Premier League football matches, based on their historical performance?", "The model I initially tried to build was a binary classifier. Each row of the dataset represented one player in one match. Either a player was involved in a goal during that game, or he wasn\u2019t, so the target value for each row was a 1 or a 0.", "I then had 83 features, consisting of a few different sets of metrics to help inform whether or not a player was going to be involved in a goal:", "In summary, the features told us how good the player had been at offense and how good their upcoming opponents had been in defence over the last few games. This seemed like a sensible place to start.", "For the model building itself, I ensured I was using a thorough train/validation/test data split, using GridSearchCV to optimise model hyperparameters (I kept the test set totally separate from the model training to best replicate how a model would get on with future matches in the real world).", "This approach was taken across a series of different algorithms suitable for binary classification (logistic regression, decision trees, random forests, SVM, XGBoost, etc.)", "Despite the various models coping relatively well with the cross-validated training set, they struggled badly when exposed to the test set. After so much preparatory work, this was a bit of a head-scratcher.", "Some models can struggle with datasets without various preprocessing steps (which can be easy to forget if you\u2019re working across different types of algorithms). For example, SVMs and neural networks struggle without standard scaling.", "Similarly, if the data is imbalanced (as this dataset is, by a factor of about 8 to 1), we need to mitigate this by telling the algorithms to weight their results by class (most of them have such functionality), or by creating synthetic data with the SMOTE algorithm.", "Up to this point, I\u2019d been using accuracy as my evaluation metric. This is pretty standard and normally gives a good all-round evaluation of a classifier.", "In an ideal world, we\u2019d want B and C to equal zero, though this is normally very difficult to achieve. Thus we can use different evaluation metrics to judge how close to this state we\u2019re able to get.", "In other words, of all the predictions made, what share did the model get right?", "Remember, however, the imbalance in our dataset \u2014 most players do not score goals on a match by match basis. It would be fairly trivial for our model to simply predict negative cases (no goal scored), since this is the case for one in nine of our datapoints. Indeed, a model that simply predicted negative outcomes in each case would have an 89% accuracy, despite being a plainly useless model.", "Let\u2019s consider our initial intent and try to be more intelligent about this. I want to predict who will score goals, so that I can select these players for my Fantasy Premier League team. And there are a very finite number of players that can be in my team at any one time \u2014 a maximum of seven attacking players, from the hundreds available.", "Therefore, I don\u2019t actually care about the model guessing every single player correctly. If the model only predicts that ten players will score in a given week, and I select those ten players, then I won\u2019t really care about whether anyone else scored or not \u2014 I can happily ignore these false negatives.", "Thus, what I actually want to maximise is precision.", "Taking this approach also allowed me to play around with the threshold for predicting a positive case. Rather than the standard 50%, I could make the model more discerning \u2014 only predict a positive case if you\u2019re 60% sure, or 70%. Of course, this reduces the overall number of positive cases, but it should keep those cases that are better bets (and thus help to drive precision).", "As it happened, none of this actually helped. All of my models still had horrible precision, regardless of how high I set the threshold for a positive prediction.", "I started to think about the effectiveness of my target variable. Of course, whether or not a player scores a goal seems like an obvious starting point for predicting whether or not a player is going to score a goal.", "As it turns out, things are slightly more complicated than that. Consider Jamal Lewis, a defender for bottom-of-the-table Norwich City FC selected by just 0.2% of Fantasy Premier League managers. He hadn\u2019t had a shot on target in over three months and was playing against one of the best defences in the league.", "Then he went and did this:", "This wasn\u2019t just a difficult goal to predict \u2014 it was nigh on impossible. As well as cocky central defenders shooting from distance, unexpected goals can be caused by unlucky deflections, goalkeeping howlers, and freak movements of the ball. Conversely, nailed-on goals can be denied by unexpected goalkeeper heroics, as well as the woodwork.", "An alternative to trying to predict actual goals, therefore, is to work out how many goals we\u2019d have expected a player to score, given the location and quality of the shots that they took.", "Having defined the different types of possible shots (where on the pitch they were taken from, whether they were struck with the foot or headers, whether they were directly assisted by another player or not, etc.) we can see the goal conversion rate of each (expected goals, or XG). We can also look at the uplift in goal conversion if the shot is on target.", "We can then look at the different shots that a player takes in a game, sum the \u2018XG\u2019 of each shot that they took based on each shot\u2019s type, and create an overall \u2018Expected Goals\u2019 measure for the player in that game.", "Note \u2014 we can also do the same with assists (i.e. how many assists would we have expected the player to get based on the quality of the subsequent shots) and overall expected goal involvement (XGI, expected goals plus expected assists).", "As it happens, expected goals per game (XG) and expected goal involvement per game (XGI) seem to increase in a linear fashion \u2014 i.e. the mean XG of players who scored twice in a match have roughly double the XG of players who only scored once.", "XG and XGI are useful metrics \u2014they do a decent job of describing the players who tend to be involved in goals. They also smooth off some of the random edge cases (like Jamal Lewis\u2019 bolt-from-the-blue against Leicester City) which would otherwise confuse a model during training.", "Given that XG and XGI are continuous variables, the exercise became a regression problem, rather than a classification one.", "To cut a long story short, the models that I produced with this new target variable (using the same, strict test/validation/train data split approach that I used during classification attempts) were not successful.", "Using adjusted R-Squared (since we have many features), we can see that the models are, at best, explaining only 15\u201320% of the variance in expected goals / expected goal involvement. We can also see a significant difference between the training set and test set R-Squared \u2014 I was still suffering from overfitting, despite the cross-validation process.", "Suffice to say, things were getting desperate by this point. I only had a few days remaining until my deadline, and having fast-tracked myself through the requisite stages of grief, I accepted that I wasn\u2019t going to be able to present a working predictive model as part of this project.", "Getting to grips with the causes of an outcome like this is important for a number of reasons (not least because it gives you a decent idea of what to do next, if you are granted extra time or need to hand the project off to someone else).", "For what it\u2019s worth, I think my modelling suffered from the following:", "It should be noted that, generally speaking, null results are not without value. Indeed, depending on the particular hypothesis you\u2019re working on, a null value \u2014 the conclusion that your target literally can\u2019t be predicted \u2014 may be just as important an insight as a working predictive model.", "In my case, the fact that I\u2019m unable to predict Premier League goalscorers is cold comfort for my underperforming FPL team. However, thanks to the first few stages of my project, I do find myself sitting on a few thousand rows of clean, organised data. It would be a shame to not use it for something.", "In the context of my project, that something is a series of interactive dashboards. It might not be able to make accurate predictions about the outcomes of games that are yet to be played, but it does give a user some unique insight into player performance \u2014 you could certainly use these tools to help decision-making when selecting which players to have in your fantasy team (see the below video for a use case).", "These interactive dashboards are available on my website. Have a play and see what you think!", "This is a tough one \u2014 humans love to take the glory, and single-handedly \u2018cracking\u2019 Fantasy Premier League was a very alluring prospect. But data science is often a collaborative pursuit by its very nature. And no matter how good a data scientist you are, there are still going to be thousands of people out there who are better. So, in this spirit, I would invite you to see if you can get better results \u2014 I\u2019m almost certain that you could.", "You can find the GitHub repo here.", "I look forward to seeing what you come up with\u2026", "This is the latest post in my blog series \u2018On Target\u2019, in which I\u2019ll be attempting to build out tools for \u2018Moneyballing\u2019 Fantasy Premier League. I\u2019d love to hear any comments about the blog, or any of the concepts that the piece touches on. Feel free to leave a message below, or reach out to me through LinkedIn.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Analysis Lead at Cleo AI, McKinsey & LSE Alumni, previously published in The Economist. Typically found listening to Japanese Math Rock..."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F6087b91c02cd&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-to-do-when-your-data-science-project-fails-6087b91c02cd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-to-do-when-your-data-science-project-fails-6087b91c02cd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-to-do-when-your-data-science-project-fails-6087b91c02cd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-to-do-when-your-data-science-project-fails-6087b91c02cd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----6087b91c02cd--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6087b91c02cd--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@callumballard?source=post_page-----6087b91c02cd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@callumballard?source=post_page-----6087b91c02cd--------------------------------", "anchor_text": "Callum Ballard"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3bcc53c95269&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-to-do-when-your-data-science-project-fails-6087b91c02cd&user=Callum+Ballard&userId=3bcc53c95269&source=post_page-3bcc53c95269----6087b91c02cd---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6087b91c02cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-to-do-when-your-data-science-project-fails-6087b91c02cd&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6087b91c02cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-to-do-when-your-data-science-project-fails-6087b91c02cd&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/on-target", "anchor_text": "ON TARGET"}, {"url": "https://unsplash.com/@shapelined?utm_source=medium&utm_medium=referral", "anchor_text": "Shapelined"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/tagged/on-target", "anchor_text": "\u2018On Target\u2019 series"}, {"url": "https://medium.com/@cjl2fv/an-intro-to-hyper-parameter-optimization-using-grid-search-and-random-search-d73b9834ca0a", "anchor_text": "GridSearchCV"}, {"url": "https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html", "anchor_text": "standard scaling"}, {"url": "https://machinelearningmastery.com/smote-oversampling-for-imbalanced-classification/", "anchor_text": "SMOTE"}, {"url": "https://languagecaster.com/football-glossary-woodwork/", "anchor_text": "woodwork"}, {"url": "http://www.cb91.io/projects/fpl", "anchor_text": "my website"}, {"url": "https://github.com/calbal91/project-moneyballing-fpl", "anchor_text": "GitHub repo here"}, {"url": "https://towardsdatascience.com/tagged/on-target", "anchor_text": "On Target"}, {"url": "https://www.linkedin.com/in/callum-ballard/", "anchor_text": "LinkedIn"}, {"url": "https://medium.com/tag/data-science?source=post_page-----6087b91c02cd---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----6087b91c02cd---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/on-target?source=post_page-----6087b91c02cd---------------on_target-----------------", "anchor_text": "On Target"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----6087b91c02cd---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----6087b91c02cd---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6087b91c02cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-to-do-when-your-data-science-project-fails-6087b91c02cd&user=Callum+Ballard&userId=3bcc53c95269&source=-----6087b91c02cd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6087b91c02cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-to-do-when-your-data-science-project-fails-6087b91c02cd&user=Callum+Ballard&userId=3bcc53c95269&source=-----6087b91c02cd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6087b91c02cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-to-do-when-your-data-science-project-fails-6087b91c02cd&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6087b91c02cd--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F6087b91c02cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-to-do-when-your-data-science-project-fails-6087b91c02cd&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----6087b91c02cd---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----6087b91c02cd--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----6087b91c02cd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----6087b91c02cd--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----6087b91c02cd--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----6087b91c02cd--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----6087b91c02cd--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----6087b91c02cd--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----6087b91c02cd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@callumballard?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@callumballard?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Callum Ballard"}, {"url": "https://medium.com/@callumballard/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3bcc53c95269&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-to-do-when-your-data-science-project-fails-6087b91c02cd&user=Callum+Ballard&userId=3bcc53c95269&source=post_page-3bcc53c95269--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F107151aaecd0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-to-do-when-your-data-science-project-fails-6087b91c02cd&newsletterV3=3bcc53c95269&newsletterV3Id=107151aaecd0&user=Callum+Ballard&userId=3bcc53c95269&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}