{"url": "https://towardsdatascience.com/an-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff", "time": 1683009540.637575, "path": "towardsdatascience.com/an-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff/", "webpage": {"metadata": {"title": "Causal Effects of Modified Treatment Policies | Towards Data Science", "h1": "An Introduction to Estimating the Causal Effects of Feasible Interventions", "description": "Build intuition towards modified treatment policies and how to estimate their causal effects with the lmtp R package."}, "outgoing_paragraph_urls": [{"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp", "paragraph_index": 7}, {"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp", "paragraph_index": 7}, {"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp", "paragraph_index": 7}, {"url": "https://github.com/tlverse/sl3", "anchor_text": "sl3", "paragraph_index": 7}, {"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp", "paragraph_index": 9}, {"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp", "paragraph_index": 10}, {"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp", "paragraph_index": 11}, {"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp", "paragraph_index": 17}, {"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp", "paragraph_index": 17}, {"url": "https://htmlpreview.github.io/?https://gist.githubusercontent.com/nt-williams/ddd44c48390b8d976fad71750e48d8bf/raw/c56a7b0bbdf24ec18d08f839e73fa06a42ca9265/intro-lmtp.html", "anchor_text": "vignette", "paragraph_index": 17}], "all_paragraphs": ["Imagine you\u2019re applying to law school. You\u2019ve taken the LSAT, but didn\u2019t score as high as you want. You start to wonder, what would be the effect of raising your LSAT score on your admissions outcome (defined as the proportion of schools you applied to that you were accepted at)?", "At first glance, this seems easy. You find some data from previous years of applicants and regress the admissions outcomes on LSAT scores. Great, you have a measure of association between LSAT scores and the proportion of schools one can expect to be accepted to.", "But\u2026 did that really answer your question? Is your estimate unbiased? You think back to the assumptions of linear regression and realize the proportion of schools you can be accepted to is bounded between 0 and 1, so it can\u2019t be linear. You also remember the canned interpretation of a regression coefficient, \u201cFor every unit increase in X, Y increases or decreases by \u03b2\u201d; how can this interpretation hold if someone maxed out their LSAT score?", "With this in mind, you start to narrow in on your research question: what would be the effect of raising LSAT scores on law school admissions outcomes if LSAT scores were raised by a realistic amount? We can think of this as a feasible intervention and formally define it as a modified treatment policy.", "A modified treatment policy (MTP) is defined as an intervention that can depend on the natural value of the exposure. This differs from other causal effects, such as the average treatment effect (ATE), where an exposure would be increased (or decreased) deterministically, which is often impossible.", "For our problem, consider the MTP where LSAT scores are:", "This intervention takes into account that the higher the observed LSAT score, the more difficult it would be to raise it. We consider this intervention feasible, because we can imagine a hypothetical intervention that could bring it about (i.e., attending an LSAT prep course). In contrast, a deterministic intervention, and an impossible one, would be an intervention where everyone\u2019s LSAT score was increased by the same amount.", "With your MTP of interest defined, you quickly realize that standard parametric approaches can\u2019t handle this problem. Enter the R package lmtp. lmtp provides an estimation framework for the non-parametric casual effects of feasible interventions based on point-treatment and longitudinal modified treatment policies. It supports two primary estimators, a cross-validated targeted minimum loss-based estimator (CV-TMLE) and a sequentially doubly-robust estimator (SDR). Both these estimators have the property of being doubly-robust. This is important for a couple of reasons, but perhaps the most striking is that it allows us to use machine learning for estimation. As such, lmtp uses the sl3 package for ensemble machine learning\u00b9 (also referred to as super learning or stacked generalization) for estimation.", "[1] Super learning weights the results of multiple individual machine learning algorithms to create an optimal combination of models.", "Let\u2019s use lmtp to answer our question. First, we install and load the necessary packages and simulate our data. For simplicity, we will assume admissions is only affected by GPA and LSAT score and that GPA confounds the relationship between LSAT and admissions. We will also assume that law schools do not place a cap on their admissions.", "I mentioned lmtp can use an ensemble learner for estimation, so let\u2019s set that up. We\u2019ll use an ensemble of an intercept-only model, a GLM, and random forest.", "We also need a way to communicate our intervention of interest to lmtp. We can do this using a shift function. A shift function simply takes a vector as an input and returns a vector of the same length and type but modified according to our intervention.", "All that\u2019s left is to estimate the effect of the intervention. We\u2019ll use the CV-TML estimator, lmtp_tmle().", "Under our LSAT treatment policy, we estimate the average proportion of law schools accepted to in the population is 0.495 with a 95% confidence interval of 0.49 to 0.5. We can formally compare this to the observed average proportion of law schools accepted to under the natural LSAT scores, 0.42.", "We estimate that our treatment policy would increase the average proportion of law schools accepted to in the population by 0.07 with a 95% confidence interval of 0.06 to 0.08. Looks like it would be in your best interest to raise your score.", "The previous example should have helped you build some intuition towards what a modified treatment policy is and why they are useful. As an aside, this was a toy example and should not be viewed as anything more.", "That being said, here are a couple examples of real world applications of MTPs:", "Modified treatment policies aren\u2019t limited to continuous exposures but can also be used with binary and categorical treatments. In addition, lmtp is suited to handle both binary, continuous, and survival outcomes (all with missingness in the outcome), for both point treatments and longitudinal settings and can estimate deterministic treatment effects such as the ATE. For an in-depth introduction to using lmtp, I recommend you read through the package vignette.", "If you would like to learn more about causal inference, modified treatment policies and why they are so useful, targeted minimum loss-based estimation, or the super learner I recommend the following resources:", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Research Biostatistician at Weill Cornell Medicine. Interested in non-parametric causal inference and open source software design."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe07ed45136ff&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fan-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fan-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fan-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fan-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e07ed45136ff--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e07ed45136ff--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@nick_williams?source=post_page-----e07ed45136ff--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nick_williams?source=post_page-----e07ed45136ff--------------------------------", "anchor_text": "Nick Williams"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F172fc609207e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fan-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff&user=Nick+Williams&userId=172fc609207e&source=post_page-172fc609207e----e07ed45136ff---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe07ed45136ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fan-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe07ed45136ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fan-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@drew_beamer", "anchor_text": "Drew Beame"}, {"url": "https://unsplash.com/", "anchor_text": "Unsplash"}, {"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp"}, {"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp"}, {"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp"}, {"url": "https://github.com/tlverse/sl3", "anchor_text": "sl3"}, {"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp"}, {"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp"}, {"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp"}, {"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp"}, {"url": "https://github.com/nt-williams/lmtp", "anchor_text": "lmtp"}, {"url": "https://htmlpreview.github.io/?https://gist.githubusercontent.com/nt-williams/ddd44c48390b8d976fad71750e48d8bf/raw/c56a7b0bbdf24ec18d08f839e73fa06a42ca9265/intro-lmtp.html", "anchor_text": "vignette"}, {"url": "http://bayes.cs.ucla.edu/PRIMER/", "anchor_text": "Causal Inference in Statistics, A Primer"}, {"url": "https://pubmed.ncbi.nlm.nih.gov/21977966/", "anchor_text": "Population Intervention Causal Effects Based on Stochastic Interventions"}, {"url": "https://arxiv.org/abs/2006.01366v2", "anchor_text": "Non-parametric causal effects based on longitudinal modified treatment policies"}, {"url": "https://onlinelibrary.wiley.com/doi/abs/10.1002/sim.5907?casa_token=Mc7QwrKckREAAAAA%3ADJfUP5oz0R9BP4YtRYz2g65EYgZsX1TsTceFl-VgIWuhA5DX1KWznh1KyzSLn8H9DuA5RHur7zi4ib80", "anchor_text": "Estimation of the effect of interventions that modify the received treatment"}, {"url": "https://www.springer.com/gp/book/9781441997814", "anchor_text": "Targeted Learning"}, {"url": "https://link.springer.com/article/10.1007/s10654-018-0390-z", "anchor_text": "Stacked generalization: an introduction to super learning"}, {"url": "https://medium.com/tag/causal-inference?source=post_page-----e07ed45136ff---------------causal_inference-----------------", "anchor_text": "Causal Inference"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----e07ed45136ff---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/r?source=post_page-----e07ed45136ff---------------r-----------------", "anchor_text": "R"}, {"url": "https://medium.com/tag/statistics?source=post_page-----e07ed45136ff---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/data-science?source=post_page-----e07ed45136ff---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe07ed45136ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fan-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff&user=Nick+Williams&userId=172fc609207e&source=-----e07ed45136ff---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe07ed45136ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fan-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff&user=Nick+Williams&userId=172fc609207e&source=-----e07ed45136ff---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe07ed45136ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fan-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e07ed45136ff--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe07ed45136ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fan-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e07ed45136ff---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e07ed45136ff--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e07ed45136ff--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e07ed45136ff--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e07ed45136ff--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e07ed45136ff--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e07ed45136ff--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e07ed45136ff--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e07ed45136ff--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nick_williams?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nick_williams?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Nick Williams"}, {"url": "https://medium.com/@nick_williams/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "15 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F172fc609207e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fan-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff&user=Nick+Williams&userId=172fc609207e&source=post_page-172fc609207e--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F172fc609207e%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fan-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff&user=Nick+Williams&userId=172fc609207e&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}