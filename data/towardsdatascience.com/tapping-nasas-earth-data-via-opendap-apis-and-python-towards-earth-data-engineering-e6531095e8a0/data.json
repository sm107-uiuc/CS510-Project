{"url": "https://towardsdatascience.com/tapping-nasas-earth-data-via-opendap-apis-and-python-towards-earth-data-engineering-e6531095e8a0", "time": 1683015401.140851, "path": "towardsdatascience.com/tapping-nasas-earth-data-via-opendap-apis-and-python-towards-earth-data-engineering-e6531095e8a0/", "webpage": {"metadata": {"title": "Tapping NASA\u2019s Earth Data via OpeNDAP APIs and Python | by Taimoor Akhtar | Towards Data Science", "h1": "Tapping NASA\u2019s Earth Data via OpeNDAP APIs and Python", "description": "NASA earth data is an invaluable resource for earth scientists, hydrologists and essentially anyone interested in using earth data (e.g., precipitation, temperature etc.) for education, analysis\u2026"}, "outgoing_paragraph_urls": [{"url": "https://earthdata.nasa.gov/collaborate/open-data-services-and-software/api/opendap", "anchor_text": "OpeNDAP", "paragraph_index": 1}, {"url": "https://earthobservatory.nasa.gov/images/147330/extreme-monsoon-rains-in-pakistan", "anchor_text": "precipitation event", "paragraph_index": 2}, {"url": "https://gpm.nasa.gov/data/imerg", "anchor_text": "GPM IMERG dataset", "paragraph_index": 2}, {"url": "https://urs.earthdata.nasa.gov/users/new", "anchor_text": "NASA earth data account", "paragraph_index": 4}, {"url": "https://towardsdatascience.com/getting-nasa-data-for-your-next-geo-project-9d621243b8f3", "anchor_text": "here", "paragraph_index": 5}, {"url": "https://gpm.nasa.gov/data/imerg", "anchor_text": "GPM IMERG hourly product", "paragraph_index": 5}, {"url": "https://github.com/pydap/pydap", "anchor_text": "pydap", "paragraph_index": 6}, {"url": "https://github.com/pydap/pydap/issues/121", "anchor_text": "recommend installation", "paragraph_index": 6}, {"url": "https://disc.gsfc.nasa.gov/information/tools?title=OPeNDAP%20and%20GDS", "anchor_text": "here", "paragraph_index": 7}, {"url": "https://disc.gsfc.nasa.gov/datasets/GPM_3IMERGHHL_06/summary?keywords=GPM", "anchor_text": "GPM Half-Hourly Late Precipitation", "paragraph_index": 7}, {"url": "https://latitudelongitude.org/pk/karachi/", "anchor_text": "Karachi and its whereabouts", "paragraph_index": 8}, {"url": "https://gpm1.gesdisc.eosdis.nasa.gov/dods/GPM_3IMERGHHL_06.info", "anchor_text": "here", "paragraph_index": 8}, {"url": "https://gpm1.gesdisc.eosdis.nasa.gov/dods/GPM_3IMERGHHL_06.info", "anchor_text": "GPM Dataset", "paragraph_index": 9}, {"url": "https://gpm1.gesdisc.eosdis.nasa.gov/dods/GPM_3IMERGHHL_06.info", "anchor_text": "GPM dataset", "paragraph_index": 11}, {"url": "https://www.pydap.org/en/latest/developer.html", "anchor_text": "\u2018pydap model\u2019", "paragraph_index": 13}, {"url": "https://plotly.com/python/", "anchor_text": "plotly", "paragraph_index": 14}, {"url": "https://github.com/pydap/pydap", "anchor_text": "pydap", "paragraph_index": 15}, {"url": "https://earthdata.nasa.gov/collaborate/open-data-services-and-software/api/opendap", "anchor_text": "OpeNDAP", "paragraph_index": 15}, {"url": "http://www.linkedin.com/in/taimoor-akhtar-12683213", "anchor_text": "linkedin", "paragraph_index": 16}, {"url": "https://twitter.com/drkupster", "anchor_text": "twitter", "paragraph_index": 16}], "all_paragraphs": ["NASA earth data is an invaluable resource for earth scientists, hydrologists and essentially anyone interested in using earth data (e.g., precipitation, temperature etc.) for education, analysis, visualization and modelling etc. This data is available through multiple platforms, including the NASA Goddard Earth Sciences (GES) Data and Information Services Center (DISC), and NASA\u2019s Earth Science Data Systems (ESDS) program etc. These platforms however, require users to manually visit websites to download desired data. And many times, the data is in formats that seem inaccessible to Python programmers and users not used to geo-formats (e.g., netCFD, hdf etc).", "This article is an attempt to reduce NASA Earth data access barriers for python users, by providing an illustrative example of accessing this data through OpeNDAP. We will work entirely in python to automate the process of data retrieval. Thus, this guide could also be beneficial in earth data engineering and for developing data pipelines usind NASA\u2019s data gold mine.", "My central motivation for developing this guide originates from a need to understand a precipitation event that led to devastating flooding in Karachi in late August 2020. NASA earth data includes numerous datasets that include satellite-based and modelled observations of historical precipitation events. This guide will illustrate how one of these datasets, i.e., the GPM IMERG dataset, can be accessed in python to extract satellite-based precipitation data of Karachi and its whereabouts (for late August 2020).", "The key pre-requisites for accessing NASA earth data sets via python are:", "1) Creation of a NASA earth data account. Its free and instant.", "2) 2) Selection of an appropriate data set to access. Some guidelines for exploring NASA datasets are provided here. As mentioned earlier, in this article we will access and retrieve data from the GPM IMERG hourly product.", "3) Installation of the pydap python library. While there are other python-based methods that allow connection to NASA datasets through the OpeNDAP api, pydap is easy and convenient to use, and should work with any python 3.6+ version. However we recommend installation from a github commit via the following command:", "Once an earth data login is created and the pydap library is installed, we can establish a connection with a NASA dataset via OpenDAP, given the opendap url. An archive of some available OpenDAP datasets is provided here. We are interested in looking at sub-daily precipitation patterns in Karachi in Late August 2020. Hence, GPM Half-Hourly Late Precipitation is an approriate dataset to look at. The following code chunk enables python users to connect to the dataset via pydap (please provide NASA earth data username and password):", "Once a connection is established with the GPM dataset (the connection is denoted as \u2018dataset\u2019 in the above code), we can extract data pertinent to the spatial area we are interested (which in this case is Karachi and its whereabouts), and also for the time we are interested in (which in this case is August 25 to 28, 2020). It should be noted here that the GPM dataset variables are stored in 3-dimensional arrays with time as the first index, latitude as the second index and longitude as the third index (see here for details on data format). Thus in order to request a chunk (of a variable) from the \u2018dataset\u2019 in the above code we need to enter the following line of code:", "As can be seen above, a precise data request requires i) name of variable to request, ii) extents of time indices, and iii) extents of spatial indices (latitude and longitude bounds). While it is theoretically possible to request the entire data set, but the GPM Dataset is global and massive (in Tera Bytes atleast). Thus, it is not desirable to request the entire dataset. Anyway, such a request will time-out on the NASA servers and will not go through.", "The spatial area that we are interested in for this illustration is Karachi and its whereabouts. Hence, we need to provide latitude and longitude indices in our data request that span Karachi, Pakistan. The code chunk below illustrates how extents of these indices can be determined. The variables \u201clat_range\u201d and \u201clong_range\u201d should be user-defined that specify the spatial extents of the data to be requested. The remaining code finds the GPM data array indices corresponding to this range.", "Determination of the GPM dataset time indices correspnoding to Late August, 2020 (August 25\u201328), requires knowledge of the start time of the dataset itself. According to the meta data of the GPM dataset, the start time of the data is June 1, 2000 00:00:00. Moreover, the GPM dataset we are using is half-hourly. Thus, the time index corresponding to August 25, 2020 00:00:00 can be determined by finding the number of 30 minute intervals between June 1, 2000 and August 25, 2020. The code chunk below finds the starting time index in the GPM dataset, corresponding to August 25, 2020, as per the above-mentioned logic. We also check validity of the logic by collating the time variable assiciated with the index value, to ensure that it is indeed August 25, 2020.", "Now that we have determnied the starting time index and the spatial indices of interest for the GPM data, we can request GPM precipitation using pydap. The code for requesting GPM precipitation data is given below. Please note that the precipitation variable name is \u2018precipcal\u2019 and we have requested data for 4 days (for Karachi, Pakistan) starting from August 25, 2020.", "The data received from NASA via pydap is saved as a \u2018pydap model\u2019 object. Four attributes of this object are of particular interest, i.e., \u2018time\u2019, \u2018lat\u2019, \u2018lon\u2019 and \u2018precipcal\u2019 (the variable name that was requested); \u2018time\u2019, \u2018lat\u2019 and \u2018lon\u2019 are numpy arrays representing the time, latitude and longitude dimensions of the data requeted and \u2018precipal\u2019 (the variable requested) is a 3D numpy array with half-hour GPM precipitation values corresponding to the time, latitude and longitude dimensions. The code snippet below illustrates how this data can be converted to a pandas dataframe.", "Once the retrieved data is converted to a dataframe, we can take a quick look at the devastating August 2020 Karachi event via a simple time-series. Lets visualize how these rains unfolded around the Karachi Cantt area via a plotly time-series plot (code also give below).", "This article illustrates how NASA earth datasets can be accessed in python using the pydap library and the OpeNDAP api. The code snippets provided here can also be used as a baseline to develop data pipelines from NASA\u2019s earth data, and also to unearth invaluable insights from NASA\u2019s data repositories.", "I hope the contents of this article will be useful for earth data scientists, engineers and anyone interested in exploring earth data. You can connect with me via linkedin or twitter for any queries, discussion etc.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Environmental data scientist. Developing scientific methods for sustainable co-existence of humans and freshwater ecosystems."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe6531095e8a0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftapping-nasas-earth-data-via-opendap-apis-and-python-towards-earth-data-engineering-e6531095e8a0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftapping-nasas-earth-data-via-opendap-apis-and-python-towards-earth-data-engineering-e6531095e8a0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftapping-nasas-earth-data-via-opendap-apis-and-python-towards-earth-data-engineering-e6531095e8a0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftapping-nasas-earth-data-via-opendap-apis-and-python-towards-earth-data-engineering-e6531095e8a0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e6531095e8a0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e6531095e8a0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@taimoor.akhtar?source=post_page-----e6531095e8a0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@taimoor.akhtar?source=post_page-----e6531095e8a0--------------------------------", "anchor_text": "Taimoor Akhtar"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2ee8327e701a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftapping-nasas-earth-data-via-opendap-apis-and-python-towards-earth-data-engineering-e6531095e8a0&user=Taimoor+Akhtar&userId=2ee8327e701a&source=post_page-2ee8327e701a----e6531095e8a0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe6531095e8a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftapping-nasas-earth-data-via-opendap-apis-and-python-towards-earth-data-engineering-e6531095e8a0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe6531095e8a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftapping-nasas-earth-data-via-opendap-apis-and-python-towards-earth-data-engineering-e6531095e8a0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@nasa?utm_source=medium&utm_medium=referral", "anchor_text": "NASA"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://earthdata.nasa.gov/collaborate/open-data-services-and-software/api/opendap", "anchor_text": "OpeNDAP"}, {"url": "https://earthobservatory.nasa.gov/images/147330/extreme-monsoon-rains-in-pakistan", "anchor_text": "precipitation event"}, {"url": "https://gpm.nasa.gov/data/imerg", "anchor_text": "GPM IMERG dataset"}, {"url": "https://urs.earthdata.nasa.gov/users/new", "anchor_text": "NASA earth data account"}, {"url": "https://towardsdatascience.com/getting-nasa-data-for-your-next-geo-project-9d621243b8f3", "anchor_text": "here"}, {"url": "https://gpm.nasa.gov/data/imerg", "anchor_text": "GPM IMERG hourly product"}, {"url": "https://github.com/pydap/pydap", "anchor_text": "pydap"}, {"url": "https://github.com/pydap/pydap/issues/121", "anchor_text": "recommend installation"}, {"url": "https://disc.gsfc.nasa.gov/information/tools?title=OPeNDAP%20and%20GDS", "anchor_text": "here"}, {"url": "https://disc.gsfc.nasa.gov/datasets/GPM_3IMERGHHL_06/summary?keywords=GPM", "anchor_text": "GPM Half-Hourly Late Precipitation"}, {"url": "https://latitudelongitude.org/pk/karachi/", "anchor_text": "Karachi and its whereabouts"}, {"url": "https://gpm1.gesdisc.eosdis.nasa.gov/dods/GPM_3IMERGHHL_06.info", "anchor_text": "here"}, {"url": "https://gpm1.gesdisc.eosdis.nasa.gov/dods/GPM_3IMERGHHL_06.info", "anchor_text": "GPM Dataset"}, {"url": "https://gpm1.gesdisc.eosdis.nasa.gov/dods/GPM_3IMERGHHL_06.info", "anchor_text": "GPM dataset"}, {"url": "https://www.pydap.org/en/latest/developer.html", "anchor_text": "\u2018pydap model\u2019"}, {"url": "https://plotly.com/python/", "anchor_text": "plotly"}, {"url": "https://github.com/pydap/pydap", "anchor_text": "pydap"}, {"url": "https://earthdata.nasa.gov/collaborate/open-data-services-and-software/api/opendap", "anchor_text": "OpeNDAP"}, {"url": "http://www.linkedin.com/in/taimoor-akhtar-12683213", "anchor_text": "linkedin"}, {"url": "https://twitter.com/drkupster", "anchor_text": "twitter"}, {"url": "https://medium.com/tag/data-engineering?source=post_page-----e6531095e8a0---------------data_engineering-----------------", "anchor_text": "Data Engineering"}, {"url": "https://medium.com/tag/earth-science?source=post_page-----e6531095e8a0---------------earth_science-----------------", "anchor_text": "Earth Science"}, {"url": "https://medium.com/tag/python?source=post_page-----e6531095e8a0---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/opendap?source=post_page-----e6531095e8a0---------------opendap-----------------", "anchor_text": "Opendap"}, {"url": "https://medium.com/tag/climate?source=post_page-----e6531095e8a0---------------climate-----------------", "anchor_text": "Climate"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe6531095e8a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftapping-nasas-earth-data-via-opendap-apis-and-python-towards-earth-data-engineering-e6531095e8a0&user=Taimoor+Akhtar&userId=2ee8327e701a&source=-----e6531095e8a0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe6531095e8a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftapping-nasas-earth-data-via-opendap-apis-and-python-towards-earth-data-engineering-e6531095e8a0&user=Taimoor+Akhtar&userId=2ee8327e701a&source=-----e6531095e8a0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe6531095e8a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftapping-nasas-earth-data-via-opendap-apis-and-python-towards-earth-data-engineering-e6531095e8a0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e6531095e8a0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe6531095e8a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftapping-nasas-earth-data-via-opendap-apis-and-python-towards-earth-data-engineering-e6531095e8a0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e6531095e8a0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e6531095e8a0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e6531095e8a0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e6531095e8a0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e6531095e8a0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e6531095e8a0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e6531095e8a0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e6531095e8a0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e6531095e8a0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@taimoor.akhtar?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@taimoor.akhtar?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Taimoor Akhtar"}, {"url": "https://medium.com/@taimoor.akhtar/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "2 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2ee8327e701a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftapping-nasas-earth-data-via-opendap-apis-and-python-towards-earth-data-engineering-e6531095e8a0&user=Taimoor+Akhtar&userId=2ee8327e701a&source=post_page-2ee8327e701a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F9adf005eec28&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftapping-nasas-earth-data-via-opendap-apis-and-python-towards-earth-data-engineering-e6531095e8a0&newsletterV3=2ee8327e701a&newsletterV3Id=9adf005eec28&user=Taimoor+Akhtar&userId=2ee8327e701a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}