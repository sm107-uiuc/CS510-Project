{"url": "https://towardsdatascience.com/k-means-clustering-using-spotify-song-features-9eb7d53d105c", "time": 1683013158.311813, "path": "towardsdatascience.com/k-means-clustering-using-spotify-song-features-9eb7d53d105c/", "webpage": {"metadata": {"title": "K-means clustering using Spotify song features | by Alejandra Vlerick | Towards Data Science", "h1": "K-means clustering using Spotify song features", "description": "The spotify API allows us to create a simple server-side application that accesses user related data from the Spotify app. It also gives you access to information that is not available on the app\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/@alejandra.vlerick/membership", "anchor_text": "here", "paragraph_index": 2}, {"url": "https://spotipy.readthedocs.io/en/latest/", "anchor_text": "link", "paragraph_index": 3}, {"url": "https://developer.spotify.com/documentation/web-api/", "anchor_text": "this", "paragraph_index": 3}, {"url": "https://developer.spotify.com/dashboard/", "anchor_text": "https://developer.spotify.com/dashboard/", "paragraph_index": 4}, {"url": "https://towardsdatascience.com/medium.com/@alejandra.vlerick", "anchor_text": "here", "paragraph_index": 25}, {"url": "https://www.linkedin.com/in/alejandra-g-283595b8", "anchor_text": "here", "paragraph_index": 26}, {"url": "https://github.com/alejandra-gutierrez/SpotifyAPI", "anchor_text": "here", "paragraph_index": 27}], "all_paragraphs": ["The spotify API allows us to create a simple server-side application that accesses user related data from the Spotify app. It also gives you access to information that is not available on the app, such as artist popularity, song metrics, album cover images, etc. It allows you to create, delete and modify existing playlists in a user\u2019s account.", "The goal of this project is to use a clustering algorithm to break down a large playlist into smaller ones. For this, song metrics such as \u2018danceability\u2019, \u2018valence\u2019, \u2018tempo\u2019, \u2018liveness\u2019, \u2018speechiness\u2019 are used.", "If you\u2019re not already a member, get your Medium Membership here!", "Connecting to the spotify API was pretty straightforward and the content is pretty well documented. This link will give you all the information you need for connecting and this will give you python sample code.", "Go to https://developer.spotify.com/dashboard/ and click Create a Client ID or Create an App to get your \u201cClient ID\u201d and \u201cClient Secret\u201d. After that, Redirect URI must be changed to any page you decide on in the settings of your Spotify application.", "The variable \u201csp\u201d will work as the access key to Spotify data and will allow us to use all the functions to GET and POST requests to and from spotify.", "The next step is to collect the data from my \u201cLiked Songs\u201d Playlist.", "The API can only extract 50 songs at a time therefore we run a while loop that goes through the entire playlist in sets of 50. The function used to access my personal liked songs is current_user_saved_tracks().", "The following step is to extract the audio features of each song by using the audio_features() function:", "The result is a pandas dataframe that gathers the songs on the rows and their respective features on the columns. Each song is identified by its unique uri.", "Just for fun, I decided to look at the distribution of the feature values across all the songs in my playlist:", "I concluded very quickly that there is no strong correlation between these metrics. Songs did not follow a set pattern depending on their genre. When trying to perform clustering based of all 12 features, the results were not great\u2026 For this I decided to use a lower number of metrics and tested all the possible combinations of features that would yield the best clusters.", "Before trying a clustering algorithm on all 12 features, I decided to handpick a few features for the clustering in the hope that it would yield a better cluster quality.", "The first step was to normalise all the values such that they lie within [0 ; 1].", "The following step was to find a cluster quality metric based on a selection of a few features. The first thing I did was create a list with all the song metrics and then used the permutations() function to create a set of all possible combinations using three song features at the time.", "For each permutation I computed a cluster score using the elbow method.", "The elbow method is a heuristic approach used in determining the number of clusters in a data set. The method consists of plotting the explained variation as a function of the number of clusters, and picking the elbow of the curve as the number of clusters to use.", "For each permutation I extracted an elbow score and an elbow value. The score tells me how good the clustering was for this permutation, the elbow value tells me the ideal number of clusters for that permutation.", "The result is a pandas dataframe of feature permutations and their corresponding ideal number of clusters and the quality score of these clusters.", "Once the scores are calculated for each permutation, I decided to pick the ones above >0.4 and to save them in a separate dataframe.", "There were many permutations that yielded great results with scores even above >0.5.", "The permutation [\u2018instrumentalness\u2019, \u2018speechiness\u2019, \u2018valence\u2019] suggested creating 4 clusters and had a score of 0.504. This is the one I selected for my playlist creation.", "I scaled a dataframe only containing those three metrics and then performed the clustering using the KMeans() function.", "The result is a dataframe that contains a song per row with a label [0, 1, 2, 3] corresponding to each cluster that particular song was assigned to. The feature distribution clearly shows that energy and loudness are distributed differently across all clusters.", "The 3D scatter plot gives a different perspective showing that higher values of instrumentalness were sorted into the same cluster while energy and loudness differentiated the remaining three clusters.", "For more articles like this, find me on Medium here!", "If you have any questions, suggestions or ideas on how to improve, please leave a comment below or get in touch through LinkedIn here.", "All the code can be found on Github here. The permutations script can be found in analysis_v2.py and the clustering can be found in feature_analysis.py.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Biomedical Engineer, Imperial College London\u2014 Finding the balance between coding and sailing"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F9eb7d53d105c&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fk-means-clustering-using-spotify-song-features-9eb7d53d105c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fk-means-clustering-using-spotify-song-features-9eb7d53d105c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fk-means-clustering-using-spotify-song-features-9eb7d53d105c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fk-means-clustering-using-spotify-song-features-9eb7d53d105c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----9eb7d53d105c--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----9eb7d53d105c--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@alejandra.vlerick?source=post_page-----9eb7d53d105c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@alejandra.vlerick?source=post_page-----9eb7d53d105c--------------------------------", "anchor_text": "Alejandra Vlerick"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd9ec2a6d12b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fk-means-clustering-using-spotify-song-features-9eb7d53d105c&user=Alejandra+Vlerick&userId=d9ec2a6d12b&source=post_page-d9ec2a6d12b----9eb7d53d105c---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9eb7d53d105c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fk-means-clustering-using-spotify-song-features-9eb7d53d105c&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9eb7d53d105c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fk-means-clustering-using-spotify-song-features-9eb7d53d105c&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@maltewingen?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Malte Wingen"}, {"url": "https://unsplash.com/s/photos/music?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://medium.com/@alejandra.vlerick/membership", "anchor_text": "here"}, {"url": "https://spotipy.readthedocs.io/en/latest/", "anchor_text": "link"}, {"url": "https://developer.spotify.com/documentation/web-api/", "anchor_text": "this"}, {"url": "https://developer.spotify.com/dashboard/", "anchor_text": "https://developer.spotify.com/dashboard/"}, {"url": "https://towardsdatascience.com/medium.com/@alejandra.vlerick", "anchor_text": "here"}, {"url": "https://www.linkedin.com/in/alejandra-g-283595b8", "anchor_text": "here"}, {"url": "https://unsplash.com/@wilhelmgunkel?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Wilhelm Gunkel"}, {"url": "https://unsplash.com/s/photos/thank-you?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://github.com/alejandra-gutierrez/SpotifyAPI", "anchor_text": "here"}, {"url": "https://medium.com/tag/data-science?source=post_page-----9eb7d53d105c---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----9eb7d53d105c---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/technology?source=post_page-----9eb7d53d105c---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----9eb7d53d105c---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----9eb7d53d105c---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F9eb7d53d105c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fk-means-clustering-using-spotify-song-features-9eb7d53d105c&user=Alejandra+Vlerick&userId=d9ec2a6d12b&source=-----9eb7d53d105c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F9eb7d53d105c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fk-means-clustering-using-spotify-song-features-9eb7d53d105c&user=Alejandra+Vlerick&userId=d9ec2a6d12b&source=-----9eb7d53d105c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9eb7d53d105c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fk-means-clustering-using-spotify-song-features-9eb7d53d105c&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----9eb7d53d105c--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F9eb7d53d105c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fk-means-clustering-using-spotify-song-features-9eb7d53d105c&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----9eb7d53d105c---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----9eb7d53d105c--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----9eb7d53d105c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----9eb7d53d105c--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----9eb7d53d105c--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----9eb7d53d105c--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----9eb7d53d105c--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----9eb7d53d105c--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----9eb7d53d105c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@alejandra.vlerick?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@alejandra.vlerick?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Alejandra Vlerick"}, {"url": "https://medium.com/@alejandra.vlerick/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "166 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd9ec2a6d12b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fk-means-clustering-using-spotify-song-features-9eb7d53d105c&user=Alejandra+Vlerick&userId=d9ec2a6d12b&source=post_page-d9ec2a6d12b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fcb4a746136eb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fk-means-clustering-using-spotify-song-features-9eb7d53d105c&newsletterV3=d9ec2a6d12b&newsletterV3Id=cb4a746136eb&user=Alejandra+Vlerick&userId=d9ec2a6d12b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}