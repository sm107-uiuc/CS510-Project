{"url": "https://towardsdatascience.com/wsl2-nvidia-gpu-driver-for-directml-and-tensor-flow-82996bb080b0", "time": 1683014904.624486, "path": "towardsdatascience.com/wsl2-nvidia-gpu-driver-for-directml-and-tensor-flow-82996bb080b0/", "webpage": {"metadata": {"title": "WSL2 / NVIDIA GPU Driver for DirectML and Tensor Flow | by Cristian Saavedra Desmoineaux | Towards Data Science", "h1": "WSL2 / NVIDIA GPU Driver for DirectML and Tensor Flow", "description": "In September 2020, NVIDIA announced native CUDA features on Windows Subsystem for Linux (WSL2) in the last version of the preview driver, which motivated me to write this post. I will explain how to\u2026"}, "outgoing_paragraph_urls": [{"url": "https://news.developer.nvidia.com/preview-for-cuda-on-wsl-updated-for-performance/", "anchor_text": "NVIDIA announced", "paragraph_index": 0}, {"url": "https://docs.microsoft.com/en-us/windows/wsl/about", "anchor_text": "WSL2 (Microsoft Subsystem Linux)", "paragraph_index": 1}, {"url": "https://insider.windows.com/en-us/getting-started", "anchor_text": "https://insider.windows.com/en-us/getting-started", "paragraph_index": 7}, {"url": "https://docs.microsoft.com/en-us/windows/wsl/install-win10", "anchor_text": "link", "paragraph_index": 10}, {"url": "https://towardsdatascience.com/configuring-jupyter-notebook-in-windows-subsystem-linux-wsl2-c757893e9d69", "anchor_text": "previous post", "paragraph_index": 10}, {"url": "https://developer.nvidia.com", "anchor_text": "https://developer.nvidia.com", "paragraph_index": 12}, {"url": "https://developer.nvidia.com/cuda/wsl/download", "anchor_text": "https://developer.nvidia.com/cuda/wsl/download", "paragraph_index": 13}, {"url": "https://www.nvidia.com/en-us/geforce/release-notes/GFE/3_20_4/Web/gfe-v3_20_4-web-release-highlights/", "anchor_text": "460.20_gameready_win10-dch_64bit_international.exe", "paragraph_index": 14}, {"url": "https://docs.nvidia.com/cuda/wsl-user-guide/index.html", "anchor_text": "NVIDIA WSL Documentation", "paragraph_index": 16}, {"url": "https://docs.microsoft.com/en-us/windows/win32/direct3d12/gpu-tensorflow-wsl", "anchor_text": "For the next steps", "paragraph_index": 16}, {"url": "https://towardsdatascience.com/configuring-jupyter-notebook-in-windows-subsystem-linux-wsl2-c757893e9d69", "anchor_text": "previous post", "paragraph_index": 16}], "all_paragraphs": ["In September 2020, NVIDIA announced native CUDA features on Windows Subsystem for Linux (WSL2) in the last version of the preview driver, which motivated me to write this post.", "I will explain how to install NVIDIA Driver on WSL2 (Microsoft Subsystem Linux) and test TensorFlow's parallel execution.", "Some of the main changes are:", "Until Microsoft Windows build 20145 is not available to the general public, to use GPU on WSL version 2, you will need to do the following:", "To activate the Microsoft Insider program, we will check if the required build is available. To do that, first, go to Check for Updates and verify that you have the last updates.", "The next step is to go to About your PC and verify the OS build in the Windows Specifications.", "If you are in a build greater than 20145, you can skip the next section.", "Register at https://insider.windows.com/en-us/getting-started and follow the steps. After the restart, you will get a new setting option, Windows Insider Program Setting.", "After many updates, you can use the GPU by the WSL if you have the OS builds 20145 or higher. If you don\u2019t have the minimum build, change to Dev Channel or Fast Ring in the Windows Insider Program settings and rerun Windows Update.", "You need the 2nd version of the Windows Subsystem for Linux. To check if you are using the WSL 2, run the following command in a prompt", "If you have version 1, you can update it with the following link. If you don\u2019t have the WSL installed, I recommend you read my previous post.", "The next step is to update your WSL distribution. To do that, open a prompt with and execute:", "The NVIDIA Developer page has some not common ways to Sign In or Create an account; go to https://developer.nvidia.com and on Account at the upper-right corner, and select the email sign-in or for creating a new account. Then enter your current email and password or click on Create account and follow the steps.", "To download the last version of the NVIDIA Driver, go to https://developer.nvidia.com/cuda/wsl/download and choose between GEFORCE or QUADRO, depending on your current hardware.", "I am going to use GeForce and express installation of the version 460.20_gameready_win10-dch_64bit_international.exe", "After installation, go to GEFORCE Experience and select the settings, Enable experimental features, and press the Restart button.", "Previous to begin, I recommend checking the NVIDIA WSL Documentation. For the next steps and install Miniconda. You will find it helpful in my previous post if you don't have it.", "You will need at least the Linux kernel version 4.19.121. To know your Linux version, run cmd or Command Prompt and execute the following command:", "You will see something similar to this:", "Next, update Miniconda, Create a new environment called DirectML using python 3.6, and Install Tensor Flow / Direct ML.", "Then open an interactive Python and execute the following:", "You will get your current Hardware.", "To double-check, I ran the last statement many times, waiting different times between each execution to try if it affected the GPU usage trend:", "To finish, I am grateful to my brother Michael Saavedra who push me to continue writing about these topics.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Developer Advocate, or as Warren Thornthwaite called me Data magician, with many hats who every day pushes the limits to improve and help to make decisions"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F82996bb080b0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwsl2-nvidia-gpu-driver-for-directml-and-tensor-flow-82996bb080b0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwsl2-nvidia-gpu-driver-for-directml-and-tensor-flow-82996bb080b0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwsl2-nvidia-gpu-driver-for-directml-and-tensor-flow-82996bb080b0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwsl2-nvidia-gpu-driver-for-directml-and-tensor-flow-82996bb080b0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----82996bb080b0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----82996bb080b0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://cristiansaavedra.medium.com/?source=post_page-----82996bb080b0--------------------------------", "anchor_text": ""}, {"url": "https://cristiansaavedra.medium.com/?source=post_page-----82996bb080b0--------------------------------", "anchor_text": "Cristian Saavedra Desmoineaux"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F54193679bfb0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwsl2-nvidia-gpu-driver-for-directml-and-tensor-flow-82996bb080b0&user=Cristian+Saavedra+Desmoineaux&userId=54193679bfb0&source=post_page-54193679bfb0----82996bb080b0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F82996bb080b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwsl2-nvidia-gpu-driver-for-directml-and-tensor-flow-82996bb080b0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F82996bb080b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwsl2-nvidia-gpu-driver-for-directml-and-tensor-flow-82996bb080b0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@vinayak_125?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Vinayak Sharma"}, {"url": "https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://news.developer.nvidia.com/preview-for-cuda-on-wsl-updated-for-performance/", "anchor_text": "NVIDIA announced"}, {"url": "https://docs.microsoft.com/en-us/windows/wsl/about", "anchor_text": "WSL2 (Microsoft Subsystem Linux)"}, {"url": "https://docs.nvidia.com/cuda/parallel-thread-execution/index.html#introduction", "anchor_text": "parallel execution (PTX"}, {"url": "https://insider.windows.com/en-us/getting-started", "anchor_text": "Microsoft Insider Program"}, {"url": "https://developer.nvidia.com/", "anchor_text": "NVIDIA Developer"}, {"url": "https://developer.nvidia.com/cuda/wsl/download", "anchor_text": "NVIDIA Driver"}, {"url": "https://insider.windows.com/en-us/getting-started", "anchor_text": "https://insider.windows.com/en-us/getting-started"}, {"url": "https://docs.microsoft.com/en-us/windows/wsl/install-win10", "anchor_text": "link"}, {"url": "https://towardsdatascience.com/configuring-jupyter-notebook-in-windows-subsystem-linux-wsl2-c757893e9d69", "anchor_text": "previous post"}, {"url": "https://developer.nvidia.com", "anchor_text": "https://developer.nvidia.com"}, {"url": "https://developer.nvidia.com/cuda/wsl/download", "anchor_text": "https://developer.nvidia.com/cuda/wsl/download"}, {"url": "https://www.nvidia.com/en-us/geforce/release-notes/GFE/3_20_4/Web/gfe-v3_20_4-web-release-highlights/", "anchor_text": "460.20_gameready_win10-dch_64bit_international.exe"}, {"url": "https://docs.nvidia.com/cuda/wsl-user-guide/index.html", "anchor_text": "NVIDIA WSL Documentation"}, {"url": "https://docs.microsoft.com/en-us/windows/win32/direct3d12/gpu-tensorflow-wsl", "anchor_text": "For the next steps"}, {"url": "https://towardsdatascience.com/configuring-jupyter-notebook-in-windows-subsystem-linux-wsl2-c757893e9d69", "anchor_text": "previous post"}, {"url": "https://news.developer.nvidia.com/preview-for-cuda-on-wsl-updated-for-performance/?mkt_tok=eyJpIjoiT1RobVl6STVabVkxTmpjMiIsInQiOiJOZExCNVVIYjN4VUZKVUswVHhpUmF2SVhZMVNGaUNWelNDWE03V203OU1zbFhcL3o4dWJDdGlyM291dnRCeDhHUWFPVzM5SWJEWWJaaDlYNE9HOUhweE9xTmpXSVZDVHVWUzVlNFdyQkVQTGduRmRaZnFPOTRtRDZKVlVjUkdhdmEifQ%3D%3D", "anchor_text": "Preview for CUDA on WSL Updated for PerformanceRecently, Microsoft announced their public preview program for their Windows Subsystem for Linux ( WSL) capability on\u2026news.developer.nvidia.com"}, {"url": "https://developer.nvidia.com/cuda/wsl", "anchor_text": "GPU in Windows Subsystem for Linux (WSL)CUDA on Windows Subsystem for Linux (WSL) \u2014 Public Preview Microsoft Windows is a ubiquitous platform for enterprise\u2026developer.nvidia.com"}, {"url": "https://developer.nvidia.com/blog/announcing-cuda-on-windows-subsystem-for-linux-2/", "anchor_text": "Announcing CUDA on Windows Subsystem for Linux 2 | NVIDIA Developer BlogIn response to popular demand, Microsoft announced a new feature of the Windows Subsystem for Linux 2 (WSL 2)-GPU\u2026developer.nvidia.com"}, {"url": "https://github.com/microsoft/DirectML", "anchor_text": "Microsoft/DirectMLDirectML is a high-performance, hardware-accelerated DirectX 12 library for machine learning. DirectML provides GPU\u2026github.com"}, {"url": "https://devblogs.microsoft.com/commandline/gpu-compute-wsl-install-and-wsl-update-arrive-in-the-windows-insiders-fast-ring-for-the-windows-subsystem-for-linux/", "anchor_text": "GPU Compute, WSL Install, and WSL Update arrive in the latest Insider build for the Windows\u2026There are three thrilling new updates for the Windows Subsystem for Linux (WSL) in the latest Windows Insider Preview\u2026devblogs.microsoft.com"}, {"url": "https://devblogs.microsoft.com/commandline/whats-new-in-the-windows-subsystem-for-linux-september-2020/", "anchor_text": "What's new in the Windows Subsystem for Linux - September 2020 | Windows Command LineThis blog post highlights the WSL updates. Over the past few months, in addition to some sneak previews of\u2026devblogs.microsoft.com"}, {"url": "https://medium.com/tag/wsl-2?source=post_page-----82996bb080b0---------------wsl_2-----------------", "anchor_text": "Wsl 2"}, {"url": "https://medium.com/tag/gpu?source=post_page-----82996bb080b0---------------gpu-----------------", "anchor_text": "Gpu"}, {"url": "https://medium.com/tag/tensorflow?source=post_page-----82996bb080b0---------------tensorflow-----------------", "anchor_text": "TensorFlow"}, {"url": "https://medium.com/tag/nvidia-driver?source=post_page-----82996bb080b0---------------nvidia_driver-----------------", "anchor_text": "Nvidia Driver"}, {"url": "https://medium.com/tag/windows-insider-program?source=post_page-----82996bb080b0---------------windows_insider_program-----------------", "anchor_text": "Windows Insider Program"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F82996bb080b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwsl2-nvidia-gpu-driver-for-directml-and-tensor-flow-82996bb080b0&user=Cristian+Saavedra+Desmoineaux&userId=54193679bfb0&source=-----82996bb080b0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F82996bb080b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwsl2-nvidia-gpu-driver-for-directml-and-tensor-flow-82996bb080b0&user=Cristian+Saavedra+Desmoineaux&userId=54193679bfb0&source=-----82996bb080b0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F82996bb080b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwsl2-nvidia-gpu-driver-for-directml-and-tensor-flow-82996bb080b0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----82996bb080b0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F82996bb080b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwsl2-nvidia-gpu-driver-for-directml-and-tensor-flow-82996bb080b0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----82996bb080b0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----82996bb080b0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----82996bb080b0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----82996bb080b0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----82996bb080b0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----82996bb080b0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----82996bb080b0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----82996bb080b0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----82996bb080b0--------------------------------", "anchor_text": ""}, {"url": "https://cristiansaavedra.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://cristiansaavedra.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Cristian Saavedra Desmoineaux"}, {"url": "https://cristiansaavedra.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "206 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F54193679bfb0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwsl2-nvidia-gpu-driver-for-directml-and-tensor-flow-82996bb080b0&user=Cristian+Saavedra+Desmoineaux&userId=54193679bfb0&source=post_page-54193679bfb0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb5d719ecf8a5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwsl2-nvidia-gpu-driver-for-directml-and-tensor-flow-82996bb080b0&newsletterV3=54193679bfb0&newsletterV3Id=b5d719ecf8a5&user=Cristian+Saavedra+Desmoineaux&userId=54193679bfb0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}