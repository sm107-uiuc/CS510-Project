{"url": "https://towardsdatascience.com/a-quick-introduction-to-market-basket-analysis-d3292fc89517", "time": 1683015227.564599, "path": "towardsdatascience.com/a-quick-introduction-to-market-basket-analysis-d3292fc89517/", "webpage": {"metadata": {"title": "A Quick Introduction to Market Basket Analysis | by Andrew Udell | Towards Data Science", "h1": "A Quick Introduction to Market Basket Analysis", "description": "Retailers have access to an unprecedented amount of shopper transactions. As shopping habits have become more electronic, records of every purchase are neatly stored in databases, ready to be read\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Apriori_algorithm", "anchor_text": "Apriori Algorithm", "paragraph_index": 9}, {"url": "https://pypi.org/project/efficient-apriori/", "anchor_text": "efficient-apriori", "paragraph_index": 11}, {"url": "https://pypi.org/project/apyori/", "anchor_text": "apyori", "paragraph_index": 11}, {"url": "https://www.kaggle.com/sulmansarwar/transactions-from-a-bakery", "anchor_text": "Kaggle", "paragraph_index": 12}], "all_paragraphs": ["Retailers have access to an unprecedented amount of shopper transactions. As shopping habits have become more electronic, records of every purchase are neatly stored in databases, ready to be read and analyzed. With such an arsenal of data at their disposal, they can uncover patterns of consumer behavior.", "A market basket analysis is a set of affinity calculations meant to determine which items sell together. For example, a grocery store may use market basket analysis to determine that consumers typically buy both hot dogs and hot dog buns together.", "If you\u2019ve ever gone onto an online retailer\u2019s website, you\u2019ve probably seen a recommendation on a product\u2019s page phrased as \u201cCustomers who bought this item also bought\u201d or \u201cCustomers buy these together\u201d. More than likely, the online retailer performed some sort of market basket analysis to link the products together.", "A savvy retailer can leverage this knowledge to inform decisions on pricing, promotions, and store layouts. The aforementioned grocery store might have a sale on hot dogs, but increase the margins on the hot dog buns. The customers would buy more hot dogs and feel as if they found a bargain while the store would sell more product and raise their revenue.", "For every combination of items purchased, three key statistics are calculated: support, confidence, and lift.", "Support is the general popularity of an item relative to all other purchases. In a grocery store, milk would have a high support, because many shoppers buy it every trip. Support is given as a number between 0 and 1. Mathematically:", "Confidence is the conditional probability that customers who bought Product A also bought Product B. There would likely be a high confidence between marshmallows and graham crackers, because they\u2019re often bought together for s\u2019mores. Confidence is given as a number between 0 and 1. Mathematically:", "Lift is the sales increase in Product B when Product A is bought. There might be a high lift between hamburger patties and buns, because as more patties are bought, they drive the sale of buns. Mathematically:", "Lift is a bit unusual compared to the other two measures. Instead of a value between 0 and 1, lift is interpreted by its distance from 1:", "By far, the most common approach to perform Market Basket Analysis is the Apriori Algorithm. First proposed in 1994 by Agrawal and Srikant, the algorithm has become historically important for its impact on retailers to meaningfully track transaction associations.", "While still useful and widely used, the Apriori Algorithm also suffers from high computation times on larger data sets. Thankfully, most implementations offer minimum parameters for confidence and support and set a limit to the number of items per transaction to reduce the time to process.", "For demonstration, I\u2019ll use the Python implementation called efficient-apriori. Note that this library is rated for Python 3.6 and 3.7. Older versions of Python may use apyori, which supports 2.7 and 3.3\u20133.5.", "To show the application of the Apriori Algorithm, I\u2019ll use a data set of transactions from a bakery available on Kaggle.", "After the usual imports of Pandas and Numpy to help process the data, the previously saved CSV file is read to a DataFrame.", "A few lines of the data contain \u201cNONE\u201d in the Item column, which isn\u2019t particularly helpful, so those are filtered out.", "Unlike a lot of other libraries which support Pandas DataFrames out of the box, efficient-apriori needs the transaction lines as a series of tuples in a list.", "To create this data structure, a list of unique Transaction ID numbers are collected. For every Transaction ID, a Numpy array of items associated with the ID are grouped. Finally, they\u2019re converted into tuples and placed in a list.", "After importing the library, the Apriori Algorithm can be placed on a single line. Note the min_support and min_confidence arguments, which specify the minimum support and confidence values to calculate. The actual values of these will differ between various types of data. Setting them too high won\u2019t produce any results. Setting them too low will give too many results and will take a long to time to run.", "It\u2019s a Goldilocks problem which requires some trial and error to determine. For particularly large data sets, some preliminary calculations for support may be required to determine a good baseline.", "For this particular data set, most transactions contain a single item purchases. While an interesting result in and of itself, it means the minimum values for support and confidence need to be set relatively low.", "Finally, the results are placed in the rule variable, which may be printed. The results should look something like the below:", "To better understand the output, look at the two lines specifying the rules for coffee and cake. The two lines both give the confidence (conf), the support (supp), and lift, but the order between the two lines are switched.", "In the first line, probabilities are measured as cake conditional on coffee while in the second line, probabilities are measured as coffee conditional on cake. In other words, of the customers who bought coffee, not many also bought cake. Of the customers who bought cake, however, most also bought coffee. This is why there\u2019s a difference in confidence values.", "It\u2019s a subtle, but important difference to understand.", "In addition, the lift values are greater than 1, suggesting that the sale of cake boosts the sale of coffee and vice versa.", "With this understanding, the bakery could take advantage of this analysis by:", "Market basket analysis is a set of calculations meant to help businesses understand the underlying patterns in their sales. Certain complementary goods are often bought together and the Apriori Algorithm can undercover them.", "Understanding how products sale can be used in everything from promotions to cross-selling to recommendations. While the examples I gave were primarily retail-driven, any industry can benefit from better understanding how their products move.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fd3292fc89517&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-introduction-to-market-basket-analysis-d3292fc89517&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-introduction-to-market-basket-analysis-d3292fc89517&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-introduction-to-market-basket-analysis-d3292fc89517&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-introduction-to-market-basket-analysis-d3292fc89517&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----d3292fc89517--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d3292fc89517--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://andrew-udell.medium.com/?source=post_page-----d3292fc89517--------------------------------", "anchor_text": ""}, {"url": "https://andrew-udell.medium.com/?source=post_page-----d3292fc89517--------------------------------", "anchor_text": "Andrew Udell"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7f6d46761e2a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-introduction-to-market-basket-analysis-d3292fc89517&user=Andrew+Udell&userId=7f6d46761e2a&source=post_page-7f6d46761e2a----d3292fc89517---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd3292fc89517&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-introduction-to-market-basket-analysis-d3292fc89517&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd3292fc89517&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-introduction-to-market-basket-analysis-d3292fc89517&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@pineapple?utm_source=medium&utm_medium=referral", "anchor_text": "Pineapple Supply Co."}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://unsplash.com/@claytonrobbins?utm_source=medium&utm_medium=referral", "anchor_text": "Clayton Robbins"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://en.wikipedia.org/wiki/Apriori_algorithm", "anchor_text": "Apriori Algorithm"}, {"url": "https://pypi.org/project/efficient-apriori/", "anchor_text": "efficient-apriori"}, {"url": "https://pypi.org/project/apyori/", "anchor_text": "apyori"}, {"url": "https://www.kaggle.com/sulmansarwar/transactions-from-a-bakery", "anchor_text": "Kaggle"}, {"url": "https://medium.com/tag/data-science?source=post_page-----d3292fc89517---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----d3292fc89517---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/python?source=post_page-----d3292fc89517---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd3292fc89517&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-introduction-to-market-basket-analysis-d3292fc89517&user=Andrew+Udell&userId=7f6d46761e2a&source=-----d3292fc89517---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd3292fc89517&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-introduction-to-market-basket-analysis-d3292fc89517&user=Andrew+Udell&userId=7f6d46761e2a&source=-----d3292fc89517---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd3292fc89517&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-introduction-to-market-basket-analysis-d3292fc89517&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d3292fc89517--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fd3292fc89517&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-introduction-to-market-basket-analysis-d3292fc89517&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----d3292fc89517---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----d3292fc89517--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----d3292fc89517--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----d3292fc89517--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----d3292fc89517--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----d3292fc89517--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----d3292fc89517--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----d3292fc89517--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----d3292fc89517--------------------------------", "anchor_text": ""}, {"url": "https://andrew-udell.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://andrew-udell.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andrew Udell"}, {"url": "https://andrew-udell.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "162 Followers"}, {"url": "https://www.linkedin.com/in/andrew-udell-108802140/", "anchor_text": "https://www.linkedin.com/in/andrew-udell-108802140/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7f6d46761e2a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-introduction-to-market-basket-analysis-d3292fc89517&user=Andrew+Udell&userId=7f6d46761e2a&source=post_page-7f6d46761e2a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa1c007512744&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-introduction-to-market-basket-analysis-d3292fc89517&newsletterV3=7f6d46761e2a&newsletterV3Id=a1c007512744&user=Andrew+Udell&userId=7f6d46761e2a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}