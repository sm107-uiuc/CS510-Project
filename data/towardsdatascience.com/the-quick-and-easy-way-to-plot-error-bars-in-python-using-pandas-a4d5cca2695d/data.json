{"url": "https://towardsdatascience.com/the-quick-and-easy-way-to-plot-error-bars-in-python-using-pandas-a4d5cca2695d", "time": 1683005047.9917681, "path": "towardsdatascience.com/the-quick-and-easy-way-to-plot-error-bars-in-python-using-pandas-a4d5cca2695d/", "webpage": {"metadata": {"title": "The Quick and Easy Way to Plot Error Bars in Python Using Pandas | by Max Hilsdorf | Towards Data Science", "h1": "The Quick and Easy Way to Plot Error Bars in Python Using Pandas", "description": "In scientific studies, displaying error bars in your descriptive visualizations is inevitable. Holding information about the variability of your data, they are a necessary complement to your mean\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/@claudiuclement/standard-deviation-vs-standard-error-5210e3bc9c04", "anchor_text": "this article by Claudia Clement", "paragraph_index": 8}, {"url": "https://www.kaggle.com/neuromusic/avocado-prices", "anchor_text": "avocado price dataset from kaggle", "paragraph_index": 9}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.groupby.html", "anchor_text": "df.groupby", "paragraph_index": 10}, {"url": "https://pandas.pydata.org/pandas-docs/version/0.23.4/generated/pandas.DataFrame.plot.html", "anchor_text": "df.plot", "paragraph_index": 18}], "all_paragraphs": ["In scientific studies, displaying error bars in your descriptive visualizations is inevitable. Holding information about the variability of your data, they are a necessary complement to your mean scores. However, scientific visualizations tend to be more beautiful on the inside than on the outside.", "As data scientists, we are taught to use attractive visualizations to tell stories. Anything that distracts the viewer from the main point we are trying to make is adviced to be removed. This makes perfect sense, as managers and customers usually neither have a good grasp of statistics nor much time and energy to spend on your visualizations.", "To interpret error bars, you need:", "Both of those presuppositions conflict with the aim of a data storyteller. You want anyone to understand the results without having to read through eight lines of notes.", "Data storytellers see error bars as obstacles, because they prevent easy, comfortable, and uniform interpretation of their data. Scientists, on the other hand, are trained to display all necessary information and let the reader interpret the results on their own. Neither of these approaches is superior. Oversimplifying results in technical reports or data team meetings is just as disadvantagious as annoying your managers and customers with spontaneous lectures in statistics.", "For anyone willing to justify the \u201cscience\u201d in their data science job title, learning when and how to use error bars is inevitable!", "When I created the visualizations for my first scientific article, I tried lots of different methods. Let me save you some time and introduce you to the quick and easy method I found. All you need to follow this article and apply the method yourself is some basic knowledge of statistics, python and the pandas library.", "There are two main parameters that are suited for error bars.", "I highly recommend getting familiar with these parameters, so that you can make educated decisions on which parameter to use for your visualizations. In this article by Claudia Clement, the concepts are explained in a perfectly compressed way.", "First, we need to import our libraries and load our data. We\u2019ll be using the avocado price dataset from kaggle. You don\u2019t need to know much about the dataset. All we want to know is whether conventional and organic avocados (\u201ctype\u201d column) have different prices ( \u201cAveragePrice\u201d column).", "The easiest way to perform our calculations is by using pandas df.groupby function. This function has many useful applications, but in this case, we\u2018ll use it for aggregated computations of statistical parameters. Below, you can see the code prototype.", "We use df.groupby.agg for a quick and easy way to compute statistical parameters for group comparisons.", "We have the dataframe and column to group by, so we need to find the right functions now. Remember, we want the mean, the standard deviation x 2, and the standard error. These are the functions we need:", "Because the df.groupby.agg function only takes a list of functions as an input, we can\u2019t just use np.std * 2 to get our doubled standard deviation. However, we can just write our own function.", "Now, let\u2019s use the prototype code and fill the placeholders.", "Nice! Now, let\u2019s select only the \u201cAveragePrice\u201d column, because we don\u2019t need the rest.", "avocado_prices.head() now gives us the following output:", "Great! Now we have all the data we need.", "Pandas has a really useful function that allows us get a first visualization quickly without going through the whole matplotlib procedure: df.plot", "It\u2019s basically a matplotlib representation within pandas.", "To get a first plot without any error bars, we just need one line of code:", "We can see that organic avocados have a higher mean price than conventional avocados. But is this a real difference or just random spread? As I promised in the subtitle, we don\u2019t need a single extra line of code to answer this question using error bars. All we need to do is assign our statistical parameter to the xerr argument. Let\u2019s start with the \u201cdouble_std\u201d parameter:", "There they are! Even without any deep knowledge of how to interpret these error bars, we can see that the variability in prices is rather high and that the error bars of each bar touch the other bar. Maybe the difference isn\u2019t as clear and large as we expected from seeing just the first plot? Again, I won\u2019t go in depth on the interpretation of standard deviation and standard error since this is a practical guide. Just note that this plot leaves us with a different impression than the previous one.", "What happens if we plot the standard error next?", "What? The error bars are hardly visible. Standard error is sensitive to sample size, as it is lower in large samples than in small samples. The avocado sample has more than 250k observations, so the results make sense. This third plot leaves as with a completely different impression again!", "Whether and how you use error bars makes a huge difference in the \u201cstory\u201d your visualization tells. It is crucial to understand the statistics behind error bars to use and interpret them correctly.", "So far, we got very good results from just one line of code. If we take some more time to improve our visualization, we can get something like Figure 4.", "Creating error bars in python is very easy! Using some advanced pandas functions, we can go from dataframe to a visualization with (or without) error bars in just two lines of code! However, if you haven\u2019t learned the statistics behind error bars yet, you need to do that first. You saw how different the three plots (no error bars vs. dobuled standard deviation vs. standard error) looked. At first this might seem scary, but once you learn it, it\u2019s another very useful tool in your data science skillset.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Exploring the intersection of data science and music."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa4d5cca2695d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-quick-and-easy-way-to-plot-error-bars-in-python-using-pandas-a4d5cca2695d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-quick-and-easy-way-to-plot-error-bars-in-python-using-pandas-a4d5cca2695d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-quick-and-easy-way-to-plot-error-bars-in-python-using-pandas-a4d5cca2695d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-quick-and-easy-way-to-plot-error-bars-in-python-using-pandas-a4d5cca2695d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a4d5cca2695d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a4d5cca2695d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@maxhilsdorf?source=post_page-----a4d5cca2695d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@maxhilsdorf?source=post_page-----a4d5cca2695d--------------------------------", "anchor_text": "Max Hilsdorf"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd0c085a74ae8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-quick-and-easy-way-to-plot-error-bars-in-python-using-pandas-a4d5cca2695d&user=Max+Hilsdorf&userId=d0c085a74ae8&source=post_page-d0c085a74ae8----a4d5cca2695d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa4d5cca2695d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-quick-and-easy-way-to-plot-error-bars-in-python-using-pandas-a4d5cca2695d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa4d5cca2695d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-quick-and-easy-way-to-plot-error-bars-in-python-using-pandas-a4d5cca2695d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/@claudiuclement/standard-deviation-vs-standard-error-5210e3bc9c04", "anchor_text": "this article by Claudia Clement"}, {"url": "https://www.kaggle.com/neuromusic/avocado-prices", "anchor_text": "avocado price dataset from kaggle"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.groupby.html", "anchor_text": "df.groupby"}, {"url": "https://pandas.pydata.org/pandas-docs/version/0.23.4/generated/pandas.DataFrame.plot.html", "anchor_text": "df.plot"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a4d5cca2695d---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----a4d5cca2695d---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/python?source=post_page-----a4d5cca2695d---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/statistics?source=post_page-----a4d5cca2695d---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----a4d5cca2695d---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa4d5cca2695d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-quick-and-easy-way-to-plot-error-bars-in-python-using-pandas-a4d5cca2695d&user=Max+Hilsdorf&userId=d0c085a74ae8&source=-----a4d5cca2695d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa4d5cca2695d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-quick-and-easy-way-to-plot-error-bars-in-python-using-pandas-a4d5cca2695d&user=Max+Hilsdorf&userId=d0c085a74ae8&source=-----a4d5cca2695d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa4d5cca2695d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-quick-and-easy-way-to-plot-error-bars-in-python-using-pandas-a4d5cca2695d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a4d5cca2695d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa4d5cca2695d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-quick-and-easy-way-to-plot-error-bars-in-python-using-pandas-a4d5cca2695d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a4d5cca2695d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a4d5cca2695d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a4d5cca2695d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a4d5cca2695d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a4d5cca2695d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a4d5cca2695d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a4d5cca2695d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a4d5cca2695d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a4d5cca2695d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@maxhilsdorf?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@maxhilsdorf?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Max Hilsdorf"}, {"url": "https://medium.com/@maxhilsdorf/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "602 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd0c085a74ae8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-quick-and-easy-way-to-plot-error-bars-in-python-using-pandas-a4d5cca2695d&user=Max+Hilsdorf&userId=d0c085a74ae8&source=post_page-d0c085a74ae8--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F634ae3591d04&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-quick-and-easy-way-to-plot-error-bars-in-python-using-pandas-a4d5cca2695d&newsletterV3=d0c085a74ae8&newsletterV3Id=634ae3591d04&user=Max+Hilsdorf&userId=d0c085a74ae8&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}