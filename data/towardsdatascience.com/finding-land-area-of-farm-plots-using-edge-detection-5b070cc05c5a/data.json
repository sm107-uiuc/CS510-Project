{"url": "https://towardsdatascience.com/finding-land-area-of-farm-plots-using-edge-detection-5b070cc05c5a", "time": 1682994399.665109, "path": "towardsdatascience.com/finding-land-area-of-farm-plots-using-edge-detection-5b070cc05c5a/", "webpage": {"metadata": {"title": "Finding Land Area of Farm Plots Using Edge Detection | by Tim Chinenov | Towards Data Science", "h1": "Finding Land Area of Farm Plots Using Edge Detection", "description": "I don\u2019t go out of my way to make my projects related to agriculture. Yet, I continue to find applications of image processing and robotics to the farm lands. Perhaps it\u2019s the geometric consistency of\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Sobel_operator", "anchor_text": "Sobel filter", "paragraph_index": 6}, {"url": "https://en.wikipedia.org/wiki/Canny_edge_detector", "anchor_text": "Canny filter", "paragraph_index": 8}, {"url": "https://en.wikipedia.org/wiki/Marr%E2%80%93Hildreth_algorithm", "anchor_text": "Laplacian of Gaussian", "paragraph_index": 9}], "all_paragraphs": ["I don\u2019t go out of my way to make my projects related to agriculture. Yet, I continue to find applications of image processing and robotics to the farm lands. Perhaps it\u2019s the geometric consistency of many farm plots or a greater desire by the engineering and academic community to advance this rustic topic.", "During a recent holiday party, I had a conversation with an economist who needed to acquire data on the plot sizes of different farms. For many farms in the United States, this data exists. However, acquiring this data usually involves a hefty price. Furthermore, the plot size data is not readily available for many foreign and developing countries. This data is of great interest.", "Fortunately there is a slew of publicly available data of farms in the form of satellite images. Center your view over any mid-west region of the United States and you are bound to find fields of plotted farm land. This gave the idea of applying image processing algorithms to crop lands to determine the area encompassed by individual farms.", "The concept I chose to pursue involved using derivative filters. This made sense as it seemed to match how humans distinguish between plots of land or shapes. As we scan an object we use contrast and shadows to determine the shape, purpose, and identity of an object. Similarly, a derivative filter can be used to look for regions of contrast. If the difference between a pixels value with its surrounding pixels is greater than a threshold, it is marked with a 1, otherwise a 0. This creates a binary image with the edges of the original image selected.", "Before doing this, it is recommended that a blur filter is applied to the image. There is plenty of noise and detail in the original image that can reduce the success of the algorithm. This can be done with any blurring filter, and it is encouraged that users implementing this algorithm experiment. Since I was primarily interested in removing noise and tiny details while preserving the color of the plots for contrast purposes, I used a 4x4 median filter. A standard Gaussian filter may work just as well. The blurring filter was followed by gray scaling the image in order to apply edge detection.", "There were three edge detection methods that were experimented with to find the best results. I will describe each and their results briefly, but I encourage the curious reader to investigate each method themselves for a more thorough understanding.", "The first edge detection filter tested, and most likely the most well known, was the Sobel filter. This filter performs a gradient check at each pixel across a image. The built in Matlab function performs an operation in both the horizontal and vertical direction and combines the results.", "The Matlab built in Sobel filter returned the cleanest results. The resulting image had few specs of noise. Unfortunately, comparing the filtered image to the original image, it can be seen that many dividers between plots are not picked up well. This is especially true in regions where the farms do not vary greatly in color from their adjacent plots. It\u2019s possible that the values in the Sobel filter need to be played with to obtain these more blended regions.", "The second method tested was the Canny filter. From looking at the results of the Canny filter to the left, it can immediately be seen that Canny filter picks up considerably more edges. The disadvantage is that considerably more noise is picked up as well. This is expected, considering that the Canny algorithm takes the union of pixels that pass a magnitude threshold function and adjacent pixels that pass a somewhat lower threshold function. The Canny algorithm is more complex than a simple Sobel filter. It also depends on a Gaussian smoothing to be performed beforehand. The use of a median filter may be prohibiting optimal results.", "The final filter that was tested was the Laplacian of Gaussian filter. This filter is perfect for edge detection when scale is a factor. No matter what filter we use, we see that most of the prominent roads are captured. The marking of the noise that comes from small crop shadows or a possible house adjacent to a road are filter dependent. These are small details that are on a different scale as compared to the roads. This characteristic of the farm images makes them ideal for a Laplacian of Gaussian filter. Looking at the test result, a fairly ideal result is presented. The maximum number of roads are found for least amount of noise.", "To further remove noise from the image, Matlabs region property functions were used to remove all white regions that had a total pixel area of less than the mean pixel area value. Of course this threshold can be experimented further, but it was found to work well for this test case.", "Inverting the filtered image, gives the regions of the plotted land. The roads, however, are one pixel in width. This leaves a good possibility for regions that should be split to be connected. Only a single common pixel is required two make two regions that should be split, combined. Two remove this possibility a dilation square of dimension 4 was performed on the image. Additionally, a one pixel black border was added to the entire image to recognize the plots that leave the image as a region.", "With this image, finding the area of each plot of land is straight forward. Matlab\u2019s (or OpenCV\u2019s) regionprop function can be used to find the area of each region. There are still small pockets of land that are not plots of land. Some are remnants of the road or other details. To mitigate these areas, I only included regions with an area that was greater than the mean minus one standard deviation.", "Each region was then colored and its pixel dimension was printed in its spot. The results can be seen in the image below. The dimensions printed are the literal number of pixels in that region. These values are rather useless unless a known scale exists between pixels and image dimensions. I know satellite apps, such as Google Maps, tend to come with a scale. I leave the interested developer to implement this feature.", "Overall, I was pleased with the results. The application was able to separate the majority of the plots into their own specific regions. There are a few exceptions, such as the large orange section with pixel value 47,680, that blended two regions together. This can possible be solved by playing with the dilation values. Another item to consider, the dilation of the roads does erode the pixel area of the farm. For a more exact value of the farms, it may make sense to add the result of this erosion to the total area of the farm; another topic for future development.", "I briefly want to comment on an alternative approach that was explored. Instead of using edge detection to find farms, super pixels can be an efficient approach. After exploring this task with the aforementioned economist, super pixels were tested and demonstrated equivalent, if not superior, results.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "A SpaceX software engineer. Im an equal opportunity critic that writes about tech and policy. instagram: @classy.tim.writes"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5b070cc05c5a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinding-land-area-of-farm-plots-using-edge-detection-5b070cc05c5a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinding-land-area-of-farm-plots-using-edge-detection-5b070cc05c5a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinding-land-area-of-farm-plots-using-edge-detection-5b070cc05c5a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinding-land-area-of-farm-plots-using-edge-detection-5b070cc05c5a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5b070cc05c5a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5b070cc05c5a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://theclassytim.medium.com/?source=post_page-----5b070cc05c5a--------------------------------", "anchor_text": ""}, {"url": "https://theclassytim.medium.com/?source=post_page-----5b070cc05c5a--------------------------------", "anchor_text": "Tim Chinenov"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd8ef4d6fe020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinding-land-area-of-farm-plots-using-edge-detection-5b070cc05c5a&user=Tim+Chinenov&userId=d8ef4d6fe020&source=post_page-d8ef4d6fe020----5b070cc05c5a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5b070cc05c5a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinding-land-area-of-farm-plots-using-edge-detection-5b070cc05c5a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5b070cc05c5a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinding-land-area-of-farm-plots-using-edge-detection-5b070cc05c5a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://en.wikipedia.org/wiki/Sobel_operator", "anchor_text": "Sobel filter"}, {"url": "https://en.wikipedia.org/wiki/Canny_edge_detector", "anchor_text": "Canny filter"}, {"url": "https://en.wikipedia.org/wiki/Marr%E2%80%93Hildreth_algorithm", "anchor_text": "Laplacian of Gaussian"}, {"url": "https://github.com/TimChinenov/FarmPlotter", "anchor_text": "TimChinenov/FarmPlotterThe following is a Matlab script that uses image processing to determine the number of farm plots in an image and print\u2026github.com"}, {"url": "https://medium.com/tag/image-processing?source=post_page-----5b070cc05c5a---------------image_processing-----------------", "anchor_text": "Image Processing"}, {"url": "https://medium.com/tag/computer-vision?source=post_page-----5b070cc05c5a---------------computer_vision-----------------", "anchor_text": "Computer Vision"}, {"url": "https://medium.com/tag/computer-science?source=post_page-----5b070cc05c5a---------------computer_science-----------------", "anchor_text": "Computer Science"}, {"url": "https://medium.com/tag/farming?source=post_page-----5b070cc05c5a---------------farming-----------------", "anchor_text": "Farming"}, {"url": "https://medium.com/tag/image-classification?source=post_page-----5b070cc05c5a---------------image_classification-----------------", "anchor_text": "Image Classification"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5b070cc05c5a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinding-land-area-of-farm-plots-using-edge-detection-5b070cc05c5a&user=Tim+Chinenov&userId=d8ef4d6fe020&source=-----5b070cc05c5a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5b070cc05c5a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinding-land-area-of-farm-plots-using-edge-detection-5b070cc05c5a&user=Tim+Chinenov&userId=d8ef4d6fe020&source=-----5b070cc05c5a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5b070cc05c5a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinding-land-area-of-farm-plots-using-edge-detection-5b070cc05c5a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5b070cc05c5a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5b070cc05c5a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinding-land-area-of-farm-plots-using-edge-detection-5b070cc05c5a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5b070cc05c5a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5b070cc05c5a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5b070cc05c5a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5b070cc05c5a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5b070cc05c5a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5b070cc05c5a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5b070cc05c5a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5b070cc05c5a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5b070cc05c5a--------------------------------", "anchor_text": ""}, {"url": "https://theclassytim.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://theclassytim.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Tim Chinenov"}, {"url": "https://theclassytim.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "792 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd8ef4d6fe020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinding-land-area-of-farm-plots-using-edge-detection-5b070cc05c5a&user=Tim+Chinenov&userId=d8ef4d6fe020&source=post_page-d8ef4d6fe020--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F5565a3f4305c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinding-land-area-of-farm-plots-using-edge-detection-5b070cc05c5a&newsletterV3=d8ef4d6fe020&newsletterV3Id=5565a3f4305c&user=Tim+Chinenov&userId=d8ef4d6fe020&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}