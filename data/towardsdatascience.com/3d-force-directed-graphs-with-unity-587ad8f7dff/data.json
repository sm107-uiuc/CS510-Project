{"url": "https://towardsdatascience.com/3d-force-directed-graphs-with-unity-587ad8f7dff", "time": 1683017078.362932, "path": "towardsdatascience.com/3d-force-directed-graphs-with-unity-587ad8f7dff/", "webpage": {"metadata": {"title": "3D Force-Directed Graphs with Unity | by Mathieu d'Aquin | Towards Data Science", "h1": "3D Force-Directed Graphs with Unity", "description": "Displaying a graph or a network in a way that is not a complete mess can be hard. You want the most connected nodes to be close to each other, and to avoid edges crossing unnecessarily. The idea of\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Force-directed_graph_drawing", "anchor_text": "force-directed", "paragraph_index": 0}, {"url": "https://d3js.org/", "anchor_text": "D3.js", "paragraph_index": 0}, {"url": "https://unity.com/", "anchor_text": "Unity", "paragraph_index": 1}, {"url": "https://github.com/mdaquin/3d_graph_layout_unity", "anchor_text": "github", "paragraph_index": 7}, {"url": "https://en.wikipedia.org/wiki/Graph_Modelling_Language", "anchor_text": "Graph Modelling Language", "paragraph_index": 12}, {"url": "https://github.com/gephi/gephi/wiki/Datasets", "anchor_text": "github repository of Gephi", "paragraph_index": 12}, {"url": "https://github.com/mdaquin/3d_graph_layout_unity", "anchor_text": "https://github.com/mdaquin/3d_graph_layout_unity", "paragraph_index": 17}], "all_paragraphs": ["Displaying a graph or a network in a way that is not a complete mess can be hard. You want the most connected nodes to be close to each other, and to avoid edges crossing unnecessarily. The idea of the force-directed approach is that, instead of using a set of rules or a complex algorithm, a good layout for the graph is achieved by making every node act as if it was an object in an environment where simple physical properties apply: 1- Things that are connected attract each other, and 2- things that are close to each other push each other away. In that sense, the force-directed layout modules of popular graph visualisation frameworks such as D3.js are small, specialised physics engine.", "That\u2019s all very good. However, for large, highly connected graphs, having only two dimensions for the objects to move around might not be enough. There is also little scope for navigation: You either see the whole graph, which might tell you nothing, or you only see a small piece which might be too limited. So a 3D version of force-directed graph visualisation might be helpful. It might be a bit of a pain to implement though. A nice looking rendering of the nodes and edges in 3D would be bad enough. Having, on top of that, to manage efficiently all the multiple forces that apply on all the nodes dynamically and in 3 dimensions would be rather complicated. Luckily, there is something that has all that out of the box: Unity.", "Unity is a game development engine. It can render 3D objects, deal with an infinite number of options for style, lightning, movement and interaction. Most importantly, it also includes a very efficient physics engine.", "Joints in Unity are things that connect two objects to each other so that whatever happens to one has an effect on the other. For example, if you connect two rigid bodies (i.e. 3D objects to which physics apply) with a fixed joint, it means that whatever movement happens to one will also happen to the other, as if they were connected by a kind of solid, inflexible rod.", "The kind of joints we can use here, however, is the spring joint. Basically, it acts like an elastic band pulling the two objects together until they are in the same position. So, let\u2019s say we create two cubes and connect one to the other through a spring joint. If they are initially apart, they will move towards each other. If one moves, the other will follow with a \u201cspringy\u201d movement.", "Now, there is an obvious issue with the cubes above: When they attract each other, they end up occupying the same space. It won\u2019t be a super helpful graph visualisation if all the nodes are on top of each other. There is however an easy way to deal with this in Unity. Detecting that two things are colliding, i.e. bumping into each other, is after all a basic function in a game engine.", "The cube as we see it is a 3D model, i.e. a mesh. It can be associated with a collider, which is a shape delimiting the boundary of the object for the purpose of collision. The nice thing is that we can make the collider bigger than the cube mesh itself. If we enable collision between the objects connected by the spring joint, the result is that the cubes will stop moving towards each other when their colliders hit. They will get stuck as if hitting a wall. They are still attracted through the spring joint, but won\u2019t be able to get on top of each other. They stop at the distance set by the size of their colliders.", "Now that we have the two required components, all we need is to build them into the structure of a graph. I will skip a lot of details, but all the code is on github anyway. In short, I created a \u201cprefab\u201d (the word in unity for an object template) for nodes, which is a cube with a large collider, a piece of text on top of it (for the label) and a script defining the class Node. That class includes a function to add an edge, which will create the relevant SpingJoint. It will also instantiate a given \u201cedge prefab\u201d for every edge and constantly adapt their size and position depending on the position of the connected nodes (i.e. to follow the corresponding spring joints).", "The following code uses this to create a very simple graph with 5 nodes, initialising the position of the nodes randomly in the space.", "The parameters of the graph are:", "I also implemented a small script that allows me to move the camera back and forth while it maintains focus on the centre of the graph, with the following result:", "That is obviously brilliant: I made a very small, manually created, ugly 3D graph\u2026 Maybe we can do better.", "To try bigger things, I made a basic parser for GML (Graph Modelling Language) files and took some of the examples available from the github repository of Gephi.", "Now, the great thing about using Unity for this is that we can use all it has to offer to style our graph. We can create all sorts of shapes, colours and textures for nodes, and use all sorts of backgrounds, lights, etc. For example, visualising the network of co-appearance of characters in \u201cLes Miserables\u201d with black nodes and edges on a white background, we get this:", "The first animation at the top of this page is the adjacency network of common adjectives and nouns in \u201cDavid Copperfield\u201d, with nodes as spheres, a grey background and both nodes and edges having applied a smooth, orange and slightly light-emitting material.", "Another nice one, I think, is the \u201csocial network\u201d of Zachary\u2019s karate club with bright white nodes on a black background, and yellowish-grey edges. They look like stars and constellations.", "There are many possible ways to make really nice graphs, and many ways also to create new modes of exploration and interaction with them in Unity. There are of course other game engines that could be used to do the same, and it is amazing to see how using such tools can give you a different outlook on ways to present, manipulate and interact with data. Not only the approach to development is different here, with a very strong \u201cmulti-agent\u201d feel. The purpose of Unity to enable the creation of highly interactive, engaging and visually appealing things is also something that is not often found in frameworks that are specifically built for Data Science. Bringing them together can result in beautiful things and I, for one, can\u2019t wait to further explore how the power of a game engine can help create a more engaging Data Science.", "Get the code at https://github.com/mdaquin/3d_graph_layout_unity, import into Unity, tweak it, and make beautiful things.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I\u2019m a developer and a researcher in data science, knowledge engineering and artificial intelligence. I\u2019m a (some would say grumpy) frenchman writing in english."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F587ad8f7dff&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3d-force-directed-graphs-with-unity-587ad8f7dff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3d-force-directed-graphs-with-unity-587ad8f7dff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3d-force-directed-graphs-with-unity-587ad8f7dff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3d-force-directed-graphs-with-unity-587ad8f7dff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----587ad8f7dff--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----587ad8f7dff--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@mathieu.daquin.x?source=post_page-----587ad8f7dff--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@mathieu.daquin.x?source=post_page-----587ad8f7dff--------------------------------", "anchor_text": "Mathieu d'Aquin"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6cda1d9da2c5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3d-force-directed-graphs-with-unity-587ad8f7dff&user=Mathieu+d%27Aquin&userId=6cda1d9da2c5&source=post_page-6cda1d9da2c5----587ad8f7dff---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F587ad8f7dff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3d-force-directed-graphs-with-unity-587ad8f7dff&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F587ad8f7dff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3d-force-directed-graphs-with-unity-587ad8f7dff&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://en.wikipedia.org/wiki/Force-directed_graph_drawing", "anchor_text": "force-directed"}, {"url": "https://d3js.org/", "anchor_text": "D3.js"}, {"url": "https://unity.com/", "anchor_text": "Unity"}, {"url": "https://github.com/mdaquin/3d_graph_layout_unity", "anchor_text": "github"}, {"url": "https://en.wikipedia.org/wiki/Graph_Modelling_Language", "anchor_text": "Graph Modelling Language"}, {"url": "https://github.com/gephi/gephi/wiki/Datasets", "anchor_text": "github repository of Gephi"}, {"url": "https://github.com/mdaquin/3d_graph_layout_unity", "anchor_text": "https://github.com/mdaquin/3d_graph_layout_unity"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----587ad8f7dff---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/data-science?source=post_page-----587ad8f7dff---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/graph?source=post_page-----587ad8f7dff---------------graph-----------------", "anchor_text": "Graph"}, {"url": "https://medium.com/tag/unity?source=post_page-----587ad8f7dff---------------unity-----------------", "anchor_text": "Unity"}, {"url": "https://medium.com/tag/3d?source=post_page-----587ad8f7dff---------------3d-----------------", "anchor_text": "3d"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F587ad8f7dff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3d-force-directed-graphs-with-unity-587ad8f7dff&user=Mathieu+d%27Aquin&userId=6cda1d9da2c5&source=-----587ad8f7dff---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F587ad8f7dff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3d-force-directed-graphs-with-unity-587ad8f7dff&user=Mathieu+d%27Aquin&userId=6cda1d9da2c5&source=-----587ad8f7dff---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F587ad8f7dff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3d-force-directed-graphs-with-unity-587ad8f7dff&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----587ad8f7dff--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F587ad8f7dff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3d-force-directed-graphs-with-unity-587ad8f7dff&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----587ad8f7dff---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----587ad8f7dff--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----587ad8f7dff--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----587ad8f7dff--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----587ad8f7dff--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----587ad8f7dff--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----587ad8f7dff--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----587ad8f7dff--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----587ad8f7dff--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@mathieu.daquin.x?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@mathieu.daquin.x?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Mathieu d'Aquin"}, {"url": "https://medium.com/@mathieu.daquin.x/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "141 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6cda1d9da2c5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3d-force-directed-graphs-with-unity-587ad8f7dff&user=Mathieu+d%27Aquin&userId=6cda1d9da2c5&source=post_page-6cda1d9da2c5--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8efd3d435a30&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3d-force-directed-graphs-with-unity-587ad8f7dff&newsletterV3=6cda1d9da2c5&newsletterV3Id=8efd3d435a30&user=Mathieu+d%27Aquin&userId=6cda1d9da2c5&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}