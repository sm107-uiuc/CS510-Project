{"url": "https://towardsdatascience.com/how-to-create-large-music-datasets-using-spotipy-40e7242cc6a6", "time": 1683006360.6787899, "path": "towardsdatascience.com/how-to-create-large-music-datasets-using-spotipy-40e7242cc6a6/", "webpage": {"metadata": {"title": "How to Create Large Music Datasets Using Spotipy | by Max Hilsdorf | Towards Data Science", "h1": "How to Create Large Music Datasets Using Spotipy", "description": "Are you a music lover or a programmer? Chances are, you\u2019re both, just like me! When I started using Spotipy, I had little programming experience and wanted to explore computational audio analysis\u2026"}, "outgoing_paragraph_urls": [{"url": "https://developer.spotify.com/", "anchor_text": "https://developer.spotify.com/", "paragraph_index": 4}, {"url": "http://localhost/", "anchor_text": "http://localhost/", "paragraph_index": 6}, {"url": "https://medium.com/@maxtingle/getting-started-with-spotifys-api-spotipy-197c3dc6353b", "anchor_text": "Max Tingle", "paragraph_index": 9}, {"url": "https://open.spotify.com/playlist/4rnleEAOdmFAbRcNCgZMpY", "anchor_text": "\u201cBiggest Playlist Ever\u201d", "paragraph_index": 15}, {"url": "https://open.spotify.com/playlist/37i9dQZF1DX5IDTimEWoTd", "anchor_text": "\u201cWarum Fuzzy Feeling\u201d Playlist by Spotify", "paragraph_index": 22}, {"url": "https://developer.spotify.com/documentation/web-api/reference/tracks/get-audio-features/", "anchor_text": "here", "paragraph_index": 27}, {"url": "https://github.com/MaxHilsdorf/introduction_to_spotipy", "anchor_text": "github repository", "paragraph_index": 29}], "all_paragraphs": ["Are you a music lover or a programmer? Chances are, you\u2019re both, just like me! When I started using Spotipy, I had little programming experience and wanted to explore computational audio analysis. Now, as I\u2019m knee-deep into programming and Data Science, I\u2019m starting to appreciate Spotipy for creating amazing datasets for my data science projects.", "Spotipy is a Python library that makes it easier for users to access the Spotify Web API and retrieve all kinds of music data from it. When I started using Spotipy, it was the first time I ever got in touch with an API. Therefore, if you have never used API\u2019s, don\u2019t worry. You can do it!", "In this guide, we\u2019ll explore the possibilities of the latter application. I\u2019m going to show you how to use this data to create amazing datasets for statistical analyses or machine learning projects.", "Caught your interest? Great! After reading this story, you are able to create your first music dataset with a huge sample size (1k, 10k, 100k? You decide!). To make this easy for you, I\u2019ll guide you through the 3 steps you need to take to get there.", "This is the hard part, but stick with me. We\u2019ll be coding soon! In order to use the Spotify Web API, you\u2019ll need to register an application at https://developer.spotify.com/. It doesn\u2019t matter if you are actually building an application or just exploring the API. These are your 3 steps to success:", "Here, you come up with an application name (it doesn\u2019t matter what you call it) and a description for it. When I created mine, I was just being honest and wrote that I just wanted to explore the API with my app. It worked for me.", "3. Open your app view and click \u201cEdit Settings\u201d. Enter http://localhost/ in the Redirect URLs field.", "4. Go back to your app view and click \u201cShow Client Secret\u201d just under your Client ID.", "5. Store the Client ID and the Client Secret ID in a text file or something to quickly access them later. We\u2019ll need them for the authorization in Spotipy.", "In case my way of explaining wasn\u2019t helpful to you, I recommend you check out different resources for this part. A great introduction is this article by Max Tingle.", "In case the last part was a bit confusing or annoying for you, be sure that you\u2019ll be through the boring part in just a handful lines of code.", "2. Next, assign your Client and Secret ID to variables.", "3. I won\u2019t go through the next lines of code in detail. I suggest you copy-paste them and learn more later.", "Great! Now, you\u2019ll get started with analyzing some actual music in step 2.", "Now that the Spotify API lies at your feet, what are you gonna do with it? As suggested earlier, analyzing a big number of tracks makes for a great dataset. However, hand selecting every single track would be painful. You\u2019ll need some collection or list of tracks. Two options that proved useful in my personal experience are searching for tracks by playlist or artist. Both have their pros and cons which I will go over quickly before we get into the real analysis.", "How big do playlists get? This beauty above has 10,000 songs, which seems like the maximum playlist size Spotify allows for. Maybe you want to use the \u201cBiggest Playlist Ever\u201d playlist with 5,000 songs , too. Look around and you\u2019ll find many of these large playlists which you can use to build a large dataset quickly. However, you\u2019ve got to ask yourself what your actual research interest is. Will this collection of 15,000 be of any use to anyone? Maybe you want to use such a dataset to investigate how some audio features are distributed on Spotify?", "Another way would be to choose playlists based on a theme. You could take the first 20 search results for playlists with the word \u201csleep\u201d in their title. Maybe you want to compare the songs in \u201csleep\u201d playlists to songs in \u201cconcentration\u201d playlists to find out in which ways they differ. I have used this approach before to analyze whether romance and heartbreak songs differ musically (which they don\u2019t, surprisingly).", "If you have selected the playlists that are interesting to you, make sure to store their creators username as well as the playlist id. You can retrieve the ID from the url as seen below.", "Another way to select music would be through their artist. I\u2019ve used this approach before to build a machine learning model that assigned the music from the newly released Tool album \u201cFear Inoculum\u201d to the correct band out of 6 progressive metal/rock bands. In that case, you\u2019re dealing with low sample sizes, however. There are few artists with multiple hundreds of songs available, not to mention thousands. Spotify has a \u201crecommended artists\u201d feature, however. You might want to use it to increase your sample sizes while still using similar music.", "Once you\u2019ve chosen a couple of artists, store their artist ID in the same way you did with the playlist ID before.", "For step 3, I\u2019m going to show you how you could go about analyzing music from playlists. You are encouraged to try out how to do this via artist yourself. Feel free to ask me any questions, as well.", "Let\u2019s get into some actual coding. The basic Spotipy function to retrieve information for every track in a playlist is:", "Let\u2019s use the \u201cWarum Fuzzy Feeling\u201d Playlist by Spotify for this example.", "Taking the ID from the url, we can now apply the function.", "The output is overwhelming and, at first glance, totally uncomprehensible for anyone not used to dealing with APIs. This is some of the output.", "While I highly encourage you to explore the output yourself, I won\u2019t go in depth on this here and simply show you which features you want and where you can find them. If you do want to explore the output yourself, it\u2019s useful to treat it like a collection of multiple dictionaries nested inside each other.", "These are the kinds of features we can extract from the output.", "Spotify has some great resources for finding out more about the features we can extract (see figure below). Learn more here.", "Because this is an introductory article, I am going to show you the extraction function with only brief explanations of how exactly it works.", "Here is the function as pure code. You can find the entire code from this tutorial in a more appealing format in this github repository.", "At this point, you can copy my function, edit it, or explore the API youself. In any case, the function above returns a dataframe, which can easily be converted into any data format you want.", "Lastly, I\u2019m going to show you how you can create a dataframe containing multiple playlists.", "You can use the following function for this task. It analyzes every single playlist, adds a \u201cplaylist\u201d column with the playlist name. Lastly, the function concatenates the old and new dataframe.", "However, you\u2019ll need to organize your playlists in a certain format in order for the function to work. As you can see below, you\u2019ll need to store the playlists in a dictionary with the playlist names as keys and their creator and playlist id as values in the form of a tuple.", "Let\u2019s see what happens if we run the function.", "As you can see, using this method, you can easily analyze 20 large playlists and get multiple thousands of track analyses. Keep in mind, however, that you\u2019ll need to do some data cleaning. Especially, checking for duplicates will be an important step to take.", "You\u2019ve got your first music dataset now, but what to do next? Here are some ideas:", "Thank you for reading this article! If anything is missing or doesn\u2019t work for you, feel free to message me.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Exploring the intersection of data science and music."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F40e7242cc6a6&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-large-music-datasets-using-spotipy-40e7242cc6a6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-large-music-datasets-using-spotipy-40e7242cc6a6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-large-music-datasets-using-spotipy-40e7242cc6a6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-large-music-datasets-using-spotipy-40e7242cc6a6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----40e7242cc6a6--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----40e7242cc6a6--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@maxhilsdorf?source=post_page-----40e7242cc6a6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@maxhilsdorf?source=post_page-----40e7242cc6a6--------------------------------", "anchor_text": "Max Hilsdorf"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd0c085a74ae8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-large-music-datasets-using-spotipy-40e7242cc6a6&user=Max+Hilsdorf&userId=d0c085a74ae8&source=post_page-d0c085a74ae8----40e7242cc6a6---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F40e7242cc6a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-large-music-datasets-using-spotipy-40e7242cc6a6&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F40e7242cc6a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-large-music-datasets-using-spotipy-40e7242cc6a6&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.pexels.com/de-de/@gesel", "anchor_text": "Genaro Serv\u00edn"}, {"url": "https://www.pexels.com/de-de/@pixabay", "anchor_text": "Pixabay"}, {"url": "https://newsroom.spotify.com/company-info/", "anchor_text": "over 50 Million songs"}, {"url": "https://developer.spotify.com/", "anchor_text": "https://developer.spotify.com/"}, {"url": "https://developer.spotify.com/", "anchor_text": "o"}, {"url": "https://developer.spotify.com/dashboard/login", "anchor_text": "https://developer.spotify.com/dashboard/login"}, {"url": "http://localhost/", "anchor_text": "http://localhost/"}, {"url": "https://medium.com/@maxtingle/getting-started-with-spotifys-api-spotipy-197c3dc6353b", "anchor_text": "Max Tingle"}, {"url": "https://open.spotify.com/playlist/6yPiKpy7evrwvZodByKvM9", "anchor_text": "Spotify"}, {"url": "https://open.spotify.com/playlist/4rnleEAOdmFAbRcNCgZMpY", "anchor_text": "\u201cBiggest Playlist Ever\u201d"}, {"url": "https://open.spotify.com/playlist/37i9dQZF1DX5IDTimEWoTd", "anchor_text": "\u201cWarum Fuzzy Feeling\u201d Playlist by Spotify"}, {"url": "https://developer.spotify.com/documentation/web-api/reference/tracks/get-audio-features/", "anchor_text": "here"}, {"url": "https://github.com/MaxHilsdorf/introduction_to_spotipy", "anchor_text": "github repository"}, {"url": "https://medium.com/tag/spotify?source=post_page-----40e7242cc6a6---------------spotify-----------------", "anchor_text": "Spotify"}, {"url": "https://medium.com/tag/data-science?source=post_page-----40e7242cc6a6---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/music?source=post_page-----40e7242cc6a6---------------music-----------------", "anchor_text": "Music"}, {"url": "https://medium.com/tag/programming?source=post_page-----40e7242cc6a6---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/python?source=post_page-----40e7242cc6a6---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F40e7242cc6a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-large-music-datasets-using-spotipy-40e7242cc6a6&user=Max+Hilsdorf&userId=d0c085a74ae8&source=-----40e7242cc6a6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F40e7242cc6a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-large-music-datasets-using-spotipy-40e7242cc6a6&user=Max+Hilsdorf&userId=d0c085a74ae8&source=-----40e7242cc6a6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F40e7242cc6a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-large-music-datasets-using-spotipy-40e7242cc6a6&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----40e7242cc6a6--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F40e7242cc6a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-large-music-datasets-using-spotipy-40e7242cc6a6&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----40e7242cc6a6---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----40e7242cc6a6--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----40e7242cc6a6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----40e7242cc6a6--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----40e7242cc6a6--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----40e7242cc6a6--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----40e7242cc6a6--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----40e7242cc6a6--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----40e7242cc6a6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@maxhilsdorf?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@maxhilsdorf?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Max Hilsdorf"}, {"url": "https://medium.com/@maxhilsdorf/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "602 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd0c085a74ae8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-large-music-datasets-using-spotipy-40e7242cc6a6&user=Max+Hilsdorf&userId=d0c085a74ae8&source=post_page-d0c085a74ae8--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F634ae3591d04&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-create-large-music-datasets-using-spotipy-40e7242cc6a6&newsletterV3=d0c085a74ae8&newsletterV3Id=634ae3591d04&user=Max+Hilsdorf&userId=d0c085a74ae8&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}