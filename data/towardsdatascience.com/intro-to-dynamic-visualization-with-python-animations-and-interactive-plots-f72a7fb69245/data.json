{"url": "https://towardsdatascience.com/intro-to-dynamic-visualization-with-python-animations-and-interactive-plots-f72a7fb69245", "time": 1683006405.5982652, "path": "towardsdatascience.com/intro-to-dynamic-visualization-with-python-animations-and-interactive-plots-f72a7fb69245/", "webpage": {"metadata": {"title": "Intro to Dynamic Visualization with Python \u2014 Animations and Interactive Plots | by Naveen Venkatesan | Towards Data Science", "h1": "Intro to Dynamic Visualization with Python \u2014 Animations and Interactive Plots", "description": "Sometimes, you would like to create a dynamic graphic that either changes with time like a video, or adapts based on an interactive user input. These visualizations do a great of job of really\u2026"}, "outgoing_paragraph_urls": [{"url": "https://imagemagick.org/index.php", "anchor_text": "ImageMagick", "paragraph_index": 27}, {"url": "https://github.com/venkatesannaveen/python-science-tutorial", "anchor_text": "Github repository", "paragraph_index": 43}, {"url": "https://twitter.com/naveenv_92", "anchor_text": "Twitter", "paragraph_index": 43}, {"url": "https://www.linkedin.com/in/naveenvenkatesan/", "anchor_text": "LinkedIn", "paragraph_index": 43}], "all_paragraphs": ["Sometimes, you would like to create a dynamic graphic that either changes with time like a video, or adapts based on an interactive user input. These visualizations do a great of job of really showing how an output can change with its inputs. In this article, I will present the same data as a static plot, an animation, and an interactive plot. In keeping with the physical science theme of my previous articles, the data I am plotting will be from one of the most widely used equations in solid-state physics: the Fermi-Dirac distribution, which describes the occupancy of electrons in solids. The equation is shown below, which relates the fraction of states occupied at energy E as a function of the Fermi energy and temperature.", "Our first plot will be a static plot in which will have curves of f(E) at different temperatures. First, we import required packages:", "Since we are going to calculate the Fermi-Dirac distribution many times, we should write a function to do this calculation for us:", "Now we can start plotting the data! First I am going to edit some of the general plot parameters:", "We create our figure and add our axes object to it:", "To supply the varying temperature data to our Fermi-Dirac function, we generate an array of values between 100 K and 1000 K using numpy.linspace:", "For each of these temperature values, we need to map a different color to its resulting curve. We will generate colors from the coolwarm colormap since we are in fact dealing with ichanging temperatures. Since we have generated 10 temperature values above, we will extract 10 colors from the coolwarm colormap.", "The simplest way to plot our data is to loop through all the temperature values and plot the corresponding curve each time. To generate x-axis values, we again use numpy.linspace to create an array of 100 evenly-spaced values between 0 and 1. Additionally, we are using a fixed Fermi energy value of 0.5 eV for all calculations.", "The final element our plot needs is a method by which to distinguish the different colored temperature curves. To do this, we will create a legend by first creating a list of labels, and then passing them to the axes.legend method.", "labelspacing \u2014 the vertical spacing between legend entries (default is 0.5)", "Finally, after adding axis labels, we are presented with the following plot:", "Now say we wanted to present the same data as above, but as a video \u2014 how would we do this? It turns out that we can do this very easily with matplotlib! We must import the following to make this functionality available to us:", "If we are using a Jupyter Notebook, we should also change the backend that matplotlib uses to render its figures in order to allow for interactive plots.", "For our animation we need to do the following:", "(1) Store a reference to the plotted curve as a variable", "(2) Use a function call with this variable to keep updating the plot data", "We will first plot empty arrays and store this plot as a variable called f_d. Additionally, we will add a text annotation that displays the temperature of the current plot, so we will store a variable reference to this as well. We are aligning the top right corner of the text annotation to the top right corner of our axes object.", "Now to the workhorse of our animation \u2014 the animation function. This function will take the input of an index i and update the plot each time it is called. It will also update the text annotation with the current temperature and (just for fun!) change the color of the plot and text based on the same colors from the coolwarm colormap.", "set_data(x, y) \u2014 set the new x and y data for the plot", "Now to the make the magic happen, we use the following line of code:", "fig \u2014 the figure passed to the animation function", "func \u2014 the animation function for the plot", "frames \u2014 an array, starting at 0, representing the frames of the animation. In this case, we pass one with a length equal to the number of temperatures we are animating over (this is also the index i that gets passed to func).", "interval \u2014 delay between frames in milliseconds", "repeat \u2014 whether to repeat the animation at its conclusion", "There it is! Now, if your axis labels or part of your plot is cut off, you can try adding the following line of code to ensure that all elements are within view of the figure.", "Now to save our animation, we use the following:", "writer \u2014 the animation writer program \u2014 to generate .gif files, I use ImageMagick", "fps \u2014 frames per second of the animation (since we only have 10 frames, I am using an fps value of 2 to imitate the interval delay of 500 ms earlier)", "Finally, if we want to let the user play around with input parameters to observe their change on the output, we can make an interactive plot. We start by importing required packages.", "We again start with creating a figure and axis object to hold our plot. However, this time, we adjust the size of the plot to make room for the sliders that we will add.", "figure.subplots_adjust() takes inputs for top, bottom, left, and right to indicate where to draw the four corners of the axis bounding box. In this case, we are making sure the top does not exceed 0.75 so we can place sliders on top of the plot.", "Sliders start out just like any other axes object. Here, we are adding both above the plot (one to vary the Fermi energy, and one to vary the temperature). Also, since we changed the global plot settings to remove the right and top spines, we will add them back here for the sliders.", "Now, we have to turn those axes objects into sliders:", "ax \u2014 axes object to convert to slider", "label \u2014 the slider label that goes to the left of the slider", "valmin \u2014 minimum value of the slider", "valmax \u2014 maximum value of the slider", "valfmt \u2014 the string to display as the value of the slider, positioned to the right. %1.1f is a float with 1 decimal point and %i is an integer", "facecolor \u2014 the color to fill in the slider", "Now that we have created our sliders, let us plot the \u201cdefault\u201d dataset that will show when the figure is first loaded (Fermi energy of 0.5 eV and temperature of 300 K):", "Just like in the animated plot case, we now will define the update function that will change the data as the sliders are updated. This update function takes the current values of the sliders, changes the data in the plot, and re-draws the figure.", "Slider.on_changed(func) calls the updating func when the slider value is changed. At last, when we show our plot we get this cool interactive figure!", "I hope this article showed how you can potentially make your data visualizations dynamic with animations and interactive sliders. Thank you for reading \u2014 I appreciate any comments and feedback. All the examples shown in this article can be found at this Github repository. You can follow me on Twitter or connect with me on LinkedIn for more articles and updates.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist \u2022 Materials Scientist \u2022 Musician \u2022 Golfer"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff72a7fb69245&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintro-to-dynamic-visualization-with-python-animations-and-interactive-plots-f72a7fb69245&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintro-to-dynamic-visualization-with-python-animations-and-interactive-plots-f72a7fb69245&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintro-to-dynamic-visualization-with-python-animations-and-interactive-plots-f72a7fb69245&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintro-to-dynamic-visualization-with-python-animations-and-interactive-plots-f72a7fb69245&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f72a7fb69245--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f72a7fb69245--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://naveenvenkatesan.medium.com/?source=post_page-----f72a7fb69245--------------------------------", "anchor_text": ""}, {"url": "https://naveenvenkatesan.medium.com/?source=post_page-----f72a7fb69245--------------------------------", "anchor_text": "Naveen Venkatesan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7779ee5bf58d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintro-to-dynamic-visualization-with-python-animations-and-interactive-plots-f72a7fb69245&user=Naveen+Venkatesan&userId=7779ee5bf58d&source=post_page-7779ee5bf58d----f72a7fb69245---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff72a7fb69245&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintro-to-dynamic-visualization-with-python-animations-and-interactive-plots-f72a7fb69245&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff72a7fb69245&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintro-to-dynamic-visualization-with-python-animations-and-interactive-plots-f72a7fb69245&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@katya?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Katya Austin"}, {"url": "https://unsplash.com/s/photos/interactive?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://imagemagick.org/index.php", "anchor_text": "ImageMagick"}, {"url": "https://github.com/venkatesannaveen/python-science-tutorial", "anchor_text": "Github repository"}, {"url": "https://twitter.com/naveenv_92", "anchor_text": "Twitter"}, {"url": "https://www.linkedin.com/in/naveenvenkatesan/", "anchor_text": "LinkedIn"}, {"url": "https://medium.com/tag/python-science-plotting?source=post_page-----f72a7fb69245---------------python_science_plotting-----------------", "anchor_text": "Python Science Plotting"}, {"url": "https://medium.com/tag/python?source=post_page-----f72a7fb69245---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f72a7fb69245---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----f72a7fb69245---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/programming?source=post_page-----f72a7fb69245---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff72a7fb69245&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintro-to-dynamic-visualization-with-python-animations-and-interactive-plots-f72a7fb69245&user=Naveen+Venkatesan&userId=7779ee5bf58d&source=-----f72a7fb69245---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff72a7fb69245&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintro-to-dynamic-visualization-with-python-animations-and-interactive-plots-f72a7fb69245&user=Naveen+Venkatesan&userId=7779ee5bf58d&source=-----f72a7fb69245---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff72a7fb69245&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintro-to-dynamic-visualization-with-python-animations-and-interactive-plots-f72a7fb69245&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f72a7fb69245--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff72a7fb69245&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintro-to-dynamic-visualization-with-python-animations-and-interactive-plots-f72a7fb69245&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f72a7fb69245---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f72a7fb69245--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f72a7fb69245--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f72a7fb69245--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f72a7fb69245--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f72a7fb69245--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f72a7fb69245--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f72a7fb69245--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f72a7fb69245--------------------------------", "anchor_text": ""}, {"url": "https://naveenvenkatesan.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://naveenvenkatesan.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Naveen Venkatesan"}, {"url": "https://naveenvenkatesan.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "487 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7779ee5bf58d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintro-to-dynamic-visualization-with-python-animations-and-interactive-plots-f72a7fb69245&user=Naveen+Venkatesan&userId=7779ee5bf58d&source=post_page-7779ee5bf58d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe736f4929535&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintro-to-dynamic-visualization-with-python-animations-and-interactive-plots-f72a7fb69245&newsletterV3=7779ee5bf58d&newsletterV3Id=e736f4929535&user=Naveen+Venkatesan&userId=7779ee5bf58d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}