{"url": "https://towardsdatascience.com/a-simple-yet-useful-data-visualization-library-for-your-eda-76c41a46d63b", "time": 1683009543.964255, "path": "towardsdatascience.com/a-simple-yet-useful-data-visualization-library-for-your-eda-76c41a46d63b/", "webpage": {"metadata": {"title": "A simple yet useful data visualization library for your EDA | by Gr\u00e9goire Hornung | Towards Data Science", "h1": "A simple yet useful data visualization library for your EDA", "description": "Exploratory data analysis, or EDA, is particularly relevant for projects that involve tabular data. During the EDA, the cautious data scientist generally tries to assess the quality of its datasets\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/greghor/tprojection", "anchor_text": "GitHub", "paragraph_index": 3}, {"url": "https://github.com/greghor/tprojection", "anchor_text": "repo", "paragraph_index": 22}, {"url": "https://towardsdatascience.com/powerful-eda-exploratory-data-analysis-in-just-two-lines-of-code-using-sweetviz-6c943d32f34", "anchor_text": "sweetviz", "paragraph_index": 23}], "all_paragraphs": ["Exploratory data analysis, or EDA, is particularly relevant for projects that involve tabular data. During the EDA, the cautious data scientist generally tries to assess the quality of its datasets by looking for outliers or by checking if certain columns have an abnormal number of missing values for instance. EDA is also the ideal stage to get a first idea about the bivariate relation between the predictors and the dependent variable.", "For continuous data, the good old linear correlation coefficient is generally doing a decent job and quickly indicates what can be the most predictive features. However, things get a bit more complicated with categorical data.", "To my surprise, I was not able to find a python library* that allows you to quickly understand the relationship between a target and any predictor, irrespectively of their type (continuous or categorical). I have therefore decided to write my own tool with the following requirements in mind:", "This post aims at providing a tour of the main functionalities of the library. The library is named tprojection, it is available on GitHub and can be easily installed with pip", "I will use the popular Titanic dataset to illustrate the main functionalities of the library.", "When building a predictive model, you\u2019re generally looking for features that allow you to define segments that strongly discriminate against the target value. Those are good predictors.", "When both the target and the predictor are categorical, you can assess the quality of your predictor by projecting the target on each modality. This can be done with a single pandas statement:", "If we apply this command for the predictor \u201csex\u201d and the target \u201csurvived\u201d from the Titanic dataset, we obtain something like that:", "From this output, it is pretty clear that men are less likely to survive than women. In its most basic use, the library tprojection will simply provide a visual way to carry the information above.", "The chart above can be generated with few lines of code:", "First, an instance of Tprojection is created with the desired arguments and options. Then, the method plot is called and draws the chart. A full description of the plot is provided in the caption. Note that the figure axes are stored as attributes (tproj.ax1 and tproj.ax2), you can therefore easily change the properties of the chart.", "The confidence interval (red shaded area) is particularly useful when the number of observation gets small. In this case, we might observe large deviations of the conditional average from the baseline probability suggesting that the modality is good for segmenting the target. However, this interpretation has to be taken with care when the confidence interval is large. Indeed, this implies that the relation between the predictor and target may significantly vary across the different bootstrapped samples, indicating a substantial risk of overfitting.", "This effect can be clearly seen in the chart below which analyses the dependence of the target on the number of parents/children aboard (parch). For modalities parch = 3 and parch = 5, we observe that the survival rate is relatively high while the associated confidence intervals span over both sides of the baseline probability.", "Interestingly, the width of the confidence interval associated with parch = 4 and parch = 6 is equal to zero even though the corresponding number of observations is small. This happens when there is a one-to-one relationship between the target and the modalities. In other words, there are no survivors in the passenger group with 4 or 6 parents/children aboard.", "The library can also deal with predictors with high cardinality. In this situation, displaying the full list of modalities can make the chart pretty unclear. To address this point, you can pass an optional argument to tprojection that allows you to bucketize the modalities on a maximum of nb_buckets values.", "The charts above clearly show the benefit of the approach. The left plot, which displays the relationship between the predictor \u201ccabin\u201d and the target for the raw modalities, is impossible to read. The right plot is much clearer since it only shows a handful of encoded modalities. The mapping between the original and encoded modalities can be accessed through an attribute:", "Tprojection will try to conserve modalities with a sufficient number of observations \u201cas-is\u201d while the other modalities are grouped. Tprojection aims at building nb_buckets groups that contain approximately the same number of observations. However, this is not always possible, especially if the distribution of the modalities is strongly skewed. And this is often the case in practice. In the example above, we required initially 10 buckets but we finally end up with 3 buckets only. This happens since the modality cabin = nan constitutes almost 80% of the observations. As a consequence, the remaining observations are spread over 3 buckets only. The bucketsg1 and g2 contains about 10% of the observations each, the rest is assigned to g3.", "This is somehow a variation of the first case. In addition to the target mean value, I have added a boxplot depicting the distribution of the target over each modality. The computation and display of the confidence interval had been disabled to keep the viz readable.", "In the snippet above, the options target_type and predictor_type are not specified. In this case, the library uses a rule of thumb to assess if the variables are continuous or categorical.", "In this scenario, we simply compare the distribution of the predictor conditioned by the target value. To facilitate the comparison, the histograms are normalized. The count for each target value is provided in the legend.", "By default, the positive class corresponds to the minority class for a binary target. You can change this behavior by specifying the desired value with the target_modality optional argument. At this stage, tprojection can not genuinely cope with multiclass problems but note that you can mimic a one-against-all approach by using the target_modality kwarg.", "This case was included for the sake of being exhaustive but it is certainly not where tprojection brings the most value. The library just displays a scatter plot of the two variables together with the linear correlation coefficient. The best regression line derived from the seaborn regplot method is shown as well. There are no additional special features since there are many good tools out there that provide advanced functionalities to analyze the correlation between two continuous variables.", "That\u2019s all folks! I hope you will find this simple lib useful. Feel free to fork the repo, hack the code, and adapt it to your needs.", "*Disclaimer: I discovered the great sweetviz library just before releasing this post. Even though sweetviz includes similar functionalities and much more, I still think that tprojection brings interesting features. Especially regarding the built-in estimation of the confidence interval or the way it can cope with predictors with high-cardinality.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Head of data at Qover. PhD in Physics."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F76c41a46d63b&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-simple-yet-useful-data-visualization-library-for-your-eda-76c41a46d63b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-simple-yet-useful-data-visualization-library-for-your-eda-76c41a46d63b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-simple-yet-useful-data-visualization-library-for-your-eda-76c41a46d63b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-simple-yet-useful-data-visualization-library-for-your-eda-76c41a46d63b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----76c41a46d63b--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----76c41a46d63b--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://greghor.medium.com/?source=post_page-----76c41a46d63b--------------------------------", "anchor_text": ""}, {"url": "https://greghor.medium.com/?source=post_page-----76c41a46d63b--------------------------------", "anchor_text": "Gr\u00e9goire Hornung"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd6fcfdc65841&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-simple-yet-useful-data-visualization-library-for-your-eda-76c41a46d63b&user=Gr%C3%A9goire+Hornung&userId=d6fcfdc65841&source=post_page-d6fcfdc65841----76c41a46d63b---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F76c41a46d63b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-simple-yet-useful-data-visualization-library-for-your-eda-76c41a46d63b&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F76c41a46d63b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-simple-yet-useful-data-visualization-library-for-your-eda-76c41a46d63b&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/greghor/tprojection", "anchor_text": "GitHub"}, {"url": "https://github.com/greghor/tprojection", "anchor_text": "repo"}, {"url": "https://towardsdatascience.com/powerful-eda-exploratory-data-analysis-in-just-two-lines-of-code-using-sweetviz-6c943d32f34", "anchor_text": "sweetviz"}, {"url": "https://medium.com/tag/data-science?source=post_page-----76c41a46d63b---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----76c41a46d63b---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/programming?source=post_page-----76c41a46d63b---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/python?source=post_page-----76c41a46d63b---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----76c41a46d63b---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F76c41a46d63b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-simple-yet-useful-data-visualization-library-for-your-eda-76c41a46d63b&user=Gr%C3%A9goire+Hornung&userId=d6fcfdc65841&source=-----76c41a46d63b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F76c41a46d63b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-simple-yet-useful-data-visualization-library-for-your-eda-76c41a46d63b&user=Gr%C3%A9goire+Hornung&userId=d6fcfdc65841&source=-----76c41a46d63b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F76c41a46d63b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-simple-yet-useful-data-visualization-library-for-your-eda-76c41a46d63b&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----76c41a46d63b--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F76c41a46d63b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-simple-yet-useful-data-visualization-library-for-your-eda-76c41a46d63b&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----76c41a46d63b---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----76c41a46d63b--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----76c41a46d63b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----76c41a46d63b--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----76c41a46d63b--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----76c41a46d63b--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----76c41a46d63b--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----76c41a46d63b--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----76c41a46d63b--------------------------------", "anchor_text": ""}, {"url": "https://greghor.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://greghor.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Gr\u00e9goire Hornung"}, {"url": "https://greghor.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "175 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd6fcfdc65841&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-simple-yet-useful-data-visualization-library-for-your-eda-76c41a46d63b&user=Gr%C3%A9goire+Hornung&userId=d6fcfdc65841&source=post_page-d6fcfdc65841--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fc9402de6ff2f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-simple-yet-useful-data-visualization-library-for-your-eda-76c41a46d63b&newsletterV3=d6fcfdc65841&newsletterV3Id=c9402de6ff2f&user=Gr%C3%A9goire+Hornung&userId=d6fcfdc65841&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}