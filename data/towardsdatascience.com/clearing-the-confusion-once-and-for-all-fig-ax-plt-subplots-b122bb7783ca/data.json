{"url": "https://towardsdatascience.com/clearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca", "time": 1683014153.57682, "path": "towardsdatascience.com/clearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca/", "webpage": {"metadata": {"title": "Clearing the confusion: fig, ax = plt.subplots() | Towards Data Science", "h1": "Clearing the confusion once and for all: fig, ax = plt.subplots()", "description": "In-depth tutorial of how matplotlib's figure and axes objects work. Get the intuition behind `fig, ax = plt.subplots()` and its difference with `pyplot`"}, "outgoing_paragraph_urls": [{"url": "https://matplotlib.org/tutorials/index.html", "anchor_text": "Matplotlib", "paragraph_index": 1}, {"url": "https://stackoverflow.com/", "anchor_text": "StackOverflow", "paragraph_index": 1}, {"url": "https://www.tableau.com/", "anchor_text": "Tableau", "paragraph_index": 1}, {"url": "https://stackoverflow.com/", "anchor_text": "StackOverflow", "paragraph_index": 1}, {"url": "https://github.com/BexTuychiev/medium_stories/tree/master/working_with_ax_fig_objects", "anchor_text": "this", "paragraph_index": 2}, {"url": "https://matplotlib.org/tutorials/index.html", "anchor_text": "Matplotlib", "paragraph_index": 34}, {"url": "https://matplotlib.org/tutorials/index.html", "anchor_text": "documentation", "paragraph_index": 34}, {"url": "https://ibexorigin.medium.com/membership", "anchor_text": "my referral link", "paragraph_index": 36}, {"url": "https://www.linkedin.com/in/bextuychiev/", "anchor_text": "https://www.linkedin.com/in/bextuychiev/", "paragraph_index": 38}], "all_paragraphs": ["By reading this article, you will learn the two core objects in Maptlolib plots: figure and axes. You will finally understand the difference between simple plotting (plt.plot) and creating subplots with plt.subplots().", "When you begin your journey into Data Science, you are introduced to Matplotlib as your first library for Data Visualization. Most tutorials for beginners play a cruel trick on students by introducing them first to the \u2018beginner-friendly\u2019 pyplot > plt interface. As these poor students venture into the real world, they will find out the dudes on StackOverflow and most other people use a more flexible object-oriented way. They will get confused and most probably move on to Seaborn and Plotly. Or even worse, to the no-code interface of Tableau, like I almost did. (Because of this confusion, I specifically remember myself going through Quora and StackOverflow threads wondering if people were using Tableau over Matplotlib)", "The sample data and the notebook of the article are available in this GitHub repo.", "It all starts with calling .subplots() command:", "If you pay attention, apart from the blank plot, the function also returned a tuple of two values:", "Every time we call subplots() function, it will return these types of tuples always with two values. In Python, there is a technique called tuple unpacking. Let me show you a simple example:", "If we print the values of the above three:", "Great, we unpacked a tuple of size 3 into three different variables. So, now you will understand this code better:", "We created two variables, fig and ax. Remember, these are arbitrary names but a standard and we are one of the good guys, so we will follow the convention.", "These two variables now hold the two core objects used for all types of plotting operations. First object fig, short for figure, imagine it as the frame of your plot. You can resize, reshape the frame but you cannot draw on it. On a single notebook or a script, you can have multiple figures. Each figure can have multiple subplots. Here, subplot is synonymous with axes. The second object, ax, short for axes, is the canvas you draw on. Or rephrasing, it is the blank sheet you can plot and hold your data. An axes object can only belong to one figure.", "At the beginning of the post, I said that pyplot was a more beginner-friendly method to interact with Matplotlib. It is true that compared to axes methods, pyplot offers a quicker and more concise method of plotting. It will have less local variables and syntax. But why most people prefer the object-oriented way?", "Let\u2019s see the concise way of pyplot:", "Well, this was easy. It only took us three lines. Now let\u2019s what happens if we try to plot (completely unrelated) the climate change data next to it:", "In this case, we get a TypeError. pyplot, on its own, cannot create new axes or a new figure and intelligently plot the new data. As we get to more complex plotting like this one, we are going to need a more flexible approach.", "Mpl has this concept called current figure. By default, pyplot itself creates a current figure axes and plots on it. If for example, we want to focus on that current figure and plot extra data on it, as we tried in the last example, pyplot moves the current figure to a new one immediately after a new plotting command is given.", "To avoid this, let\u2019s see the approach where we are in full control of each figure and axes:", "We specifically point out that we are working on this fig object. It means that any plotting command we write will be applied to the axes (ax) object that belongs to fig. Unless, we define a new figure with plt.subplots() command, the current figure will be the variable fig. This way is very nice since now we can create as many axes or subplots in a single figure and work with them.", "From now on, I will be using subplot and axes terms interchangeably as they are synonyms.", "We saw an example of creating one subplot. Let\u2019s see how can create more in a single figure:", "Among other parameters, .subplots() have two parameters to specify the grid size. nrows and ncols are used to point out the number of rows and columns we need respectively. If you paid attention, now our second variable contains not one but two axes. And it is now given as a numpy.ndarray. So, we have to unpack or index this array to use our plotting commands:", "Pro Tip: Notice the fig.tight_layout() function with padding set to 3. It will give the subplots a little breathing room.", "The two methods are completely similar and up to you to choose one. Let\u2019s see one more example but slightly more difficult:", "Pro Tip: Set the figsize=(width, height) argument properly. It will make your plots more distinct.", "This article is not about plotting in particular, but to give you intuition for figure and axes objects. However, let me briefly walk you through some of the other common methods for the axes object:", "All the methods that are available in pyplot API has an equivalent through ax.set_. If you use a general, ax.set() method, you will avoid repetition when you have multiple subplots. However, if you need to specify additional parameters to specific parts of your plot, use ax.set_:", "Sometimes, we want to have a single subplot to have more than one XAxis or YAxis. While it is not possible with plain pyplot interface, it is very easy with top-level figure object-oriented API. Let's say we want to plot the relative_temp and co2 columns of climate_change in a single plot. We want them to share an XAxis since the data is for the same time period:", "We wanted to have a common XAxis, which was date column, so we created another axis using ax.twinx(). If in some cases you want a common YAxis, the equivalent function is ax.twiny().", "Let\u2019s say we wanted to compare the CO2 emissions of the eighties with nineties. Ideally, we would want to plot the eighties on one side and nineties to the other. So, let\u2019s subset our data for these two time periods:", "Pro Tip: Set the date column as an index for a dataframe if you are working with time-series data. Use .set_index() method or use index_col parameter in pd.read_csv() function. It will make subsetting for time periods much easier.", "Great, we have the two plots side by side, but if we look closer, our plots are misleading. It looks like there was not much difference in CO2 emmissions throughout two time periods. The reason for this is that the two plots have different YAxis ranges. Let's set it right for better insight:", "Now, it is clear that CO2 emissions continued increasing through time (it is much higher that this right now). We use sharey=True to specify that we want the same YAxis for all the subplots.", "I think you noticed that once you create a figure object using .subplots() command or other methods, pretty much everything happens with axes objects. One common method of figure object is savefig() method. So, let's get exploring. We will get back to our double-axed plot of CO2. Let's save it to local memory:", "We passed a filename as a string to save. This saves an image with that name in the root directory. Possible image formats to use:", "Other parameters of .savefig() allows for controlling the quality of your figures:", "I hope that you now have a clear understanding of figure and axes objects. We only covered one of the methods of plotting in Matplotlib. The library can go as deep as you want if you wish to explore further. You can learn more about the methods of figure and axes objects on the official documentation of Matplotlib. I highly suggest you try out other features and practice! (BTW, that was a lot of GitHub gists!)", "Loved this article and, let\u2019s face it, its bizarre writing style? Imagine having access to dozens more just like it, all written by a brilliant, charming, witty author (that\u2019s me, by the way :).", "For only 4.99$ membership, you will get access to not just my stories, but a treasure trove of knowledge from the best and brightest minds on Medium. And if you use my referral link, you will earn my supernova of gratitude and a virtual high-five for supporting my work.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "BEXGBoost | DataCamp Instructor |\ud83e\udd47Top 10 AI/ML Writer on Medium | Kaggle Master | https://www.linkedin.com/in/bextuychiev/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb122bb7783ca&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b122bb7783ca--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b122bb7783ca--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://ibexorigin.medium.com/?source=post_page-----b122bb7783ca--------------------------------", "anchor_text": ""}, {"url": "https://ibexorigin.medium.com/?source=post_page-----b122bb7783ca--------------------------------", "anchor_text": "Bex T."}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F39db050c2ac2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca&user=Bex+T.&userId=39db050c2ac2&source=post_page-39db050c2ac2----b122bb7783ca---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb122bb7783ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb122bb7783ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.pexels.com/@stockphotoartist?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels", "anchor_text": "Just Name"}, {"url": "https://www.pexels.com/photo/person-holding-pencil-on-white-canvas-1076339/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels", "anchor_text": "Pexels"}, {"url": "https://matplotlib.org/tutorials/index.html", "anchor_text": "Matplotlib"}, {"url": "https://stackoverflow.com/", "anchor_text": "StackOverflow"}, {"url": "https://www.tableau.com/", "anchor_text": "Tableau"}, {"url": "https://stackoverflow.com/", "anchor_text": "StackOverflow"}, {"url": "https://github.com/BexTuychiev/medium_stories/tree/master/working_with_ax_fig_objects", "anchor_text": "this"}, {"url": "https://matplotlib.org/tutorials/index.html", "anchor_text": "Matplotlib"}, {"url": "https://matplotlib.org/tutorials/index.html", "anchor_text": "documentation"}, {"url": "https://ibexorigin.medium.com/membership", "anchor_text": "my referral link"}, {"url": "https://ibexorigin.medium.com/membership", "anchor_text": "Join Medium with my referral link \u2014 Bex T.Get exclusive access to all my \u26a1premium\u26a1 content and all over Medium without limits. Support my work by buying me a\u2026ibexorigin.medium.com"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----b122bb7783ca---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/data-science?source=post_page-----b122bb7783ca---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----b122bb7783ca---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/programming?source=post_page-----b122bb7783ca---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/python?source=post_page-----b122bb7783ca---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb122bb7783ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca&user=Bex+T.&userId=39db050c2ac2&source=-----b122bb7783ca---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb122bb7783ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca&user=Bex+T.&userId=39db050c2ac2&source=-----b122bb7783ca---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb122bb7783ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b122bb7783ca--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb122bb7783ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b122bb7783ca---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b122bb7783ca--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b122bb7783ca--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b122bb7783ca--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b122bb7783ca--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b122bb7783ca--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b122bb7783ca--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b122bb7783ca--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b122bb7783ca--------------------------------", "anchor_text": ""}, {"url": "https://ibexorigin.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://ibexorigin.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Bex T."}, {"url": "https://ibexorigin.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "16.4K Followers"}, {"url": "https://www.linkedin.com/in/bextuychiev/", "anchor_text": "https://www.linkedin.com/in/bextuychiev/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F39db050c2ac2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca&user=Bex+T.&userId=39db050c2ac2&source=post_page-39db050c2ac2--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F22cea38b90f3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclearing-the-confusion-once-and-for-all-fig-ax-plt-subplots-b122bb7783ca&newsletterV3=39db050c2ac2&newsletterV3Id=22cea38b90f3&user=Bex+T.&userId=39db050c2ac2&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}