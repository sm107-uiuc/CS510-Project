{"url": "https://towardsdatascience.com/getting-started-with-iot-analytics-on-aws-5f2093bcf704", "time": 1683010954.485514, "path": "towardsdatascience.com/getting-started-with-iot-analytics-on-aws-5f2093bcf704/", "webpage": {"metadata": {"title": "Getting Started with IoT Analytics on AWS | by Gary A. Stafford | Towards Data Science", "h1": "Getting Started with IoT Analytics on AWS", "description": "AWS defines AWS IoT as a set of managed services that enable \u2018internet-connected devices to connect to the AWS Cloud and lets applications in the cloud interact with internet-connected devices.\u2019 AWS\u2026"}, "outgoing_paragraph_urls": [{"url": "https://aws.amazon.com/iot/", "anchor_text": "AWS IoT", "paragraph_index": 0}, {"url": "https://aws.amazon.com/iot-analytics/", "anchor_text": "AWS IoT Analytics", "paragraph_index": 0}, {"url": "https://en.wikipedia.org/wiki/Internet_of_things", "anchor_text": "Internet of Things", "paragraph_index": 1}, {"url": "https://en.wikipedia.org/wiki/Industrial_internet_of_things", "anchor_text": "Industrial Internet of Things", "paragraph_index": 1}, {"url": "https://aws.amazon.com/s3/", "anchor_text": "Amazon S3", "paragraph_index": 1}, {"url": "https://aws.amazon.com/kinesis/", "anchor_text": "Amazon Kinesis", "paragraph_index": 1}, {"url": "https://aws.amazon.com/glue", "anchor_text": "AWS Glue", "paragraph_index": 1}, {"url": "https://aws.amazon.com/athena/?whats-new-cards.sort-by=item.additionalFields.postDateTime&whats-new-cards.sort-order=desc", "anchor_text": "Amazon Athena", "paragraph_index": 1}, {"url": "https://aws.amazon.com/redshift", "anchor_text": "Amazon Redshift", "paragraph_index": 1}, {"url": "https://docs.aws.amazon.com/redshift/latest/dg/c-getting-started-using-spectrum.html", "anchor_text": "Redshift Spectrum", "paragraph_index": 1}, {"url": "https://aws.amazon.com/iot-analytics/", "anchor_text": "AWS IoT Analytics", "paragraph_index": 1}, {"url": "https://www.raspberrypi.org/", "anchor_text": "Raspberry Pi", "paragraph_index": 3}, {"url": "https://github.com/garystafford/aws-data-analytics-demo/blob/master/device_scripts/sensor_collector_v2.py", "anchor_text": "sensor_collector_v2.py", "paragraph_index": 5}, {"url": "https://docs.aws.amazon.com/iot/latest/developerguide/iot-sdks.html#iot-python-sdk", "anchor_text": "AWS IoT Device SDK for Python v2", "paragraph_index": 5}, {"url": "https://en.wikipedia.org/wiki/MQTT", "anchor_text": "Message Queuing Telemetry Transport", "paragraph_index": 6}, {"url": "https://aws.amazon.com/iot-core/", "anchor_text": "AWS IoT Core", "paragraph_index": 8}, {"url": "https://docs.aws.amazon.com/iot/latest/developerguide/iot-thing-management.html", "anchor_text": "registry", "paragraph_index": 8}, {"url": "https://aws.amazon.com/iot-core/features", "anchor_text": "Device Gateway", "paragraph_index": 9}, {"url": "https://aws.amazon.com/iot-core/features", "anchor_text": "Message Broker", "paragraph_index": 9}, {"url": "https://docs.aws.amazon.com/iot/latest/developerguide/iot-security.html", "anchor_text": "secure by default", "paragraph_index": 11}, {"url": "https://en.wikipedia.org/wiki/Transport_Layer_Security", "anchor_text": "Transport Layer Security", "paragraph_index": 11}, {"url": "https://en.wikipedia.org/wiki/X.509", "anchor_text": "X.509", "paragraph_index": 11}, {"url": "https://docs.aws.amazon.com/iot/latest/developerguide/iot-policies.html", "anchor_text": "AWS IoT Core Policies", "paragraph_index": 11}, {"url": "https://docs.aws.amazon.com/iot/latest/developerguide/iot-rules.html", "anchor_text": "AWS IoT Rules", "paragraph_index": 12}, {"url": "https://docs.aws.amazon.com/iotanalytics/latest/APIReference/API_Channel.html", "anchor_text": "AWS IoT Analytics Channel", "paragraph_index": 12}, {"url": "https://docs.aws.amazon.com/iot/latest/developerguide/iot-rule-actions.html", "anchor_text": "Actions", "paragraph_index": 12}, {"url": "https://docs.aws.amazon.com/iotevents/latest/developerguide/what-is-iotevents.html", "anchor_text": "AWS IoT Events", "paragraph_index": 12}, {"url": "https://github.com/garystafford/aws-data-analytics-demo", "anchor_text": "GitHub", "paragraph_index": 13}, {"url": "https://github.com/garystafford/aws-data-analytics-demo/blob/master/cloudformation/iot-analytics.yaml", "anchor_text": "iot-analytics.yaml", "paragraph_index": 14}, {"url": "https://github.com/garystafford/aws-iot-analytics-demo/blob/master/sample_data/send_sample_messages.py", "anchor_text": "send_sample_messages.py", "paragraph_index": 17}, {"url": "https://github.com/garystafford/aws-data-analytics-demo/tree/master/sample_data", "anchor_text": "sample IoT data", "paragraph_index": 17}, {"url": "https://github.com/garystafford/aws-data-analytics-demo/blob/master/sample_data/raw_data_small.json", "anchor_text": "raw_data_small.json", "paragraph_index": 19}, {"url": "https://github.com/garystafford/aws-data-analytics-demo/blob/master/sample_data/raw_data_large.json", "anchor_text": "raw_data_large.json", "paragraph_index": 21}, {"url": "https://aws.amazon.com/quicksight", "anchor_text": "Amazon QuickSight", "paragraph_index": 24}, {"url": "https://aws.amazon.com/quicksight/features-ml", "anchor_text": "Amazon QuickSight ML Insights", "paragraph_index": 24}, {"url": "https://aws.amazon.com/kinesis/data-firehose/", "anchor_text": "Amazon Kinesis Data Firehose", "paragraph_index": 26}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-datastore", "anchor_text": "Channel", "paragraph_index": 27}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-datastore", "anchor_text": "Datastore", "paragraph_index": 27}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-deviceregistryenrich", "anchor_text": "DeviceRegistryEnrich", "paragraph_index": 28}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-filter", "anchor_text": "Filter", "paragraph_index": 28}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-math", "anchor_text": "Math", "paragraph_index": 28}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-lambda", "anchor_text": "Lambda", "paragraph_index": 28}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-selectattributes", "anchor_text": "SelectAttributes", "paragraph_index": 28}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-removeattributes", "anchor_text": "RemoveAttributes", "paragraph_index": 28}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-addattributes", "anchor_text": "AddAttributes", "paragraph_index": 28}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-lambda", "anchor_text": "Lambda", "paragraph_index": 31}, {"url": "https://docs.aws.amazon.com/iot/latest/developerguide/iot-thing-management.html", "anchor_text": "Registry", "paragraph_index": 32}, {"url": "https://jupyter.org/", "anchor_text": "Jupyter Notebooks", "paragraph_index": 39}, {"url": "https://aws.amazon.com/sagemaker/", "anchor_text": "Amazon SageMaker", "paragraph_index": 39}, {"url": "https://github.com/garystafford/aws-iot-analytics-demo", "anchor_text": "GitHub repository", "paragraph_index": 39}, {"url": "https://github.com/garystafford/aws-iot-analytics-demo/tree/master/notebooks", "anchor_text": "IoT_Analytics_Demo_Notebook.ipynb", "paragraph_index": 40}, {"url": "https://www.anaconda.com/", "anchor_text": "Anaconda", "paragraph_index": 40}, {"url": "https://aws.amazon.com/quicksight", "anchor_text": "Amazon QuickSight", "paragraph_index": 42}, {"url": "https://aws.amazon.com/quicksight/features-ml", "anchor_text": "Amazon QuickSight ML Insights", "paragraph_index": 42}, {"url": "https://aws.amazon.com/quicksight/pricing/?nc=sn&loc=4", "anchor_text": "product comparison", "paragraph_index": 43}, {"url": "https://aws.amazon.com/quicksight/features", "anchor_text": "features", "paragraph_index": 43}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/welcome.html#spice", "anchor_text": "SPICE", "paragraph_index": 43}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/working-with-visual-types.html", "anchor_text": "Visual types", "paragraph_index": 48}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/filtering-visual-data.html", "anchor_text": "filtering", "paragraph_index": 49}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/adding-drill-downs.html", "anchor_text": "drill-down", "paragraph_index": 49}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/geospatial-data-prep.html", "anchor_text": "geospatial data", "paragraph_index": 50}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/geospatial-charts.html", "anchor_text": "geospatial chart", "paragraph_index": 50}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/using-quicksight-mobile.html", "anchor_text": "Amazon QuickSight Mobile App", "paragraph_index": 51}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/using-quicksight-mobile.html", "anchor_text": "Amazon QuickSight Mobile App", "paragraph_index": 51}, {"url": "https://aws.amazon.com/quicksight/features-ml/", "anchor_text": "Amazon", "paragraph_index": 52}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/anomaly-detection-using.html", "anchor_text": "configured", "paragraph_index": 53}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/anomaly-detection-using.html", "anchor_text": ".", "paragraph_index": 53}, {"url": "https://aws.amazon.com/iot/", "anchor_text": "AWS IoT", "paragraph_index": 56}, {"url": "https://aws.amazon.com/iot-sitewise/", "anchor_text": "AWS IoT SiteWise", "paragraph_index": 56}, {"url": "https://aws.amazon.com/iot-events/", "anchor_text": "AWS IoT Events", "paragraph_index": 56}, {"url": "https://aws.amazon.com/iot-things-graph/", "anchor_text": "AWS IoT Things Graph", "paragraph_index": 56}], "all_paragraphs": ["AWS defines AWS IoT as a set of managed services that enable \u2018internet-connected devices to connect to the AWS Cloud and lets applications in the cloud interact with internet-connected devices.\u2019 AWS IoT services span three categories: Device Software, Connectivity and Control, and Analytics. In this post, we will focus on AWS IoT Analytics, one of four services, which are part of the AWS IoT Analytics category. According to AWS, AWS IoT Analytics is a fully-managed IoT analytics service, designed specifically for IoT, which collects, pre-processes, enriches, stores, and analyzes IoT device data at scale.", "Certainly, AWS IoT Analytics is not the only way to analyze the Internet of Things (IoT) or Industrial Internet of Things (IIoT) data on AWS. It is common to see Data Analyst teams using a more general AWS data analytics stack, composed of Amazon S3, Amazon Kinesis, AWS Glue, and Amazon Athena or Amazon Redshift and Redshift Spectrum, for analyzing IoT data. So then why choose AWS IoT Analytics over a more traditional AWS data analytics stack? According to AWS, IoT Analytics was purpose-built to manage the complexities of IoT and IIoT data on a petabyte-scale. According to AWS, IoT data frequently has significant gaps, corrupted messages, and false readings that must be cleaned up before analysis can occur. Additionally, IoT data must often be enriched and transformed to be meaningful. IoT Analytics can filter, transform, and enrich IoT data before storing it in a time-series data store for analysis.", "In the following post, we will explore the use of AWS IoT Analytics to analyze environmental sensor data, in near real-time, from a series of IoT devices. To follow along with the post\u2019s demonstration, there is an option to use sample data to simulate the IoT devices (see the \u2018Simulating IoT Device Messages\u2019 section of this post).", "In this post, we will explore IoT Analytics using IoT data generated from a series of custom-built environmental sensor arrays. Each breadboard-based sensor array is connected to a Raspberry Pi single-board computer (SBC), the popular, low cost, credit-card sized Linux computer. The IoT devices were purposely placed in physical locations that vary in temperature, humidity, and other environmental conditions.", "Each device includes the following sensors:", "Each Raspberry Pi device runs a custom Python script, sensor_collector_v2.py. The script uses the AWS IoT Device SDK for Python v2 to communicate with AWS. The script collects a total of seven different readings from the four sensors at a regular interval. Sensor readings include temperature, humidity, carbon monoxide (CO), liquid petroleum gas (LPG), smoke, light, and motion.", "The script securely publishes the sensor readings, along with a device ID and timestamp, as a single message, to AWS using the ISO standard Message Queuing Telemetry Transport (MQTT) network protocol. Below is an example of an MQTT message payload, published by the collector script.", "As shown below, using tcpdump on the IoT device, the MQTT message payloads generated by the script average approximately 275 bytes. The complete MQTT messages average around 300 bytes.", "Each Raspberry Pi is registered with AWS IoT Core. IoT Core allows users to quickly and securely connect devices to AWS. According to AWS, IoT Core can reliably scale to billions of devices and trillions of messages. Registered devices are referred to as things in AWS IoT Core. A thing is a representation of a specific device or logical entity. Information about a thing is stored in the registry as JSON data.", "IoT Core provides a Device Gateway, which manages all active device connections. The Gateway currently supports MQTT, WebSockets, and HTTP 1.1 protocols. Behind the Message Gateway is a high-throughput pub/sub Message Broker, which securely transmits messages to and from all IoT devices and applications with low latency. Below, we see a typical AWS IoT Core architecture.", "At a message frequency of five seconds, the three Raspberry Pi devices publish a total of roughly 50,000 IoT messages per day to AWS IoT Core.", "AWS IoT Core provides mutual authentication and encryption, ensuring all data is exchanged between AWS and the devices are secure by default. In the demo, all data is sent securely using Transport Layer Security (TLS) 1.2 with X.509 digital certificates on port 443. Authorization of the device to access any resource on AWS is controlled by individual AWS IoT Core Policies, similar to AWS IAM Policies. Below, we see an example of an X.509 certificate, assigned to a registered device.", "Once an MQTT message is received from an IoT device (a thing), we use AWS IoT Rules to send message data to an AWS IoT Analytics Channel. Rules give your devices the ability to interact with AWS services. Rules are written in standard Structured Query Language (SQL). Rules are analyzed, and Actions are performed based on the MQTT topic stream. Below, we see an example rule that forwards our messages to IoT Analytics, in addition to AWS IoT Events and Amazon Kinesis Data Firehose.", "Building and configuring multiple Raspberry Pi-based sensor arrays, and registering the devices with AWS IoT Core would require a lot of work just for this post. Therefore, I have provided everything you need to simulate the three IoT devices, on GitHub. Use the following command to git clone a local copy of the project.", "Use the CloudFormation template, iot-analytics.yaml, to create an IoT Analytics stack containing (17) resources, including the following.", "Please be aware of the costs involved with the AWS resources used in the CloudFormation template before continuing. To build the AWS CloudFormation stack, run the following AWS CLI command.", "Below, we see a successful deployment of the IoT Analytics Demo CloudFormation Stack.", "Once the CloudFormation stack is created successfully, use an included Python script, send_sample_messages.py, to send sample IoT data to an AWS IoT Topic, from your local machine. The script will use your AWS identity and credentials, instead of an actual IoT device registered with IoT Core. The IoT data will be intercepted by an IoT Topic Rule and redirected, using a Topic Rule Action, to the IoT Analytics Channel.", "First, we will ensure the IoT stack is running correctly on AWS by sending a few test messages. Go to the AWS IoT Core Test tab. Subscribe to the iot-device-data topic.", "Then, run the following command using the smaller data file, raw_data_small.json.", "If successful, you should see the five messages appear in the Test tab, shown above. Example output from the script is shown below.", "Then, run the second command using the larger data file, raw_data_large.json, containing 9,995 messages (a few hours worth of data). The command will take approximately 12 minutes to complete.", "Once the second command completes successfully, your IoT Analytics Channel should contain 10,000 unique messages. There is an optional extra-large data file containing approximately 50,000 IoT messages (24 hours of IoT messages).", "AWS IoT Analytics is composed of five primary components: Channels, Pipelines, Data stores, Data sets, and Notebooks. These components enable you to collect, prepare, store, analyze, and visualize your IoT data.", "Below, we see a typical AWS IoT Analytics architecture. IoT messages are pulled from AWS IoT Core, thought a Rule Action. Amazon QuickSight provides business intelligence, visualization. Amazon QuickSight ML Insights adds anomaly detection and forecasting.", "An AWS IoT Analytics Channel pulls messages or data into IoT Analytics from other AWS sources, such as Amazon S3, Amazon Kinesis, or Amazon IoT Core. Channels store data for IoT Analytics Pipelines. Both Channels and Data store support storing data in your own Amazon S3 bucket or in an IoT Analytics service-managed S3 bucket. In the demonstration, we are using a service managed S3 bucket.", "When creating a Channel, you also decide how long to retain the data. For the demonstration, we have set the data retention period for 14 days. Typically, you would only retain data in the Channel for the time period you need to analyze. For long term storage of IoT message data, I recommend using an AWS IoT Core Rule to send a copy of the raw IoT data to Amazon S3, using a service such as Amazon Kinesis Data Firehose.", "An AWS IoT Analytics Pipeline consumes messages from one or more Channels. Pipelines transform, filter, and enrich the messages before storing them in IoT Analytics Data stores. A Pipeline is composed of an array of activities. Logically, you must specify both a Channel (source) and a Datastore (destination) activity. Optionally, you may choose as many as 23 additional activities in the pipelineActivities array.", "In our demonstration\u2019s Pipeline, iot_analytics_pipeline, we have specified five additional activities, including DeviceRegistryEnrich, Filter, Math, Lambda, and SelectAttributes. There are two additional Activity types we did not choose, RemoveAttributes and AddAttributes.", "The demonstration\u2019s Pipeline created by CloudFormation starts with messages from the demonstration\u2019s Channel, iot_analytics_channel, similar to the following.", "The demonstration\u2019s Pipeline transforms the messages through a series of Pipeline Activities and then stores the resulting message in the demonstration\u2019s Data store, iot_analytics_data_store. The resulting messages appear similar to the following.", "In our demonstration, transformations to the messages include dropping the device_id attribute and converting the temp attribute value to Fahrenheit. In addition, the Lambda Activity rounds down the temp, humidity, co, lpg, and smoke attribute values to between 2\u20134 decimal places of precision.", "The demonstration\u2019s Pipeline also enriched the message with the metadata attribute, containing metadata from the IoT device\u2019s AWS IoT Core Registry. The metadata includes additional information about the device that generated the message, including custom attributes we input, such as location (longitude and latitude) and the device\u2019s installation date.", "A significant feature of Pipelines is the ability to reprocess messages. If you make a change to the Pipeline, which often happens during the data preparation stage, you can reprocess any or all messages in the associated Channel, and overwrite the messages in the Data set.", "An AWS IoT Analytics Data store stores prepared data from an AWS IoT Analytics Pipeline, in a fully-managed database. Both Channels and Data store support storing data in your own Amazon S3 bucket or in an IoT Analytics managed S3 bucket. In the demonstration, we are using a service-managed S3 bucket to store messages in our Data store.", "An AWS IoT Analytics Data set automatically provides regular, up-to-date insights for data analysts by querying a Data store using standard SQL. Regular updates are provided through the use of a cron expression. For the demonstration, we are using a 15-minute interval.", "Below, we see the sample messages in the Result preview pane of the Data set. These are the five test messages we sent to check the stack. Note the SQL query used to obtain the messages, which queries the Data store. The Data store, as you will recall, contains the transformed messages from the Pipeline.", "IoT Analytics Data sets also support sending content results, which are materialized views of your IoT Analytics data, to an Amazon S3 bucket.", "The CloudFormation stack contains an encrypted Amazon S3 Bucket. This bucket receives a copy of the messages from the IoT Analytics Data set whenever the scheduled update is run by the cron expression.", "An AWS IoT Analytics Notebook allows users to perform statistical analysis and machine learning on IoT Analytics Data sets using Jupyter Notebooks. The IoT Analytics Notebook service includes a set of notebook templates that contain AWS-authored machine learning models and visualizations. Notebooks Instances can be linked to a GitHub or other source code repository. Notebooks created with IoT Analytics Notebook can also be accessed directly through Amazon SageMaker. For the demonstration, the Notebooks Instance is associated with the project\u2019s GitHub repository.", "The repository contains a sample Jupyter Notebook, IoT_Analytics_Demo_Notebook.ipynb, based on the conda_python3 kernel. This preinstalled environment includes the default Anaconda installation and Python 3. The Notebook uses pandas, matplotlib, and plotly to manipulate and visualize the sample IoT messages we published earlier and stored in the Data set.", "Notebooks can be modified, and the changes pushed back to GitHub. You could easily fork a copy of my GitHub repository and modify the CloudFormation template, to include your own GitHub repository URL.", "Amazon QuickSight provides business intelligence (BI) and visualization. Amazon QuickSight ML Insights adds anomaly detection and forecasting. We can use Amazon QuickSight to visualize the IoT message data, stored in the IoT Analytics Data set.", "Amazon QuickSight has both a Standard and an Enterprise Edition. AWS provides a detailed product comparison of each edition. For the post, I am demonstrating the Enterprise Edition, which includes additional features, such as ML Insights, hourly refreshes of SPICE (super-fast, parallel, in-memory, calculation engine), and theme customization. Please be aware of the costs of Amazon QuickSight if you choose to follow along with this part of the demo. Amazon QuickSight is enabled or configured with the demonstration\u2019s CloudFormation template.", "Amazon QuickSight has a wide variety of data source options for creating Amazon QuickSight Data sets, including the ones shown below. Do not confuse Amazon QuickSight Data sets with IoT Analytics Data sets. These are two different, yet similar, constructs.", "For the demonstration, we will create an Amazon QuickSight Data set that will use our IoT Analytics Data set as a data source.", "Amazon QuickSight gives you the ability to modify QuickSight Data sets. For the demonstration, I have added two additional fields, converting the boolean light and motion values of true and false to binary values of 0 or 1. I have also deselected two fields that I do not need for QuickSight Analysis.", "QuickSight provides a wide variety of functions, enabling us to perform dynamic calculations on the field values. Below, we see a new calculated field, light_dec, containing the original light field\u2019s Boolean values converted to binary values. I am using a if...else formula to change the field's value depending on the value in another field.", "Using the QuickSight Data set, built from the IoT Analytics Data set as a data source, we create a QuickSight Analysis. The QuickSight Analysis user interface is shown below. An Analysis is primarily a collection of Visuals (Visual types). QuickSight provides a number of Visual types. Each visual is associated with a Data set. Data for the QuickSight Analysis or for each individual visual can be filtered. For the demo, I have created a QuickSight Analysis, including several typical QuickSight Visuals.", "To share a QuickSight Analysis, we can create a QuickSight Dashboard. Below, we see a few views of the QuickSight Analysis, shown above, as a Dashboard. A viewer of the Dashboard cannot edit the visuals, though they can apply filtering and interactively drill-down into data in the Visuals.", "Amazon QuickSight understands geospatial data. If you recall, in the IoT Analytics Pipeline, we enriched the messages in the metadata from the device registry. The metadata attributes contained the device\u2019s longitude and latitude. Quicksight will recognize those fields as geographic fields. In our QuickSight Analysis, we can visualize the geospatial data, using the geospatial chart (map) Visual type.", "Amazon QuickSight offers free iOS and Android versions of the Amazon QuickSight Mobile App. The mobile application makes it easy for registered QuickSight end-users to securely connect to QuickSight Dashboards, using their mobile devices. Below, we see two views of the same Dashboard, shown in the iOS version of the Amazon QuickSight Mobile App.", "According to Amazon, ML Insights leverages AWS\u2019s machine learning (ML) and natural language capabilities to gain deeper insights from data. QuickSight\u2019s ML-powered Anomaly Detection continuously analyze data to discover anomalies and variations inside of the aggregates, giving you the insights to act when business changes occur. QuickSight\u2019s ML-powered Forecasting can be used to accurately predict your business metrics, and perform interactive what-if analysis with point-and-click simplicity. QuickSight\u2019s built-in algorithms make it easy for anyone to use ML that learns from your data patterns to provide you with accurate predictions based on historical trends.", "Below, we see the ML Insights tab in the demonstration\u2019s QuickSight Analysis. Individually detected anomalies can be added to the QuickSight Analysis, similar to Visuals, and configured to tune the detection parameters.", "Below, we see an example of humidity anomalies across all devices, based on their Anomaly Score and are higher or lower with a minimum delta of five percent.", "You are charged hourly for the SageMaker Notebook Instance. Do not forget to delete your CloudFormation stack when you are done with the demonstration. Note the Amazon S3 bucket will not be deleted; you must do this manually.", "In this post, we demonstrated how to use AWS IoT Analytics to analyze and visualize streaming messages from multiple IoT devices, in near real-time. Combined with other AWS IoT analytics services, such as AWS IoT SiteWise, AWS IoT Events, and AWS IoT Things Graph, you can create a robust, full-featured IoT Analytics platform, capable of handling millions of industrial, commercial, and residential IoT devices, generating petabytes of data.", "This blog represents my own viewpoints and not of my employer, Amazon Web Services.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Principal Solutions Architect @ AWS | 10x AWS Certified Pro | Polyglot Developer | DataOps | DevOps | Technology consultant, writer, and speaker"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5f2093bcf704&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-iot-analytics-on-aws-5f2093bcf704&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-iot-analytics-on-aws-5f2093bcf704&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-iot-analytics-on-aws-5f2093bcf704&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-iot-analytics-on-aws-5f2093bcf704&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5f2093bcf704--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5f2093bcf704--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://garystafford.medium.com/?source=post_page-----5f2093bcf704--------------------------------", "anchor_text": ""}, {"url": "https://garystafford.medium.com/?source=post_page-----5f2093bcf704--------------------------------", "anchor_text": "Gary A. Stafford"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1c57fc47fc23&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-iot-analytics-on-aws-5f2093bcf704&user=Gary+A.+Stafford&userId=1c57fc47fc23&source=post_page-1c57fc47fc23----5f2093bcf704---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5f2093bcf704&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-iot-analytics-on-aws-5f2093bcf704&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5f2093bcf704&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-iot-analytics-on-aws-5f2093bcf704&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://aws.amazon.com/iot/", "anchor_text": "AWS IoT"}, {"url": "https://aws.amazon.com/iot-analytics/", "anchor_text": "AWS IoT Analytics"}, {"url": "https://en.wikipedia.org/wiki/Internet_of_things", "anchor_text": "Internet of Things"}, {"url": "https://en.wikipedia.org/wiki/Industrial_internet_of_things", "anchor_text": "Industrial Internet of Things"}, {"url": "https://aws.amazon.com/s3/", "anchor_text": "Amazon S3"}, {"url": "https://aws.amazon.com/kinesis/", "anchor_text": "Amazon Kinesis"}, {"url": "https://aws.amazon.com/glue", "anchor_text": "AWS Glue"}, {"url": "https://aws.amazon.com/athena/?whats-new-cards.sort-by=item.additionalFields.postDateTime&whats-new-cards.sort-order=desc", "anchor_text": "Amazon Athena"}, {"url": "https://aws.amazon.com/redshift", "anchor_text": "Amazon Redshift"}, {"url": "https://docs.aws.amazon.com/redshift/latest/dg/c-getting-started-using-spectrum.html", "anchor_text": "Redshift Spectrum"}, {"url": "https://aws.amazon.com/iot-analytics/", "anchor_text": "AWS IoT Analytics"}, {"url": "https://www.raspberrypi.org/", "anchor_text": "Raspberry Pi"}, {"url": "https://www.amazon.com/gp/product/B079P6Z2TJ", "anchor_text": "link"}, {"url": "https://www.amazon.com/dp/B01HGCSGXM", "anchor_text": "link"}, {"url": "https://www.amazon.com/gp/product/B07XBVR532", "anchor_text": "link"}, {"url": "https://www.amazon.com/gp/product/B07NPKMH58/", "anchor_text": "link"}, {"url": "https://www.amazon.com/gp/product/B07PJBVDG7", "anchor_text": "link"}, {"url": "https://github.com/garystafford/aws-data-analytics-demo/blob/master/device_scripts/sensor_collector_v2.py", "anchor_text": "sensor_collector_v2.py"}, {"url": "https://docs.aws.amazon.com/iot/latest/developerguide/iot-sdks.html#iot-python-sdk", "anchor_text": "AWS IoT Device SDK for Python v2"}, {"url": "https://en.wikipedia.org/wiki/MQTT", "anchor_text": "Message Queuing Telemetry Transport"}, {"url": "https://aws.amazon.com/iot-core/", "anchor_text": "AWS IoT Core"}, {"url": "https://docs.aws.amazon.com/iot/latest/developerguide/iot-thing-management.html", "anchor_text": "registry"}, {"url": "https://aws.amazon.com/iot-core/features", "anchor_text": "Device Gateway"}, {"url": "https://aws.amazon.com/iot-core/features", "anchor_text": "Message Broker"}, {"url": "https://docs.aws.amazon.com/iot/latest/developerguide/iot-security.html", "anchor_text": "secure by default"}, {"url": "https://en.wikipedia.org/wiki/Transport_Layer_Security", "anchor_text": "Transport Layer Security"}, {"url": "https://en.wikipedia.org/wiki/X.509", "anchor_text": "X.509"}, {"url": "https://docs.aws.amazon.com/iot/latest/developerguide/iot-policies.html", "anchor_text": "AWS IoT Core Policies"}, {"url": "https://docs.aws.amazon.com/iot/latest/developerguide/iot-rules.html", "anchor_text": "AWS IoT Rules"}, {"url": "https://docs.aws.amazon.com/iotanalytics/latest/APIReference/API_Channel.html", "anchor_text": "AWS IoT Analytics Channel"}, {"url": "https://docs.aws.amazon.com/iot/latest/developerguide/iot-rule-actions.html", "anchor_text": "Actions"}, {"url": "https://docs.aws.amazon.com/iotevents/latest/developerguide/what-is-iotevents.html", "anchor_text": "AWS IoT Events"}, {"url": "https://github.com/garystafford/aws-data-analytics-demo", "anchor_text": "GitHub"}, {"url": "https://github.com/garystafford/aws-data-analytics-demo/blob/master/cloudformation/iot-analytics.yaml", "anchor_text": "iot-analytics.yaml"}, {"url": "https://github.com/garystafford/aws-iot-analytics-demo/blob/master/sample_data/send_sample_messages.py", "anchor_text": "send_sample_messages.py"}, {"url": "https://github.com/garystafford/aws-data-analytics-demo/tree/master/sample_data", "anchor_text": "sample IoT data"}, {"url": "https://github.com/garystafford/aws-data-analytics-demo/blob/master/sample_data/raw_data_small.json", "anchor_text": "raw_data_small.json"}, {"url": "https://github.com/garystafford/aws-data-analytics-demo/blob/master/sample_data/raw_data_large.json", "anchor_text": "raw_data_large.json"}, {"url": "https://aws.amazon.com/quicksight", "anchor_text": "Amazon QuickSight"}, {"url": "https://aws.amazon.com/quicksight/features-ml", "anchor_text": "Amazon QuickSight ML Insights"}, {"url": "https://aws.amazon.com/kinesis/data-firehose/", "anchor_text": "Amazon Kinesis Data Firehose"}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-datastore", "anchor_text": "Channel"}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-datastore", "anchor_text": "Datastore"}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-deviceregistryenrich", "anchor_text": "DeviceRegistryEnrich"}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-filter", "anchor_text": "Filter"}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-math", "anchor_text": "Math"}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-lambda", "anchor_text": "Lambda"}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-selectattributes", "anchor_text": "SelectAttributes"}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-removeattributes", "anchor_text": "RemoveAttributes"}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-addattributes", "anchor_text": "AddAttributes"}, {"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iotanalytics-pipeline-activity.html#cfn-iotanalytics-pipeline-activity-lambda", "anchor_text": "Lambda"}, {"url": "https://docs.aws.amazon.com/iot/latest/developerguide/iot-thing-management.html", "anchor_text": "Registry"}, {"url": "https://jupyter.org/", "anchor_text": "Jupyter Notebooks"}, {"url": "https://aws.amazon.com/sagemaker/", "anchor_text": "Amazon SageMaker"}, {"url": "https://github.com/garystafford/aws-iot-analytics-demo", "anchor_text": "GitHub repository"}, {"url": "https://github.com/garystafford/aws-iot-analytics-demo/tree/master/notebooks", "anchor_text": "IoT_Analytics_Demo_Notebook.ipynb"}, {"url": "https://www.anaconda.com/", "anchor_text": "Anaconda"}, {"url": "https://aws.amazon.com/quicksight", "anchor_text": "Amazon QuickSight"}, {"url": "https://aws.amazon.com/quicksight/features-ml", "anchor_text": "Amazon QuickSight ML Insights"}, {"url": "https://aws.amazon.com/quicksight/pricing/?nc=sn&loc=4", "anchor_text": "product comparison"}, {"url": "https://aws.amazon.com/quicksight/features", "anchor_text": "features"}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/welcome.html#spice", "anchor_text": "SPICE"}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/working-with-visual-types.html", "anchor_text": "Visual types"}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/filtering-visual-data.html", "anchor_text": "filtering"}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/adding-drill-downs.html", "anchor_text": "drill-down"}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/geospatial-data-prep.html", "anchor_text": "geospatial data"}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/geospatial-charts.html", "anchor_text": "geospatial chart"}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/using-quicksight-mobile.html", "anchor_text": "Amazon QuickSight Mobile App"}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/using-quicksight-mobile.html", "anchor_text": "Amazon QuickSight Mobile App"}, {"url": "https://aws.amazon.com/quicksight/features-ml/", "anchor_text": "Amazon"}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/anomaly-detection-using.html", "anchor_text": "configured"}, {"url": "https://docs.aws.amazon.com/quicksight/latest/user/anomaly-detection-using.html", "anchor_text": "."}, {"url": "https://aws.amazon.com/iot/", "anchor_text": "AWS IoT"}, {"url": "https://aws.amazon.com/iot-sitewise/", "anchor_text": "AWS IoT SiteWise"}, {"url": "https://aws.amazon.com/iot-events/", "anchor_text": "AWS IoT Events"}, {"url": "https://aws.amazon.com/iot-things-graph/", "anchor_text": "AWS IoT Things Graph"}, {"url": "https://medium.com/tag/iot?source=post_page-----5f2093bcf704---------------iot-----------------", "anchor_text": "IoT"}, {"url": "https://medium.com/tag/iiot?source=post_page-----5f2093bcf704---------------iiot-----------------", "anchor_text": "Iiot"}, {"url": "https://medium.com/tag/analytics?source=post_page-----5f2093bcf704---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/tag/data?source=post_page-----5f2093bcf704---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/aws?source=post_page-----5f2093bcf704---------------aws-----------------", "anchor_text": "AWS"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5f2093bcf704&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-iot-analytics-on-aws-5f2093bcf704&user=Gary+A.+Stafford&userId=1c57fc47fc23&source=-----5f2093bcf704---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5f2093bcf704&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-iot-analytics-on-aws-5f2093bcf704&user=Gary+A.+Stafford&userId=1c57fc47fc23&source=-----5f2093bcf704---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5f2093bcf704&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-iot-analytics-on-aws-5f2093bcf704&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5f2093bcf704--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5f2093bcf704&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-iot-analytics-on-aws-5f2093bcf704&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5f2093bcf704---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5f2093bcf704--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5f2093bcf704--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5f2093bcf704--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5f2093bcf704--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5f2093bcf704--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5f2093bcf704--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5f2093bcf704--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5f2093bcf704--------------------------------", "anchor_text": ""}, {"url": "https://garystafford.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://garystafford.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Gary A. Stafford"}, {"url": "https://garystafford.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.7K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1c57fc47fc23&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-iot-analytics-on-aws-5f2093bcf704&user=Gary+A.+Stafford&userId=1c57fc47fc23&source=post_page-1c57fc47fc23--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F558bb209b64a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-iot-analytics-on-aws-5f2093bcf704&newsletterV3=1c57fc47fc23&newsletterV3Id=558bb209b64a&user=Gary+A.+Stafford&userId=1c57fc47fc23&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}