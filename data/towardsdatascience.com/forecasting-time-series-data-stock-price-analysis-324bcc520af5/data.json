{"url": "https://towardsdatascience.com/forecasting-time-series-data-stock-price-analysis-324bcc520af5", "time": 1683011309.510368, "path": "towardsdatascience.com/forecasting-time-series-data-stock-price-analysis-324bcc520af5/", "webpage": {"metadata": {"title": "Forecasting Time Series Data - Stock Price Analysis | by Prathamesh Thakar | Towards Data Science", "h1": "Forecasting Time Series Data - Stock Price Analysis", "description": "In this article, we will be going through the stock prices of a certain company. However, this article does not encourage anyone to trade ONLY based on this forecast. Stock prices are dependent on\u2026"}, "outgoing_paragraph_urls": [{"url": "https://pypi.org/project/requests/", "anchor_text": "requests", "paragraph_index": 9}, {"url": "https://www.quandl.com/", "anchor_text": "quandl", "paragraph_index": 9}, {"url": "http://www.alphavantage.co", "anchor_text": "alphavantage", "paragraph_index": 10}, {"url": "https://www.alphavantage.co/documentation/", "anchor_text": "link", "paragraph_index": 10}, {"url": "https://docs.quandl.com/docs/in-depth-usage#get-time-series-data", "anchor_text": "here", "paragraph_index": 11}, {"url": "https://www.alphavantage.co/support/#api-key", "anchor_text": "alphavantage", "paragraph_index": 12}, {"url": "https://www.quandl.com/sign-up", "anchor_text": "quandl", "paragraph_index": 12}, {"url": "https://github.com/thakarprathamesh/Time-Series-Analysis/blob/master/Stock_Market_Analysis.ipynb", "anchor_text": "here", "paragraph_index": 36}], "all_paragraphs": ["In this article, we will be going through the stock prices of a certain company. However, this article does not encourage anyone to trade ONLY based on this forecast. Stock prices are dependent on various factors like supply and demand, company performance, the sentiment of the investors, etc.", "Time Series comprises of observations that are captured at regular intervals. Time Series datasets have a strong temporal dependence. It can be used to forecast future observations based on previous ones.", "The Time-Series can be divided into several parts as follows:", "Trend: The increase or decrease in the value of the data. This can further be divided into the global trend and local trend.", "Seasonality: It is the repetitive pattern that is visible in the series. This rise or fall in the values of the data is of fixed frequency. For example, the sales of Christmas trees are always greater during December and less for the rest.", "Cyclicity: It is the rise and fall in the value of the data which is not of a fixed frequency. It can be seen as an outcome of economic conditions or other external factors", "Noise: It is just some random data that we obtain after extracting the trend and the seasonal components from the time series.", "The components of the time series can be an additive or multiplicative version. The multiplicative model is preferred when the magnitude of the seasonal pattern increases or decreases with the increase or decrease in the data values. The additive model is preferred when the magnitude of the seasonal pattern does not correlate with the data values.", "In the additive version, the magnitude of the seasonal pattern remains to be uncorrelated with the rising trend whereas it is increasing with the increase in the trend of the time series in the multiplicative version.", "We can obtain stock prices by creating an API request using the requests package. We can also use the quandl package which is designed to provide financial and economic data.", "We will extract the prices of US stocks from alphavantage website by creating an API call. Using the code snippet below, we have extracted the daily stock prices of IBM. You can refer to this link to alter your request needs.", "For using quandl package to import data into python, you might need to install quandl package. Enter the command !pip install quandl in your Jupyter notebook and you\u2019re good to go. We have imported the prices of Infosys (BOM500209) and will use these for our further analysis. More documentation on quandl and how to get the best out of it can be found here.", "For both the methods, you will need to create an API key which you will use to obtain the data. You can easily get your API by clicking these links: alphavantage and quandl.", "Now that we have got the data, we need to plot it to get an overview of how the trend looks like.", "The trend experiences some ups and downs as a stock generally does. It is not seasonal as the seasonal component does not give any clearer picture. The residuals\u2019 variance seems to remain the same except for a few observations.", "For ARIMA, time series has to be made stationary for further analysis. For a time series to be stationary, its statistical properties(mean, variance, etc) will be the same throughout the series, irrespective of the time at which you observe them. A stationary time series will have no long-term predictable patterns such as trends or seasonality. Time plots will show the series to roughly have a horizontal trend with the constant variance.", "We can plot the rolling mean and standard deviation to check if the statistics show an upward or downward trend. If these statistics vary over time, then the time series is highly likely to be non-stationary.", "To check the stationarity of the time series, we will also use the ADF (Augmented Dickey-Fuller) test and KPSS (Kwiatkowski\u2013Phillips\u2013Schmidt\u2013Shintests) test. The null hypothesis of the ADF test is that the time series is not stationary whereas that for the KPSS is that it is stationary.", "We can see the rolling mean trending up and down over time as the price of the stock increases and decreases respectively. The p-value of the ADF test turns out to be greater than 0.05 which means we cannot rule out null hypothesis. The p-value of the KPSS test is below 0.05 which means we reject the null hypothesis. All these tests conclude that the time series is not stationary.", "Differencing: A new series is constructed by calculating the value at the current time by differencing the value of actual observation of current time and its previous time.", "Transformation: Transforming the values using power, square root, log, etc can help to linearize the data. For example, taking a log of the values can help in obtaining a linear trend to the series with an exponential trend. log(exp(x))=x", "Seasonal Differencing: The values of the time series are calculated by differencing between one observation and its previous Nth observation. This can help in removing the trend", "Fitting a model: We can fit a linear regression model to the time series. It will fit a linear trend on the time series. The values for the de-trended time series can be calculated by subtracting the actual observations with the values predicted by the model.", "After de-trending the time series, ADF and KPSS tests indicate that the time-series is stationary. Partial AutoCorrelation Function (PACF) Plot suggests that correlation exists at certain lags.", "To forecast the prices, we can use smoothing methods and ARIMA methods. Smoothing methods can be used for non-stationary data whereas ARIMA requires the time series to be stationary. We can also make use of auto_arima, which makes the series stationary and determines the optimal order for the ARIMA model.", "For each of the methods, we will perform multiple fits for the optimization of the hyperparameters and use the optimal values for the final model.", "Simple Exponential Smoothing or SES is used when the data does not contain any trend or seasonality. Smoothing Factor for level (\u03b1) provides weightage to the influence of the observations. Larger values of \u03b1 mean that more attention is given to the most recent past observation whereas smaller values indicate that more past observations are being considered for forecasting.", "Holt\u2019s Exponential Smoothing takes the trend into account for forecasting the time series. It is used when there is a trend in the data and no seasonality. It calculates the Smoothing value (the first equation), which is the same used in SES for forecasting. Trend Coefficient (\u03b2) provides weightage to the difference in the consequent smoothing values and the previous trend estimate. The forecasting is a combination of the smoothing value and the trend estimate.", "Holt-Winters Exponential Smoothing takes trend as well as seasonality into account for forecasting the time series. It forecasts the values using equations for calculating the level component, trend component, and the seasonal component in the time series. According to the seasonal variations in the data, either additive or the multiplicative version is used.", "ARIMA model is a combination of Auto-Regressive model and Moving Average model along with the Integration of differencing. Auto-Regressive model determines the relationship between an observation and a certain number of lagged observations. The Integrated part is the differencing of the actual observations to make the time series stationary. Moving Average determines the relationship between an observation and residual error obtained by using a moving average model on the lagged observations.", "Auto-Regressive (p) -> Number of lag observations in the model. Also called as the lag order.", "Integrated (d) -> The number of times the actual observations are differenced for stationarity. Also called as the degree of differencing.", "Moving Average (q) -> Size of the moving average window. Also called as the order of moving average.", "To evaluate the performance of the model, we will use Root Mean Squared Error (RMSE) and compare which model performed better than the rest.", "Out of the three models, the better performing model was Holt\u2019s Exponential Smoothing method which obtained least RMSE.", "In this article, we saw about time series and its components, fetching data using API call and packages, checking stationarity of the time series, detrending the time series, different types to model the time series, and finally its evaluation.", "You can find the notebook for your reference here.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Interested in learning and sharing about data science concepts."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F324bcc520af5&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-time-series-data-stock-price-analysis-324bcc520af5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-time-series-data-stock-price-analysis-324bcc520af5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-time-series-data-stock-price-analysis-324bcc520af5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-time-series-data-stock-price-analysis-324bcc520af5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----324bcc520af5--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----324bcc520af5--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@thakarprathamesh?source=post_page-----324bcc520af5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@thakarprathamesh?source=post_page-----324bcc520af5--------------------------------", "anchor_text": "Prathamesh Thakar"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7f25060dd511&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-time-series-data-stock-price-analysis-324bcc520af5&user=Prathamesh+Thakar&userId=7f25060dd511&source=post_page-7f25060dd511----324bcc520af5---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F324bcc520af5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-time-series-data-stock-price-analysis-324bcc520af5&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F324bcc520af5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-time-series-data-stock-price-analysis-324bcc520af5&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@bylolo?utm_source=medium&utm_medium=referral", "anchor_text": "lo lo"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://kourentzes.com/forecasting/2014/11/09/additive-and-multiplicative-seasonality/", "anchor_text": "kourentzes"}, {"url": "https://pypi.org/project/requests/", "anchor_text": "requests"}, {"url": "https://www.quandl.com/", "anchor_text": "quandl"}, {"url": "http://www.alphavantage.co", "anchor_text": "alphavantage"}, {"url": "https://www.alphavantage.co/documentation/", "anchor_text": "link"}, {"url": "https://docs.quandl.com/docs/in-depth-usage#get-time-series-data", "anchor_text": "here"}, {"url": "https://www.alphavantage.co/support/#api-key", "anchor_text": "alphavantage"}, {"url": "https://www.quandl.com/sign-up", "anchor_text": "quandl"}, {"url": "https://otexts.com/fpp2/holt-winters.html", "anchor_text": "otexts"}, {"url": "https://otexts.com/fpp2/holt-winters.html", "anchor_text": "otexts"}, {"url": "https://github.com/thakarprathamesh/Time-Series-Analysis/blob/master/Stock_Market_Analysis.ipynb", "anchor_text": "here"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----324bcc520af5---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/timeseries-forecasting?source=post_page-----324bcc520af5---------------timeseries_forecasting-----------------", "anchor_text": "Timeseries Forecasting"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----324bcc520af5---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/analytics?source=post_page-----324bcc520af5---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/tag/time-series-analysis?source=post_page-----324bcc520af5---------------time_series_analysis-----------------", "anchor_text": "Time Series Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F324bcc520af5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-time-series-data-stock-price-analysis-324bcc520af5&user=Prathamesh+Thakar&userId=7f25060dd511&source=-----324bcc520af5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F324bcc520af5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-time-series-data-stock-price-analysis-324bcc520af5&user=Prathamesh+Thakar&userId=7f25060dd511&source=-----324bcc520af5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F324bcc520af5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-time-series-data-stock-price-analysis-324bcc520af5&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----324bcc520af5--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F324bcc520af5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-time-series-data-stock-price-analysis-324bcc520af5&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----324bcc520af5---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----324bcc520af5--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----324bcc520af5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----324bcc520af5--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----324bcc520af5--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----324bcc520af5--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----324bcc520af5--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----324bcc520af5--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----324bcc520af5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@thakarprathamesh?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@thakarprathamesh?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Prathamesh Thakar"}, {"url": "https://medium.com/@thakarprathamesh/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "31 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7f25060dd511&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-time-series-data-stock-price-analysis-324bcc520af5&user=Prathamesh+Thakar&userId=7f25060dd511&source=post_page-7f25060dd511--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb46d9d58e680&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-time-series-data-stock-price-analysis-324bcc520af5&newsletterV3=7f25060dd511&newsletterV3Id=b46d9d58e680&user=Prathamesh+Thakar&userId=7f25060dd511&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}