{"url": "https://towardsdatascience.com/telling-stories-with-google-trends-using-pytrends-in-python-a11e5b8a177", "time": 1683011730.737396, "path": "towardsdatascience.com/telling-stories-with-google-trends-using-pytrends-in-python-a11e5b8a177/", "webpage": {"metadata": {"title": "Telling stories with Google Trends using Pytrends in Python | by Ristanti Ramadanti | Towards Data Science", "h1": "Telling stories with Google Trends using Pytrends in Python", "description": "Google Trends since 2006 has been open for public to search for relative popularity of certain keyword(s) that can go further back to 2004. From this Google data we can tell stories about the\u2026"}, "outgoing_paragraph_urls": [{"url": "https://pypi.org/project/pytrends/", "anchor_text": "Pytrends", "paragraph_index": 2}, {"url": "https://public.tableau.com/profile/ristanti.ramadanti#!/vizhome/100FoodAroundTheWorld/Dashboard1", "anchor_text": "available here", "paragraph_index": 22}, {"url": "https://github.com/rframadanti/gtrends_multiple/blob/master/pytrends_multiple_keywords.ipynb", "anchor_text": "available here", "paragraph_index": 24}, {"url": "https://www.linkedin.com/in/ristanti-ramadanti/", "anchor_text": "LinkedIn", "paragraph_index": 25}, {"url": "https://public.tableau.com/profile/ristanti.ramadanti#!/vizhome/GoogleTrends-SmartHomeGamingDevices/Dashboard1", "anchor_text": "available here", "paragraph_index": 25}, {"url": "https://www.linkedin.com/in/ristanti-ramadanti/", "anchor_text": "https://www.linkedin.com/in/ristanti-ramadanti/", "paragraph_index": 27}], "all_paragraphs": ["Google Trends since 2006 has been open for public to search for relative popularity of certain keyword(s) that can go further back to 2004. From this Google data we can tell stories about the relative popularity over time and between different countries or regions.", "In this tutorial, I will share how to track the relative popularity of multiple keywords (I\u2019m talking tens, or even hundreds, of keywords at once).", "I\u2019m using Python to connect to Google Trends API using Pytrends, iterate the data collection over the list of keywords and integrate them using a keyword as reference. We need to do so because Google Trends only allow maximum of 5 keywords comparison at a time.", "Now let\u2019s search for keywords about food. It will be interesting because different type of food may have different pattern of seasonality and popularity between regions, and it can be a good research for restaurant business. Also, I\u2019m hungry. So let\u2019s dive right in!", "First, we need to prepare the list of keywords and choose a reference keyword to enable integration of the comparisons. Note that Google Trends give the data of relative popularity and not the actual search volume. From Google Trends page:", "\u201cNumbers represent search interest relative to the highest point on the chart for the given region and time. A value of 100 is the peak popularity for the term. A value of 50 means that the term is half as popular. A score of 0 means there was not enough data for this term.\u201d", "Furthermore, from my experience, choosing a reference keyword that is not too popular is a good thing, because we will get more distinctive comparisons. However, the reference keyword should also be popular enough to not get 0 relative popularity.", "So let\u2019s made the list of keywords, which can be made directly in Python or in any spreadsheets. For this tutorial, I made a list of 100 food of several popular cuisines around the world.", "Connecting to Google API & Collecting Data", "Let\u2019s jump into Python now. The first thing to do is importing libraries and connecting to Google API:", "Next, reading the list and creating iteration to get the Google Trends data of all the keywords on the list. For this, I created a function to collect Google Trends data over time (temporal data):", "I also created a function to collect Google Trends data by region or country (spatial data):", "Each function results in 25 files (100 keywords divided by 4) with each file containing comparison of 4 keywords + the reference keyword. Next, we will integrate these files and normalize the relative popularity accordingly.", "By concatenating along the columns of all the files together, we got the complete dataset with each row representing the temporal or spatial dimension. However, we can observe that the value of the relative popularity of the reference keyword may be different between different comparison.", "The next step will be to normalize these values so that we can get the complete relative comparisons for all 100 food. We use the following formula to calculate the normalized value of each keyword:", "To implement the formula above, let\u2019s run the the following function that I created. Note that to avoid infinite value, if the relative popularity of the reference keyword is too small that Google reported as 0, I assume the relative popularity as 0.01 (the minimum value from Google Trends).", "The last step that we do in Python is tidying and melting the DataFrame.", "Our data is ready to be visualized!", "2. Seasonality of desserts (and others too). Ice cream in the summer and cakes in the winter, classic.", "3. Festivity & Holiday Pattern. For example, Rendang has twice a year spike that occur every Eid Al-Fitr and Eid Al-Adha, the islamic holidays.", "4. More patterns: Crepes every February \u2764", "In addition, almost all food got a sudden spike in April-May 2020, maybe due to the effect of Covid-19 lockdowns and quarantine.", "Feel free to explore the complete Tableau dashboard available here.", "I hope this tutorial is helpful to you and may inspire even more analytics to come!", "The complete Jupyter Notebook is available here.", "You can reach out to me via LinkedIn. I also made a Tableau dashboard using Google Trends before, about home entertainment devices available here.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Hi! I'm Danti, data scientist & analyst passionate to explore data & the world. Reach out to me via LinkedIn: https://www.linkedin.com/in/ristanti-ramadanti/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa11e5b8a177&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftelling-stories-with-google-trends-using-pytrends-in-python-a11e5b8a177&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftelling-stories-with-google-trends-using-pytrends-in-python-a11e5b8a177&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftelling-stories-with-google-trends-using-pytrends-in-python-a11e5b8a177&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftelling-stories-with-google-trends-using-pytrends-in-python-a11e5b8a177&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a11e5b8a177--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a11e5b8a177--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@rframadanti?source=post_page-----a11e5b8a177--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rframadanti?source=post_page-----a11e5b8a177--------------------------------", "anchor_text": "Ristanti Ramadanti"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe299d82b7350&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftelling-stories-with-google-trends-using-pytrends-in-python-a11e5b8a177&user=Ristanti+Ramadanti&userId=e299d82b7350&source=post_page-e299d82b7350----a11e5b8a177---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa11e5b8a177&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftelling-stories-with-google-trends-using-pytrends-in-python-a11e5b8a177&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa11e5b8a177&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftelling-stories-with-google-trends-using-pytrends-in-python-a11e5b8a177&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@mitchel3uo?utm_source=medium&utm_medium=referral", "anchor_text": "Mitchell Luo"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://pypi.org/project/pytrends/", "anchor_text": "Pytrends"}, {"url": "https://trends.google.com/trends/explore", "anchor_text": "Google Trends"}, {"url": "https://pypi.org/project/pytrends/", "anchor_text": "here"}, {"url": "https://public.tableau.com/profile/ristanti.ramadanti#!/vizhome/100FoodAroundTheWorld/Dashboard1", "anchor_text": "available here"}, {"url": "https://public.tableau.com/profile/ristanti.ramadanti#!/vizhome/100FoodAroundTheWorld/Dashboard1", "anchor_text": "Full Dashboard"}, {"url": "https://github.com/rframadanti/gtrends_multiple/blob/master/pytrends_multiple_keywords.ipynb", "anchor_text": "available here"}, {"url": "https://www.linkedin.com/in/ristanti-ramadanti/", "anchor_text": "LinkedIn"}, {"url": "https://public.tableau.com/profile/ristanti.ramadanti#!/vizhome/GoogleTrends-SmartHomeGamingDevices/Dashboard1", "anchor_text": "available here"}, {"url": "https://medium.com/tag/analytics?source=post_page-----a11e5b8a177---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/tag/google-trends?source=post_page-----a11e5b8a177---------------google_trends-----------------", "anchor_text": "Google Trends"}, {"url": "https://medium.com/tag/google?source=post_page-----a11e5b8a177---------------google-----------------", "anchor_text": "Google"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----a11e5b8a177---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a11e5b8a177---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa11e5b8a177&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftelling-stories-with-google-trends-using-pytrends-in-python-a11e5b8a177&user=Ristanti+Ramadanti&userId=e299d82b7350&source=-----a11e5b8a177---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa11e5b8a177&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftelling-stories-with-google-trends-using-pytrends-in-python-a11e5b8a177&user=Ristanti+Ramadanti&userId=e299d82b7350&source=-----a11e5b8a177---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa11e5b8a177&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftelling-stories-with-google-trends-using-pytrends-in-python-a11e5b8a177&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a11e5b8a177--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa11e5b8a177&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftelling-stories-with-google-trends-using-pytrends-in-python-a11e5b8a177&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a11e5b8a177---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a11e5b8a177--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a11e5b8a177--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a11e5b8a177--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a11e5b8a177--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a11e5b8a177--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a11e5b8a177--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a11e5b8a177--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a11e5b8a177--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rframadanti?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rframadanti?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Ristanti Ramadanti"}, {"url": "https://medium.com/@rframadanti/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "34 Followers"}, {"url": "https://www.linkedin.com/in/ristanti-ramadanti/", "anchor_text": "https://www.linkedin.com/in/ristanti-ramadanti/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe299d82b7350&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftelling-stories-with-google-trends-using-pytrends-in-python-a11e5b8a177&user=Ristanti+Ramadanti&userId=e299d82b7350&source=post_page-e299d82b7350--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fae9d67129f21&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftelling-stories-with-google-trends-using-pytrends-in-python-a11e5b8a177&newsletterV3=e299d82b7350&newsletterV3Id=ae9d67129f21&user=Ristanti+Ramadanti&userId=e299d82b7350&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}