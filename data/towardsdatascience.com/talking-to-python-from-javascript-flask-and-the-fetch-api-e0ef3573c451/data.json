{"url": "https://towardsdatascience.com/talking-to-python-from-javascript-flask-and-the-fetch-api-e0ef3573c451", "time": 1683015670.959511, "path": "towardsdatascience.com/talking-to-python-from-javascript-flask-and-the-fetch-api-e0ef3573c451/", "webpage": {"metadata": {"title": "Talking to Python from Javascript: Flask and the fetch API | by Daniel Ellis Research | Towards Data Science", "h1": "Talking to Python from Javascript: Flask and the fetch API", "description": "Within the field of data science, it is common to be required to use a selection of tools, each specific to their job. A role requiring visualisation using a web interface, but processing of a Python\u2026"}, "outgoing_paragraph_urls": [{"url": "https://d3js.org/", "anchor_text": "d3", "paragraph_index": 0}, {"url": "https://threejs.org/", "anchor_text": "THREE.js", "paragraph_index": 0}, {"url": "https://127.0.0.1:5000/", "anchor_text": "https://127.0.0.1:5000/", "paragraph_index": 7}, {"url": "https://127.0.0.1:5000/", "anchor_text": "https://127.0.0.1:5000/", "paragraph_index": 11}], "all_paragraphs": ["Within the field of data science, it is common to be required to use a selection of tools, each specific to their job. A role requiring visualisation using a web interface, but processing of a Python script, it is often better to build a bespoke visualisation in d3 or THREE.js to display it and then fetch data as required. This article covers the creation of a simple flask app that can serve data to a web interface using the Fetch API.", "We start by building a repository containing an empty templates folder and an app.py file.", "Our app.pyfile contains the data required to create a web interface. To do this we use the flask ( pip install flask ) python library. For this we can use the following template:", "Here we start by importing the required functions, the app structure and the run command to start the app.", "Having defined our flask app, we now need to create a template webpage. This can be done by placing the file index.html within the templates directory.", "Since we are using this as a template we can use a react-style replacement syntax for certain keywords. In this instance {{embed}} is to be replaced by the embed_example string in the snippet below.", "This defines the code which runs when the home page of the flask app is reached and needs to be added between the imports and the app.run() lines within app.py.", "Finally, we can run the app and view it using python app.py and navigating to https://127.0.0.1:5000/ in a web browser to view it.", "When it comes to transferring data we rely on the GET and POST functions within the fetch API. These terms are pretty self-explanatory:", "Within app.py we can create a URL for GET requests. The following code defines the response when the URL is called.", "Following a GET request, we define a dictionary containing a greeting element and serialise it. Next, this is then posted back to the calling javascript program.", "After adding the following code before the app.run() command, and executing it, we can then visit https://127.0.0.1:5000/test \u2014 which should produce the following result:", "Now we have set up the server-side of things, we can use fetch command to retrieve the data from it. To do this we can use the fetch promise as follows:", "Here we run a GET request on /test which converts the returned JSON string into an object, and then prints the greeting element to the web console. As usual, the JavaScript code should be nested between <script> tags within the HTML document.", "Now we have a working example we can expand it to include actual data. In reality, this could involve accessing a database, decrypting some information or filtering a table.", "For the purpose of this tutorial we create a data array from which we index elements:", "Within our Flask app, we can add optional arguments to the GET request \u2014 in this case, the array index we are interested in. This is specified through the additional page extension within the page URL /getdata/<index_no> . This argument is then passed into the page function and processed (data[int(index_no)]) within the return command.", "The fetch request remains the same with the exception of changing the GET URL to include the index of the data element we are interested in. This is done within the JS script in index.html .", "This time, instead of returning an object, we return a string and parse it as such. This can then be used as needed within the code \u2014 be it to update a figure or display a message.", "We have explored a method to extract data using python and serve it to a javascript code for visualisation (alternatives include web/TCP sockets and file streaming). We are able to create a server-side python code to pre-process or decrypt data and only serve the required information to the client.", "This is useful if we have constantly updating data, a large (high resource) dataset, or sensitive data we can not provide to the client directly.", "Accompanying sample code used within this article can be found at:", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Research Software Engineer specialising in High-Performance Computing and Data Visualisation. \u2014 PhD in Atmospheric Chemistry and Masters in Theoretical Physics."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe0ef3573c451&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftalking-to-python-from-javascript-flask-and-the-fetch-api-e0ef3573c451&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftalking-to-python-from-javascript-flask-and-the-fetch-api-e0ef3573c451&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftalking-to-python-from-javascript-flask-and-the-fetch-api-e0ef3573c451&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftalking-to-python-from-javascript-flask-and-the-fetch-api-e0ef3573c451&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e0ef3573c451--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e0ef3573c451--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://daniel-ellis.medium.com/?source=post_page-----e0ef3573c451--------------------------------", "anchor_text": ""}, {"url": "https://daniel-ellis.medium.com/?source=post_page-----e0ef3573c451--------------------------------", "anchor_text": "Daniel Ellis Research"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5e126beaa2dc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftalking-to-python-from-javascript-flask-and-the-fetch-api-e0ef3573c451&user=Daniel+Ellis+Research&userId=5e126beaa2dc&source=post_page-5e126beaa2dc----e0ef3573c451---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe0ef3573c451&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftalking-to-python-from-javascript-flask-and-the-fetch-api-e0ef3573c451&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe0ef3573c451&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftalking-to-python-from-javascript-flask-and-the-fetch-api-e0ef3573c451&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://d3js.org/", "anchor_text": "d3"}, {"url": "https://threejs.org/", "anchor_text": "THREE.js"}, {"url": "http://twitter.com/app", "anchor_text": "@app"}, {"url": "https://127.0.0.1:5000/", "anchor_text": "https://127.0.0.1:5000/"}, {"url": "http://twitter.com/app", "anchor_text": "@app"}, {"url": "https://127.0.0.1:5000/", "anchor_text": "https://127.0.0.1:5000/"}, {"url": "http://twitter.com/app", "anchor_text": "@app"}, {"url": "https://github.com/wolfiex/FlaskFetch", "anchor_text": "wolfiex/FlaskFetchUsing the Fetch API to communicate between flask and a served webpage Dismiss GitHub is home to over 50 million\u2026github.com"}, {"url": "https://medium.com/tag/flask?source=post_page-----e0ef3573c451---------------flask-----------------", "anchor_text": "Flask"}, {"url": "https://medium.com/tag/fetch?source=post_page-----e0ef3573c451---------------fetch-----------------", "anchor_text": "Fetch"}, {"url": "https://medium.com/tag/javascript?source=post_page-----e0ef3573c451---------------javascript-----------------", "anchor_text": "JavaScript"}, {"url": "https://medium.com/tag/python?source=post_page-----e0ef3573c451---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----e0ef3573c451---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe0ef3573c451&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftalking-to-python-from-javascript-flask-and-the-fetch-api-e0ef3573c451&user=Daniel+Ellis+Research&userId=5e126beaa2dc&source=-----e0ef3573c451---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe0ef3573c451&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftalking-to-python-from-javascript-flask-and-the-fetch-api-e0ef3573c451&user=Daniel+Ellis+Research&userId=5e126beaa2dc&source=-----e0ef3573c451---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe0ef3573c451&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftalking-to-python-from-javascript-flask-and-the-fetch-api-e0ef3573c451&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e0ef3573c451--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe0ef3573c451&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftalking-to-python-from-javascript-flask-and-the-fetch-api-e0ef3573c451&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e0ef3573c451---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e0ef3573c451--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e0ef3573c451--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e0ef3573c451--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e0ef3573c451--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e0ef3573c451--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e0ef3573c451--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e0ef3573c451--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e0ef3573c451--------------------------------", "anchor_text": ""}, {"url": "https://daniel-ellis.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://daniel-ellis.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Daniel Ellis Research"}, {"url": "https://daniel-ellis.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "335 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5e126beaa2dc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftalking-to-python-from-javascript-flask-and-the-fetch-api-e0ef3573c451&user=Daniel+Ellis+Research&userId=5e126beaa2dc&source=post_page-5e126beaa2dc--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F96febf952620&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftalking-to-python-from-javascript-flask-and-the-fetch-api-e0ef3573c451&newsletterV3=5e126beaa2dc&newsletterV3Id=96febf952620&user=Daniel+Ellis+Research&userId=5e126beaa2dc&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}