{"url": "https://towardsdatascience.com/escalating-your-database-1f945adf67ec", "time": 1683015600.102496, "path": "towardsdatascience.com/escalating-your-database-1f945adf67ec/", "webpage": {"metadata": {"title": "Fixing performance and latency issues on the database | Towards Data Science", "h1": "How to solve escalation issues on your database", "description": "How to fix performance and escalations issues on the database of the applications. Best strategies and patterns for improving database performance."}, "outgoing_paragraph_urls": [], "all_paragraphs": ["When a project grows, one of the most common bottlenecks is on the database side. It could come because the program's complexity has been increased due to new requirements, or more often, due to an increase in the traffic that the application should handle.", "Like in many other cases, you should escalate your database base on metrics. As a general rule, I won\u2019t recommend applying any database escalation without studying first the database, application, and infrastructure metrics. The only exception to this rule is when you are suffering a malfunction in your application, with constant outreaches, performance and/or latency issues, or even overloads and lockdowns in the database.", "Furthermore, my advice is not to apply any of these technics until they are necessary. If you don\u2019t expect or are not facing issues with your database, you should not over-dimension your system. You must be aware of the tradeoffs of the different escalation options and what they entail, like the increase in the complexity of the system, issues in maintenance, making debugging harder, etc.", "Let\u2019s review together the main options available:", "Adding additional indexes to your tables for the searches needed by your application will lower the latency of the queries.", "The tradeoff of this solution is that you will consume more space hard disk of your DB. When you create a new index, you create a new table with the same number of records that the original table.", "Furthermore, be aware that write actions on the database will be slower with this solution because you need to perform additional search and write operations in the index table. Generally, this will not be a problem unless your IOPS operations are heavily unbalanced towards writes (especially in huge tables, with several millions of records) or/and you abuse this solution, adding several indexes in the same table.", "Basically, when you cache a query, the database engine don\u2019t repeat the same query the next time it is requested. That, of course, saves time, reduces latency, and improves performance. You can apply your cache at different levels:", "The idea behind this option is to set up one or more replicas that will be synchronized with your main database instance. Then you can derive the read traffic to the replicas. In this way, you reduce the main instance's traffic to write operations, improving the performance of the whole system.", "This solution's tradeoffs include an increase in the complexity and costs (you should double at least the instances). Additionally, you should have a robust infrastructure on the database side that ensures a proper replication, with no errors or heavy lags.", "Basically, this solution splits the main database into multiple smaller databases called shards. While the different operations will be handled by a different (and smaller) shard, the performance and latency will dramatically improve in most scenarios, ending almost all the database bottlenecks.", "There are two different implementations of sharding, vertical sharing, and horizontal sharding:", "Horizontal sharding: the content of each original table is split among different machines, keeping among them the same table structure (columns, indexes, etc.)", "Vertical sharding: The tables are split at the column level.", "While the dataset in each shard is smaller, any atomic query will run faster; also, the risk of failures on the writing operations and the problems with concurrence are lower. Be aware that this is not always the case, and when you need to join values from different shards, especially when you also do grouping or order by more than one column, the performance can suffer heavily.", "A sharded database provides you several benefits, but it entails a huge tradeoff in the form of massive complexity. When you need to move your system from non-sharding to sharding, its initial implementation requires a detailed plan and implementation. Then the maintenance demands a deep knowledge of the new infrastructure in place, as well as the sharding architecture. Any new development should always have in mind the sharding architecture and will require more time for planning.", "Escalating a database is never a simple task. Let me insist on two points: First, you need precise metrics before undertaking it. Second, you need to understand deeply your application, requirements, and pitfalls, including not only the purely technical side but the product and user expectations.", "Finally, please, note that I keep the article generic. Escalating a DB issue is a serious matter. I didn\u2019t go over proxy implementations, Viper or MariaDB cache system \u2014 just to mention some of the potential cases that you could consider \u2014 intentionally. The purpose of this article is to provide a general understanding of the key solutions that you can apply. The details and the implementation \u2014 once again \u2014 depends on your metrics and your application.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Director of engineering. Python & Ruby lover. Writer & role player (four fiction books published in Spanish). I never surrender. Now in Berlin."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1f945adf67ec&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fescalating-your-database-1f945adf67ec&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fescalating-your-database-1f945adf67ec&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fescalating-your-database-1f945adf67ec&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fescalating-your-database-1f945adf67ec&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----1f945adf67ec--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1f945adf67ec--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@Pedro_Escudero?source=post_page-----1f945adf67ec--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@Pedro_Escudero?source=post_page-----1f945adf67ec--------------------------------", "anchor_text": "Pedro Escudero"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa36f378c5095&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fescalating-your-database-1f945adf67ec&user=Pedro+Escudero&userId=a36f378c5095&source=post_page-a36f378c5095----1f945adf67ec---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1f945adf67ec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fescalating-your-database-1f945adf67ec&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1f945adf67ec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fescalating-your-database-1f945adf67ec&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@ev?utm_source=medium&utm_medium=referral", "anchor_text": "ev"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/database?source=post_page-----1f945adf67ec---------------database-----------------", "anchor_text": "Database"}, {"url": "https://medium.com/tag/software-development?source=post_page-----1f945adf67ec---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/software-engineering?source=post_page-----1f945adf67ec---------------software_engineering-----------------", "anchor_text": "Software Engineering"}, {"url": "https://medium.com/tag/data-engineering?source=post_page-----1f945adf67ec---------------data_engineering-----------------", "anchor_text": "Data Engineering"}, {"url": "https://medium.com/tag/programming?source=post_page-----1f945adf67ec---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1f945adf67ec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fescalating-your-database-1f945adf67ec&user=Pedro+Escudero&userId=a36f378c5095&source=-----1f945adf67ec---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1f945adf67ec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fescalating-your-database-1f945adf67ec&user=Pedro+Escudero&userId=a36f378c5095&source=-----1f945adf67ec---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1f945adf67ec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fescalating-your-database-1f945adf67ec&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1f945adf67ec--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1f945adf67ec&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fescalating-your-database-1f945adf67ec&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1f945adf67ec---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1f945adf67ec--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1f945adf67ec--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1f945adf67ec--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1f945adf67ec--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1f945adf67ec--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1f945adf67ec--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1f945adf67ec--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1f945adf67ec--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@Pedro_Escudero?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@Pedro_Escudero?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Pedro Escudero"}, {"url": "https://medium.com/@Pedro_Escudero/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.5K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa36f378c5095&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fescalating-your-database-1f945adf67ec&user=Pedro+Escudero&userId=a36f378c5095&source=post_page-a36f378c5095--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd87f07218797&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fescalating-your-database-1f945adf67ec&newsletterV3=a36f378c5095&newsletterV3Id=d87f07218797&user=Pedro+Escudero&userId=a36f378c5095&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}