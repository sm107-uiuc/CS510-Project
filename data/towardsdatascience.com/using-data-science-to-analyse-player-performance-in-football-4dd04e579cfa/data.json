{"url": "https://towardsdatascience.com/using-data-science-to-analyse-player-performance-in-football-4dd04e579cfa", "time": 1683015798.150107, "path": "towardsdatascience.com/using-data-science-to-analyse-player-performance-in-football-4dd04e579cfa/", "webpage": {"metadata": {"title": "Using Data Science to Analyse Player Performance in Football | by Carter Bouley | Towards Data Science", "h1": "Using Data Science to Analyse Player Performance in Football", "description": "Using Data Science to Analyse Player Performance in Football python soccer coding sports analytics"}, "outgoing_paragraph_urls": [{"url": "https://github.com/Carterbouley/expected_pass/blob/main/Carter_notebook.ipynb", "anchor_text": "here", "paragraph_index": 5}], "all_paragraphs": ["Unsurprisingly, a pass is the most common type of event to occur in football (or soccer for any Americans interested). A good passing game is vital to being successful in football as it enables you to dictate the play by keeping possession, saves energy and as a result presents you with a better chance of scoring. Passing is about using good technique to quickly, accurately, and properly deliver the ball, while making the right decisions at the right time.", "Therefore, the importance of analysing player performance in this field should not be underestimated. But how can we quantify a players passing skill?", "The classic metric is number of passes completed. However, using a binary label of either the pass is completed or not neglects the large variation in pass styles that exist between players and takes no account of flow of a team.", "We know this variation in pass type exists because of the way in which pundits and commentators discuss it, \u2018Great through ball\u2019, \u2018Aggressive pass\u2019, \u2018Poor ball\u2019.", "These descriptors are completely ignored when using binary labels.", "This blog builds an expected pass model to alter this perception. I use an objective variable to measure pass quality on a continuous spectrum, to analyse the levels of risk involved in any pass based on previous pass data. For those interested in the full code, (including all on the visualisations) please feel free to check it out here.", "The data I have used to build this expected pass model is based on 20 teams, playing 380 games and 358,783 total attempted passes.", "The coordinates assume a 105m X 68M pitch, and have been adjusted so that X goes from 0\u2013105 in the attacking direction of play, and Y goes from right to left, from the perspective of the attacking team. E.G a pass originating from (x,y) = (95, 15) starts on the right hand side of the opposition box.", "Even though we can feed the raw data into machine learning, feature engineering is the process of transforming the data to produce features which are relevant to the scenario, problem and domain. In this case, the features I engineers revolved around two main points \u2014 ball movement and team performance:", "There are likely many more features which could have been included, so if you have any additions please feel free to send them over to me!", "Exploratory Data Analysis refers to the process of performing initial investigations on data so as to discover patterns, spot anomalies and to check assumptions with the help of summary statistics and graphical representations.", "This graph shows that, a large proportion of passes are failed at a very low distance, sub 5m. This probably indicates interceptions at an early stage of the pass as opposed to an unforced error. Between 15 and 30m, many more passes are completed than failed, and after 30m the proportion of passes completed drops quite dramatically, while failed passes begin to plateau.", "This second visualisation shows that pass completion is also affected by where on the pitch the pass ends. As the ball moves further towards the oppositions goal, the ratio of failed passes increases. This histogram also shows us that the majority of passes, completed or failed, end in midfield.", "Interestingly perhaps, this difference in completion rate does not carry over to the same magnitude when looking at where a pass begins.", "Most \u2018special\u2019 pass types, like corners and free kicks, have a lower completion rate than normal pass types.", "Unsupervised learning is a type of machine learning that looks for previously undetected patterns in a data set with minimum of human supervision. In this case, I use it as a type of self-organisation to understand the various different pass types, first removing weather or not the pass was completed because I do not want pass type to be clustered on success, and to avoid data leakage further down the pipeline.", "K- means clustering is the unsupervised learning algorithm I used. It follows a simple procedure of classifying a given data set into a number of clusters. It tends to scale quite well, and works quickly when compared to other clustering techniques. It\u2019s quite easy to interpret. I chose 22 clusters with the aim to have 2 passes per player on a team, and while it shows what the general movement of the ball is around the pitch, more clusters would give a more detailed view of how passes are generally made. Below show the clusters by average start and end point of the pass.", "These cluster categories were used as a predictor for the supervised learning algorithm that follows.", "Supervised learning is defined by its use of labeled datasets to train algorithms that to classify data or predict outcomes accurately. In this case, we train a machine learning algorithm, alongside whether or not a pass was completed in the training dataset, and remove the pass result from the test dataset and see how well it can predict if a pass completes or not.", "The standard practice in order to benchmark the algorithm\u2019s performance, is to generate a dummy model beforehand. In this case, the dummy model simply predicts that all passes will be completed. In the test set, 71,001 passes were completed, and 18,695 failed. Selecting pass complete every times gives an accuracy of 79.3%. This is pretty much all noise due to a high log loss.", "After trying multiple different methodologies, I settled on XGBoost. XGBoost is an algorithm that has recently been dominating applied machine learning and Kaggle competitions for structured data. Using hyper-parameter tuning, the following confusion matrix resulted:", "It breaks down the models predictions and what actually happened, alongside each-other. Here we can see that, 79.3% of the dataset was completed passes. The algorithm predicted 75% was completed passes.", "20.7% were failed passes, and the model predicted 13% would be.", "This confusion matrix can be used to calculate the following metrics:", "All of which greatly outperform the baseline dummy model.", "Having found a relatively sound algorithm to build predictions of if a pass was made or not (1 or 0), I convert the binary output into a probability of the pass being made, which XGBoost can provide me with.", "I then define the metric pass risk. If the model predicts a pass will occur with probability 0.8 and it completes, I add 0.2 to the players pass score. If they pass did not complete, I minus 0.8 to the players pass score. I then average this over how many passes the player makes, to define an average risk overcome score. This score enables the ability to compare players across the risk taken and overcome in passing.", "Players who share a similar most common cluster of pass, likely play the same or similar positions on the pitch. Here we can see that when compared to players of a similar style to him, Player 263 has an above average risk overcome score.", "However, in football we don\u2019t just care about the average ability, consistency is also key when analysing player performance.", "While players 263 passing performance is slightly above average compared to other players, he attempts many more passes than other players. This leads him to be ranked one of the top passes when compared to a set of similar peers. Looking at player performance like this allows us to look for other players which could be worthy replacements. Player 409, who has a very high average risk overcome but very few passes, is potentially underplayed or undervalued.", "This provides the opportunity for coaches to build teams and benches of players that statistically will play better than they may be priced in the transfer market, as well as identify underperforming players.", "Given both overcoming risk, and number of passes are important metrics to consider when looking at player performance, multiplying them together provides a total passing score which enables further analysis. Here we can see that player 263 is ranked as the second highest passer across all the top 40 players.", "This view enables further findings through which coaches can identify high performance players from low performance teams. Teams which may be being relegated, or in financial distress or even top players from other leagues can be potential players to acquire at value prices.", "We can use data science to analyse how much risk players are able to overcome in their passes. It would be possible to build out similar metrics for all the actions that occur within football matches \u2014 be it tackles, shots or possession. This enables deeper understanding of player and team performance, (both your own and opponents) which can help drive performance and ultimately game results.", "Using data science and machine learning within a team is not new, in fact the sports world is completely saturated with statistics. Understanding new ways and using new technologies to make use of the multitude of data that exists in the sports world can help give teams and coaches an edge over their opponents, regardless of the sport.", "There is a glaring limitation with the above work; namely that by ranking players by risk overcome we assume risk is good. There is no concept of value in the pass, or reward, so it is difficult to build a risk/reward model. The value a pass provides, in its potential to lead to a chance or drive the ball up the pitch into opponents territory is important. Unfortunately, this dataset only included details on pass results, however, with more detailed data on shots and goals, it would be possible to begin building this kind of model.", "With this use case of comparing players across the league, a high level model makes sense. However, individual teams and players can play quite different to each other. Further work could include building models to analyse individual team performance, or even more granular at the individual player level. This can help identify weaknesses in your own team to work on, or provide opportunities to exploit opponents and specific players play-styles. The beginning of this is detailed below.", "I hope you enjoyed my work! I would appreciate any feedback on it through here. I am a Data Scientist with a passion for working with sports data. As an ex-professional gambler, I bring unique insights into sports analytics and forecasting. I am currently looking to break into the sports data industry, if you would like to reach out please head to my LinkedIn!", "Paul Power, Hector Ruiz, Xinyu Wei, and Patrick Lucey. 2017. Not All Passes Are Created Equal: Objectively Measuring the Risk and Reward of Passes in Soccer from Tracking Data. In Proceedings of the 23rd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining (KDD \u201817). Association for Computing Machinery, New York, NY, USA, 1605\u20131613. DOI:https://doi.org/10.1145/3097983.3098051", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist with a background in Economics \u2014 London"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4dd04e579cfa&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-data-science-to-analyse-player-performance-in-football-4dd04e579cfa&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-data-science-to-analyse-player-performance-in-football-4dd04e579cfa&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-data-science-to-analyse-player-performance-in-football-4dd04e579cfa&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-data-science-to-analyse-player-performance-in-football-4dd04e579cfa&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4dd04e579cfa--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4dd04e579cfa--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@carterbouley?source=post_page-----4dd04e579cfa--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@carterbouley?source=post_page-----4dd04e579cfa--------------------------------", "anchor_text": "Carter Bouley"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5bafa8e14c09&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-data-science-to-analyse-player-performance-in-football-4dd04e579cfa&user=Carter+Bouley&userId=5bafa8e14c09&source=post_page-5bafa8e14c09----4dd04e579cfa---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4dd04e579cfa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-data-science-to-analyse-player-performance-in-football-4dd04e579cfa&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4dd04e579cfa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-data-science-to-analyse-player-performance-in-football-4dd04e579cfa&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@danielnorin", "anchor_text": "Daniel Norin"}, {"url": "https://unsplash.com/photos/lBhhnhndpE0", "anchor_text": "Unsplash"}, {"url": "https://github.com/Carterbouley/expected_pass/blob/main/Carter_notebook.ipynb", "anchor_text": "here"}, {"url": "https://www.linkedin.com/in/carterbouley/", "anchor_text": "Carter B. - Data Scientist - Freelance, self-employed | LinkedInWith blogs successfully published by Towards Data Science and Analytics Vidhya, I am currently looking for data science\u2026www.linkedin.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----4dd04e579cfa---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/sports?source=post_page-----4dd04e579cfa---------------sports-----------------", "anchor_text": "Sports"}, {"url": "https://medium.com/tag/football?source=post_page-----4dd04e579cfa---------------football-----------------", "anchor_text": "Football"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----4dd04e579cfa---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/soccer?source=post_page-----4dd04e579cfa---------------soccer-----------------", "anchor_text": "Soccer"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4dd04e579cfa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-data-science-to-analyse-player-performance-in-football-4dd04e579cfa&user=Carter+Bouley&userId=5bafa8e14c09&source=-----4dd04e579cfa---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4dd04e579cfa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-data-science-to-analyse-player-performance-in-football-4dd04e579cfa&user=Carter+Bouley&userId=5bafa8e14c09&source=-----4dd04e579cfa---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4dd04e579cfa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-data-science-to-analyse-player-performance-in-football-4dd04e579cfa&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4dd04e579cfa--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4dd04e579cfa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-data-science-to-analyse-player-performance-in-football-4dd04e579cfa&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4dd04e579cfa---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4dd04e579cfa--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4dd04e579cfa--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4dd04e579cfa--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4dd04e579cfa--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4dd04e579cfa--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4dd04e579cfa--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4dd04e579cfa--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4dd04e579cfa--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@carterbouley?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@carterbouley?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Carter Bouley"}, {"url": "https://medium.com/@carterbouley/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "71 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5bafa8e14c09&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-data-science-to-analyse-player-performance-in-football-4dd04e579cfa&user=Carter+Bouley&userId=5bafa8e14c09&source=post_page-5bafa8e14c09--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F943b53c93eeb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-data-science-to-analyse-player-performance-in-football-4dd04e579cfa&newsletterV3=5bafa8e14c09&newsletterV3Id=943b53c93eeb&user=Carter+Bouley&userId=5bafa8e14c09&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}