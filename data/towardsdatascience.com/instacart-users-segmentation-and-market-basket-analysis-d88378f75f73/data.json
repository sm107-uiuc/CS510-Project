{"url": "https://towardsdatascience.com/instacart-users-segmentation-and-market-basket-analysis-d88378f75f73", "time": 1683015061.3598678, "path": "towardsdatascience.com/instacart-users-segmentation-and-market-basket-analysis-d88378f75f73/", "webpage": {"metadata": {"title": "Instacart Users Segmentation and Market Basket Analysis | by Yingyuan (Valerie) Zhang | Towards Data Science", "h1": "Instacart Users Segmentation and Market Basket Analysis", "description": "Covid-19 has been a world spread pandemic in 2020. Thus, New Yorkers follow the quarantine policy and keep a social distance from each other. As we know, the most popular mode of transportation in\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/u/c4de36e239a7?source=post_page-----d88378f75f73--------------------------------", "anchor_text": "Yingyuan (Valerie) Zhang", "paragraph_index": 0}, {"url": "https://medium.com/u/cdb36961304e?source=post_page-----d88378f75f73--------------------------------", "anchor_text": "Yutong (Grace) Zhu", "paragraph_index": 0}, {"url": "https://medium.com/u/51be39885e44?source=post_page-----d88378f75f73--------------------------------", "anchor_text": "Zehui (Declan) Xiang", "paragraph_index": 0}, {"url": "https://medium.com/u/81ad6d74f0bd?source=post_page-----d88378f75f73--------------------------------", "anchor_text": "Xin Yu", "paragraph_index": 0}], "all_paragraphs": ["Written by: Yingyuan (Valerie) Zhang, Yutong (Grace) Zhu Zehui (Declan) Xiang, Xin Yu", "Covid-19 has been a world spread pandemic in 2020. Thus, New Yorkers follow the quarantine policy and keep a social distance from each other. As we know, the most popular mode of transportation in NYC is by subway. However, the subway is one of the most dangerous transportation tools to spread Covid-19, which may increase the risk of having Covid-19 for subway passengers. Therefore, going out to get daily needs became a headache issue for New Yorkers. People in grocery stores are not practical to keep a social distance. During Covid-19 outbreaks, New York City published a \u201cstaying at home\u201d order, which increased the demand for online grocery shopping. Instacart is a grocery delivery platform that has experienced rapid growth during the Covid-19 crisis. Now, users gain the value of staying home to flatten the curve and to reduce their own risk of getting the virus.", "The primary research goals are doing user segments based on time intervals and building a recommendation system based on product choices of users. The expectation of the research could optimize the Supply side\u2019s inventory allocation and increase the probability that customers get essential goods without breaking the social distancing rule.", "The primary data source is from Instacart\u2019s 2017 anonymized customers\u2019 orders over time (Stanley, 2017). It contains the order file, product file, order and product file, aisles file, and department file. Each entity in the dataset has an associated unique id.", "In the order dataset, it contains user id, order id, order purchased day of the week(order_dow), order purchased hour of the day(order_hour_of_the_day), days since the last purchase(day_since_prior) and an indicator of the order\u2019s belongs(eval_set). If it is a first time purchase, the days since the last purchase will be NaN. In the department dataset, it contains an unique department id and associated departments\u2019 names. In the aisles dataset, it has aisle id and aisles\u2019 names. In the product dataset, it contains the product id, the name of the product, the aisles\u2019 id and the department id.", "To make the time interval of user orders, we first divided user orders based on days. The data we used here is order.csv, column name \u2018dow\u2019. From Figure 1, The most popular days of user orders are days 0 and 1. After reviewing the data instruction, we did not find the definition of days 0 to 6. We believe the two busy days, 0 and 1, should be Sunday and Monday.", "Having a more detailed view, we selected the hour as a unit to plot an order frequency bar chart. The two tails indicate that Instacart has not much delivery in the morning and late evening time. Most orders are placed in time interval hours [9,16], which has an average of around 25000 orders per hour.", "Combining the two figures above, we decided to use a heatmap to check the most popular order time. The y-axis is order counted by days, and the x-axis is order counted by hours. From Figure 3, the darker part means the higher density time slots of having user orders, which are around day 0 and day 1 from 9 a.m to 4 p.m.", "Figure 4 shows a decreasing trend. Most of the users have placed orders in the frequency interval [0,40]. A few users have orders above 60. Unique orders count above 100 have been counted as a group. The x-axis has a limitation on putting all the count orders on one chart.", "An interesting finding, from Figure 5, We have found that over 400,000 users may add Banana to their orders. Most of the products on the list are organic vegetables and fruits!", "Built on EDA results, it is likely to conclude that consumers are more likely to purchase between 10 am to 4 pm. Also, it is shown by the graph on day 0 and day 1, Instacart has a relatively high volume compared with other days. To further understand consumer\u2019s purchase behavior and conduct a concrete consumer segment, we used the k-means clustering. Not only based on the order purchased the day of the week, the hour of the week but also days since prior purchase and add to cart order, to calculate the frequency of using Instacart and median of items bought per order for each user.", "First, selected the optimal number of clusters in k-means using the Silhouette Score.", "Due to the processing volume, we sampled 5% of the dataset (more than 10,000 user records) five times to generate the accurate Silhouette score for the train dataset. As it suggested, we set 3 clusters in the k-means algorithm. After applying PCA to lower the dimension, we were able to plot each cluster (Fig. 6).", "After doing k-means clustering and labeled the data, which we used to train our first K-means model with cluster 0,1,2. We want to transfer our model from unsupervised learning to supervised learning. Thus, we split our dataset into train and test samples. By using GridSearchCV, we find that we should use 21 as our estimator and 97 as our max leaf node. After training our model and fit the test set, we calculated the multi-class ROC AUC score, which is 0.999, which means our random forest model separates the three classes very well.", "In our recommendation system model, the outputs are departments and aisles that most other customers would purchase but the input customers do not purchase often. Since the outputs are not only based on the majority of trained data but also based on Pearson similarity of the inputs customers purchase history, our model considers different groups of customer preferences.", "For time and computing saving reasons, we used data from the first 10,000 users to train our model. By taking 5 random users from each cluster as input, the results have proved our hypothesis. For 5 users from each cluster and 5 recommended departments and aisles, we look for the top 3 most shared common names among 25 values.", "From this table, we can tell that customers in cluster 0 and cluster 1 (64.6% of total users) are loyal Instacart users and they might have high demand and put heavy pressures on Instacart\u2019s operation during Covid-19.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fd88378f75f73&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finstacart-users-segmentation-and-market-basket-analysis-d88378f75f73&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finstacart-users-segmentation-and-market-basket-analysis-d88378f75f73&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finstacart-users-segmentation-and-market-basket-analysis-d88378f75f73&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finstacart-users-segmentation-and-market-basket-analysis-d88378f75f73&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----d88378f75f73--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d88378f75f73--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@yz6378?source=post_page-----d88378f75f73--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@yz6378?source=post_page-----d88378f75f73--------------------------------", "anchor_text": "Yingyuan (Valerie) Zhang"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc4de36e239a7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finstacart-users-segmentation-and-market-basket-analysis-d88378f75f73&user=Yingyuan+%28Valerie%29+Zhang&userId=c4de36e239a7&source=post_page-c4de36e239a7----d88378f75f73---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd88378f75f73&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finstacart-users-segmentation-and-market-basket-analysis-d88378f75f73&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd88378f75f73&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finstacart-users-segmentation-and-market-basket-analysis-d88378f75f73&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/u/c4de36e239a7?source=post_page-----d88378f75f73--------------------------------", "anchor_text": "Yingyuan (Valerie) Zhang"}, {"url": "https://medium.com/u/cdb36961304e?source=post_page-----d88378f75f73--------------------------------", "anchor_text": "Yutong (Grace) Zhu"}, {"url": "https://medium.com/u/51be39885e44?source=post_page-----d88378f75f73--------------------------------", "anchor_text": "Zehui (Declan) Xiang"}, {"url": "https://medium.com/u/81ad6d74f0bd?source=post_page-----d88378f75f73--------------------------------", "anchor_text": "Xin Yu"}, {"url": "https://medium.com/tag/instacart?source=post_page-----d88378f75f73---------------instacart-----------------", "anchor_text": "Instacart"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----d88378f75f73---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----d88378f75f73---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----d88378f75f73---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd88378f75f73&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finstacart-users-segmentation-and-market-basket-analysis-d88378f75f73&user=Yingyuan+%28Valerie%29+Zhang&userId=c4de36e239a7&source=-----d88378f75f73---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd88378f75f73&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finstacart-users-segmentation-and-market-basket-analysis-d88378f75f73&user=Yingyuan+%28Valerie%29+Zhang&userId=c4de36e239a7&source=-----d88378f75f73---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd88378f75f73&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finstacart-users-segmentation-and-market-basket-analysis-d88378f75f73&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d88378f75f73--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fd88378f75f73&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finstacart-users-segmentation-and-market-basket-analysis-d88378f75f73&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----d88378f75f73---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----d88378f75f73--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----d88378f75f73--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----d88378f75f73--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----d88378f75f73--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----d88378f75f73--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----d88378f75f73--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----d88378f75f73--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----d88378f75f73--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@yz6378?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@yz6378?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Yingyuan (Valerie) Zhang"}, {"url": "https://medium.com/@yz6378/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "8 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc4de36e239a7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finstacart-users-segmentation-and-market-basket-analysis-d88378f75f73&user=Yingyuan+%28Valerie%29+Zhang&userId=c4de36e239a7&source=post_page-c4de36e239a7--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fc4de36e239a7%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finstacart-users-segmentation-and-market-basket-analysis-d88378f75f73&user=Yingyuan+%28Valerie%29+Zhang&userId=c4de36e239a7&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}