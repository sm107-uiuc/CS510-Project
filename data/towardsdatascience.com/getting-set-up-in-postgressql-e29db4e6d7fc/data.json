{"url": "https://towardsdatascience.com/getting-set-up-in-postgressql-e29db4e6d7fc", "time": 1682996521.641641, "path": "towardsdatascience.com/getting-set-up-in-postgressql-e29db4e6d7fc/", "webpage": {"metadata": {"title": "Getting set up in PostgresSQL. Using PSQL and Python Pandas together | by Sherry Yang | Towards Data Science", "h1": "Getting set up in PostgresSQL", "description": "One of the big challenges I faced after taking introductory tutorials in writing structured query language (SQL) queries was how to practically use these queries. Tutorials give us a nice environment\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.upwork.com/hiring/data/sql-vs-mysql-which-relational-database-is-right-for-you/", "anchor_text": "Source", "paragraph_index": 3}, {"url": "https://www.upwork.com/hiring/data/sql-vs-mysql-which-relational-database-is-right-for-you/", "anchor_text": "Microsoft SQL Server vs. MySQL", "paragraph_index": 4}, {"url": "https://blog.panoply.io/postgresql-vs.-mysql", "anchor_text": "PostgreSQL vs MYSQL", "paragraph_index": 4}, {"url": "https://blog.panoply.io/postgresql-vs-mongodb", "anchor_text": "PostgreSQL vs MongoDB", "paragraph_index": 4}, {"url": "https://www.postgresql.org/about/", "anchor_text": "Source", "paragraph_index": 5}, {"url": "https://www.kaggle.com/usernam3/shopify-app-store", "anchor_text": "Shopify App Store", "paragraph_index": 6}, {"url": "https://www.websitebuilderexpert.com/ecommerce-website-builders/comparisons/shopify-vs-amazon/", "anchor_text": "Shopify beats out Amazon as the choice e-commerce platform on the market", "paragraph_index": 7}, {"url": "https://stackoverflow.com/questions/1429407/determining-the-primary-and-foreign-table-in-a-relationship", "anchor_text": "Source", "paragraph_index": 11}, {"url": "http://www.sqltutorial.org/sql-primary-key/", "anchor_text": "\u201cPrimary keys do not accept NULL or duplicate values.\u201d", "paragraph_index": 11}, {"url": "http://www.postgresqltutorial.com/postgresql-primary-key/", "anchor_text": "here", "paragraph_index": 11}, {"url": "http://utf-8.icebolt.info/", "anchor_text": "likely could have happened", "paragraph_index": 14}, {"url": "https://www.dataquest.io/blog/sql-intermediate/", "anchor_text": "great tutorial on intermediate PSQL", "paragraph_index": 16}, {"url": "https://spark.apache.org/examples.html", "anchor_text": "Apache Spark", "paragraph_index": 20}], "all_paragraphs": ["One of the big challenges I faced after taking introductory tutorials in writing structured query language (SQL) queries was how to practically use these queries. Tutorials give us a nice environment to start out in but don\u2019t always provide an accessible bridge to working on our own. Here\u2019s a quick walk through of SQL, and a tutorial for querying using the PSQL server.", "First we need to understand why we need databases. While learning as students, we often work with relatively small data sets that can be saved on our own machines. However, in practice we need the ability to store and retrieve data that is too large for an individual machine\u2019s memory. The need for databases originated as a result of what was considered big data at the time.", "Databases store information systematically to allow for storage, manipulation and management. There are four main types of database management systems (DBMS): hierarchical, network, relational, and object-orientated relational DBMS. SQL is used to deal with relational database management systems or servers.", "These servers go by names such as SQL Server, MySQL, SQLite, and PostgreSQL, which can make the use of the word SQL as both a reference to the language and to the relational database confusing. \u201cSeveral database platforms use SQL, but a slight variation on it \u2014 each tend to have a slightly different syntax.\u201d (Source) We can also use a syntactic evolution of SQL language called SQL Alchemy inside a SQL server.", "We have both open source and licensed servers available to us. Here\u2019s a brief look at a few types of database management systems: Microsoft SQL Server vs. MySQL, PostgreSQL vs MYSQL and PostgreSQL vs MongoDB for instance.", "PSQL is a good choice because it\u2019s been in development for more than 30 years, is ACID-compliant \u2014 which stands for Atomicity, Consistency, Isolation, Durability and means loosely protection against errors, and it has become the open-source relational database for many organizations. It is used to build applications and trusted to protect data integrity (Source).", "To get started, we\u2019ll work with the csv files from the Kaggle dataset Shopify App Store. In the workplace we would likely not start with a csv file of data because on principle, we are trying to work with data that is too large to be saved in a mere csv file. However, because we are learning, we will use a small set of data that doesn\u2019t require a server to view, but can be queried for practice.", "We\u2019ll take a look at the pricing data for Shopify\u2019s app marketplace. Shopify, a Canadian e-commerce site, competes against Amazon for sellers. It \u201cpowers over 600,000 businesses and have sold over $82bn\u201d through their platform. In some cases, Shopify beats out Amazon as the choice e-commerce platform on the market.", "We can see there are five tables in this dataset \u2014 apps, categories, plan_features, pricing_plans, reviews. We will first create an Entity Relationship Diagram (ERD) to understand the relationship between columns of data in the tables. That will allow us to:", "Determine data type of each column \u2014 a good rule of thumb is only columns with data that we intend to do mathematical calculations on should have the type integer.", "Understand types of relationships between tables: one-to-many, many-to-one etc.", "I set my primary keys because they are the parent records. The foreign keys contain child records. (Source) This can be really tricky to figure out the more tables we have. We know that a table can \u201conly have one primary key\u201d and that it\u2019s \u201cgood practice to add a primary key to every table\u201d. \u201cPrimary keys do not accept NULL or duplicate values.\u201d We may need to create a primary key that consists of two or more columns which is known as the composite primary key. That is explored further here.", "In order to get our data out of the csv files, we\u2019ll start out in the command line of bash. We can get into our PSQL server in our command line and create a database. Then we can navigate to our database with \\connect.", "We then create a file in our text editor and save it as a SQL file. I am choosing to use the text editor from Jupyter Notebook, but we could also use Visual Studio Code. In this case, I will call my file create_tables.sql. Below is the code I wrote in my text editor for the apps table.", "Now I will head back into bash and try to create my first table within my database. I came up with the error \u201cunquoted carriage return\u201d which I learned is an error with the csv file, not typically with a command from our end gone array. I learned that this was due to \\n appearing in my data. This likely could have happened because the data was downloaded in a windows program.", "I used this fix on the file and nice, it worked!", "I was able to move the other csv files into tables by editing my text code and calling the file in bash in PSQL with \\i create_tables.sql. For other commands, I used this great tutorial on intermediate PSQL. I used the following code for my other tables:", "Once I have my data in tables in PSQL, I can move to my Jupyter notebook and connect to my sqlalchemy engine.", "Now I can query through my tables. What I want to see is reviews and the apps they belong to together in one DataFrame. What\u2019s interesting about connecting these tables is the awareness that we have a one to many join between one app and many reviews for that one app. Through this query we can also practice creating aliases, which gives us nicknames for the full names of tables and casting, which turns a column type from one to another.", "We can query through a very large database using SQL to isolate the data we need. If you make a mistake and introduce an error, you can always use the following code to rollback the cursor as long as you have not committed the previous action.", "Now we can run the query and read the results as a pandas DataFrame. We would want to do this to perform statistical tests, transformations, visualizations and more on the slice of data that we are examining. (For calculations on larger amounts of data, we will need to use say, Apache Spark instead of inserting the data into a pandas DataFrame.)", "Finally we can save our query back into a csv file if needed.", "This was a quick look at how to use psql and its relationship to SQL and python\u2019s pandas library. Hope it\u2019s useful, and helps you play I Spy (figuratively) with your data a little easier.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Currently a Data & AI Content Developer. Studied data science @Flatiron. I love making things, writing, and the outdoors."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe29db4e6d7fc&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-set-up-in-postgressql-e29db4e6d7fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-set-up-in-postgressql-e29db4e6d7fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-set-up-in-postgressql-e29db4e6d7fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-set-up-in-postgressql-e29db4e6d7fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e29db4e6d7fc--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e29db4e6d7fc--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@sherzyang?source=post_page-----e29db4e6d7fc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sherzyang?source=post_page-----e29db4e6d7fc--------------------------------", "anchor_text": "Sherry Yang"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe86e1bcb017&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-set-up-in-postgressql-e29db4e6d7fc&user=Sherry+Yang&userId=e86e1bcb017&source=post_page-e86e1bcb017----e29db4e6d7fc---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe29db4e6d7fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-set-up-in-postgressql-e29db4e6d7fc&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe29db4e6d7fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-set-up-in-postgressql-e29db4e6d7fc&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.upwork.com/hiring/data/sql-vs-mysql-which-relational-database-is-right-for-you/", "anchor_text": "Source"}, {"url": "https://www.upwork.com/hiring/data/sql-vs-mysql-which-relational-database-is-right-for-you/", "anchor_text": "Microsoft SQL Server vs. MySQL"}, {"url": "https://blog.panoply.io/postgresql-vs.-mysql", "anchor_text": "PostgreSQL vs MYSQL"}, {"url": "https://blog.panoply.io/postgresql-vs-mongodb", "anchor_text": "PostgreSQL vs MongoDB"}, {"url": "https://www.postgresql.org/about/", "anchor_text": "Source"}, {"url": "https://www.kaggle.com/usernam3/shopify-app-store", "anchor_text": "Shopify App Store"}, {"url": "https://www.websitebuilderexpert.com/ecommerce-website-builders/comparisons/shopify-vs-amazon/", "anchor_text": "Shopify beats out Amazon as the choice e-commerce platform on the market"}, {"url": "https://www.lucidchart.com/pages/ER-diagram-symbols-and-meaning", "anchor_text": "https://www.lucidchart.com/pages/ER-diagram-symbols-and-meaning"}, {"url": "https://stackoverflow.com/questions/1429407/determining-the-primary-and-foreign-table-in-a-relationship", "anchor_text": "Source"}, {"url": "http://www.sqltutorial.org/sql-primary-key/", "anchor_text": "\u201cPrimary keys do not accept NULL or duplicate values.\u201d"}, {"url": "http://www.postgresqltutorial.com/postgresql-primary-key/", "anchor_text": "here"}, {"url": "http://utf-8.icebolt.info/", "anchor_text": "likely could have happened"}, {"url": "http://bit.ly/2JsArGY", "anchor_text": "http://bit.ly/2JsArGY"}, {"url": "https://www.dataquest.io/blog/sql-intermediate/", "anchor_text": "great tutorial on intermediate PSQL"}, {"url": "https://spark.apache.org/examples.html", "anchor_text": "Apache Spark"}, {"url": "https://medium.com/tag/sql?source=post_page-----e29db4e6d7fc---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/python?source=post_page-----e29db4e6d7fc---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----e29db4e6d7fc---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/database?source=post_page-----e29db4e6d7fc---------------database-----------------", "anchor_text": "Database"}, {"url": "https://medium.com/tag/tutorial?source=post_page-----e29db4e6d7fc---------------tutorial-----------------", "anchor_text": "Tutorial"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe29db4e6d7fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-set-up-in-postgressql-e29db4e6d7fc&user=Sherry+Yang&userId=e86e1bcb017&source=-----e29db4e6d7fc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe29db4e6d7fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-set-up-in-postgressql-e29db4e6d7fc&user=Sherry+Yang&userId=e86e1bcb017&source=-----e29db4e6d7fc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe29db4e6d7fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-set-up-in-postgressql-e29db4e6d7fc&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e29db4e6d7fc--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe29db4e6d7fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-set-up-in-postgressql-e29db4e6d7fc&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e29db4e6d7fc---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e29db4e6d7fc--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e29db4e6d7fc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e29db4e6d7fc--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e29db4e6d7fc--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e29db4e6d7fc--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e29db4e6d7fc--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e29db4e6d7fc--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e29db4e6d7fc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sherzyang?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sherzyang?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sherry Yang"}, {"url": "https://medium.com/@sherzyang/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "57 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe86e1bcb017&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-set-up-in-postgressql-e29db4e6d7fc&user=Sherry+Yang&userId=e86e1bcb017&source=post_page-e86e1bcb017--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fe86e1bcb017%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-set-up-in-postgressql-e29db4e6d7fc&user=Sherry+Yang&userId=e86e1bcb017&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}