{"url": "https://towardsdatascience.com/understanding-and-predicting-resale-hdb-flat-prices-in-singapore-1853ec7069b0", "time": 1683016354.0835469, "path": "towardsdatascience.com/understanding-and-predicting-resale-hdb-flat-prices-in-singapore-1853ec7069b0/", "webpage": {"metadata": {"title": "Understanding and Predicting Resale HDB flat prices in Singapore | by Philip Chan | Towards Data Science", "h1": "Understanding and Predicting Resale HDB flat prices in Singapore", "description": "Over 80% of Singapore\u2019s residents live in Housing Development Board (HDB) flats, which were designed by the Singapore government in 1960 to resolve the need for urban, comprehensive housing. Because\u2026"}, "outgoing_paragraph_urls": [{"url": "https://data.gov.sg/dataset/resale-flat-prices", "anchor_text": "https://data.gov.sg/dataset/resale-flat-prices", "paragraph_index": 2}, {"url": "https://mrt.sg/fare", "anchor_text": "https://mrt.sg/fare", "paragraph_index": 8}, {"url": "https://medium.com/analytics-vidhya/root-mean-square-log-error-rmse-vs-rmlse-935c6cc1802a", "anchor_text": "here", "paragraph_index": 25}], "all_paragraphs": ["Over 80% of Singapore\u2019s residents live in Housing Development Board (HDB) flats, which were designed by the Singapore government in 1960 to resolve the need for urban, comprehensive housing. Because of the scarcity of land in Singapore, HDB flats are generally built as apartment-style units, often in high rise buildings so as to make efficient use of space. Owning a HDB flat for most Singaporeans happens typically as soon as they get married. One unique feature about HDB flats is the 99 year lease associated with it: The lease of the flat is 99 years long, starting from the completion of the flat, with the land reverting back to the government upon expiry. This means that purchasing a HDB flat in Singapore doesn\u2019t mean owning the flat in a traditional sense, but rather, leasing the flat from the government for the specified duration of the remaining lease.", "Nonetheless, it doesn\u2019t mean that Singaporeans have to stay in the owned HDB flat for the rest of one\u2019s life. HDB flats can be sold (albeit after 5 years if the flat was purchased brand new), and therein lies the heart of this mini project \u2014 the HDB flat resale market. As a young adult perhaps looking to own an HDB flat sometime soon, understanding the prices behind HDB resale flats and predicting them seemed an interesting project to work on.", "The original dataset was obtained from https://data.gov.sg/dataset/resale-flat-prices. This dataset provides information on all resale HDB flat transactions from 2017 to 2020.", "The notable features in this dataset are as follows:i) town: the town of the associated HDB flatii) flat_type: the type of flat of the associated HDB flat. In Singapore, there are 1-room flats up to 5-room flats, as well as executive flats, which are slightly bigger than 5-room flats. (The remaining flat type: Multi-generational flats, are few and far between). iii) block: the block of the associated HDB flativ) street: the street of the associated HDB flatv) storey_range: the storey range of the associated HDB flat. In this dataset, the storey range is given in a range of 3 (e.g. 10 to 12 , which means the flat is based on the 10th to 12th storey). vi) floor_area_sqm: the floor area of the associated HDB flat in square meters vii) remaining_lease: the remaining lease of the associated HDB flat in months and yearsviii) resale_price: the resale price of the assocaited HDB flat", "In hypothesizing factors that could affect the price of HDB resale flats, three prominent factors came to mind: 1. Distance to the nearest MRT/LRT \u2014 which is an indicator of how well-connected the HDB flat is to the rail network. 2. Distance to the nearest Shopping Mall \u2014 Shopping Malls in Singapore are a one-stop destination for everything (shopping, food, groceries, services).3. Distance to the nearest Primary School \u2014 having a Primary School nearby could be a great convenience for parents as their young children have the option to walk home after school instead of having alternative transport arrangements.", "The extensive list of MRTs/LRTs, Shopping Malls, and Primary Schools were obtained from Wikipedia. In order to obtain the following features, the latitude and longitude of all the unique HDB resale blocks, MRT/LRTs, Shopping Malls and Primary Schools were obtained using the Onemaps API.", "For-loops were utilized to calculate the distances (using the haversine formula) between each unique HDB resale block and all the MRT/LRTs, Shopping Malls, and Primary Schools. The nearest MRT/LRT, Shopping Mall and Primary School, along with their associated distances to the HDB flat (in km) for each unique HDB block was stored in the dataframe as shown below.", "It is to be noted that amongst 8836 unique HDB blocks, 405 search addresses returned multiple results whose postal codes differed greatly. As a result, these 405 addresses were dropped because its latitude and longitude could not be identified accurately from the Onemaps API.", "Next, the variables flat_type, storey_range and remaining_lease were integer encoded. Furthermore, using https://mrt.sg/fare, a variable time_to_raffles_place was created by taking the time from the nearest MRT/LRT to Raffles Place MRT, adding this to the walking time from the HDB to the nearest MRT/LRT (assuming a walking pace of 15min/km). This is significant because Raffles Place MRT is the heart of Singapore\u2019s Central Business District, which houses many offices for Singapore\u2019s workforce.", "Finally, two categorical variables, MRT? and Matured Estate? were added because it was thought that there may have been a price premium for flats that were nearer to MRTs as opposed to LRTs which were unexplained by the other columns so far. Similarly, there could potentially be a price premium for flats that were located in mature estates as opposed to non-mature estates.", "The 8431 unique HDB blocks were merged with the initial dataset containing 77,895 datapoints. Rows that yielded NAs (from the previously dropped 405 rows) were dropped resulting in the final dataset as shown below.", "Finally, using the describe() function, it was possible to get a sense-check of the data and find out if there were mistakes in the feature engineering. For example, the minimum distance to a mall was outputted as 0.000km. Upon investigation, it was revealed that this finding arose because the shopping mall was directly beneath the block 137 Teck Whye Lane.", "After several similar investigations, it was found that the extremities for engineered features were satisfactorily justified.", "Using the describe() function, these are the summary statistics that were observed:", "Next, a correlation matrix was used to understand each predictor\u2019s correlation with one another.", "It can be observed that the biggest predictor of resale price was the floor_area_sqm, along with flat_type_coded. It can also be noted that these same two predictors have a high pairwise correlation of 0.93, which is to be expected, since the larger the flat type (i.e. bigger number of rooms), the more floor area the flat is expected to have.", "Observing the sign of the correlation, it is noted that the signs are in accordance with initial hypothesis\u2019: that is, it is in line with expectations that the distance predictors, along with the time to raffles place are negatively associated with resale price (for the further away you are from certain amenities, the less valuable the flat).", "A geographical price heatmap was also constructed to understand the locations and price distributions of resale flats across Singapore.", "The color scale on the right of the figure can help with understanding the heatmap. As can be observed, the flats that are yellow tend to lie near the central area. Nonetheless, it can be observed that flats in the North-Eastern region as well as Pasir Ris are more lightly colored than some of the other neighborhoods. Perhaps this is due to these neighborhoods having less 1\u20132 room flats, which are priced the cheapest.", "A boxplot was also used to understand the relationship between the flat types and resale prices.", "It can be seen that there are quite a number of outliers, especially in the 3-Room, 4-Room, and 5-Room flats. Upon some investigation, it was revealed that some of these 3-Room flats were in fact 6-Room flats, whereby two adjacent 3-Room flats were combined to form a new single unit. Whilst the flat_type still reflects these flats as 3-Room flats, the floor_area_sqm reflects the increased floor area of the new merged unit.", "It was thought that other predictors could aid in explaining the reasons for the extra premiums paid concerning the outliers observed from this boxplot.", "Setting up the Train & Test setsThe dataset had 74459 rows. The first 59649 rows (~80%) of the data was used as the training set, and the remaining 14810 rows (~20%) of the data was used as the testing set. train_test_split was not used to randomly assign the train and test data because the dataset followed a chronological order, and it made more sense to use past data to predict future data.", "The features incorporated in the x_train were all the features in the correlation matrix above, excluding flat_type_coded as it has a high correlation with floor_area_sqm.", "Implementing & Evaluating Machine Learning ModelsThree different machine learning regression models were used to predict the prices of resale HDB flats: Linear Regression, Decision Tree Regression, as well as Random Forest Regression.", "The three criteria used to evaluate these models were r-squared (r2), mean squared error (MSE), as well as mean squared log error (MSLE), with results shown below. A really helpful article illustrating the differences between MSE and MSLE can be found here.", "As can be seen, the Random Forest Regression model performs the best, as agreed upon by all three metrics. It has the highest r2, as well as lowest MSE and MSLE values. Understandably, it is expected to have performed better than the Decision Tree Regression as it employs ensemble learning using the Decision Tree model as its base model.", "The following chart displays the feature importance based on the selected Random Forest Regression Model. As can be seen, the three most important features as defined by the model are its floor area, time to travel to Raffles Place, as well as its remaining lease.", "Understanding the implications of the Random Forest Regression Model on TownsThe differences between the actual resale prices of the HDB flats and predictions of the Random Forest Regression model were calculated. A positive difference could imply that the flat was overpriced, and the reverse could imply that the flat was underpriced (indicating a good purchase).", "Using the groupby and pivot_table functions, it was made possible to understand the average differences of predicted vs actual by town and flat_type.", "The reason behind the large number of 0s for 1-room and multi-generational is because there were no such flats in the test set available for prediction; these flats make up a very small percentage of all HDB flats.", "Upon observation, we can see that some towns, like Kallang/Whompoa and Pasir Ris, display constantly negative average differences across flat types, which could mean that properties in these towns are undervalued.", "Say I was looking for a 4-room flat in Singapore right now: the bar chart below depicts the average differences between Actual and Predicted prices of 4-room resale flats across towns in Singapore.", "From this bar chart, it would seem like 4-room flats in Tampines, Pasir Ris, Jurong East and Ang Mo Kio are good buys, and I might want to consider purchasing them over 4-room flats in other towns.", "Calculating DistancesDisplacement was used when understanding distances to various types of facilities. This may not be the most accurate function because there are situations where the displacement to a facility may be short but the actual travel time to get there may be long because of an obstruction (e.g. an expressway in between). This could have been improved by using a paid API (e.g. Google Maps API) to understand the travel time between two locations instead of simply relying on displacement.", "Unaccounted predictorsWhist this project has tried to incorporate a variety of predictors, it, understandably is not an exhaustive list. The price of a flat can be affected by more than just the predictors accounted for in this project. For example, price differences could also arise from whether the resale flat is a corridor flat (less privacy) vs a corner flat (more privacy). Proximity to MRT/LRT, whilst being a factor that relates to accessibility to public transport, is not definitive of accessibility to public transport due to the presence of bus services as well, which were unaccounted for in the model. Also, as Singapore continues to upgrade, prices may also be influenced by prospective future developments near the flats (e.g. a new Mrt line, or a prommise by the goverment to build up the surrounding infrastructure to improve the maturity of the estate).", "ConclusionThis article opened with a Problem Statement, and proceeded with Feature Engineering. It then moved on to Data Exploration and Visualization. Machine Learning was then utilized to predict resale prices, and its implications for the Singaporean looking to purchase a resale HDB flat. Finally, the article ends off with some limitations. I hope this has been a wholesome read, and that it has enriched your understanding of how data can be used to solve problems (it\u2019s my first article on Medium)!", "CreditsI would like to thank Lee Ren Jie, Lee Xiao Hui and Samuel Chua for providing their inputs and contributions into this project.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Currently a Business Intelligence Associate in a regional E-Commerce firm. Passionate about solving problems with data!"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1853ec7069b0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-and-predicting-resale-hdb-flat-prices-in-singapore-1853ec7069b0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-and-predicting-resale-hdb-flat-prices-in-singapore-1853ec7069b0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-and-predicting-resale-hdb-flat-prices-in-singapore-1853ec7069b0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-and-predicting-resale-hdb-flat-prices-in-singapore-1853ec7069b0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----1853ec7069b0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1853ec7069b0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://philipchan-75253.medium.com/?source=post_page-----1853ec7069b0--------------------------------", "anchor_text": ""}, {"url": "https://philipchan-75253.medium.com/?source=post_page-----1853ec7069b0--------------------------------", "anchor_text": "Philip Chan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F50d4df1813db&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-and-predicting-resale-hdb-flat-prices-in-singapore-1853ec7069b0&user=Philip+Chan&userId=50d4df1813db&source=post_page-50d4df1813db----1853ec7069b0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1853ec7069b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-and-predicting-resale-hdb-flat-prices-in-singapore-1853ec7069b0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1853ec7069b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-and-predicting-resale-hdb-flat-prices-in-singapore-1853ec7069b0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://data.gov.sg/dataset/resale-flat-prices", "anchor_text": "https://data.gov.sg/dataset/resale-flat-prices"}, {"url": "https://mrt.sg/fare", "anchor_text": "https://mrt.sg/fare"}, {"url": "https://medium.com/analytics-vidhya/root-mean-square-log-error-rmse-vs-rmlse-935c6cc1802a", "anchor_text": "here"}, {"url": "https://medium.com/tag/hdb?source=post_page-----1853ec7069b0---------------hdb-----------------", "anchor_text": "Hdb"}, {"url": "https://medium.com/tag/predict?source=post_page-----1853ec7069b0---------------predict-----------------", "anchor_text": "Predict"}, {"url": "https://medium.com/tag/data-science?source=post_page-----1853ec7069b0---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----1853ec7069b0---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----1853ec7069b0---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1853ec7069b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-and-predicting-resale-hdb-flat-prices-in-singapore-1853ec7069b0&user=Philip+Chan&userId=50d4df1813db&source=-----1853ec7069b0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1853ec7069b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-and-predicting-resale-hdb-flat-prices-in-singapore-1853ec7069b0&user=Philip+Chan&userId=50d4df1813db&source=-----1853ec7069b0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1853ec7069b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-and-predicting-resale-hdb-flat-prices-in-singapore-1853ec7069b0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1853ec7069b0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1853ec7069b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-and-predicting-resale-hdb-flat-prices-in-singapore-1853ec7069b0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1853ec7069b0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1853ec7069b0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1853ec7069b0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1853ec7069b0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1853ec7069b0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1853ec7069b0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1853ec7069b0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1853ec7069b0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1853ec7069b0--------------------------------", "anchor_text": ""}, {"url": "https://philipchan-75253.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://philipchan-75253.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Philip Chan"}, {"url": "https://philipchan-75253.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "8 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F50d4df1813db&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-and-predicting-resale-hdb-flat-prices-in-singapore-1853ec7069b0&user=Philip+Chan&userId=50d4df1813db&source=post_page-50d4df1813db--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F439675f91d8d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-and-predicting-resale-hdb-flat-prices-in-singapore-1853ec7069b0&newsletterV3=50d4df1813db&newsletterV3Id=439675f91d8d&user=Philip+Chan&userId=50d4df1813db&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}