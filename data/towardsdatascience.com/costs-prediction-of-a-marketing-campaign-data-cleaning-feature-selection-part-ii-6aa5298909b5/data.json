{"url": "https://towardsdatascience.com/costs-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5", "time": 1683014495.6032362, "path": "towardsdatascience.com/costs-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5/", "webpage": {"metadata": {"title": "Costs prediction of a Marketing Campaign (Data Cleaning & Feature Selection \u2014 Part II) | by Gon\u00e7alo Guimar\u00e3es Gomes | Towards Data Science", "h1": "Costs prediction of a Marketing Campaign (Data Cleaning & Feature Selection \u2014 Part II)", "description": "In the first post, I have conducted the Exploratory Data Analysis that allows us to look further and beyond the initial data set. EDA can be a very time-consuming task and rarely is a\u2026"}, "outgoing_paragraph_urls": [{"url": "https://bit.ly/3lDzknU", "anchor_text": "Exploratory Data Analysis", "paragraph_index": 0}, {"url": "https://bit.ly/3lDzknU", "anchor_text": "here", "paragraph_index": 3}, {"url": "https://bit.ly/3hmI3YS", "anchor_text": "here", "paragraph_index": 3}, {"url": "https://bit.ly/31a0EAL", "anchor_text": "here", "paragraph_index": 3}, {"url": "https://bit.ly/3lDzknU", "anchor_text": "click here", "paragraph_index": 43}, {"url": "https://bit.ly/3hmI3YS", "anchor_text": "here", "paragraph_index": 43}, {"url": "https://www.linkedin.com/in/goncaloggomes", "anchor_text": "https://www.linkedin.com/in/goncaloggomes", "paragraph_index": 45}], "all_paragraphs": ["In the first post, I have conducted the Exploratory Data Analysis that allows us to look further and beyond the initial data set.", "EDA can be a very time-consuming task and rarely is a one-time-walk-through and although we may find ourselves going back to early sections changing and trying a few different approaches quite often, the detailed analysis usually pays and gives us a ton of information about the data and the variables\u2019 behavior.", "In this article, the focus is on the second section only, the Cleaning & Feature Selection.", "You can get familiarized with the EDA section here.You can find the code of this project here.The \u2018bank_marketing_campaign.csv\u2019 data set can be downloaded here.", "In the context of the dimensionality reduction, the analysis of the correlation between features and the target variable proves to be a fundamental step in bi-variate data analysis because it helps us to compute the importance of the features.", "Let\u2019s begin by pointing out the concepts of Correlation Coefficient both Pearson and Spearman.", "By definition, the Pearson Correlation Coefficient, commonly referred as Pearson\u2019s r, is a statistical measure that describes how much two random variables are linearly correlated, how strong their statistical relationship is, in which direction it occurs, whether casual or not in bivariate data.", "The values range from -1.0 and 1.0 where the first one shows the total negative linear correlation while the second one shows the oposite. The value of 0.0 reveals there is no linear relationship.", "Another important inference is that the Pearson Correlation can only evaluate the linearity between continuous variables, meaning that the change in one variable implies a proportional change in the other, at a constant rate \u2014 otherwise it\u2019s a non-linear relationship. The use of this parametric test is only recommended when the variables are normally distributed.", "One of the outputs is the p-value for the correlation, roughly showing the probability of an uncorrelated system creating a correlation value of some magnitude. Low p-values (usually \u22640.05) tell us that the correlation is, most probably, significant. In concrete, the p-value will reveal the feature\u2019s predictive power.", "\u2018Nr_employed\u2019 is the most correlated with the target followed by \u2018pdays\u2019, \u2018euribor3m\u2019, and \u2018emp_avr_rate\u2019 and at the same time, the strength of their relationships with the target is low. The table below leads us to conclude that all features have predictive power.", "On the other hand, the Spearman Correlation Coefficient, or Spearman\u2019s r, is a non-parametric measure of rank-order correlation that evaluates the monotonic relationship between two continuous or ordinal variables.", "A monotonic relationship happens when one of the following occurs:", "a) when the values of one variable increase, so do the others\u2019", "b) when the values of one variable increase, there is a decrease in the others\u2019", "a)+b) not at a constant rate.", "This means that all linear variable\u2019s relationships are monotonic at the same time but the inverse is not always true, simply because we can have both monotonic non-linear correlations.", "The numeric 10 most correlated pairs, Spearman method:", "\u2018nr_employed\u2019 is the most correlated with the target. The variables \u2018emp_var_rate\u2019, \u2018nr_employed\u2019, and \u2018euribor3m\u2019 are very redundant but I believe this does not represent a big issue. Strategy: keep all features for the time being.", "The Chi-square test for independence is used when we want to check if there is a relationship between two categorical variables (besides, we\u2019re dealing with a binary classification problem and chi-square is a very suitable test to perform here).", "Firstly, I\u2019ll specify the null and alternative hypotheses to run the test.", "The alternative hypothesis is always what we are trying to prove and the null is the hypothesis that we are trying to demonstrate evidence against.", "So, for the feature to be considered relevant, we want to reject the H0 (null hypothesis) with the lowest p-value (p-value \u22640.05).", "The technique used identifies the values \u200b\u200bthat are at +1.5 IQR and -1.5 IQR of the median, a non-parametric methodology generalizable for the profile of the distributions that we find.", "I realized that the method used to identify outliers selects many records, the most severe case being the previous column with almost 14% of the selected data.", "I decided to keep records for all categories mostly, as far as I can tell, because the data seems to have been measured correctly and reflects reality.", "To emphasize that the model is not affected by the extension of the number of outliers, we will only guarantee that we will use a standardization technique that does not neglect to detail the distances between the central values.", "From the analysis of the dispersion of the numeric data, it seems to be no outliers. The plotted data of \u2018age\u2019 has a normal behavior, and I assume that the extreme data points in the variable \u2018pdays\u2019 are \u2018out of range\u2019 values, as for the rest, every variable seems to have a balanced body.", "Regarding missing values and other anomalies, I have analyzed the unique values and respective counts of all the numerical variables, and there seem to be no missing values.", "Moving on to the categoric variables, time to check if there are any missing values or other anomalies that need to be dealt with so it can be resumed by transforming these into numerical features through various techniques that will be analyzed case by case, concerning the best trade-off between dimensionality reduction and information gain.", "In this case, \u2018unknown\u2019 is our missing value. The strategy here is to impute the \u2018unknowns\u2019 by the most frequent value, the modal value. Let\u2019s start by converting it into a np.nan and then perform the imputation.", "I\u2019ll also be displaying the results of how many extra columns both One Hot Encoding and Binary Encoding would create under the encoding procedure.", "Binary Encoding to be applied here. Although there is some loss of information in comparison with OHE, it is a better trade-off in terms of dimensionality reduction.", "\u2018Unknown\u2019 is interpreted as a missing value. It is the same situation as with the \u2018job\u2019 variable. The strategy is to impute the missing values by the most frequent value.", "Again, displaying the results of how many extra columns both One Hot Encoding and Binary Encoding would create with the encoding procedure.", "One Hot Encoding to be applied here as it preserves more information in comparison with Binary Encoding.", "We\u2019re looking at the same case where \u2018unknown\u2019 is interpreted as missing values. The strategy adopted is to impute by the most frequent value.", "\u2018Education\u2019\u2019 has 8 classes that obey a specific order meaning it will be encoded considering that same rank. The ascending order is: \u2018Illiterate\u2019, \u2018 basic.4y\u2019, \u2018nasic.6y\u2019, \u2018basic.9y\u2019, \u2018high.school\u2019, \u2018professional.course\u2019, and \u2018university.degree\u2019.", "For this purpose, I will apply a map function. Data mapping is used for replacing a specific set of values in a Series by another set of values that may be derived from a function, a dict or a Series.", "In this case, \u2018unknown\u2019 values are interpreted as missing values. The \u2018yes\u2019 class is meaningless and any imputation of the \u2018unknown\u2019 values could deeply compromise all the results. Therefore, it\u2019s better to remove this variable.", "In this case, \u2018nonexistent\u2019 are interpreted as relevant values. The strategy to follow is to do no transformation to this variable.", "At this stage, after dealing with all the missing values and imputations and transforming all categorical features into numerical ones, let us check for the correlations of the features, identifying and selecting the variables with no predictive power.", "Et voil\u00e0. We are all set to go for the third and last part, definitely the most exciting phase of our project, the modelling part. See you there. Thanks for reading!", "In case you want to review the first part of this project, EDA section, click here.You can find the entire code of this project here.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Portuguese Digital Marketing Analyst. Data-oriented, fully involved, and passionate about Analytics and Data Science. https://www.linkedin.com/in/goncaloggomes"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F6aa5298909b5&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcosts-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcosts-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcosts-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcosts-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----6aa5298909b5--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6aa5298909b5--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://goncaloggomes.medium.com/?source=post_page-----6aa5298909b5--------------------------------", "anchor_text": ""}, {"url": "https://goncaloggomes.medium.com/?source=post_page-----6aa5298909b5--------------------------------", "anchor_text": "Gon\u00e7alo Guimar\u00e3es Gomes"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Faa25b2c403cc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcosts-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5&user=Gon%C3%A7alo+Guimar%C3%A3es+Gomes&userId=aa25b2c403cc&source=post_page-aa25b2c403cc----6aa5298909b5---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6aa5298909b5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcosts-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6aa5298909b5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcosts-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://bit.ly/3lDzknU", "anchor_text": "Exploratory Data Analysis"}, {"url": "https://bit.ly/3lDzknU", "anchor_text": "here"}, {"url": "https://bit.ly/3hmI3YS", "anchor_text": "here"}, {"url": "https://bit.ly/31a0EAL", "anchor_text": "here"}, {"url": "https://unsplash.com/@bradencollum?utm_source=medium&utm_medium=referral", "anchor_text": "Braden Collum"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://upload.wikimedia.org/wikipedia/commons/1/1a/Boxplot_vs_PDF.svg", "anchor_text": "https://upload.wikimedia.org/wikipedia/commons/1/1a/Boxplot_vs_PDF.svg"}, {"url": "https://towardsdatascience.com/machine-learning-costs-prediction-of-a-marketing-campaign-exploratory-data-analysis-part-i-758b8f0ff5d4", "anchor_text": "Machine Learning: costs prediction of a Marketing Campaign (Exploratory Data Analysis \u2014 Part I)A Data Science approach to predict the best candidates to be targeted for a marketing campaigntowardsdatascience.com"}, {"url": "https://towardsdatascience.com/pandas-made-easy-the-guide-i-81834f075893", "anchor_text": "Pandas made easy (the guide \u2014 I)With many examples of some of the most used functions and methodstowardsdatascience.com"}, {"url": "https://bit.ly/3lDzknU", "anchor_text": "click here"}, {"url": "https://bit.ly/3hmI3YS", "anchor_text": "here"}, {"url": "http://bit.ly/2ybRqYT", "anchor_text": "Linkedin"}, {"url": "https://bit.ly/3gAwMTP", "anchor_text": "Twitter"}, {"url": "https://bit.ly/3gDC5Sp", "anchor_text": "Medium"}, {"url": "https://bit.ly/3hHvuHR", "anchor_text": "GitHub"}, {"url": "https://bit.ly/31Co038", "anchor_text": "Kaggle"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----6aa5298909b5---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-cleaning?source=post_page-----6aa5298909b5---------------data_cleaning-----------------", "anchor_text": "Data Cleaning"}, {"url": "https://medium.com/tag/feature-engineering?source=post_page-----6aa5298909b5---------------feature_engineering-----------------", "anchor_text": "Feature Engineering"}, {"url": "https://medium.com/tag/feature-selection?source=post_page-----6aa5298909b5---------------feature_selection-----------------", "anchor_text": "Feature Selection"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6aa5298909b5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcosts-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5&user=Gon%C3%A7alo+Guimar%C3%A3es+Gomes&userId=aa25b2c403cc&source=-----6aa5298909b5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6aa5298909b5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcosts-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5&user=Gon%C3%A7alo+Guimar%C3%A3es+Gomes&userId=aa25b2c403cc&source=-----6aa5298909b5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6aa5298909b5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcosts-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6aa5298909b5--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F6aa5298909b5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcosts-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----6aa5298909b5---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----6aa5298909b5--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----6aa5298909b5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----6aa5298909b5--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----6aa5298909b5--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----6aa5298909b5--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----6aa5298909b5--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----6aa5298909b5--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----6aa5298909b5--------------------------------", "anchor_text": ""}, {"url": "https://goncaloggomes.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://goncaloggomes.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Gon\u00e7alo Guimar\u00e3es Gomes"}, {"url": "https://goncaloggomes.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "201 Followers"}, {"url": "https://www.linkedin.com/in/goncaloggomes", "anchor_text": "https://www.linkedin.com/in/goncaloggomes"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Faa25b2c403cc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcosts-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5&user=Gon%C3%A7alo+Guimar%C3%A3es+Gomes&userId=aa25b2c403cc&source=post_page-aa25b2c403cc--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Feedd5afe0fb6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcosts-prediction-of-a-marketing-campaign-data-cleaning-feature-selection-part-ii-6aa5298909b5&newsletterV3=aa25b2c403cc&newsletterV3Id=eedd5afe0fb6&user=Gon%C3%A7alo+Guimar%C3%A3es+Gomes&userId=aa25b2c403cc&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}