{"url": "https://towardsdatascience.com/power-bi-connects-to-azure-databricks-44bea6731be7", "time": 1683004527.58641, "path": "towardsdatascience.com/power-bi-connects-to-azure-databricks-44bea6731be7/", "webpage": {"metadata": {"title": "Power BI Connects to Azure Databricks | Towards Data Science", "h1": "Power BI Connects to Azure Databricks", "description": "Deriving the Spark URL and creating user token that is used by PowerBI to authenticate into Azure Databricks"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Microsoft PowerBI is becoming more and more popular recently as a Data Analytics tool. Also, It is ubiquitous for a company to have a whole bucket of Microsoft products that include Azure.", "Azure Databricks is one of the most popular services in the Azure platform. It leverages Apache Spark to process data in a distributed environment, which can expedite the performance dramatically. Azure Databricks also support Delta Lake that is an open-sourced storage layer in a distributed environment. It can be used very similarly to most of the traditional database management systems because it supports ACID transactions.", "This article will be demonstrated how to connect to Azure Databricks tables (Delta Lake) from PowerBI using its built-in connector. The tricky part is going to be the \u201cSpark URL\u201d which will be emphasised later on.", "Since the purpose of this tutorial is to introduce the steps of connecting PowerBI to Azure Databricks only, a sample data table will be created for testing purposes. To begin with, let\u2019s create a table with a few columns. A date column can be used as a \u201cfilter\u201d, and another column with integers as the values for each date.", "Let\u2019s firstly create a notebook in Azure Databricks, and I would like to call it \u201cPowerBI_Test\u201d.", "Create a database for testing purposes.", "Then, import necessary libraries, create a Python function to generate a Pandas Dataframe with the columns above-mentioned.", "Now, we can generate the Spark Dataframe from the Pandas Dataframe and save it into Delta Lake.", "Here is the preview of the table:", "To connect to Azure Databricks from PowerBI, we need two important \u201ckeys\u201d, which are the URL and the User Token.", "5. Copy the whole URL to some text editor. This URL CANNOT be directly used, and we need to \u201cderive\u201d the correct URL from it.", "Here is the URL I copied from the \u201cJDBC URL\u201d text field:", "The components we need from this URL is shown in the square brackets:", "We also need to add a protocol at the front, which is HTTPS. So, the final URL will become as follows:", "We need to create a user token for authentication.", "Firstly, find the user icon in the top right corner. Click the icon, and then select \u201cUser Settings\u201d in the dropdown menu.", "In the \u201cUser Setting\u201d page, click the button \u201cGenerate New Token\u201d. In the pop-up window, input the comment field which will be used to remind yourself in the future what is this token used for.", "The \u201cLifetime\u201d will determine after how many days the token will be revoked automatically. Please be noted that if the token lifespan is unspecified, the token will live indefinitely.", "After clicked the \u201cGenerate\u201d button, a token will be generated.", "**IMPORTANT** You will not be able to retrieve the token once you have clicked the \u201cDone\u201d button. So, please make sure you copy the token and save it to a secured place now.", "Now, we can get data from Databricks in PowerBI.", "In PowerBI, click \u201cGet Data\u201d > search \u201cSpark\u201d > Select \u201cSpark\u201d in the list > click \u201cConnect\u201d button.", "Then, select \u201cHTTP\u201d for the protocol. For the \u201cData Connectivity mode\u201d, we choose \u201cDirectQuery\u201d. This is because we are very likely to deal with a large dataset when we need Azure Databricks in practice, so importing all the data into PowerBI will not be a good idea in that scenario.", "After clicking the \u201cOK\u201d button, we will be able to see all the tables in the current Azure Databricks Cluster. If there are many tables in the cluster, we can search the table in the navigator. Then, click the \u201cLoad\u201d button to add the table as a data source. Of course, you can import multiple tables at one time in practice.", "Now, we can create visualisations from Delta Lake.", "This article has demonstrated how to connect to Azure Databricks from Microsoft PowerBI. The most critical steps are getting the Spark URL and User Token from Azure Databricks.", "Hopefully, this article can help Data Scientists/Engineers to create visualisations from Azure Databricks directly.", "If you feel my articles are helpful, please consider joining Medium Membership to support me and thousands of other writers! (Click the link above)", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F44bea6731be7&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpower-bi-connects-to-azure-databricks-44bea6731be7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpower-bi-connects-to-azure-databricks-44bea6731be7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpower-bi-connects-to-azure-databricks-44bea6731be7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpower-bi-connects-to-azure-databricks-44bea6731be7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----44bea6731be7--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----44bea6731be7--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://qiuyujx.medium.com/?source=post_page-----44bea6731be7--------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=post_page-----44bea6731be7--------------------------------", "anchor_text": "Christopher Tao"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb8176fabf308&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpower-bi-connects-to-azure-databricks-44bea6731be7&user=Christopher+Tao&userId=b8176fabf308&source=post_page-b8176fabf308----44bea6731be7---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F44bea6731be7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpower-bi-connects-to-azure-databricks-44bea6731be7&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F44bea6731be7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpower-bi-connects-to-azure-databricks-44bea6731be7&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@kmuza?utm_source=medium&utm_medium=referral", "anchor_text": "Carlos Muza"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://delta.io", "anchor_text": "https://delta.io"}, {"url": "https://unsplash.com/@mbaumi?utm_source=medium&utm_medium=referral", "anchor_text": "Mika Baumeister"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://unsplash.com/@shs521?utm_source=medium&utm_medium=referral", "anchor_text": "Susan Holt Simpson"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://australiasoutheast.azuredatabricks.net:443/sql/protocolv1/o/***************/****-******-*******", "anchor_text": "https://australiasoutheast.azuredatabricks.net:443/sql/protocolv1/o/***************/****-******-*******"}, {"url": "https://unsplash.com/@isaacmsmith?utm_source=medium&utm_medium=referral", "anchor_text": "Isaac Smith"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://australiasoutheast.azuredatabricks.net:443/sql/protocolv1/o/***************/****-******-*******", "anchor_text": "https://australiasoutheast.azuredatabricks.net:443/sql/protocolv1/o/***************/****-******-*******"}, {"url": "https://unsplash.com/@aaronburden?utm_source=medium&utm_medium=referral", "anchor_text": "Aaron Burden"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://medium.com/@qiuyujx/membership", "anchor_text": "Join Medium with my referral link \u2014 Christopher TaoAs a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026medium.com"}, {"url": "https://medium.com/tag/databricks?source=post_page-----44bea6731be7---------------databricks-----------------", "anchor_text": "Databricks"}, {"url": "https://medium.com/tag/azure-databricks?source=post_page-----44bea6731be7---------------azure_databricks-----------------", "anchor_text": "Azure Databricks"}, {"url": "https://medium.com/tag/power-bi?source=post_page-----44bea6731be7---------------power_bi-----------------", "anchor_text": "Power Bi"}, {"url": "https://medium.com/tag/data-visualisation?source=post_page-----44bea6731be7---------------data_visualisation-----------------", "anchor_text": "Data Visualisation"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----44bea6731be7---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F44bea6731be7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpower-bi-connects-to-azure-databricks-44bea6731be7&user=Christopher+Tao&userId=b8176fabf308&source=-----44bea6731be7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F44bea6731be7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpower-bi-connects-to-azure-databricks-44bea6731be7&user=Christopher+Tao&userId=b8176fabf308&source=-----44bea6731be7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F44bea6731be7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpower-bi-connects-to-azure-databricks-44bea6731be7&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----44bea6731be7--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F44bea6731be7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpower-bi-connects-to-azure-databricks-44bea6731be7&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----44bea6731be7---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----44bea6731be7--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----44bea6731be7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----44bea6731be7--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----44bea6731be7--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----44bea6731be7--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----44bea6731be7--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----44bea6731be7--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----44bea6731be7--------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://qiuyujx.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Christopher Tao"}, {"url": "https://qiuyujx.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "8.7K Followers"}, {"url": "https://www.linkedin.com/in/christopher-tao-5717a274/", "anchor_text": "https://www.linkedin.com/in/christopher-tao-5717a274/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb8176fabf308&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpower-bi-connects-to-azure-databricks-44bea6731be7&user=Christopher+Tao&userId=b8176fabf308&source=post_page-b8176fabf308--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F1d2af94a683f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpower-bi-connects-to-azure-databricks-44bea6731be7&newsletterV3=b8176fabf308&newsletterV3Id=1d2af94a683f&user=Christopher+Tao&userId=b8176fabf308&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}