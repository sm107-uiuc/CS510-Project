{"url": "https://towardsdatascience.com/minimizing-overlapping-labels-in-interactive-visualizations-b0eabd62ef0", "time": 1683011456.9119182, "path": "towardsdatascience.com/minimizing-overlapping-labels-in-interactive-visualizations-b0eabd62ef0/", "webpage": {"metadata": {"title": "Minimizing Overlapping Labels in Interactive Visualizations | by Wade Fagen-Ulmschneider | Towards Data Science", "h1": "Minimizing Overlapping Labels in Interactive Visualizations", "description": "One of the most challenging areas of user-controlled and real-time data visualization is label placement. In many of my visualizations, I attempt to design visualizations where labels cannot possibly\u2026"}, "outgoing_paragraph_urls": [{"url": "http://Visualization of New COVID-19 Cases /Day of every state in the United States, with \"render or wiggle\" label placement.", "anchor_text": "91-DIVOC visualization of the COVID-19 pandemic", "paragraph_index": 1}, {"url": "https://github.com/CSSEGISandData/COVID-19", "anchor_text": "Johns Hopkins University", "paragraph_index": 1}, {"url": "https://github.com/d3/d3-force", "anchor_text": "d3.js\u2019s \u201cforce\u201d component", "paragraph_index": 4}, {"url": "https://91-divoc.com/pages/covid-visualization/", "anchor_text": "91-DIVOC #01: \u201cAn interactive visualization of the exponential spread of COVID-19\u201d", "paragraph_index": 11}], "all_paragraphs": ["One of the most challenging areas of user-controlled and real-time data visualization is label placement. In many of my visualizations, I attempt to design visualizations where labels cannot possibly overlap \u2014 avoiding this challenging problem all together \u2014 but in my most recent visualization this was not an option.", "My 91-DIVOC visualization of the COVID-19 pandemic allows users to view the most recent coronavirus data from Johns Hopkins University through an interactive visualization that was built using the d3.js library. As the visualization was using data that is updated multiple times a day, combined with the ability for the user to explore the data and create over a billion distinct visualizations, everything had to be rendered programmatically.", "There are multiple constraints, constraints common for many line-graph visualizations, that combine to making readable labels challenging:", "Without using any label placement, the visualization of the new COVID-19 cases by day with several states highlighted shows multiple unreadable highlighted labels and many more unreadable non-highlighted labels.", "A common approach to solve label placement is to use d3.js\u2019s \u201cforce\u201d component, which implements a force-directed graph. A force-directed graph is a physics-based simulation where all elements have an \u201cattraction\u201d or \u201crepulsion\u201d force relative to other elements. In the case of label placement algorithms, every element is given a slight repulsion force from other elements resulting in the simulation pushing elements away from each other when possible to create readable labels. The result, when the simulation reaches a stable final state, is quite good and it is a sold approach.", "Unfortunately, force-directed graphs are slow. The running time of a force-directed graph grows cubic to the input, O(n\u00b3), and areas dense with elements required a large amount of computing power before converging. In early experiments with a force-directed graph label placement algorithm, more time was spent running the force-directed graph than was spent processing and rendering the entire rest of the visualization. It was time for a new solution.", "With the frustrating slow force-directed graph failing, it was critical the running time of any solution was minimal. To conserve as much processing time as possible, every single label\u2019s placement came down to a single decision to \u201crender or nudge\u201d:", "The process of \u201cnudging\u201d the label attempts to place it the label up to the label\u2019s height above or below the intended location. If no suitable location was found, the label is rendered in its original position creating overlapping labels. (Nudging the label further away from the intended location often causes a visual discontinuity between the data and the data label.)", "With labels considered only once, this algorithm runs in linear-time, O(n), and would be described as a \u201cgreedy algorithm\u201d for label placement.", "After implementing this algorithm, the results were stunning for the speed of the algorithm. Below, you can see that both highlighted labels of are all readable and many more of 40+ non-highlighted labels are also readable.", "When considering label placement in a data visualization, think about computationally inexpensive solutions that do not require global positioning. Although this solution does not ensure that every label does not overlap, it vastly improves naive label placement and greatly improves readability of the any visualization with dozens or hundreds of labels.", "(You can check out the visualization, with this label placement algorithm, on my visualization 91-DIVOC #01: \u201cAn interactive visualization of the exponential spread of COVID-19\u201d)", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Teaching Associate Professor of Computer Science at The University of Illinois (\ud83e\udde1\ud83d\udc99); loves data and creating interactive data-forward visualizations."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb0eabd62ef0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fminimizing-overlapping-labels-in-interactive-visualizations-b0eabd62ef0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fminimizing-overlapping-labels-in-interactive-visualizations-b0eabd62ef0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fminimizing-overlapping-labels-in-interactive-visualizations-b0eabd62ef0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fminimizing-overlapping-labels-in-interactive-visualizations-b0eabd62ef0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b0eabd62ef0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b0eabd62ef0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@wadefagen?source=post_page-----b0eabd62ef0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@wadefagen?source=post_page-----b0eabd62ef0--------------------------------", "anchor_text": "Wade Fagen-Ulmschneider"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2d38f96042ed&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fminimizing-overlapping-labels-in-interactive-visualizations-b0eabd62ef0&user=Wade+Fagen-Ulmschneider&userId=2d38f96042ed&source=post_page-2d38f96042ed----b0eabd62ef0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb0eabd62ef0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fminimizing-overlapping-labels-in-interactive-visualizations-b0eabd62ef0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb0eabd62ef0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fminimizing-overlapping-labels-in-interactive-visualizations-b0eabd62ef0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "http://Visualization of New COVID-19 Cases /Day of every state in the United States, with \"render or wiggle\" label placement.", "anchor_text": "91-DIVOC visualization of the COVID-19 pandemic"}, {"url": "https://github.com/CSSEGISandData/COVID-19", "anchor_text": "Johns Hopkins University"}, {"url": "https://github.com/d3/d3-force", "anchor_text": "d3.js\u2019s \u201cforce\u201d component"}, {"url": "https://91-divoc.com/pages/covid-visualization/", "anchor_text": "91-DIVOC #01: \u201cAn interactive visualization of the exponential spread of COVID-19\u201d"}, {"url": "https://medium.com/tag/visualization?source=post_page-----b0eabd62ef0---------------visualization-----------------", "anchor_text": "Visualization"}, {"url": "https://medium.com/tag/d3js?source=post_page-----b0eabd62ef0---------------d3js-----------------", "anchor_text": "D3js"}, {"url": "https://medium.com/tag/covid-19?source=post_page-----b0eabd62ef0---------------covid_19-----------------", "anchor_text": "Covid-19"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----b0eabd62ef0---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/editors-pick?source=post_page-----b0eabd62ef0---------------editors_pick-----------------", "anchor_text": "Editors Pick"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb0eabd62ef0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fminimizing-overlapping-labels-in-interactive-visualizations-b0eabd62ef0&user=Wade+Fagen-Ulmschneider&userId=2d38f96042ed&source=-----b0eabd62ef0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb0eabd62ef0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fminimizing-overlapping-labels-in-interactive-visualizations-b0eabd62ef0&user=Wade+Fagen-Ulmschneider&userId=2d38f96042ed&source=-----b0eabd62ef0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb0eabd62ef0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fminimizing-overlapping-labels-in-interactive-visualizations-b0eabd62ef0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b0eabd62ef0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb0eabd62ef0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fminimizing-overlapping-labels-in-interactive-visualizations-b0eabd62ef0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b0eabd62ef0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b0eabd62ef0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b0eabd62ef0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b0eabd62ef0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b0eabd62ef0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b0eabd62ef0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b0eabd62ef0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b0eabd62ef0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b0eabd62ef0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@wadefagen?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@wadefagen?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Wade Fagen-Ulmschneider"}, {"url": "https://medium.com/@wadefagen/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "11 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2d38f96042ed&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fminimizing-overlapping-labels-in-interactive-visualizations-b0eabd62ef0&user=Wade+Fagen-Ulmschneider&userId=2d38f96042ed&source=post_page-2d38f96042ed--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F2d38f96042ed%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fminimizing-overlapping-labels-in-interactive-visualizations-b0eabd62ef0&user=Wade+Fagen-Ulmschneider&userId=2d38f96042ed&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}