{"url": "https://towardsdatascience.com/speed-up-your-python-code-with-cython-8879105f2b6f", "time": 1682996959.209811, "path": "towardsdatascience.com/speed-up-your-python-code-with-cython-8879105f2b6f/", "webpage": {"metadata": {"title": "Speed Up Your Python Code with Cython | by Lukas Frei | Towards Data Science", "h1": "Speed Up Your Python Code with Cython", "description": "If you have ever coded in Python, you have probably spent more time waiting for certain code blocks to execute than you would like. While there are ways to make your code more efficient, it will most\u2026"}, "outgoing_paragraph_urls": [{"url": "https://developer.apple.com/", "anchor_text": "download Xcode", "paragraph_index": 2}, {"url": "https://github.com/cython/cython/wiki/InstallingOnWindows", "anchor_text": "here", "paragraph_index": 2}, {"url": "http://docs.cython.org/en/latest/index.html", "anchor_text": "here", "paragraph_index": 17}, {"url": "http://www.anp.ai", "anchor_text": "www.anp.ai", "paragraph_index": 20}], "all_paragraphs": ["If you have ever coded in Python, you have probably spent more time waiting for certain code blocks to execute than you would like. While there are ways to make your code more efficient, it will most likely still be slower than C code, for instance. This boils down mainly to the fact that Python is a dynamic programming language and moves many things to runtime that C takes care of during compilation.", "Nevertheless, if you, like me, enjoy coding in Python and still want to speed up your code you could consider using Cython. While Cython itself is a separate programming language, it is very easy to incorporate into your e.g. Jupyter Notebook workflow. Upon execution, Cython translates your Python code to C, often times significantly speeding it up.", "In order to be able to use Cython you are going to need a C compiler. Thus, the installation process differs based on your current OS. For Linux, the GNU C Compiler (gncc) is usually present. For Mac OS, you can download Xcode to get the gncc. If you should be using Windows, the installation process is a little more complex. More info here on Cython\u2019s GitHub.", "Once you have got your C compiler, all you need to run in your terminal is:", "The easiest way to demonstrate Cython\u2019s capabilities is through Jupyter Notebooks. To use Cython in our notebook, we are going to use IPython magic commands. Magic commands start with a percent sign and provide some additional features that are supposed to enhance your workflow. Generally, there are two types of magic commands:", "First, in order to be able to use Cython, we have to run:", "Now, whenever we want to run Cython in a code cell, we have to first put the following magic command into the cell:", "Once you have done that, you are good to go and able to start coding in Cython.", "How much faster Cython is compared to regular Python code really depends on the code itself. For instance, should you be running computationally expensive loops with many variables, Cython will vastly outperform regular Python code. Recursive functions will also tend to make Cython a lot faster than Python.", "Let\u2019s demonstrate this with the Fibonacci sequence. This algorithm, to put it simply, finds the next number by adding up the previous two. Here is what that might look like in Python:", "As you can see, finding the 39th number in the sequence took 13.3 seconds to compute. Wall time here refers to the total time elapsed from start to finish of the call to the function.", "Let\u2019s define the same function in Cython.", "What\u2019s going on here? As you can see, we are using some cell magic up top that allows us to use Cython in this cell. I am going to explain what the \u2018-a\u2019 option does shortly. Then, we basically take the same code as we did above except for the fact that now we have the ability to make use of static type declarations and define n to be of type integer.", "As you can see, by adding \u2018-a\u2019 after the magic command, we received annotations that show us how much Python interaction there is in your code. The goal here would be to get rid of all yellow lines and have them have a white background instead. In that case, there would be no Python interaction and all code would run in C. You can also click on the \u2018+\u2019 sign next to each line to see the C translation of your Python code.", "How much faster is that code? Let\u2019s find out:", "In this case, Cython is around 6.75 times faster than Python. This clearly demonstrates the time-saving capabilities of utilizing Cython where it provides the most improvement over regular Python code.", "In case you already know C, Cython also allows for the access of C code that the makers\u2019 of Cython have not yet added a ready-to-use declaration for. Using the following code, for instance, you could generate a Python wrapper for a C function and add it to the module dict.", "Cython proves many additional capabilities, such as parallelism, which are all very neatly described in its documentation that you can find here.", "If you should, at times, run into the issue of having to wait for too long for your Python code to execute, Cython provides a really neatly integrated and efficient way to speed up your code. On top, it offers many capabilities to further optimize your code should you be a little more familiar with C. I would definitely recommend to thoroughly check out the documentation. If you should have any suggestions or remarks, feel free to reach out to me.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "CEO and Co-Founder at Anpai. Visit us at www.anp.ai"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8879105f2b6f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspeed-up-your-python-code-with-cython-8879105f2b6f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspeed-up-your-python-code-with-cython-8879105f2b6f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspeed-up-your-python-code-with-cython-8879105f2b6f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspeed-up-your-python-code-with-cython-8879105f2b6f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8879105f2b6f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8879105f2b6f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@lukaskfrei?source=post_page-----8879105f2b6f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lukaskfrei?source=post_page-----8879105f2b6f--------------------------------", "anchor_text": "Lukas Frei"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5164378fc848&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspeed-up-your-python-code-with-cython-8879105f2b6f&user=Lukas+Frei&userId=5164378fc848&source=post_page-5164378fc848----8879105f2b6f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8879105f2b6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspeed-up-your-python-code-with-cython-8879105f2b6f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8879105f2b6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspeed-up-your-python-code-with-cython-8879105f2b6f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/photos/fxAo3DiMICI", "anchor_text": "Unsplash"}, {"url": "https://developer.apple.com/", "anchor_text": "download Xcode"}, {"url": "https://github.com/cython/cython/wiki/InstallingOnWindows", "anchor_text": "here"}, {"url": "http://docs.cython.org/en/latest/index.html", "anchor_text": "here"}, {"url": "https://medium.com/tag/python?source=post_page-----8879105f2b6f---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----8879105f2b6f---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/data-science?source=post_page-----8879105f2b6f---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----8879105f2b6f---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/software-development?source=post_page-----8879105f2b6f---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8879105f2b6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspeed-up-your-python-code-with-cython-8879105f2b6f&user=Lukas+Frei&userId=5164378fc848&source=-----8879105f2b6f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8879105f2b6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspeed-up-your-python-code-with-cython-8879105f2b6f&user=Lukas+Frei&userId=5164378fc848&source=-----8879105f2b6f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8879105f2b6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspeed-up-your-python-code-with-cython-8879105f2b6f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8879105f2b6f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8879105f2b6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspeed-up-your-python-code-with-cython-8879105f2b6f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8879105f2b6f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8879105f2b6f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8879105f2b6f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8879105f2b6f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8879105f2b6f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8879105f2b6f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8879105f2b6f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8879105f2b6f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8879105f2b6f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lukaskfrei?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lukaskfrei?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Lukas Frei"}, {"url": "https://medium.com/@lukaskfrei/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.8K Followers"}, {"url": "http://www.anp.ai", "anchor_text": "www.anp.ai"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5164378fc848&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspeed-up-your-python-code-with-cython-8879105f2b6f&user=Lukas+Frei&userId=5164378fc848&source=post_page-5164378fc848--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa6ce63f711f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspeed-up-your-python-code-with-cython-8879105f2b6f&newsletterV3=5164378fc848&newsletterV3Id=a6ce63f711f1&user=Lukas+Frei&userId=5164378fc848&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}