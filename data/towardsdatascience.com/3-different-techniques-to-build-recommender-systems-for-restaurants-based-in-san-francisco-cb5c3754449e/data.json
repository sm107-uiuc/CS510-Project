{"url": "https://towardsdatascience.com/3-different-techniques-to-build-recommender-systems-for-restaurants-based-in-san-francisco-cb5c3754449e", "time": 1683006880.5280378, "path": "towardsdatascience.com/3-different-techniques-to-build-recommender-systems-for-restaurants-based-in-san-francisco-cb5c3754449e/", "webpage": {"metadata": {"title": "3 Different Ways of Building Recommender Systems | Towards Data Science", "h1": "3 Different Techniques to build Recommender Systems for Restaurants based in San Francisco", "description": "Building Recommender Systems for Restaurants using Yelp API"}, "outgoing_paragraph_urls": [{"url": "https://www.yelp.com/developers", "anchor_text": "developer account", "paragraph_index": 1}, {"url": "https://www.yelp.com/developers/documentation/v3/get_started", "anchor_text": "documentation", "paragraph_index": 2}, {"url": "https://www.yelp.com/developers/documentation/v3/business_reviews", "anchor_text": "reviews endpoint", "paragraph_index": 8}, {"url": "https://en.wikipedia.org/wiki/Singular_value_decomposition", "anchor_text": "here", "paragraph_index": 33}], "all_paragraphs": ["Living in a metropolitan area like San Francisco, there are so many amazing restaurants in the city. In this article, I will build a few recommender systems that will recommend similar restaurants in San Francisco.", "The data collected is from the Yelp API. Yelp provides an API that allows users to query businesses. In order for you to pull the data from Yelp, you have to set up a developer account and create an application. Yelp will generate a Client ID and the API Key for you and these credentials will be your authentication token for you to query the data.", "This documentation will provide you the endpoints on how to query the data. Take a look at them.", "For this case, we are interested in businesses that are restaurants and location based in San Francisco. This will be the endpoint that will be relevant to my query:", "With the URL, we are able to query the data", "auth_token will be the API key provided to you when you create an application.", "By running the command above, you will be able to gather the businesses from the API. Bearing in mind that the string above is filtered to restaurants in San Francisco, this is the result that will be returned. Now you have the data of the restaurants in San Francisco.", "Here is a result of what is being returned.", "Besides getting the restaurants data, we will also like to gather reviews of the particular restaurant. We can query the data by looking at the reviews endpoint and doing a similar query.", "Now we have both the restaurants\u2019 and reviews\u2019 data. We are going to save into a csv file so that we do not need to query the Yelp API again.", "The next step in the process is to understand the data and analyzing the data. Based on the previous step, I stored the data in a csv file.", "I saved the data into a data folder called restaurants.csv .", "Here is a screenshot of the restaurants table and certain columns are represented in an array or hash format. This is not an ideal format for modeling and we have to convert the data to a numerical format. Similarly, the reviews table do have the users as a hash format and we will like to parse it so that each column represents a value instead of a hash.", "In order for us to do our modeling, we need to prepare and modify the data in the right format. This includes one hot encoding and breaking the hash into single values for each column.", "Looking at the restaurants table, we have categories, coordinates and location in a hash format. We have to convert them into single value columns.", "The code above will convert the hash into separate DataFrames with specific values.", "With these dataframes created, we can perform a one hot encoding by performing a get_dummies method on the dataframe.", "Once they have been converted to one-hot encoding, we can concat the dataframes and drop the irrelevant columns (For modeling purpose, we need the columns to be in a numerical format so columns with strings can be dropped).", "In this snippet, I concat the original dataframe with the other dataframes that were created. I dropped the columns that are not needed. In the end result, I am left with columns with numerical values.", "In this article, I will build out 3 different recommender systems using different techniques.", "For this recommender system, we are looking at recommending restaurants that have similar characteristics, i.e. cuisines, location, price, transactions.", "Using these factors, we created a matrix based on the above using cosine similarity to recommend restaurants. Cosine Similarity is a measure of similarity based on the vectors.", "In this technique, we will be using text to recommend restaurants. The text will be from user\u2019s reviews and similar restaurants that have similar text will be recommended.", "We will be looking at the reviews table that has been generated by the reviews endpoint. It has reviews of users of different restaurants, with description of the reviews included.", "First, we have to combine all texts from the same restaurants into a single row. For example, review A, B & C may belong to restaurant A. We will combine these reviews together so that they represent the same reviews for a single restaurant.", "In this step, we perform cleaning on the text, e.g. removing stop words and punctuation.", "cleaned_text represents text that has stop words and punctuation removed.", "A matrix is created using a CountVectorizer and cosine similarity is performed.", "In this technique, we will require a user-item filtering. The last 2 techniques have been item-item filtering.", "With the reviews table, we have the restaurant slug name, user name and ratings. We can create a new matrix, having just these columns so that it will become a user-item matrix.", "Screenshot of how it will look like", "We can create a pivot table based on this by running", "Since most of the values will be null (not all users review all restaurants), I have filled up these values with 0.", "Looking at the table, we do have many rows (restaurants) and columns (users) in this matrix. In order to reduce the number of columns, we use Singular Value Decomposition (SVD) to reduce the number of users to an x number of columns (factors). To read more about SVD, click here.", "A correlation matrix can be generated", "Once the correlation matrix is generated, we are able to recommend restaurants based on the index.", "If you would like to see how I generate the restaurants with the different recommender techniques, please take a look at the repository!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fcb5c3754449e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-different-techniques-to-build-recommender-systems-for-restaurants-based-in-san-francisco-cb5c3754449e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-different-techniques-to-build-recommender-systems-for-restaurants-based-in-san-francisco-cb5c3754449e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-different-techniques-to-build-recommender-systems-for-restaurants-based-in-san-francisco-cb5c3754449e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-different-techniques-to-build-recommender-systems-for-restaurants-based-in-san-francisco-cb5c3754449e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----cb5c3754449e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cb5c3754449e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@yueweng.mak?source=post_page-----cb5c3754449e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@yueweng.mak?source=post_page-----cb5c3754449e--------------------------------", "anchor_text": "Yue Weng Mak"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F37344f01892b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-different-techniques-to-build-recommender-systems-for-restaurants-based-in-san-francisco-cb5c3754449e&user=Yue+Weng+Mak&userId=37344f01892b&source=post_page-37344f01892b----cb5c3754449e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcb5c3754449e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-different-techniques-to-build-recommender-systems-for-restaurants-based-in-san-francisco-cb5c3754449e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcb5c3754449e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-different-techniques-to-build-recommender-systems-for-restaurants-based-in-san-francisco-cb5c3754449e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@claybanks?utm_source=medium&utm_medium=referral", "anchor_text": "Clay Banks"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.yelp.com/developers", "anchor_text": "developer account"}, {"url": "https://www.yelp.com/developers/documentation/v3/get_started", "anchor_text": "documentation"}, {"url": "https://api.yelp.com/v3/businesses/search?term=restaurants&location='San", "anchor_text": "https://api.yelp.com/v3/businesses/search?term=restaurants&location='San"}, {"url": "https://api.yelp.com/v3/businesses/search?term=restaurants&location='San", "anchor_text": "https://api.yelp.com/v3/businesses/search?term=restaurants&location='San"}, {"url": "https://www.yelp.com/developers/documentation/v3/business_reviews", "anchor_text": "reviews endpoint"}, {"url": "https://unsplash.com/@solitsocial?utm_source=medium&utm_medium=referral", "anchor_text": "Russ Widger"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://unsplash.com/@campaign_creators?utm_source=medium&utm_medium=referral", "anchor_text": "Campaign Creators"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://unsplash.com/@voodushevlyonniy?utm_source=medium&utm_medium=referral", "anchor_text": "Valeriy Andrushko"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://en.wikipedia.org/wiki/Singular_value_decomposition", "anchor_text": "here"}, {"url": "https://github.com/yueweng/yelp_recommender_restaurants", "anchor_text": "yueweng/yelp_recommender_restaurantsYelp provides an API where I can query the businesses. In this project, I am focusing on getting the restaurants and so\u2026github.com"}, {"url": "https://medium.com/tag/python?source=post_page-----cb5c3754449e---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/recommender-systems?source=post_page-----cb5c3754449e---------------recommender_systems-----------------", "anchor_text": "Recommender Systems"}, {"url": "https://medium.com/tag/cosine-similarity?source=post_page-----cb5c3754449e---------------cosine_similarity-----------------", "anchor_text": "Cosine Similarity"}, {"url": "https://medium.com/tag/restaurant?source=post_page-----cb5c3754449e---------------restaurant-----------------", "anchor_text": "Restaurant"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcb5c3754449e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-different-techniques-to-build-recommender-systems-for-restaurants-based-in-san-francisco-cb5c3754449e&user=Yue+Weng+Mak&userId=37344f01892b&source=-----cb5c3754449e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcb5c3754449e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-different-techniques-to-build-recommender-systems-for-restaurants-based-in-san-francisco-cb5c3754449e&user=Yue+Weng+Mak&userId=37344f01892b&source=-----cb5c3754449e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcb5c3754449e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-different-techniques-to-build-recommender-systems-for-restaurants-based-in-san-francisco-cb5c3754449e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cb5c3754449e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fcb5c3754449e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-different-techniques-to-build-recommender-systems-for-restaurants-based-in-san-francisco-cb5c3754449e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----cb5c3754449e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----cb5c3754449e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----cb5c3754449e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----cb5c3754449e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----cb5c3754449e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----cb5c3754449e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----cb5c3754449e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----cb5c3754449e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----cb5c3754449e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@yueweng.mak?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@yueweng.mak?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Yue Weng Mak"}, {"url": "https://medium.com/@yueweng.mak/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "47 Followers"}, {"url": "https://www.linkedin.com/in/yue-weng-mak/", "anchor_text": "https://www.linkedin.com/in/yue-weng-mak/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F37344f01892b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-different-techniques-to-build-recommender-systems-for-restaurants-based-in-san-francisco-cb5c3754449e&user=Yue+Weng+Mak&userId=37344f01892b&source=post_page-37344f01892b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fc93921edd555&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F3-different-techniques-to-build-recommender-systems-for-restaurants-based-in-san-francisco-cb5c3754449e&newsletterV3=37344f01892b&newsletterV3Id=c93921edd555&user=Yue+Weng+Mak&userId=37344f01892b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}