{"url": "https://towardsdatascience.com/ranking-categories-with-power-bi-846fbe88ced0", "time": 1683012630.012417, "path": "towardsdatascience.com/ranking-categories-with-power-bi-846fbe88ced0/", "webpage": {"metadata": {"title": "Ranking Categories with Power BI. How to visualize the top n categories\u2026 | by Thiago Carvalho | Towards Data Science", "h1": "Ranking Categories with Power BI", "description": "I recently started working with Power BI more constantly, and I\u2019ve been learning a bunch of things with the tool. I thought coming from a more code-oriented perspective would make it easier for me to\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/jeffreybraun/chipotle-locations", "anchor_text": "Chipotle Locations Dataset", "paragraph_index": 7}, {"url": "https://community.powerbi.com/t5/Desktop/Top-N-and-others-at-the-same-time/td-p/493040", "anchor_text": "Power BI community", "paragraph_index": 31}, {"url": "https://community.powerbi.com/t5/user/viewprofilepage/user-id/31", "anchor_text": "TomMartens", "paragraph_index": 31}], "all_paragraphs": ["I recently started working with Power BI more constantly, and I\u2019ve been learning a bunch of things with the tool.", "I thought coming from a more code-oriented perspective would make it easier for me to tackle tools such as Power BI, but change is often uncomfortable anyways.", "If you\u2019re used to a business-oriented solution, it\u2019ll be a pain learning how to code and having to be responsible for almost every aspect of your visualization. And if you\u2019re coming from code, you\u2019ll have to get used to the limitations of your new tool, having to adapt the original idea, and creating workarounds.", "In this article, I\u2019ll share one of my recent challenges and the solutions I found for representing grouped and ranked data.", "If you\u2019re new to Power BI, I hope you\u2019ll learn something with me, and if you\u2019re a pro with the tool, maybe you can get some laughs at my mistakes and give me some pointers for my next projects.", "The initial task sounded quite straightforward. The customer wants to see the count by category.", "The catch is, they have too many categories, and they only want to see an n amount of classes, with all the other values grouped in a single category.", "For this example, I\u2019ll use Chipotle Locations Dataset from Kaggle. Since it has similar fields to the dataset I worked on, I think I\u2019ll be able to use it to illustrate the problem I was facing.", "The first thing I did after loading the dataset, was getting a count, I\u2019ll use location as the category we want to visualize.", "With my field and measure, I got something like the bellow.", "So, way too many categories with lots of them having a single appearance in our dataset.", "Next, I added a measure for ranking the values.", "Then I added the new measure to the chart as a tooltip and was able to control how many categories would be displayed with a filter.", "Great, we got to visualize the ranked values and select the top n categories we want in our viz.", "All that\u2019s left to do is figure out a way to group everything that\u2019s out of this list and display it as another bar.", "Once we have the calculation for the rank, we can add a condition.", "So I created the following measure, the idea was if the rank is lower than n, it should return its respective name, else it should bring the title \u201cOther Categories.\u201d", "We can\u2019t use measures as an axis for bar charts \u2014 So, yeah \u2014 That was a waste.", "What if we used a calculated column instead of a measure?", "That was my next try. I created a dimension to hold distinct values for the location and applied the same calculations as before.", "It worked, we can use this at a bar chart.", "I had to add more filters to my visualization; let\u2019s see what happens when we pick out some states to test it.", "It doesn\u2019t work. If we remove a state with the filter, the top locations in that state will disappear and not be replaced.", "What is happening here is that the calculation is not dynamic anymore, since we calculated the ranks directly as a column, the results are static to the full list.", "Ok, we need to rethink the solution.", "Let\u2019s try tweaking the location dimension, this time, we\u2019ll build a table holding not only the distinct values for location but also a row for \u201cother categories.\u201d", "Now let\u2019s create a parameter, so we\u2019re able to select the number of categories displayed dynamically.", "The measure for our parameter should be like that.", "Finally, we\u2019ll create a measure for ranking and grouping our categories.", "Ok, that piece of magic up there is what will bring our chart to life.", "The idea is to have an \u201cunrelated\u201d table, and it will use the values from the main table to populate itself and to calculate its measures. But there\u2019s no actual relationship created within the other tables.", "I\u2019ve found and adapted that solution from Power BI community, shoutout to TomMartens for figuring it out.", "Now let\u2019s see how it looks in our chart.", "We\u2019ll use the \u2018unrelated location\u2019 as the axis, \u2018topn_values\u2019 as our values, and then we can create a slicer for the parameter we just built.", "Now we can change the title, the x and y labels, give a distinct color for the \u201cOthers,\u201d and fix all the details of our plot.", "Pretty cool, problems that might be easy to solve in some tools can be quite challenging in others.", "Of course, there are many solutions to that problem, and this is just one of them.", "In the end, it\u2019ll depend on how you are bringing the data, how your models are designed, how much you can transform it and where you are more comfortable doing so.", "A different solution a friend sent me also starts by creating a table with all the categories and a row for others.", "The difference in this method is that a relationship is created.", "We also need a measure for ranking, like so.", "And a measure for calculating top categories and the others.", "Even though it can be a lot of work, grouping categories allow us to use many visualizations that earlier would have too much noise and its worth the trouble in many cases.", "Thanks for reading my article. I hope you enjoyed it.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F846fbe88ced0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Franking-categories-with-power-bi-846fbe88ced0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Franking-categories-with-power-bi-846fbe88ced0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Franking-categories-with-power-bi-846fbe88ced0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Franking-categories-with-power-bi-846fbe88ced0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----846fbe88ced0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----846fbe88ced0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=post_page-----846fbe88ced0--------------------------------", "anchor_text": ""}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=post_page-----846fbe88ced0--------------------------------", "anchor_text": "Thiago Carvalho"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7af498f86142&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Franking-categories-with-power-bi-846fbe88ced0&user=Thiago+Carvalho&userId=7af498f86142&source=post_page-7af498f86142----846fbe88ced0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F846fbe88ced0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Franking-categories-with-power-bi-846fbe88ced0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F846fbe88ced0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Franking-categories-with-power-bi-846fbe88ced0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/illustrations/brain-heart-balance-emotion-3017071/", "anchor_text": "Illustration"}, {"url": "https://pixabay.com/users/DamianNiolet-7379422/", "anchor_text": "DamianNiolet"}, {"url": "https://www.kaggle.com/jeffreybraun/chipotle-locations", "anchor_text": "Chipotle Locations Dataset"}, {"url": "https://community.powerbi.com/t5/Desktop/Top-N-and-others-at-the-same-time/td-p/493040", "anchor_text": "Power BI community"}, {"url": "https://community.powerbi.com/t5/user/viewprofilepage/user-id/31", "anchor_text": "TomMartens"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----846fbe88ced0---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/power-bi?source=post_page-----846fbe88ced0---------------power_bi-----------------", "anchor_text": "Power Bi"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----846fbe88ced0---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/business-intelligence?source=post_page-----846fbe88ced0---------------business_intelligence-----------------", "anchor_text": "Business Intelligence"}, {"url": "https://medium.com/tag/rankings?source=post_page-----846fbe88ced0---------------rankings-----------------", "anchor_text": "Rankings"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F846fbe88ced0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Franking-categories-with-power-bi-846fbe88ced0&user=Thiago+Carvalho&userId=7af498f86142&source=-----846fbe88ced0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F846fbe88ced0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Franking-categories-with-power-bi-846fbe88ced0&user=Thiago+Carvalho&userId=7af498f86142&source=-----846fbe88ced0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F846fbe88ced0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Franking-categories-with-power-bi-846fbe88ced0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----846fbe88ced0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F846fbe88ced0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Franking-categories-with-power-bi-846fbe88ced0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----846fbe88ced0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----846fbe88ced0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----846fbe88ced0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----846fbe88ced0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----846fbe88ced0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----846fbe88ced0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----846fbe88ced0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----846fbe88ced0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----846fbe88ced0--------------------------------", "anchor_text": ""}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Thiago Carvalho"}, {"url": "https://thiago-bernardes-carvalho.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.7K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7af498f86142&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Franking-categories-with-power-bi-846fbe88ced0&user=Thiago+Carvalho&userId=7af498f86142&source=post_page-7af498f86142--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F10a0f4458714&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Franking-categories-with-power-bi-846fbe88ced0&newsletterV3=7af498f86142&newsletterV3Id=10a0f4458714&user=Thiago+Carvalho&userId=7af498f86142&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}