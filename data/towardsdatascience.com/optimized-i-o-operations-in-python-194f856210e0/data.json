{"url": "https://towardsdatascience.com/optimized-i-o-operations-in-python-194f856210e0", "time": 1682994052.119103, "path": "towardsdatascience.com/optimized-i-o-operations-in-python-194f856210e0/", "webpage": {"metadata": {"title": "Optimized I/O operations in Python | by Harshit Tyagi | Towards Data Science", "h1": "Optimized I/O operations in Python", "description": "While working on data-intensive applications, I am often confronted with Input/Output(I/O) challenges which represent the bottleneck for every performance-critical application. With the increasing\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.youtube.com/channel/UCH-xwLTKQaABNs2QmGxK2bQ", "anchor_text": "channel", "paragraph_index": 32}, {"url": "https://www.linkedin.com/in/tyagiharshit/", "anchor_text": "LinkedIn", "paragraph_index": 33}, {"url": "https://twitter.com/tyagi_harshit24", "anchor_text": "Twitter", "paragraph_index": 33}, {"url": "https://www.instagram.com/upgradewithharshit/?hl=en", "anchor_text": "Instagram", "paragraph_index": 33}, {"url": "https://www.youtube.com/c/DataSciencewithHarshit", "anchor_text": "https://www.youtube.com/c/DataSciencewithHarshit", "paragraph_index": 36}], "all_paragraphs": ["While working on data-intensive applications, I am often confronted with Input/Output(I/O) challenges which represent the bottleneck for every performance-critical application. With the increasing volume of stored data, there is a necessity to store the data in disks to compensate for lack of sufficient RAM by loading the data from disk to RAM and vice-versa. I/O operations are thus essentially very important tasks when it comes to processing financial data or any scientific data.", "Through this post, I am trying to shed some light on a few libraries and their tricks of the trade. Python has built-in capabilities which can be used to store the object on disk and to read it from disk into RAM. Also, Python is robust when it comes to processing text files and SQL databases. The Pandas library provides a multitude of classes and methods to read and write files in a good range of formats.", "We are going to study the following areas of data storage and retrieval methods here:", "The 2 major factors which are taken into consideration while optimizing I/O operations in the Python language are efficiency(performance) and flexibility. Let\u2019s dive right into it:", "There are numerous modules in the Python language which can be easily used in a large-scale deployment setting.", "You need to store the data on your disk in order to share, document or use it later. We have pickle module which serializes the python object to make the read and write operation swiftly.", "The random floats build up a 9MB file which is serialized to a byte stream and written to the disk in 54.9 ms. You will use the dump and load function of the pickle module to write and read the file respectively. To assert the serialized and deserialized data, you can use the Numpy\u2019s allclose method. Here is how you can do it:", "Thus, pickle module stores the python list, dict, etc. after converting them to character stream on the disk. The crux here is that this byte stream contains the information necessary to reconstruct the object in another python script.", "Python has been the go-to language especially while dealing with text files because of the robustness and ease of processing textual data. There are several options to operate string objects and with text files in general.", "To write a CSV(Comma Separated Values), we can make use of the write and readline methods:", "Though python provides methods to process text files, we have the pandas library which can read and write a variety of data formats and is way better and easier to get your hands on.", "Be it CSV(comma-separated value), SQL(Structured Query Language), XLS/XLSX(Microsoft Excel files), JSON(Javascript Object Notation), or HTML(Hypertext Markup Language).", "Pandas make the entire process of reading and writing CSV files a bit more convenient, concise and faster.", "Python comes with support for SQL database which is SQLite3. We can work with almost any kind of database(SQL or NoSQL) with python.", "SQL queries are written as string objects where the syntax and data types depend upon the database in use. Illustrating a Todo table creation through python in an SQLite database:", "Let\u2019s try to insert some data in the database created,", "Writing 1million rows into the database is a little heavy and time-consuming task. Reading the database is much faster:", "If you are dealing with a lot of numbers and arrays in your database, you can make use of Numpy arrays to read the data directly into a numpy ndarray.", "This is a very good hack to read and plot the results of the query without any hustle. To make the reading more efficient and optimized, we should read whole tables and query results with pandas. Analytics and processing become way faster when the entire table is loaded into memory. This is achieved using the sublibrary pandas.io.sql", "The table is now loaded in-memory which allows for much faster processing. The SQL query that takes a few seconds with SQLite3 finishes in milliseconds with pandas in-memory:", "We can master a lot more complex queries with pandas which will yield the result much faster than SQL but it can\u2019t replace SQL. Given that pandas is able to replicate the SQL query, we can significantly speed up the analytics using the pandas in-memory processing.", "Point to be noted here is that pandas was not made to replace SQL database neither can it do the same at this point of time. Pandas doesn\u2019t have the support for relational data structures.", "PyTables is a Python binding for the HDF5 database/file standard. It is specifically designed and developed to enhance the performance of I/O operations and make the best possible use of the available hardware. It does a very good job of speeding up analytics and generating output faster. A PyTables database can accommodate many tables, and it supports compression and indexing and also nontrivial queries on tables.", "PyTables has a file-based database format. Let\u2019s walk through the working of tables,", "This will create the table for us with the required fields with specified dtypes. Now let\u2019s populate the database, we\u2019ll have to create some random values and write them row by row in the table like this:", "But again, we have one more optimized and Pythonic way to hit the same result, making use of NumPy structured arrays:", "Now that we are set with complete data in our table, it all boils down to the creation of the table as follows:", "This approach is faster and we accomplish the same results with fewer lines of code. We can delete the duplicate table using this:", "Both pandas and PyTables have the capability to process complex, SQL-like queries and indexing, and selections. They are both designed and optimized speed when it comes to I/O operations.", "A prime advantage of using PyTables is its modus operandi to compression. It uses compression not only to save space on disk but also to enhance the performance of I/O operations.", "Many enterprise-grade application domains in finance or science in general, can succeed with just array-based data modeling. In most of these cases, noticeable performance enhancements can be made using a combination of NumPy and PyTables I/O capabilities. HDF5 based stores have proven out to be a distinctive addition to all the approaches.", "Relational databases have their pros if you have complex data structures which exhibit a number of relations between single objects/tables. This might turn out to be justified in certain circumstances where there is a performance disadvantage over pure NumPy ndarray-based or pandas DataFrame-based approaches.", "With this channel, I am planning to roll out a couple of series covering the entire data science space. Here is why you should be subscribing to the channel:", "You can connect with me on LinkedIn, Twitter or Instagram(where I talk about health and wellness.)", "Note: During these dark times, self-isolation has made some room for self-improvement which we can utilize to develop new skills, hobbies, and help our future-selves.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Web & Data Science Instructional Designer | YouTuber | Writer https://www.youtube.com/c/DataSciencewithHarshit"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F194f856210e0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimized-i-o-operations-in-python-194f856210e0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimized-i-o-operations-in-python-194f856210e0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimized-i-o-operations-in-python-194f856210e0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimized-i-o-operations-in-python-194f856210e0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----194f856210e0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----194f856210e0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://dswharshit.medium.com/?source=post_page-----194f856210e0--------------------------------", "anchor_text": ""}, {"url": "https://dswharshit.medium.com/?source=post_page-----194f856210e0--------------------------------", "anchor_text": "Harshit Tyagi"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4530efc184cb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimized-i-o-operations-in-python-194f856210e0&user=Harshit+Tyagi&userId=4530efc184cb&source=post_page-4530efc184cb----194f856210e0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F194f856210e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimized-i-o-operations-in-python-194f856210e0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F194f856210e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimized-i-o-operations-in-python-194f856210e0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.youtube.com/channel/UCH-xwLTKQaABNs2QmGxK2bQ", "anchor_text": "channel"}, {"url": "https://www.linkedin.com/in/tyagiharshit/", "anchor_text": "LinkedIn"}, {"url": "https://twitter.com/tyagi_harshit24", "anchor_text": "Twitter"}, {"url": "https://www.instagram.com/upgradewithharshit/?hl=en", "anchor_text": "Instagram"}, {"url": "https://medium.com/tag/python?source=post_page-----194f856210e0---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/numpy?source=post_page-----194f856210e0---------------numpy-----------------", "anchor_text": "Numpy"}, {"url": "https://medium.com/tag/data-science?source=post_page-----194f856210e0---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/analytics?source=post_page-----194f856210e0---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/tag/coding?source=post_page-----194f856210e0---------------coding-----------------", "anchor_text": "Coding"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F194f856210e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimized-i-o-operations-in-python-194f856210e0&user=Harshit+Tyagi&userId=4530efc184cb&source=-----194f856210e0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F194f856210e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimized-i-o-operations-in-python-194f856210e0&user=Harshit+Tyagi&userId=4530efc184cb&source=-----194f856210e0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F194f856210e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimized-i-o-operations-in-python-194f856210e0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----194f856210e0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F194f856210e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimized-i-o-operations-in-python-194f856210e0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----194f856210e0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----194f856210e0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----194f856210e0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----194f856210e0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----194f856210e0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----194f856210e0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----194f856210e0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----194f856210e0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----194f856210e0--------------------------------", "anchor_text": ""}, {"url": "https://dswharshit.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://dswharshit.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Harshit Tyagi"}, {"url": "https://dswharshit.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.2K Followers"}, {"url": "https://www.youtube.com/c/DataSciencewithHarshit", "anchor_text": "https://www.youtube.com/c/DataSciencewithHarshit"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4530efc184cb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimized-i-o-operations-in-python-194f856210e0&user=Harshit+Tyagi&userId=4530efc184cb&source=post_page-4530efc184cb--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7293934ec1a7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Foptimized-i-o-operations-in-python-194f856210e0&newsletterV3=4530efc184cb&newsletterV3Id=7293934ec1a7&user=Harshit+Tyagi&userId=4530efc184cb&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}