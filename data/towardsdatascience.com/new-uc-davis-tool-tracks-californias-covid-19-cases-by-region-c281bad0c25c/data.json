{"url": "https://towardsdatascience.com/new-uc-davis-tool-tracks-californias-covid-19-cases-by-region-c281bad0c25c", "time": 1683016838.365603, "path": "towardsdatascience.com/new-uc-davis-tool-tracks-californias-covid-19-cases-by-region-c281bad0c25c/", "webpage": {"metadata": {"title": "New UC Davis Tool Tracks California\u2019s COVID-19 Cases By Region | by Pranav Pandit | Towards Data Science", "h1": "New UC Davis Tool Tracks California\u2019s COVID-19 Cases By Region", "description": "The COVID-19 pandemic has highlighted the importance of constant and real-time disease surveillance to better control unprecedented local outbreaks. Early on in the pandemic, the state of California\u2026"}, "outgoing_paragraph_urls": [{"url": "https://ohi.vetmed.ucdavis.edu/centers/epicenter-disease-dynamics", "anchor_text": "Epicenter for Disease Dynamics", "paragraph_index": 3}, {"url": "https://covid19.ca.gov/", "anchor_text": "California Department of Public Health", "paragraph_index": 3}, {"url": "https://github.com/CSSEGISandData/COVID-19", "anchor_text": "John Hopkins University", "paragraph_index": 3}, {"url": "https://covidactnow.org/?s=1337332", "anchor_text": "CovidActNow.org", "paragraph_index": 3}, {"url": "https://share.streamlit.io/panditpranav/svm_covid_tracking/main/COVID_app.py", "anchor_text": "check out the tool here", "paragraph_index": 4}, {"url": "https://github.com/PanditPranav/SVM_COVID_tracking/blob/master/COVID_app.py", "anchor_text": "the source code for the tool here", "paragraph_index": 4}, {"url": "https://covid19.ca.gov/", "anchor_text": "through the state\u2019s data portal", "paragraph_index": 5}, {"url": "https://github.com/CSSEGISandData/COVID-19", "anchor_text": "Johns Hopkins University", "paragraph_index": 5}, {"url": "https://covidactnow.org/?s=1337332", "anchor_text": "CovidActNow.org", "paragraph_index": 5}, {"url": "https://covidlocal.org/", "anchor_text": "covidlocal.org", "paragraph_index": 7}, {"url": "https://www.streamlit.io/sharing", "anchor_text": "The Streamlit sharing platform", "paragraph_index": 8}, {"url": "https://www.streamlit.io/sharing", "anchor_text": "you can sign-up here", "paragraph_index": 8}, {"url": "https://github.com/PanditPranav/SVM_COVID_tracking", "anchor_text": "a public Github repository", "paragraph_index": 9}, {"url": "https://matplotlib.org/3.3.3/faq/howto_faq.html#working-with-threads", "anchor_text": "the library is not thread-safe", "paragraph_index": 12}, {"url": "https://github.com/PanditPranav/SVM_COVID_tracking/commit/62b7f8b374a17e6dd385d491829c33e764b0b5cf", "anchor_text": "example code", "paragraph_index": 12}, {"url": "https://discuss.streamlit.io/t/fastest-plotting-library/1191", "anchor_text": "a Streamlit user community forum", "paragraph_index": 13}, {"url": "https://twitter.com/PanditPranav", "anchor_text": "@PanditPranav", "paragraph_index": 17}, {"url": "https://twitter.com/EpiCenterUCD", "anchor_text": "@EpiCenterUCD", "paragraph_index": 17}], "all_paragraphs": ["Written by Pranav Pandit \u2014 Postdoctoral Research Fellow at One Health Institute at UC Davis", "The COVID-19 pandemic has highlighted the importance of constant and real-time disease surveillance to better control unprecedented local outbreaks. Early on in the pandemic, the state of California came up with its own distinct phases for opening the economy and community activities. These phases were based on county-wide thresholds of daily COVID-19 incidence, test positivity, and availability of ICU beds in the county. While county-wide data is continuously available, a composite picture of a group of counties is not as easy to understand. Such information is especially useful for bigger organizations that serve regional communities, such as universities, corporate companies, or dense urban regions that are highly connected.", "At the UC Davis School of Veterinary Medicine, faculty, staff, and students come from many parts of California, but primarily from three counties \u2014 Yolo, Solano and Sacramento. University students, staff, and faculty commute from these nearby communities, so it\u2019s key to not just follow up on the COVID-19 statistics in Yolo County but rather look at a combination of the three counties to make informed decisions on reopening policies. Similarly, larger metropolitan areas such as the San Francisco Bay Area can benefit greatly from composite COVID-19 statistics for the region.", "My team in the Epicenter for Disease Dynamics within the school\u2019s One Health Institute was tasked with developing a tool that would go beyond county data and help us understand regional risk. Drawing from statistics already provided by the California Department of Public Health, John Hopkins University and CovidActNow.org, we have created a COVID-19 tool that lets the university better understand our regional data and plan our day-to-day decisions.", "By using Streamlit we were able to convert our Python code into an interactive tool that enables users to select counties of interest and get composite COVID-19 intelligence for the combined region. You can check out the tool here and the source code for the tool here.", "We already had a lot of code developed to track and visualize cases in California with live data provided through the state\u2019s data portal. We also started capturing daily case data from the Center for Systems Science and Engineering (CSSE) at Johns Hopkins University and decided to highlight informational snippets related to positive test rates and ICU rooms which is available through CovidActNow.org.", "The application starts with displaying a dashboard that shows composite data of three counties surrounding the University of California Davis (Yolo, Sacramento and Solano). Users can either choose a single county or a combination of multiple counties of their choice to get trends on A) daily new cases per 100,000 population (averaged over the last seven days), (B) daily incidence (new cases), \u00a9 Cumulative cases and deaths and (D) Daily new tests (testing data is available only for a few counties in California).", "If you\u2019d like to learn more about how to interpret these metrics, covidlocal.org is a good resource \u2014 but in short, the initial reopening of a community is indicated when daily cases decline for 21 consecutive days and estimates for new cases per 100,000 are below 25 cases per day (Phase 2). Similarly, Phase 3 economic recovery opening is indicated when estimates for new cases per 100,000 are below 10 cases per day.", "Once the initial version of the app was ready, I wanted my teammates at UC Davis to access the app, but I didn\u2019t want to put them through the ordeal of downloading the source code, setting up the development environment, and running the app locally. We hosted it on Heroku, but soon realized its limitations in terms of the number of users that can access it simultaneously. Around the same time, Streamlit had launched a beta version of their sharing platform. The Streamlit sharing platform allows deploying Streamlit apps directly from a public repository in Github and sharing with external shareholders for free (as of writing this sharing is currently invite only, but you can sign-up here).", "Once I was enrolled in the beta program, I was able to deploy the app in just a couple of clicks. All I had to do was host the app source code in a public Github repository.", "After the app was deployed to the Streamlit sharing platform, I shared the URL with the Dean\u2019s office, and the URL shortly made it\u2019s way to school\u2019s internal portal and became a tool used in planning field operations while minimizing the risk of exposing students and researchers to Covid-19.", "Around this time we noticed a couple of issues related to the performance and stability of the app. I will explain the issues along with the solutions below.", "During one of my team meetings, when some of my teammates tried to access the app simultaneously, we noticed the app crashed and restarted. With the help of the engineering team at Streamlit, we narrowed down these issues to the use of matplotlib as the library for rendering charts based on data frames in the app. It turned out that matplotlib is not best suited for applications running in a highly concurrent environment, in fact, the official matplotlib documentation claims that the library is not thread-safe. As a result, when multiple users tried to access the app simultaneously, the app would crash and restart. We were able to solve this problem by eliminating the use of matplotlib 's global API, and more importantly, by using explicit synchronization semantics when accessing matplotlib figures in the Python code (see example code).", "As the app was becoming more popular within UC Davis, another concern I had was around the noticeably high latency of the charts loading when a user visits the app. I was already using Streamlit\u2019s built-in caching using st.cache() annotations, so I knew the app was not doing the heavy-lifting of downloading datasets and computing aggregates every time. We profiled the app's performance using Python's built-in cProfile package and observed that most of the time was spent plotting the charts inside matplotlib. Taking inspiration from a Streamlit user community forum thread, which recommends altair as a more performant library for plotting, I ported the visualizations from matplotlib to altair , and noticed up to 3x improvement in the time it takes to run the app.", "Here\u2019s a code snippet showing how easy it is to plot Altair charts in Streamlit:", "At the UC Davis School of Veterinary Medicine, the tool is being used to track metrics to better inform campus safety services and communications, but we believe the tool can be used for a wider audience as well. At this stage of the pandemic, many individuals, families, and smaller organizations are debating their own decisions \u2014 whether to take a vacation, if they can visit family during holidays, when to make a work trip, or if it\u2019s too much of a risk to conduct daily activities such as grocery shopping. Such activities often require an additional aspect of regional risk assessment, and we hope that our tool can help provide that context. Please try it out, send feedback, and continue to share your own data and create your own great tools. We\u2019ll all get through this together.", "Special thanks to Amey Deshpande and the Streamlit team for helping to optimize the app code and to Kat Kerlin, Tom Hinds and the UC Davis marketing team for the help editing the blog post.", "Pranav Pandit, BVSc & AH, MPVM, Ph.D. is a postdoctoral scholar at the EpiCenter for Disease Dynamics, part of the One Health Institute at the UC Davis School of Veterinary Medicine. A veterinary epidemiologist specializing in mathematical modeling, Pranav is interested in understanding transmission diseases in animal populations and factors affecting spillover to humans. After completing his MPVM from UC Davis, Pranav completed his Ph.D. from \u00c9cole nationale v\u00e9t\u00e9rinaire de Nantes, in France. Follow Pranav and the EpiCenter for Disease Dynamics on Twitter: @PanditPranav and @EpiCenterUCD.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc281bad0c25c&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnew-uc-davis-tool-tracks-californias-covid-19-cases-by-region-c281bad0c25c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnew-uc-davis-tool-tracks-californias-covid-19-cases-by-region-c281bad0c25c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnew-uc-davis-tool-tracks-californias-covid-19-cases-by-region-c281bad0c25c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnew-uc-davis-tool-tracks-californias-covid-19-cases-by-region-c281bad0c25c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c281bad0c25c--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c281bad0c25c--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@pspandit?source=post_page-----c281bad0c25c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@pspandit?source=post_page-----c281bad0c25c--------------------------------", "anchor_text": "Pranav Pandit"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb986b4a03003&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnew-uc-davis-tool-tracks-californias-covid-19-cases-by-region-c281bad0c25c&user=Pranav+Pandit&userId=b986b4a03003&source=post_page-b986b4a03003----c281bad0c25c---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc281bad0c25c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnew-uc-davis-tool-tracks-californias-covid-19-cases-by-region-c281bad0c25c&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc281bad0c25c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnew-uc-davis-tool-tracks-californias-covid-19-cases-by-region-c281bad0c25c&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://ohi.vetmed.ucdavis.edu/centers/epicenter-disease-dynamics", "anchor_text": "Epicenter for Disease Dynamics"}, {"url": "https://covid19.ca.gov/", "anchor_text": "California Department of Public Health"}, {"url": "https://github.com/CSSEGISandData/COVID-19", "anchor_text": "John Hopkins University"}, {"url": "https://covidactnow.org/?s=1337332", "anchor_text": "CovidActNow.org"}, {"url": "https://share.streamlit.io/panditpranav/svm_covid_tracking/main/COVID_app.py", "anchor_text": "check out the tool here"}, {"url": "https://github.com/PanditPranav/SVM_COVID_tracking/blob/master/COVID_app.py", "anchor_text": "the source code for the tool here"}, {"url": "https://covid19.ca.gov/", "anchor_text": "through the state\u2019s data portal"}, {"url": "https://github.com/CSSEGISandData/COVID-19", "anchor_text": "Johns Hopkins University"}, {"url": "https://covidactnow.org/?s=1337332", "anchor_text": "CovidActNow.org"}, {"url": "https://covidlocal.org/", "anchor_text": "covidlocal.org"}, {"url": "https://www.streamlit.io/sharing", "anchor_text": "The Streamlit sharing platform"}, {"url": "https://www.streamlit.io/sharing", "anchor_text": "you can sign-up here"}, {"url": "https://github.com/PanditPranav/SVM_COVID_tracking", "anchor_text": "a public Github repository"}, {"url": "https://matplotlib.org/3.3.3/faq/howto_faq.html#working-with-threads", "anchor_text": "the library is not thread-safe"}, {"url": "https://github.com/PanditPranav/SVM_COVID_tracking/commit/62b7f8b374a17e6dd385d491829c33e764b0b5cf", "anchor_text": "example code"}, {"url": "https://discuss.streamlit.io/t/fastest-plotting-library/1191", "anchor_text": "a Streamlit user community forum"}, {"url": "https://twitter.com/PanditPranav", "anchor_text": "@PanditPranav"}, {"url": "https://twitter.com/EpiCenterUCD", "anchor_text": "@EpiCenterUCD"}, {"url": "https://medium.com/tag/data-science?source=post_page-----c281bad0c25c---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----c281bad0c25c---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----c281bad0c25c---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/data-science-platform?source=post_page-----c281bad0c25c---------------data_science_platform-----------------", "anchor_text": "Data Science Platform"}, {"url": "https://medium.com/tag/epistemology?source=post_page-----c281bad0c25c---------------epistemology-----------------", "anchor_text": "Epistemology"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc281bad0c25c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnew-uc-davis-tool-tracks-californias-covid-19-cases-by-region-c281bad0c25c&user=Pranav+Pandit&userId=b986b4a03003&source=-----c281bad0c25c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc281bad0c25c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnew-uc-davis-tool-tracks-californias-covid-19-cases-by-region-c281bad0c25c&user=Pranav+Pandit&userId=b986b4a03003&source=-----c281bad0c25c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc281bad0c25c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnew-uc-davis-tool-tracks-californias-covid-19-cases-by-region-c281bad0c25c&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c281bad0c25c--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc281bad0c25c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnew-uc-davis-tool-tracks-californias-covid-19-cases-by-region-c281bad0c25c&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c281bad0c25c---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c281bad0c25c--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c281bad0c25c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c281bad0c25c--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c281bad0c25c--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c281bad0c25c--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c281bad0c25c--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c281bad0c25c--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c281bad0c25c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@pspandit?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@pspandit?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Pranav Pandit"}, {"url": "https://medium.com/@pspandit/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "2 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb986b4a03003&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnew-uc-davis-tool-tracks-californias-covid-19-cases-by-region-c281bad0c25c&user=Pranav+Pandit&userId=b986b4a03003&source=post_page-b986b4a03003--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fb986b4a03003%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnew-uc-davis-tool-tracks-californias-covid-19-cases-by-region-c281bad0c25c&user=Pranav+Pandit&userId=b986b4a03003&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}