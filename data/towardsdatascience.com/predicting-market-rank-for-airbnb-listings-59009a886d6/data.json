{"url": "https://towardsdatascience.com/predicting-market-rank-for-airbnb-listings-59009a886d6", "time": 1683003598.6180558, "path": "towardsdatascience.com/predicting-market-rank-for-airbnb-listings-59009a886d6/", "webpage": {"metadata": {"title": "Predicting Market Rank for Airbnb Listings | by Sean Wang | Towards Data Science", "h1": "Predicting Market Rank for Airbnb Listings", "description": "Before designing a machine learning model, the first question to ask is, what is our goal? The goal should also take into consideration the availability and quality of data. A lot of work published\u2026"}, "outgoing_paragraph_urls": [{"url": "https://arxiv.org/abs/1802.03888", "anchor_text": "SHAP (SHapley Additive exPlanations)", "paragraph_index": 12}, {"url": "https://www.airbnb.com/rooms/", "anchor_text": "https://www.airbnb.com/rooms/", "paragraph_index": 14}, {"url": "https://www.airbnb.com/rooms/32792761", "anchor_text": "https://www.airbnb.com/rooms/32792761", "paragraph_index": 17}, {"url": "https://www.linkedin.com/in/seanxwang", "anchor_text": "https://www.linkedin.com/in/seanxwang", "paragraph_index": 22}], "all_paragraphs": ["There are several reasons that makes Airbnb data more challenging and rewarding to work with:", "Before designing a machine learning model, the first question to ask is, what is our goal? The goal should also take into consideration the availability and quality of data. A lot of work published focus on price prediction. However, price may fluctuate widely between different dates, which limits a model\u2019s usefulness. Instead, I will focus on ranking a listing relative to its competitors in the market. It is an important design consideration since relative ranking score captures the relative attractiveness of a listing, and makes a model more general to fit with more data and used for more applications.", "Here we define market rank as the relative competitive score of a listing in a defined city or neighborhood. How can this prediction model be used?Imagine if you are a host, not only you can see how well you are currently ranked vs the competition, you can also evaluate the effect of altering features (lower price, add amenities\u2026) to improve your ranking. For Airbnb, the ability to predict listing popularity allows effective recommendation for potential guests (\u201chere are top 10 recommended listings in Hollywood for you dates and price range\u201d), or optimization recommendation for hosts (\u201cyou will improve your ranking from top 25% to top 10% if you lower your cleaning fee by $20\u201d). Ultimately, the goal is increasing sales and higher customer satisfaction.", "The better a listing does, the higher its market rank should be. How do we define and obtain \u201cmarket rank\u201d information for supervised training? We are looking for data that tells us how popular a listing is. Although we don\u2019t have actual booking information, we have availability and review data that is updated monthly. Let\u2019s look at pros and cons of these two key metrics:", "Availability \u2014 Availability by itself may be misleading, since a listing can be unavailable either by being booked or host taking off market. By observing availability change from time A to time B, and look at when host last updated calendar, we can more intelligently interpreting change and derive booking activity for most of the listings", "Reviews \u2014 The increased number of reviews in the target observation window is a good proxy for how well a listing did. There is still a pitfall, those listings with longer minimum date tend to have fewer reviews (relative to the number of days booked)", "As illustrated, booking rate and review increase rate can be estimated by:", "Booking rate and review rate compliment each other to provide market ranking indicators for individual listings. They are scaled and normalized to be used as training target for regression models. For further diversification, I trained booking rate model and review rate model based on subsets of listing features, while preventing data leak. The resulting booking rate score and review rate score are then aggregated to a combined score, which is then used to generate market ranking in percentile form quantifying a listing\u2019s relative strength in any city, area or neighborhood.", "For the prototype, I used data for airbnb listings in Los Angeles, with 2019\u201303\u201306 as time A, and 2019\u201312\u201305 as time B, and 2019\u201312\u201305 + 30 days as the target booking time window. For simplicity, I used XGBoost with minimal amount of data processing and tuning.", "Below shows sample validation curve for review rate model, which has an R2 score of ~0.6. This would serve as a baseline, with potential for improvement by adding features, data, tuning\u2026", "Below shows sample learning curve for booking rate model. The gap between training and validation (which indicates variance) shows narrowing trend with increasing data size. As expected, bias is clearly present as seen from error level, which may be improved with features and algorithm.", "Below shows SHAP summary plots for the two regression models. The features are listed top down by order of their impact on model outcome. For each feature, its impact is visualized by its reach on the horizontal axis. Red indicates higher feature value, while blue indicates lower. An extension to the right quantifies positive impact (higher the feature value, higher the booking and review rate, therefore more hot the listing is). An extension to the left quantifies the negative impact. Some quick observations:", "SHAP (SHapley Additive exPlanations) is an emerging algorithm agnostic Explainable AI (XAI) method which leverages game theory to measure the impact of features accurate to the prediction. Detailed SHAP analysis is outside the scope here.", "Here we evaluate the models using a reserved test set of listings in Los Angeles area. After combining scores from booking model and review model, we obtain a city wide ranking score (\u201cmarket_rank_city\u201d) in percentile form. For example, listing ID 8570847 is at top 98.6% in terms of its market competitiveness, while listing ID 14014479 is at bottom 6.9%.", "Check out actual listings following standard url format https://www.airbnb.com/rooms/<id>, to see if scores make sense.", "Market Rank can also be calculated for a defined target group, leading to more applications. For example, we can rank listings in a particular neighborhood and within a price range. We can apply any feature value as filters to compare competitiveness of a listing in a subset.", "Below is an example of calculating percentile rank (\u201cmarket_rank_neighborhood\u201d) for listings priced at $150-$250 in Hollywood neighborhood.", "From the above list, let\u2019s look at the top listing, which is a new 2 bedroom condo with full kitchen, priced at $174/night: https://www.airbnb.com/rooms/32792761", "Note we include historical information such as increasing rate of reviews and booking activities to predict future outcome. This is not a form of data leak. Rather, it is a true reflection of how a potential guest evaluates a listing. Consequently, model is more neutral on new listings because of missing information on many features. This is also a true reflection of reality.", "To more accurately differentiate the quality among new listings, it is desirable to develop models that focus on features such as amenities, photos, text, and location. Think KNN built on subset of features that is constant with time.", "I have shared the journey of a data science project utilizing real world data, starting from a meaningful objective, by researching available data and experimenting with model combination, to promising results. The baseline models developed only scratched the surface of what is possible. Thanks to the vast amount and dynamic nature of airbnb data, further improvements may come from more data scrubbing, feature engineering and algorithm tuning. Adding images and text information also makes for exciting exploration with deep learning.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Science & ML Lead, Data Hacker https://www.linkedin.com/in/seanxwang"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F59009a886d6&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-rank-for-airbnb-listings-59009a886d6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-rank-for-airbnb-listings-59009a886d6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-rank-for-airbnb-listings-59009a886d6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-rank-for-airbnb-listings-59009a886d6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----59009a886d6--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----59009a886d6--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@wang.sean.x?source=post_page-----59009a886d6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@wang.sean.x?source=post_page-----59009a886d6--------------------------------", "anchor_text": "Sean Wang"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbdd73728c7f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-rank-for-airbnb-listings-59009a886d6&user=Sean+Wang&userId=bdd73728c7f1&source=post_page-bdd73728c7f1----59009a886d6---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F59009a886d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-rank-for-airbnb-listings-59009a886d6&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F59009a886d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-rank-for-airbnb-listings-59009a886d6&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://arxiv.org/abs/1802.03888", "anchor_text": "SHAP (SHapley Additive exPlanations)"}, {"url": "https://www.airbnb.com/rooms/", "anchor_text": "https://www.airbnb.com/rooms/"}, {"url": "https://www.airbnb.com/rooms/32792761", "anchor_text": "https://www.airbnb.com/rooms/32792761"}, {"url": "https://www.airbnb.com/rooms/28012404", "anchor_text": "https://www.airbnb.com/rooms/28012404"}, {"url": "https://medium.com/@wang.sean.x/boosting-machine-learning-models-with-explainable-ai-xai-601683119c84", "anchor_text": "https://medium.com/@wang.sean.x/boosting-machine-learning-models-with-explainable-ai-xai-601683119c84"}, {"url": "https://medium.com/tag/airbnb?source=post_page-----59009a886d6---------------airbnb-----------------", "anchor_text": "Airbnb"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----59009a886d6---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----59009a886d6---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----59009a886d6---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----59009a886d6---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F59009a886d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-rank-for-airbnb-listings-59009a886d6&user=Sean+Wang&userId=bdd73728c7f1&source=-----59009a886d6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F59009a886d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-rank-for-airbnb-listings-59009a886d6&user=Sean+Wang&userId=bdd73728c7f1&source=-----59009a886d6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F59009a886d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-rank-for-airbnb-listings-59009a886d6&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----59009a886d6--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F59009a886d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-rank-for-airbnb-listings-59009a886d6&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----59009a886d6---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----59009a886d6--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----59009a886d6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----59009a886d6--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----59009a886d6--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----59009a886d6--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----59009a886d6--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----59009a886d6--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----59009a886d6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@wang.sean.x?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@wang.sean.x?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sean Wang"}, {"url": "https://medium.com/@wang.sean.x/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "17 Followers"}, {"url": "https://www.linkedin.com/in/seanxwang", "anchor_text": "https://www.linkedin.com/in/seanxwang"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbdd73728c7f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-rank-for-airbnb-listings-59009a886d6&user=Sean+Wang&userId=bdd73728c7f1&source=post_page-bdd73728c7f1--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F789e978d1d48&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-rank-for-airbnb-listings-59009a886d6&newsletterV3=bdd73728c7f1&newsletterV3Id=789e978d1d48&user=Sean+Wang&userId=bdd73728c7f1&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}