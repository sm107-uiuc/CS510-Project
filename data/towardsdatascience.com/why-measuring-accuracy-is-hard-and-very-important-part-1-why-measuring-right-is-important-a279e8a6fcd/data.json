{"url": "https://towardsdatascience.com/why-measuring-accuracy-is-hard-and-very-important-part-1-why-measuring-right-is-important-a279e8a6fcd", "time": 1682995467.66169, "path": "towardsdatascience.com/why-measuring-accuracy-is-hard-and-very-important-part-1-why-measuring-right-is-important-a279e8a6fcd/", "webpage": {"metadata": {"title": "Why measuring accuracy is hard (and very important)! | by Bradley Arsenault | Towards Data Science", "h1": "Why measuring accuracy is hard (and very important)!", "description": "We are kicking off a new series of blog articles on measuring accuracy. There is a lot of content to cover \u2014 when I first started writing this article, it quickly turned into 12 hours of keyboard\u2026"}, "outgoing_paragraph_urls": [{"url": "http://ai.googleblog.com/2018/12/improving-effectiveness-of-diabetic.html", "anchor_text": "http://ai.googleblog.com/2018/12/improving-effectiveness-of-diabetic.html", "paragraph_index": 7}, {"url": "https://www.electricbrain.io/", "anchor_text": "https://www.electricbrain.io/", "paragraph_index": 30}], "all_paragraphs": ["We are kicking off a new series of blog articles on measuring accuracy. There is a lot of content to cover \u2014 when I first started writing this article, it quickly turned into 12 hours of keyboard bashing and 20 pages of thoughts and notes. So we will be breaking it up into 4 separate articles:", "Why is measuring accuracy of a machine learning model hard? So many machine learning models would appear to have a very simple definition of accuracy.", "Lets go over a simple example \u2014 an algorithm that detects diabetes. The algorithm reports that an individual does in fact have diabetes. That prediction is either correct (the individual did in fact have the diabetes), or the prediction is wrong (the individual did not have diabetes). It would seem like accuracy is defined by a pretty simple question: how many of the predictions were actually correct. It would seem that measuring the accuracy of a model should be straightforward.", "A slightly closer look at the question, and how the algorithm is used in production, will give us a more nuanced answer. The typical disease prediction algorithm does not give the prediction of disease of TRUE vs FALSE, with no other information. Even the most basic implementations will at least provide a confidence score, varying between 0% and 100%. The algorithm could predict a 73% confidence of diabetes, and a 27% confidence of no diabetes. The doctor can then use the confidences, combined with their own knowledge and analysis, to make up their mind. But what is accuracy then? Is the algorithm expected to be 73% accurate when it reports a 73% confidence?", "What does accuracy mean in this situation? Does accuracy mean the number of answers with more than 50% confidence that were correct? Is 50% the right threshold? How do we count the null answers? What if both yes and no have less than the required confidence? How is that counted? A slightly more nuanced and experienced data scientist will then arrive at the Receiver-Operating-Characteristic curve, or ROC curve. The ROC is no longer a single number, but a curve representing the trade-offs between false-positives and true positives that occurs when you set the threshold at different spots. It shows that, at a particular level of confidence, how many mistakes versus truth will there be. Here is an example of an ROC curve for a chat-bot. This one is pretty good:", "Here is another one taken from the Scikit-learn website, which is probably more realistic for a medical classifier:", "So now we don\u2019t just have one number for accuracy. We have .. our choice of different accuracies. Now I should mention that the ROC curves come with an associated single number metric, AUC or Area-Under-Curve, which is literally the area underneath the ROC curve. AUC is a robust and very useful metric. But AUC is not an easy metric to explain to a stakeholder and doesn\u2019t have any easy interpretation for us to understand. Maybe then we resort to using precision and recall? We find some acceptable point on the ROC curve, set the threshold to that point, and use these two new numbers to describe its outputs. But this quickly gets complicated when you have multiple classes in your outputs \u2014 we now have a whole series of precisions and recalls \u2014 and it quickly becomes bewildering to try to explain how a model behaves and performs.", "The measurement of accuracy can even be affected by raw mathematics, which can make an improvement actually look worse. This example came to me when I was reading the Google AI blog article for a diabetes detection- algorithm: http://ai.googleblog.com/2018/12/improving-effectiveness-of-diabetic.html", "They mention that they had switched their algorithm from doing a binary classification (diabetic / not diabetic) to one on a 5 point severity scale. The data being analyzed was the same \u2014 only the outputs have changed. But now think about this: On a binary classification, the system can guess totally randomly and has a 50\u201350 chance of getting the correct answer. On a 5 point grading system, the system only has a 20% chance of getting the correct answer when it guesses randomly.", "So now imagine you switch from a 2 point to 5 point grading system in order to give your model richer information to learn from. If you measure the raw-accuracy however, you might notice that your switch reduced the accuracy. In the 5 point grading system, the system has a much lower chance of getting the correct answer by chance alone. The authors of the article get around this by using Kappa score rather then just vanilla accuracy (which adjusts for the chance of a randomly correct answer). But the basic problem gets to the heart of my topic in this article.", "Measuring your accuracy just isn\u2019t as straightforward as it might seem. And how we measure accuracy will alter what changes we make to our model to improve it, how much we trust a model, and most importantly, how stakeholders like business people, engineers, government, healthcare, or social services organizations adopt, integrate and use these algorithms.", "Why measure accuracy? This might seem to be an easy to answer question. Without measuring accuracy, there is no way to know if your model is working or not. Unlike regular code, which can be tested with a prior assumption that it works perfectly, 100% of the time as designed, machine learning code is expected to fail on some number of samples. So measuring that exact number of failures is the key to testing a machine learning system.", "But I want to take a moment to touch on some of the reasons that we measure accuracy and why it becomes important to do it right.", "The first and easiest to understand reason you measure the accuracy of a model is so that you can improve its accuracy. When you are trying to improve the accuracy, almost any metric of accuracy is possible to use. As long as that metric has a clearly defined better or worse, then the exact value of the metric doesn\u2019t matter. What you care about is whether the metric is improving or getting worse. So what can go wrong?", "Well, if you measure the accuracy of your model incorrectly, you could actually be modifying your model in ways that would hurt your real-world performance, while they appear to be improving your metric. Take, for example, the problem of generalization vs overfitting.", "If you are measuring your accuracy incorrectly, you could be making changes that appear to improve your metric, but instead they are just making your model overfit the data you\u2019re metric is measuring against.", "The standard way of solving this problem is to break your data 80/20 into training / testing. But this is also fraught with difficulty, since we sometimes use measurements of accuracy to do things like early-stopping or setting confidence thresholds, so that testing data itself then becomes part of you training process. You could be over-fitting your confidence thresholds. So then you decide to break your data three ways, 70/20/10, with an extra validation set you can measure your accuracy with at the end. But now what if your dataset size is relatively small, or its not perfectly representative of the real world data it has to operate on.", "You now have to worry about another type of over-fitting I call architectural overfit, where the design and parameters of your model became too perfectly designed for the dataset, and does not generalize to new samples or learn them very well when they are added to the dataset. This can happen for example if you prepare a lot of custom made features based on your dataset, only to find they don\u2019t apply when the dataset is grown over time, modified significantly, or merged with some other dataset. You got excellent training, testing, and validation accuracy. But your still overfitting the dataset.", "Now what if your dataset has noise? What if there are consistent mistakes in the data? You might think your model is amazing \u2014 and indeed find that it is, it has perfectly learned the consistent patterns of mistakes in the dataset. You gleefully put the model into the next product, only to have your ass handed to you when the product is launched. It seems your model does not work so great in the real world. \u201cIt was perfectly accurate in testing\u201d you might think. \u201cWhat could have gone wrong?\u201d", "What if your accuracy measurement itself has noise? Let\u2019s say you have a 1\u20133% spread in accuracy across multiple runs. Now this makes it harder to make incremental improvements. Every improvement needs to be larger than 2\u20133% in order for you to be able to reliably confirm it with a single run. Either you spend more CPU power to get clear answers using averages, or you risk spinning in circles looking only for big-wins and forgoing incremental improvement.", "Measuring your accuracy better means that when you make changes changes to your model, you can be confident as to whether those changes are leading to a better model in the ways you care about. When you measure your accuracy wrong, you can end up tearing up changes or going back to the drawing board because that model you \u201cthought\u201d was 99.9% accurate doesn\u2019t actually work anywhere close to that in production. Better measurement of accuracy means faster research, better products, and more accolades for you. It can even save lives.", "Another reason we measure the accuracy of the model is so that we can communicate to stakeholders and they can use our models. Models are never just pieces of math and code \u2014 they must sit and operate in the real world, having real effects on real peoples lives.", "If a doctor is going to use an algorithm to make medical decisions, it\u2019s important for them to know that the algorithm could be wrong, and how often that is the case. If a company is going to replace a team of data entry people with a computer, it\u2019s important for them to know how often it can make mistakes because that can affect the company\u2019s processes. If we claim a model will only make mistakes 3% of the time, but it actually makes 5%, we might brush that off as a small difference. But that could represent a 60% increase in calls being made to the support department by all the people affected by the algorithms mistakes. That massive increase in cost could completely nullify any benefits of implementing the algorithm in the first place.", "Stakeholders need to understand the accuracy of an algorithm, and its typical failure cases, because accuracy has real world implications. The accuracy could affect budgets and balance sheets, the lives and health of real people, and even the outcome of our democracy (when it comes to fact checking algorithms now used by journalists). It could make or break new AI products, and create real disconnects between the engineers who create the technology and the consumers who use it. Making mistakes in the measurement of accuracy could very well mean that lives are lost and new products fail.", "So what is it about measuring accuracy that makes it so difficult? Why has a seemingly easy question to answer become so difficult?", "In part 2 of this series, we will go over some of the common problems that show up in measuring accuracy:", "In part 3 of this series, we will address some of the more difficult and interesting problems that we face when measuring accuracy:", "In light all of these potential problems in measuring accuracy, I\u2019ve come to appreciate a basic piece of wisdom: no matter how you measure it or what you metric you use, we can usually agree on what perfectly correct and completely wrong looks like. It\u2019s everything in between that matters.", "Look for Part 2 of this series coming out soon!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Founder and CEO of Electric Brain (https://www.electricbrain.io/)"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa279e8a6fcd&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-measuring-accuracy-is-hard-and-very-important-part-1-why-measuring-right-is-important-a279e8a6fcd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-measuring-accuracy-is-hard-and-very-important-part-1-why-measuring-right-is-important-a279e8a6fcd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-measuring-accuracy-is-hard-and-very-important-part-1-why-measuring-right-is-important-a279e8a6fcd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-measuring-accuracy-is-hard-and-very-important-part-1-why-measuring-right-is-important-a279e8a6fcd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a279e8a6fcd--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a279e8a6fcd--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@brad.arsenault?source=post_page-----a279e8a6fcd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@brad.arsenault?source=post_page-----a279e8a6fcd--------------------------------", "anchor_text": "Bradley Arsenault"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4cc13146bf71&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-measuring-accuracy-is-hard-and-very-important-part-1-why-measuring-right-is-important-a279e8a6fcd&user=Bradley+Arsenault&userId=4cc13146bf71&source=post_page-4cc13146bf71----a279e8a6fcd---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa279e8a6fcd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-measuring-accuracy-is-hard-and-very-important-part-1-why-measuring-right-is-important-a279e8a6fcd&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa279e8a6fcd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-measuring-accuracy-is-hard-and-very-important-part-1-why-measuring-right-is-important-a279e8a6fcd&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "http://ai.googleblog.com/2018/12/improving-effectiveness-of-diabetic.html", "anchor_text": "http://ai.googleblog.com/2018/12/improving-effectiveness-of-diabetic.html"}, {"url": "https://www.electricbrain.io/blog/why-measuring-accuracy-is-hard-and-very-important-part-1", "anchor_text": "www.electricbrain.io"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----a279e8a6fcd---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a279e8a6fcd---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/metrics?source=post_page-----a279e8a6fcd---------------metrics-----------------", "anchor_text": "Metrics"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----a279e8a6fcd---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/deep-learning?source=post_page-----a279e8a6fcd---------------deep_learning-----------------", "anchor_text": "Deep Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa279e8a6fcd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-measuring-accuracy-is-hard-and-very-important-part-1-why-measuring-right-is-important-a279e8a6fcd&user=Bradley+Arsenault&userId=4cc13146bf71&source=-----a279e8a6fcd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa279e8a6fcd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-measuring-accuracy-is-hard-and-very-important-part-1-why-measuring-right-is-important-a279e8a6fcd&user=Bradley+Arsenault&userId=4cc13146bf71&source=-----a279e8a6fcd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa279e8a6fcd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-measuring-accuracy-is-hard-and-very-important-part-1-why-measuring-right-is-important-a279e8a6fcd&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a279e8a6fcd--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa279e8a6fcd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-measuring-accuracy-is-hard-and-very-important-part-1-why-measuring-right-is-important-a279e8a6fcd&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a279e8a6fcd---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a279e8a6fcd--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a279e8a6fcd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a279e8a6fcd--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a279e8a6fcd--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a279e8a6fcd--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a279e8a6fcd--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a279e8a6fcd--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a279e8a6fcd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@brad.arsenault?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@brad.arsenault?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Bradley Arsenault"}, {"url": "https://medium.com/@brad.arsenault/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "53 Followers"}, {"url": "https://www.electricbrain.io/", "anchor_text": "https://www.electricbrain.io/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4cc13146bf71&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-measuring-accuracy-is-hard-and-very-important-part-1-why-measuring-right-is-important-a279e8a6fcd&user=Bradley+Arsenault&userId=4cc13146bf71&source=post_page-4cc13146bf71--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F4cc13146bf71%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-measuring-accuracy-is-hard-and-very-important-part-1-why-measuring-right-is-important-a279e8a6fcd&user=Bradley+Arsenault&userId=4cc13146bf71&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}