{"url": "https://towardsdatascience.com/track-your-azure-analysis-services-processing-times-per-table-f2d3238f81a6", "time": 1683012787.849438, "path": "towardsdatascience.com/track-your-azure-analysis-services-processing-times-per-table-f2d3238f81a6/", "webpage": {"metadata": {"title": "Track your Azure Analysis Services Processing Times per Table | by Arthur Steijn | Towards Data Science", "h1": "Track your Azure Analysis Services Processing Times per Table", "description": "Deep dive of Azure Analysis Services processing times per table per operation with Diagnostic Logs and Log Analytics workspace. Analyze and Visualize in Power BI"}, "outgoing_paragraph_urls": [{"url": "https://docs.microsoft.com/en-us/azure/analysis-services/analysis-services-logging#view-logs-in-log-analytics-workspace", "anchor_text": "The first example query", "paragraph_index": 4}], "all_paragraphs": ["Recently I have been working with Azure Analysis Services (AAS) quite a lot. The number of tables in our model was quickly growing and processing times were fluctuating and increasing as well. Reason enough for me to find out a little bit more about which tables were taking up the most processing time from the AAS perspective.", "Here I will explain the steps I took to get detailed information about the processing steps for an Azure Analysis Services Full Process from a Log Analytics workspace into a Power BI report.", "The starting point, as always, was the Microsoft documentation. Okay, actually it was Google or Bing. But quickly I landed on the documentation pages that include all the need steps to start. The link is listed below.", "The configuration of the Diagnostics Settings, to send the logs to a Log Analytics workspace, was already done in this case. If you still need to do this, the docs include the needed actions. It\u2019s pretty straight forward.", "The next step is exploring the logs in our Log Analytics workspace (LAW) by writing a query to get the information we are looking for. The first example query from the documentation was a good starting point. But not exactly what we are looking for, since we are looking for the Refresh of the model. And not the query times.", "In the end, I wrote two queries and join these together in Power BI. In the first query, I am specifically looking for the highest level of the refresh process.", "The value \u2018CommandEnd\u2019 in the \u2018OperationName\u2019 field and the \u2018TextData_s\u2019 field filtered on \u2018<Refresh \u2019 does the trick in this case. Below is the query, if you want to use it, don\u2019t forget to add your own server and database name in the second line.", "In the second query, we get the details of the refresh and we want to filter out as many operations that we do not use. This query results in all the detailed information we are looking for.", "Another option, to get fewer results in the last query, is to join it to the first query on the \u2018RootActivityId_g\u2019. That way you make sure you only get data that relates to the first query.", "The Log Analytics workspace offers the possibility to export the written query to the M language and includes some help on how to use the script in Power BI.", "After adding the two Kusto queries to a Power BI report, a relationship is created on the \u2018RootActivityId_g\u2019 between the two tables. From the \u2018ObjectReference_s\u2019, the TableName could be derived. Lastly, I added a measure to calculate the duration in minutes.", "The data in the model gives insight into the duration per refresh operation, identifiable through the \u2018RootActivityId_g\u2019 from the first query. Detailed information can be visualized per table from the second query.", "If we look at \u2018ObjectName_s\u2019 = \u2018Partition\u2019 and \u2018EventSubclass_s\u2019 = 59 The steps per table include:", "Here is an example of a simple demo model. The first row shows the complete duration for the selected table. See the start and end times.", "Being able to analyze the different steps in the refreshing process and pinpointing the time-consuming steps is very valuable to me.", "There is tons of information about your Analysis Services Instance in the Diagnostic Logs. For example information about the usage of \u2018query processing units\u2019 (qpu_metric) and memory usage.", "From my perspective, as a Data Engineer, monitoring Azure Analysis Services with the Diagnostic Logs in Power BI, is a great alternative for the Azure Portal. You are in control of designing the whole process and could provide the monitoring solution to the end-users of your BI products, without the need to login to the Azure portal.", "Please let me know what you think or if you have any tips for me! Thank you!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Microsoft-oriented Data/DevOps/Cloud Engineer, always looking for new and exciting techniques to improve processes and deliver fast and reliable data pipelines"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff2d3238f81a6&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-azure-analysis-services-processing-times-per-table-f2d3238f81a6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-azure-analysis-services-processing-times-per-table-f2d3238f81a6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-azure-analysis-services-processing-times-per-table-f2d3238f81a6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-azure-analysis-services-processing-times-per-table-f2d3238f81a6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f2d3238f81a6--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f2d3238f81a6--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://arthur86s.medium.com/?source=post_page-----f2d3238f81a6--------------------------------", "anchor_text": ""}, {"url": "https://arthur86s.medium.com/?source=post_page-----f2d3238f81a6--------------------------------", "anchor_text": "Arthur Steijn"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fca8dba5b4157&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-azure-analysis-services-processing-times-per-table-f2d3238f81a6&user=Arthur+Steijn&userId=ca8dba5b4157&source=post_page-ca8dba5b4157----f2d3238f81a6---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff2d3238f81a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-azure-analysis-services-processing-times-per-table-f2d3238f81a6&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff2d3238f81a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-azure-analysis-services-processing-times-per-table-f2d3238f81a6&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://docs.microsoft.com/en-us/azure/analysis-services/analysis-services-logging#view-logs-in-log-analytics-workspace", "anchor_text": "The first example query"}, {"url": "https://docs.microsoft.com/en-us/azure/analysis-services/analysis-services-logging", "anchor_text": "Diagnostic logging for Azure Analysis ServicesAn important part of any Analysis Services solution is monitoring how your servers are performing. Azure Analysis\u2026docs.microsoft.com"}, {"url": "https://docs.microsoft.com/en-us/azure/azure-monitor/platform/platform-logs-overview", "anchor_text": "Overview of Azure platform logs - Azure MonitorPlatform logs provide detailed diagnostic and auditing information for Azure resources and the Azure platform they\u2026docs.microsoft.com"}, {"url": "https://docs.microsoft.com/en-us/azure/data-explorer/kusto/concepts/", "anchor_text": "Getting started with KustoAzure Data Explorer is a service for storing and running interactive analytics on big data. It's based on relational\u2026docs.microsoft.com"}, {"url": "https://medium.com/tag/azure?source=post_page-----f2d3238f81a6---------------azure-----------------", "anchor_text": "Azure"}, {"url": "https://medium.com/tag/analysis-services?source=post_page-----f2d3238f81a6---------------analysis_services-----------------", "anchor_text": "Analysis Services"}, {"url": "https://medium.com/tag/azure-analysis-services?source=post_page-----f2d3238f81a6---------------azure_analysis_services-----------------", "anchor_text": "Azure Analysis Services"}, {"url": "https://medium.com/tag/cloud?source=post_page-----f2d3238f81a6---------------cloud-----------------", "anchor_text": "Cloud"}, {"url": "https://medium.com/tag/power-bi?source=post_page-----f2d3238f81a6---------------power_bi-----------------", "anchor_text": "Power Bi"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff2d3238f81a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-azure-analysis-services-processing-times-per-table-f2d3238f81a6&user=Arthur+Steijn&userId=ca8dba5b4157&source=-----f2d3238f81a6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff2d3238f81a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-azure-analysis-services-processing-times-per-table-f2d3238f81a6&user=Arthur+Steijn&userId=ca8dba5b4157&source=-----f2d3238f81a6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff2d3238f81a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-azure-analysis-services-processing-times-per-table-f2d3238f81a6&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f2d3238f81a6--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff2d3238f81a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-azure-analysis-services-processing-times-per-table-f2d3238f81a6&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f2d3238f81a6---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f2d3238f81a6--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f2d3238f81a6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f2d3238f81a6--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f2d3238f81a6--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f2d3238f81a6--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f2d3238f81a6--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f2d3238f81a6--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f2d3238f81a6--------------------------------", "anchor_text": ""}, {"url": "https://arthur86s.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://arthur86s.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Arthur Steijn"}, {"url": "https://arthur86s.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "32 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fca8dba5b4157&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-azure-analysis-services-processing-times-per-table-f2d3238f81a6&user=Arthur+Steijn&userId=ca8dba5b4157&source=post_page-ca8dba5b4157--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F5d4e7ed324e1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftrack-your-azure-analysis-services-processing-times-per-table-f2d3238f81a6&newsletterV3=ca8dba5b4157&newsletterV3Id=5d4e7ed324e1&user=Arthur+Steijn&userId=ca8dba5b4157&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}