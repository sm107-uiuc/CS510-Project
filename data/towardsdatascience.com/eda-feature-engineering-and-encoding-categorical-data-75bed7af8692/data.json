{"url": "https://towardsdatascience.com/eda-feature-engineering-and-encoding-categorical-data-75bed7af8692", "time": 1683010061.445977, "path": "towardsdatascience.com/eda-feature-engineering-and-encoding-categorical-data-75bed7af8692/", "webpage": {"metadata": {"title": "EDA: Feature Engineering and Encoding Categorical Data | by Wesley Neill | Towards Data Science", "h1": "EDA: Feature Engineering and Encoding Categorical Data", "description": "Last week, we began our series on regression techniques with some exploration of the Ames, Iowa real-estate dataset, using scatterplots and bar plots. These techniques are meant to build basic\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/@wesley.neill/end-to-end-regression-techniques-for-real-estate-predictions-be98e689fca5", "anchor_text": "Last week", "paragraph_index": 0}, {"url": "https://medium.com/@wesley.neill/end-to-end-regression-techniques-for-real-estate-predictions-be98e689fca5", "anchor_text": "here", "paragraph_index": 1}, {"url": "https://github.com/wcneill/jn-kaggle/blob/master/house%20prices/sales.ipynb", "anchor_text": "full notebook here", "paragraph_index": 2}, {"url": "https://raw.githubusercontent.com/wcneill/jn-kaggle/master/house%20prices/data_description.txt", "anchor_text": "data dictionary", "paragraph_index": 6}, {"url": "https://raw.githubusercontent.com/wcneill/jn-kaggle/master/house%20prices/data_description.txt", "anchor_text": "data dictionary", "paragraph_index": 10}, {"url": "https://www.homelight.com/blog/how-much-value-does-a-finished-basement-add/", "anchor_text": "a finished basement adds less value per square foot than an above-ground room", "paragraph_index": 14}, {"url": "https://raw.githubusercontent.com/wcneill/jn-kaggle/master/house%20prices/data_description.txt", "anchor_text": "data dictionary", "paragraph_index": 19}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.map.html", "anchor_text": "Pandas.Series.map", "paragraph_index": 22}], "all_paragraphs": ["Last week, we began our series on regression techniques with some exploration of the Ames, Iowa real-estate dataset, using scatterplots and bar plots. These techniques are meant to build basic intuition about patterns in our data. Plotting our data also allows us to sift through and get to know the variables we are working with. In this dataset, there are 79 different variables used to predict home sale prices. That\u2019s a lot!", "Then, we wrapped up with some ways to evaluate and fill in missing data. If you\u2019d like to read the full article, you can find it here.", "Now, load up your Jupyter Notebook from last week, and let\u2019s get started! You can find my full notebook here, but like last time, I encourage you to develop your own as we move through this tutorial.", "Before we get started, make sure you\u2019ve completed our first exercise:", "The idea behind feature engineering is to first discover and then bring to the surface patterns in the data that may drive our predictor variable. This two-part process begins with an exploration of our intuition.", "Notice that some of these questions have \u201cYes\u201d or \u201cNo\u201d answers, and the simple act of answering with \u201cYes\u201d drives sale price up in your mind. It\u2019s not necessarily any different when it comes to machine learning.", "Now imagine a machine learning algorithm that can only answer questions based on the data it has. If we look at our data dictionary, we see only two variables that are associated with a home\u2019s pool:", "A human can make the jump from a given home having an \u201cExcellent\u201d pool quality to \u201cThis home must have a pool\u201d. There is no guarantee that your algorithm or model can, however. Therefore, we must bring this pattern to the surface through feature engineering.", "Time for some code! I\u2019m assuming you have your notebook ready to go, and the dataset loaded.", "This single line of code adds the feature HasPool to your Pandas data frame.", "What if I want to know if a home has a big shed or not? What if I want to know if my potential new house has a tennis court? Okay, I\u2019d never want to know that, but someone would. Let\u2019s again look at our best friend, the data dictionary. I see a variable called MiscFeature which has the following possible values:", "Well, that was easy. We can now extract several features that may or may not affect the value of a home:", "Keep in mind, that any variables you engineer in the training set also need to be created in the test set.", "Another way of tackling feature engineering is to \u201cTry to say the same thing differently\u201d. You can take existing information and break it into smaller parts. Imagine explaining a concept with more detail to someone who doesn\u2019t understand. Alternatively, you can combine existing variables, which would be analogous to explaining a concept in broader strokes.", "Before we move away from feature engineering, let me just say this: Don\u2019t trust your intuition. Intuition is typically built by experience and experimentation. When intuition fails due to a lack of experience, research is a great substitute. For example, I didn\u2019t know that a finished basement adds less value per square foot than an above-ground room!", "Before we can garner any statistical insights into our data, we need it all to be encoded in numerical format. This will allow us to perform calculations on our data. To get an intuition about how to do this, we need to consider that there are two types of categorical variables: Ordinal and Nominal.", "Ordinal: The possible values for an ordinal variable are non-continuous but do have an underlying rank structure. An example of an ordinal variable would be one that classifies college students into one of four categories: Freshman, Sophomore, Junior, or Senior. These discrete categories have an underlying order.", "Nominal: A nominal variable is one that has no obvious underlying rank or order. Color is a good example. \u2018Red\u2019, \u2018Blue\u2019, \u2018Green\u2019 might as well be listed \u2018Blue\u2019, \u2018Green\u2019, \u2018Red\u2019, as they have no intrinsic properties that give them rank.", "Defining these two categories is important when we want to convert categorical data to numbers. If our categories are ordinal, we must provide a method that preserves the underlying rank structure.", "Once we have our ordinal/ranked data separated, we must figure out exactly how it is ranked. Again, we must refer to our data dictionary to do this. If you haven\u2019t noticed, the data dictionary is an essential tool that you should probably have open at all times. For example, let\u2019s take the variable BsmtExposure:", "This variable describes how well exposed to the outside a basement is. Many split level homes have a furnished basement with external access and patio or porch. This is considered \u201cgood exposure\u201d, and we must account for it when we encode our variables.", "There are likely many ways to encode ordinal data to numbers, but I like to use a dictionary or map.", "Note the use of Pandas.Series.map to transform our variable with rank intact.", "Likewise, we can do the same thing with the variable Functional, which describes any major damage or other issues with the house. Values range from Sal to Typ, where Sal means the house has experienced catastrophic damage and is uninhabitable. Typ signifies normal wear and tear.", "Okay, everybody likes heat maps of correlation matrices. I\u2019m as guilty as the next guy or gal, and I am guilty of spending way too much time on choosing the perfect color map to match the rest of my notebook. So here\u2019s a sample of what we are going to do in the next article (after we talk about why we can\u2019t trust a pretty face\u2026 or heatmap):", "Which will bring us to statistical testing\u2026 If the first date is a heatmap, then performing statistical testing is digging deep to find out if your new crush is as pretty on the inside as she is on the outside.", "Until then, feel free to leave a comment with any questions, comments, or corrections!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "MSc Applied Mathematics, BSc Information Technology. Data-Scientist and outdoor enthusiast."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F75bed7af8692&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feda-feature-engineering-and-encoding-categorical-data-75bed7af8692&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feda-feature-engineering-and-encoding-categorical-data-75bed7af8692&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feda-feature-engineering-and-encoding-categorical-data-75bed7af8692&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feda-feature-engineering-and-encoding-categorical-data-75bed7af8692&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----75bed7af8692--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----75bed7af8692--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@wesley.neill?source=post_page-----75bed7af8692--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@wesley.neill?source=post_page-----75bed7af8692--------------------------------", "anchor_text": "Wesley Neill"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc66e68d62a7d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feda-feature-engineering-and-encoding-categorical-data-75bed7af8692&user=Wesley+Neill&userId=c66e68d62a7d&source=post_page-c66e68d62a7d----75bed7af8692---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F75bed7af8692&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feda-feature-engineering-and-encoding-categorical-data-75bed7af8692&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F75bed7af8692&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feda-feature-engineering-and-encoding-categorical-data-75bed7af8692&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/tag/regression-for-beginners", "anchor_text": "Regression Techniques for Beginners"}, {"url": "https://medium.com/@wesley.neill/end-to-end-regression-techniques-for-real-estate-predictions-be98e689fca5", "anchor_text": "Last week"}, {"url": "https://medium.com/@wesley.neill/end-to-end-regression-techniques-for-real-estate-predictions-be98e689fca5", "anchor_text": "here"}, {"url": "https://github.com/wcneill/jn-kaggle/blob/master/house%20prices/sales.ipynb", "anchor_text": "full notebook here"}, {"url": "https://medium.com/@wesley.neill/end-to-end-regression-techniques-for-real-estate-predictions-be98e689fca5", "anchor_text": "outlined last week"}, {"url": "https://unsplash.com/@rpnickson?utm_source=medium&utm_medium=referral", "anchor_text": "Roberto Nickson"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://raw.githubusercontent.com/wcneill/jn-kaggle/master/house%20prices/data_description.txt", "anchor_text": "data dictionary"}, {"url": "https://raw.githubusercontent.com/wcneill/jn-kaggle/master/house%20prices/data_description.txt", "anchor_text": "data dictionary"}, {"url": "https://www.homelight.com/blog/how-much-value-does-a-finished-basement-add/", "anchor_text": "a finished basement adds less value per square foot than an above-ground room"}, {"url": "https://raw.githubusercontent.com/wcneill/jn-kaggle/master/house%20prices/data_description.txt", "anchor_text": "data dictionary"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.map.html", "anchor_text": "Pandas.Series.map"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----75bed7af8692---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/business?source=post_page-----75bed7af8692---------------business-----------------", "anchor_text": "Business"}, {"url": "https://medium.com/tag/business-strategy?source=post_page-----75bed7af8692---------------business_strategy-----------------", "anchor_text": "Business Strategy"}, {"url": "https://medium.com/tag/data-science?source=post_page-----75bed7af8692---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/regression-for-beginners?source=post_page-----75bed7af8692---------------regression_for_beginners-----------------", "anchor_text": "Regression For Beginners"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F75bed7af8692&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feda-feature-engineering-and-encoding-categorical-data-75bed7af8692&user=Wesley+Neill&userId=c66e68d62a7d&source=-----75bed7af8692---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F75bed7af8692&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feda-feature-engineering-and-encoding-categorical-data-75bed7af8692&user=Wesley+Neill&userId=c66e68d62a7d&source=-----75bed7af8692---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F75bed7af8692&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feda-feature-engineering-and-encoding-categorical-data-75bed7af8692&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----75bed7af8692--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F75bed7af8692&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feda-feature-engineering-and-encoding-categorical-data-75bed7af8692&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----75bed7af8692---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----75bed7af8692--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----75bed7af8692--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----75bed7af8692--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----75bed7af8692--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----75bed7af8692--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----75bed7af8692--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----75bed7af8692--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----75bed7af8692--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@wesley.neill?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@wesley.neill?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Wesley Neill"}, {"url": "https://medium.com/@wesley.neill/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "44 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc66e68d62a7d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feda-feature-engineering-and-encoding-categorical-data-75bed7af8692&user=Wesley+Neill&userId=c66e68d62a7d&source=post_page-c66e68d62a7d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F57e6f0c535f6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feda-feature-engineering-and-encoding-categorical-data-75bed7af8692&newsletterV3=c66e68d62a7d&newsletterV3Id=57e6f0c535f6&user=Wesley+Neill&userId=c66e68d62a7d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}