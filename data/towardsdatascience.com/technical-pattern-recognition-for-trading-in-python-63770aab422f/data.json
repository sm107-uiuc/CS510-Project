{"url": "https://towardsdatascience.com/technical-pattern-recognition-for-trading-in-python-63770aab422f", "time": 1683015206.591394, "path": "towardsdatascience.com/technical-pattern-recognition-for-trading-in-python-63770aab422f/", "webpage": {"metadata": {"title": "Technical Pattern Recognition for Trading in Python | by Sofien Kaabar, CFA | Towards Data Science", "h1": "Technical Pattern Recognition for Trading in Python", "description": "Note from Towards Data Science\u2019s editors: While we allow independent authors to publish articles in accordance with our rules and guidelines, we do not endorse each author\u2019s contribution. You should\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms", "paragraph_index": 0}, {"url": "https://www.amazon.com/dp/B089CWQWF8", "anchor_text": "The Book of Back-tests", "paragraph_index": 19}], "all_paragraphs": ["Note from Towards Data Science\u2019s editors: While we allow independent authors to publish articles in accordance with our rules and guidelines, we do not endorse each author\u2019s contribution. You should not rely on an author\u2019s works without seeking professional advice. See our Reader Terms for details.", "I have just published a new book after the success of New Technical Indicators in Python. It features a more complete description and addition of complex trading strategies with a Github page dedicated to the continuously updated code. If you feel that this interests you, feel free to visit the below link, or if you prefer to buy the PDF version, you could contact me on Linkedin.", "Pattern recognition is the search and identification of recurring patterns with approximately similar outcomes. This means that when we manage to find a pattern, we have an expected outcome that we want to see and act on through our trading. For example, a head and shoulders pattern is a classic technical pattern that signals an imminent trend reversal. The literature differs on the predictive ability of this famous configuration. In this article, we will discuss some exotic objective patterns. I say objective because they have clear rules unlike the classic patterns such as the head and shoulders and the double top/bottom. We will discuss three related patterns created by Tom Demark:", "For more on other Technical trading patterns, feel free to check the below article that presents the Waldo configurations and back-tests some of them:", "The TD Differential group has been created (or found?) in order to find short-term reversals or continuations. They are supposed to help confirm our biases by giving us an extra conviction factor. For example, let us say that you expect a rise on the USDCAD pair over the next few weeks. You have your justifications for the trade, and you find some patterns on the higher time frame that seem to confirm what you are thinking. This will definitely make you more comfortable taking the trade. Below is a summary table of the conditions for the three different patterns to be triggered.", "Before we start presenting the patterns individually, we need to understand the concept of buying and selling pressure from the perception of the Differentials group. To calculate the Buying Pressure, we use the below formulas:", "To calculate the Selling Pressure, we use the below formulas:", "Now, we will take them on one by one by first showing a real example, then coding a function in python that searches for them, and finally we will create the strategy that trades based on the patterns. It is worth noting that we will be back-testing the very short-term horizon of M5 bars (From November 2019) with a bid/ask spread of 0.1 pip per trade (thus, a 0.2 cost per round).", "This pattern seeks to find short-term trend reversals; therefore, it can be seen as a predictor of small corrections and consolidations. Below is an example on a candlestick chart of the TD Differential pattern.", "If we want to code the conditions in Python, we may have a function similar to the below:", "Now, let us back-test this strategy all while respecting a risk management system that uses the ATR to place objective stop and profit orders. I have found that by using a stop of 4x the ATR and a target of 1x the ATR, the algorithm is optimized for the profit it generates (be that positive or negative). It is clear that this is a clear violation of the basic risk-reward ratio rule, however, remember that this is a systematic strategy that seeks to maximize the hit ratio on the expense of the risk-reward ratio.", "Reminder: The risk-reward ratio (or reward-risk ratio) measures on average how much reward do you expect for every risk you are willing to take. For example, you want to buy a stock at $100, you have a target at $110, and you place your stop-loss order at $95. What is your risk reward ratio? Clearly, you are risking $5 to gain $10 and thus 10/5 = 2.0. Your risk reward ratio is therefore 2. It is generally recommended to always have a ratio that is higher than 1.0 with 2.0 as being optimal. In this case, if you trade equal quantities (size) and risking half of what you expect to earn, you will only need a hit ratio of 33.33% to breakeven. A good risk-reward ratio will take the stress out of pursuing a high hit ratio.", "It looks like it works well on AUDCAD and EURCAD with some intermediate periods where it underperforms. Also, the general tendency of the equity curves is upwards with the exception of AUDUSD, GBPUSD, and USDCAD. For a strategy based on only one pattern, it does show some potential if we add other elements. If we take a look at an honorable mention, the performance metrics of the AUDCAD were not bad, topping at 69.72% hit ratio and an expectancy of $0.44 per trade.", "If you are also interested by more technical indicators and using Python to create strategies, then my best-selling book on Technical Indicators may interest you:", "This pattern seeks to find short-term trend continuations; therefore, it can be seen as a predictor of when the trend is strong enough to continue. It is useful because as we know it, the trend is our friend, and by adding another friend to the group, we may have more chance to make a profitable strategy. Let us check the conditions and how to code it:", "It looks like it works well on GBPUSD and EURNZD with some intermediate periods where it underperforms. The general tendency of the equity curves is less impressive than with the first pattern. If we take a look at some honorable mentions, the performance metrics of the GBPUSD were not too bad either, topping at 67.28% hit ratio and an expectancy of $0.34 per trade.", "This pattern also seeks to find short-term trend reversals, therefore, it can be seen as a predictor of small corrections and consolidations. It is similar to the TD Differential pattern. The following are the conditions followed by the Python function.", "It looks much less impressive than the previous two strategies. The general tendency of the equity curves is mixed. If we take a look at some honorable mentions, the performance metrics of the EURNZD were not too bad either, topping at 64.45% hit ratio and an expectancy of $0.38 per trade.", "Remember, the reason we have such a high hit ratio is due to the bad risk-reward ratio we have imposed in the beginning of the back-tests. With a target at 1x ATR and a stop at 4x ATR, the hit ratio needs to be high enough to compensate for the larger losses.", "I am always fascinated by patterns as I believe that our world contains some predictable outcomes even though it is extremely difficult to extract signals from noise, but all we can do to face the future is to be prepared, and what is preparing really about? It is anticipating (forecasting) the probable scenarios so that we are ready when they arrive. In The Book of Back-tests, I discuss more patterns relating to candlesticks which demystifies some mainstream knowledge about candlestick patterns.", "I always advise you to do the proper back-tests and understand any risks relating to trading. For example, the above results are not very indicative as the spread we have used is very competitive and may be considered hard to constantly obtain in the retail trading world. However, with institutional bid/ask spreads, it may be possible to lower the costs such as that a systematic medium-frequency strategy starts being profitable.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Top writer in Finance, Investing, Business | Trader & Author"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F63770aab422f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftechnical-pattern-recognition-for-trading-in-python-63770aab422f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftechnical-pattern-recognition-for-trading-in-python-63770aab422f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftechnical-pattern-recognition-for-trading-in-python-63770aab422f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftechnical-pattern-recognition-for-trading-in-python-63770aab422f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----63770aab422f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----63770aab422f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://kaabar-sofien.medium.com/?source=post_page-----63770aab422f--------------------------------", "anchor_text": ""}, {"url": "https://kaabar-sofien.medium.com/?source=post_page-----63770aab422f--------------------------------", "anchor_text": "Sofien Kaabar, CFA"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F38cf8a3c1a81&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftechnical-pattern-recognition-for-trading-in-python-63770aab422f&user=Sofien+Kaabar%2C+CFA&userId=38cf8a3c1a81&source=post_page-38cf8a3c1a81----63770aab422f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F63770aab422f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftechnical-pattern-recognition-for-trading-in-python-63770aab422f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F63770aab422f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftechnical-pattern-recognition-for-trading-in-python-63770aab422f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines"}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms"}, {"url": "https://www.amazon.com/gp/product/B09919GQ22/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B09919GQ22&linkCode=as2&tag=sofien-20&linkId=bc5df3f6ab0f3af2df79641c56b949ba", "anchor_text": "The Book of Trading StrategiesAmazon.com: The Book of Trading Strategies (9798532885707): Kaabar, Sofien: Bookswww.amazon.com"}, {"url": "https://medium.com/@kaabar.sofien/wheres-waldo-67f73baa0929", "anchor_text": "Where\u2019s Waldo?Tom Demark, the renowned famous technical analyst has created many successful indicators and patterns. Among his many\u2026medium.com"}, {"url": "https://www.amazon.com/gp/product/B08WZL1PNL/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B08WZL1PNL&linkCode=as2&tag=sofien-20&linkId=e3cb9716bb6a07cf6c8b9fb585412b07", "anchor_text": "New Technical Indicators in PythonAmazon.com: New Technical Indicators in Python: 9798711128861: Kaabar, Mr Sofien: Bookswww.amazon.com"}, {"url": "https://www.amazon.com/dp/B089CWQWF8", "anchor_text": "The Book of Back-tests"}, {"url": "https://pixabay.com/users/msandersmusic-1972097/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=1181864", "anchor_text": "msandersmusic"}, {"url": "https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=1181864", "anchor_text": "Pixabay"}, {"url": "https://medium.com/tag/trading?source=post_page-----63770aab422f---------------trading-----------------", "anchor_text": "Trading"}, {"url": "https://medium.com/tag/investing?source=post_page-----63770aab422f---------------investing-----------------", "anchor_text": "Investing"}, {"url": "https://medium.com/tag/data-science?source=post_page-----63770aab422f---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----63770aab422f---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----63770aab422f---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F63770aab422f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftechnical-pattern-recognition-for-trading-in-python-63770aab422f&user=Sofien+Kaabar%2C+CFA&userId=38cf8a3c1a81&source=-----63770aab422f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F63770aab422f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftechnical-pattern-recognition-for-trading-in-python-63770aab422f&user=Sofien+Kaabar%2C+CFA&userId=38cf8a3c1a81&source=-----63770aab422f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F63770aab422f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftechnical-pattern-recognition-for-trading-in-python-63770aab422f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----63770aab422f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F63770aab422f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftechnical-pattern-recognition-for-trading-in-python-63770aab422f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----63770aab422f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----63770aab422f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----63770aab422f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----63770aab422f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----63770aab422f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----63770aab422f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----63770aab422f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----63770aab422f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----63770aab422f--------------------------------", "anchor_text": ""}, {"url": "https://kaabar-sofien.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://kaabar-sofien.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sofien Kaabar, CFA"}, {"url": "https://kaabar-sofien.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "12.4K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F38cf8a3c1a81&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftechnical-pattern-recognition-for-trading-in-python-63770aab422f&user=Sofien+Kaabar%2C+CFA&userId=38cf8a3c1a81&source=post_page-38cf8a3c1a81--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F369c97b6a708&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftechnical-pattern-recognition-for-trading-in-python-63770aab422f&newsletterV3=38cf8a3c1a81&newsletterV3Id=369c97b6a708&user=Sofien+Kaabar%2C+CFA&userId=38cf8a3c1a81&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://amzn.to/3CUNmLR", "anchor_text": "Mastering Financial Pattern Recognition: Finding and Back-Testing Candlestick Patterns with Python2023"}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}