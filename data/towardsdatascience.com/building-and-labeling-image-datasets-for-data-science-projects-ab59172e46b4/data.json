{"url": "https://towardsdatascience.com/building-and-labeling-image-datasets-for-data-science-projects-ab59172e46b4", "time": 1683000327.118399, "path": "towardsdatascience.com/building-and-labeling-image-datasets-for-data-science-projects-ab59172e46b4/", "webpage": {"metadata": {"title": "Building and Labeling Image Datasets for Data Science Projects | by Michael Sugimura | Towards Data Science", "h1": "Building and Labeling Image Datasets for Data Science Projects", "description": "Building datasets is crucial to the data science project pipeline but isn\u2019t discussed as much. This post is me writing out some of my processes and the ways I build datasets for myu blogs"}, "outgoing_paragraph_urls": [{"url": "https://github.com/tzutalin/labelImg", "anchor_text": "labelimg", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/calculating-d-d-damage-with-tensorflow-88db84604f0a", "anchor_text": "dice counter", "paragraph_index": 1}, {"url": "https://www.pyimagesearch.com/2017/12/04/how-to-create-a-deep-learning-dataset-using-google-images/", "anchor_text": "Santa Claus detector", "paragraph_index": 3}, {"url": "https://www.pyimagesearch.com/2018/04/09/how-to-quickly-build-a-deep-learning-image-dataset/", "anchor_text": "here", "paragraph_index": 5}, {"url": "https://github.com/tzutalin/labelImg", "anchor_text": "labelimg", "paragraph_index": 10}, {"url": "http://www.robots.ox.ac.uk/~vgg/software/via/", "anchor_text": "VIA", "paragraph_index": 11}, {"url": "https://github.com/agermanidis/pigeon", "anchor_text": "pigeon", "paragraph_index": 12}, {"url": "https://github.com/agermanidis", "anchor_text": "agermanidis", "paragraph_index": 12}, {"url": "https://dzone.com/articles/executable-package-pip-install", "anchor_text": "this", "paragraph_index": 14}, {"url": "https://github.com/sugi-chan/multi_label_pigeon", "anchor_text": "multi-label-pigeon", "paragraph_index": 14}, {"url": "https://www.linkedin.com/in/michael-sugimura-b8120940/", "anchor_text": "https://www.linkedin.com/in/michael-sugimura-b8120940/", "paragraph_index": 23}], "all_paragraphs": ["Using standardized datasets is great for benchmarking new models/pipelines or for competitions. But for me at least a lot of fun of data science comes when you get to apply things to a project of your own choosing. One of the key parts of this process is building a dataset.", "So there are a lot of ways to build image datasets. For certain things I have legitimately just taken screenshots like when I was sick and built a facial recognition dataset using season 4 of the Flash and annotated it with labelimg. Another route I have taken is downloading a bunch of images by hand and just display images and label them in an excel spreadsheet\u2026 For certain projects you might just have to take a bunch of pictures with your phone as was the case when I made my dice counter.", "These days I have figured out a few more tricks which make this processes a bit easier and am working on improving things along the way.", "The first major upgrade in my pipeline to download images was to pull image urls from google using some javascript based on a PyimageSearch tutorial where they go ahead and make a dataset for a Santa Claus detector.", "The main idea with this one is that you can use the searches as the \u201clabel\u201d for that category. So for this one you could do google searches for Santa Claus pull down those urls, download those images and use \u201cSanta Claus\u201d as their label. This process is pretty good and I have used it for a number of personal projects. but we can technically do better and another PyimageSearch tutorial paves the way here.", "As an alternative to the previous method where you have to manually do searches and enter javascript, PyimageSearch does another tutorial on using Bing\u2019s search api to make image datasets fairly quickly here. This is a method I actually like a good bit and it was easy to interact with the Bing api, it was nice to gather a fairly large number of images in an automated way. I have only played with the Bing API during the trial period but was pretty happy with the results so if it comes down to it I will probably pay for the service as needed.", "Both of these methods let you download images fairly quickly and if you are just doing a multi-class type problem then you already have your labels. However there are some extra steps to take in order to clean the dataset and this labeling method doesn\u2019t help much in the case of multi-task or multi-label type problems.", "For both of these methods you generally only get a few hundred images per search that are relevant to the search terms you give it. There are a few steps that I take which are based on the PyimageSearch tutorials.", "One of the reasons I like adobe bridge is that I can basically just filter images with the arrow keys and use the down arrow to throw out images. When you finish review mode you are left with all the images you didn\u2019t throw out still selected so I usually just copy all of those into a new directory that will just contain cleaned images. For one project I got through like 7K images in an hour or two\u2026 It would have taken much longer with the default Mac interface.", "So with the PyimageSearch methods if you are doing a simple multi-task problem then you can mark the label for each set of URLs you download and use those as category labels. However depending on the type of project you may need additional labels besides those basic class names.", "For object detection models with the pipelines I have used I favor labelimg which has a nice set of hotkeys so that you can fly pretty quickly through labeling datasets.", "For image segmentation I use an annotator from the folks at Oxford VIA (VGG Image Annotator). I am guessing they were the Oxford group that invented the VGG architecture?", "Then until recently I hadn\u2019t really figured out a good way to label multiple labels on a single image, but a colleague showed me an annotator called pigeon. It has good functionality to annotate data inside a jupyter notebook for images and text for standard multi-class classification or regression type problems. The library is pretty cool and credit goes to agermanidis for making the library.", "However I don\u2019t deal with regression much and rarely do I need to build straight forward multi-class datasets since I could just use the labels from a PyimageSearch based method. A lot of of real world problems aren\u2019t as cut and dry as to have only a single label associated with them so I have been tending towards doing multi-label and multi-task type problems. So I made a package which extends the standard pigeon library to do multi-label image annotation!", "For some reason when I saw the pigeon library I thought it would just be really cool to be able to label my multi-label/multi-task problems using it. I made my modifications and added it to pypi (which I had not done before, I basically followed this tutorial). So I guess I am introducing my multi-label-pigeon library!", "In its current state all I have done is added functionality for labeling multiple tasks at once and a user can pick as many labels as they want. The idea is that it makes it simpler to label a bunch of different questions at once as compared to my previous processes which have been largely manual. Also because I am not the most adultish I used chibi Fate series characters to show annotations.", "Basically what the demo is showing is how to label a 3 task problems. The different tasks to label are defined with a dictionary where each task name is a key and a list of potential answers is the value.", "For the different tasks I am just labeling whether an image is.", "The first two are binary ones where I just answered yes or no, but for color I marked multiple colors for some. All these results get recorded in a dictionary where the keys are the path to an image and the values are dictionaries containing the task names and buttons pressed for each task.", "For me this is a quality of life upgrade for myself and I figured I could throw it out into the abyss and if anyone else thinks it is useful they can feel free to use it!", "I end up building a lot of datasets and hoarding them like some sort of dataset dragon so I have gotten a decent bit of practice and learned things along the way. Since it is a pretty foundational part of projects but isn\u2019t often talked about I figured having a post just focusing on it could be cool, but am still unsure if it will be useful to folks (maybe everyone already knows these things? who knows?).", "But at the end of the day, like most blogging things I figure it is worthwhile to throw it out there and if it helps some folks that\u2019s great! If not then also cool!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "data scientist, gamer, martial artist, photographer, and chef\u2026 also part time house cat. https://www.linkedin.com/in/michael-sugimura-b8120940/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fab59172e46b4&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-and-labeling-image-datasets-for-data-science-projects-ab59172e46b4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-and-labeling-image-datasets-for-data-science-projects-ab59172e46b4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-and-labeling-image-datasets-for-data-science-projects-ab59172e46b4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-and-labeling-image-datasets-for-data-science-projects-ab59172e46b4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ab59172e46b4--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ab59172e46b4--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@michaelsugimura?source=post_page-----ab59172e46b4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@michaelsugimura?source=post_page-----ab59172e46b4--------------------------------", "anchor_text": "Michael Sugimura"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5d6bed290a7c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-and-labeling-image-datasets-for-data-science-projects-ab59172e46b4&user=Michael+Sugimura&userId=5d6bed290a7c&source=post_page-5d6bed290a7c----ab59172e46b4---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fab59172e46b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-and-labeling-image-datasets-for-data-science-projects-ab59172e46b4&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fab59172e46b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-and-labeling-image-datasets-for-data-science-projects-ab59172e46b4&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/tzutalin/labelImg", "anchor_text": "labelimg"}, {"url": "https://towardsdatascience.com/calculating-d-d-damage-with-tensorflow-88db84604f0a", "anchor_text": "dice counter"}, {"url": "https://www.pyimagesearch.com/2017/12/04/how-to-create-a-deep-learning-dataset-using-google-images/", "anchor_text": "Santa Claus detector"}, {"url": "https://www.pyimagesearch.com/2018/04/09/how-to-quickly-build-a-deep-learning-image-dataset/", "anchor_text": "here"}, {"url": "https://github.com/tzutalin/labelImg", "anchor_text": "labelimg"}, {"url": "http://www.robots.ox.ac.uk/~vgg/software/via/", "anchor_text": "VIA"}, {"url": "https://github.com/agermanidis/pigeon", "anchor_text": "pigeon"}, {"url": "https://github.com/agermanidis", "anchor_text": "agermanidis"}, {"url": "https://dzone.com/articles/executable-package-pip-install", "anchor_text": "this"}, {"url": "https://github.com/sugi-chan/multi_label_pigeon", "anchor_text": "multi-label-pigeon"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----ab59172e46b4---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ab59172e46b4---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/computer-vision?source=post_page-----ab59172e46b4---------------computer_vision-----------------", "anchor_text": "Computer Vision"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fab59172e46b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-and-labeling-image-datasets-for-data-science-projects-ab59172e46b4&user=Michael+Sugimura&userId=5d6bed290a7c&source=-----ab59172e46b4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fab59172e46b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-and-labeling-image-datasets-for-data-science-projects-ab59172e46b4&user=Michael+Sugimura&userId=5d6bed290a7c&source=-----ab59172e46b4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fab59172e46b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-and-labeling-image-datasets-for-data-science-projects-ab59172e46b4&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ab59172e46b4--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fab59172e46b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-and-labeling-image-datasets-for-data-science-projects-ab59172e46b4&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ab59172e46b4---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ab59172e46b4--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ab59172e46b4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ab59172e46b4--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ab59172e46b4--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ab59172e46b4--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ab59172e46b4--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ab59172e46b4--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ab59172e46b4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@michaelsugimura?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@michaelsugimura?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Michael Sugimura"}, {"url": "https://medium.com/@michaelsugimura/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "306 Followers"}, {"url": "https://www.linkedin.com/in/michael-sugimura-b8120940/", "anchor_text": "https://www.linkedin.com/in/michael-sugimura-b8120940/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5d6bed290a7c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-and-labeling-image-datasets-for-data-science-projects-ab59172e46b4&user=Michael+Sugimura&userId=5d6bed290a7c&source=post_page-5d6bed290a7c--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ffdc932923852&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-and-labeling-image-datasets-for-data-science-projects-ab59172e46b4&newsletterV3=5d6bed290a7c&newsletterV3Id=fdc932923852&user=Michael+Sugimura&userId=5d6bed290a7c&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}