{"url": "https://towardsdatascience.com/building-a-photo-based-personalized-recommendations-application-27029418d65e", "time": 1683000756.746707, "path": "towardsdatascience.com/building-a-photo-based-personalized-recommendations-application-27029418d65e/", "webpage": {"metadata": {"title": "Building A Photo-Based Personalized Recommendations Application | by William Lyon | Towards Data Science", "h1": "Building A Photo-Based Personalized Recommendations Application", "description": "When designing the Applied Graph Algorithms online training course, we thought it was important to show how to build applications that leverage graph algorithms to add smart features using real-world\u2026"}, "outgoing_paragraph_urls": [{"url": "https://neo4j.com/graphacademy/online-training/applied-graph-algorithms/", "anchor_text": "Applied Graph Algorithms online training course", "paragraph_index": 0}, {"url": "https://neo4j.com/graphacademy/online-training/applied-graph-algorithms/", "anchor_text": "check out the free Applied Graph Algorithms online course!", "paragraph_index": 1}, {"url": "https://www.youtube.com/watch?v=fx5KefPFrJ8", "anchor_text": "this overview video", "paragraph_index": 1}, {"url": "https://neo4j.com/developer/graph-algorithms/", "anchor_text": "learn more about Neo4j Graph Algorithms here", "paragraph_index": 2}, {"url": "https://www.yelp.com/dataset", "anchor_text": "Yelp Open Dataset", "paragraph_index": 3}, {"url": "https://github.com/moxious/vision-api", "anchor_text": "Our script", "paragraph_index": 13}, {"url": "https://neo4j.com/graphacademy/online-training/applied-graph-algorithms/", "anchor_text": "Neo4j Applied Graph Algorithms free online training", "paragraph_index": 27}, {"url": "https://neo4j.com/graphacademy/online-training/applied-graph-algorithms/", "anchor_text": "Enroll today", "paragraph_index": 27}, {"url": "https://neo4j.com/graphacademy/online-training/applied-graph-algorithms/", "anchor_text": "enrolling in the Applied Graph Algorithms Course!", "paragraph_index": 28}, {"url": "http://lyonwj.com", "anchor_text": "lyonwj.com", "paragraph_index": 30}], "all_paragraphs": ["When designing the Applied Graph Algorithms online training course, we thought it was important to show how to build applications that leverage graph algorithms to add smart features using real-world datasets. This blog post details the technique behind one of the exercises in the course: building a photo-based personalized recommendations application.", "This is just one of the exercises, if this is interesting for you, check out the free Applied Graph Algorithms online course! You can learn more about the trainings in this overview video.", "Graph algorithms enable graph analytics and fall into 5 general categories: pathfinding & search, centrality, community detection, link prediction, and similarity. You can learn more about Neo4j Graph Algorithms here.", "The Yelp Open Dataset is a subset of all Yelp businesses, reviews and user data made publicly available by Yelp and can be modelled as a graph and imported into Neo4j. This is a great dataset for getting acquainted with building applications and working with graph data.", "We start with a simple business reviews web application with the goal of enhancing its features using Neo4j Graph Algorithms. The basic functionality of the application allows the user to search for businesses and view reviews of the businesses.", "The web application is a React application that uses the Neo4j JavaScript driver to execute Cypher queries against a Neo4j database instance and handle the results.", "Personalized recommendations are extremely useful across many industries and types of applications. By suggesting items to purchase, articles to read, movies to watch, or songs to listen to, users are happy to have content relevant to their interests, and developers are happy to have more engagement with their application.", "Content-based recommendations and collaborative filtering are the two basic approaches to implementing personalization recommendation systems.", "The content-based approach uses attributes of the items being recommended (movie genre, type of cuisine, etc) and compares those to the preferences of the user to make recommendations. Similarity metrics to compute similarity between items can be useful for this approach.", "Collaborative filtering on the other hand is based on users\u2019 interactions with items, such as purchases or ratings to generate recommendations.", "In this example we use a content-based approach, using photo labels to make personalized recommendations with Neo4j graph algorithms.", "The Yelp Open Dataset includes an archive of 200,000 user-uploaded photos, connected to businesses. These photos will serve as the basis of our personalized recommendation approach.", "Our application will show photos to the user at random, allowing the user to select photos they like. Then, we will find similar photos to the ones liked by the user and the businesses connected to those photos will be recommended.", "How will we determine if photos are similar? The Yelp data includes minimal metadata about each photo, but we ran each photo through the Google Vision API which uses machine learning to determine labels for a photo. Our script fetches the labels for each photo and creates Labelnodes in the graph:", "We can use Jaccard similarity to compute how similar a given pair of photos is. Often used to find recommendations of similar items as well as part of link prediction Jaccard similarity measures the similarity between sets (in our case sets of labels attached to photos).", "Jaccard similarity is a set comparison algorithm and is calculated by dividing the size of the intersection of the two sets by the size of their union. The Jaccard similarity algorithm is available in the Neo4j Graph Algorithms library. Here\u2019s how we use it in a Cypher query, computing the similarity of all pairs of photos.", "This query will create SIMILAR_TOrelationships in the graph, storing the similarity value in a scoreproperty:", "Let\u2019s take a look at two photos with overlapping labels and see how the Jaccard similarity score is calculated. In the image below the two photos have 9 overlapping labels and one label connected to only one photo:", "Therefore, the Jaccard similar score is 9/10 or 0.9", "Label propagation is a community detection algorithm that segments the graph into partitions, or communities, by assigning partition values to each node. It works by seeding nodes with a community assignment then iterating, assigning the community to neighboring nodes at each iteration until the full graph is partitioned.", "To run Label Propagation in Neo4j we pass the node labels and relationship types that define the subgraph on which we want to run the algorithm. In this case, we want to use run the algorithm on the subgraph defined by the SIMILAR relationships:", "This query will add a partition property to group photos by community. We can then query to see the distribution of Photo nodes by community:", "We can validate our photos\u2019 community assignments by selecting a community and viewing the photos assigned to the community. Here we take a community at random and compare the photos:", "Looking at these photos they all seem to be pizzas, so this seems to be a \u201cpizza\u201d cluster. Looks like our approach worked pretty well!", "Now that we\u2019ve grouped the photos into communities using the Label Propagation algorithm we\u2019re ready to generate our personalized business recommendations. Given some photos selected by the user we traverse from those photos to their assigned communities, then to other photos in same community, and then traversing to the business connected to the photo, which become our recommendations. We define this traversal using a simple Cypher query:", "Note how we are combining global and local graph operations in this operation, taking advantage of graph algorithms together with the near real-time performance of graph databases known as index-free adjacency.", "Here\u2019s our new feature in action:", "The Neo4j Applied Graph Algorithms free online training teaches how to leverage graph algorithms to enhance the functionality of a web application, including this photo-based recommendations example. Enroll today to learn more about Neo4j Graph Algorithms like Personalized PageRank, similarity metrics, community detection and adding features such as personalization, recommendations, and enhancing search results.", "You can find all the data and code mentioned in this part by enrolling in the Applied Graph Algorithms Course!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "\ud83e\udd20 Code Cowboy @neo4j | lyonwj.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F27029418d65e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-photo-based-personalized-recommendations-application-27029418d65e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-photo-based-personalized-recommendations-application-27029418d65e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-photo-based-personalized-recommendations-application-27029418d65e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-photo-based-personalized-recommendations-application-27029418d65e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----27029418d65e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----27029418d65e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@lyonwj?source=post_page-----27029418d65e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lyonwj?source=post_page-----27029418d65e--------------------------------", "anchor_text": "William Lyon"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1b83fdec4e46&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-photo-based-personalized-recommendations-application-27029418d65e&user=William+Lyon&userId=1b83fdec4e46&source=post_page-1b83fdec4e46----27029418d65e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F27029418d65e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-photo-based-personalized-recommendations-application-27029418d65e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F27029418d65e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-photo-based-personalized-recommendations-application-27029418d65e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://neo4j.com/graphacademy/online-training/applied-graph-algorithms/", "anchor_text": "Applied Graph Algorithms online training course"}, {"url": "https://neo4j.com/graphacademy/online-training/applied-graph-algorithms/", "anchor_text": "Applied Graph Algorithms online training course"}, {"url": "https://neo4j.com/graphacademy/online-training/applied-graph-algorithms/", "anchor_text": "check out the free Applied Graph Algorithms online course!"}, {"url": "https://www.youtube.com/watch?v=fx5KefPFrJ8", "anchor_text": "this overview video"}, {"url": "https://neo4j.com/developer/graph-algorithms/", "anchor_text": "learn more about Neo4j Graph Algorithms here"}, {"url": "https://www.yelp.com/dataset", "anchor_text": "Yelp Open Dataset"}, {"url": "https://www.yelp.com/dataset", "anchor_text": "Yelp Open Dataset"}, {"url": "https://github.com/moxious/vision-api", "anchor_text": "Our script"}, {"url": "https://neo4j.com/graphacademy/online-training/applied-graph-algorithms/", "anchor_text": "Neo4j Applied Graph Algorithms free online training"}, {"url": "https://neo4j.com/graphacademy/online-training/applied-graph-algorithms/", "anchor_text": "Enroll today"}, {"url": "https://neo4j.com/graphacademy/online-training/applied-graph-algorithms/", "anchor_text": "enrolling in the Applied Graph Algorithms Course!"}, {"url": "https://medium.com/tag/neo4j?source=post_page-----27029418d65e---------------neo4j-----------------", "anchor_text": "Neo4j"}, {"url": "https://medium.com/tag/data-science?source=post_page-----27029418d65e---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/react?source=post_page-----27029418d65e---------------react-----------------", "anchor_text": "React"}, {"url": "https://medium.com/tag/algorithms?source=post_page-----27029418d65e---------------algorithms-----------------", "anchor_text": "Algorithms"}, {"url": "https://medium.com/tag/recommendations?source=post_page-----27029418d65e---------------recommendations-----------------", "anchor_text": "Recommendations"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F27029418d65e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-photo-based-personalized-recommendations-application-27029418d65e&user=William+Lyon&userId=1b83fdec4e46&source=-----27029418d65e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F27029418d65e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-photo-based-personalized-recommendations-application-27029418d65e&user=William+Lyon&userId=1b83fdec4e46&source=-----27029418d65e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F27029418d65e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-photo-based-personalized-recommendations-application-27029418d65e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----27029418d65e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F27029418d65e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-photo-based-personalized-recommendations-application-27029418d65e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----27029418d65e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----27029418d65e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----27029418d65e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----27029418d65e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----27029418d65e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----27029418d65e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----27029418d65e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----27029418d65e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----27029418d65e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lyonwj?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lyonwj?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "William Lyon"}, {"url": "https://medium.com/@lyonwj/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "855 Followers"}, {"url": "http://lyonwj.com", "anchor_text": "lyonwj.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1b83fdec4e46&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-photo-based-personalized-recommendations-application-27029418d65e&user=William+Lyon&userId=1b83fdec4e46&source=post_page-1b83fdec4e46--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fed4686d06886&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-photo-based-personalized-recommendations-application-27029418d65e&newsletterV3=1b83fdec4e46&newsletterV3Id=ed4686d06886&user=William+Lyon&userId=1b83fdec4e46&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}