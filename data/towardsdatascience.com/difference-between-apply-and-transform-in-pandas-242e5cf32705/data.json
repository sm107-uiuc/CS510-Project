{"url": "https://towardsdatascience.com/difference-between-apply-and-transform-in-pandas-242e5cf32705", "time": 1683014157.9011981, "path": "towardsdatascience.com/difference-between-apply-and-transform-in-pandas-242e5cf32705/", "webpage": {"metadata": {"title": "Difference between apply() and transform() in Pandas | by B. Chen | Towards Data Science", "h1": "Difference between apply() and transform() in Pandas", "description": "Pandas is an amazing library that contains extensive built-in functions for manipulating data. When looking for applying a custom function, you might be confusing with the following two choices: They\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/014-pandas-apply-vs-transform/pandas-apply-vs-transform.ipynb", "anchor_text": "Github repo", "paragraph_index": 3}, {"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/014-pandas-apply-vs-transform/pandas-apply-vs-transform.ipynb", "anchor_text": "notebook on my Github", "paragraph_index": 38}, {"url": "https://github.com/BindiChen/machine-learning", "anchor_text": "Github", "paragraph_index": 40}], "all_paragraphs": ["Pandas is an amazing library that contains extensive built-in functions for manipulating data. When looking for applying a custom function, you might be confusing with the following two choices:", "They take the same arguments func and axis. Both call the func along the axis of the given DataFrame. So what is the difference? How do you choose one over the other?", "In this article, we will cover the following usages and go through their difference:", "Please check out my Github repo for the source code.", "Please check out the following articles if you are not familiar with them:", "Both apply() and transform() can be used to manipulate values. Let\u2019s see how they work with the help of some examples.", "Both apply() and transform() can be used to manipulate the entire DataFrame.", "Both apply() and transform() support lambda expression and below is the lambda equivalent:", "Both apply() and transform() can be used for manipulating a single column", "Here are the three main differences", "Let\u2019s take a look at them with the help of some examples.", "(1) transform() works with function, a string function, a list of functions, and a dict. However, apply() is only allowed a function.", "For transform(), we can pass any valid Pandas string function to func", "func can be a list of functions, for example, sqrt and exp from NumPy:", "func can be a dict of axis labels -> function. For example", "(2) transform() cannot produce aggregated results.", "We can use apply() to produce aggregated results, for example, the sum", "However, we will get a ValueError when trying to do the same with transform() . We are getting this problem because the output of transform() has to be a DataFrame that has the same length as self.", "(3) apply() works with multiple Series at a time. But, transform() is only allowed to work with a single Series at a time.", "To demonstrate this, let\u2019s create a function to work on 2 Series at a time.", "apply() works perfect with subtract_two and axis=1", "However, we are getting a ValueError when trying to do the same with transform(). This is because transform() is only allowed to work with a single Series at a time.", "We will get the same result when using a lambda expression", "Both apply() and transform() can be used in conjunction with groupby(). And in fact, it is one of the most compelling usages of transform(). For more details, please take a look at \u201cCombining groupby() results\u201d from the following article:", "Here are the 2 differences when using them in conjunction with groupby()", "Let\u2019s create a DataFrame and show the difference with some examples", "In the example above, the data can be split into three groups by key.", "(1) transform() returns a Series that has the same length as the input", "To demonstrate this, let\u2019s make a function to produce an aggregated result.", "For apply() , it returns one value for each group and the output shape is (num_of_groups, 1) .", "For transform(), it returns a Series that has the same length as the given DataFrame and the output shape is (len(df), 1)", "(2) apply() works with multiple Series at a time. Buttransform() is only allowed to work with a single Series at a time.", "This is the same difference as we mentioned in \u201c1. Manipulating values\u201d, and we just don\u2019t need to specify the argument axis on a groupby() result.", "To demonstrate this, let\u2019s create a function to work on 2 Series at a time.", "apply() works with multiple Series at a time.", "However, we are getting a KeyError when trying the same with transform()", "For manipulating values, both apply() and transform() can be used to manipulate an entire DataFrame or any specific column. But there are 3 differences", "For working in conjunction with groupby()", "Please checkout the notebook on my Github for the source code.", "Stay tuned if you are interested in the practical aspect of machine learning.", "More can be found from my Github", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F242e5cf32705&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifference-between-apply-and-transform-in-pandas-242e5cf32705&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifference-between-apply-and-transform-in-pandas-242e5cf32705&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifference-between-apply-and-transform-in-pandas-242e5cf32705&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifference-between-apply-and-transform-in-pandas-242e5cf32705&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----242e5cf32705--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----242e5cf32705--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://bindichen.medium.com/?source=post_page-----242e5cf32705--------------------------------", "anchor_text": ""}, {"url": "https://bindichen.medium.com/?source=post_page-----242e5cf32705--------------------------------", "anchor_text": "B. Chen"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F563d09da62a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifference-between-apply-and-transform-in-pandas-242e5cf32705&user=B.+Chen&userId=563d09da62a&source=post_page-563d09da62a----242e5cf32705---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F242e5cf32705&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifference-between-apply-and-transform-in-pandas-242e5cf32705&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F242e5cf32705&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifference-between-apply-and-transform-in-pandas-242e5cf32705&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@billow926?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "billow926"}, {"url": "https://unsplash.com/s/photos/kongfu-panda?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/014-pandas-apply-vs-transform/pandas-apply-vs-transform.ipynb", "anchor_text": "Github repo"}, {"url": "https://towardsdatascience.com/when-to-use-pandas-transform-function-df8861aa0dcf", "anchor_text": "When to use Pandas transform() functionSome of the most useful Pandas trickstowardsdatascience.com"}, {"url": "https://towardsdatascience.com/introduction-to-pandas-apply-applymap-and-map-5d3e044e93ff", "anchor_text": "Introduction to Pandas apply, applymap and mapAn intuitive Pandas tutorial for how to apply a function using apply() and applymap(), and how to substitute value\u2026towardsdatascience.com"}, {"url": "https://towardsdatascience.com/when-to-use-pandas-transform-function-df8861aa0dcf", "anchor_text": "When to use Pandas transform() functionSome of the most useful Pandas trickstowardsdatascience.com"}, {"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/014-pandas-apply-vs-transform/pandas-apply-vs-transform.ipynb", "anchor_text": "notebook on my Github"}, {"url": "https://towardsdatascience.com/when-to-use-pandas-transform-function-df8861aa0dcf", "anchor_text": "When to use Pandas transform() function"}, {"url": "https://medium.com/@bindiatwork/using-pandas-method-chaining-to-improve-code-readability-d8517c5626ac", "anchor_text": "Using Pandas method chaining to improve code readability"}, {"url": "https://towardsdatascience.com/working-with-datetime-in-pandas-dataframe-663f7af6c587", "anchor_text": "Working with datetime in Pandas DataFrame"}, {"url": "https://medium.com/@bindiatwork/all-the-pandas-read-csv-you-should-know-to-speed-up-your-data-analysis-1e16fe1039f3", "anchor_text": "Pandas read_csv() tricks you should know"}, {"url": "https://towardsdatascience.com/4-tricks-you-should-know-to-parse-date-columns-with-pandas-read-csv-27355bb2ad0e", "anchor_text": "4 tricks you should know to parse date columns with Pandas read_csv()"}, {"url": "https://github.com/BindiChen/machine-learning", "anchor_text": "Github"}, {"url": "https://medium.com/tag/python?source=post_page-----242e5cf32705---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----242e5cf32705---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/pandas?source=post_page-----242e5cf32705---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----242e5cf32705---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/transform?source=post_page-----242e5cf32705---------------transform-----------------", "anchor_text": "Transform"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F242e5cf32705&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifference-between-apply-and-transform-in-pandas-242e5cf32705&user=B.+Chen&userId=563d09da62a&source=-----242e5cf32705---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F242e5cf32705&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifference-between-apply-and-transform-in-pandas-242e5cf32705&user=B.+Chen&userId=563d09da62a&source=-----242e5cf32705---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F242e5cf32705&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifference-between-apply-and-transform-in-pandas-242e5cf32705&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----242e5cf32705--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F242e5cf32705&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifference-between-apply-and-transform-in-pandas-242e5cf32705&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----242e5cf32705---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----242e5cf32705--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----242e5cf32705--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----242e5cf32705--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----242e5cf32705--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----242e5cf32705--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----242e5cf32705--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----242e5cf32705--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----242e5cf32705--------------------------------", "anchor_text": ""}, {"url": "https://bindichen.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://bindichen.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "B. Chen"}, {"url": "https://bindichen.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "4K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F563d09da62a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifference-between-apply-and-transform-in-pandas-242e5cf32705&user=B.+Chen&userId=563d09da62a&source=post_page-563d09da62a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F56a3bfbb80dc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifference-between-apply-and-transform-in-pandas-242e5cf32705&newsletterV3=563d09da62a&newsletterV3Id=56a3bfbb80dc&user=B.+Chen&userId=563d09da62a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}