{"url": "https://towardsdatascience.com/pairs-check-implementation-on-quantopian-3b10f4e06a34", "time": 1683004036.807712, "path": "towardsdatascience.com/pairs-check-implementation-on-quantopian-3b10f4e06a34/", "webpage": {"metadata": {"title": "Pairs Check Implementation on Quantopian | by Felipe Cunha | Towards Data Science", "h1": "Pairs Check Implementation on Quantopian", "description": "Algorithmic trading consists in automating the execution of orders in the stock market using trading instructions. These instructions are programs designed to detect patterns and use them as triggers\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines", "paragraph_index": 18}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms", "paragraph_index": 18}], "all_paragraphs": ["Algorithmic trading consists in automating the execution of orders in the stock market using trading instructions. These instructions are programs designed to detect patterns and use them as triggers to perform operations. This technique leverages the speed and emotionlessness that computers have over human traders.", "This article shows how to implement an algo trading strategy called Pairs Check on Quantopian.", "In order to achieve this goal we will split this article in 5 sections:", "Pairs trading is a market trading strategy that is independent from market conditions (uptrend, downtrend, or sideways movement) allowing positive returns in virtually any scenario. This strategy is categorized as a statistical arbitrage and convergence trading strategy. Its algorithmic implementation allows the trader to take advantage of market inefficiencies before human traders have the chance to adjust the market.", "Pairs Check monitors the spread of two historically co-integrated securities. The intuition behind co-integration can be exemplified by the analogy of a person walking a dog. They move together and the distance between them is limited by the length of the leash. During the walk, the leash stretches and relaxes, but for the most of the time the distance is between those extremes.", "When the spread between the two stocks temporarily increases, for instance one stock moves up while the other moves down, the pairs trade would be to short the outperforming stock and to long the underperforming one, betting that the price difference will converge.", "On the picture above we can see the normalized spread between 2 co-integrated securities. Every time that the current spread is above 1.2 or below -1.2, the algorithm puts a order shorting the overpriced stock and going long on the undervalued one.", "For our case study we will analyze the relationship between CNQ (Canadian Natural Resources) and PXD (Pioneer Natural Resources Company). We will use the coint function in the statsmodels.tsa.stattools to test for co-integration.", "The packages we will use are:", "Finally, we run the co-integration test:", "The null hypothesis in the coint test is that the two time series are not co-integrated.", "So, from 2014 to 2016, CNQ and PDX were highly co-integrated as can be seen by the p-value of 0.0012, making this pair the perfect candidates for our algorithm.", "The code below was implemented on the Quantopian IDE. The schedule function runs the program daily, 60 minutes before the market closure. The thresholds were empirically defined as +-1.2. Changing these values can alter the returns of the strategy.", "Below we can see the backtest results for the Pairs Check strategy.", "The returns are significantly better that the SPY benchmark, however the sharpe ratio and the drawdown could be improved.", "If it is so simple, why aren\u2019t everybody making money with pairs check? Well, co-integrated stocks are unicorns, finding them isn\u2019t an easy task. Besides that, the co-integration between 2 securities can change over time due to several reasons like: management and regulatory changes, client base diversification, new technologies\u2026", "The backtest results showed superior returns than the SPY benchmark, however the Sharpe ratio and the drawdown could be improved.", "I hope you have enjoyed this article and I\u2019d love to hear your ideas on how to improve this code.", "Note from Towards Data Science\u2019s editors: While we allow independent authors to publish articles in accordance with our rules and guidelines, we do not endorse each author\u2019s contribution. You should not rely on an author\u2019s works without seeking professional advice. See our Reader Terms for details.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Engineer, dog owner, heavy metal sommelier"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F3b10f4e06a34&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpairs-check-implementation-on-quantopian-3b10f4e06a34&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpairs-check-implementation-on-quantopian-3b10f4e06a34&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpairs-check-implementation-on-quantopian-3b10f4e06a34&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpairs-check-implementation-on-quantopian-3b10f4e06a34&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----3b10f4e06a34--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3b10f4e06a34--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@cunhafh?source=post_page-----3b10f4e06a34--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@cunhafh?source=post_page-----3b10f4e06a34--------------------------------", "anchor_text": "Felipe Cunha"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe4c670d7dfd9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpairs-check-implementation-on-quantopian-3b10f4e06a34&user=Felipe+Cunha&userId=e4c670d7dfd9&source=post_page-e4c670d7dfd9----3b10f4e06a34---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3b10f4e06a34&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpairs-check-implementation-on-quantopian-3b10f4e06a34&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3b10f4e06a34&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpairs-check-implementation-on-quantopian-3b10f4e06a34&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@chrisliverani?utm_source=medium&utm_medium=referral", "anchor_text": "Chris Liverani"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines"}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3b10f4e06a34&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpairs-check-implementation-on-quantopian-3b10f4e06a34&user=Felipe+Cunha&userId=e4c670d7dfd9&source=-----3b10f4e06a34---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3b10f4e06a34&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpairs-check-implementation-on-quantopian-3b10f4e06a34&user=Felipe+Cunha&userId=e4c670d7dfd9&source=-----3b10f4e06a34---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3b10f4e06a34&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpairs-check-implementation-on-quantopian-3b10f4e06a34&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3b10f4e06a34--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F3b10f4e06a34&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpairs-check-implementation-on-quantopian-3b10f4e06a34&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----3b10f4e06a34---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----3b10f4e06a34--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----3b10f4e06a34--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----3b10f4e06a34--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----3b10f4e06a34--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----3b10f4e06a34--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----3b10f4e06a34--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----3b10f4e06a34--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----3b10f4e06a34--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@cunhafh?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@cunhafh?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Felipe Cunha"}, {"url": "https://medium.com/@cunhafh/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "108 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe4c670d7dfd9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpairs-check-implementation-on-quantopian-3b10f4e06a34&user=Felipe+Cunha&userId=e4c670d7dfd9&source=post_page-e4c670d7dfd9--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F9f60d0590bd9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpairs-check-implementation-on-quantopian-3b10f4e06a34&newsletterV3=e4c670d7dfd9&newsletterV3Id=9f60d0590bd9&user=Felipe+Cunha&userId=e4c670d7dfd9&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}