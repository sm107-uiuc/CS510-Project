{"url": "https://towardsdatascience.com/from-swift-import-python-f2fc2a997d4", "time": 1683012943.626824, "path": "towardsdatascience.com/from-swift-import-python-f2fc2a997d4/", "webpage": {"metadata": {"title": "From Swift Import Python. Build a macOS app to run Python scripts\u2026 | by Anupam Chugh | Better Programming", "h1": "From Swift Import Python", "description": "Python for long has established itself as the undisputed leader of data science. But as the size of data continues to increase, Python\u2019s shortcomings are getting noticed. Slow speed, limitations in\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/tensorflow/swift", "anchor_text": "Swift for TensorFlow", "paragraph_index": 3}, {"url": "https://github.com/anupamchugh/iowncode/tree/master/PythonKitBasics", "anchor_text": "GitHub Repository", "paragraph_index": 29}, {"url": "http://linktr.ee/anupamchugh", "anchor_text": "linktr.ee/anupamchugh", "paragraph_index": 33}], "all_paragraphs": ["Python for long has established itself as the undisputed leader of data science. But as the size of data continues to increase, Python\u2019s shortcomings are getting noticed. Slow speed, limitations in parallelism, and lack of type safety all act as a roadblock in large scale applications.", "Google is clearly putting its bets on Swift as the future of deep learning. No wonder, they\u2019ve heavily invested in Swift for Tensorflow.", "While Python boasts of a huge collection of libraries and shifting away from it won\u2019t be a cakewalk, but still we can leverage its interoperability with Swift.", "Yes, you can run python code from Swift by using the PythonKit, a framework based on the Python module from the Swift for TensorFlow project.", "It\u2019s important to note that Python is not available on iOS. But you can build pretty awesome utility apps for macOS and Linux.", "In the next few sections, we\u2019ll see how to setup PythonKit in a SwiftUI macOS application and perform a few interesting tasks.", "To get started create a new Xcode project with macOS as the target and add the following package dependency using Swift Package Manager:", "Now, you can import PythonKit in your Swift views and get started. To check the current python version and update it use the following lines:", "Note: PythonLibrary.useVersion needs to be put just below the import statement. You cannot change Python version number dynamically at run-time.", "Next, ensure that you\u2019ve removed App sandbox from the Signing and Capabilities section, as we\u2019ll use Python programs from our mac directly:", "Let\u2019s write a hello world Esque Python function in a .py file:", "Now, save this in a file and note down its path.", "The following Swift method invokes the above Python function and gets the result back:", "Few things to observe from the above piece of Swift code:", "We can explicitly convert PythonObject into the native Swift types by wrapping them in the following ways:", "Let\u2019s look at the classic case of interchanging the contents of two variables present in Swift in Python function:", "Now, let\u2019s call it from the Swift function to get back the results:", "swapA and swapB are SwiftUI state variables, which will eventually be updated on the screen.", "Let\u2019s run our macOS SwiftUI application with the above Python script:", "With that, we managed to build our first macOS application with Swift and Python interoperability.", "But this was trivial. Let\u2019s write a fancier Python script.", "Python has a popular package, named youtube-dl for downloading videos from YouTube and many other websites.", "Let\u2019s install it on our mac. The following pip command is for Python3:", "Now, add the following function in your Python file:", "The link and path arguments are passed from Swift with the former being a video link and the latter being the directory path where the video would be saved.", "ydl.download() downloads the video and we return the videoName back to the Swift code:", "Now, SwiftUI in WWDC 2020 introduced built-in support for VideoPlayer on devices running macOS 11.0 and iOS 14. Still, for iOS 13, you can leverage the UIViewRepresentable protocol to create a custom video view.", "By using the videoPath, we are able to display the downloaded video file in SwiftUI as shown below:", "Let\u2019s run the above mac application to see the output:", "You can find the full source code of the SwiftUI application and Python script in the GitHub Repository.", "We saw how Python-Swift interoperability makes it possible to run Python code from Swift. Besides video downloaders, you can also run automation tasks such as batch file renaming, disk space analyzer, and many more.", "Python and Swift are two languages with clean and easy syntax. While the latter is getting groomed as the future of Deep Learning, the former would play a key role as the second fiddle in the years to come.", "The launch of PyScript in PyCon 2022 has led to new ways of running Python from HTML. With Python and Swift already interoperable, the possibilities of using Python in mobile apps is limitless.", "Human bot and a Debugger at Better Programming. Satirist for controversial opinions. Freelance iOS dev. Mr. Chatterbox (per school teacher)linktr.ee/anupamchugh"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff2fc2a997d4&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Ffrom-swift-import-python-f2fc2a997d4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Fbetterprogramming.pub%2Ffrom-swift-import-python-f2fc2a997d4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Ffrom-swift-import-python-f2fc2a997d4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Fbetterprogramming.pub%2Ffrom-swift-import-python-f2fc2a997d4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://me.dm/@anupamchugh", "anchor_text": "Mastodon"}, {"url": "https://betterprogramming.pub/?source=post_page-----f2fc2a997d4--------------------------------", "anchor_text": ""}, {"url": "https://betterprogramming.pub/?source=post_page-----f2fc2a997d4--------------------------------", "anchor_text": "Better Programming"}, {"url": "https://anupamchugh.medium.com/?source=post_page-----f2fc2a997d4--------------------------------", "anchor_text": ""}, {"url": "https://anupamchugh.medium.com/?source=post_page-----f2fc2a997d4--------------------------------", "anchor_text": "Anupam Chugh"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F9833cc01f515&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Ffrom-swift-import-python-f2fc2a997d4&user=Anupam+Chugh&userId=9833cc01f515&source=post_page-9833cc01f515----f2fc2a997d4---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff2fc2a997d4&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Ffrom-swift-import-python-f2fc2a997d4&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff2fc2a997d4&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Ffrom-swift-import-python-f2fc2a997d4&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/tensorflow/swift", "anchor_text": "Swift for TensorFlow"}, {"url": "https://github.com/pvieito/PythonKit", "anchor_text": "this git URL"}, {"url": "https://www.youtube.com/watch?v=NLOp_6uPccQ", "anchor_text": "Batman\u2019s teaser"}, {"url": "https://github.com/anupamchugh/iowncode/tree/master/PythonKitBasics", "anchor_text": "GitHub Repository"}, {"url": "https://medium.com/tag/python?source=post_page-----f2fc2a997d4---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/ios?source=post_page-----f2fc2a997d4---------------ios-----------------", "anchor_text": "IOS"}, {"url": "https://medium.com/tag/swift?source=post_page-----f2fc2a997d4---------------swift-----------------", "anchor_text": "Swift"}, {"url": "https://medium.com/tag/swiftui?source=post_page-----f2fc2a997d4---------------swiftui-----------------", "anchor_text": "Swiftui"}, {"url": "https://medium.com/tag/macos?source=post_page-----f2fc2a997d4---------------macos-----------------", "anchor_text": "Macos"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fbetter-programming%2Ff2fc2a997d4&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Ffrom-swift-import-python-f2fc2a997d4&user=Anupam+Chugh&userId=9833cc01f515&source=-----f2fc2a997d4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fbetter-programming%2Ff2fc2a997d4&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Ffrom-swift-import-python-f2fc2a997d4&user=Anupam+Chugh&userId=9833cc01f515&source=-----f2fc2a997d4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff2fc2a997d4&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Ffrom-swift-import-python-f2fc2a997d4&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://betterprogramming.pub/?source=post_page-----f2fc2a997d4--------------------------------", "anchor_text": "More from Better Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Fbetter-programming%2Ff2fc2a997d4&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Ffrom-swift-import-python-f2fc2a997d4&collection=Better+Programming&collectionId=d0b105d10f0a&source=post_page-----f2fc2a997d4---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://betterprogramming.pub/?source=post_page-----f2fc2a997d4--------------------------------", "anchor_text": "Read more from Better Programming"}, {"url": "https://medium.com/?source=post_page-----f2fc2a997d4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f2fc2a997d4--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f2fc2a997d4--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f2fc2a997d4--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f2fc2a997d4--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f2fc2a997d4--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f2fc2a997d4--------------------------------", "anchor_text": ""}, {"url": "https://anupamchugh.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://anupamchugh.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Anupam Chugh"}, {"url": "https://anupamchugh.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "28K Followers"}, {"url": "http://linktr.ee/anupamchugh", "anchor_text": "linktr.ee/anupamchugh"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F9833cc01f515&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Ffrom-swift-import-python-f2fc2a997d4&user=Anupam+Chugh&userId=9833cc01f515&source=post_page-9833cc01f515--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Faef2b78e9b90&operation=register&redirect=https%3A%2F%2Fbetterprogramming.pub%2Ffrom-swift-import-python-f2fc2a997d4&newsletterV3=9833cc01f515&newsletterV3Id=aef2b78e9b90&user=Anupam+Chugh&userId=9833cc01f515&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}