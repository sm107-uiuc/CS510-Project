{"url": "https://towardsdatascience.com/sql-in-python-402ad2749de5", "time": 1683017607.404972, "path": "towardsdatascience.com/sql-in-python-402ad2749de5/", "webpage": {"metadata": {"title": "101 SQL with Python Code Tutorial | Towards Data Science", "h1": "SQL in Python", "description": "Here we go through everything you need to know on working with SQL queries from Python. We utilize MySQL (which can be applied MS SQL/Oracle/etc) in Python!"}, "outgoing_paragraph_urls": [{"url": "https://dev.mysql.com/downloads/installer/", "anchor_text": "MS installation over here", "paragraph_index": 2}, {"url": "https://www.kaggle.com/c/titanic/data?select=train.csv", "anchor_text": "Titanic", "paragraph_index": 22}, {"url": "https://www.youtube.com/channel/UCv83tO5cePwHMt1952IVVHw?view_as=subscriber", "anchor_text": "YouTube", "paragraph_index": 34}, {"url": "https://twitter.com/jamescalam", "anchor_text": "Twitter", "paragraph_index": 34}, {"url": "https://bit.ly/nlp-transformers", "anchor_text": "\ud83e\udd16 70% Discount on the NLP With Transformers Course", "paragraph_index": 35}, {"url": "https://www.youtube.com/c/jamesbriggs", "anchor_text": "https://www.youtube.com/c/jamesbriggs", "paragraph_index": 38}], "all_paragraphs": ["SQL is the world\u2019s most loved (or at least most used) data storage/querying language \u2014 and Python the most popular programming language in the world. Both together can produce some spectacular results.", "We will run through the basics of getting set up with a local, open-source SQL server (MySQL). And connecting to that server and executing SQL queries via Python. We will cover:", "First, we need to install MySQL. You can find the MS installation over here (make sure to download the full version \u2014 not web).", "Once the installer opens, we select Developer Default and continue through the next few steps to install MySQL.", "After installation, there will be a few more configuration steps. Follow these and use all of the default settings (unless you need to change them). You will also be able to set up the password for the root user \u2014 don\u2019t forget this.", "Once installed, our MySQL Server should be running over on port 3306. If it doesn\u2019t seem to be running, we can instantiate it by opening a command prompt window (CMD, Bash, etc.) and typing mysqld.", "If the command is not found, navigate to your MySQL Server /bin directory before running mysqld. For me, on Windows, the path is:", "Next, we need to install a MySQL connection package for Python called mysql.connector. We do this by opening CMD/Anaconda Prompt/Bash/etc. and typing:", "Simple! Let\u2019s switch over to Python and check that everything is working properly:", "We should then be able to print our mydb like so:", "The hierarchy of objects in SQL includes our server at the very top. Inside the server are the databases, and inside the databases are the SQL tables themselves.", "Our data is stored within these tables. So, let\u2019s go ahead and create our first database and table.", "Back in Python, we can execute SQL statements using the execute method, like so:", "Of course, we don\u2019t have any databases to show yet. To create a database in SQL, we write CREATE DATABASE dbname \u2014 using Python, we write:", "We can then connect to our new database using another connection string that specifies our database database=\"dbname\":", "Next up, we create our table, which will contain all of our data. We can do this in two ways.", "1.After connecting to our new database, we can execute a CREATE TABLE query:", "Now we have a table called dbtable! It contains just three columns:", "We can then populate the table like we usually would in SQL:", "The final line mydb.commit() is an extra step required when using Python. Typically, SQL commands auto-commit to a database. But, this is not the case when using a Python connection.", "So, after every modification \u2014 we must commit it for the change to persist. We can check our changes like so:", "2.We can take some data from a Pandas DataFrame to create our new data table.", "I will use the Titanic dataset (train.csv) in this example \u2014 but feel free to use any dataset you like.", "When adding data from a Pandas Dataframe, we actually need to switch to another framework and create a \u2018SQLAlchemy\u2019 connection. First, install sqlalchemy:", "Once installed, we can import this module and create our new connection like so:", "And now we\u2019re ready to create our new SQL table using a Pandas DataFrame. All we need is the to_sql method:", "Now we\u2019re done, we\u2019ve uploaded the Titanic dataset to MySQL. We can head over to MySQL Workbench to see our new table too:", "Let\u2019s practice with some queries using our new titanic table.", "First, let\u2019s read our data. We can get the equivalent of a dataframe head in SQL using SELECT TOP(5) * FROM titanic:", "Alternatively, we can extract our query results directly to a Pandas dataframe:", "Of course, we can couple this up with any usual SQL query. We can filter on a specific condition using a WHERE statement:", "We can perform any query that we usually would in SQL. Quickly putting together SQL code to analyze our data:", "That\u2019s all for this introduction to MySQL with Python! We\u2019ve covered:", "Fortunately, it\u2019s remarkably straightforward to get up and running with Python and MySQL \u2014 and using both can really optimize data analytics/science workflows or serve as a great data management system.", "I hope you enjoyed this article. If you\u2019re interested in seeing more content, I post tutorials to YouTube here! Or, if you have any questions or ideas, let me know via Twitter or in the comments below.", "\ud83e\udd16 70% Discount on the NLP With Transformers Course", "*All images are by the author except where stated otherwise", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Freelance ML engineer learning and writing about everything. I post a lot on YT https://www.youtube.com/c/jamesbriggs"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F402ad2749de5&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-402ad2749de5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-402ad2749de5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-402ad2749de5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-402ad2749de5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----402ad2749de5--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----402ad2749de5--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://jamescalam.medium.com/?source=post_page-----402ad2749de5--------------------------------", "anchor_text": ""}, {"url": "https://jamescalam.medium.com/?source=post_page-----402ad2749de5--------------------------------", "anchor_text": "James Briggs"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb9d77a4ca1d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-402ad2749de5&user=James+Briggs&userId=b9d77a4ca1d1&source=post_page-b9d77a4ca1d1----402ad2749de5---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F402ad2749de5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-402ad2749de5&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F402ad2749de5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-402ad2749de5&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@jzamora?utm_source=medium&utm_medium=referral", "anchor_text": "j zamora"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://dev.mysql.com/downloads/installer/", "anchor_text": "MS installation over here"}, {"url": "https://www.kaggle.com/c/titanic/data?select=train.csv", "anchor_text": "Titanic"}, {"url": "https://www.youtube.com/channel/UCv83tO5cePwHMt1952IVVHw?view_as=subscriber", "anchor_text": "YouTube"}, {"url": "https://twitter.com/jamescalam", "anchor_text": "Twitter"}, {"url": "https://bit.ly/nlp-transformers", "anchor_text": "\ud83e\udd16 70% Discount on the NLP With Transformers Course"}, {"url": "https://medium.com/tag/python?source=post_page-----402ad2749de5---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----402ad2749de5---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----402ad2749de5---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/software-development?source=post_page-----402ad2749de5---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/sql?source=post_page-----402ad2749de5---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F402ad2749de5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-402ad2749de5&user=James+Briggs&userId=b9d77a4ca1d1&source=-----402ad2749de5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F402ad2749de5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-402ad2749de5&user=James+Briggs&userId=b9d77a4ca1d1&source=-----402ad2749de5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F402ad2749de5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-402ad2749de5&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----402ad2749de5--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F402ad2749de5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-402ad2749de5&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----402ad2749de5---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----402ad2749de5--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----402ad2749de5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----402ad2749de5--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----402ad2749de5--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----402ad2749de5--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----402ad2749de5--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----402ad2749de5--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----402ad2749de5--------------------------------", "anchor_text": ""}, {"url": "https://jamescalam.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://jamescalam.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "James Briggs"}, {"url": "https://jamescalam.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "9.6K Followers"}, {"url": "https://www.youtube.com/c/jamesbriggs", "anchor_text": "https://www.youtube.com/c/jamesbriggs"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb9d77a4ca1d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-402ad2749de5&user=James+Briggs&userId=b9d77a4ca1d1&source=post_page-b9d77a4ca1d1--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F75e31c56d187&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-in-python-402ad2749de5&newsletterV3=b9d77a4ca1d1&newsletterV3Id=75e31c56d187&user=James+Briggs&userId=b9d77a4ca1d1&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}