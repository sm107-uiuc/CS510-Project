{"url": "https://towardsdatascience.com/mastering-pandas-groupby-efc6600d093", "time": 1683005325.7321558, "path": "towardsdatascience.com/mastering-pandas-groupby-efc6600d093/", "webpage": {"metadata": {"title": "Mastering Pandas Groupby. Understanding the Groupby Method | by Sadrach Pierre, Ph.D. | Towards Data Science", "h1": "Mastering Pandas Groupby", "description": "Pandas is a python library that provides tools for data transformation and statistical analysis. The \u2018groupby\u2019 method in pandas allows us to group large amounts of data and perform operations on\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/de5d5fe61fcaa6ad7a66/coronavirus-dataset-update-0206", "anchor_text": "here", "paragraph_index": 0}, {"url": "https://github.com/spierre91/medium_code/tree/master/pandas_tutorials", "anchor_text": "GitHub", "paragraph_index": 18}], "all_paragraphs": ["Pandas is a python library that provides tools for data transformation and statistical analysis. The \u2018groupby\u2019 method in pandas allows us to group large amounts of data and perform operations on these groups. In this post, we will discuss how to use the \u2018groupby\u2019 method in Pandas. For our purposes we will be using the WorldWide Corona Virus Dataset which can be found here.", "First, let\u2019s read the file called \u201c2019-nCoV-cases-JHU.csv\u201d into a Pandas data frame:", "Next, let\u2019s print the first five rows of data:", "To make things simple, let\u2019s limit our data to only include records in the US:", "We probably don\u2019t need to consider the \u2018Unassigned Location (From Diamond Princess)\u2019 value of \u2018Province\u2019, so let\u2019s also take that out as well:", "Now, let\u2019s also create a \u2018State\u2019 column by pulling the last two characters of the string values in the \u2018Province\u2019 column:", "We can do something similar to create a \u2018County\u2019 column. Let\u2019s extract all characters of the string values in the \u2018Province\u2019 column excluding the last 4 characters:", "Next, let\u2019s convert the date column into a Pandas \u2018datetime\u2019 :", "We\u2019re now in a good position to perform some interesting \u2018groupby\u2019 operations. Let\u2019s generate some statistics corresponding to the numerical column values, like deaths, confirmed cases, and recoveries, at the state level.", "To do this, let\u2019s first perform a \u2018groupby\u2019 on the state level:", "Here, we\u2019ve created a \u2018groupby\u2019\u2019 object. The next thing we can do is pull a specific group. We can do this using the \u2018get_group\u2019 method. Let\u2019s get the group corresponding to CA and set the index to be the date:", "We can also iterate over the \u2018groupby\u2019 object and create a data frame containing a column for each state:", "Let\u2019s print the resulting data frame containing the grouped death statistics:", "Notice that this data contains a limited number of states. We can also use the describe method to get basic statics about our new data:", "Here, the count corresponds to the number of rows. We also have the mean, standard deviation, percentile, minimum, and maximum values for the number of deaths. Note that the newest record in this data corresponds to March 3, 2020, which was before the widespread outbreak in cases. We can define a function that automatically generates these statistics for a given numerical column:", "Let\u2019s call this function with the \u2018Confirmed\u2019 column as input:", "We can also set the index to be the day number. Let\u2019s create a day column and generate grouped statistics for the \u2018Confirmed\u2019 column using the day number as the index:", "These are statistics corresponding to daily confirmed cases across states. I\u2019ll stop here but I encourage you to play around with the code and data. For example, you can try generating these statistics at the county level. All you would need to do is change \u2018groupby(\u2018State\u2019)\u2019 to \u2018groupby(\u2018County\u2019)\u2019.", "To summarize, in this post we discussed how to use the Pandas \u2018groupby\u2019 method. We generated grouped statistics for US confirmed cases, recoveries and deaths caused by the Corona Virus. We generated these statistics using the date time values as well as day number values as indices. I hope you found this post useful/interesting. The code from this post is available on GitHub. Thank you for reading!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Writer for Built In & Towards Data Science. Cornell University Ph. D. in Chemical Physics."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fefc6600d093&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmastering-pandas-groupby-efc6600d093&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmastering-pandas-groupby-efc6600d093&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmastering-pandas-groupby-efc6600d093&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmastering-pandas-groupby-efc6600d093&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----efc6600d093--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----efc6600d093--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://spierre91.medium.com/?source=post_page-----efc6600d093--------------------------------", "anchor_text": ""}, {"url": "https://spierre91.medium.com/?source=post_page-----efc6600d093--------------------------------", "anchor_text": "Sadrach Pierre, Ph.D."}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F120b86134681&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmastering-pandas-groupby-efc6600d093&user=Sadrach+Pierre%2C+Ph.D.&userId=120b86134681&source=post_page-120b86134681----efc6600d093---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fefc6600d093&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmastering-pandas-groupby-efc6600d093&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fefc6600d093&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmastering-pandas-groupby-efc6600d093&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.pexels.com/photo/crowd-reflection-color-toy-1679618/", "anchor_text": "Source"}, {"url": "https://www.kaggle.com/de5d5fe61fcaa6ad7a66/coronavirus-dataset-update-0206", "anchor_text": "here"}, {"url": "https://github.com/spierre91/medium_code/tree/master/pandas_tutorials", "anchor_text": "GitHub"}, {"url": "https://medium.com/tag/pandas?source=post_page-----efc6600d093---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/python?source=post_page-----efc6600d093---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----efc6600d093---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----efc6600d093---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/technology?source=post_page-----efc6600d093---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fefc6600d093&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmastering-pandas-groupby-efc6600d093&user=Sadrach+Pierre%2C+Ph.D.&userId=120b86134681&source=-----efc6600d093---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fefc6600d093&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmastering-pandas-groupby-efc6600d093&user=Sadrach+Pierre%2C+Ph.D.&userId=120b86134681&source=-----efc6600d093---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fefc6600d093&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmastering-pandas-groupby-efc6600d093&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----efc6600d093--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fefc6600d093&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmastering-pandas-groupby-efc6600d093&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----efc6600d093---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----efc6600d093--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----efc6600d093--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----efc6600d093--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----efc6600d093--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----efc6600d093--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----efc6600d093--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----efc6600d093--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----efc6600d093--------------------------------", "anchor_text": ""}, {"url": "https://spierre91.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://spierre91.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sadrach Pierre, Ph.D."}, {"url": "https://spierre91.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.7K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F120b86134681&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmastering-pandas-groupby-efc6600d093&user=Sadrach+Pierre%2C+Ph.D.&userId=120b86134681&source=post_page-120b86134681--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F4efebd4f21b7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmastering-pandas-groupby-efc6600d093&newsletterV3=120b86134681&newsletterV3Id=4efebd4f21b7&user=Sadrach+Pierre%2C+Ph.D.&userId=120b86134681&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}