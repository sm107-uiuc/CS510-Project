{"url": "https://towardsdatascience.com/how-to-model-a-social-network-with-r-878b3a76c5a1", "time": 1683009886.739726, "path": "towardsdatascience.com/how-to-model-a-social-network-with-r-878b3a76c5a1/", "webpage": {"metadata": {"title": "How to model a social network with R | by Ayman Bari | Towards Data Science", "h1": "How to model a social network with R", "description": "Using networks to represent our data gives us a perspective, through which problems often become much simpler to solve. Networks are particularly useful when we are interested in learning more about\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.cl.cam.ac.uk/teaching/1011/PrincComm/slides/graph_theory_1-11.pdf", "anchor_text": "Informally a graph is a set of nodes joined by a set of lines or arrows.", "paragraph_index": 2}, {"url": "https://en.wikipedia.org/wiki/Vertex_(graph_theory)", "anchor_text": "vertices", "paragraph_index": 6}, {"url": "https://en.wikipedia.org/wiki/Graph_theory", "anchor_text": "graph theory", "paragraph_index": 6}, {"url": "https://en.wikipedia.org/wiki/Network_science#Network_properties", "anchor_text": "properties", "paragraph_index": 18}, {"url": "https://medium.com/tdebeus/think-about-the-grammar-of-graphics-when-improving-your-graphs-18e3744d8d18", "anchor_text": "This article", "paragraph_index": 38}, {"url": "https://www.rdocumentation.org/packages/networkD3/versions/0.4", "anchor_text": "networkD3", "paragraph_index": 40}, {"url": "https://www.rdocumentation.org/packages/networkD3/versions/0.4", "anchor_text": "The networkD3 package", "paragraph_index": 40}, {"url": "https://d3js.org/", "anchor_text": "Java Script", "paragraph_index": 40}], "all_paragraphs": ["Using networks to represent our data gives us a perspective, through which problems often become much simpler to solve. Networks are particularly useful when we are interested in learning more about the interactions between connected objects. Some typical use cases include analysis of communication channels, modelling the spread of epidemics, or the study of social interactions within a group of people.", "In this article, we will look at how we generally represent network data.", "Informally a graph is a set of nodes joined by a set of lines or arrows.\u00b9", "Graphs are abstract mathematical constructs. When we map a real-world scenario onto this structure, we refer to it as a network. You may hear the words \u201cgraph\u201d and \u201cnetwork\u201d used interchangeably.", "Here\u2019s an example of a network being used to show the interactions between people over time:", "There are three main components that we consider when modelling a network:", "The nodes are the points in the network (also referred to as vertices in graph theory). They represent the entities that we want to model. Let\u2019s take the example of a social network, where each node models one person.", "The Links are the lines that connect the nodes (referred to as edges in graph theory). They represent the connection we want to model between the entities (nodes) in our network. We can draw links to show who is friends with who on this network.", "Attributes give us more information about our network. In our social network, the node attributes describe the individuals in the system, including details such as age, name, gender, etc.", "The link attributes describe the connection between two people. For example, it may show the strength of association, or indicate the type of relationship between people.", "We can display these attributes on a network with different colours or sizes.", "Now that we have covered the basics of networks, let\u2019s take a look at a couple of popular options for representing network data.", "An adjacency matrix is a two dimensional square array where the rows and columns are indexed by the nodes in the graph. The entries of the matrix are either zero or one\u2026 \u00b2", "Simply put, the adjacency matrix is a way of representing our network in a table. Every person (node) in our social network is represented in a row, and column in our table. We keep the same order for the rows and columns. For example, if our first row is \u201cCanela\u201d, then our first column will also be \u201cCanela\u201d.", "The entries in the table, show whether a link exists between two nodes:", "Let\u2019s assume that we want to indicate how frequently people interact with each other. We can consider this as a link attribute (it tells us something about the connection between two nodes). On a network, we can indicate this with the relative thickness of the links, where a thicker link would signify more frequent interaction.", "We can show this in our adjacency matrix by using numbers other than 1 in our network. In our case, the larger the number, the more regular the interactions between that pair of people. When the values in the table are not binary (not 1s or 0s), we say that our matrix is \u201cweighted\u201d.", "The adjacency matrix is a popular choice because it makes large graphs easy to analyse. Take the following example:", "In such cases, we can run simple calculations on the network\u2019s adjacency matrix to quickly identify properties of the network.", "However, when it comes to creating these networks in your IDE, a more common choice is to represent the network with two separate tables.", "When it comes to creating a network structure to display, we usually use the format of two tables \u2014 one for the nodes, and the other for the edges.", "Now that we\u2019ve covered the basics let\u2019s take a look at how we might create a network in R.", "We are going to try to replicate the example created above. Our target is to create a small social network with nine individuals, connected at random. For this example, we are going to take the approach of using two separate tables to create our network. Two tables gives us greater flexibility when it comes to adding attributes. Before we begin, let\u2019s break down the task into step-by-step components.", "Before we start, we need to load the required libraries. These provide the functions that make it possible for us to create our network. In our case, we are going to use the following:", "We want to get nine random names from the baby names data that we pulled into our environment. We start by taking a look at the structure of that data like so:", "This returns the top 6 rows of the baby names table. We use this to get a look at how the data is structured:", "Here we can see that we have a list of names, sex, and a few other variables that may not apply directly to our use case here. This structure suggests that names are repeated each year with different values for prop (proportion) and n (number).", "We want to ensure that the names we draw at random are unique. A quick check shows us that there are 1,924,665 rows in the baby names table. While the chances of drawing the same name twice are quite low, it is still a possibility. This tells us that our solution will need to include something that ensures we don\u2019t have duplicates in the final draw.", "To get a list of random names that are unique, it would be best to write a small function that we can reuse to generate a nodes list of size n (we may want to draw a larger network in future).", "Here\u2019s an outline of the steps that we can take:", "Here\u2019s how we might accomplish this in R:", "To create our links table, we will consider the source and target columns separately to begin with. Starting with the source column, we get a random sample of numbers between one and nine (since there are only nine nodes). This time, we sample with replacement since each node can have multiple links attached to it. We repeat the same process for our target column. In R:", "This gives us a pair of lists, like so:", "We then stick these two lists together to get our links table (or data frame):", "Once we have this table, it\u2019s time for a little bit of clean up. There are a couple of cases that we want to take care of before drawing our network.", "With regards to how many links we should draw, this will depends on how connected you would like your network to be. In this example, we arbitrarily create twice as many links as there are nodes before removing redundant links.", "With our nodes and links tables prepared, we are almost ready to start plotting the network. There is just one final step that we need to take before we can pass our tables to a function that creates the list.", "Before we can pass these tables into our plotting function, we just need to ensure that they are in the correct format for the ggraph package to interpret. Here, we convert our separate tables into a single object called a tbl_graph.", "Now, we\u2019re ready to start plotting. The ggraph package follows the same grammar of graphics principles that underlie other popular plotting packages. The essential idea is that we build our graphics in layers. This article explains the concept well. In our example, we layer our network in the following order:", "Well done for making it this far into the article. I\u2019ve just got one more thing to share on the topic.", "While ggraph provides simplicity and flexibility when it comes to rendering your networks, there is another package worth mentioning when it comes to visual aesthetics \u2014 networkD3. The networkD3 package extends some of Java Script D3\u2019s capabilities to R programmers. We can use the same links and nodes tables that we with ggraph above to generate this network.", "A couple of advantages to networkD3 are:", "The main drawback is that it\u2019s not as easy to customise. To make full use of networkD3\u2019s options for customisation, some proficiency in JS is required.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F878b3a76c5a1&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-a-social-network-with-r-878b3a76c5a1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-a-social-network-with-r-878b3a76c5a1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-a-social-network-with-r-878b3a76c5a1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-a-social-network-with-r-878b3a76c5a1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----878b3a76c5a1--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----878b3a76c5a1--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@ayman.bari?source=post_page-----878b3a76c5a1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ayman.bari?source=post_page-----878b3a76c5a1--------------------------------", "anchor_text": "Ayman Bari"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6b437aea6e11&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-a-social-network-with-r-878b3a76c5a1&user=Ayman+Bari&userId=6b437aea6e11&source=post_page-6b437aea6e11----878b3a76c5a1---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F878b3a76c5a1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-a-social-network-with-r-878b3a76c5a1&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F878b3a76c5a1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-a-social-network-with-r-878b3a76c5a1&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@herfrenchness?utm_source=medium&utm_medium=referral", "anchor_text": "Clarisse Croset"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.cl.cam.ac.uk/teaching/1011/PrincComm/slides/graph_theory_1-11.pdf", "anchor_text": "Informally a graph is a set of nodes joined by a set of lines or arrows."}, {"url": "https://www.cl.cam.ac.uk/teaching/1011/PrincComm/slides/graph_theory_1-11.pdf", "anchor_text": "Source: University of Cambridge, Principles of Communication course material (2010\u201311), Introduction to Network Theory, slide 2"}, {"url": "https://en.wikipedia.org/wiki/Vertex_(graph_theory)", "anchor_text": "vertices"}, {"url": "https://en.wikipedia.org/wiki/Graph_theory", "anchor_text": "graph theory"}, {"url": "https://en.wikipedia.org/wiki/Network_science#Network_properties", "anchor_text": "properties"}, {"url": "https://www.tidyverse.org", "anchor_text": "tidyverse"}, {"url": "https://www.rdocumentation.org/packages/ggraph/versions/2.0.3", "anchor_text": "ggraph"}, {"url": "https://www.rdocumentation.org/packages/tidygraph/versions/1.2.0", "anchor_text": "idygraph"}, {"url": "https://www.rdocumentation.org/packages/babynames/versions/1.0.0", "anchor_text": "babynames"}, {"url": "https://medium.com/tdebeus/think-about-the-grammar-of-graphics-when-improving-your-graphs-18e3744d8d18", "anchor_text": "This article"}, {"url": "https://www.rdocumentation.org/packages/networkD3/versions/0.4", "anchor_text": "networkD3"}, {"url": "https://www.rdocumentation.org/packages/networkD3/versions/0.4", "anchor_text": "The networkD3 package"}, {"url": "https://d3js.org/", "anchor_text": "Java Script"}, {"url": "https://github.com/AymanBari/sample_networks", "anchor_text": "github here"}, {"url": "https://towardsdatascience.com/will-covid-19-overwhelm-our-healthcare-systems-f5bc49bc77a2", "anchor_text": "What the basic reproduction number means for COVID-19 and healthcareWill COVID-19 overwhelm our healthcare systems?towardsdatascience.com"}, {"url": "https://github.com/AymanBari/tree_animation", "anchor_text": "here"}, {"url": "https://www.cl.cam.ac.uk/teaching/1011/PrincComm/slides/graph_theory_1-11.pdf", "anchor_text": "https://www.cl.cam.ac.uk/teaching/1011/PrincComm/slides/graph_theory_1-11.pdf"}, {"url": "https://medium.com/tag/data-science?source=post_page-----878b3a76c5a1---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----878b3a76c5a1---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/programming?source=post_page-----878b3a76c5a1---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/r?source=post_page-----878b3a76c5a1---------------r-----------------", "anchor_text": "R"}, {"url": "https://medium.com/tag/tutorial?source=post_page-----878b3a76c5a1---------------tutorial-----------------", "anchor_text": "Tutorial"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F878b3a76c5a1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-a-social-network-with-r-878b3a76c5a1&user=Ayman+Bari&userId=6b437aea6e11&source=-----878b3a76c5a1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F878b3a76c5a1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-a-social-network-with-r-878b3a76c5a1&user=Ayman+Bari&userId=6b437aea6e11&source=-----878b3a76c5a1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F878b3a76c5a1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-a-social-network-with-r-878b3a76c5a1&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----878b3a76c5a1--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F878b3a76c5a1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-a-social-network-with-r-878b3a76c5a1&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----878b3a76c5a1---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----878b3a76c5a1--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----878b3a76c5a1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----878b3a76c5a1--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----878b3a76c5a1--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----878b3a76c5a1--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----878b3a76c5a1--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----878b3a76c5a1--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----878b3a76c5a1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ayman.bari?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ayman.bari?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Ayman Bari"}, {"url": "https://medium.com/@ayman.bari/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "173 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6b437aea6e11&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-a-social-network-with-r-878b3a76c5a1&user=Ayman+Bari&userId=6b437aea6e11&source=post_page-6b437aea6e11--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8021d5a75159&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-model-a-social-network-with-r-878b3a76c5a1&newsletterV3=6b437aea6e11&newsletterV3Id=8021d5a75159&user=Ayman+Bari&userId=6b437aea6e11&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}