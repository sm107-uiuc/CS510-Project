{"url": "https://towardsdatascience.com/20-pandas-functions-that-will-boost-your-data-analysis-process-f5dfdb2f9e05", "time": 1683010948.274393, "path": "towardsdatascience.com/20-pandas-functions-that-will-boost-your-data-analysis-process-f5dfdb2f9e05/", "webpage": {"metadata": {"title": "20 Pandas Functions That Will Boost Your Data Analysis Process | by Soner Y\u0131ld\u0131r\u0131m | Towards Data Science", "h1": "20 Pandas Functions That Will Boost Your Data Analysis Process", "description": "Pandas is a predominantly used python data analysis library. It provides many functions and methods to expedite the data analysis process. What makes pandas so common is its functionality\u2026"}, "outgoing_paragraph_urls": [{"url": "http://linkedin.com/in/soneryildirim/", "anchor_text": "linkedin.com/in/soneryildirim/", "paragraph_index": 52}, {"url": "http://twitter.com/snr14", "anchor_text": "twitter.com/snr14", "paragraph_index": 52}], "all_paragraphs": ["Pandas is a predominantly used python data analysis library. It provides many functions and methods to expedite the data analysis process. What makes pandas so common is its functionality, flexibility, and simple syntax.", "In this post, I will explain 20 pandas functions with examples. Some of them are so common that I\u2019m sure you have used before. Some of them might be new to you. But, all of them will add value to your data analysis process.", "We sometimes need to filter a dataframe based on a condition or apply a mask to get certain values. One easy way to filter a dataframe is query function. Let\u2019s first create a sample dataframe.", "It is very simple to use query function which only requires to write the condition for filtering.", "When we want to add a new column to a dataframe, it is added at the end by default. However, pandas offers the option to add the new column in any position using insert function.", "We need to specify the position by passing an index as first argument. This value must be an integer. Column indices start from zero just like row indices. The second argument is column name and the third argument is the object that includes values which can be Series or an array-like object.", "The dataframe contains some yearly values of 3 different groups. We may only be interested in yearly values but there are some cases in which we also need a cumulative sum. Pandas provides an easy-to-use function to calculate cumulative sum which is cumsum.", "If we only apply cumsum, groups (A, B, C) will be ignored. This kind of cumulative values may be useless in some cases because we are not able to distinguish between groups. Don\u2019t worry! There is a very simple and convenient solution for this issue. We can apply groupby and then cumsum function.", "Sample method allows you to select values randomly from a Series or DataFrame. It is useful when we want to select a random sample from a distribution.", "We specify the number of values with n parameter but we can also pass a ratio to frac parameter. For instance, 0.5 will return half of the rows.", "To obtain reproducible samples, we can use random_state parameter. If an integer value is passed to random_state, the same sample will be produced every time the code is run.", "\u201cWhere\u201d is used to replace values in rows or columns based on a condition. The default replacement values is NaN but we can also specify the value to be put as a replacement.", "The way \u201cwhere\u201d works is that values that fit the condition are selected and the remaining values are replaced with the specified value. where(df[\u2018new_col\u2019]>0, 0) selects all the values in \u201cnew_col\u201d that are greater than 0 and the remaining values are replaced with 0. Thus, where can also be considered as a mask operation.", "One important point is that \u201cwhere\u201d for Pandas and NumPy are not exactly the same. We can achieve the same result but with slightly different syntax. With DataFrame.where, the values that fit the condition are selected as is and the other values are replaced with the specified value. Np.where requires to also specify the value for the ones that fit the condition. The following two lines return the same result:", "We use filtering or selecting methods a lot when working with dataframes. Isin method is kind of an advanced filtering. For example, we can filter values based on a list of selections.", "Loc and iloc are used to select rows and columns.", "loc is used to select data by label. The labels of columns are the column names. We need to be careful about row labels. If we do not assign any specific indices, pandas created integer index by default. Thus, the row labels are integers starting from 0 and going up. The row positions that are used with iloc are also integers starting from 0.", "Selecting first 3 rows and first 2 columns with iloc:", "Selecting first 3 rows and first 2 columns with loc:", "Note: Upper boundaries of indices are included when loc is used whereas they are excluded with iloc.", "This function is used to calculate the percent change through the values in a series. Consider we have a series that contains [2,3,6]. If we apply pct_change to this series, the returned series will be [NaN, 0.5, 1.0]. There is 50% increase from the first element to the second and 100% from the second to the third one. Pct_change function is useful in comparing the percentage of change in a time series of elements.", "Rank function assigns rank to the values. Assume we have a series s that contains [1,7,5,3]. The ranks assigned to these values will be [1,4,3,2].", "Melt is used to convert wide dataframes to narrow ones. What I mean by wide is a dataframe with a high number of columns. Some dataframes are structured in a way that consecutive measurements or variables are represented as columns. In some cases, representing these columns as rows may fit better to our task. Consider the following dataframe:", "We have three different cities and measurements done on different days. We decide to represent these days as rows in a column. There will also be a column to show the measurements. We can easily accomplish this by using melt function:", "Variable and value column names are given by default. We can use var_name and value_name parameters of melt function to assign new column names.", "Assume your data set includes multiple entries of a feature on a single observation (row) but you want to analyze them on separate rows.", "We want to see the measurements of \u2018c\u2019 on day \u20181\u2019 on separate rows which easily be done using explode.", "Nunique counts the number of unique entries over columns or rows. It is very useful in categorical features especially in cases where we do not know the number of categories beforehand. Let\u2019s take a look at our initial dataframe:", "We can directly apply nunique function to the dataframe and see the number of unique values in each column:", "If axis parameter is set to 1, nunique returns the number of unique values in each row.", "It can be used to look up values in the DataFrame based on the values on other row, column pairs. This function is best explained via an example. Assume we have the following DataFrame:", "For each day, we have measurements of 4 people and a column that includes the names of these 4 people. We want to create a new column that shows the measurement of the person in \u201cPerson\u201d column. Thus, for the first row, the value in the new column will be 4 (the value in column \u201cAlex\u201d).", "Pandas supports a wide range of data types, one of which is object. Object covers text or mixed (numeric and non-numeric) values. However, it is not preferred to use object data type if a different option is available. Certain operations is executed faster with more specific data types. For example, we prefer to have integer or float data type for numerical values.", "infer_objects attempts to infer better data types for object columns. Consider the following dataframe:", "All of the data types are object. Let\u2019s see what the inferred data types are:", "It may seem trivial but will definitely be useful when there are lots of columns.", "Memory_usage() returns how much memory each column uses in bytes. It is useful especially when we work with large dataframes. Consider the following dataframe with 1 million rows.", "And the memory usage for each column in bytes:", "Memory usage of entire dataframe in megabytes:", "Describe function calculates basic statistics for numeric columns which are count, mean, standard deviation, min and max values, median, first and third quartile. Thus, it provides a statistical summary of the dataframe.", "Merge() combines DataFrames based on values in shared columns. Consider the following two dataframes.", "We can merge them based on shared values in a column. The parameter that sets the condition for merging is the \u201con\u201d parameter.", "df1 and df2 are merged based on the common values in column_a. The how parameter of merge function allows to combine dataframes in different ways. The possible values for how are \u2018inner\u2019, \u2018outer\u2019, \u2018left\u2019, \u2018right\u2019.", "Select_dtypes function returns a subset of the DataFrame\u2019s columns based on the condition set on data types. It allows to include or exclude certain data types using include and exlude parameters.", "As the name suggests, it allows to replace values in a dataframe.", "The first parameter is the value to replaced and the second one is the new value.", "We can also pass in a dictionary for multiple replacements at the same time.", "Applymap function is used to apply a function to a dataframe elementwise. Please note that if a vectorized version of an operation is available, it should be preferred over applymap. For instance, if we want to multiple each element by a number, we don\u2019t need and should not use applymap function. A simple vectorized operation (e.g. df * 4 ) is much faster in that case.", "However, there might be some cases where we do not have the option of vectorized operation. For instance, we can change the style of a dataframe using Style property of pandas dataframes. The following function changes the color of negative values as red.", "We need to use applymap function to apply this function to a dataframe.", "Thank you for reading. Please let me know if you have any feedback.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist | Top 10 Writer in AI and Data Science | linkedin.com/in/soneryildirim/ | twitter.com/snr14"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff5dfdb2f9e05&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-pandas-functions-that-will-boost-your-data-analysis-process-f5dfdb2f9e05&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-pandas-functions-that-will-boost-your-data-analysis-process-f5dfdb2f9e05&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-pandas-functions-that-will-boost-your-data-analysis-process-f5dfdb2f9e05&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-pandas-functions-that-will-boost-your-data-analysis-process-f5dfdb2f9e05&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f5dfdb2f9e05--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f5dfdb2f9e05--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://sonery.medium.com/?source=post_page-----f5dfdb2f9e05--------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=post_page-----f5dfdb2f9e05--------------------------------", "anchor_text": "Soner Y\u0131ld\u0131r\u0131m"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2cf6b549448&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-pandas-functions-that-will-boost-your-data-analysis-process-f5dfdb2f9e05&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=post_page-2cf6b549448----f5dfdb2f9e05---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff5dfdb2f9e05&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-pandas-functions-that-will-boost-your-data-analysis-process-f5dfdb2f9e05&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff5dfdb2f9e05&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-pandas-functions-that-will-boost-your-data-analysis-process-f5dfdb2f9e05&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@hengfilms?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Heng Films"}, {"url": "https://unsplash.com/s/photos/style?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f5dfdb2f9e05---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----f5dfdb2f9e05---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----f5dfdb2f9e05---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/pandas?source=post_page-----f5dfdb2f9e05---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/data-scientist?source=post_page-----f5dfdb2f9e05---------------data_scientist-----------------", "anchor_text": "Data Scientist"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff5dfdb2f9e05&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-pandas-functions-that-will-boost-your-data-analysis-process-f5dfdb2f9e05&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=-----f5dfdb2f9e05---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff5dfdb2f9e05&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-pandas-functions-that-will-boost-your-data-analysis-process-f5dfdb2f9e05&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=-----f5dfdb2f9e05---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff5dfdb2f9e05&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-pandas-functions-that-will-boost-your-data-analysis-process-f5dfdb2f9e05&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f5dfdb2f9e05--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff5dfdb2f9e05&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-pandas-functions-that-will-boost-your-data-analysis-process-f5dfdb2f9e05&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f5dfdb2f9e05---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f5dfdb2f9e05--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f5dfdb2f9e05--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f5dfdb2f9e05--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f5dfdb2f9e05--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f5dfdb2f9e05--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f5dfdb2f9e05--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f5dfdb2f9e05--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f5dfdb2f9e05--------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Soner Y\u0131ld\u0131r\u0131m"}, {"url": "https://sonery.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "21K Followers"}, {"url": "http://linkedin.com/in/soneryildirim/", "anchor_text": "linkedin.com/in/soneryildirim/"}, {"url": "http://twitter.com/snr14", "anchor_text": "twitter.com/snr14"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2cf6b549448&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-pandas-functions-that-will-boost-your-data-analysis-process-f5dfdb2f9e05&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=post_page-2cf6b549448--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7cdf5377373a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F20-pandas-functions-that-will-boost-your-data-analysis-process-f5dfdb2f9e05&newsletterV3=2cf6b549448&newsletterV3Id=7cdf5377373a&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}