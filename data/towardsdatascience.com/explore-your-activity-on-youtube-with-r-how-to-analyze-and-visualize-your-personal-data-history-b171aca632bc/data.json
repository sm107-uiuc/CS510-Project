{"url": "https://towardsdatascience.com/explore-your-activity-on-youtube-with-r-how-to-analyze-and-visualize-your-personal-data-history-b171aca632bc", "time": 1683013862.6878002, "path": "towardsdatascience.com/explore-your-activity-on-youtube-with-r-how-to-analyze-and-visualize-your-personal-data-history-b171aca632bc/", "webpage": {"metadata": {"title": "Explore Your Activity on Youtube With R: How to Analyze and Visualize Your Personal Data History | by Sa\u00fal Buentello | Towards Data Science", "h1": "Explore Your Activity on Youtube With R: How to Analyze and Visualize Your Personal Data History", "description": "Let\u2019s face it, dear reader, one of the websites that we visit frequently and became part of our life, whether for entertainment or looking for answers, and where we could spend hours, is YouTube. As\u2026"}, "outgoing_paragraph_urls": [{"url": "https://takeout.google.com/settings/takeout", "anchor_text": "https://takeout.google.com/settings/takeout", "paragraph_index": 1}, {"url": "https://developers.google.com/youtube/v3/getting-started", "anchor_text": "https://developers.google.com/youtube/v3/getting-started", "paragraph_index": 13}, {"url": "https://developers.google.com/youtube/v3/docs/videos", "anchor_text": "https://developers.google.com/youtube/v3/docs/videos", "paragraph_index": 17}, {"url": "https://github.com/cosmoduende/r-youtube-personal-history-analysis", "anchor_text": "https://github.com/cosmoduende/r-youtube-personal-history-analysis", "paragraph_index": 38}], "all_paragraphs": ["Let\u2019s face it, dear reader, one of the websites that we visit frequently and became part of our life, whether for entertainment or looking for answers, and where we could spend hours, is YouTube. As with anything else we spend so much time on, I find it curious to see exactly how our consumption habits have changed. With Google Takeout and the YouTube API, analyzing your personal YouTube history is easy.", "Your YouTube history is available through Google Takeout, a tool that Google provides to consult practically the history and stored data of any of the products that you have used. You have to enter the URL https://takeout.google.com/settings/takeout and log in with your personal account.", "There you will find the possibility to request a complete copy, or by-product, or even select only some characteristics of a product. We are only interested in YouTube for now. Even if you have multiple accounts linked, you can switch between them by clicking on the profile picture in the upper right. If you have uploaded videos, I recommend that you make sure to uncheck the videos option of the file that it will generate, this will decrease its weight and delivery time.", "Once the file is generated, you will be receiving a notification email, from where you can proceed to download it. For security, the file has an expiration date, so you have to do it before the date indicated in the email.", "When you download the file you will get a .zip that when unzipped will create a structure of folders and files, depending on what you initially requested from Google Takeout.", "Currently, the generated file corresponding to your search and watching history on YouTube is only exported as HTML. You can use the \u201crvest\u201d package to parse the generated HTML. Yes, I know, don\u2019t judge me, \u201cel canaca\u201d and \u201cdios eolo\u201d will always be classics (viral memes in Mexico).", "Now you can proceed to create an R script. First, you have to include all the necessary packages and set the search history reading, contained in the \u201csearch-history.html\u201d file located inside the \u201chistory\u201d folder.", "To parse text in HTML using \u201crvest\u201d you can specify CSS classes that correspond to a particular section. For example, the line .header-cell + .content-cell> a finds the hyperlink in the content, corresponding to the searches you made.", "And of course, you can get the information you need, for example, the timestamp in the same way.", "Now that you have the search and timestamp data, you can create a Data Frame with them.", "The watching history you will find in another HTML with the name of \u201cwatch-history.html\u201d is also contained within the \u201chistory\u201d folder. First, you must read the file and obtain, in the same way as before by web scraping, each entry. You will have to analyze information with regular expressions.", "Now you can put everything back together in a Data Frame.", "I\u2019m almost sure you\u2019ll say up to this point\u2026 Well Sa\u00fal, it\u2019s not a big deal, what else! This gets more interesting when you integrate with the YouTube API to get more data. Instead of just seeing basic data like titles and timestamps, you can get more information. In this way, you can see the popularity, descriptions, categories, and more about your video views.", "If this is your first time obtaining credentials to use the YouTube API, follow the simple steps that the official YouTube documentation makes available to you: https://developers.google.com/youtube/v3/getting-started.", "Once you establish a Google project, you will need to generate an API Key and enable YouTube Data API v3, to create your credentials in the sidebar menu.", "Once this is done, you can now use your API Key by assigning it to a new variable. You must also assign the connection to the youtube API to a new variable.", "You can make a test, for example, I will take a video from my YouTube channel with ID \u201cSG2pDkdu5kE\u201d, to give you an overview.", "You will find that the two important parameters are \u201cfields\u201d and \u201cparts\u201d. You must be careful in your queries because you could exceed the request quota or the response to the request may become very slow. You can find more information about these parameters in the official documentation: https://developers.google.com/youtube/v3/docs/videos", "To get more metadata like the video category, you can use the video IDs you got from your file and make requests to YouTube for more information about each video. You are about to make several thousand requests to the YouTube API, so you have to do additional preparation of the requests.", "The most popular library for making web requests is \u201chttr\u201d (it only supports one request at a time). There exists also \u201cRCurl\u201d and \u201ccurl\u201d. To make sure you get the data as quickly as possible, try all three, speed may differ based on established queries.", "At least in my case, the speed was much faster with \u201ccurl\u201d, unlike the other two options.", "You will need to create a connection string for each request and eliminate duplicates to reduce the number of requests made. You will also need a function to parse the request-response data.", "You can configure what to do in case the request is successful or in case it has failed.", "A method, although slower but more reliable to obtain your data, is to take it from memory and configure our multiple requests.", "Once this is done, depending on the speed of your internet connection, and the size of your data frame, you can probably prepare a coffee, a tea, or open a beer, waiting as long as the indicator reaches 100%.", "You will also use the \u201cbind_rows\u201d function to combine the list into an ordered Data Frame.", "Each category has a unique ID. You need to make another request to get them and add the data to a new column.", "You can combine your new Data Frame with your watch history to get the video metadata along with when it was played.", "With your search history, watch history, and category metadata, you can now answer this question. You can see which video categories you play the most and how this has been changing over time.", "For example, in my case, something that surely likes many of you is very present, are videos in the music category. And of course, the presence of the Film & Animation category makes sense, I follow many channels to find out about upcoming movies, trailers, and reviews.", "It would be interesting to see the times when you are most active by giving your valuable time to YouTube. You can look at this by creating a custom function that allows you to view it as a clock.", "Raise your hands, how many more here, like me, to be able to overcome insomnia sometimes spend hours at dawn watching YouTube? In my case, it is very noticeable that mostly from 2 am to 3 am I give the platform my valuable time.", "Another interesting piece of information that you can obtain is the top 10 of the videos that you have played the most over and over again. You can visualize this with a simple table, with the package \u201ckableExtra\u201d and order it in descending order concerning the number of reproductions.", "You will get a table like the following. In my case, I find it curious to see that from 2016 to 2019 some video does not appear in my top 10. I suppose the reason is the arrival of Spotify in my life, and that before this I used mostly YouTube to play music. By the way, yes, I\u2019m a fan of \u201cVicentico\u201d and \u201cLos Fabulosos Cadillacs\u201d (former vocalist of, and one band of the most iconic rock/ska bands in Spanish of all time).", "You can visualize this more attractively with the \u201cwordcloud\u201d package. It depends on how long your history is, of course. You can establish for example words with a minimum of 25 times repeating themselves.", "You will get a plot like the following one as a result, where you can discover the congruence with your tastes. If you are wondering, the answer is yes, I believe in the UFO phenomenon (OVNI in Spanish).", "To answer this question, you can do the same as in the previous example, but this time with the descriptions of the videos, taking advantage of the fact that we have this information in our Data Frame. It is very common that by making advertising many videos in their descriptions they include URLs, we are going to filter this (or as much as possible), in addition to words that do not give us relevant information such as articles, pronouns, etc. This time we will do it with \u201cwordcloud2\u201d and words that are repeated at least more than 250 times.", "As you can see, many of the words refer to subscribing to their channels or following their social networks, as expected", "Thanks for your kind reading. Here you can find the complete code: https://github.com/cosmoduende/r-youtube-personal-history-analysis", "I thank you for having come this far, I wish you have a happy analysis, that you can put it into practice, and be as surprised and amused as I am with the results!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb171aca632bc&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fexplore-your-activity-on-youtube-with-r-how-to-analyze-and-visualize-your-personal-data-history-b171aca632bc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fexplore-your-activity-on-youtube-with-r-how-to-analyze-and-visualize-your-personal-data-history-b171aca632bc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fexplore-your-activity-on-youtube-with-r-how-to-analyze-and-visualize-your-personal-data-history-b171aca632bc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fexplore-your-activity-on-youtube-with-r-how-to-analyze-and-visualize-your-personal-data-history-b171aca632bc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b171aca632bc--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b171aca632bc--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://cosmoduende.medium.com/?source=post_page-----b171aca632bc--------------------------------", "anchor_text": ""}, {"url": "https://cosmoduende.medium.com/?source=post_page-----b171aca632bc--------------------------------", "anchor_text": "Sa\u00fal Buentello"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F38f118393fa8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fexplore-your-activity-on-youtube-with-r-how-to-analyze-and-visualize-your-personal-data-history-b171aca632bc&user=Sa%C3%BAl+Buentello&userId=38f118393fa8&source=post_page-38f118393fa8----b171aca632bc---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb171aca632bc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fexplore-your-activity-on-youtube-with-r-how-to-analyze-and-visualize-your-personal-data-history-b171aca632bc&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb171aca632bc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fexplore-your-activity-on-youtube-with-r-how-to-analyze-and-visualize-your-personal-data-history-b171aca632bc&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://takeout.google.com/settings/takeout", "anchor_text": "https://takeout.google.com/settings/takeout"}, {"url": "https://developers.google.com/youtube/v3/getting-started", "anchor_text": "https://developers.google.com/youtube/v3/getting-started"}, {"url": "https://www.googleapis.com/youtube/v3/videos'", "anchor_text": "https://www.googleapis.com/youtube/v3/videos'"}, {"url": "https://developers.google.com/youtube/v3/docs/videos", "anchor_text": "https://developers.google.com/youtube/v3/docs/videos"}, {"url": "https://www.google.com/", "anchor_text": "https://www.google.com/"}, {"url": "https://www.googleapis.com/youtube/v3/videoCategories", "anchor_text": "https://www.googleapis.com/youtube/v3/videoCategories"}, {"url": "https://github.com/cosmoduende/r-youtube-personal-history-analysis", "anchor_text": "https://github.com/cosmoduende/r-youtube-personal-history-analysis"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----b171aca632bc---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----b171aca632bc---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/technology?source=post_page-----b171aca632bc---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/data-science?source=post_page-----b171aca632bc---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----b171aca632bc---------------programming-----------------", "anchor_text": "Programming"}, {"url": "http://creativecommons.org/licenses/by/4.0/", "anchor_text": "Some rights reserved"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb171aca632bc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fexplore-your-activity-on-youtube-with-r-how-to-analyze-and-visualize-your-personal-data-history-b171aca632bc&user=Sa%C3%BAl+Buentello&userId=38f118393fa8&source=-----b171aca632bc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb171aca632bc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fexplore-your-activity-on-youtube-with-r-how-to-analyze-and-visualize-your-personal-data-history-b171aca632bc&user=Sa%C3%BAl+Buentello&userId=38f118393fa8&source=-----b171aca632bc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb171aca632bc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fexplore-your-activity-on-youtube-with-r-how-to-analyze-and-visualize-your-personal-data-history-b171aca632bc&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b171aca632bc--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb171aca632bc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fexplore-your-activity-on-youtube-with-r-how-to-analyze-and-visualize-your-personal-data-history-b171aca632bc&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b171aca632bc---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b171aca632bc--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b171aca632bc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b171aca632bc--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b171aca632bc--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b171aca632bc--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b171aca632bc--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b171aca632bc--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b171aca632bc--------------------------------", "anchor_text": ""}, {"url": "https://cosmoduende.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://cosmoduende.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sa\u00fal Buentello"}, {"url": "https://cosmoduende.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "824 Followers"}, {"url": "https://www.linkedin.com/in/sbuentello/", "anchor_text": "https://www.linkedin.com/in/sbuentello/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F38f118393fa8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fexplore-your-activity-on-youtube-with-r-how-to-analyze-and-visualize-your-personal-data-history-b171aca632bc&user=Sa%C3%BAl+Buentello&userId=38f118393fa8&source=post_page-38f118393fa8--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fcfed18b7737b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fexplore-your-activity-on-youtube-with-r-how-to-analyze-and-visualize-your-personal-data-history-b171aca632bc&newsletterV3=38f118393fa8&newsletterV3Id=cfed18b7737b&user=Sa%C3%BAl+Buentello&userId=38f118393fa8&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}