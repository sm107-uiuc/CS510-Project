{"url": "https://towardsdatascience.com/colourscales-are-everything-in-data-visualisation-are-you-using-them-correctly-c01fa331589b", "time": 1683016674.1083431, "path": "towardsdatascience.com/colourscales-are-everything-in-data-visualisation-are-you-using-them-correctly-c01fa331589b/", "webpage": {"metadata": {"title": "Colourscales are everything in data visualisation \u2013 are you using them effectively? | by JP Hwang | Towards Data Science", "h1": "Colourscales are everything in data visualisation \u2013 are you using them effectively?", "description": "You might have seen this COVID map \u2014 first reported by andishenouraee on Twitter, and then covered by the media at large. Even if you have, take another look. If you haven\u2019t, these are choropleth\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.maproomblog.com/2020/07/georgias-covid-19-maps-bad-faith-or-bad-design/", "anchor_text": "this COVID map", "paragraph_index": 0}, {"url": "https://github.com/databyjp/mad_maps", "anchor_text": "linked git repo", "paragraph_index": 10}, {"url": "https://twitter.com/_jphwang", "anchor_text": "say hi/follow on Twitter", "paragraph_index": 40}, {"url": "https://medium.com/@_jphwang/introducing-the-visual-in-the-noise-b70d2c8f9b63", "anchor_text": "wrote a little about why", "paragraph_index": 42}], "all_paragraphs": ["You might have seen this COVID map \u2014 first reported by andishenouraee on Twitter, and then covered by the media at large.", "Even if you have, take another look. If you haven\u2019t, these are choropleth maps showing Covid-19 cases per county (from July 2020) in the state of Georgia. The two maps appear very similar, but the observant among you might have noticed one crucial difference \u2014 the scale.", "Changes to the scale mask the fact that each colour band is about 50% higher, and many of the similarly-coloured areas would in fact, under the same scale, be a shade darker on the right-hand image.", "This approach is fine if the goal is to simply present relative data \u2013 i.e. highlight the county with the most or least cases. But it\u2019s not so great for much else.", "Oh, and also \u2014 those scales look odd! The numbers defining these ranges are quite irregular. Let\u2019s just visualise the data. We can set the colour bands to the same colours as the map to make a stacked bar chart:", "The bottom band shows the scale in the \u201cold\u201d map, and the top band the \u201cnew\u201d map with the more recent data.", "Whatever your thoughts are about the validity of the initial criticism, it is difficult to deny that the colours are confusing and arbitrary, leading to an unclear message. But you wouldn\u2019t have known any of that from just the output.", "So, as data people \u2014 data scientists, analysts, visualisation experts \u2014 we must be careful to make sure that the way the information is being presented is consistent with the goal. That is, the visualisation should be aligned with the message.", "Conversely, each data visualisation should be looked at with your BS detector switched on and aware that the message might be that of misinformation.", "Let\u2019s take a look at some other examples of how colourscales can change the message delivered by the visualisation.", "Here, I will use a few modified examples of my map data from this below article. If you would like to follow along, the original article presents the dataset and code in the linked git repo, and the new code is contained in colourscale.py. I will show revised code where it might be appropriate.", "I probably don\u2019t need to say that automatic scaling is usually not what we are after. Here\u2019s the map with automatic scaling.", "It shows some contours, but the map is dominated by the orange/red colours, although the entire colourscale spans transitions from blue/yellow/red. Here\u2019s another approach.", "This map is plotted with a range between 0 and US$100,000, based on the fact that the median value of counties\u2019 typical incomes are about US$50,000. The end result is a map that divides the United States\u2019 counties to two halves, showing in blue 50% of counties with the highest incomes, and in red the other half of counties.", "Compare that to the map below where the midpoint of the colourscale is now the overall U.S. median household income.", "While it is a similar graph overall, changing the midpoint to the national median means the colours significantly, showing a lot more red / orange than before.", "This figure compares counties\u2019 typical incomes with the entire country\u2019s typical income. In other words, the counties in red / orange are those whose typical income is below the national median. This graph clearly shows that most of the country, at the county level, has a median well below the national median.", "It\u2019s a simple change, but a significant one.", "Let\u2019s take a look at a few more substantial changes.", "What if we just wanted to know which counties are the wealthiest, and which the poorest?", "We need to rearrange the data first of all. The .rank() method can be used here to generate a rank of the data from a column, such as income, like so:", "This will generate a rank where the highest income counties will have the highest \u201crank\u201d. For intuitiveness, let\u2019s invert that, and assign it to a new column:", "And so, we can now plot the data:", "But is a divering scale that good a thing to do? A diverging scale tends to wash out the middle of the scale, while really visually accentuating the ends of the scale. The midpoint of our rankings and the difference from it don\u2019t mean anything, so changing from red to blue doesn\u2019t really denote anything.", "Instead, let\u2019s use a sequential colorscale.", "Better! It\u2019s cleaner, you\u2019re not distracted by the meaningless middle, or the changes to the hue for no reason.", "What would this chart look like with some other sequential colour scales? Take a look at these examples, with different colourscales:", "They each change the tone of the image and the accompanying message, even when the data is exactly the same. What is the impact of using a \u201ccold\u201d colour like blue, or a \u201cwarm\u201d colour like red for the shading? Red, for one, is more of an evocative colour. Is that what you want?", "Do you want to choose a darker colour to indicate lower socioeconomic regions? What about using red or blue for those? Might the association evoke an emotional reaction (intended or not) and detract from the message?", "The colour palette is a huge topic and one I\u2019m not even remotely qualified to talk about \u2014 but make sure to explore different options, and how they \u201cfeel\u201d.", "Let\u2019s stop and talk about what information we seek to present. We\u2019ve been ranking counties as is, but they\u2019re a) not equally sized, and b) have huge differences in population densities. Take a look at this chart showing the disparities in population sizes in counties.", "It stretches all the way to cities with 10million+ population, whereas the majority of the population lives in counties under 200k. What if we look at the data in a log scale? Plotly allows plotting in log scale, but we can also generate a new column where it\u2019s been converted into log scale:", "And going another step further, splitting the dataset by income reveals that the lower income set includes far more lower-income datasets.", "Based on all this, the colourscale should perhaps be scaled by the not just the number of counties, but its population. If you need further proof, look at this scatter plot showing the distribution of county incomes and income:", "So let\u2019s scale our colour map to take account of the county population. The way I did it was to determine ranks, and then to re-adjust the percentile value by the population sizes. The code snippet is here:", "The resulting graph (in the same manner as before) is drawn as such:", "Of course, the data is similar and therefore the resulting visualisation will be, too. But the difference is extremely stark. Take a look for yourself.", "Given what we were able to do with these small changes, it should not come as a surprise that myriad changes are possible to present data in a way that look drastically different to each other. These changes may in turn lead to extremely different impressions to the reader regardless of whether they are intended or not.", "And that\u2019s even without changing the colourscale to strange, non-linear scales as our first chart showed. (I don\u2019t think I will replicate that as I can\u2019t think of when that would actually be useful.)", "So as I mentioned up top \u2014 be mindful of how the colours are presented, and also keep an eye out for how others are presenting the data.", "Just before you go \u2014 if you liked this, say hi/follow on Twitter, or follow here for updates.", "Edit: I\u2019m starting a Substack for all things Data and Visualisation \u2014 it is going to be a way for me to engage directly with you. I would love for you to join me here.", "I also wrote a little about why I\u2019m starting a Substack.", "If you liked this article, check out these articles!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Tech / Data science writer & educator; Python dev; sports analytics enthusiast. \ud83c\udde6\ud83c\uddfa \ud83d\udc26: @_jphwang"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc01fa331589b&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcolourscales-are-everything-in-data-visualisation-are-you-using-them-correctly-c01fa331589b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcolourscales-are-everything-in-data-visualisation-are-you-using-them-correctly-c01fa331589b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcolourscales-are-everything-in-data-visualisation-are-you-using-them-correctly-c01fa331589b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcolourscales-are-everything-in-data-visualisation-are-you-using-them-correctly-c01fa331589b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c01fa331589b--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c01fa331589b--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@_jphwang?source=post_page-----c01fa331589b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@_jphwang?source=post_page-----c01fa331589b--------------------------------", "anchor_text": "JP Hwang"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F964fe0870229&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcolourscales-are-everything-in-data-visualisation-are-you-using-them-correctly-c01fa331589b&user=JP+Hwang&userId=964fe0870229&source=post_page-964fe0870229----c01fa331589b---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc01fa331589b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcolourscales-are-everything-in-data-visualisation-are-you-using-them-correctly-c01fa331589b&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc01fa331589b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcolourscales-are-everything-in-data-visualisation-are-you-using-them-correctly-c01fa331589b&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.maproomblog.com/2020/07/georgias-covid-19-maps-bad-faith-or-bad-design/", "anchor_text": "this COVID map"}, {"url": "https://github.com/databyjp/mad_maps", "anchor_text": "linked git repo"}, {"url": "https://towardsdatascience.com/mad-maps-visualizing-geographical-data-for-maximum-impact-d7e2b5ff2471", "anchor_text": "Mad Maps \u2014 visualizing geographical data for maximum impactHow to effectively communicate data on maps for clear, insightful insights with Python (code and data included)towardsdatascience.com"}, {"url": "https://twitter.com/_jphwang", "anchor_text": "say hi/follow on Twitter"}, {"url": "https://visualnoise.substack.com/p/coming-soon", "anchor_text": "Introducing The Visual in the Noise: All things data and visualisationData is everywhere and growing at an exponential rate along with the volume of media coverage about \"big data\", data\u2026visualnoise.substack.com"}, {"url": "https://medium.com/@_jphwang/introducing-the-visual-in-the-noise-b70d2c8f9b63", "anchor_text": "wrote a little about why"}, {"url": "https://towardsdatascience.com/create-effective-data-visualizations-of-proportions-94b69ad34410", "anchor_text": "Create effective data visualizations of proportionsBest ways to see individual contributions to a whole and changes over time, at various dataset sizes \u2014 (incl\u2026towardsdatascience.com"}, {"url": "https://towardsdatascience.com/can-machine-learning-help-build-a-better-stock-portfolio-8e4b3334a49", "anchor_text": "Can machine learning help build a better stock portfolio?Analysis of stock price charts to quantify correlations for portfolio optimisation (with Python code & data).towardsdatascience.com"}, {"url": "https://medium.com/tag/programming?source=post_page-----c01fa331589b---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----c01fa331589b---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/data-science?source=post_page-----c01fa331589b---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----c01fa331589b---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/technology?source=post_page-----c01fa331589b---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc01fa331589b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcolourscales-are-everything-in-data-visualisation-are-you-using-them-correctly-c01fa331589b&user=JP+Hwang&userId=964fe0870229&source=-----c01fa331589b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc01fa331589b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcolourscales-are-everything-in-data-visualisation-are-you-using-them-correctly-c01fa331589b&user=JP+Hwang&userId=964fe0870229&source=-----c01fa331589b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc01fa331589b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcolourscales-are-everything-in-data-visualisation-are-you-using-them-correctly-c01fa331589b&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c01fa331589b--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc01fa331589b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcolourscales-are-everything-in-data-visualisation-are-you-using-them-correctly-c01fa331589b&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c01fa331589b---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c01fa331589b--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c01fa331589b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c01fa331589b--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c01fa331589b--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c01fa331589b--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c01fa331589b--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c01fa331589b--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c01fa331589b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@_jphwang?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@_jphwang?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "JP Hwang"}, {"url": "https://medium.com/@_jphwang/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "2.1K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F964fe0870229&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcolourscales-are-everything-in-data-visualisation-are-you-using-them-correctly-c01fa331589b&user=JP+Hwang&userId=964fe0870229&source=post_page-964fe0870229--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F743cf2a1623e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcolourscales-are-everything-in-data-visualisation-are-you-using-them-correctly-c01fa331589b&newsletterV3=964fe0870229&newsletterV3Id=743cf2a1623e&user=JP+Hwang&userId=964fe0870229&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}