{"url": "https://towardsdatascience.com/equitable-code-retiring-master-on-github-beb21b791a18", "time": 1683010342.986807, "path": "towardsdatascience.com/equitable-code-retiring-master-on-github-beb21b791a18/", "webpage": {"metadata": {"title": "Equitable Code: Retiring master on GitHub | by Andrew Ring | Towards Data Science", "h1": "Equitable Code:Retiring master on GitHub", "description": "At Nines we iterate constantly when building tools for our radiology practice. In this post, we\u2019ll talk about updating some of the common infrastructure used throughout the software industry. In\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.theregister.com/2018/09/11/python_purges_master_and_slave_in_political_pogrom/", "anchor_text": "Python removed many references", "paragraph_index": 1}, {"url": "https://www.zdnet.com/article/github-to-replace-master-with-alternative-term-to-avoid-slavery-references/", "anchor_text": "GitHub has announced", "paragraph_index": 1}, {"url": "https://en.wikipedia.org/wiki/Continuous_integration", "anchor_text": "Continuous Integration", "paragraph_index": 2}, {"url": "https://www.vox.com/2015/2/16/8031073/what-are-microaggressions", "anchor_text": "microaggressions", "paragraph_index": 4}, {"url": "https://www.bbc.com/worklife/article/20180406-the-tiny-ways-youre-offensive---and-you-dont-even-know-it", "anchor_text": "without an intent to harm", "paragraph_index": 4}, {"url": "https://twitter.com/TatianaTMac/status/1016461463215529984", "anchor_text": "cumulatively, they have a big effect", "paragraph_index": 4}, {"url": "https://science.sciencemag.org/content/356/6334/183", "anchor_text": "AI makes the effects very clear", "paragraph_index": 4}, {"url": "https://www.zdnet.com/article/github-to-replace-master-with-alternative-term-to-avoid-slavery-references/", "anchor_text": "wider movement", "paragraph_index": 7}, {"url": "https://www.nines.com/blog/equitable-code-retiring-master-on-github", "anchor_text": "Nines Blog", "paragraph_index": 27}], "all_paragraphs": ["At Nines we iterate constantly when building tools for our radiology practice. In this post, we\u2019ll talk about updating some of the common infrastructure used throughout the software industry.", "In recent years, there has begun a movement to remove terms master and slave from software systems. In 2018, Python removed many references for version 3.8. More recently, GitHub has announced they will be changing the default branch from master to main.", "Traditionally, the canonical branch used in git repositories is named master. It is the default branch created in new repositories, and is frequently subject to stronger protections by requiring peer review of code changes, as well as Continuous Integration (CI) testing.", "At Nines, we have already made this change. I wanted to share some of my thoughts on the topic, as well as a guide to make this transition as easy as possible for others.", "The word master can serve as a trigger for thoughts about slavery, racism, and systemic injustice. Many point out that in this context, the use is analogous to a master record in the recording industry, i.e., the authoritative version. While that may be the case, it\u2019s beside the point. These sorts of subtle, but frequent, triggers are known as microaggressions. They are common, and generally used without an intent to harm. They might sound small, but cumulatively, they have a big effect. This type of issue is pervasive enough that AI makes the effects very clear. The pain caused is real, and we can easily help. All it takes is attention, and action.", "Great! Before we begin Nines\u2019 9-step process, make sure you have admin access to the GitHub repository you are updating. You should be able to see the Settings tab within the repository:", "It\u2019s important to communicate the process with any developers who are also using your repository. It\u2019s best to pick a time to transition when there isn\u2019t a high amount of activity with the repository, if possible, as Pull Requests merged at the wrong time could result in lost information.", "In line with a wider movement, I am renaming the default branch in <repository> from master to main. There will be a small planned downtime where PRs should not be merged, on <date> from 8 am to 9 am. Please let me know if you have any concerns about this process.", "Creating a new branch in git is very simple. From a local clone of your repository, checkout the master branch and make sure you are up to date with GitHub:", "Create the new branch from your updated base:", "Now push the new branch up to GitHub:", "It\u2019s important to note here that all previous commit history is retained in this process.", "Frequently, the primary branch will be subject to a variety of branch protection rules. This will appear in GitHub Branch Settings as something like this:", "At this stage, we can expand the rule to cover both master and main branches using a wildcard. Click Edit on the rule, and update the Branch name pattern to be ma*. It\u2019s important to note that the \u201cApplies to n branches\u201d box does not update until changes are saved. This should end up looking something like:", "Next search through your repository for explicit inclusion of master. Frequently, this will include CI/CD configuration files, and possibly other scripts and tooling. This needs to be done with some care, as there may be many other uses of the word, such as other repositories, or unrelated code.", "Your IDE of choice likely has a good way to search through all of the files in your repository. If you don\u2019t have something like this, here is a simple script to print all occurrences:", "Don\u2019t forget to check for any new changes in master which might need to be merged into main as well. You can check for these by selecting the main branch in the Code tab, and clicking compare.", "Now we\u2019ll update GitHub to treat main as the default branch. This will cause Pull Requests to default to using main as the base, will change which branch is shown by default in the Code tab, etc. This is changed in the Settings tab, under Branches:", "When master is deleted, any open Pull Requests which use it as a base will be automatically closed, and cannot be reopened. To avoid this, any open Pull Requests should have their base updated to main. The base is listed at the top of the Pull Request like this:", "Clicking Edit in the upper right corner will change the base into a dropdown. Update it and Save.", "7. Update Branch Protection, part 2", "In order to delete master, we need to first need to remove the branch protection that still applies to it. This is much like the previous change, but now replace ma* with main.", "With branch protection removed, deleting the branch from origin (GitHub) is as simple as:", "9. Communicate Changes and Local Cleanup", "Now it\u2019s time to close the loop and communicate the completion of the developers. In addition to confirming the work is complete, there is some minor clean up to do on each developer\u2019s machines, to remove copies of the deleted master branch. This can be done by running this in each clone:", "The transition in <repository> from master to main is now complete. All open Pull Requests have been updated to reflect this. As a final step, please run the following in your local copy of <repository> to remove outdated metadata:", "I hope this made the process of updating your branch simple and relatively painless. Thank you for helping to make our world, and industry, a little bit more welcoming.", "NB: This article originally appeared on the Nines Blog.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Andrew is a Member of the Technical Staff at Nines, Inc."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fbeb21b791a18&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fequitable-code-retiring-master-on-github-beb21b791a18&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fequitable-code-retiring-master-on-github-beb21b791a18&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fequitable-code-retiring-master-on-github-beb21b791a18&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fequitable-code-retiring-master-on-github-beb21b791a18&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----beb21b791a18--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----beb21b791a18--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@drewsiferr?source=post_page-----beb21b791a18--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@drewsiferr?source=post_page-----beb21b791a18--------------------------------", "anchor_text": "Andrew Ring"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fabfeb2eba269&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fequitable-code-retiring-master-on-github-beb21b791a18&user=Andrew+Ring&userId=abfeb2eba269&source=post_page-abfeb2eba269----beb21b791a18---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbeb21b791a18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fequitable-code-retiring-master-on-github-beb21b791a18&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbeb21b791a18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fequitable-code-retiring-master-on-github-beb21b791a18&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.theregister.com/2018/09/11/python_purges_master_and_slave_in_political_pogrom/", "anchor_text": "Python removed many references"}, {"url": "https://www.zdnet.com/article/github-to-replace-master-with-alternative-term-to-avoid-slavery-references/", "anchor_text": "GitHub has announced"}, {"url": "https://en.wikipedia.org/wiki/Continuous_integration", "anchor_text": "Continuous Integration"}, {"url": "https://www.vox.com/2015/2/16/8031073/what-are-microaggressions", "anchor_text": "microaggressions"}, {"url": "https://www.bbc.com/worklife/article/20180406-the-tiny-ways-youre-offensive---and-you-dont-even-know-it", "anchor_text": "without an intent to harm"}, {"url": "https://twitter.com/TatianaTMac/status/1016461463215529984", "anchor_text": "cumulatively, they have a big effect"}, {"url": "https://science.sciencemag.org/content/356/6334/183", "anchor_text": "AI makes the effects very clear"}, {"url": "https://www.zdnet.com/article/github-to-replace-master-with-alternative-term-to-avoid-slavery-references/", "anchor_text": "wider movement"}, {"url": "https://www.nines.com/blog/equitable-code-retiring-master-on-github", "anchor_text": "Nines Blog"}, {"url": "https://medium.com/tag/git?source=post_page-----beb21b791a18---------------git-----------------", "anchor_text": "Git"}, {"url": "https://medium.com/tag/github?source=post_page-----beb21b791a18---------------github-----------------", "anchor_text": "Github"}, {"url": "https://medium.com/tag/programming?source=post_page-----beb21b791a18---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/coding?source=post_page-----beb21b791a18---------------coding-----------------", "anchor_text": "Coding"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbeb21b791a18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fequitable-code-retiring-master-on-github-beb21b791a18&user=Andrew+Ring&userId=abfeb2eba269&source=-----beb21b791a18---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbeb21b791a18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fequitable-code-retiring-master-on-github-beb21b791a18&user=Andrew+Ring&userId=abfeb2eba269&source=-----beb21b791a18---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbeb21b791a18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fequitable-code-retiring-master-on-github-beb21b791a18&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----beb21b791a18--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fbeb21b791a18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fequitable-code-retiring-master-on-github-beb21b791a18&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----beb21b791a18---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----beb21b791a18--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----beb21b791a18--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----beb21b791a18--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----beb21b791a18--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----beb21b791a18--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----beb21b791a18--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----beb21b791a18--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----beb21b791a18--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@drewsiferr?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@drewsiferr?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andrew Ring"}, {"url": "https://medium.com/@drewsiferr/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1 Follower"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fabfeb2eba269&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fequitable-code-retiring-master-on-github-beb21b791a18&user=Andrew+Ring&userId=abfeb2eba269&source=post_page-abfeb2eba269--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fabfeb2eba269%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fequitable-code-retiring-master-on-github-beb21b791a18&user=Andrew+Ring&userId=abfeb2eba269&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}