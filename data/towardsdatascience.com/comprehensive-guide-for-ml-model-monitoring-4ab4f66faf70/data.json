{"url": "https://towardsdatascience.com/comprehensive-guide-for-ml-model-monitoring-4ab4f66faf70", "time": 1683006071.075507, "path": "towardsdatascience.com/comprehensive-guide-for-ml-model-monitoring-4ab4f66faf70/", "webpage": {"metadata": {"title": "Monitoring Binary Class ML Prediction Model | by Moubashsir Jawed | Towards Data Science", "h1": "Monitoring Binary Class ML Prediction Model", "description": "With advancement in technology and techniques, more and more companies have started showing confidence in Machine Learning (ML) models. This, in turn, means that more and more organizations have\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/gini-coefficient-and-lorenz-curve-f19bb8f46d66", "anchor_text": "here", "paragraph_index": 21}, {"url": "https://towardsdatascience.com/gini-coefficient-and-lorenz-curve-f19bb8f46d66", "anchor_text": "here", "paragraph_index": 21}, {"url": "https://www.analyticsvidhya.com/blog/2019/08/11-important-model-evaluation-error-metrics/", "anchor_text": "here", "paragraph_index": 22}, {"url": "https://towardsdatascience.com/how-to-determine-the-best-model-6b9c584d0db4", "anchor_text": "here", "paragraph_index": 25}], "all_paragraphs": ["With advancement in technology and techniques, more and more companies have started showing confidence in Machine Learning (ML) models. This, in turn, means that more and more organizations have started using ML models in their various business functions. It opens up one more line of work in ML pipeline called \u201cModel monitoring and model review\u201d. This line of work in ML pipeline becomes extremely important for models which have a high re-training turnaround time, ML models in banking domain can be taken as an example. In such a scenario, a model is trained once and is used for prediction on a periodic basis, e.g a credit card take-up model trained once can be used by marketing team on a weekly/monthly basis to predict on a new set of observations. Then the question arises, how do we know the model which was trained, say 6 months ago, is still good enough? How \u201crobust\u201d is this model? I will try to answer these questions in this article for a binary class prediction model.", "We will take a loan take-up prediction model as an example for this article. The model predicts 1 or 0 for every customer.", "1 : Customer will take up a loan in next 30 days,", "0 : Customer will not take up a loan in next 30 days", "This model review framework is agnostic of ML technique used to build this model.", "Overall, the model review framework can be divided into two groups of metrics, \u201cStability Metrics\u201d and \u201cPerformance metrics\u201d.", "a. Gini and KS \u2014 Statistics", "b. Gains Matrix: Gains Charts, Rank Ordering", "For the review process we will need two data sets:", "A. Development data set: The original data set on which the model was built. Fields which are required in this data set are:", "i. Unique observation identifier, it could be customer ID if the model is built for a customer", "ii. Actual dependent variable flags (actual 0 and 1) denoting if a customer will take up a loan in next 30 days", "iii. Predicted probability values during model development", "B. Review data set: The data set for which you want to review the model. For an example, let\u2019s assume that the loan take up model was built on some data with a set of variables in the month of January 2019, you want to check how robust is the model in the month of June 2019, then in that case review data set will have predictions made by the model for the month of June. Fields which are required for this data set are:", "ii. Actual dependent variable flags (actual 0 and 1) denoting if a customer will take up a loan in next 30 days", "To check how good is model performance, we will calculate the following metrics across development and review data sets.", "Stability metrics measure how stable the model is with respect to time. These metrics basically evaluate if the distribution of predicted probabilities is comparable over time across multiple predictions.", "PSI stands for Population Stability Index. It basically compares the distribution of predicted probability in review data set to that of a development data set. The idea here is to basically check, \u201chow the review probabilities compare to the probabilities of the development data sets\u201d.", "PSI = [(% of records based on predicted probability in review data set(R)) \u2013", "(% of records based on predicted probability in development data set(D)] * ln(R/D)", "CSI stands for Characteristic Stability Index. If PSI is out of acceptable value range, CSI helps us understand which variables are causing a shift in probability distribution in the review data set. CSI is calculated exactly in the same way as PSI. Instead of considering the predicted probability by the model, we take individual independent variables one at a time and calculate CSI in exact same way.", "Gini: The Gini Coefficient or Gini Index measures the inequality among the values of a variable. Higher the value of an index, more dispersed is the data. Thus, the Gini coefficient calculated over predicted probability gives as an idea of how dispersed it is. Gini can be calculated for both development and review data sets. The difference between the two Gini values should be as small as possible. A detailed explanation of Gini and how to calculate it is explained here. The Gini Coefficient for the predicted probability can be calculated by creating 101 equal groups of observation for two decimal rounded probability value i.e 0.00, 0.01, 0.02, 0.03\u2026 and then following the steps mentioned here.", "KS statistics: KS statistics stands for Kolmogorov Smirnov statistics. It is a measure of how well positives (events or 1) are separated from negatives (non-events or 0). If KS value is 100% (or 1) it means that the model is able to separate the population into two groups in which one group contains all the positives and the other contains all the negatives. In this model review framework, KS statistics is calculated for both development and review data sets. The difference in KS values should be as small as possible. Detailed step-wise calculations can be found here.", "The difference between Gini and KS between development and review data sets should be less than 10%. If the value is greater than 10%, we need to retrain the model.", "Gains and lift charts are well known and readily used model evaluation framework. They measure how much better one can expect to do with the predictive model comparing without a model. Steps to create Gains matrix are calculated as followed (follow the steps for development and review data one at a time)", "You can find detailed steps and Python code to calculate the same here.", "Perform the above steps for development and review data sets.", "a. Gains score: Plot Gains score for development and review data-sets vs cumulative population %. The two trends should be similar and close to each other.", "b. Rank Ordering: Plot event rate vs cumulative population %, again for both the development and review data sets and the trend should be close to each other.", "Gain score and Rank ordering plots should have the same trend in both development and review data sets. Pointwise difference between values for each group in the 10 deciles we make should be within 5% range. If the values differ by more than 5%, the model needs to be trained again.", "PSI, Gini Coefficient, KS statistics and Gains matrix give an idea of how observations are distributed across different values of predicted probability scores. A model is performing as expected if these measures in review data set mirror their values in the development data set. Alternatively, you need to retrain your model if these measures are different in the review data set as compared to the development data set.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4ab4f66faf70&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomprehensive-guide-for-ml-model-monitoring-4ab4f66faf70&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomprehensive-guide-for-ml-model-monitoring-4ab4f66faf70&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomprehensive-guide-for-ml-model-monitoring-4ab4f66faf70&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomprehensive-guide-for-ml-model-monitoring-4ab4f66faf70&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4ab4f66faf70--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4ab4f66faf70--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@jawedmoubashsir?source=post_page-----4ab4f66faf70--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jawedmoubashsir?source=post_page-----4ab4f66faf70--------------------------------", "anchor_text": "Moubashsir Jawed"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1cbdc8ab5de0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomprehensive-guide-for-ml-model-monitoring-4ab4f66faf70&user=Moubashsir+Jawed&userId=1cbdc8ab5de0&source=post_page-1cbdc8ab5de0----4ab4f66faf70---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4ab4f66faf70&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomprehensive-guide-for-ml-model-monitoring-4ab4f66faf70&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4ab4f66faf70&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomprehensive-guide-for-ml-model-monitoring-4ab4f66faf70&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@chrisliverani?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Chris Liverani"}, {"url": "https://unsplash.com/s/photos/monitoring?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/gini-coefficient-and-lorenz-curve-f19bb8f46d66", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/gini-coefficient-and-lorenz-curve-f19bb8f46d66", "anchor_text": "here"}, {"url": "https://www.analyticsvidhya.com/blog/2019/08/11-important-model-evaluation-error-metrics/", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/how-to-determine-the-best-model-6b9c584d0db4", "anchor_text": "here"}, {"url": "https://www.linkedin.com/pulse/credit-risk-scorecard-monitoring-tracking-shailendra", "anchor_text": "https://www.linkedin.com/pulse/credit-risk-scorecard-monitoring-tracking-shailendra"}, {"url": "https://towardsdatascience.com/gini-coefficient-and-lorenz-curve-f19bb8f46d66", "anchor_text": "https://towardsdatascience.com/gini-coefficient-and-lorenz-curve-f19bb8f46d66"}, {"url": "https://www.analyticsvidhya.com/blog/2019/08/11-important-model-evaluation-error-metrics/", "anchor_text": "https://www.analyticsvidhya.com/blog/2019/08/11-important-model-evaluation-error-metrics/"}, {"url": "https://towardsdatascience.com/how-to-determine-the-best-model-6b9c584d0db4", "anchor_text": "https://towardsdatascience.com/how-to-determine-the-best-model-6b9c584d0db4"}, {"url": "https://unsplash.com/photos/dBI_My696Rk", "anchor_text": "https://unsplash.com/photos/dBI_My696Rk"}, {"url": "https://medium.com/tag/model-monitoring?source=post_page-----4ab4f66faf70---------------model_monitoring-----------------", "anchor_text": "Model Monitoring"}, {"url": "https://medium.com/tag/data-science?source=post_page-----4ab4f66faf70---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/model-performance?source=post_page-----4ab4f66faf70---------------model_performance-----------------", "anchor_text": "Model Performance"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----4ab4f66faf70---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/algorithms?source=post_page-----4ab4f66faf70---------------algorithms-----------------", "anchor_text": "Algorithms"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4ab4f66faf70&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomprehensive-guide-for-ml-model-monitoring-4ab4f66faf70&user=Moubashsir+Jawed&userId=1cbdc8ab5de0&source=-----4ab4f66faf70---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4ab4f66faf70&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomprehensive-guide-for-ml-model-monitoring-4ab4f66faf70&user=Moubashsir+Jawed&userId=1cbdc8ab5de0&source=-----4ab4f66faf70---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4ab4f66faf70&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomprehensive-guide-for-ml-model-monitoring-4ab4f66faf70&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4ab4f66faf70--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4ab4f66faf70&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomprehensive-guide-for-ml-model-monitoring-4ab4f66faf70&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4ab4f66faf70---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4ab4f66faf70--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4ab4f66faf70--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4ab4f66faf70--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4ab4f66faf70--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4ab4f66faf70--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4ab4f66faf70--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4ab4f66faf70--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4ab4f66faf70--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jawedmoubashsir?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jawedmoubashsir?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Moubashsir Jawed"}, {"url": "https://medium.com/@jawedmoubashsir/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "10 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1cbdc8ab5de0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomprehensive-guide-for-ml-model-monitoring-4ab4f66faf70&user=Moubashsir+Jawed&userId=1cbdc8ab5de0&source=post_page-1cbdc8ab5de0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F1cbdc8ab5de0%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomprehensive-guide-for-ml-model-monitoring-4ab4f66faf70&user=Moubashsir+Jawed&userId=1cbdc8ab5de0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}