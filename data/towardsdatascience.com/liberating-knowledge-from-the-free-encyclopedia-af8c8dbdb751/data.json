{"url": "https://towardsdatascience.com/liberating-knowledge-from-the-free-encyclopedia-af8c8dbdb751", "time": 1683012249.066124, "path": "towardsdatascience.com/liberating-knowledge-from-the-free-encyclopedia-af8c8dbdb751/", "webpage": {"metadata": {"title": "Politics, Python, and Wikipedia. Using Python and the MediaWiki Action\u2026 | by Tal Zaken | Towards Data Science", "h1": "Politics, Python, and Wikipedia", "description": "Last month, The Intercept published an article claiming that, \u201cIn recent presidential cycles, the velocity of edits made to a Wikipedia page have correlated with the choice of vice presidential\u2026"}, "outgoing_paragraph_urls": [{"url": "https://theintercept.com/2020/07/02/kamala-harris-wikipedia/", "anchor_text": "an article", "paragraph_index": 0}, {"url": "https://en.wikipedia.org/wiki/2020_Democratic_Party_vice_presidential_candidate_selection", "anchor_text": "2020 Democratic Party vice presidential candidate selection", "paragraph_index": 3}, {"url": "https://www.mediawiki.org/wiki/API:Main_page", "anchor_text": "MediaWiki action API", "paragraph_index": 4}, {"url": "https://docs.python.org/3/library/datetime.html", "anchor_text": "datetime objects", "paragraph_index": 13}], "all_paragraphs": ["Last month, The Intercept published an article claiming that, \u201cIn recent presidential cycles, the velocity of edits made to a Wikipedia page have correlated with the choice of vice presidential running mate.\u201d The article focuses on Kamala Harris, and the increasing number of edits that took place on her Wikipedia page in June.", "The article argues that the pace of edits can be interpreted as signaling the strength of her potential to be named as VP candidate. Interesting. But is it valid?", "Well, now that a month has passed and a selection has still not been made, I decided to take a look at these changes for myself. I wanted to see how her rate of edits stacked up against other potential candidates. I was also curious to see if there were any other correlations we could draw with the results, to deepen our understanding of their meaning. So, to Python I turned.", "There is no single definitive list of 2020 potential Democratic VP candidates, so since we\u2019re working with Wikipedia, I\u2019ll stay to stay true to the source by collecting a list of from the Wikipedia article, \u201c2020 Democratic Party vice presidential candidate selection.\u201d Here are the nominees.", "To achieve my goal, I\u2019ll need to retrieve data from Wikipedia about each potential candidate. For this we can use the MediaWiki action API. Let\u2019s get to it!", "I\u2019ll start by preparing a list of names. We\u2019ll use this list of names to look up timestamps of revisions for their respective Wikipedia articles:", "Now I\u2019ll deploy a function that allows us to make an API call to Wikipedia, and returns a list of revision timestamps for a given article. We\u2019ll use the requests library for this:", "So, if I run this function on the Wikipedia article for Tammy Duckworth, its usage would look like this:", "And it would return a list that looks like this:", "As you can see, we have returned a list of timestamps, ordered newest-to-oldest, stored as strings. This is only a partial view of the full list, which contains 2484 timestamps at time of writing. That\u2019s a lot of revisions!", "Now that we know how to get timestamps, we can do this for our full list of nominees. But before we do, let\u2019s figure out how to convert them into a graph. For this, we will turn to matplotlib\u2019s pyplot module. While pyplot can handily manage dates, we first have to prepare our data in a way such that Python can interpret it correctly.", "Because our list of revision timestamps was generated newest-to-oldest, we also should reverse it, in order to plot forward in time.", "Now they are in chronological order. Great!", "Unfortunately, our timestamps are still just strings. To turn them into an interpretable date format, we must convert them into datetime objects. For this, we can use Python\u2019s built-in datetime library. Note that I\u2019m using the datetime module inside the datetime library.", "Okay! We have successfully converted our timestamps into datetime objects:", "Now that our dates can be interpreted by Python, we can go ahead and plot them. For this step, we will use pyplot\u2019s \u201cplot_date\u201d function. This function takes two arguments: x values and y values. For x values, we are using the list of datetime objects. For y values, I am using a range of numbers the same length as my list of datetime objects. This will allow me to increment the count (y-axis) by 1 for each date that is plotted (along the x-axis).", "The \u201cplot_date\u201d function looks at our list of dates, and finds the max and min. Then, it creates an evenly spaced sequence of dates to use as our x-axis, and plots the dates accordingly. It also senses whether our x or y value contains dates, and forces those values along the x-axis.", "As with any matplotlib figure, we can adjust the labels and formatting. I\u2019m going to keep it minimal here so that we can cut to some results. I\u2019ve added a title, and put labels on the axes:", "Voila! For fun, here\u2019s the same graph, but for Joe Biden\u2019s Wikipedia page. I think it\u2019s a nice example of this plotting method\u2019s narrative capacity:", "So, for the matter at hand. Now that we can get timestamps, convert them to datetime objects, and plot them, let\u2019s do it for our full list of potential Democratic VP nominees. Notice that I start by importing \u201cGetRevisionTimestamps,\u201d which is the module that contains my timestamp retrieval function, \u201cget_revision_timestamps.\u201d If you want to avoid this import, just copy/paste the defined function somewhere above this block.", "As we can see, not all curves are created equal. These curves vary in the amount of data represented, as well as scale. They also vary in span of time.", "Still, we can see some interesting trends already. Some plots appear linear, some stepped, some nearly quadratic. Some have moments of each. Where we see breaks in some plots, we can infer that no revisions were submitted. And yet, we can still chart the upward trajectory through time.", "Now, the image above represents all of the revisions for each article. But, what if I want to filter all of the plots to reflect just a specific date range, like in The Intercept\u2019s piece? I could write a function that takes start and end dates as optional arguments, and only plots dates within said range:", "Now some results are starting to show. We can see that the trend identified in The Intercept\u2019s article indeed does still hold true for Kamala Harris. While it\u2019s not yet so easy to say what this means, we can also notice some emerging increases for Karen Bass, Tammy Duckworth, and Susan Rice as well. Let\u2019s zoom in a little more; I\u2019ll look at the last three weeks only, just like The Intercept\u2019s article did:", "Okay. Now a pattern emerges. Let\u2019s focus on the four candidates with the largest number of recent edits:", "Well. This certainly complicates the story. If this measure is to be trusted, it looks like Kamala Harris has some new competition. But, now we should ask ourselves, how much can we trust this measure?", "The Intercept article goes into detail about the nature of revisions made to Harris\u2019 Wikipedia page, which certainly makes a convincing argument for a motivated attempt to control her public image on the platform. However, this criticism is fairly distinct from the initial claim made. The original claim states that the selection of a VP nominee correlates with the velocity of revisions to their Wikipedia page. While it may be worthwhile to consider the nature of the revisions made, for now I want to focus on this original claim. If the claim were true, it would suggest that measuring revisions could provide a useful indicator for understanding the Biden campaign\u2019s strategy. But, at least for now, this measure provides an indecisive result.", "For fun, and out of curiosity, I went ahead and grabbed some data from Google Trends, to see how they report interest in the same four candidates over the same three week period. Then I plotted the data with pyplot:", "The results are similar to what we see from looking at Wikipedia revisions. Keeping in mind that the Wikipedia results are cumulative, and therefore display acceleration differently, we have to be careful about drawing immediate comparisons. Let\u2019s go ahead and correct the Google results to reflect a cumulative measure:", "We begin to see a familiar picture again. It appears that, for these candidates at least, the number of Wikipedia revisions made seems to track with overall interest level. So, is it really an indicator of a likely selection?", "This plot comparison could certainly be improved. As an example, I\u2019ll mention that while The Intercept piece\u2019s claim dealt with the velocity of edits, the content of their analysis really only dealt with the raw number of edits. If we actually wanted to explore changes to the velocity of edits, one possible method would be to normalize the average number of edits per day recently, to the average number of edits per day typically seen over the article\u2019s lifetime.", "I didn\u2019t carry this analysis all the way through, but perhaps somebody else will! So here is a series of functions will return the average number of edits for a given article over a provided unit of time:", "For some quick results, I wrote a script that modifies the \u201cavg_wiki_edits\u201d function to generate average recent edits for a given time period and unit of time, then uses \u201cavg_wiki_edits\u201d to generate average lifetime edits for a given time unit. With these two results, it calculates a ratio, and then spits the results out in sentence form:", "When we normalize the activity, Karen Bass moves to the top of the pack. Interesting. But will it translate into a VP pick? Only time will tell.", "Do you have any ideas on how these graphs could be refined? Did you glean any insights from the results? Have ideas to make the process better, or push the analysis further? If so, please share them in the comments!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Tal Zaken works on environmental projects in the government space. He uses data-centric methods to implement civic programs for NYC residents."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Faf8c8dbdb751&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fliberating-knowledge-from-the-free-encyclopedia-af8c8dbdb751&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fliberating-knowledge-from-the-free-encyclopedia-af8c8dbdb751&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fliberating-knowledge-from-the-free-encyclopedia-af8c8dbdb751&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fliberating-knowledge-from-the-free-encyclopedia-af8c8dbdb751&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----af8c8dbdb751--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----af8c8dbdb751--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@talzaken?source=post_page-----af8c8dbdb751--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@talzaken?source=post_page-----af8c8dbdb751--------------------------------", "anchor_text": "Tal Zaken"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F57c57f709780&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fliberating-knowledge-from-the-free-encyclopedia-af8c8dbdb751&user=Tal+Zaken&userId=57c57f709780&source=post_page-57c57f709780----af8c8dbdb751---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Faf8c8dbdb751&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fliberating-knowledge-from-the-free-encyclopedia-af8c8dbdb751&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Faf8c8dbdb751&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fliberating-knowledge-from-the-free-encyclopedia-af8c8dbdb751&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@osomax?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Gabriel Manlake"}, {"url": "https://unsplash.com/s/photos/vise?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://theintercept.com/2020/07/02/kamala-harris-wikipedia/", "anchor_text": "an article"}, {"url": "https://en.wikipedia.org/wiki/2020_Democratic_Party_vice_presidential_candidate_selection", "anchor_text": "2020 Democratic Party vice presidential candidate selection"}, {"url": "https://www.mediawiki.org/wiki/API:Main_page", "anchor_text": "MediaWiki action API"}, {"url": "https://docs.python.org/3/library/datetime.html", "anchor_text": "datetime objects"}, {"url": "https://medium.com/tag/programming?source=post_page-----af8c8dbdb751---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/wikipedia?source=post_page-----af8c8dbdb751---------------wikipedia-----------------", "anchor_text": "Wikipedia"}, {"url": "https://medium.com/tag/python?source=post_page-----af8c8dbdb751---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/vice-president?source=post_page-----af8c8dbdb751---------------vice_president-----------------", "anchor_text": "Vice President"}, {"url": "https://medium.com/tag/biden?source=post_page-----af8c8dbdb751---------------biden-----------------", "anchor_text": "Biden"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Faf8c8dbdb751&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fliberating-knowledge-from-the-free-encyclopedia-af8c8dbdb751&user=Tal+Zaken&userId=57c57f709780&source=-----af8c8dbdb751---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Faf8c8dbdb751&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fliberating-knowledge-from-the-free-encyclopedia-af8c8dbdb751&user=Tal+Zaken&userId=57c57f709780&source=-----af8c8dbdb751---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Faf8c8dbdb751&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fliberating-knowledge-from-the-free-encyclopedia-af8c8dbdb751&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----af8c8dbdb751--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Faf8c8dbdb751&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fliberating-knowledge-from-the-free-encyclopedia-af8c8dbdb751&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----af8c8dbdb751---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----af8c8dbdb751--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----af8c8dbdb751--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----af8c8dbdb751--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----af8c8dbdb751--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----af8c8dbdb751--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----af8c8dbdb751--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----af8c8dbdb751--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----af8c8dbdb751--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@talzaken?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@talzaken?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Tal Zaken"}, {"url": "https://medium.com/@talzaken/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "6 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F57c57f709780&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fliberating-knowledge-from-the-free-encyclopedia-af8c8dbdb751&user=Tal+Zaken&userId=57c57f709780&source=post_page-57c57f709780--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F57c57f709780%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fliberating-knowledge-from-the-free-encyclopedia-af8c8dbdb751&user=Tal+Zaken&userId=57c57f709780&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}