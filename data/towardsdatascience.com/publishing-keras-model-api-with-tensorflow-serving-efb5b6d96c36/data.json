{"url": "https://towardsdatascience.com/publishing-keras-model-api-with-tensorflow-serving-efb5b6d96c36", "time": 1683002362.3470159, "path": "towardsdatascience.com/publishing-keras-model-api-with-tensorflow-serving-efb5b6d96c36/", "webpage": {"metadata": {"title": "Publishing Keras Model API with TensorFlow Serving | by Andrej Baranovskij | Towards Data Science", "h1": "Publishing Keras Model API with TensorFlow Serving", "description": "Building a ML model is a crucial task. Running ML model in production is not a less complex and important task. I had a post in the past about serving ML model through Flask REST API \u2014 Publishing\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/publishing-machine-learning-api-with-python-flask-98be46fb2440", "anchor_text": "Publishing Machine Learning API with Python Flask", "paragraph_index": 0}, {"url": "https://www.tensorflow.org/tfx/serving/docker#top_of_page", "anchor_text": "TensorFlow Serving with Docker", "paragraph_index": 1}, {"url": "https://www.tensorflow.org/tfx/serving/api_rest#start_modelserver_with_the_rest_api_endpoint", "anchor_text": "RESTful API guide", "paragraph_index": 12}, {"url": "https://towardsdatascience.com/report-time-execution-prediction-with-keras-and-tensorflow-8c9d9a889237", "anchor_text": "Report Time Execution Prediction with Keras and TensorFlow", "paragraph_index": 13}], "all_paragraphs": ["Building a ML model is a crucial task. Running ML model in production is not a less complex and important task. I had a post in the past about serving ML model through Flask REST API \u2014 Publishing Machine Learning API with Python Flask. While this approach works, it certainly lacks some important points:", "TensorFlow comes with a set of tools to help you run ML model in production. One of these tools \u2014 TensorFlow Serving. There is an excellent tutorial that describes how to configure and run it \u2014 TensorFlow Serving with Docker. I will follow the same steps in my example.", "TensorFlow Serving provides model versioning functionality. The client can access a specific model version or get to the latest version by default. When the model gets saved, we can generate a model version using the current timestamp:", "This is the generated folder structure, the model is versioned with a timestamp:", "I prefer to run TensorFlow Serving in my own Docker container. As per the instructions, there is an option to copy ML model into TensorFlow Serving container. First, create a base container from tensorflow/serving image:", "Copy ML model from a local folder into the base container (in my case, both model_folder and model_name are set to model_report_exec_time):", "Now you can double-check if the model was copied successfully. Enter into the container:", "Navigate to models folder, you should see your ML model there:", "Now create a new Docker container and set your ML model name to the environment variable, this way the model will be served on next container startup:", "You don\u2019t need base container anymore, remove it:", "Start container from your newly created image (REST endpoint runs on port 8501):", "Check container logs, to make sure TensorFlow Serving starts without errors:", "I would recommend to go through RESTful API guide for TensorFlow Serving. You should check if the model endpoint is available, execute GET: http://localhost:8501/v1/models/<model_name>. This should return model version status:", "If GET response is successful, we can go further and execute ML model predict function. With TensorFlow Serving, it is possible to call predict function directly through POST request, parameters can be passed through a variable called instances. ML model accepts normalized data, this means data should be normalized before calling predict endpoint. In this example, data is normalized in Python (check ML model described in this post \u2014 Report Time Execution Prediction with Keras and TensorFlow):", "Predict request is executed with CURL:", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fefb5b6d96c36&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublishing-keras-model-api-with-tensorflow-serving-efb5b6d96c36&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublishing-keras-model-api-with-tensorflow-serving-efb5b6d96c36&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublishing-keras-model-api-with-tensorflow-serving-efb5b6d96c36&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublishing-keras-model-api-with-tensorflow-serving-efb5b6d96c36&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----efb5b6d96c36--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----efb5b6d96c36--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://andrejusb.medium.com/?source=post_page-----efb5b6d96c36--------------------------------", "anchor_text": ""}, {"url": "https://andrejusb.medium.com/?source=post_page-----efb5b6d96c36--------------------------------", "anchor_text": "Andrej Baranovskij"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbbd1211c851b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublishing-keras-model-api-with-tensorflow-serving-efb5b6d96c36&user=Andrej+Baranovskij&userId=bbd1211c851b&source=post_page-bbd1211c851b----efb5b6d96c36---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fefb5b6d96c36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublishing-keras-model-api-with-tensorflow-serving-efb5b6d96c36&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fefb5b6d96c36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublishing-keras-model-api-with-tensorflow-serving-efb5b6d96c36&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/publishing-machine-learning-api-with-python-flask-98be46fb2440", "anchor_text": "Publishing Machine Learning API with Python Flask"}, {"url": "https://www.tensorflow.org/tfx/serving/docker#top_of_page", "anchor_text": "TensorFlow Serving with Docker"}, {"url": "https://www.tensorflow.org/tfx/serving/api_rest#start_modelserver_with_the_rest_api_endpoint", "anchor_text": "RESTful API guide"}, {"url": "https://towardsdatascience.com/report-time-execution-prediction-with-keras-and-tensorflow-8c9d9a889237", "anchor_text": "Report Time Execution Prediction with Keras and TensorFlow"}, {"url": "http://localhost:8501/v1/models/model_report_exec_time:predict", "anchor_text": "http://localhost:8501/v1/models/model_report_exec_time:predict"}, {"url": "https://github.com/abaranovskis-redsamurai/automation-repo/tree/master/tf-serving", "anchor_text": "repo"}, {"url": "https://towardsdatascience.com/report-time-execution-prediction-with-keras-and-tensorflow-8c9d9a889237", "anchor_text": "Report Time Execution Prediction with Keras and TensorFlow"}, {"url": "https://www.tensorflow.org/tfx/serving/docker", "anchor_text": "TensorFlow Serving with Docker"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----efb5b6d96c36---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/tensorflow?source=post_page-----efb5b6d96c36---------------tensorflow-----------------", "anchor_text": "TensorFlow"}, {"url": "https://medium.com/tag/ml-pipeline?source=post_page-----efb5b6d96c36---------------ml_pipeline-----------------", "anchor_text": "Ml Pipeline"}, {"url": "https://medium.com/tag/docker?source=post_page-----efb5b6d96c36---------------docker-----------------", "anchor_text": "Docker"}, {"url": "https://medium.com/tag/api?source=post_page-----efb5b6d96c36---------------api-----------------", "anchor_text": "API"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fefb5b6d96c36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublishing-keras-model-api-with-tensorflow-serving-efb5b6d96c36&user=Andrej+Baranovskij&userId=bbd1211c851b&source=-----efb5b6d96c36---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fefb5b6d96c36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublishing-keras-model-api-with-tensorflow-serving-efb5b6d96c36&user=Andrej+Baranovskij&userId=bbd1211c851b&source=-----efb5b6d96c36---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fefb5b6d96c36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublishing-keras-model-api-with-tensorflow-serving-efb5b6d96c36&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----efb5b6d96c36--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fefb5b6d96c36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublishing-keras-model-api-with-tensorflow-serving-efb5b6d96c36&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----efb5b6d96c36---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----efb5b6d96c36--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----efb5b6d96c36--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----efb5b6d96c36--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----efb5b6d96c36--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----efb5b6d96c36--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----efb5b6d96c36--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----efb5b6d96c36--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----efb5b6d96c36--------------------------------", "anchor_text": ""}, {"url": "https://andrejusb.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://andrejusb.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andrej Baranovskij"}, {"url": "https://andrejusb.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.2K Followers"}, {"url": "https://github.com/katanaml", "anchor_text": "https://github.com/katanaml"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbbd1211c851b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublishing-keras-model-api-with-tensorflow-serving-efb5b6d96c36&user=Andrej+Baranovskij&userId=bbd1211c851b&source=post_page-bbd1211c851b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd22cc5338107&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublishing-keras-model-api-with-tensorflow-serving-efb5b6d96c36&newsletterV3=bbd1211c851b&newsletterV3Id=d22cc5338107&user=Andrej+Baranovskij&userId=bbd1211c851b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}