{"url": "https://towardsdatascience.com/a-beginners-guide-to-grabbing-and-analyzing-salary-data-in-python-e8c60eab186e", "time": 1683002699.461858, "path": "towardsdatascience.com/a-beginners-guide-to-grabbing-and-analyzing-salary-data-in-python-e8c60eab186e/", "webpage": {"metadata": {"title": "A Beginner\u2019s Guide to Grabbing and Analyzing Salary Data in Python | by Matt Grierson | Towards Data Science", "h1": "A Beginner\u2019s Guide to Grabbing and Analyzing Salary Data in Python", "description": "When I first started learning Python, one of the resources I wish I had were really simple, practical examples of how to grab and analyze data. For years I clung to Excel simply because I could do\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/mattygyo/medium_articles/blob/master/Levels.fyi%20Walkthrough.ipynb", "anchor_text": "Jupyter Notebook", "paragraph_index": 1}, {"url": "http://levels.fyi", "anchor_text": "levels.fyi", "paragraph_index": 2}, {"url": "http://glassdoor.com", "anchor_text": "glassdoor.com", "paragraph_index": 2}, {"url": "https://medium.com/codingthesmartway-com-blog/getting-started-with-jupyter-notebook-for-python-4e7082bd5d46", "anchor_text": "Jupyter", "paragraph_index": 2}, {"url": "https://www.anaconda.com/", "anchor_text": "Anaconda", "paragraph_index": 2}, {"url": "https://github.com/psf/requests/", "anchor_text": "requests", "paragraph_index": 3}, {"url": "https://github.com/pandas-dev/pandas", "anchor_text": "pandas", "paragraph_index": 3}, {"url": "https://github.com/ResidentMario/missingno", "anchor_text": "missingno", "paragraph_index": 8}, {"url": "https://github.com/pandas-profiling/pandas-profiling", "anchor_text": "Pandas Profiling", "paragraph_index": 10}, {"url": "https://medium.com/u/5164378fc848?source=post_page-----e8c60eab186e--------------------------------", "anchor_text": "Lukas Frei", "paragraph_index": 10}, {"url": "https://towardsdatascience.com/speed-up-your-exploratory-data-analysis-with-pandas-profiling-88b33dc53625", "anchor_text": "here", "paragraph_index": 10}, {"url": "https://www.levels.fyi/addcomp.html", "anchor_text": "https://www.levels.fyi/addcomp.html", "paragraph_index": 16}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.query.html", "anchor_text": "query", "paragraph_index": 20}, {"url": "https://github.com/AutoViML/AutoViz", "anchor_text": "AutoViz", "paragraph_index": 23}, {"url": "https://danrothdatascience.github.io/datascience/autoviz.html", "anchor_text": "article", "paragraph_index": 23}], "all_paragraphs": ["When I first started learning Python, one of the resources I wish I had were really simple, practical examples of how to grab and analyze data. For years I clung to Excel simply because I could do everything relatively fast and it seemed like Python was a lot of learning for a questionable benefit at the time.", "Below, I want to discuss three extremely useful libraries for Exploratory Data Analysis (EDA), highlighting the value of each to those who may wonder about the cost-benefit of learning Python. The full code shown below can be found here as a Jupyter Notebook.", "If you work in one of the FAANG (Facebook/Apple/Amazon/Netflix/Google), you\u2019ve likely heard of site levels.fyi. For those who haven\u2019t, Levels makes it easy to compare and contrast different career levels across different companies, and is generally considered more accurate in terms of actual tech salaries relative to other compensation sites like glassdoor.com. Levels.fyi has a great interface and its visualizations make it easy to compare salary bands across companies, however, I found myself wanting to analyze the data in a way that pre-aggregated views on the site doesn\u2019t allow. Below is a step-by-step process for how I\u2019ve done it. To follow along, you will need something to write Python in (would recommend Jupyter) and know how to install the various libraries mentioned (would recommend downloading Anaconda for beginners).", "Retrieving the data is the most confusing part starting out, since the site structure determines how accessible the data is. Luckily, after examining network calls using developers tools, I found level.fyi delivers its entire salary payload from a single endpoint. Grabbing JSON data with Python is ridiculously easy, and I personally use the requests library. Combine this with the pandas library and we have stored the JSON into a tidy dataframe with two lines of code:", "Using the requests.get allows us to make a proper http request and returns a Response object. Adding the json() at the end transforms the response into JSON. Now that we have the data in a JSON format, all we need to do is construct a DataFrame which yields the following:", "You can see that there\u2019s a few useless columns that we pulled in, such as rowNumber. We\u2019ll go ahead and get rid of them so that we don\u2019t clutter our analysis in the next steps. We\u2019ll also want to replace blank values with the numpy \u2018NaN\u2019 so that some of the exploratory analysis in the next steps function properly:", "Now that we have our DataFrame cleaned up, let\u2019s start to explore the dataset!", "Pandas has a lot of really useful methods for quickly understanding your dataset such as describe(), info(), shape(), etc. While they are certainly useful in their own right, I find that these can be cumbersome to remember early on. They\u2019re also more focused on descriptive statistics that don\u2019t do a whole lot to help you understand larger issues like data completeness or correlations. Luckily this is Python land, and there are three libraries in particular that do a great job in doing the heavy lifting for us.", "For this dataset I first wanted to understand the completeness of each feature and whether I have enough to conduct meaningful analysis (ex/ examining wage difference by gender, or variance in stock/bonus by tenure). To do this I prefer to use the missingno library, which can return a variety of visualizations to help better understand the missing data in the dataset. All I need to do is import the library and use the following one-liner:", "Voila! Beyond seeing how complete the data is, we also learn certain features like \u2018tag\u2019, \u2018basesalary\u2019, and \u2018bonus\u2019 weren\u2019t always required form fills, but became required later. It also shows that outside of \u2018otherdetails\u2019 (and \u2018gender\u2019 for a stretch), optional data like \u2018stockgrantvalue\u2019 was filled out fairly frequently and can be included in my initial analysis.", "Now that I have a quick idea on the completeness of my data, I can run a more in-depth exploratory analysis. To do this, I\u2019m going to use a library called Pandas Profiling. Think of it like dataframe.describe(), but on steroids. Pandas Profiling takes every feature of the dataset, looks at the datatype, and then creates a huge page describing each feature in detail using distribution graphs, categorical bins, extreme values, etc. It also provides an overview of the dataset, correlation matrices, and a section displaying all the missing data using the MissingNo library mentioned above! Lukas Frei has written an extensive article about the library here which I highly recommend for a more in-depth overview of Pandas Profiling.", "The first thing we need to do is make sure our datatypes are the right types so that Pandas Profiling can interpret them correctly. Using df.info() shows that all of our columns are currently object types, so let\u2019s change that with the following code:", "If you run df.info() again you\u2019ll now see \u2018timestamp\u2019 is a datetime and the others have changed to floats. Now that our data is in the correct format, let\u2019s use the 1-line wonder to generate the pandas profile!", "Once it runs you should see something similar to the graphic below with an overview of the dataset!", "Pretty cool, right? In addition to summarizing the data, it also highlights relevant information like highly cardinal data, percentage of missing data within variables, and zero-values. For this article I\u2019m most interested in totalyearlycompensation, so let\u2019s examine that variable and see what we can learn\u2026", "Already we can see there is something causing a major skew in the data, as the distribution is highly concentrated on the left. Expanding the details and going to the extreme values tab shows the following:", "It seems odd that the highest value is 5000, so we need to go to https://www.levels.fyi/addcomp.html and understand what the form to enter salary data looks like:", "Looking at the form brings up several possibilities for the skew. Some people may be making $5 mil+ a year (possible!), there could be people just entering in junk data, and/or maybe there was a time on the site when users entered the data differently (the whole number instead of thousands). Since we have no control over data quality, let\u2019s see if the \u2018statistics\u2019 tab can help us understand more about this:", "When looking at the quantile data on the left, we can see that the 5th/95th percent marks seem to match the data on the whole (a range between $96,000 and $500,000). Instead of trying to create static filters or comb through data to remove these outliers, we can instead use the another mind-blowing method in Python called quantile to easily filter out the top and bottom 5%:", "Ta-da! We\u2019ve instantly and dynamically removed the outliers from our dataset. If we re-run through pandas-profiling our totalyearlycompensation variable now looks like this:", "You can even extrapolate further and use the pandas query method to analyze a specific subset of the data. For example:", "gives us a report that analyzes the subset of FAANG product managers and software engineers with 5\u201315 years of experience.", "You can go further with the use of some additional libraries to plot a comparison out in a violin plot!", "Originally, my article was only going to address the two libraries above, but there has been a new one releaseI want to cover as well called AutoViz. It is a newer library that essentially does the work of finding \u2018relevant\u2019 details of a dataset, grouping them together in logical ways, then providing an output to the user in various graph forms. As described in this article:", "An XGBoost model is repeatedly used to determine the most consistent set of features determined to be important by using a random set of features each time; the most prominent selected features can then serve to guide future plotting and visualization", "To apply and try this out on our dataset, all we need to do is add a few additional lines of code, and name the dependent variable we want to analyze (totalyearlycompensation in this example). Let\u2019s also filter the dataset to software engineers, so we can analyze a single job type when looking at our output:", "Once you run the above you should have something like this, followed by graphs:", "So we can see that out of the 13 features in the dataset, AutoViz decided to drop 6 due to low-information relevance, surprisingly enough company and location are among them. However, if we look at the location counts using df.value_counts(normalize=True) we see that 51% of the salaries come from just 5 locations, so there may not be enough data to make location a strong indicator.", "Let\u2019s now look at the graphs it generated and see what we can learn. Under \u2018continuous variables mapped against target variable\u2019, we see the following:", "From this we can see that:", "The histogram KDE portion is very important when considering the output, so let\u2019s discuss that section next. First, we can see that males account for roughly 88% of the dataset, so extracting meaningful insights between genders will be difficult given the substantial imbalance. Second, the data skews heavily toward people who are early in their careers \u2014 63% of the reported salaries are from people with 0\u20136 years of experience. This tells us that those with more experience may want to consider the limited sample size before jumping to too many conclusions.", "The next set of variables in the KDE plot section also show a strong right skew. Bonus and stockgrantvalue in particular also have several spikes in them. That\u2019s the KDE way of saying that these are the highest probability picks in the dataset.", "Why is this important? If we had continued to just look through the pair-wise scatter plot section we would have encountered this:", "If we had not seen the skews in the KDE I would have no way of telling that, for bonus, 40% of the values are actually under the number \u201840\u2019.", "AutoViz is an excellent new library that actually has the potential to save you time when you take an initial look at data. As shown above though, the program will not save you from misshapen or funky data, so understanding your dataset is key to generating useful insights with this!", "Hopefully this post has given you a few new tools to work with when starting out with a dataset. There are many more in-depth and hardcore packages out there that I may discuss in a future post, but I think these hit a nice mix between high-value output and low-intensity input. Personally, I start with missingno, run pandas_profile after I\u2019m confident the data is relatively complete, then filter/massage into a more detailed dataset to run against AutoViz for more granular auto-generated insights. Thanks for reading!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe8c60eab186e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-grabbing-and-analyzing-salary-data-in-python-e8c60eab186e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-grabbing-and-analyzing-salary-data-in-python-e8c60eab186e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-grabbing-and-analyzing-salary-data-in-python-e8c60eab186e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-grabbing-and-analyzing-salary-data-in-python-e8c60eab186e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e8c60eab186e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e8c60eab186e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@mattygyo?source=post_page-----e8c60eab186e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@mattygyo?source=post_page-----e8c60eab186e--------------------------------", "anchor_text": "Matt Grierson"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F642d1ad397ba&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-grabbing-and-analyzing-salary-data-in-python-e8c60eab186e&user=Matt+Grierson&userId=642d1ad397ba&source=post_page-642d1ad397ba----e8c60eab186e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe8c60eab186e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-grabbing-and-analyzing-salary-data-in-python-e8c60eab186e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe8c60eab186e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-grabbing-and-analyzing-salary-data-in-python-e8c60eab186e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/mattygyo/medium_articles/blob/master/Levels.fyi%20Walkthrough.ipynb", "anchor_text": "Jupyter Notebook"}, {"url": "http://levels.fyi", "anchor_text": "levels.fyi"}, {"url": "http://glassdoor.com", "anchor_text": "glassdoor.com"}, {"url": "https://medium.com/codingthesmartway-com-blog/getting-started-with-jupyter-notebook-for-python-4e7082bd5d46", "anchor_text": "Jupyter"}, {"url": "https://www.anaconda.com/", "anchor_text": "Anaconda"}, {"url": "https://github.com/psf/requests/", "anchor_text": "requests"}, {"url": "https://github.com/pandas-dev/pandas", "anchor_text": "pandas"}, {"url": "https://github.com/ResidentMario/missingno", "anchor_text": "missingno"}, {"url": "https://github.com/pandas-profiling/pandas-profiling", "anchor_text": "Pandas Profiling"}, {"url": "https://medium.com/u/5164378fc848?source=post_page-----e8c60eab186e--------------------------------", "anchor_text": "Lukas Frei"}, {"url": "https://towardsdatascience.com/speed-up-your-exploratory-data-analysis-with-pandas-profiling-88b33dc53625", "anchor_text": "here"}, {"url": "https://www.levels.fyi/addcomp.html", "anchor_text": "https://www.levels.fyi/addcomp.html"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.query.html", "anchor_text": "query"}, {"url": "https://github.com/mattygyo/medium_articles/blob/master/Levels.fyi%20Walkthrough.ipynb", "anchor_text": "Jupyter Notebook"}, {"url": "https://github.com/AutoViML/AutoViz", "anchor_text": "AutoViz"}, {"url": "https://danrothdatascience.github.io/datascience/autoviz.html", "anchor_text": "article"}, {"url": "https://medium.com/tag/data-science?source=post_page-----e8c60eab186e---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----e8c60eab186e---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/exploratory-data-analysis?source=post_page-----e8c60eab186e---------------exploratory_data_analysis-----------------", "anchor_text": "Exploratory Data Analysis"}, {"url": "https://medium.com/tag/salary?source=post_page-----e8c60eab186e---------------salary-----------------", "anchor_text": "Salary"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----e8c60eab186e---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe8c60eab186e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-grabbing-and-analyzing-salary-data-in-python-e8c60eab186e&user=Matt+Grierson&userId=642d1ad397ba&source=-----e8c60eab186e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe8c60eab186e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-grabbing-and-analyzing-salary-data-in-python-e8c60eab186e&user=Matt+Grierson&userId=642d1ad397ba&source=-----e8c60eab186e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe8c60eab186e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-grabbing-and-analyzing-salary-data-in-python-e8c60eab186e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e8c60eab186e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe8c60eab186e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-grabbing-and-analyzing-salary-data-in-python-e8c60eab186e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e8c60eab186e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e8c60eab186e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e8c60eab186e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e8c60eab186e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e8c60eab186e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e8c60eab186e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e8c60eab186e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e8c60eab186e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e8c60eab186e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@mattygyo?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@mattygyo?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Matt Grierson"}, {"url": "https://medium.com/@mattygyo/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "346 Followers"}, {"url": "https://www.linkedin.com/in/matthewgrierson/", "anchor_text": "https://www.linkedin.com/in/matthewgrierson/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F642d1ad397ba&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-grabbing-and-analyzing-salary-data-in-python-e8c60eab186e&user=Matt+Grierson&userId=642d1ad397ba&source=post_page-642d1ad397ba--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fbcc255d5ba5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-grabbing-and-analyzing-salary-data-in-python-e8c60eab186e&newsletterV3=642d1ad397ba&newsletterV3Id=bcc255d5ba5e&user=Matt+Grierson&userId=642d1ad397ba&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}