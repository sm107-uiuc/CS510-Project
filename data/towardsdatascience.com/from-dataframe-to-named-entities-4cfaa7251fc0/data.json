{"url": "https://towardsdatascience.com/from-dataframe-to-named-entities-4cfaa7251fc0", "time": 1683007918.653167, "path": "towardsdatascience.com/from-dataframe-to-named-entities-4cfaa7251fc0/", "webpage": {"metadata": {"title": "From DataFrame to Named-Entities. A quick-start guide to extracting\u2026 | by Ednalyn C. De Dios | Towards Data Science", "h1": "From DataFrame to Named-Entities", "description": "A long time ago in a galaxy far away, I was analyzing comments left by customers and I noticed that they seemed to mention specific companies much more than others. This gave me an idea. Maybe there\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/ecdedios/named-entity-recognition-quick-start", "anchor_text": "here", "paragraph_index": 8}, {"url": "http://www.trumptwitterarchive.com/archive", "anchor_text": "Trump Twitter Archive", "paragraph_index": 8}, {"url": "https://spacy.io/api/annotation#named-entities", "anchor_text": "named-entities", "paragraph_index": 12}, {"url": "https://twitter.com/ecdedios", "anchor_text": "Twitter", "paragraph_index": 22}, {"url": "https://www.linkedin.com/in/ednalyn-de-dios/", "anchor_text": "LinkedIn", "paragraph_index": 22}, {"url": "https://medium.com/@ednalyn.dedios/membership", "anchor_text": "https://medium.com/@ednalyn.dedios/membership", "paragraph_index": 24}], "all_paragraphs": ["A long time ago in a galaxy far away, I was analyzing comments left by customers and I noticed that they seemed to mention specific companies much more than others. This gave me an idea. Maybe there is a way to extract the names of companies from the comments and I could quantify them and conduct further analysis.", "According to Wikipedia, named-entity recognition or NER \u201cis a subtask of information extraction that seeks to locate and classify named entity mentioned in unstructured text into pre-defined categories such as person names, organizations, locations, medical codes, time expressions, quantities, monetary values, percentages, etc.\u201d\u00b9 In other words, NER attempts to extract words that categorized into proper names and even numerical entities.", "In this post, I\u2019ll share the code that will let us extract named-entities from a Pandas dataframe using spaCy, an open-source library provides industrial-strength natural language processing in Python and is designed for production use.\u00b2", "To get started, let\u2019s install spaCy with the following pip command:", "After that, let\u2019s download the pre-trained model for English:", "With that out of the way, let\u2019s open up a Jupyter notebook and get started!", "Run the following code block into a cell to get all the necessary imports into our Python environment.", "The important line in this block is nlp = en_core_web_sm.load() because this is what we\u2019ll be using later to extract the entities from the text.", "First, let\u2019s get our data and load it into a dataframe. If you want to follow along, download the sample dataset here or create your own from the Trump Twitter Archive.", "Running df.head() in a cell will get us acquainted with the data set quickly.", "Second, let\u2019s create tokens that will serve as input for spaCy. In the line below, we create a variable tokens that contains all the words in the 'text' column of the df dataframe.", "Third, we\u2019re going to extract entities. We can just extract the most common entities for now:", "Next, we\u2019ll extract the entities based on their categories. We have a few to choose from people to events and even organizations. For a complete list of all that spaCy has to offer, check out their documentation on named-entities.", "To start, we\u2019ll extract people (real and fictional) using the PERSON type.", "In the code above, we started by making an empty list with person_list = [].", "Then, we utilized a for-loop to loop through the entities found in tokens with tokens.ents. After that, we made a conditional that will append to the previously created list if the entity label is equal to PERSON type.", "We\u2019ll want to know how many times a certain entity of PERSON type appears in the tokens so we did with person_counts = Counter(person_list).most_common(20). This line will give us the top 20 most common entities for this type.", "Finally, we created the df_person dataframe to store the results and this is what we get:", "We\u2019ll repeat the same pattern for the NORP type which recognizes nationalities, religious and political groups.", "And this is what we get:", "Let\u2019s create a horizontal bar graph of the df_norp dataframe.", "I hope you enjoyed this one. Natural language processing is a huge topic but I hope that this gentle introduction will encourage you to explore more and expand your repertoire.", "You can reach me on Twitter or LinkedIn.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Machine Learning Engineer / Data Scientist / Python Developer / Food Lover https://medium.com/@ednalyn.dedios/membership"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4cfaa7251fc0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-dataframe-to-named-entities-4cfaa7251fc0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-dataframe-to-named-entities-4cfaa7251fc0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-dataframe-to-named-entities-4cfaa7251fc0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-dataframe-to-named-entities-4cfaa7251fc0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4cfaa7251fc0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4cfaa7251fc0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@ednalyn.dedios?source=post_page-----4cfaa7251fc0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ednalyn.dedios?source=post_page-----4cfaa7251fc0--------------------------------", "anchor_text": "Ednalyn C. De Dios"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F92e30e2c69cb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-dataframe-to-named-entities-4cfaa7251fc0&user=Ednalyn+C.+De+Dios&userId=92e30e2c69cb&source=post_page-92e30e2c69cb----4cfaa7251fc0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4cfaa7251fc0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-dataframe-to-named-entities-4cfaa7251fc0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4cfaa7251fc0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-dataframe-to-named-entities-4cfaa7251fc0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@wesleyphotography?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Wesley Tingey"}, {"url": "https://unsplash.com/s/photos/organizations?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://github.com/ecdedios/named-entity-recognition-quick-start", "anchor_text": "here"}, {"url": "http://www.trumptwitterarchive.com/archive", "anchor_text": "Trump Twitter Archive"}, {"url": "https://spacy.io/api/annotation#named-entities", "anchor_text": "named-entities"}, {"url": "https://twitter.com/ecdedios", "anchor_text": "Twitter"}, {"url": "https://www.linkedin.com/in/ednalyn-de-dios/", "anchor_text": "LinkedIn"}, {"url": "https://en.wikipedia.org/wiki/Named-entity_recognition", "anchor_text": "https://en.wikipedia.org/wiki/Named-entity_recognition"}, {"url": "https://spacy.io/", "anchor_text": "https://spacy.io/"}, {"url": "https://medium.com/tag/data-science?source=post_page-----4cfaa7251fc0---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----4cfaa7251fc0---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/nlp?source=post_page-----4cfaa7251fc0---------------nlp-----------------", "anchor_text": "NLP"}, {"url": "https://medium.com/tag/spacy?source=post_page-----4cfaa7251fc0---------------spacy-----------------", "anchor_text": "Spacy"}, {"url": "https://medium.com/tag/pandas?source=post_page-----4cfaa7251fc0---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4cfaa7251fc0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-dataframe-to-named-entities-4cfaa7251fc0&user=Ednalyn+C.+De+Dios&userId=92e30e2c69cb&source=-----4cfaa7251fc0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4cfaa7251fc0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-dataframe-to-named-entities-4cfaa7251fc0&user=Ednalyn+C.+De+Dios&userId=92e30e2c69cb&source=-----4cfaa7251fc0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4cfaa7251fc0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-dataframe-to-named-entities-4cfaa7251fc0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4cfaa7251fc0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4cfaa7251fc0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-dataframe-to-named-entities-4cfaa7251fc0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4cfaa7251fc0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4cfaa7251fc0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4cfaa7251fc0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4cfaa7251fc0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4cfaa7251fc0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4cfaa7251fc0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4cfaa7251fc0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4cfaa7251fc0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4cfaa7251fc0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ednalyn.dedios?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ednalyn.dedios?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Ednalyn C. De Dios"}, {"url": "https://medium.com/@ednalyn.dedios/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "838 Followers"}, {"url": "https://medium.com/@ednalyn.dedios/membership", "anchor_text": "https://medium.com/@ednalyn.dedios/membership"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F92e30e2c69cb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-dataframe-to-named-entities-4cfaa7251fc0&user=Ednalyn+C.+De+Dios&userId=92e30e2c69cb&source=post_page-92e30e2c69cb--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F508dc0490c9a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-dataframe-to-named-entities-4cfaa7251fc0&newsletterV3=92e30e2c69cb&newsletterV3Id=508dc0490c9a&user=Ednalyn+C.+De+Dios&userId=92e30e2c69cb&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}