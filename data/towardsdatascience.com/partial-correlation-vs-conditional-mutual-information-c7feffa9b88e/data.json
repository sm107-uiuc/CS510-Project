{"url": "https://towardsdatascience.com/partial-correlation-vs-conditional-mutual-information-c7feffa9b88e", "time": 1683005593.9113238, "path": "towardsdatascience.com/partial-correlation-vs-conditional-mutual-information-c7feffa9b88e/", "webpage": {"metadata": {"title": "Partial Correlation Vs. Interaction Information | by Tomer Nahshon | Towards Data Science", "h1": "Partial Correlation Vs. Interaction Information", "description": "Finding relationships between different variables or features in a dataset during a data analysis task is one of the key and fundamental skills that a data scientist should possess. In this short\u2026"}, "outgoing_paragraph_urls": [{"url": "http://www.psychwiki.com/wiki/How_is_a_correlation_different_than_a_partial_correlation%3F", "anchor_text": "behavioral science", "paragraph_index": 15}, {"url": "https://www.researchgate.net/profile/Zhang_Jie55/post/Any_advice_on_partial_correlation_interpretation/attachment/5a6977374cde266d58862724/AS%3A586572701392896%401516861238925/download/aboutPatialCorrelation.docx", "anchor_text": "climate change analysis", "paragraph_index": 15}, {"url": "https://en.wikipedia.org/wiki/Entropy_(information_theory)", "anchor_text": "entropy", "paragraph_index": 17}, {"url": "https://github.com/Z30G0D/ML_codes", "anchor_text": "Github page", "paragraph_index": 30}], "all_paragraphs": ["Finding relationships between different variables or features in a dataset during a data analysis task is one of the key and fundamental skills that a data scientist should possess.", "In this short article, we are going to cover a phenomenon that you may (or may not) have encountered during your research and analysis problems. We are going to create a simple dataset and apply our metrics to spot this phenomenon and discuss it.", "Finding the relationships between variables in our dataset is essential to get rid of redundant variables for prediction, inferring causality (if possible!) and have a general sense of how rich our dataset is in explaining our hypotheses.", "One of the main issues rising concerns the dependency of different random variables. We can account for this issue using a correlation matrix, linear fit and other different methods to find the relationship and use as we see fit. But what if we have two variables that we believe have a strong correlation between them but the truth is they are both tightly related to a third variable that increases the strength of this relationship?", "This issue could ruin our assumptions and force us to tell lies to ourselves (and our superiors\u2026) about our findings.", "One of the possible techniques to account for this problem is to use a measure called \u201cpartial correlation\u201d.", "Partial Correlation, in contrast to Pearson Correlation, takes into account the existence of a third variable and \u201ccontrolling\u201d it.", "What does it mean controlling for a variable?", "In causal models, controlling for a variable means binning data according to the measured values of the variable. This is typically done so that the variable can no longer act as a confounder, for example in an observational study or experiment.", "The formal way to do this is to conduct a linear regression between both X and Z and Y and Z, collecting the error terms and use the standard Pearson correlation between the error terms. When we think about this, if X and Y are correlated regardless to Z, then the errors of their respective linear regression to Z will be correlated to one another (higher partial correlation). If the error terms are different (lower partial correlation), that means that X and Y have different relationships with the confounding factor (Z) and are influenced by it in two different ways, so the relationship between themselves (X and Y) should be lower when taking Z into account.", "First, we are going to import our relevant libraries and create a simple dataset.", "As you can see, I created p2 and p3 such that they are based on p1. p2 is the square of p1 plus a constant and p3 is the power of 3 of p1 plus a constant. Let\u2019s naively check the Pearson Correlation between p2 and p3.", "So we have a 0.91 correlation, makes sense if we are looking at the blue and green lines in the upper graph, both variables are trending together.", "Let\u2019s check the partial correlation of p2 and p3 considering p1 as the control variable using the partial correlation formula we described earlier.", "The correlation between p2 and p3 is 0.73. As we can see this correlation is lower than the one we thought before (0.91) since the variable p1 correlates to each one of them in a different way. This, in turn, causes the error terms to be different for both variables and as a result, the partial correlation will be lower.", "There could be numerous examples of using this correlation metric. You can see them in behavioral science and in climate change analysis.", "Let\u2019s now discuss another similar technique in the case of discrete random variables, the Conditional Mutual Information.", "Mutual Information (MI) in information theory describes the mutual dependency between two random variables. It is more general than the Pearson Correlation coefficient in the sense it doesn\u2019t demand linear relationships and real-valued random variables. The idea of MI is closely related to entropy more familiar from information theory.", "Now assume we have a third variable, that we would like to take into account in our mutual information estimation between the two variables. We would like to use a technique that, similarly to partial correlation, will modify our estimation and give us a hint about the interaction between the three of them.", "Let\u2019s define first another measure called the Conditional Mutual Information(CMI):", "We will use a measure called interaction information that is a generalization of MI. The formal definition of interaction information between p1, p2, and p3 is :", "I will not get into the rigorous mathematical definition of MI and Conditional MI in this post, but you can check the links I attached before.", "Let\u2019s have a short example to understand the intuition:", "Say that P1 from our previous example was the number of clouds in the sky measured for 100 days. Let\u2019s also assume that P2 is the level of darkness measured by a discrete lightmeter (amount of darkness is influenced by the amount of clouds) measured for 100 days and P3 is the amount of rain measured in milliliters for 100 days.", "Let\u2019s use our variables to calculate MI, Conditional MI and Interaction Information to understand better.", "So we got a MI (3.67) larger than the Conditional MI ( 1.35) and as a result a positive interaction information (2.31).", "As we know clouds(p1) cause both rain(p2) and darkness(p3), so the relationship (or the amount of information in our case) between darkness and rain will be influenced by the clouds. so:", "This will cause a positive Interaction Information as we defined it earlier!", "One ought to be careful with the interpretation of Interaction information since it can also have negative values and the conclusions from it could be tricky (as in correlation/ partial correlation). This is also why it is not often used in the Data Science community as a common metric for relationships evaluation between random variables.", "We introduced here two different methods for evaluating interactions between confounding random variables: partial correlation and interaction information. I used both discrete and continuous variables to show application under different settings. These methods are more \u201csubtle\u201d since they demand the underlying familiarity with your data, so be conscious about it.", "You can send me comments for this article through zeogod@gmail.com or follow my Github page.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc7feffa9b88e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpartial-correlation-vs-conditional-mutual-information-c7feffa9b88e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpartial-correlation-vs-conditional-mutual-information-c7feffa9b88e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpartial-correlation-vs-conditional-mutual-information-c7feffa9b88e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpartial-correlation-vs-conditional-mutual-information-c7feffa9b88e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c7feffa9b88e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c7feffa9b88e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@tomernahshon?source=post_page-----c7feffa9b88e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@tomernahshon?source=post_page-----c7feffa9b88e--------------------------------", "anchor_text": "Tomer Nahshon"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd4f3c60a19c4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpartial-correlation-vs-conditional-mutual-information-c7feffa9b88e&user=Tomer+Nahshon&userId=d4f3c60a19c4&source=post_page-d4f3c60a19c4----c7feffa9b88e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc7feffa9b88e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpartial-correlation-vs-conditional-mutual-information-c7feffa9b88e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc7feffa9b88e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpartial-correlation-vs-conditional-mutual-information-c7feffa9b88e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://en.wikipedia.org/wiki/Partial_correlation", "anchor_text": "Wikipedia"}, {"url": "https://en.wikipedia.org/wiki/Partial_correlation", "anchor_text": "Wikipedia"}, {"url": "https://en.wikipedia.org/wiki/Partial_correlation", "anchor_text": "Wikipedia"}, {"url": "http://www.psychwiki.com/wiki/How_is_a_correlation_different_than_a_partial_correlation%3F", "anchor_text": "behavioral science"}, {"url": "https://www.researchgate.net/profile/Zhang_Jie55/post/Any_advice_on_partial_correlation_interpretation/attachment/5a6977374cde266d58862724/AS%3A586572701392896%401516861238925/download/aboutPatialCorrelation.docx", "anchor_text": "climate change analysis"}, {"url": "https://en.wikipedia.org/wiki/Entropy_(information_theory)", "anchor_text": "entropy"}, {"url": "https://en.wikipedia.org/wiki/Conditional_entropy", "anchor_text": "conditional entropy"}, {"url": "https://www.sciencedirect.com/science/article/pii/S0019995878900268", "anchor_text": "Conditional M"}, {"url": "https://github.com/Z30G0D/ML_codes", "anchor_text": "Github page"}, {"url": "https://github.com/fabianp", "anchor_text": "Fabian Pedregosa"}, {"url": "https://scholarworks.uark.edu/etd/2860/", "anchor_text": "Link"}, {"url": "https://pypi.org/project/pyitlib/", "anchor_text": "https://pypi.org/project/pyitlib/"}, {"url": "https://medium.com/tag/information-theory?source=post_page-----c7feffa9b88e---------------information_theory-----------------", "anchor_text": "Information Theory"}, {"url": "https://medium.com/tag/correlation?source=post_page-----c7feffa9b88e---------------correlation-----------------", "anchor_text": "Correlation"}, {"url": "https://medium.com/tag/dependencies?source=post_page-----c7feffa9b88e---------------dependencies-----------------", "anchor_text": "Dependencies"}, {"url": "https://medium.com/tag/data-science?source=post_page-----c7feffa9b88e---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/causality?source=post_page-----c7feffa9b88e---------------causality-----------------", "anchor_text": "Causality"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc7feffa9b88e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpartial-correlation-vs-conditional-mutual-information-c7feffa9b88e&user=Tomer+Nahshon&userId=d4f3c60a19c4&source=-----c7feffa9b88e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc7feffa9b88e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpartial-correlation-vs-conditional-mutual-information-c7feffa9b88e&user=Tomer+Nahshon&userId=d4f3c60a19c4&source=-----c7feffa9b88e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc7feffa9b88e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpartial-correlation-vs-conditional-mutual-information-c7feffa9b88e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c7feffa9b88e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc7feffa9b88e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpartial-correlation-vs-conditional-mutual-information-c7feffa9b88e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c7feffa9b88e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c7feffa9b88e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c7feffa9b88e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c7feffa9b88e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c7feffa9b88e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c7feffa9b88e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c7feffa9b88e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c7feffa9b88e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c7feffa9b88e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@tomernahshon?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@tomernahshon?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Tomer Nahshon"}, {"url": "https://medium.com/@tomernahshon/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "60 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd4f3c60a19c4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpartial-correlation-vs-conditional-mutual-information-c7feffa9b88e&user=Tomer+Nahshon&userId=d4f3c60a19c4&source=post_page-d4f3c60a19c4--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F17e60d5a9662&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpartial-correlation-vs-conditional-mutual-information-c7feffa9b88e&newsletterV3=d4f3c60a19c4&newsletterV3Id=17e60d5a9662&user=Tomer+Nahshon&userId=d4f3c60a19c4&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}