{"url": "https://towardsdatascience.com/advanced-data-visualization-with-holoviews-e7263ad202e", "time": 1683009024.894023, "path": "towardsdatascience.com/advanced-data-visualization-with-holoviews-e7263ad202e/", "webpage": {"metadata": {"title": "Advanced Data Visualization in Python with HoloViews | by Andrew Riley | Towards Data Science", "h1": "Advanced Data Visualization in Python with HoloViews", "description": "HoloViews is an open source package that produces high quality and interactive visualizations with minimal code and effort. The project page can found here here along with many examples to understand\u2026"}, "outgoing_paragraph_urls": [{"url": "http://holoviews.org/index.html", "anchor_text": "here", "paragraph_index": 0}, {"url": "https://github.com/Riley243/Holoviews-medium-post", "anchor_text": "github", "paragraph_index": 6}], "all_paragraphs": ["HoloViews is an open source package that produces high quality and interactive visualizations with minimal code and effort. The project page can found here here along with many examples to understand the capabilities of the package. I have been very pleased with the easy of use and performance relative to the legacy options (Matplotlib, Seaborn, etc\u2026 ).", "Exploring and learning new packages is more engaging when solving a real world data analysis exercise. This article steps through a cohort analysis of a simplified SaaS business to identify whether there are any emerging trends in the customer base. Such an analysis is useful in a number of contexts including preparing and validating top-line forecasts and assessing the impact of recent changes in the product offerings or pricing. A cohort in this example will be defined as all users who appear in a given month for the first time. The goal of this exercise is to examine how the mix of new business is changing over time and what the change in mix may mean for retention. In this case the mix refers to product tier and subscription duration, in other cases it could be any categorical field available.", "The data underlying the analysis are simulated to replicate a pattern observed across multiple companies.", "A user may have more than one subscription and they may swap the product tier and subscription duration. For simplicity, retention is calculated on a subscription basis rather than user basis.", "The analysis begins with the imports. The point of showing this is to make sure that the reader has all the dependent packages installed. Please note the hvplot package which is built on HoloViews and has among other things a convenient API for plotting with pandas, this requires a separate install from HoloViews.", "Side note: The default behavior of datetime formatting in HoloViews is to print the date/time down to the nanosecond. Documentation for controlling this behavior is often hard to find and not entirely clear for beginners. This formatting problem can be solved by creating a DatetimeTickFormatter object and passing it to the graphs as needed.", "Before plotting the data it needs to be transformed into content that will make the plots meaningful and in the proper format to be passed to HoloVeiws. Some of the basic pandas manipulations are excluded from this article. The full file can be found at github.", "Creating the cohorts is the first step in a cohort analysis and there are many ways one can produce this calculation. Given the format of the input data, the following steps are applied here:", "The code in #1 converts the dataframe into values into binary variables that are true when there is positive revenue in a month. Then idxmax is applied to extract the column title of the first occurrence of the maximum value, which will be the first date when revenue is positive. The result is a series with the same index as mrr and the series is appended as a secondary index in #2 to mrr, stacked (this operation unvpivots the data by turning the column headers, monthly dates in this case, into a value field) and saved as a new dataframe called tenure. Step #3 calculates the number of periods (months in this case) that have elapsed between the cohort month and the current month.", "Two curves that are often useful to produce in the EDA phase of a cohort analysis that will give a general understanding of the customer retention. Both represent the percentage of business that is remaining at a given point in time relative to the first period that each customer was active. One uses customers as the numerator and denominator and the other uses revenue. These calculations are broken up into two segments as follows:", "The calculations in #1 compute the total revenue and unique count of customers for a monthly cohort of customers in each period where there are observations and the unstack command pivots the periods into column headers, which will be useful for plotting with hvplot. The calculations in #2 take advantage of the new data shape and apply a lambda function to divide each period value (revenue or customer count) by the value observed in the first month.", "The hvplot extension to HoloViews provides a very quick way to generate interactive visualizations from pandas objects that can help with EDA. The following code, which follows the same API format as the matplotlib, quickly produces line plots for exploration.", "There are two things that are easier to implement than would be in HoloViews than in plotting packages. The tooltips allow one to explore the data interactively and are generated automatically. The syntax for adding the graphs together into a single visualization is easier than calling the axes objects from matplotlib.", "These graphs are already very informative and help to guide the rest of the analysis. First, notice that there is a mix of different subscription lengths. It will be best to analyze the retention of the different duration options separately since obviously a one year subscription is going to have a different profile than a one month subscription. Secondly, the profile of the retention curves is changing. The shorter lines are the most recent ones since there is simply less data available. These have more curvature than the older ones and also they appear to have a lower retention percentage. Later this article will show a better way to demonstrate this pattern. Before that, we will explore what is changing in the underlying subscription base.", "Retention patterns often begin to change when there is a change in the mix of new business. The mix of new business could be changing because of new marketing activities, product offerings, duration options, regional or demographic characteristics, among many other things. In this data set only duration and subscription tiers are available as categorical features. A good way to assess how the mix of any categorical feature changes over time is to plot them in a stacked two bar charts showing the total volume and the relative percentage.", "In order to generate the next set of graphs the data will need to be reshaped splitting the cohorts by tier and duration.", "With the new cohorts data creating the bar charts is fairly easy but does require a few lines:", "The code under #1 create a multi indexed series that can be passed to the HoloViews bars class. Holoviews requires flat data as opposed to hvplot which can operate smoothly with tabular data. The .opts() method in HoloViews gives the developer very detailed control over almost every part of the visualization.", "The bar charts shows that the product tier has not been changing in any clear trend over time. However, repeating this step for duration shows a significant change in the mix of new business.", "Six month subscriptions are being replaced entirely by one month subscriptions. This result is almost certainly causing the overall shift in the retention curve. In order to prove that out we will plot the retention curves by product and duration.", "The previously shown plots are easy to produce and appealing, but limited in terms of interactivity. One of the nice features of HoloViews is being able to produce dashboard like visualizations. Additionally it produces these visualizations in html so that they may be embedded in a web page. These features require more code than simply passing a dataframe into hvplot. These features are demonstrated with two visualizations are useful for identifying retention trends.", "Before producing the visualizations, building some helper functions will keep the code more readable. In the previously shown cohort curve plots, it can be a difficult to see which line belongs to which vintage. In order to make that more clear one can assign a color that fades with the cohort age. The following code block colors the lines blue and has the blue fade to white/gray with age.", "The function looks intimidating, but the logic is pretty simple. In #1 hvplot is used to generate the same curves as shown previously. These curves are looped through in #2, while #3 linearly interpolates the cohort year cohort year relative to the minimum and maximum cohort year onto the blue color map from matplotlib.", "The curves are stored in a dictionary that can be passed in different layout options. Shown here is the HoloMap. A HoloMap produces a drop downs selectors based on the dictionary keys shown:", "The darker the line the more recent the cohort. After clicking through the different combinations it becomes clear that the one month subscriptions have a worsen retention profile. We\u2019ve previously observed that one month subscriptions are making up a growing portion of the new customer base.", "While coloring the the lines different shades aids in visualizing the age of the cohorts, heatmaps provide an alternative method to display the information which makes certain trends more easy to identify. Heatmaps do however require more explanation than the line plot, if it is being presented to parties who are unfamiliar with this format. The tutorial will conclude with a discussion of how to produce and interpret the heatmap view.", "Helper functions are created to format the graphs and make the code more manageable.", "After building the helper functions, in a way similar to before, the code loops through the product duration pairs and creates a dictionary to store the visualizations before ultimately passing them to a HoloMap.", "This view shows how the cohorts are aging differently by observing the green in early tenure periods shift to yellow after October 2018 for all tiers of the one month subscription. Note that this shift also corresponds to the period when the number of conversions begins to increase. This phenomenon is fairly common in evolving businesses. Increasing marketing spend or making product/pricing changes will attract more new customers but the incremental new customers are not necessarily the same as the customers in the previous cohorts.", "HoloViews allows analysts to produce high quality visualizations that accelerate the time to generate meaningful insights with a high degree of customization. Thanks for reading this far and I hope you check out the library.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I have 10+ years of management consulting experience guiding firms on how to turn data into actionable insights. Any views expressed here are solely my own."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe7263ad202e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadvanced-data-visualization-with-holoviews-e7263ad202e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadvanced-data-visualization-with-holoviews-e7263ad202e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadvanced-data-visualization-with-holoviews-e7263ad202e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadvanced-data-visualization-with-holoviews-e7263ad202e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e7263ad202e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e7263ad202e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@riley243?source=post_page-----e7263ad202e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@riley243?source=post_page-----e7263ad202e--------------------------------", "anchor_text": "Andrew Riley"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3fba3e9b2c83&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadvanced-data-visualization-with-holoviews-e7263ad202e&user=Andrew+Riley&userId=3fba3e9b2c83&source=post_page-3fba3e9b2c83----e7263ad202e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe7263ad202e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadvanced-data-visualization-with-holoviews-e7263ad202e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe7263ad202e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadvanced-data-visualization-with-holoviews-e7263ad202e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "http://blog.holoviews.org/release_1.10.html", "anchor_text": "http://blog.holoviews.org/release_1.10.html"}, {"url": "http://holoviews.org/index.html", "anchor_text": "here"}, {"url": "https://github.com/Riley243/Holoviews-medium-post", "anchor_text": "github"}, {"url": "https://medium.com/tag/python-programming?source=post_page-----e7263ad202e---------------python_programming-----------------", "anchor_text": "Python Programming"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----e7263ad202e---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/business-intelligence?source=post_page-----e7263ad202e---------------business_intelligence-----------------", "anchor_text": "Business Intelligence"}, {"url": "https://medium.com/tag/saas-metrics?source=post_page-----e7263ad202e---------------saas_metrics-----------------", "anchor_text": "Saas Metrics"}, {"url": "https://medium.com/tag/cohort-analysis?source=post_page-----e7263ad202e---------------cohort_analysis-----------------", "anchor_text": "Cohort Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe7263ad202e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadvanced-data-visualization-with-holoviews-e7263ad202e&user=Andrew+Riley&userId=3fba3e9b2c83&source=-----e7263ad202e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe7263ad202e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadvanced-data-visualization-with-holoviews-e7263ad202e&user=Andrew+Riley&userId=3fba3e9b2c83&source=-----e7263ad202e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe7263ad202e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadvanced-data-visualization-with-holoviews-e7263ad202e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e7263ad202e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe7263ad202e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadvanced-data-visualization-with-holoviews-e7263ad202e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e7263ad202e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e7263ad202e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e7263ad202e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e7263ad202e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e7263ad202e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e7263ad202e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e7263ad202e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e7263ad202e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e7263ad202e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@riley243?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@riley243?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andrew Riley"}, {"url": "https://medium.com/@riley243/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "42 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3fba3e9b2c83&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadvanced-data-visualization-with-holoviews-e7263ad202e&user=Andrew+Riley&userId=3fba3e9b2c83&source=post_page-3fba3e9b2c83--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F3fba3e9b2c83%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadvanced-data-visualization-with-holoviews-e7263ad202e&user=Andrew+Riley&userId=3fba3e9b2c83&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}