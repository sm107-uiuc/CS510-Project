{"url": "https://towardsdatascience.com/yet-another-kalman-filter-explanation-article-be0264d99937", "time": 1682996010.250208, "path": "towardsdatascience.com/yet-another-kalman-filter-explanation-article-be0264d99937/", "webpage": {"metadata": {"title": "Yet Another Kalman Filter Explanation Article | by Ben Ogorek | Towards Data Science", "h1": "Yet Another Kalman Filter Explanation Article", "description": "There are many articles online that explain the Kalman Filter, and many of them are quite good. They use autonomous robots and sensors as motivating examples, have nice visuals, and introduce the\u2026"}, "outgoing_paragraph_urls": [{"url": "https://users.aalto.fi/~ssarkka/course_k2011/pdf/handout3.pdf", "anchor_text": "slides from Simo S\u00e4rkk\u00e4", "paragraph_index": 4}, {"url": "https://www.google.com/books/edition/Bayesian_Filtering_and_Smoothing/5VlsAAAAQBAJ?hl=en&gbpv=0", "anchor_text": "a book", "paragraph_index": 4}, {"url": "https://en.wikipedia.org/wiki/Kalman_filter#Update", "anchor_text": "updating equations on Wikipedia", "paragraph_index": 6}, {"url": "https://en.wikipedia.org/wiki/Bayes_estimator", "anchor_text": "Bayes action", "paragraph_index": 7}], "all_paragraphs": ["There are many articles online that explain the Kalman Filter, and many of them are quite good. They use autonomous robots and sensors as motivating examples, have nice visuals, and introduce the model equations and updates in an intuitive way. But every one I\u2019ve seen stops short of explaining the Kalman gain matrix and exactly where it comes from.", "My favorite example is this highly regarded answer on the Mathematics Stack Exchange:", "It\u2019s excellent, right up until the point where the author prepares to explain the Kalman gain matrix, and instead finishes with \u201cto be continued\u2026\u201d (that was 2014). The disappointed readers beg for days for the rest of the answer, but they never get it.", "So welcome to yet another Kalman Filter explanation article, the distinction being that this one contains a \u201cfriendly\u201d derivation of the updating equations, all the way up to the end. It is a Bayesian explanation but requires only a cursory understanding of posterior probability, relying on two properties of the multivariate Gaussian rather than specific Bayesian results. As a bonus, this explanation will show us how the Kalman Filter is \u201coptimal\u201d by the very nature of what it is.", "Due to Medium\u2019s typesetting limitations, the derivation is provided in an embedded notebook below. My contribution is at best a concise presentation; I was lost until I found slides from Simo S\u00e4rkk\u00e4, a researcher who has since written a book on the more general topic of Bayesian Filtering and Smoothing.", "I hope you made you through the arguments above (feedback is appreciated about parts that did not flow well). At the end, there is the posterior:", "The notation is slightly different than the updating equations on Wikipedia, but you can probably tell that the mean is the same as the \u201cUpdated (a posteriori) state estimate.\u201d The variance does not look similar to the \u201cUpdated (a posteriori) estimate covariance,\u201d but note in the paragraph below how the formula \u201cfurther simplifies\u201d to something that does look similar.", "A \u201cBayes action\u201d is a rule that \u201cminimizes the posterior expected value of a loss function.\u201d The Bayes action that that minimizes the expected squared error loss of an unknown parameter, i.e. the mean squared error, is the mean of the posterior distribution. In this article, the mean of the posterior distribution is the Kalman Filter updating equation for the state; this updating equation is a minimum mean squared error estimator because it is a posterior mean.", "During the derivation, I assumed that an existing Bayesian result would apply, simplifying it even further. The measurement model looks like a regression with x_t as \u03b2, but I couldn\u2019t get the Bayesian linear regression formulas to fit. I did note that rows of the \u201cdesign\u201d matrix H are not of independent observations, and I couldn\u2019t figure out a way to transform it into a multivariate regression with one observation either. If there is a way shorten the derivation with an existing conjugate result, please share in the comments.", "For notation, I specifically chose not to use the k|k-1 notation from the Wikipedia article because I found it easy to get mixed up about what quantity I was actually working with. After working through the derivation, however, I can understand that it does allow for fewer symbols and emphasizes the evolution of the quantities during the update step.", "Any time I get sidetracked on something like this (and I am sidetracked), there\u2019s always the question of whether or not it was worth it. In this case, I think it was. I feel I have a better understanding of the multivariate Gaussian\u2019s extensive role in the Kalman Filter\u2019s construction. I have a better concept of the Kalman Filter prior, which incorporates not only the information up to the previous state but also from the state-space model to go one step further. I may have a better intuition for choosing starting values for the state vector and variance matrix in a Kalman Filter implementation (we\u2019ll see). I hope you think it was worth it as well, and either way let me know in the comments!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist who enjoys learning and writing about methods. @benogorek on Twitter"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fbe0264d99937&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyet-another-kalman-filter-explanation-article-be0264d99937&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyet-another-kalman-filter-explanation-article-be0264d99937&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyet-another-kalman-filter-explanation-article-be0264d99937&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyet-another-kalman-filter-explanation-article-be0264d99937&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----be0264d99937--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----be0264d99937--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@baogorek?source=post_page-----be0264d99937--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@baogorek?source=post_page-----be0264d99937--------------------------------", "anchor_text": "Ben Ogorek"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa7ecfd165396&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyet-another-kalman-filter-explanation-article-be0264d99937&user=Ben+Ogorek&userId=a7ecfd165396&source=post_page-a7ecfd165396----be0264d99937---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbe0264d99937&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyet-another-kalman-filter-explanation-article-be0264d99937&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbe0264d99937&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyet-another-kalman-filter-explanation-article-be0264d99937&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "http://A puzzle without a picture", "anchor_text": "A Puzzle without a picture"}, {"url": "https://en.wikipedia.org/wiki/Kalman_filter#Update", "anchor_text": "Kalman Filter updating equations"}, {"url": "https://math.stackexchange.com/questions/840662/an-explanation-of-the-kalman-filter", "anchor_text": "An Explanation of the Kalman Filterbegingroup$ I am dare to post the link to my explanation: http://david.wf/kalmanfilter/ There are a lot of different\u2026math.stackexchange.com"}, {"url": "https://users.aalto.fi/~ssarkka/course_k2011/pdf/handout3.pdf", "anchor_text": "slides from Simo S\u00e4rkk\u00e4"}, {"url": "https://www.google.com/books/edition/Bayesian_Filtering_and_Smoothing/5VlsAAAAQBAJ?hl=en&gbpv=0", "anchor_text": "a book"}, {"url": "https://en.wikipedia.org/wiki/Kalman_filter#Update", "anchor_text": "updating equations on Wikipedia"}, {"url": "https://en.wikipedia.org/wiki/Bayes_estimator", "anchor_text": "Bayes action"}, {"url": "https://medium.com/tag/mathematics?source=post_page-----be0264d99937---------------mathematics-----------------", "anchor_text": "Mathematics"}, {"url": "https://medium.com/tag/bayesian-statistics?source=post_page-----be0264d99937---------------bayesian_statistics-----------------", "anchor_text": "Bayesian Statistics"}, {"url": "https://medium.com/tag/data-science?source=post_page-----be0264d99937---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----be0264d99937---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbe0264d99937&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyet-another-kalman-filter-explanation-article-be0264d99937&user=Ben+Ogorek&userId=a7ecfd165396&source=-----be0264d99937---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbe0264d99937&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyet-another-kalman-filter-explanation-article-be0264d99937&user=Ben+Ogorek&userId=a7ecfd165396&source=-----be0264d99937---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbe0264d99937&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyet-another-kalman-filter-explanation-article-be0264d99937&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----be0264d99937--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fbe0264d99937&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyet-another-kalman-filter-explanation-article-be0264d99937&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----be0264d99937---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----be0264d99937--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----be0264d99937--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----be0264d99937--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----be0264d99937--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----be0264d99937--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----be0264d99937--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----be0264d99937--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----be0264d99937--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@baogorek?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@baogorek?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Ben Ogorek"}, {"url": "https://medium.com/@baogorek/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "177 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa7ecfd165396&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyet-another-kalman-filter-explanation-article-be0264d99937&user=Ben+Ogorek&userId=a7ecfd165396&source=post_page-a7ecfd165396--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F536bc54ba88c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fyet-another-kalman-filter-explanation-article-be0264d99937&newsletterV3=a7ecfd165396&newsletterV3Id=536bc54ba88c&user=Ben+Ogorek&userId=a7ecfd165396&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}