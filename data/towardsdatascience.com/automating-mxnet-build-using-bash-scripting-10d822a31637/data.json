{"url": "https://towardsdatascience.com/automating-mxnet-build-using-bash-scripting-10d822a31637", "time": 1683003330.506847, "path": "towardsdatascience.com/automating-mxnet-build-using-bash-scripting-10d822a31637/", "webpage": {"metadata": {"title": "Automating MXNet build using Bash scripting | by Chaitanya Prakash Bapat | Towards Data Science", "h1": "Automating MXNet build using Bash scripting", "description": "As part of testing Apache MXNet, I was entrusted the job of building the binaries for an internal Apache MXNet fork. Whilst building and testing the MXNet binary, I had to run myriad steps\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/u/480c87811f42?source=post_page-----10d822a31637--------------------------------", "anchor_text": "Apache MXNet", "paragraph_index": 0}, {"url": "https://www.lifewire.com/pass-arguments-to-bash-script-2200571", "anchor_text": "livewire", "paragraph_index": 10}, {"url": "https://aws.amazon.com/codecommit/", "anchor_text": "AWS Code Commit", "paragraph_index": 11}, {"url": "https://stackoverflow.com/questions/6310008/what-language-uses-fi", "anchor_text": "Stephen Bourne,", "paragraph_index": 17}, {"url": "https://stackoverflow.com/questions/3427872/whats-the-difference-between-and-in-bash", "anchor_text": "Read", "paragraph_index": 20}, {"url": "https://medium.com/u/7e46baf4a1e0?source=post_page-----10d822a31637--------------------------------", "anchor_text": "Pedro Larroy", "paragraph_index": 23}, {"url": "https://sipb.mit.edu/doc/safe-shell/", "anchor_text": "Writing Safe Shell Scripts", "paragraph_index": 24}, {"url": "https://mxnet.incubator.apache.org/", "anchor_text": "Apache MXNet", "paragraph_index": 30}, {"url": "https://github.com/apache/incubator-mxnet/", "anchor_text": "https://github.com/apache/incubator-mxnet/", "paragraph_index": 30}], "all_paragraphs": ["As part of testing Apache MXNet, I was entrusted the job of building the binaries for an internal Apache MXNet fork.", "Whilst building and testing the MXNet binary, I had to run myriad steps. Additionally, this pipeline had to be replicated 8 times to comply with the various flavors supported by Apache MXNet such as CPU/GPU, +/- MKL and +/- Large tensor (2\u00b3=8)", "This exercise was time critical and simultaneously, repetitive. A certain set of steps needed to be executed sequentially. Moreover, it had to be replicated across multiple machines with minor tweaks. All this calls for automation.", "Anything written more than twice can and should be automated.", "Bash (shell script) is an ideal candidate for this task. With little prior experience, I was keen to apply it in real-time. Here\u2019s an attempt at capturing concepts related to shell scripting I encountered in the process.", "Calling another shell script from within the existing shell scriptIt is a very common use case to have multiple shell scripts to carry out specific tasks (think modular, but on a file level instead of function level). I quickly realized why we need the shebang thanks to this need of calling another script.", "With lots of alternatives to bash (zsh, ksh, sh), adding a shebang at the top tells the operating system (yes! OS ftw!) to use the mentioned library. The program along with the absolute path (/usr/bin/env). If it is not specified, the OS takes the default one.", "The first step while taking baby steps in learning any language, testing any code, debugging anything starts with print statements: console logging. Printing to the stdout (standard output).", "Passing arguments to the shell script", "Given this command, mkl is the argument we need to handle.Arguments are accessed inside a bash script using the variables $1, $2 etc$1 being the first argument (after the command of course): mkl", "Another method to pass arguments called Flags method, explained well in this livewire article.", "One of the git commands (for a repository hosted on AWS Code Commit) required username, password.", "While the above method mentioned in the top search on Google exists, it is definitely not the best way.", "Exposing the git (or any) credentials is never a good idea.", "Quick and Dirty Workaround? Omit the username and password, and let the user configure it on his machine himself. Ironically, it is the only manual aspect of the otherwise automated process.", "Storing the command output into a variable", "At times, we need to store the result of a command in a variable for future use. It can be achieved using:var=$(command)", "This takes us back to Algol! if , else gets followed by fi The use of mirror words, thanks to Stephen Bourne, was ported from Algol to Unix Shell Scripting languages.", "Condition can leverage various flags. For example, few conditional expressions --d : Search for directory-f : Search for file-z : returns True if length of string is zero", "For further details man bash command.", "Side Note: Test vs Extended Test debate.[] vs [[]] : Go with the double [[. It has enhancements. Why? Read.", "Reading user input into a variable", "Additionally, flexibility can be achieved by allowing the user to input a value than can be stored into a variable (again for future use). read -p \u201cEnter the name of the AWS S3 bucket: \u201d bucketname", "Thanks to Pedro Larroy for pointing out 2 handy details.First things first. To make the bash script safe, it\u2019s important to use set -euxo pipefail. Without that, errors from the bash script go undetected as the script will always return true. Secondly, whenever possible use Python over Bash.", "Why you\u2019d ask? Go read this article on Writing Safe Shell Scripts.", "After all is said and done, one last thing remains : turning a .sh file into an executable .sh script", "chmod u+x <name of the file>.sh", "Now, instead of the u you could choose other permissions", "Note: aws-cli can generally be installed usingsudo apt install awscli", "The above process of using the awscli-bundle was required for the older version of Ubuntu 14.04. (Can you believe people still use 14.04? Old is gold!)", "This is but an example of my typical day at work. Contributing to Apache MXNet has taught me more things than I\u2019ve ever learnt in school. We welcome more such contributions on our Github repo: https://github.com/apache/incubator-mxnet/", "For the purpose of privacy and safety, the contents of the script have been tweaked.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Music, Sports and Data. Engineer @ Facebook | Apache committer @ Apache MXNet | Ex- Amazon | GaTech"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F10d822a31637&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomating-mxnet-build-using-bash-scripting-10d822a31637&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomating-mxnet-build-using-bash-scripting-10d822a31637&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomating-mxnet-build-using-bash-scripting-10d822a31637&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomating-mxnet-build-using-bash-scripting-10d822a31637&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----10d822a31637--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----10d822a31637--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://chai-bapat.medium.com/?source=post_page-----10d822a31637--------------------------------", "anchor_text": ""}, {"url": "https://chai-bapat.medium.com/?source=post_page-----10d822a31637--------------------------------", "anchor_text": "Chaitanya Prakash Bapat"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fec5592c72c4a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomating-mxnet-build-using-bash-scripting-10d822a31637&user=Chaitanya+Prakash+Bapat&userId=ec5592c72c4a&source=post_page-ec5592c72c4a----10d822a31637---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F10d822a31637&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomating-mxnet-build-using-bash-scripting-10d822a31637&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F10d822a31637&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomating-mxnet-build-using-bash-scripting-10d822a31637&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@franckinjapan?utm_source=medium&utm_medium=referral", "anchor_text": "Franck V."}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://medium.com/u/480c87811f42?source=post_page-----10d822a31637--------------------------------", "anchor_text": "Apache MXNet"}, {"url": "https://www.lifewire.com/pass-arguments-to-bash-script-2200571", "anchor_text": "livewire"}, {"url": "https://aws.amazon.com/codecommit/", "anchor_text": "AWS Code Commit"}, {"url": "https://username:", "anchor_text": "https://username:password@server"}, {"url": "https://github.com/awslabs/git-secrets", "anchor_text": "git-secrets"}, {"url": "https://aws.amazon.com/secrets-manager/", "anchor_text": "AWS Secrets Manager"}, {"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_ssh-keys.html", "anchor_text": "SSH keys"}, {"url": "https://stackoverflow.com/questions/6310008/what-language-uses-fi", "anchor_text": "Stephen Bourne,"}, {"url": "https://stackoverflow.com/questions/3427872/whats-the-difference-between-and-in-bash", "anchor_text": "Read"}, {"url": "https://medium.com/u/7e46baf4a1e0?source=post_page-----10d822a31637--------------------------------", "anchor_text": "Pedro Larroy"}, {"url": "https://sipb.mit.edu/doc/safe-shell/", "anchor_text": "Writing Safe Shell Scripts"}, {"url": "https://mxnet.incubator.apache.org/", "anchor_text": "Apache MXNet"}, {"url": "https://github.com/apache/incubator-mxnet/", "anchor_text": "https://github.com/apache/incubator-mxnet/"}, {"url": "https://stackoverflow.com/questions/8967902/why-do-you-need-to-put-bin-bash-at-the-beginning-of-a-script-file", "anchor_text": "Why do you need to put #!/bin/bash at the beginning of a script file?Thanks for contributing an answer to Stack Overflow! Please be sure to answer the question. Provide details and share\u2026stackoverflow.com"}, {"url": "https://stackoverflow.com/questions/19951369/how-to-store-grep-command-result-in-some-variable-in-shell", "anchor_text": "how to store grep command result in some variable in shellThanks for contributing an answer to Stack Overflow! Please be sure to answer the question. Provide details and share\u2026stackoverflow.com"}, {"url": "https://stackoverflow.com/questions/18544359/how-to-read-user-input-into-a-variable-in-bash", "anchor_text": "How to read user input into a variable in Bash?Thanks for contributing an answer to Stack Overflow! Please be sure to answer the question. Provide details and share\u2026stackoverflow.com"}, {"url": "https://stackoverflow.com/questions/46823193/git-pull-clone-with-username-and-password-in-aws-code-commit", "anchor_text": "Git pull/clone with username and password in AWS Code CommitI Need to do a git pull using https url as a oneline command . this command I need to integrate in a bash script . But\u2026stackoverflow.com"}, {"url": "https://www.tutorialspoint.com/execute_bash_online.php", "anchor_text": "Online Bash Compiler - Online Bash Editor - Online Bash IDE - Bash Coding Online - Practice Bash\u2026Online Bash Compiler, Online Bash Editor, Online Bash IDE, Bash Coding Online, Practice Bash Online, Execute Bash\u2026www.tutorialspoint.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----10d822a31637---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/bash?source=post_page-----10d822a31637---------------bash-----------------", "anchor_text": "Bash"}, {"url": "https://medium.com/tag/mxnet?source=post_page-----10d822a31637---------------mxnet-----------------", "anchor_text": "Mxnet"}, {"url": "https://medium.com/tag/automation?source=post_page-----10d822a31637---------------automation-----------------", "anchor_text": "Automation"}, {"url": "https://medium.com/tag/programming?source=post_page-----10d822a31637---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F10d822a31637&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomating-mxnet-build-using-bash-scripting-10d822a31637&user=Chaitanya+Prakash+Bapat&userId=ec5592c72c4a&source=-----10d822a31637---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F10d822a31637&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomating-mxnet-build-using-bash-scripting-10d822a31637&user=Chaitanya+Prakash+Bapat&userId=ec5592c72c4a&source=-----10d822a31637---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F10d822a31637&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomating-mxnet-build-using-bash-scripting-10d822a31637&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----10d822a31637--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F10d822a31637&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomating-mxnet-build-using-bash-scripting-10d822a31637&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----10d822a31637---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----10d822a31637--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----10d822a31637--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----10d822a31637--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----10d822a31637--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----10d822a31637--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----10d822a31637--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----10d822a31637--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----10d822a31637--------------------------------", "anchor_text": ""}, {"url": "https://chai-bapat.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://chai-bapat.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Chaitanya Prakash Bapat"}, {"url": "https://chai-bapat.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "302 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fec5592c72c4a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomating-mxnet-build-using-bash-scripting-10d822a31637&user=Chaitanya+Prakash+Bapat&userId=ec5592c72c4a&source=post_page-ec5592c72c4a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F91951222e4c4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fautomating-mxnet-build-using-bash-scripting-10d822a31637&newsletterV3=ec5592c72c4a&newsletterV3Id=91951222e4c4&user=Chaitanya+Prakash+Bapat&userId=ec5592c72c4a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}