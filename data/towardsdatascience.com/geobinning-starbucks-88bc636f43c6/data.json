{"url": "https://towardsdatascience.com/geobinning-starbucks-88bc636f43c6", "time": 1683011784.818872, "path": "towardsdatascience.com/geobinning-starbucks-88bc636f43c6/", "webpage": {"metadata": {"title": "Geobinning Starbucks. Using Python, Geobinning and Matplotlib\u2026 | by Kyle Pastor | Towards Data Science", "h1": "Geobinning Starbucks", "description": "I see a lot of choropleth maps out there that looks very nice and really draw a lot of attention. Creating these is super easy if you have a clean dataset, however, a lot of the data I want to\u2026"}, "outgoing_paragraph_urls": [{"url": "http://kapastor.github.io/", "anchor_text": "http://kapastor.github.io/", "paragraph_index": 12}], "all_paragraphs": ["I see a lot of choropleth maps out there that looks very nice and really draw a lot of attention. Creating these is super easy if you have a clean dataset, however, a lot of the data I want to explore is not bucketed in the way I would like. More often than not it comes in the form of coordinates (lat/lng) which leaves it up to me to figure out which areas of the map they should go.", "ie. I need to figure out how to Geobin the results", "To do this I have created a pypi library called Geobinning which is not super fancy but lets us bin point data into arbitrary polygons. This will allow us to generate choropleth maps and do interesting things like overlay raw point data as well. Today we will recreate the image above using this python package along with matplotlib for drawing the final map.", "NB: I exclusively use Kaggle to do my coding as I like having a cloud based platform that I can play around with. All of the dataset and code are available to my patrons (also if you want it just ask and ill give it to you!) But if you feel like supporting my work check out", "To start we will install out package", "Next we will load up the packages we need to load and process the data", "For this specific study I will be bucketing the data by US county, but I also want to draw in the US State borders to make it more digestible later. So I will load up the .shp and .dbf files that are available from", "Next, we will take the shape file object and extract the polygons that define the county and state shapes", "Loading in the Starbucks data which I found on Kaggle at", "All that is left is to use matplotlib to generate our final image. Instead of using the standard plotting functions, I decided to just use Polygons and Circle patch objects for this image. It works super well! Basically using matplotlib as MS paint", "Wow, that looks nice! At this point, we can go ahead and do any other edits we want to tell the story. In this case, it was pointed out that this is essentially a population map and doesn't really give much info, but now we are equipped with the tools to do more interesting things like comparing different shop densities in various locations etc.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Analytics | Full Stack | Data Science | MS Physics + MS Quant Finance \u2192 http://kapastor.github.io/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F88bc636f43c6&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgeobinning-starbucks-88bc636f43c6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgeobinning-starbucks-88bc636f43c6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgeobinning-starbucks-88bc636f43c6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgeobinning-starbucks-88bc636f43c6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----88bc636f43c6--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----88bc636f43c6--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://kapastor.medium.com/?source=post_page-----88bc636f43c6--------------------------------", "anchor_text": ""}, {"url": "https://kapastor.medium.com/?source=post_page-----88bc636f43c6--------------------------------", "anchor_text": "Kyle Pastor"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff30c680c570b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgeobinning-starbucks-88bc636f43c6&user=Kyle+Pastor&userId=f30c680c570b&source=post_page-f30c680c570b----88bc636f43c6---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F88bc636f43c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgeobinning-starbucks-88bc636f43c6&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F88bc636f43c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgeobinning-starbucks-88bc636f43c6&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.patreon.com/datastuffplus", "anchor_text": "Datastuffplus is creating data driven graphics and visualizations. | PatreonHey there and welcome! Datastuffplus is primarily an instagram account I started to share some of the development work\u2026www.patreon.com"}, {"url": "https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html", "anchor_text": "Cartographic Boundary Files - ShapefileView the cartographic boundary files in shapefile format from 2018 and previous years.www.census.gov"}, {"url": "https://www.kaggle.com/starbucks/store-locations", "anchor_text": "Starbucks Locations WorldwideName, ownership type, and location of every Starbucks store in operationwww.kaggle.com"}, {"url": "https://pypi.org/project/geobinning/", "anchor_text": "geobinningUse geobinning to bucket [lng,lat] points based on a geojson geometry. Any geojson that contains ID and polygon\u2026pypi.org"}, {"url": "https://medium.com/tag/python?source=post_page-----88bc636f43c6---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----88bc636f43c6---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/culture?source=post_page-----88bc636f43c6---------------culture-----------------", "anchor_text": "Culture"}, {"url": "https://medium.com/tag/data-science?source=post_page-----88bc636f43c6---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/gis?source=post_page-----88bc636f43c6---------------gis-----------------", "anchor_text": "GIS"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F88bc636f43c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgeobinning-starbucks-88bc636f43c6&user=Kyle+Pastor&userId=f30c680c570b&source=-----88bc636f43c6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F88bc636f43c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgeobinning-starbucks-88bc636f43c6&user=Kyle+Pastor&userId=f30c680c570b&source=-----88bc636f43c6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F88bc636f43c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgeobinning-starbucks-88bc636f43c6&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----88bc636f43c6--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F88bc636f43c6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgeobinning-starbucks-88bc636f43c6&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----88bc636f43c6---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----88bc636f43c6--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----88bc636f43c6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----88bc636f43c6--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----88bc636f43c6--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----88bc636f43c6--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----88bc636f43c6--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----88bc636f43c6--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----88bc636f43c6--------------------------------", "anchor_text": ""}, {"url": "https://kapastor.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://kapastor.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kyle Pastor"}, {"url": "https://kapastor.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "245 Followers"}, {"url": "http://kapastor.github.io/", "anchor_text": "http://kapastor.github.io/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff30c680c570b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgeobinning-starbucks-88bc636f43c6&user=Kyle+Pastor&userId=f30c680c570b&source=post_page-f30c680c570b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb174339fe204&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgeobinning-starbucks-88bc636f43c6&newsletterV3=f30c680c570b&newsletterV3Id=b174339fe204&user=Kyle+Pastor&userId=f30c680c570b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}