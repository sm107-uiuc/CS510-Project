{"url": "https://towardsdatascience.com/how-to-benchmark-any-models-inference-statistics-for-production-906f6816d01b", "time": 1683017022.4709802, "path": "towardsdatascience.com/how-to-benchmark-any-models-inference-statistics-for-production-906f6816d01b/", "webpage": {"metadata": {"title": "How To Benchmark Any Models\u2019 Inference Statistics For Production | by Charles Pierse | Towards Data Science", "h1": "How To Benchmark Any Models\u2019 Inference Statistics For Production", "description": "When developing machine learning models initial efforts are often put on measuring metrics that reflect how well a model performs for a given task. This step is of course crucially important but when\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/cdpierse/pyinfer", "anchor_text": "https://github.com/cdpierse/pyinfer", "paragraph_index": 0}, {"url": "https://github.com/cdpierse/pyinfer", "anchor_text": "pyinfer", "paragraph_index": 5}, {"url": "https://github.com/cdpierse/pyinfer", "anchor_text": "github.", "paragraph_index": 13}], "all_paragraphs": ["Find pyinfer on Github : https://github.com/cdpierse/pyinfer", "When developing machine learning models initial efforts are often put on measuring metrics that reflect how well a model performs for a given task.", "This step is of course crucially important but when moving a model to production other factors come into play that are equally important and can make or break a model\u2019s success in the wild. One of these additional factors is how many inferences (or calls) per second a single model is capable of performing.", "For example, let\u2019s say we are building a computer vision model for collision detection; this model is intended to integrate into an autonomous driving system and we have 3 candidate models. While it is of course important that all of these models perform well at the task of detecting collisions it is also very important that they detect those collisions in a very specific and tight time frame. The choice of model in this situation cannot be made solely on its ability to predict a collision correctly. In fact, the model that ends up getting chosen in this situation might well under perform the other candidates in accuracy but outshine them when it comes to the number of inferences per second it can perform.", "The above example is an extreme one but the idea is applicable across many problems. Retail store searches, text autocomplete, Netlfix film recommendations etc. All of these situations likely have a minimum requirement when it comes to model inferences.", "That is why I have developed pyinfer a very lightweight but hopefully useful tool for ML developers and researchers.", "The example below shows the MultiInferenceReport class from pyinfer being used to benchmark and compare three models from the popular Huggingface library. Each of these models uses variations of the Transformer architecture and achieve different scores on accuracy based benchmarks. They also have differing numbers of parameters which is huge indicator for how long each model is going to take run a single inference.", "Each model is finetuned to perform sentiment analysis on a piece of text.", "We instantiate each model and its associated tokenizer and create a text input for each model to be run on.", "With the model and text input we are now ready to create and run the report, and see what is output.", "From the above results we can see that in terms of inferences per second the Electra model is the clear winner, followed by Distilbert, and finally good old Bert. This makes sense when we look at general parameterization of the three models. Using the information given by the report decisions can be made on choosing which model is suitable for production and which are not.", "Pyinfer is on pypi you can install via:", "Pyinfer is a lightweight tool for ML developers and researchers to benchmark the inference statistics for a model or number of models they are testing out. It allows developers to make decisions about a model\u2019s practical suitability for production with a simple to use interface.", "You can find the project on github.", "If anyone would like to make a contribution to the project or suggest a change/feature I\u2019d love to hear about it.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F906f6816d01b&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-benchmark-any-models-inference-statistics-for-production-906f6816d01b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-benchmark-any-models-inference-statistics-for-production-906f6816d01b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-benchmark-any-models-inference-statistics-for-production-906f6816d01b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-benchmark-any-models-inference-statistics-for-production-906f6816d01b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----906f6816d01b--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----906f6816d01b--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@charlespierse?source=post_page-----906f6816d01b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@charlespierse?source=post_page-----906f6816d01b--------------------------------", "anchor_text": "Charles Pierse"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1efa9a37c582&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-benchmark-any-models-inference-statistics-for-production-906f6816d01b&user=Charles+Pierse&userId=1efa9a37c582&source=post_page-1efa9a37c582----906f6816d01b---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F906f6816d01b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-benchmark-any-models-inference-statistics-for-production-906f6816d01b&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F906f6816d01b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-benchmark-any-models-inference-statistics-for-production-906f6816d01b&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@chuttersnap?utm_source=medium&utm_medium=referral", "anchor_text": "CHUTTERSNAP"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://github.com/cdpierse/pyinfer", "anchor_text": "https://github.com/cdpierse/pyinfer"}, {"url": "https://pyinfer.readthedocs.io/en/latest/", "anchor_text": "https://pyinfer.readthedocs.io/en/latest/"}, {"url": "https://github.com/cdpierse/pyinfer", "anchor_text": "pyinfer"}, {"url": "https://github.com/cdpierse/pyinfer", "anchor_text": "github."}, {"url": "https://medium.com/tag/python?source=post_page-----906f6816d01b---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----906f6816d01b---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/software-development?source=post_page-----906f6816d01b---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/data-science?source=post_page-----906f6816d01b---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----906f6816d01b---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F906f6816d01b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-benchmark-any-models-inference-statistics-for-production-906f6816d01b&user=Charles+Pierse&userId=1efa9a37c582&source=-----906f6816d01b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F906f6816d01b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-benchmark-any-models-inference-statistics-for-production-906f6816d01b&user=Charles+Pierse&userId=1efa9a37c582&source=-----906f6816d01b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F906f6816d01b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-benchmark-any-models-inference-statistics-for-production-906f6816d01b&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----906f6816d01b--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F906f6816d01b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-benchmark-any-models-inference-statistics-for-production-906f6816d01b&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----906f6816d01b---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----906f6816d01b--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----906f6816d01b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----906f6816d01b--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----906f6816d01b--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----906f6816d01b--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----906f6816d01b--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----906f6816d01b--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----906f6816d01b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@charlespierse?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@charlespierse?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Charles Pierse"}, {"url": "https://medium.com/@charlespierse/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "244 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1efa9a37c582&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-benchmark-any-models-inference-statistics-for-production-906f6816d01b&user=Charles+Pierse&userId=1efa9a37c582&source=post_page-1efa9a37c582--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F54aad00fd938&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-benchmark-any-models-inference-statistics-for-production-906f6816d01b&newsletterV3=1efa9a37c582&newsletterV3Id=54aad00fd938&user=Charles+Pierse&userId=1efa9a37c582&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}