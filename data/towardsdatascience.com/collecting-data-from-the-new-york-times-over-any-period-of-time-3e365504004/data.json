{"url": "https://towardsdatascience.com/collecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004", "time": 1683006669.847795, "path": "towardsdatascience.com/collecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004/", "webpage": {"metadata": {"title": "How to Collect Data From The New York Times Over Any Period of Time | by Brienna Herold | Towards Data Science", "h1": "How to Collect Data From The New York Times Over Any Period of Time", "description": "Suppose we want to find out how discourse in The New York Times has evolved over a period of time. These days it would be neat to analyze this, since whenever we visit the front page we get firehosed\u2026"}, "outgoing_paragraph_urls": [{"url": "https://developer.nytimes.com/apis", "anchor_text": "APIs", "paragraph_index": 2}, {"url": "https://en.wikipedia.org/wiki/List_of_news_media_APIs", "anchor_text": "Not many newspapers do this", "paragraph_index": 3}, {"url": "https://developer.nytimes.com/get-started", "anchor_text": "here", "paragraph_index": 5}, {"url": "https://developer.nytimes.com/faq#a11", "anchor_text": "rate limits", "paragraph_index": 11}, {"url": "https://developer.nytimes.com/docs/archive-product/1/overview", "anchor_text": "documentation", "paragraph_index": 16}, {"url": "https://github.com/nytimes/public_api_specs/issues/42", "anchor_text": "a multi-union strike", "paragraph_index": 18}], "all_paragraphs": ["Suppose we want to find out how discourse in The New York Times has evolved over a period of time. These days it would be neat to analyze this, since whenever we visit the front page we get firehosed with news about the coronavirus. How has the pandemic shaped the headlines of one of the most popular newspapers in the United States?", "To answer a question like this, we would need to collect article metadata from The New York Times. Here I describe how to do this in Python.", "The New York Times offers a developer network consisting of several APIs to let non-employees request articles and metadata from them, which is super convenient for this analysis.", "Not many newspapers do this, actually. Maintaining an API takes a lot of work. For newspapers that do not offer an API, we would need a different approach to get their headlines. It\u2019s still possible, just not as easy.", "To begin using The New York Times APIs:", "Create a free developer\u2019s account here. Sign in after you open the link in the verification email. Make your way to the developer\u2019s home page.", "Register a new app in your developer\u2019s account.", "Take note of your just registered app\u2019s API key. This is the only piece of information we need to get data from The New York Times, and we will need it soon.", "We will use the Archive API to get all article metadata from the past year. This code can be modified for any period of time between 1851 and today.", "Make a list of the months that fall within this range, even if partially. We need this information for making calls to the Archive API, since it works with only one month at a time.", "I wrote some code to request and process article metadata from the Archive API. This code works with only one month at a time for optimal memory management. We send a request to the API for a given month, receive and parse the response, and populate a data frame with some details about each article, including its publication date, main headline, section, subject keywords, document type, and material type. Finally, we save the data frame as a CSV file and move on to the next month, until we have reached the end of the desired time range.", "Note that there are two rate limits per API: 4,000 requests per day and 10 requests per minute. We sleep for 6 seconds between calls to avoid hitting the per minute rate limit.", "Don\u2019t forget to switch out YOUR_API_KEY on line 4 with your API key.", "Run the code to get and process articles from months_in_range.", "We have collected metadata for 80,460 articles from the past year! Each month has been saved to a CSV file in the headlines directory.", "Let\u2019s see what the response looks like for the last month that we processed, which is still in memory.", "There\u2019s a lot more. The documentation tells us what is all there.", "See what the CSV file for this month looks like.", "As seen in the data frame, there is the occasional consistency quirk to watch out for. Sometimes the 1st of a month is considered part of the previous month. Sometimes there is missing data, like with September and October 1978 due to a multi-union strike.", "There is a lot that we can do with all of the article metadata we now have in our headlines directory. One of the things we could do is explore how The New York Times has evolved in its reporting over the past year, with an emphasis on the coronavirus pandemic. This would be interesting as we consider not just what happened, but how the media discussed it.", "If you\u2019d like to read more of my articles or explore millions of other articles, you can sign up for a Medium membership:", "You can also subscribe to my email list to get notified whenever I publish a new article:", "Some other stories from me that might interest you:", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F3e365504004&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcollecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcollecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcollecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcollecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----3e365504004--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3e365504004--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://brienna.medium.com/?source=post_page-----3e365504004--------------------------------", "anchor_text": ""}, {"url": "https://brienna.medium.com/?source=post_page-----3e365504004--------------------------------", "anchor_text": "Brienna Herold"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F99827063cb38&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcollecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004&user=Brienna+Herold&userId=99827063cb38&source=post_page-99827063cb38----3e365504004---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3e365504004&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcollecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3e365504004&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcollecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://stock.adobe.com/contributor/208385959/jj-gouin?load_type=author&prev_url=detail", "anchor_text": "JJ Gouin"}, {"url": "https://stock.adobe.com/contributor/208385959/jj-gouin?load_type=author&prev_url=detail&asset_id=328084627", "anchor_text": "Adobe Stock"}, {"url": "https://developer.nytimes.com/apis", "anchor_text": "APIs"}, {"url": "https://en.wikipedia.org/wiki/List_of_news_media_APIs", "anchor_text": "Not many newspapers do this"}, {"url": "https://developer.nytimes.com/get-started", "anchor_text": "here"}, {"url": "https://developer.nytimes.com/docs/archive-product/1/overview", "anchor_text": "Overview"}, {"url": "https://developer.nytimes.com/faq#a11", "anchor_text": "rate limits"}, {"url": "https://developer.nytimes.com/docs/archive-product/1/overview", "anchor_text": "documentation"}, {"url": "https://github.com/nytimes/public_api_specs/issues/42", "anchor_text": "a multi-union strike"}, {"url": "https://github.com/brienna/coronavirus-news-analysis/blob/master/2020_05_01_get_data_from_NYT.ipynb", "anchor_text": "here"}, {"url": "https://brienna.medium.com/membership", "anchor_text": "Join Medium with my referral link - Brienna HeroldAs a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026brienna.medium.com"}, {"url": "https://brienna.medium.com/subscribe", "anchor_text": "Get an email whenever Brienna Herold publishes.Get an email whenever Brienna Herold publishes. By signing up, you will create a Medium account if you don't already\u2026brienna.medium.com"}, {"url": "https://towardsdatascience.com/how-to-download-twitter-friends-or-followers-for-free-b9d5ac23812", "anchor_text": "How to Download Twitter Friends or Followers for FreeA simple guide in Pythontowardsdatascience.com"}, {"url": "https://towardsdatascience.com/zonked-on-vicodin-in-the-presidential-race-generating-fake-headlines-with-markov-chains-87f06cccd866", "anchor_text": "Zonked on Vicodin in the Presidential Race: Generating Fake Headlines With Markov ChainsWalking the fine line between satire and realitytowardsdatascience.com"}, {"url": "https://towardsdatascience.com/how-to-bulk-access-arxiv-full-text-preprints-58026e19e8ef", "anchor_text": "How to bulk access arXiv full-text preprintsWith Python3 and the MacOS X command linetowardsdatascience.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----3e365504004---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/api?source=post_page-----3e365504004---------------api-----------------", "anchor_text": "API"}, {"url": "https://medium.com/tag/new-york-times?source=post_page-----3e365504004---------------new_york_times-----------------", "anchor_text": "New York Times"}, {"url": "https://medium.com/tag/coronavirus?source=post_page-----3e365504004---------------coronavirus-----------------", "anchor_text": "Coronavirus"}, {"url": "https://medium.com/tag/python?source=post_page-----3e365504004---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3e365504004&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcollecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004&user=Brienna+Herold&userId=99827063cb38&source=-----3e365504004---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3e365504004&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcollecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004&user=Brienna+Herold&userId=99827063cb38&source=-----3e365504004---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3e365504004&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcollecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3e365504004--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F3e365504004&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcollecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----3e365504004---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----3e365504004--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----3e365504004--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----3e365504004--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----3e365504004--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----3e365504004--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----3e365504004--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----3e365504004--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----3e365504004--------------------------------", "anchor_text": ""}, {"url": "https://brienna.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://brienna.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Brienna Herold"}, {"url": "https://brienna.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "118 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F99827063cb38&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcollecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004&user=Brienna+Herold&userId=99827063cb38&source=post_page-99827063cb38--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F993f8e299c4c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcollecting-data-from-the-new-york-times-over-any-period-of-time-3e365504004&newsletterV3=99827063cb38&newsletterV3Id=993f8e299c4c&user=Brienna+Herold&userId=99827063cb38&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}