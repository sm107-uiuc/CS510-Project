{"url": "https://towardsdatascience.com/using-custom-javascript-modules-as-static-resources-in-salesforce-orgs-4b6df1477dc4", "time": 1683013804.676373, "path": "towardsdatascience.com/using-custom-javascript-modules-as-static-resources-in-salesforce-orgs-4b6df1477dc4/", "webpage": {"metadata": {"title": "Using Custom JavaScript Modules as Static Resources in Salesforce Orgs | by Lynn Zheng | Towards Data Science", "h1": "Using Custom JavaScript Modules as Static Resources in Salesforce Orgs", "description": "This tutorial will walk you through integrating your custom JavaScript modules with Salesforce Lightning Web Components and use them in Salesforce Orgs. A lightning web component is essentially a Web\u2026"}, "outgoing_paragraph_urls": [{"url": "https://developer.mozilla.org/en-US/docs/Web/Web_Components", "anchor_text": "Web Component", "paragraph_index": 2}, {"url": "https://trailhead.salesforce.com/en/content/learn/projects/quick-start-lightning-web-components", "anchor_text": "Quick Start: Lightning Web Components Trail", "paragraph_index": 3}, {"url": "https://trailhead.salesforce.com/content/learn/projects/quick-start-lightning-web-components/create-a-hello-world-lightning-web-component", "anchor_text": "the last module of the Quick Start: LWC Trail", "paragraph_index": 4}, {"url": "https://developer.mozilla.org/en-US/docs/Glossary/IIFE", "anchor_text": "Immediately Invoked Function Expression (IIFE).", "paragraph_index": 12}, {"url": "https://jsonplaceholder.typicode.com/", "anchor_text": "JSONPlaceholder", "paragraph_index": 20}, {"url": "https://trailhead.salesforce.com/", "anchor_text": "Trailhead", "paragraph_index": 25}, {"url": "https://developer.salesforce.com/", "anchor_text": "Salesforce\u2019s Official Documentation for Developers", "paragraph_index": 25}], "all_paragraphs": ["This tutorial will walk you through integrating your custom JavaScript modules with Salesforce Lightning Web Components and use them in Salesforce Orgs.", "A Salesforce org is a customer-facing platform that contains Salesforce data.", "A lightning web component is essentially a Web Component that uses Salesforce-branded styles and encapsulates Salesforce data.", "If you haven\u2019t yet set up the full Salesforce Developer Experience (SFDX) environment, go to Trailhead, sign up, and complete the Quick Start: Lightning Web Components Trail. This will set up the entire toolkit we need for this tutorial and should take no more than 20 minutes.", "If you are a Visualforce or an Aura developer who has set up SFDX but aren\u2019t familiar with LWC, I\u2019d recommend you to work through the last module of the Quick Start: LWC Trail to create a HelloWorld LWC.", "If you are otherwise already familiar with SFDX and LWC, go ahead and create a simple HelloWorld LWC. The LWC doesn\u2019t have to be anything more than <div>Hello World</div> .", "Wherever you are coming from, you should end up with an org page that contains a custom LWC with files helloWorld.html, helloWorld.js, and helloWorld.js-meta.xml.", "Add a button to the custom LWC using thelightning-button tag. Its label attribute contains the text it displays. Its onclick attribute should point to an event handler called clickHandler .", "In helloWorld.html, add the HTML for the button:", "In helloWorld.js, implement the clickHandler method:", "Open the default org page (in Visual Studio Code, Command + Shift + P, SFDX: Open Default Org), open the web console, click the button, and we should see the console log.", "In case the org doesn\u2019t automatically refresh, click on the gear icon on the top right hand of the page, go to Page Setup, Refresh the current page, and Save.", "To use a custom JavaScript file as a static resource, we need to wrap it in an Immediately Invoked Function Expression (IIFE).", "In helloModule.resource-meta.xml, we specify the resource content type and cache-control property:", "Deploy force-app/main/default/staticresources to the org. On the org page, go to Setup and search for Static Resources. There should be a resource named helloModule, with type application/javascript and private cache control.", "In helloWorld.js, add the import for the static resource and for the method that loads the static resource:", "Then implement a callback that runs when the LWC is rendered on the page:", "Deploy this LWC to org. Refresh the org page and we should see the console log indicating that the helloModule static resource has been successfully loaded.", "Now that the resource is successfully loaded, we are able to use the function sayHello in the LWC. In helloWorld.js, update the button click handler to call window.sayHello:", "Deploy to org, refresh, click on the button, and we should see the log from helloModule printed to the console.", "Because of the default security settings of Salesforce org, if our JavaScript function needs to call a non-Salesforce, third-party API, we need to list those sites as CSP (Content-Sharing Policy) Trusted Sites. We will use JSONPlaceholder as an example. Go to Setup and search for CSP Trusted Sites. Add a new trusted site as follows: (Note that Salesforce won\u2019t accept a URL that ends with a forward slash, i.e., https://mysite.com works but https://mysite.com/ doesn\u2019t.)", "CSP might take two to five minutes to become effective. In the meantime, add a function to helloModule.js (still inside the IFFE) and also expose it to the window namespace:", "Update clickHandler in helloWorld.js to use window.retrieveData with a parameter:", "Deploy, refresh, if there\u2019s no CSP error (which means that CSP isn\u2019t yet in effect), we should be able to see some JSON data fetched from a third-party API in the console log.", "The complete files are as follows:", "For more resources, check out Trailhead and Salesforce\u2019s Official Documentation for Developers.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "CS Bx/MS @ UChicago | SWE Intern @ Salesforce"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4b6df1477dc4&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-custom-javascript-modules-as-static-resources-in-salesforce-orgs-4b6df1477dc4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-custom-javascript-modules-as-static-resources-in-salesforce-orgs-4b6df1477dc4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-custom-javascript-modules-as-static-resources-in-salesforce-orgs-4b6df1477dc4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-custom-javascript-modules-as-static-resources-in-salesforce-orgs-4b6df1477dc4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4b6df1477dc4--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4b6df1477dc4--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@ruolinzheng?source=post_page-----4b6df1477dc4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ruolinzheng?source=post_page-----4b6df1477dc4--------------------------------", "anchor_text": "Lynn Zheng"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd3f5c4e6de81&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-custom-javascript-modules-as-static-resources-in-salesforce-orgs-4b6df1477dc4&user=Lynn+Zheng&userId=d3f5c4e6de81&source=post_page-d3f5c4e6de81----4b6df1477dc4---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4b6df1477dc4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-custom-javascript-modules-as-static-resources-in-salesforce-orgs-4b6df1477dc4&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4b6df1477dc4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-custom-javascript-modules-as-static-resources-in-salesforce-orgs-4b6df1477dc4&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://developer.mozilla.org/en-US/docs/Web/Web_Components", "anchor_text": "Web Component"}, {"url": "https://trailhead.salesforce.com/home", "anchor_text": "Trailhead"}, {"url": "https://code.visualstudio.com/", "anchor_text": "Visual Studio Code"}, {"url": "https://trailhead.salesforce.com/en/content/learn/projects/quick-start-lightning-web-components", "anchor_text": "Quick Start: Lightning Web Components Trail"}, {"url": "https://trailhead.salesforce.com/content/learn/projects/quick-start-lightning-web-components/create-a-hello-world-lightning-web-component", "anchor_text": "the last module of the Quick Start: LWC Trail"}, {"url": "https://developer.mozilla.org/en-US/docs/Glossary/IIFE", "anchor_text": "Immediately Invoked Function Expression (IIFE)."}, {"url": "http://soap.sforce.com/2006/04/metadata", "anchor_text": "http://soap.sforce.com/2006/04/metadata"}, {"url": "http://twitter.com/salesforce/resourceUrl", "anchor_text": "@salesforce/resourceUrl"}, {"url": "https://jsonplaceholder.typicode.com/", "anchor_text": "JSONPlaceholder"}, {"url": "https://jsonplaceholder.typicode.com/todos/'", "anchor_text": "https://jsonplaceholder.typicode.com/todos/'"}, {"url": "http://twitter.com/salesforce/resourceUrl", "anchor_text": "@salesforce/resourceUrl"}, {"url": "https://jsonplaceholder.typicode.com/todos/'", "anchor_text": "https://jsonplaceholder.typicode.com/todos/'"}, {"url": "https://trailhead.salesforce.com/", "anchor_text": "Trailhead"}, {"url": "https://developer.salesforce.com/", "anchor_text": "Salesforce\u2019s Official Documentation for Developers"}, {"url": "https://medium.com/tag/javascript?source=post_page-----4b6df1477dc4---------------javascript-----------------", "anchor_text": "JavaScript"}, {"url": "https://medium.com/tag/salesforce?source=post_page-----4b6df1477dc4---------------salesforce-----------------", "anchor_text": "Salesforce"}, {"url": "https://medium.com/tag/tech?source=post_page-----4b6df1477dc4---------------tech-----------------", "anchor_text": "Tech"}, {"url": "https://medium.com/tag/software-development?source=post_page-----4b6df1477dc4---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/lightning-web-component?source=post_page-----4b6df1477dc4---------------lightning_web_component-----------------", "anchor_text": "Lightning Web Component"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4b6df1477dc4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-custom-javascript-modules-as-static-resources-in-salesforce-orgs-4b6df1477dc4&user=Lynn+Zheng&userId=d3f5c4e6de81&source=-----4b6df1477dc4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4b6df1477dc4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-custom-javascript-modules-as-static-resources-in-salesforce-orgs-4b6df1477dc4&user=Lynn+Zheng&userId=d3f5c4e6de81&source=-----4b6df1477dc4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4b6df1477dc4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-custom-javascript-modules-as-static-resources-in-salesforce-orgs-4b6df1477dc4&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4b6df1477dc4--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4b6df1477dc4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-custom-javascript-modules-as-static-resources-in-salesforce-orgs-4b6df1477dc4&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4b6df1477dc4---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4b6df1477dc4--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4b6df1477dc4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4b6df1477dc4--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4b6df1477dc4--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4b6df1477dc4--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4b6df1477dc4--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4b6df1477dc4--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4b6df1477dc4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ruolinzheng?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ruolinzheng?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Lynn Zheng"}, {"url": "https://medium.com/@ruolinzheng/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "60 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd3f5c4e6de81&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-custom-javascript-modules-as-static-resources-in-salesforce-orgs-4b6df1477dc4&user=Lynn+Zheng&userId=d3f5c4e6de81&source=post_page-d3f5c4e6de81--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F12285fab312d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-custom-javascript-modules-as-static-resources-in-salesforce-orgs-4b6df1477dc4&newsletterV3=d3f5c4e6de81&newsletterV3Id=12285fab312d&user=Lynn+Zheng&userId=d3f5c4e6de81&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}