{"url": "https://towardsdatascience.com/cost-control-in-synapse-analytics-serverless-sql-easy-way-f4fa6bab5527", "time": 1683017581.163413, "path": "towardsdatascience.com/cost-control-in-synapse-analytics-serverless-sql-easy-way-f4fa6bab5527/", "webpage": {"metadata": {"title": "Cost Control in Synapse Analytics Serverless SQL \u2014 easy way! | by Nikola Ilic | Towards Data Science", "h1": "Cost Control in Synapse Analytics Serverless SQL \u2014 easy way!", "description": "If you follow my blog series on different levels of integration between Power BI and Azure Synapse Analytics, you should have already understood the key components and concepts behind Synapse\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/power-bi-synapse-part-2-what-synapse-brings-to-power-bi-table-4592a03b1b74", "anchor_text": "Power BI and Azure Synapse Analytics", "paragraph_index": 0}, {"url": "https://datamozart.medium.com/power-bi-synapse-part-1-the-art-of-im-possible-aee1cec5ebfa", "anchor_text": "Synapse Analytics", "paragraph_index": 0}, {"url": "https://docs.microsoft.com/en-us/azure/synapse-analytics/sql/data-processed", "anchor_text": "this article", "paragraph_index": 4}, {"url": "https://datamozart.medium.com/power-bi-synapse-part-4-serverless-sql-how-much-will-it-cost-me-fd6a02135804", "anchor_text": "Power BI", "paragraph_index": 4}, {"url": "https://towardsdatascience.com/azure-data-studio-or-ssms-which-should-i-use-1db49824a39", "anchor_text": "who prefer to use it", "paragraph_index": 12}, {"url": "https://docs.microsoft.com/en-us/azure/synapse-analytics/sql/develop-tables-cetas", "anchor_text": "using CETAS", "paragraph_index": 18}, {"url": "http://eepurl.com/gOH8iP", "anchor_text": "here", "paragraph_index": 21}, {"url": "http://data-mozart.com", "anchor_text": "data-mozart.com", "paragraph_index": 23}], "all_paragraphs": ["If you follow my blog series on different levels of integration between Power BI and Azure Synapse Analytics, you should have already understood the key components and concepts behind Synapse Analytics. You could have also noticed that Synapse brings a whole bunch of possibilities to handle various analytic workloads in one single place.", "However, it\u2019s not the current state of the product that I admire, but its general direction and rapid development in multiple different areas.", "One of the features that were \u201cshady\u201d, to say at least, was the cost management in Synapse Analytics Serverless pool. Up until recently, it was hard to measure the costs of a specific workload, let alone a single query itself! There was generic information that the Serverless SQL pool will cost you starting from 5$/TB of processed data, but there was no deeper insight or ways to measure and manage the costs.", "But, as I already mentioned, things change quickly in Synapse Analytics, and they often change for the better\u2026", "The first thing to keep in mind is that you are paying for the amount of data processed. As specified in this article, processed data includes few different items, such as the amount of data read from storage, but also the amount of data transferred to your endpoint (for example, Power BI), and the amount of data materialized (for example, if you use external tables to export your results to storage).", "The first place where you can analyze your workloads is Synapse Studio. Under Monitor property on the right, under Activities, you can see SQL requests option:", "Even if it states that you still can\u2019t see query history, but only running queries, this is not true:)", "As you can see in the illustration, not that you can see all the queries you\u2019ve run, but also see the SQL code behind the specific request!", "In addition, you can control your costs by setting the limits on a daily, weekly, or monthly level! That\u2019s a huge improvement! Just go to the Manage tab, and click on the small money sign.", "Once you click on it, you will have an option to choose your preferred limit for a specific time period:", "If you don\u2019t want to configure your limits through UI, you can also write a T-SQL to achieve the same:", "In case you want to check how much data you burned during the specific period, you can execute the following T-SQL command, and check the consumption:", "Now comes my favorite part! You can check the cost of a specific query using good old SSMS! Azure Data Studio is also an option for those who prefer to use it.", "Once I connect to my Serverless SQL endpoint from the SSMS, I can see all my database objects. Let\u2019s run a few queries and see how much will they cost.", "So, this simple count of all of the records in my view that was created over a CSV file in one of the previous articles, costs me 657 MB (656 MB of scanned data + 1 MB of moved data + 0 MB of written data). In terms of money, that\u2019s ~0.0033$.", "Let\u2019s now retrieve all the columns for the top 100.000 rows and check the costs again:", "Now, the engine had to scan less data (because it didn\u2019t have to go all the way through to check how many rows exist), but we now have to pay more for the data moved, as instead of returning one single column, we returned all of them! Data written is still 0, because we haven\u2019t materialized anything with this query. So, the overall amount of data processed for this query is 145 MB (136+9).", "You can also see all these detailed metrics using Synapse Studio.", "Finally, you can also materialize a portion of data for later usage, using CETAS (Create External Tables As Select). When using a Serverless SQL pool, CETAS creates an external table and export query result set to Azure Blob Storage or ADLS Gen2 (Data Lake). In this scenario, you will need to calculate Data written also into the final figure of Data processed.", "Synapse Analytics rapidly changes and constantly offers new features to improve the overall user experience and bring more transparency with cost management in the Serverless SQL pool.", "As you\u2019ve noticed, we could easily retrieve the amount of data processed for every specific query, using the well-known tool SSMS.", "Subscribe here to get more insightful data articles!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Mozart \u2014 Make Music from your Data!| data-mozart.com | @DataMozart | Microsoft Data Platform MVP | Power BI Addict | Blogger, speaker, learner\u2026"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff4fa6bab5527&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcost-control-in-synapse-analytics-serverless-sql-easy-way-f4fa6bab5527&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcost-control-in-synapse-analytics-serverless-sql-easy-way-f4fa6bab5527&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcost-control-in-synapse-analytics-serverless-sql-easy-way-f4fa6bab5527&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcost-control-in-synapse-analytics-serverless-sql-easy-way-f4fa6bab5527&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f4fa6bab5527--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f4fa6bab5527--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://datamozart.medium.com/?source=post_page-----f4fa6bab5527--------------------------------", "anchor_text": ""}, {"url": "https://datamozart.medium.com/?source=post_page-----f4fa6bab5527--------------------------------", "anchor_text": "Nikola Ilic"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F64005b7daa38&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcost-control-in-synapse-analytics-serverless-sql-easy-way-f4fa6bab5527&user=Nikola+Ilic&userId=64005b7daa38&source=post_page-64005b7daa38----f4fa6bab5527---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff4fa6bab5527&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcost-control-in-synapse-analytics-serverless-sql-easy-way-f4fa6bab5527&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff4fa6bab5527&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcost-control-in-synapse-analytics-serverless-sql-easy-way-f4fa6bab5527&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.pexels.com/photo/person-holding-black-ceramic-pig-coin-bank-3943723/", "anchor_text": "https://www.pexels.com/photo/person-holding-black-ceramic-pig-coin-bank-3943723/"}, {"url": "https://towardsdatascience.com/power-bi-synapse-part-2-what-synapse-brings-to-power-bi-table-4592a03b1b74", "anchor_text": "Power BI and Azure Synapse Analytics"}, {"url": "https://datamozart.medium.com/power-bi-synapse-part-1-the-art-of-im-possible-aee1cec5ebfa", "anchor_text": "Synapse Analytics"}, {"url": "https://docs.microsoft.com/en-us/azure/synapse-analytics/sql/data-processed", "anchor_text": "this article"}, {"url": "https://datamozart.medium.com/power-bi-synapse-part-4-serverless-sql-how-much-will-it-cost-me-fd6a02135804", "anchor_text": "Power BI"}, {"url": "https://towardsdatascience.com/azure-data-studio-or-ssms-which-should-i-use-1db49824a39", "anchor_text": "who prefer to use it"}, {"url": "https://docs.microsoft.com/en-us/azure/synapse-analytics/sql/develop-tables-cetas", "anchor_text": "using CETAS"}, {"url": "http://eepurl.com/gOH8iP", "anchor_text": "here"}, {"url": "https://medium.com/tag/azure-synapse-analytics?source=post_page-----f4fa6bab5527---------------azure_synapse_analytics-----------------", "anchor_text": "Azure Synapse Analytics"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----f4fa6bab5527---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/power-bi?source=post_page-----f4fa6bab5527---------------power_bi-----------------", "anchor_text": "Power Bi"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f4fa6bab5527---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data?source=post_page-----f4fa6bab5527---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff4fa6bab5527&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcost-control-in-synapse-analytics-serverless-sql-easy-way-f4fa6bab5527&user=Nikola+Ilic&userId=64005b7daa38&source=-----f4fa6bab5527---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff4fa6bab5527&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcost-control-in-synapse-analytics-serverless-sql-easy-way-f4fa6bab5527&user=Nikola+Ilic&userId=64005b7daa38&source=-----f4fa6bab5527---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff4fa6bab5527&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcost-control-in-synapse-analytics-serverless-sql-easy-way-f4fa6bab5527&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f4fa6bab5527--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff4fa6bab5527&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcost-control-in-synapse-analytics-serverless-sql-easy-way-f4fa6bab5527&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f4fa6bab5527---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f4fa6bab5527--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f4fa6bab5527--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f4fa6bab5527--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f4fa6bab5527--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f4fa6bab5527--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f4fa6bab5527--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f4fa6bab5527--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f4fa6bab5527--------------------------------", "anchor_text": ""}, {"url": "https://datamozart.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://datamozart.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Nikola Ilic"}, {"url": "https://datamozart.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "2.1K Followers"}, {"url": "http://data-mozart.com", "anchor_text": "data-mozart.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F64005b7daa38&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcost-control-in-synapse-analytics-serverless-sql-easy-way-f4fa6bab5527&user=Nikola+Ilic&userId=64005b7daa38&source=post_page-64005b7daa38--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F9fc5611a2826&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcost-control-in-synapse-analytics-serverless-sql-easy-way-f4fa6bab5527&newsletterV3=64005b7daa38&newsletterV3Id=9fc5611a2826&user=Nikola+Ilic&userId=64005b7daa38&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}