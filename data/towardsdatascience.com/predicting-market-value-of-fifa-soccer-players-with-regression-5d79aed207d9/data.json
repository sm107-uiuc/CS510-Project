{"url": "https://towardsdatascience.com/predicting-market-value-of-fifa-soccer-players-with-regression-5d79aed207d9", "time": 1683014174.4300091, "path": "towardsdatascience.com/predicting-market-value-of-fifa-soccer-players-with-regression-5d79aed207d9/", "webpage": {"metadata": {"title": "Predicting the Market Value of FIFA Soccer Players with Regression | by Tan Pengshi Alvin | Towards Data Science", "h1": "Predicting the Market Value of FIFA Soccer Players with Regression", "description": "Three weeks have passed since the Metis Data Science Bootcamp started, and the journey has been nothing short of intensive but exciting. In this article, I detail the project that I have built using\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.fifaindex.com/", "anchor_text": "FIFA Index", "paragraph_index": 4}, {"url": "https://github.com/tanpengshi/Metis_Project_2_FIFA_Players", "anchor_text": "link", "paragraph_index": 22}, {"url": "https://www.linkedin.com/in/tanpengshi/", "anchor_text": "LinkedIn", "paragraph_index": 23}, {"url": "https://tanpengshi.medium.com/membership", "anchor_text": "referral link", "paragraph_index": 25}, {"url": "https://www.linkedin.com/in/tanpengshi/", "anchor_text": "https://www.linkedin.com/in/tanpengshi/", "paragraph_index": 27}], "all_paragraphs": ["Three weeks have passed since the Metis Data Science Bootcamp started, and the journey has been nothing short of intensive but exciting. In this article, I detail the project that I have built using the skills and knowledge on web scraping and regression that I have carefully learnt over the past 2 weeks. After touring through a variety of websites, I finally settled on an interesting topic \u2014 prediction of FIFA soccer players\u2019 market value!", "When we talk about the market value of a soccer player, we refer to the estimate of the amount his soccer club can sell or transfer his contract to another club. And soccer clubs can pay astronomical amount to obtain the top players. As we shall see later, market values of soccer players follow an exponential trend, indicating that the a small subset of players are highly valuable. Hence, the ability to predict market values may offer a commercial advantage to some of these rich soccer clubs.", "What are some of the most important factors that drive market value? Upon doing some research, I list the following factors:", "Nonetheless, because some of the data on these factors are difficult to obtain, I will attempt to create a viable regression model to predict market value based on only footballing skills and age. Below I detail the process and results obtained from this project.", "I web scraped the FIFA Index website with the classic Python module Beautiful Soup. In total, I collected data from 19,401 players, which includes their height, weight, age, preferred foot and skill ratings. Each skill rating are sub-categorized into domains, which are scored from 0\u2013100. The skill ratings are therefore web scraped by taking the mean of their domains. Skills ratings of footballers and their respective domains are given as:", "Below is the script that I have used to web scraped all my data:", "After doing some slight processing and and a few removing players without market value data, here is the summary of the data frame:", "Plotting the heatmap of features and target (Market Value) reveals some interesting trends: Height, Weight, Age, Preferred Foot and Goalkeeping seems to be uncorrelated with the target variable:", "Thus, the question is should we remove these features? We already understand from domain knowledge that age is an important predictor of Market Value. How about Goalkeeping skills? Note that Goalkeeping is negatively correlated with other skill metrics. This is not surprising as goalkeepers are mostly specialized, and are seldom playing on field. However, some of these goalkeepers are highly valued as shown in the pair plot:", "Therefore, removing the Goalkeeping feature will probably caused the predictions for the market value of goalkeepers to fall and also make the model unstable. The pair plot also shows that the distribution of the market value is exponential, revealing a winner-takes-all scenario.", "Hence, we proceed to take logarithm of the Market Value in an attempt to linearize the data. Furthermore, the features Height, Weight and Preferred Foot are dropped. And as shown in the OLS regression summaries plotted using the Statsmodels package, the model improved drastically:", "Not to mention that the Adjusted R\u00b2 values improved from 0.32 to 0.67, the Log-Likelihood also increases, demonstrating better goodness of fit. Furthermore, the residuals follow a much more normal distribution with the Skew reducing to almost 0 and Kurtosis reducing to almost 3, fulfilling the normality assumption. In addition, the correlation with the target variable improved hugely across the features.", "Other insights that we can observe from the OLS summaries are the negative coefficients of the Age and Passing features. While we already know that Age is inversely correlated with Market Value, the negative coefficient for Passing comes as a surprise. This means that if a player improves his Passing skills, on average, his Market Value will fall consequently! A possible explanation is that the market rewards more dominant players, and players who are better at passing might be weaker in other areas.", "Now, to fit the data, the regression models that we wish to compare are Simple Linear Regression, LASSO Regression, Ridge Regression, Elastic Net Regression and Polynomial Regression. Note that LASSO, Ridge and Elastic Net are simply regularized versions of the Linear Regression that imposed additional regularized terms to the cost function that we want to minimize. Each of these regularized terms contain an hyper-parameter Alpha with a value that is chosen during model selection. Before proceeding, we randomly split the entire data frame into 80% Training Set and 20% Test set, where we hold out the Test Set for final model evaluation. For model selection, we further randomly split the Training Set into 5-Folds for cross-validation.", "By taking mean scores (Mean Absolute Error) on the validation set in the 5-Fold CV, the optimal Alphas are selected for LASSO, Ridge and Elastic Net. The optimal degree is also chosen for Polynomial Regression. The optimal Alphas and degree are therefore:", "Because the Alpha values for LASSO and Elastic Net are negligible, they can be approximated as the Linear Regression model. Comparing the performance of the remaining models, it is clear that Polynomial Regression (Degree 4) is the winner:", "It\u2019s time to score our Polynomial Regression model on the Test Set! Upon scoring the test set on Log Market Value, the results are very comparable still with r\u00b2 of 0.930, Mean Absolute Error of 0.279, although the Kurtosis is around 1.", "The Q-Q plot is also pretty linear, representing a good model fit on the data. However, before we get too happy with the results, we should be reminded that we have taken logarithm of the target variable earlier. What happens when we \u201cun-log\u201d our predicted target variable and compare with the original market value in the Test Set?", "Scoring the test set on Market Value, without taking logarithm, we receive a r\u00b2 of 0.836, Mean Absolute Error of \u20ac 668,684, and a Kurtosis of 234! The results are surprising, however I should highlight that this is the best model we could possibly achieve with regression and the limited features that we chose.", "Below is the snapshot of the final data frame of the Test Set comparing the market values and predicted market values. While the predictions generally follow the trend of the actual Market Value, we are able to observe some outliers. In addition, the model also appear to favor Defenders, as evidenced by placing Virgil van Dijk and Giorgio Chiellini in the top 5 rows. A more accurate model would have favored Strikers instead.", "Nonetheless, the results of the finalized model is rather respectable given the limited features that I used. In the future, should other data sources be available, important features such as on-field position of players and media coefficient should be considered.", "With that being said, I look forward to learning more machine learning techniques from the Metis Data Science Bootcamp in the coming weeks! Who knows? With more machine learning tools such as neural networks, we may revisit the project and engineer an even better model.", "Here is the link to my GitHub, which contains all the codes and presentation slides for this project.", "What do you think of my model? Reach me on my LinkedIn or comment here below to discuss!", "P.S. Thanks for reading for reading my work on regression. If you are also interested in learning about classification, check out my next project:", "Support me! \u2014 If you are not subscribed to Medium, and like my content, do consider supporting me by joining Medium via my referral link.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist, ML and Software Engineer. Shares codes, technical data science concepts and ideas. LinkedIn: https://www.linkedin.com/in/tanpengshi/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5d79aed207d9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-value-of-fifa-soccer-players-with-regression-5d79aed207d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-value-of-fifa-soccer-players-with-regression-5d79aed207d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-value-of-fifa-soccer-players-with-regression-5d79aed207d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-value-of-fifa-soccer-players-with-regression-5d79aed207d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5d79aed207d9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5d79aed207d9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://tanpengshi.medium.com/?source=post_page-----5d79aed207d9--------------------------------", "anchor_text": ""}, {"url": "https://tanpengshi.medium.com/?source=post_page-----5d79aed207d9--------------------------------", "anchor_text": "Tan Pengshi Alvin"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4898b27c4ef2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-value-of-fifa-soccer-players-with-regression-5d79aed207d9&user=Tan+Pengshi+Alvin&userId=4898b27c4ef2&source=post_page-4898b27c4ef2----5d79aed207d9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5d79aed207d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-value-of-fifa-soccer-players-with-regression-5d79aed207d9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5d79aed207d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-value-of-fifa-soccer-players-with-regression-5d79aed207d9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@fznsr_", "anchor_text": "Fauzan Saari"}, {"url": "https://unsplash.com/", "anchor_text": "Unsplash"}, {"url": "https://www.fifaindex.com/", "anchor_text": "FIFA Index"}, {"url": "https://github.com/tanpengshi/Metis_Project_2_FIFA_Players", "anchor_text": "link"}, {"url": "https://www.linkedin.com/in/tanpengshi/", "anchor_text": "LinkedIn"}, {"url": "https://towardsdatascience.com/predicting-satisfaction-of-airline-passengers-with-classification-76f1516e1d16", "anchor_text": "Predicting Satisfaction of Airline Passengers with ClassificationA case study with KNN, Logistic Regression, Gaussian NB, Decision Trees and Random Forest.towardsdatascience.com"}, {"url": "https://tanpengshi.medium.com/membership", "anchor_text": "referral link"}, {"url": "https://tanpengshi.medium.com/membership", "anchor_text": "Join Medium with my referral link - Tan Pengshi AlvinRead every story from Tan Pengshi Alvin (and thousands of other writers on Medium). Your membership fee directly\u2026tanpengshi.medium.com"}, {"url": "https://medium.com/tag/regression?source=post_page-----5d79aed207d9---------------regression-----------------", "anchor_text": "Regression"}, {"url": "https://medium.com/tag/web-scraping?source=post_page-----5d79aed207d9---------------web_scraping-----------------", "anchor_text": "Web Scraping"}, {"url": "https://medium.com/tag/data-science?source=post_page-----5d79aed207d9---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----5d79aed207d9---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/soccer?source=post_page-----5d79aed207d9---------------soccer-----------------", "anchor_text": "Soccer"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5d79aed207d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-value-of-fifa-soccer-players-with-regression-5d79aed207d9&user=Tan+Pengshi+Alvin&userId=4898b27c4ef2&source=-----5d79aed207d9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5d79aed207d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-value-of-fifa-soccer-players-with-regression-5d79aed207d9&user=Tan+Pengshi+Alvin&userId=4898b27c4ef2&source=-----5d79aed207d9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5d79aed207d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-value-of-fifa-soccer-players-with-regression-5d79aed207d9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5d79aed207d9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5d79aed207d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-value-of-fifa-soccer-players-with-regression-5d79aed207d9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5d79aed207d9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5d79aed207d9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5d79aed207d9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5d79aed207d9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5d79aed207d9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5d79aed207d9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5d79aed207d9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5d79aed207d9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5d79aed207d9--------------------------------", "anchor_text": ""}, {"url": "https://tanpengshi.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://tanpengshi.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Tan Pengshi Alvin"}, {"url": "https://tanpengshi.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "402 Followers"}, {"url": "https://www.linkedin.com/in/tanpengshi/", "anchor_text": "https://www.linkedin.com/in/tanpengshi/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4898b27c4ef2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-value-of-fifa-soccer-players-with-regression-5d79aed207d9&user=Tan+Pengshi+Alvin&userId=4898b27c4ef2&source=post_page-4898b27c4ef2--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3a69f8a79a04&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-market-value-of-fifa-soccer-players-with-regression-5d79aed207d9&newsletterV3=4898b27c4ef2&newsletterV3Id=3a69f8a79a04&user=Tan+Pengshi+Alvin&userId=4898b27c4ef2&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}