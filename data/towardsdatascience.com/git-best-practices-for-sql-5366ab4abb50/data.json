{"url": "https://towardsdatascience.com/git-best-practices-for-sql-5366ab4abb50", "time": 1683010754.5497081, "path": "towardsdatascience.com/git-best-practices-for-sql-5366ab4abb50/", "webpage": {"metadata": {"title": "Git Best Practices For SQL. Using GitHub, GitLab, BitBucket and\u2026 | by Kovid Rathee | Towards Data Science", "h1": "Git Best Practices For SQL", "description": "As data science, data engineering and DataOps teams are increasing in size by the day, it is very important to improve the way they collaborate. It is common to see data engineers and data analysts\u2026"}, "outgoing_paragraph_urls": [{"url": "https://linktr.ee/kovid", "anchor_text": "best practices", "paragraph_index": 1}, {"url": "https://medium.com/@msandin/strategies-for-organizing-code-2c9d690b6f33", "anchor_text": "strategies for code organization", "paragraph_index": 5}, {"url": "https://www.red-gate.com/hub/product-learning/sql-source-control/github-and-sql-source-control", "anchor_text": "Git for SQL Server scripts", "paragraph_index": 9}, {"url": "https://www.linkedin.com/in/caitlinhudon/", "anchor_text": "an amazing post by Caitlin Hudon on her blog", "paragraph_index": 18}, {"url": "https://kovidrathee.medium.com/membership", "anchor_text": "https://kovidrathee.medium.com/membership", "paragraph_index": 22}], "all_paragraphs": ["As data science, data engineering and DataOps teams are increasing in size by the day, it is very important to improve the way they collaborate. It is common to see data engineers and data analysts storing SQL queries, Python scripts and Jupyter notebooks on their local machines. It is highly recommended that none of that happens. Although the work that these guys do differs a lot from the work of application developers, there\u2019s no doubt that they share a lot of the common tools for writing code. Also, the workflows, in most cases, are also very similar.", "The most important tool for a team collaborating for writing code is a version control system like Git, Mercurial or Subversion. VCSs have been around for a number of years now but data teams have still to adopt to them fully into their workflow. Here, we\u2019ll talk about the tremendous benefits of using a VCS for data work and the best practices for working with a VCS for data work. Let\u2019s go.", "Organization your code, queries, artefacts, S3 buckets, etc., is very important. Irrespective of your infrastructure being on the cloud or not, you can devise methodologies to organise your code. It starts with getting the folder structure right. The folder structure for your application, your database scripts and DevOps scripts \u2014 all depend on the application you are building and the tools you are using.", "Structure is important, structure is beautiful", "Version control systems provide a powerful way to ensure that everyone is on board with the folder structure and how the code is organized. I found two really good pieces on Medium which talk about code organization, one of which is \u2014", "And another one is about strategies for code organization. The strategies don\u2019t apply the same way to database scripts, SQL queries, reports and stored procedures but the idea does. The idea that code should be written and organized in a way that that it is readable, searchable, understandable and editable.", "Always push all the relevant work to remote branches even if the work is in progress. I highly recommend using gitflow \u2014 the git development methodology using three levels of branching (with some exceptions) \u2014 master, develop and feature. The feature branch here would be any CR or fresh requirement.", "Push your work to a remote branch, even if it is work-in-progress", "Storing on local branches only is not really recommended unless it is something that is useless to others and is for your own experimentation and discovery. Local branches, not surprisingly, are prone to data loss as your queries won\u2019t reside elsewhere in the universe.", "Here\u2019s an example talking about using Git for SQL Server scripts. There\u2019s GitSQL \u2014 a dedicated source control solution for PostgreSQL databases.", "You should have a mandatory reviewer for every merge request. This makes sure that nothing suspicious or incorrect is going to production. Manual checks and balances are really important. All of the major version control systems have the option to mandate reviews by one or more people.", "There is a thorough post by Atlassian\u2019s engineering team regarding this. Do check it out.", "Important side-note \u2014 If your team is new to the review process, they might be a bit cranky to implement it as it would seem like useless additional work but it hardly is that. The extra effort on review pays off in the long run.", "I can\u2019t stress enough how important it is to have an up to date staging environment. For database testing purposes, it is not necessary to have all the production data here at all times. It really depends upon your testing requirements. Whether the data is updated or not, the database structure (tables, views, procedures, functions and other objects) should be always in-sync.", "IaC tools like Terraform and Pulumi have made it really easy to spawn and destroy complete environments in a matter of minutes. Bringing up a staging environment if you\u2019re using all these tools shouldn\u2019t be hard and definitely shouldn\u2019t take much time. Usually staging is understood more in the context of data warehousing \u2014 the layer where a lot of the preprocessing happens before the data is written to the main, production data warehouse. But here I mean staging for one of the usual development environments, the others being testing, development and production. Staging is also commonly known as pre-production but the terminology isn\u2019t very strict.", "After having a VCS, having a CI/CD pipeline the next evolutionary step as it removes yet another step where a human error can result in the incorrect report being run. Essentially, such a pipeline would make sure that your latest code is continuously integrated and deployed to your environments automatically. Tools for popular services like Redshift, Tableau, Informatica, and most relational databases exist in the market to solve this. However, none of them are completely mature so beware of that fact. Here\u2019s a good piece that talks about CI/CD for databases \u2014", "Having a CI/CD pipeline also reduces a lot of time setting up environments and configurations for testing and development. It is not necessary for you to use one of the tools available in the market as none of them are as evolved for data engineers as they are for developers. You can create your own CI/CD tool for your use-case with a set of scripts and Lambda functions invoked by an event created by listening to a VCS.", "Last but not the least, creating a query library for your organization is one of the most important things for maintaining sanity. This prevents rewriting of the same queries again by different teams. I have done it for several teams but never across an organization. Using a VCS for the query library makes sense but non-technical teams might find it difficult to operate using a VCS.", "There is an amazing post by Caitlin Hudon on her blog where she talks about her learnings and she summarises those learnings as truths about SQL like this \u2014", "There are open source tools like Metabase which can help you organize your queries in collections. If not that, you can use your BI tool to be the storage for the query library. Although not the best option, but it works if the teams are motivated to do this.", "As SQL is a very widely used language across many development domains like application development, data engineering, data science and data analytics, it is easy to find different patterns of usage, storage and maintenance. Having said that, we shouldn\u2019t forgive that whatever pattern we follow, it should make it easy for other people to understand, explore and work on the code that has already been written. That\u2019s the only ask.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I write about tech, Indian classical music, literature, and the workplace among other things. 1x engineer on weekdays. https://kovidrathee.medium.com/membership"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5366ab4abb50&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgit-best-practices-for-sql-5366ab4abb50&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgit-best-practices-for-sql-5366ab4abb50&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgit-best-practices-for-sql-5366ab4abb50&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgit-best-practices-for-sql-5366ab4abb50&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://me.dm/@kovidrathee", "anchor_text": "Mastodon"}, {"url": "https://towardsdatascience.com/?source=post_page-----5366ab4abb50--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5366ab4abb50--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://kovidrathee.medium.com/?source=post_page-----5366ab4abb50--------------------------------", "anchor_text": ""}, {"url": "https://kovidrathee.medium.com/?source=post_page-----5366ab4abb50--------------------------------", "anchor_text": "Kovid Rathee"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F13d513db037&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgit-best-practices-for-sql-5366ab4abb50&user=Kovid+Rathee&userId=13d513db037&source=post_page-13d513db037----5366ab4abb50---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5366ab4abb50&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgit-best-practices-for-sql-5366ab4abb50&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5366ab4abb50&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgit-best-practices-for-sql-5366ab4abb50&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@amseaman?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Andrew Seaman"}, {"url": "https://linktr.ee/kovid", "anchor_text": "best practices"}, {"url": "https://medium.com/@egonelbre/thoughts-on-code-organization-c668e7cc4b96", "anchor_text": "Thoughts on Code OrganizationThere are many ways code could be structured. I was pondering a lot what is the best way. I rather reached an\u2026medium.com"}, {"url": "https://medium.com/@msandin/strategies-for-organizing-code-2c9d690b6f33", "anchor_text": "strategies for code organization"}, {"url": "https://www.red-gate.com/hub/product-learning/sql-source-control/github-and-sql-source-control", "anchor_text": "Git for SQL Server scripts"}, {"url": "https://www.atlassian.com/agile/software-development/code-reviews", "anchor_text": "Why code reviews matter (and actually save time!)Agile teams are self-organising, with skill sets that span across the team. This is accomplished, in part, with code\u2026www.atlassian.com"}, {"url": "https://www.pulumi.com", "anchor_text": "Pulumi - Modern Infrastructure as CodeSetting up the infrastructure to serve a static website is often harder than it seems - but fortunately, this is a task\u2026www.pulumi.com"}, {"url": "https://hackernoon.com/database-changes-can-be-scary-how-r1hy2gfe", "anchor_text": "Fear database changes? Get them under control with CI/CD | Hacker NoonDevelopers often fear database changes because a mistake by anyone on your team can lead to a major outage and even\u2026hackernoon.com"}, {"url": "https://www.linkedin.com/in/caitlinhudon/", "anchor_text": "an amazing post by Caitlin Hudon on her blog"}, {"url": "https://medium.com/tag/git?source=post_page-----5366ab4abb50---------------git-----------------", "anchor_text": "Git"}, {"url": "https://medium.com/tag/coding?source=post_page-----5366ab4abb50---------------coding-----------------", "anchor_text": "Coding"}, {"url": "https://medium.com/tag/best-practices?source=post_page-----5366ab4abb50---------------best_practices-----------------", "anchor_text": "Best Practices"}, {"url": "https://medium.com/tag/programming?source=post_page-----5366ab4abb50---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/data-engineering?source=post_page-----5366ab4abb50---------------data_engineering-----------------", "anchor_text": "Data Engineering"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5366ab4abb50&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgit-best-practices-for-sql-5366ab4abb50&user=Kovid+Rathee&userId=13d513db037&source=-----5366ab4abb50---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5366ab4abb50&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgit-best-practices-for-sql-5366ab4abb50&user=Kovid+Rathee&userId=13d513db037&source=-----5366ab4abb50---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5366ab4abb50&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgit-best-practices-for-sql-5366ab4abb50&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5366ab4abb50--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5366ab4abb50&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgit-best-practices-for-sql-5366ab4abb50&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5366ab4abb50---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5366ab4abb50--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5366ab4abb50--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5366ab4abb50--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5366ab4abb50--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5366ab4abb50--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5366ab4abb50--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5366ab4abb50--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5366ab4abb50--------------------------------", "anchor_text": ""}, {"url": "https://kovidrathee.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://kovidrathee.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kovid Rathee"}, {"url": "https://kovidrathee.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.1K Followers"}, {"url": "https://kovidrathee.medium.com/membership", "anchor_text": "https://kovidrathee.medium.com/membership"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F13d513db037&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgit-best-practices-for-sql-5366ab4abb50&user=Kovid+Rathee&userId=13d513db037&source=post_page-13d513db037--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8154c41b0f77&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fgit-best-practices-for-sql-5366ab4abb50&newsletterV3=13d513db037&newsletterV3Id=8154c41b0f77&user=Kovid+Rathee&userId=13d513db037&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}