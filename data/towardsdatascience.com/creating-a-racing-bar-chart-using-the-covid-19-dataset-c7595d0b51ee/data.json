{"url": "https://towardsdatascience.com/creating-a-racing-bar-chart-using-the-covid-19-dataset-c7595d0b51ee", "time": 1683011690.548825, "path": "towardsdatascience.com/creating-a-racing-bar-chart-using-the-covid-19-dataset-c7595d0b51ee/", "webpage": {"metadata": {"title": "Creating a Racing Bar Chart using the Covid-19 Dataset | by Wei-Meng Lee | Towards Data Science", "h1": "Creating a Racing Bar Chart using the Covid-19 Dataset", "description": "The Covid-19 dataset is a good candidate for exploring and understanding data analytics and visualisation. In this article, I will show you how to create a dynamic chart in matplotlib. In particular\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/sudalairajkumar/novel-corona-virus-2019-dataset", "anchor_text": "https://www.kaggle.com/sudalairajkumar/novel-corona-virus-2019-dataset", "paragraph_index": 4}, {"url": "http://calendar.learn2develop.net", "anchor_text": "http://calendar.learn2develop.net", "paragraph_index": 36}], "all_paragraphs": ["In my previous two articles on data analytics using the Covid-19 dataset, I first", "The Covid-19 dataset is a good candidate for exploring and understanding data analytics and visualisation. In this article, I will show you how to create a dynamic chart in matplotlib. In particular, I will create a racing bar chart to dynamically display the number of confirmed cases in each country as the days go by. At the end of this article, you will be able to see a chart like this:", "For a start, let\u2019s use Jupyter Notebook to clean and filter all the data so that you have a clean dataset. Once the data is prepared, you will then be able to focus on creating the bar chart.", "The first step is to import all the packages that you will be using for this project:", "For this article, I will be using the latest dataset from https://www.kaggle.com/sudalairajkumar/novel-corona-virus-2019-dataset. So be sure to download it and save it in locally on your machine. For my case, I have saved it in a folder named \u201cDataset \u2014 20 July 2020\u201d, relative to the location of my Jupyter Notebook:", "The df_conf DataFrame looks like this:", "With the DataFrame loaded, let\u2019s sort the values by the \u2018Province/State\u2019 and \u2019Country/Region\u2019 columns:", "After the sorting, the df_conf will look like this:", "The next step would be to unpivot the DataFrame so that you now have two new columns Date and Confirmed:", "The unpivoted DataFrame (df_conf_melted) should now look like this:", "The next step would be to format the date stored in the Date column into a Date object:", "The updated df_conf_melted dataframe now looks like this:", "It is now time to sum up all the confirmed cases for each country (regardless of province/state). You can do it using the following statements:", "The df_daily DataFrame now shows you the daily confirmed cases for each country:", "We want to sort the df_dailyDataFrame based on two keys:", "So the following statements accomplish that:", "The df_daily_sorted DataFrame now looks like this:", "One final thing to do, let\u2019s extract the list of countries as a list:", "This will be used in the next section.", "Now that our df_daily_sortedDataFrame is sorted and formatted in the way we want, we can now start to dive into it.", "First, define the top n countries that we want to view:", "Let\u2019s group the df_daily_sorted dataframe by its first level index (level 0, which is Date) and then iterate through it:", "You should see the following output:", "The above dataframe shows the total number of confirmed cases (sorted in descending order) for each country, sorted by Date.", "For each day, extract the top n countries and their number of confirmed cases:", "Notice that I have reversed the order of the countries and confirmed lists using [::1]. This is to ensure that the countries with the most cases will be listed last. Doing so will ensure that later on when you plot a horizontal bar chart using the plt.barh() method, the countries with the most cases will be listed at the top. This is because theplt.barh() method plots the horizontal bars in an upward direction.", "You will see something like this:", "At this juncture, you now basically have all the required data to plot a bar chart displaying the number of confirmed cases for each country in each day.", "You are now ready to display a racing Bar Chart to show the number of confirmed cases for each country. You can\u2019t display a dynamic chart in Jupyter Notebook, and so let\u2019s write the following code and save it as a file named RacingBarChart.py (save it in the same directory where you launched Jupyter Notebook). The code in bold below is the code for plotting the racing bar chart:", "To run the application, type the following in your Terminal/Anaconda Prompt:", "You should now see the racing bar chart:", "If you do not want to display so many countries, adjust the value of the top_n variable:", "And change the size of the figure:", "If you want to speed up the race, change the duration of the pause() function:", "I hope you have the chance to try out the racing bar chart. The Racing bar chart allows information to be presented dynamically and is a very powerful medium to drive your points across. Let me know if you have made any enhancements and I would love to hear from you! See you next time!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "ACLP Certified Trainer | Blockchain, Smart Contract, Data Analytics, Machine Learning, Deep Learning, and all things tech (http://calendar.learn2develop.net)."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc7595d0b51ee&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-racing-bar-chart-using-the-covid-19-dataset-c7595d0b51ee&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-racing-bar-chart-using-the-covid-19-dataset-c7595d0b51ee&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-racing-bar-chart-using-the-covid-19-dataset-c7595d0b51ee&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-racing-bar-chart-using-the-covid-19-dataset-c7595d0b51ee&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c7595d0b51ee--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c7595d0b51ee--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://weimenglee.medium.com/?source=post_page-----c7595d0b51ee--------------------------------", "anchor_text": ""}, {"url": "https://weimenglee.medium.com/?source=post_page-----c7595d0b51ee--------------------------------", "anchor_text": "Wei-Meng Lee"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6599e1e08a48&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-racing-bar-chart-using-the-covid-19-dataset-c7595d0b51ee&user=Wei-Meng+Lee&userId=6599e1e08a48&source=post_page-6599e1e08a48----c7595d0b51ee---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc7595d0b51ee&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-racing-bar-chart-using-the-covid-19-dataset-c7595d0b51ee&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc7595d0b51ee&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-racing-bar-chart-using-the-covid-19-dataset-c7595d0b51ee&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://levelup.gitconnected.com/performing-data-analytics-on-the-covid-19-dataset-using-python-numpy-and-pandas-bdfc352c61e9", "anchor_text": "https://levelup.gitconnected.com/performing-data-analytics-on-the-covid-19-dataset-using-python-numpy-and-pandas-bdfc352c61e9"}, {"url": "https://levelup.gitconnected.com/performing-data-visualization-using-the-covid-19-dataset-47c441747c43", "anchor_text": "https://levelup.gitconnected.com/performing-data-visualization-using-the-covid-19-dataset-47c441747c43"}, {"url": "https://www.kaggle.com/sudalairajkumar/novel-corona-virus-2019-dataset", "anchor_text": "https://www.kaggle.com/sudalairajkumar/novel-corona-virus-2019-dataset"}, {"url": "https://medium.com/tag/racing-bar-chart?source=post_page-----c7595d0b51ee---------------racing_bar_chart-----------------", "anchor_text": "Racing Bar Chart"}, {"url": "https://medium.com/tag/matplotlib?source=post_page-----c7595d0b51ee---------------matplotlib-----------------", "anchor_text": "Matplotlib"}, {"url": "https://medium.com/tag/convid-19?source=post_page-----c7595d0b51ee---------------convid_19-----------------", "anchor_text": "Convid 19"}, {"url": "https://medium.com/tag/pandas?source=post_page-----c7595d0b51ee---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/dataframe?source=post_page-----c7595d0b51ee---------------dataframe-----------------", "anchor_text": "Dataframe"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc7595d0b51ee&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-racing-bar-chart-using-the-covid-19-dataset-c7595d0b51ee&user=Wei-Meng+Lee&userId=6599e1e08a48&source=-----c7595d0b51ee---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc7595d0b51ee&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-racing-bar-chart-using-the-covid-19-dataset-c7595d0b51ee&user=Wei-Meng+Lee&userId=6599e1e08a48&source=-----c7595d0b51ee---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc7595d0b51ee&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-racing-bar-chart-using-the-covid-19-dataset-c7595d0b51ee&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c7595d0b51ee--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc7595d0b51ee&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-racing-bar-chart-using-the-covid-19-dataset-c7595d0b51ee&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c7595d0b51ee---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c7595d0b51ee--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c7595d0b51ee--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c7595d0b51ee--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c7595d0b51ee--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c7595d0b51ee--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c7595d0b51ee--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c7595d0b51ee--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c7595d0b51ee--------------------------------", "anchor_text": ""}, {"url": "https://weimenglee.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://weimenglee.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Wei-Meng Lee"}, {"url": "https://weimenglee.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.4K Followers"}, {"url": "http://calendar.learn2develop.net", "anchor_text": "http://calendar.learn2develop.net"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6599e1e08a48&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-racing-bar-chart-using-the-covid-19-dataset-c7595d0b51ee&user=Wei-Meng+Lee&userId=6599e1e08a48&source=post_page-6599e1e08a48--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb0c0bdcac3ea&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-a-racing-bar-chart-using-the-covid-19-dataset-c7595d0b51ee&newsletterV3=6599e1e08a48&newsletterV3Id=b0c0bdcac3ea&user=Wei-Meng+Lee&userId=6599e1e08a48&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://www.amazon.com/Python-Machine-Learning-Wei-Meng-Lee/dp/1119545633", "anchor_text": "Python Machine Learning2019"}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}