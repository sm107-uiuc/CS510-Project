{"url": "https://towardsdatascience.com/images-and-masks-splitting-into-multiple-pieces-in-python-with-google-colab-2f6b2ddcb322", "time": 1683012046.508405, "path": "towardsdatascience.com/images-and-masks-splitting-into-multiple-pieces-in-python-with-google-colab-2f6b2ddcb322/", "webpage": {"metadata": {"title": "Images and masks splitting into multiple pieces in Python with Google Colab | by Oleksii Sheremet | Towards Data Science", "h1": "Images and masks splitting into multiple pieces in Python with Google Colab", "description": "Data labelers use special annotation tools for objects annotation. For example, the Computer Vision Annotation Tool (CVAT) is widely known in computer vision. Naturally, it is more convenient for\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/opencv/cvat", "anchor_text": "Computer Vision Annotation Tool (CVAT)", "paragraph_index": 0}, {"url": "https://colab.research.google.com/notebooks/io.ipynb", "anchor_text": "This notebook provides recipes for loading and saving data from external sources", "paragraph_index": 13}, {"url": "https://www.researchgate.net/profile/Oleksii_Sheremet", "anchor_text": "https://www.researchgate.net/profile/Oleksii_Sheremet", "paragraph_index": 15}], "all_paragraphs": ["Data labelers use special annotation tools for objects annotation. For example, the Computer Vision Annotation Tool (CVAT) is widely known in computer vision. Naturally, it is more convenient for labelers to work with high-resolution images. This is especially true when you need to mark a large number of objects.", "In one of the roof segmentation tasks that I participated in, it was necessary to highlight triangular segments, quadrangular segments, other segments and edges of the roof. An example of such markup is shown in the following figure (white color for edges, red color for triangles, green color for quadrangles, blue color for other polygons):", "The original images were obtained from Google Earth at 2048x1208 pixels. The masks were annotated by data labelers using CVAT at the same resolution. To train the model, images and masks should be in a lower resolution (from 128x128 to 512x512 pixels). It is well known that image splitting is a technique most often used to slice a large image into smaller parts. Thus, the logical solution was to split the images and their corresponding masks into the parts with the same resolution.", "All code for splitting was implemented in Google Colab. Let\u2019s take a closer look. Import libraries:", "Mount the Google Drive (with images and masks) to Google Colab:", "A useful function for creating a new directory and recursively deleting the contents of an existing one:", "The crop function that goes over the original image are adjusted to the original image limit and contain the original pixels:", "The function for splitting images and masks into smaller parts (the height and width of the cropping window, and the starting number are taken as input parameters):", "Let\u2019s form a list of files with original images and masks and split them:", "As an example, two original images and masks are shown using the following code:", "Using the following function, you can show all parts of the splitted image (divided into 8 parts):", "Let\u2019s see what we got as result of images and masks splitting. For the first image:", "The images and masks splitted using the proposed approach are saved with the same file names in different directories, that is, if the file \u2018./output_dir/images/1_00001.png\u2019 is in the folder with images, then the file \u2018./output_dir/masks/1_00001.png\u2019 will correspond to it in the directory with masks. After splitting the image and mask, you can apply augmentation to each part of it (for example, change brightness, contrast, rotate or flip). To do this, just add the augmentation function.", "This notebook provides recipes for loading and saving data from external sources", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Doctor of Engineering, Professor. Data Scientist at AI Labs | https://www.researchgate.net/profile/Oleksii_Sheremet"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F2f6b2ddcb322&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimages-and-masks-splitting-into-multiple-pieces-in-python-with-google-colab-2f6b2ddcb322&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimages-and-masks-splitting-into-multiple-pieces-in-python-with-google-colab-2f6b2ddcb322&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimages-and-masks-splitting-into-multiple-pieces-in-python-with-google-colab-2f6b2ddcb322&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimages-and-masks-splitting-into-multiple-pieces-in-python-with-google-colab-2f6b2ddcb322&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----2f6b2ddcb322--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2f6b2ddcb322--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@dynamic_phlox_coyote_991?source=post_page-----2f6b2ddcb322--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dynamic_phlox_coyote_991?source=post_page-----2f6b2ddcb322--------------------------------", "anchor_text": "Oleksii Sheremet"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc3f778e21722&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimages-and-masks-splitting-into-multiple-pieces-in-python-with-google-colab-2f6b2ddcb322&user=Oleksii+Sheremet&userId=c3f778e21722&source=post_page-c3f778e21722----2f6b2ddcb322---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2f6b2ddcb322&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimages-and-masks-splitting-into-multiple-pieces-in-python-with-google-colab-2f6b2ddcb322&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2f6b2ddcb322&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimages-and-masks-splitting-into-multiple-pieces-in-python-with-google-colab-2f6b2ddcb322&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/opencv/cvat", "anchor_text": "Computer Vision Annotation Tool (CVAT)"}, {"url": "https://matplotlib.org/", "anchor_text": "matplotlib"}, {"url": "https://matplotlib.org/", "anchor_text": "matplotlib"}, {"url": "https://matplotlib.org/", "anchor_text": "matplotlib"}, {"url": "https://matplotlib.org/", "anchor_text": "matplotlib"}, {"url": "https://pillow.readthedocs.io/en/stable/", "anchor_text": "Pillow (PIL Fork)"}, {"url": "https://github.com/opencv/cvat", "anchor_text": "Computer Vision Annotation Tool (CVAT)"}, {"url": "https://colab.research.google.com/notebooks/io.ipynb", "anchor_text": "This notebook provides recipes for loading and saving data from external sources"}, {"url": "https://medium.com/tag/annotation-tools?source=post_page-----2f6b2ddcb322---------------annotation_tools-----------------", "anchor_text": "Annotation Tools"}, {"url": "https://medium.com/tag/masks?source=post_page-----2f6b2ddcb322---------------masks-----------------", "anchor_text": "Masks"}, {"url": "https://medium.com/tag/splitting?source=post_page-----2f6b2ddcb322---------------splitting-----------------", "anchor_text": "Splitting"}, {"url": "https://medium.com/tag/image-segmentation?source=post_page-----2f6b2ddcb322---------------image_segmentation-----------------", "anchor_text": "Image Segmentation"}, {"url": "https://medium.com/tag/computer-vision?source=post_page-----2f6b2ddcb322---------------computer_vision-----------------", "anchor_text": "Computer Vision"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2f6b2ddcb322&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimages-and-masks-splitting-into-multiple-pieces-in-python-with-google-colab-2f6b2ddcb322&user=Oleksii+Sheremet&userId=c3f778e21722&source=-----2f6b2ddcb322---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2f6b2ddcb322&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimages-and-masks-splitting-into-multiple-pieces-in-python-with-google-colab-2f6b2ddcb322&user=Oleksii+Sheremet&userId=c3f778e21722&source=-----2f6b2ddcb322---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2f6b2ddcb322&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimages-and-masks-splitting-into-multiple-pieces-in-python-with-google-colab-2f6b2ddcb322&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2f6b2ddcb322--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F2f6b2ddcb322&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimages-and-masks-splitting-into-multiple-pieces-in-python-with-google-colab-2f6b2ddcb322&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----2f6b2ddcb322---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----2f6b2ddcb322--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----2f6b2ddcb322--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----2f6b2ddcb322--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----2f6b2ddcb322--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----2f6b2ddcb322--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----2f6b2ddcb322--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----2f6b2ddcb322--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----2f6b2ddcb322--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dynamic_phlox_coyote_991?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dynamic_phlox_coyote_991?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Oleksii Sheremet"}, {"url": "https://medium.com/@dynamic_phlox_coyote_991/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "41 Followers"}, {"url": "https://www.researchgate.net/profile/Oleksii_Sheremet", "anchor_text": "https://www.researchgate.net/profile/Oleksii_Sheremet"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc3f778e21722&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimages-and-masks-splitting-into-multiple-pieces-in-python-with-google-colab-2f6b2ddcb322&user=Oleksii+Sheremet&userId=c3f778e21722&source=post_page-c3f778e21722--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F19953c66acb8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimages-and-masks-splitting-into-multiple-pieces-in-python-with-google-colab-2f6b2ddcb322&newsletterV3=c3f778e21722&newsletterV3Id=19953c66acb8&user=Oleksii+Sheremet&userId=c3f778e21722&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}