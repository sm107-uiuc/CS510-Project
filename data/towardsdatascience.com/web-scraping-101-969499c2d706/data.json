{"url": "https://towardsdatascience.com/web-scraping-101-969499c2d706", "time": 1683002186.5227442, "path": "towardsdatascience.com/web-scraping-101-969499c2d706/", "webpage": {"metadata": {"title": "Web Scraping 101. Use Python To Quickly Scrape Data From\u2026 | by Tony Yiu | Towards Data Science", "h1": "Web Scraping 101", "description": "There\u2019s always a couple data science tools that I end up using once every few weeks \u2014 not often enough for them to become second nature, but frequently enough that I get annoyed when I catch myself\u2026"}, "outgoing_paragraph_urls": [{"url": "https://toppubs.smedian.com/", "anchor_text": "https://toppubs.smedian.com/", "paragraph_index": 3}, {"url": "https://github.com/yiuhyuk/publications", "anchor_text": "For the entire code, you can go to my Github.", "paragraph_index": 3}, {"url": "https://tonester524.medium.com/membership", "anchor_text": "https://tonester524.medium.com/membership", "paragraph_index": 31}], "all_paragraphs": ["There\u2019s always a couple data science tools that I end up using once every few weeks \u2014 not often enough for them to become second nature, but frequently enough that I get annoyed when I catch myself Googling it for the umpteenth time. Web scraping is one example of that, so today\u2019s blog is as much for my future self as it is for you.", "Web scraping is a really useful skill for the budding data scientist. When we attempt to analyze something, we often need to supplement the data that we have with additional data that we find online. Web scraping allows us to automate this data collection process.", "In today\u2019s post, we will use Python to scrape a website in order to learn the ins and outs of web scraping.", "We will scrape the website https://toppubs.smedian.com/ to get data on the top 100 Medium publications. For the entire code, you can go to my Github.", "First, we need to import the packages that we will need. Besides the usual, we will take advantage of the BeautifulSoup and requests Python packages to help us grab and parse the website\u2019s data (I threw in the re package too in case I needed to use regular expressions).", "Now let\u2019s grab the data from the website. We use the get method from the requests package to ping the website and grab its data. And then use BeautifulSoup to structure it in a more user friendly format so that we can start working with it:", "Here is what the first few lines of page_response.content looks like (it\u2019s a mess right?):", "After we run it through BeautifulSoup, it looks like this (a bit more organized):", "It\u2019s still a lot to take in, but now it looks more parseable. Now let\u2019s take a look at the actual website to find what we are interested in scraping. Here\u2019s a snapshot of the website:", "The table of the top 100 Medium publications (the bottom half of the previous picture) contains the data that we are interested in. We can find out where that data lives by examining the page\u2019s source code. To do this just hover your mouse over the part of the page that you are interested in, right click, and select \u201cInspect\u201d.", "This will open up a side pane that allows you to look at the page\u2019s source code. For example, if we are interested in scraping the number of subscribers, we inspect the 603,567 subscribers (highlighted in blue on the left). This opens the pane on the right where we can see that to get the number of subscribers, we should be looking for the <a> tags (this is an HTML tag, I know very little about HTML so pardon the lack of explanation) in our BeautifulSoup object. Recall that our BeautifulSoup object is the variable, page_content.", "There are 100 rows in this table (it lists the top 100 publications after all). So we should use a loop to go through it. But what do we loop through? If we inspect the entire row, we see that each row is denoted by the HTML tag <div class=\u201drow\u201d>.", "So our loop should find each of these tags and then grab the content. We can do this using the find_all method \u2014 we use it to find all elements in page_content with tag = \u2018div\u2019 and class = \u2018row\u2019. The find_all method returns a list which we can iterate through:", "First, let\u2019s open up the row variable to see what\u2019s inside. It\u2019s quite dense. We will probably need to use the find_all method to filter it further.", "In the pub variable (from our for loop code above) we are grabbing the name of the publication. We know that the data lives somewhere in the row variable but where? To find it, we can inspect the webpage again. I inspected the part of the page highlighted in blue and it told me to look for the tag \u2018a\u2019 and the class \u2018link u-colorLightGrey u-fontWeight400 u-fontSize12px ng-binding\u2019. Quite a mouthful!", "Once we know what to look for, we can use the find_all method to locate it (this is the same line of code as in our for loop above):", "Let\u2019s take a look at what\u2019s inside the pub variable:", "Now we\u2019re talking! Inside pub, we see \u201cfreeCodeCamp.org\u201d, the name of the publication. All we have to do now is parse pub and grab what we want. We can do so using the method text:", "So close, we just need to get rid of the newline characters. We can use the String method split to do so:", "Splitting on the newline character produces this output:", "The name of the publication is the second element of this list so we grab that and are good to go:", "Let\u2019s quickly run through one more example to make sure we understand the ins and outs of web scraping. Now that we have the publication\u2019s name, we also want to know how many readers are subscribed to it. Earlier, we already discovered where the data lives in the page\u2019s source code:", "If we take out our magnifying lenses and read the source code, we see that we are looking for elements tagged \u2018a\u2019 and with class equal to \u2018link u-colorLightGrey u-fontWeight400 u-fontSize12px ng-binding\u2019. If we refer back to our for loop code above, we see that we used the find_all method to grab the relevant element and stored it in the variable detail.", "If we display it, we see that the detail variable is a list-like with 5 elements. The first element has the number of subscribers, detail[0] looks like this:", "The value, 603,567, is what we want so let\u2019s go ahead and grab it with the following line of code:", "Cool, now all we have to do is grab the second element:", "Before we can do any analysis with it, we need to convert it to an integer (by removing the comma and then casting it as an integer):", "If we run the entirety of the code in my GitHub, it produces the following dataframe:", "Hurray, all done. Hopefully, this tutorial-style blog was useful. Cheers!", "More Data Science and Business Related Posts By Me:", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data scientist. Founder Alpha Beta Blog. Doing my best to explain the complex in plain English. Support my writing: https://tonester524.medium.com/membership"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F969499c2d706&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-101-969499c2d706&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-101-969499c2d706&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-101-969499c2d706&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-101-969499c2d706&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----969499c2d706--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----969499c2d706--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://tonester524.medium.com/?source=post_page-----969499c2d706--------------------------------", "anchor_text": ""}, {"url": "https://tonester524.medium.com/?source=post_page-----969499c2d706--------------------------------", "anchor_text": "Tony Yiu"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F840a3210fbe7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-101-969499c2d706&user=Tony+Yiu&userId=840a3210fbe7&source=post_page-840a3210fbe7----969499c2d706---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F969499c2d706&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-101-969499c2d706&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F969499c2d706&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-101-969499c2d706&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@pankajpatel?utm_source=medium&utm_medium=referral", "anchor_text": "Pankaj Patel"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://toppubs.smedian.com/", "anchor_text": "https://toppubs.smedian.com/"}, {"url": "https://github.com/yiuhyuk/publications", "anchor_text": "For the entire code, you can go to my Github."}, {"url": "https://toppubs.smedian.com/'", "anchor_text": "https://toppubs.smedian.com/'"}, {"url": "https://towardsdatascience.com/understanding-rnns-recurrent-neural-networks-479cd0da9760", "anchor_text": "Understanding RNNs"}, {"url": "https://towardsdatascience.com/business-strategy-for-data-scientists-25e3ca0af5ee", "anchor_text": "Business Strategy For Data Scientists"}, {"url": "https://towardsdatascience.com/project-or-no-project-307f6148a16d", "anchor_text": "Project Or No Project?"}, {"url": "https://towardsdatascience.com/business-simulations-with-python-a70d6cba92c8", "anchor_text": "Business Simulations With Python"}, {"url": "https://towardsdatascience.com/understanding-pca-fae3e243731d?source=post_page---------------------------", "anchor_text": "Understanding PCA"}, {"url": "https://towardsdatascience.com/understanding-bayes-theorem-7e31b8434d4b", "anchor_text": "Understanding Bayes\u2019 Theorem"}, {"url": "https://medium.com/tag/web-scraping?source=post_page-----969499c2d706---------------web_scraping-----------------", "anchor_text": "Web Scraping"}, {"url": "https://medium.com/tag/programming?source=post_page-----969499c2d706---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/technology?source=post_page-----969499c2d706---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/data-science?source=post_page-----969499c2d706---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/education?source=post_page-----969499c2d706---------------education-----------------", "anchor_text": "Education"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F969499c2d706&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-101-969499c2d706&user=Tony+Yiu&userId=840a3210fbe7&source=-----969499c2d706---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F969499c2d706&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-101-969499c2d706&user=Tony+Yiu&userId=840a3210fbe7&source=-----969499c2d706---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F969499c2d706&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-101-969499c2d706&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----969499c2d706--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F969499c2d706&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-101-969499c2d706&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----969499c2d706---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----969499c2d706--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----969499c2d706--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----969499c2d706--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----969499c2d706--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----969499c2d706--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----969499c2d706--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----969499c2d706--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----969499c2d706--------------------------------", "anchor_text": ""}, {"url": "https://tonester524.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://tonester524.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Tony Yiu"}, {"url": "https://tonester524.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "102K Followers"}, {"url": "https://tonester524.medium.com/membership", "anchor_text": "https://tonester524.medium.com/membership"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F840a3210fbe7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-101-969499c2d706&user=Tony+Yiu&userId=840a3210fbe7&source=post_page-840a3210fbe7--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F78d3e392d884&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fweb-scraping-101-969499c2d706&newsletterV3=840a3210fbe7&newsletterV3Id=78d3e392d884&user=Tony+Yiu&userId=840a3210fbe7&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}