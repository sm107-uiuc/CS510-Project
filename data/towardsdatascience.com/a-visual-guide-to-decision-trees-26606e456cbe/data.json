{"url": "https://towardsdatascience.com/a-visual-guide-to-decision-trees-26606e456cbe", "time": 1683011097.889219, "path": "towardsdatascience.com/a-visual-guide-to-decision-trees-26606e456cbe/", "webpage": {"metadata": {"title": "A Visual Guide to Decision Trees. An intuitive visual guide to a powerful\u2026 | by Cheshta Dhingra | Towards Data Science", "h1": "A Visual Guide to Decision Trees", "description": "Have you ever wondered why certain states tend to vote Republican while others vote Democrat? Is there a way to predict which way a state will vote in any given year? Let\u2019s say we want to predict\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.census.gov/data/tables/time-series/demo/income-poverty/historical-income-households.html", "anchor_text": "Census data", "paragraph_index": 15}, {"url": "http://ates_and_territories_by_educational_attainment", "anchor_text": "2013\u20132017 American Community Survey", "paragraph_index": 15}, {"url": "https://www.kff.org/other/state-indicator/distribution-by-raceethnicity/?currentTimeframe=0&sortModel=%7B%22colId%22:%22Location%22,%22sort%22:%22asc%22%7D", "anchor_text": "Kaiser Family Foundation estimates based on the Census Bureau\u2019s American Community Survey, 2008\u20132018", "paragraph_index": 15}], "all_paragraphs": ["Have you ever wondered why certain states tend to vote Republican while others vote Democrat? Is there a way to predict which way a state will vote in any given year? Let\u2019s say we want to predict whether a state is \u201cred\u201d or \u201cblue\u201d based on a few variables that we observe about it. To do this, we\u2019ll use Decision Trees.", "Decision trees are both a classification and regression supervised learning model used to predict the value of a target variable (Y) using information from several input variables (Xs).", "As the name suggests, the model is visually represented as an upside-down tree-like structure with the dataset being broken into smaller and smaller subsets as the tree grows. Each internal node or decision node contains a simple \u201ctrue or false\u201d question to be answered about a particular X variable. Based on this, the tree splits into branches \u2014 one branch representing true and the other false. At the end of each branch is another question. This recursive process continues and the tree gets deeper and wider with each decision made till it ends in a leaf node that makes a prediction.", "Let\u2019s take an example dataset. We have the Y variable \u2014 whether a state is red or blue and we have 3 X variables: Education*, Income** and Racial Diversity***. Now let\u2019s try to construct a decision tree to predict a state\u2019s political leaning, i.e. whether it\u2019s red or blue based on these 3 variables.", "You might wonder how decision trees make splits when a variable is continuous or numerical in nature instead of being a simple boolean (true or false). The answer is very simple. Under the hood, we create multiple variables that represent splitting the continuous variable at different thresholds. These splits are usually made at different deciles or quartiles of that variable. In our case, let\u2019s just use the median of each variable as the single threshold. We\u2019ll convert these continuous variables into binary or boolean variables by setting the value equal to FALSE if the value is less than the median and TRUE if it\u2019s greater than the median. These are now boolean features.", "Let\u2019s now begin creating the decision tree. To create the first decision node, we have to pick a variable to split on. Decision Trees use a criterion called Information Gain to pick the right variable to look at. Information Gain is a measure of how much we know about Y after looking at X. For example, if we were to randomly predict the political leaning of a state having no other information, the probability that the state is red is \u00bd. However, if we know some other information about that state, we can update our belief about that probability.", "Let\u2019s see what happens when we split the tree at each of our 3 X variables one by one.", "When we split on education, we see that the TRUE branch which contains states with education above the median, has mostly blue states and one red state. The FALSE branch, or states with education below the median, has mostly red states, and a few blue ones.", "When we split on racial diversity, we see that the TRUE branch which contains states with diversity above the median, has mostly blue states. The FALSE branch, or states with diversity below the median, has an almost equal number of red and blue states. This means that knowing a state is not diverse does not meaningfully indicate political leaning.", "Finally, let\u2019s see what happens when we split on income. Here, the TRUE branch which contains states with income above the median, has mostly blue states. And the FALSE branch, or states with income below the median, has an almost equal number of red and blue states. This means that knowing that a state has below median income also does not meaningfully indicate political leaning.", "After comparing each possible variable to split on, the decision tree picks the one that leads to the purest branches. In our case, splitting on education leads to the purest branches because the TRUE branch contains only 1 red state and the FALSE branch contains half as many blue states as red ones. The Information Gain from education is high. Splitting on racial diversity would have been the worst choice. Although the TRUE branch contains mostly blue states, the FALSE branch is basically 50:50 red and blue. Knowing the state lacks diversity adds almost no new information to the model. The Information Gain from racial diversity is very low.", "After making the first split on education, we now look at the two resulting branches and once again look at which variables we can split on to further purify our branches. This continues until we reach pure branches or the maximum depth of the tree. Our final tree is below, and it has an accuracy of about 80%. This is awesome, considering we only had 3 variables to work with.", "You might ask: \u201cWhy don\u2019t we simply split on every feature and make the tree as long as it needs to be to get a model that perfectly fits the data?\u201d", "This isn\u2019t a bad idea if you have a dataset that is super-representative of the population that you are studying. However, the problem is that your model might start to make so many splits that it learns the quirks of your particular dataset, and fails to fit additional data or make reliable predictions. This is such a common problem that it has a name: Overfitting. Overfitting is a problem that is encountered when a model has too much capacity. So, in general we reduce the capacity of these trees by restricting the number of splits i.e. limiting the depth of the trees.", "Decision trees are by far some of the most common models deployed in the world. Their simple and efficient nature, as well as their ability to be combined into very powerful models such as random forests and gradient boosted trees make them many developers\u2019 favorite. Stay tuned to learn about these in the future.", "*Median Household Income by State (Census data)** % Bachelor\u2019s degree or higher (2013\u20132017 American Community Survey)*** % Non-White Population (Kaiser Family Foundation estimates based on the Census Bureau\u2019s American Community Survey, 2008\u20132018)", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Passionate about data science, healthcare, and exploring complex concepts through a visual narrative."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F26606e456cbe&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-visual-guide-to-decision-trees-26606e456cbe&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-visual-guide-to-decision-trees-26606e456cbe&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-visual-guide-to-decision-trees-26606e456cbe&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-visual-guide-to-decision-trees-26606e456cbe&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----26606e456cbe--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----26606e456cbe--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://cheshta-dhingra.medium.com/?source=post_page-----26606e456cbe--------------------------------", "anchor_text": ""}, {"url": "https://cheshta-dhingra.medium.com/?source=post_page-----26606e456cbe--------------------------------", "anchor_text": "Cheshta Dhingra"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb7b1225f89&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-visual-guide-to-decision-trees-26606e456cbe&user=Cheshta+Dhingra&userId=b7b1225f89&source=post_page-b7b1225f89----26606e456cbe---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F26606e456cbe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-visual-guide-to-decision-trees-26606e456cbe&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F26606e456cbe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-visual-guide-to-decision-trees-26606e456cbe&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://en.wikipedia.org/wiki/Political_party_strength_in_U.S._states", "anchor_text": "Wikipedia"}, {"url": "https://colab.research.google.com/drive/1Z1aiXravQxrUKJbk1ciTy0DZ_yhBopZS?usp=sharing", "anchor_text": "this link"}, {"url": "https://www.census.gov/data/tables/time-series/demo/income-poverty/historical-income-households.html", "anchor_text": "Census data"}, {"url": "http://ates_and_territories_by_educational_attainment", "anchor_text": "2013\u20132017 American Community Survey"}, {"url": "https://www.kff.org/other/state-indicator/distribution-by-raceethnicity/?currentTimeframe=0&sortModel=%7B%22colId%22:%22Location%22,%22sort%22:%22asc%22%7D", "anchor_text": "Kaiser Family Foundation estimates based on the Census Bureau\u2019s American Community Survey, 2008\u20132018"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----26606e456cbe---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----26606e456cbe---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/decision-tree?source=post_page-----26606e456cbe---------------decision_tree-----------------", "anchor_text": "Decision Tree"}, {"url": "https://medium.com/tag/statistics?source=post_page-----26606e456cbe---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/economics?source=post_page-----26606e456cbe---------------economics-----------------", "anchor_text": "Economics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F26606e456cbe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-visual-guide-to-decision-trees-26606e456cbe&user=Cheshta+Dhingra&userId=b7b1225f89&source=-----26606e456cbe---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F26606e456cbe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-visual-guide-to-decision-trees-26606e456cbe&user=Cheshta+Dhingra&userId=b7b1225f89&source=-----26606e456cbe---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F26606e456cbe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-visual-guide-to-decision-trees-26606e456cbe&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----26606e456cbe--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F26606e456cbe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-visual-guide-to-decision-trees-26606e456cbe&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----26606e456cbe---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----26606e456cbe--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----26606e456cbe--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----26606e456cbe--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----26606e456cbe--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----26606e456cbe--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----26606e456cbe--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----26606e456cbe--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----26606e456cbe--------------------------------", "anchor_text": ""}, {"url": "https://cheshta-dhingra.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://cheshta-dhingra.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Cheshta Dhingra"}, {"url": "https://cheshta-dhingra.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "102 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb7b1225f89&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-visual-guide-to-decision-trees-26606e456cbe&user=Cheshta+Dhingra&userId=b7b1225f89&source=post_page-b7b1225f89--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F4e6f306084ae&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-visual-guide-to-decision-trees-26606e456cbe&newsletterV3=b7b1225f89&newsletterV3Id=4e6f306084ae&user=Cheshta+Dhingra&userId=b7b1225f89&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}