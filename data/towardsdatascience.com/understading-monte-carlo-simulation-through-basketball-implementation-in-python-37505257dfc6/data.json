{"url": "https://towardsdatascience.com/understading-monte-carlo-simulation-through-basketball-implementation-in-python-37505257dfc6", "time": 1683017074.290505, "path": "towardsdatascience.com/understading-monte-carlo-simulation-through-basketball-implementation-in-python-37505257dfc6/", "webpage": {"metadata": {"title": "Understanding Monte Carlo Simulation Through Basketball | by Vinicius Monteiro | Towards Data Science", "h1": "Understanding Monte Carlo Simulation Through Basketball", "description": "Monte Carlo Simulation is a type of simulation where the events are chosen to happen randomly. By iterating and trying out various outcomes many times, arbitrarily, it gives great confidence in the\u2026"}, "outgoing_paragraph_urls": [{"url": "https://twitter.com/vinidsmonteiro", "anchor_text": "https://twitter.com/vinidsmonteiro", "paragraph_index": 22}], "all_paragraphs": ["Monte Carlo Simulation is a type of simulation where the events are chosen to happen randomly. By iterating and trying out various outcomes many times, arbitrarily, it gives great confidence in the result. [1] The name comes from Monte Carlo, located in Monaco, known for its strong gambling activity.", "Let\u2019s use a simple example, a coin toss. Suppose we don\u2019t know, and it\u2019s not easy to calculate the percentage of landing heads or tails. If you toss the coin 10 times and 9 out of 10 it lands on heads, does it mean it\u2019s 90% heads and 10% tails? Of course not. It was merely luck.", "The way to increase the confidence on the correct percentage of each side is to throw a lot more times than 10, let\u2019s say 500 times. The count of tails and heads should come out more evenly.", "For a coin toss, definitely, there is no need to do such a simulation to know the result. However, often, there are complex use cases with many variables and paths, which is hard to calculate the probability. That\u2019s where Monte Carlo Simulation can be a powerful tool. It can predict something with accuracy by letting the scenario, with all the conditions, evolve randomly. It\u2019s used in Project Management, Artificial Intelligence and to help to make decisions in general.", "To provide you with a better perspective on what I\u2019ve explained and to have some fun, I\u2019m going to demonstrate how it works through a specific scenario that can happen at the end of a game of basketball.", "Basketball is a complex sport (isn\u2019t it just about putting a ball in a basket?!). It has many constraints and conditions that are constantly being analysed to make the best decision. Players and coaches are always watching for the right position on the court, time on the clock, the number of fouls, timeouts left and more. There are a lot of variables that come into play, literally.", "It\u2019s often compared to Chess as some characteristics are similar. For example, each player/piece has its role and function. Many both games are about opening lines and creating space, misleading. \u2018fakes\u2019 are also key. Both games make extensive use of set plays that explore these aspects.", "The most crucial part of the game, without a doubt, is the end when scores are closed, within two or three points difference, for example. A team can win or lose in a blink of an eye, forcing players and coaches to get the most creative.", "A common situation is: A team is down by three points, with 30 seconds left on the clock \u2014 is it better to try to take the three (a longer, hence more difficult shot) to tie and go to overtime, OR to try a quick two (usually shorter, easier shot), try to intentionally foul a bad free throw shooter in next possession \u2014 hoping that he/she misses one-shot or both \u2014 and go for another quick easier two and possibly win the game, or go to overtime?", "Salman Khan, from Khan Academy, addressed exactly this situation [2]. Lebron James asked a question, for which Salman Khan answered and demonstrated the best decision using Monte Carlo simulation.", "In this post, I\u2019ll do the same, but with one minor difference. I\u2019m going to take into account that according to NBA rules, a player can\u2019t simply intentionally foul ANY player from the other team with under two minutes left in the game. It has to be the one with the ball. Otherwise, there are consequences.", "With under two minutes left in the game (and from 2016, at the end of any quarter), if a player fouls another player that is away from the ball, the team is awarded one free throw and retains possession of the ball, there is no opportunity for the rebound. It\u2019s crucial to emphasize that the TEAM is awarded one free throw \u2014 this means that the team can select any player on the floor to attempt the shot (most likely a high percentage free throw shooter) [3].", "In general, the algorithm mimics the real game. It randomly tests different combinations of plays inside a loop and counts how many times the team won by taking the three or the two-plus intentional foul. The bigger number of trials / the loop, the more reliable the results are. There is a threshold for which increasing the number of trials doesn\u2019t make much difference; the program will take longer to finish without adding much value.", "Overall the code is divided into five sections:", "Here you can see the result without considering the foul-away-from-the-ball rule. Taking the three is just about better.", "By tweaking it a little bit, the opponent\u2019s free throw percentage, from 65% to 40%, for example, taking the two, becomes the best option. This is maybe even more realistic, assuming that the player fouled can be the one away from the ball. It\u2019s not uncommon to have such a bad free throw shooter in a team.", "To consider the rule and penalty that awards one free throw shot and retaining the ball, I added a small change in sim_take_two. In the while loop, I added the logic to check if the bad free throw shooter has the ball or not. If he/she does it, the normal two free throws plus rebound flow is followed. Otherwise (if fouled away from the ball), a team player attempts one shot and retains the possession. See below the snippet and full code.", "For this scenario, it\u2019s assumed that the team has a 40% free throw shooter on the floor that might end up with the ball and a high percentage one that the team would select to shoot the free throw if the foul is away from the ball.", "Another significant constraint is the percentage that the ball is inbounded to the bad free throw shooter. The losing team would have to work really hard to force this situation. I was generous and set it to a 50% chance to happen.", "With this rule, it becomes almost illogical for the team to try to win by going for the quick two-plus intentional foul under two minutes. The fact that the current winning team gets to retain the ball is a great advantage. It\u2019s an effective rule to stop \u2018Hack-a-Shaq\u2019. Named after one of the worst free-throw shooters: Shaquille O\u2019neal. Also, because the team can select any player to attempt the shot, it is even harder. If that weren\u2019t the case, it would be less impossible. But still, the bad free throw shooter would have to have as low as a 15% average to make sense \u2014 Below is the result following this logic.", "What\u2019s the answer? Is it better to take the three or quick two-plus intentional foul? It is definitely better to take the three. Especially considering the away-from-the-ball rule. Without considering this rule, if the team has a terrible free-throw shooter, bad as 40%, for example. Then taking the two-plus intentional foul could be considered. It depends on other variables as well, such as rebound percentage. Lastly, considering how the NBA game has evolved to have more prolific three-point shooters, it\u2019s natural to favour shooting the three.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Principal Software Developer at Oracle - MySQL Database Service on OCI (views here my own) | https://twitter.com/vinidsmonteiro | vinidsmonteiro@gmail.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F37505257dfc6&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstading-monte-carlo-simulation-through-basketball-implementation-in-python-37505257dfc6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstading-monte-carlo-simulation-through-basketball-implementation-in-python-37505257dfc6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstading-monte-carlo-simulation-through-basketball-implementation-in-python-37505257dfc6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstading-monte-carlo-simulation-through-basketball-implementation-in-python-37505257dfc6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----37505257dfc6--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----37505257dfc6--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://vinimo.medium.com/?source=post_page-----37505257dfc6--------------------------------", "anchor_text": ""}, {"url": "https://vinimo.medium.com/?source=post_page-----37505257dfc6--------------------------------", "anchor_text": "Vinicius Monteiro"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff4d81e5b1cb1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstading-monte-carlo-simulation-through-basketball-implementation-in-python-37505257dfc6&user=Vinicius+Monteiro&userId=f4d81e5b1cb1&source=post_page-f4d81e5b1cb1----37505257dfc6---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F37505257dfc6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstading-monte-carlo-simulation-through-basketball-implementation-in-python-37505257dfc6&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F37505257dfc6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstading-monte-carlo-simulation-through-basketball-implementation-in-python-37505257dfc6&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@markusspiske?utm_source=medium&utm_medium=referral", "anchor_text": "Markus Spiske"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-00sc-introduction-to-computer-science-and-programming-spring-2011/unit-2/lecture-14-sampling-and-monte-carlo-simulation/", "anchor_text": "https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-00sc-introduction-to-computer-science-and-programming-spring-2011/unit-2/lecture-14-sampling-and-monte-carlo-simulation/"}, {"url": "https://www.youtube.com/watch?v=-fCVxTTAtFQ", "anchor_text": "https://www.youtube.com/watch?v=-fCVxTTAtFQ"}, {"url": "https://official.nba.com/rulebook/", "anchor_text": "https://official.nba.com/rulebook/"}, {"url": "https://medium.com/tag/monte-carlo?source=post_page-----37505257dfc6---------------monte_carlo-----------------", "anchor_text": "Monte Carlo"}, {"url": "https://medium.com/tag/python?source=post_page-----37505257dfc6---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/basketball?source=post_page-----37505257dfc6---------------basketball-----------------", "anchor_text": "Basketball"}, {"url": "https://medium.com/tag/programming?source=post_page-----37505257dfc6---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/software-development?source=post_page-----37505257dfc6---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F37505257dfc6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstading-monte-carlo-simulation-through-basketball-implementation-in-python-37505257dfc6&user=Vinicius+Monteiro&userId=f4d81e5b1cb1&source=-----37505257dfc6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F37505257dfc6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstading-monte-carlo-simulation-through-basketball-implementation-in-python-37505257dfc6&user=Vinicius+Monteiro&userId=f4d81e5b1cb1&source=-----37505257dfc6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F37505257dfc6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstading-monte-carlo-simulation-through-basketball-implementation-in-python-37505257dfc6&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----37505257dfc6--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F37505257dfc6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstading-monte-carlo-simulation-through-basketball-implementation-in-python-37505257dfc6&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----37505257dfc6---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----37505257dfc6--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----37505257dfc6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----37505257dfc6--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----37505257dfc6--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----37505257dfc6--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----37505257dfc6--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----37505257dfc6--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----37505257dfc6--------------------------------", "anchor_text": ""}, {"url": "https://vinimo.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://vinimo.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Vinicius Monteiro"}, {"url": "https://vinimo.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "812 Followers"}, {"url": "https://twitter.com/vinidsmonteiro", "anchor_text": "https://twitter.com/vinidsmonteiro"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff4d81e5b1cb1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstading-monte-carlo-simulation-through-basketball-implementation-in-python-37505257dfc6&user=Vinicius+Monteiro&userId=f4d81e5b1cb1&source=post_page-f4d81e5b1cb1--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F637fcc179f5b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstading-monte-carlo-simulation-through-basketball-implementation-in-python-37505257dfc6&newsletterV3=f4d81e5b1cb1&newsletterV3Id=637fcc179f5b&user=Vinicius+Monteiro&userId=f4d81e5b1cb1&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}