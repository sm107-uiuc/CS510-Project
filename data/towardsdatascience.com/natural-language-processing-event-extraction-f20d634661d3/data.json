{"url": "https://towardsdatascience.com/natural-language-processing-event-extraction-f20d634661d3", "time": 1682996025.7145479, "path": "towardsdatascience.com/natural-language-processing-event-extraction-f20d634661d3/", "webpage": {"metadata": {"title": "Natural Language Processing \u2014 Event Extraction | by Rodrigo Nader | Towards Data Science", "h1": "Natural Language Processing \u2014 Event Extraction", "description": "The amount of text generated every day is mind-blowing. Millions of data feeds are published in the form of news articles, blogs, messages, manuscripts, and countless more, and the ability to\u2026"}, "outgoing_paragraph_urls": [{"url": "https://eventregistry.org/", "anchor_text": "EventRegistry", "paragraph_index": 5}, {"url": "https://primer.ai/", "anchor_text": "Primer.AI", "paragraph_index": 5}, {"url": "https://newsapi.org/", "anchor_text": "newsapi", "paragraph_index": 7}, {"url": "https://machinelearningmastery.com/clean-text-machine-learning-python/", "anchor_text": "here is a nice tutorial", "paragraph_index": 10}, {"url": "https://spacy.io/models/en#en_core_web_lg", "anchor_text": "en_core_web_lg", "paragraph_index": 11}, {"url": "https://github.com/epfml/sent2vec", "anchor_text": "Sent2Vec", "paragraph_index": 12}, {"url": "https://github.com/ryankiros/skip-thoughts", "anchor_text": "SkipThoughts", "paragraph_index": 12}, {"url": "https://medium.com/jatana/unsupervised-text-summarization-using-sentence-embeddings-adb15ce83db1", "anchor_text": "This article", "paragraph_index": 12}, {"url": "https://scikit-learn.org/stable/modules/generated/sklearn.cluster.DBSCAN.html", "anchor_text": "Scikit Learn", "paragraph_index": 22}, {"url": "https://spacy.io/usage/linguistic-features", "anchor_text": "POS tagging and NER", "paragraph_index": 31}], "all_paragraphs": ["The amount of text generated every day is mind-blowing. Millions of data feeds are published in the form of news articles, blogs, messages, manuscripts, and countless more, and the ability to automatically organize and handle them is becoming indispensable.", "With improvements in neural network algorithms, significant computer power increase, and easy access to comprehensive frameworks, Natural Language Processing never seemed so appealing. One of its common applications is called Event Extraction, which is the process of gathering knowledge about periodical incidents found in texts, automatically identifying information about what happened and when it happened.", "2018/10 \u2014 President Donald Trump\u2019s government banned countries from importing Iranian oil with exemptions to seven countries.", "2019/04 \u2014 US Secretary of State Mike Pompeo announced that his country would open no more exception after the deadline.", "2019/05 \u2014 The United States ended with exemptions that allowed countries to import oil from Iran without suffering from US sanctions.", "This ability to contextualize information allows us to connect time distributed events and assimilate their effects, and how a set of episodes unfolds through time. Those are valuable insights that drive organizations like EventRegistry and Primer.AI, which provide the technology to different market sectors.", "In this article, we\u2019re going to build a simple Event Extraction script that takes in news feeds and outputs the events.", "The first step is to gather the data. It could be any type of text content as long as it can be represented in a timeline. Here I chose to use newsapi, a simple news source API with a free developer plan of up to 500 requests a day. Following are the functions built to handle the requests:", "That last function returns a list of approximately 2.000 articles, given a specific query. Our purpose is just to extract events, so, in order to simplify the process, we\u2019re keeping only the titles (in theory, titles should comprise the core message behind the news).", "That leaves us with a data frame like the one below, including dates, descriptions, and titles.", "With our titles ready, we need to represent them in a machine-readable way. Notice that we\u2019re skipping a whole stage of pre-processing here, since that\u2019s not the purpose of the article. But if you are starting with NLP, make sure to include those basic pre-processing steps before applying the models \u2192 here is a nice tutorial.", "To give meaning to independent words and, therefore, whole sentences, let\u2019s use Spacy\u2019s pre-trained word embeddings model (en_core_web_lg). Alternatively, you could be using any pre-trained word representation model (Word2Vec, FastText, GloVe\u2026).", "By default, Spacy considers a sentence\u2019s vector as the average between its token vectors. It\u2019s a simplistic approach that doesn\u2019t take into account the order of words to encode the sentence. For a more sophisticated strategy, take a look at models like Sent2Vec and SkipThoughts. This article about unsupervised summarization gives an excellent introduction to SkipThoughts.", "For now, let\u2019s keep it simple:", "So, each title will have a respective 300th-dimensional array, as follows:", "Even though we are filtering our articles by a search term, different topics can come up from the same query. For instance, searching for \u201cParis\u201d could result in:", "Paris comes together after a devastating fire", "Brazil football legend Pele admitted to hospital in Paris", "To group articles from different topics, we\u2019ll use a clustering algorithm.", "In this particular case, I wanted to try the DBSCAN algorithm because it doesn\u2019t require to previously specify the number of clusters. Instead, it determines by itself how many clusters to create, and their sizes.", "The epsilon parameter determines the maximum distance between two samples for them to be considered as in the same neighborhood, meaning that if eps is too big, fewer clusters will be formed, but if it\u2019s too small, most of the points will be classified as not belonging to a cluster, which will result in a few clusters as well. The following chart shows the number of clusters by epsilon:", "Tuning eps value might be one of the most delicate steps because the outcome will vary depending on how much you want to consider sentences as similar. The right value will come up with experimentation, trying to preserve the similarities between sentences without splitting close sentences into different groups.", "In general, since we want to end up with very similar sentences in the same cluster, the target should be a value that returns a higher number of classes. For that reason, I chose a number between 0.08 and 0.12. Check out Scikit Learn documentation to find more about this and other parameters.", "Below are some clusters and their sizes:", "The -1 class stands for sentences with no cluster, while the others are cluster indexes. Biggest clusters should represent the most commented topics.", "Let\u2019s check out one of the clusters:", "The next step is to arrange those sentences time-wise and filter them by relevance. Here, I chose to display one article per day so that the timeline is clean and consistent.", "Since there are many sentences about the same topic every day, we need a criterium to pick one among them. It should be the one that best represents the event itself, i.e. what those titles try to convey.", "To achieve that we can cluster daily titles and, for each cluster, choose the one closest to the cluster center. Here are the functions to find the central vector given a list of sentences:", "Finally, using Plotly, we can figure out a way to plot a handy timeline chart:", "That\u2019s it. Using 2.000 random articles we made a script to extract and organize events. Just imagine how useful it might be to apply this technique to millions of articles every day. Take stock markets and the impact of daily news as an example and we can start peeking into the value of Event Extraction.", "Several components could be included to improve the results, like properly pre-processing the data, including POS tagging and NER, applying better sentence-to-vector models, and so on. But starting from this point, a desirable result can be reached very quickly.", "Thank you for reading this post. This was an article focused on NLP and Event Extraction. If you want more about Data Science and Machine Learning, make sure to follow my profile and feel free to leave any ideas, comments or concerns.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff20d634661d3&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-event-extraction-f20d634661d3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-event-extraction-f20d634661d3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-event-extraction-f20d634661d3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-event-extraction-f20d634661d3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f20d634661d3--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f20d634661d3--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@rodrigonader?source=post_page-----f20d634661d3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rodrigonader?source=post_page-----f20d634661d3--------------------------------", "anchor_text": "Rodrigo Nader"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fecc896893943&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-event-extraction-f20d634661d3&user=Rodrigo+Nader&userId=ecc896893943&source=post_page-ecc896893943----f20d634661d3---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff20d634661d3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-event-extraction-f20d634661d3&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff20d634661d3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-event-extraction-f20d634661d3&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://eventregistry.org/", "anchor_text": "EventRegistry"}, {"url": "https://primer.ai/", "anchor_text": "Primer.AI"}, {"url": "https://newsapi.org/", "anchor_text": "newsapi"}, {"url": "https://machinelearningmastery.com/clean-text-machine-learning-python/", "anchor_text": "here is a nice tutorial"}, {"url": "https://spacy.io/models/en#en_core_web_lg", "anchor_text": "en_core_web_lg"}, {"url": "https://github.com/epfml/sent2vec", "anchor_text": "Sent2Vec"}, {"url": "https://github.com/ryankiros/skip-thoughts", "anchor_text": "SkipThoughts"}, {"url": "https://medium.com/jatana/unsupervised-text-summarization-using-sentence-embeddings-adb15ce83db1", "anchor_text": "This article"}, {"url": "https://scikit-learn.org/stable/modules/generated/sklearn.cluster.DBSCAN.html", "anchor_text": "Scikit Learn"}, {"url": "https://spacy.io/usage/linguistic-features", "anchor_text": "POS tagging and NER"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----f20d634661d3---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/nlp?source=post_page-----f20d634661d3---------------nlp-----------------", "anchor_text": "NLP"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f20d634661d3---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/big-data?source=post_page-----f20d634661d3---------------big_data-----------------", "anchor_text": "Big Data"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----f20d634661d3---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff20d634661d3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-event-extraction-f20d634661d3&user=Rodrigo+Nader&userId=ecc896893943&source=-----f20d634661d3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff20d634661d3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-event-extraction-f20d634661d3&user=Rodrigo+Nader&userId=ecc896893943&source=-----f20d634661d3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff20d634661d3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-event-extraction-f20d634661d3&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f20d634661d3--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff20d634661d3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-event-extraction-f20d634661d3&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f20d634661d3---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f20d634661d3--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f20d634661d3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f20d634661d3--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f20d634661d3--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f20d634661d3--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f20d634661d3--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f20d634661d3--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f20d634661d3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rodrigonader?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rodrigonader?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Rodrigo Nader"}, {"url": "https://medium.com/@rodrigonader/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "728 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fecc896893943&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-event-extraction-f20d634661d3&user=Rodrigo+Nader&userId=ecc896893943&source=post_page-ecc896893943--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F574c34c0a484&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-event-extraction-f20d634661d3&newsletterV3=ecc896893943&newsletterV3Id=574c34c0a484&user=Rodrigo+Nader&userId=ecc896893943&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}