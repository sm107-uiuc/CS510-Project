{"url": "https://towardsdatascience.com/curating-a-spotify-discover-playlist-for-two-people-with-k-means-clustering-a926a9e1ec7d", "time": 1683011204.141216, "path": "towardsdatascience.com/curating-a-spotify-discover-playlist-for-two-people-with-k-means-clustering-a926a9e1ec7d/", "webpage": {"metadata": {"title": "Curating a Spotify Discover Playlist for Two People with K-Means Clustering | by Trustin Yoon | Towards Data Science", "h1": "Curating a Spotify Discover Playlist for Two People with K-Means Clustering", "description": "Spotify is a necessity in my life. Not only because I have instant access to 50 million songs and over 1 million podcasts (Patiently waiting for Rogan in September) \u2014 it\u2019s also because of the\u2026"}, "outgoing_paragraph_urls": [{"url": "https://spotipy.readthedocs.io/en/2.13.0/", "anchor_text": "https://spotipy.readthedocs.io/en/2.13.0/", "paragraph_index": 4}, {"url": "https://github.com/makispl/Spotify-Data-Analysis", "anchor_text": "https://github.com/makispl/Spotify-Data-Analysis", "paragraph_index": 5}], "all_paragraphs": ["iTunes revolutionized music. Spotify did it again.", "Spotify is a necessity in my life. Not only because I have instant access to 50 million songs and over 1 million podcasts (Patiently waiting for Rogan in September) \u2014 it\u2019s also because of the built-in recommendation features that magically tell me what my newest favorite songs are before I\u2019ve even listened to them. Spotify has studied my listening history for the past 7 years and played a massive role in drastically evolving my music tastes. My love for 90s underground neo-soul-boombap was not introduced to me by my Korean household nor from the Top-50-Charts-loving Irvine suburbs that I grew up in. It was from falling into Spotify\u2019s recommendation algorithm rabbit holes time and time again for hours on end. I have been able to discover favorite artists and diversify my genre palette far beyond what it would\u2019ve been without Spotify.", "And the single most crucial aid to my music exploring journey has been Spotify\u2019s Discover Weekly playlist. With access to the listening histories of over 110 million subscribers, Spotify data scientists flex their full ML power by curating 30 new recommend songs for users every Monday.", "Finding a hidden gem while scavenging through Spotify\u2019s recommendations is such a pleasurable experience that I wondered if it was possible to make this into a collaborative experience. I wanted to create a Discover Weekly playlist that learns two people\u2019s music tastes and recommends songs that are curated for both of them. With quarantine still being a thing, I thought that this \u201cDiscover Together\u201d playlist could serve as a novel socializing activity. So I partnered up with my friend Arjun Reddy, and we were ready to build.", "Arjun and I decided to automate the Discover Together Playlist curated for our collective music tastes as a test. We used Spotipy, a lightweight Python library for the Spotify Web API and created a Spotify Developers app to gain authorization to Spotify profile data. Here is the official Spotipy documentation: https://spotipy.readthedocs.io/en/2.13.0/", "We also forked authorization flow codes from Plegas Gerasimos\u2019s repo that contained the codes for granting authorization flows which can be found here: https://github.com/makispl/Spotify-Data-Analysis", "Then we created a code that authorizes access to a user\u2019s Spotify profile to extract their top 50 medium term songs using Spotipy\u2019s current_user_top_tracks() function. Medium_term was the most optimal time frame since short_term songs were too short (~1 week of songs) and long_term was too long (basically a user\u2019s all time song history). The user\u2019s top 50 medium term songs were then extracted into a .csv file, and this was repeated for the second user.", "We combined both of our top 50 songs into one dataframe of 100 songs that will be used for analysis and to base our song recommender from. Each song has official data provided by Spotify regarding its different sonic features: danceability, energy, key (musical key), loudness, mode (minor or major), speechiness, acousticness, instrumentalness, liveness, valence (how positive/happy/cheerful it sounds), and tempo. These features are used to create clusters from our dataframe. We chose to focus on danceability, energy, speechiness, acousticness, valence, and tempo after concluding the other features were noise to our analysis. Here is a distribution plot grid of the features of our favorite recent songs.", "Now that we had both users\u2019 top 50 songs, we can use those tracks to recommend new songs that are curated for both people\u2019s recent music tastes. K-means clustering was the method we chose so that we could group each song from our combined songs into a cluster (sub-genre/type of song) with similar sonic features. We chose to have k=20 even though the elbow method showed that optimal k=6, since we wanted to have more specified clusters and base our recommended songs off less generalized clusters. Songs would be clustered together if their positions on a 6 axes plot were close in euclidean distance. Below is the 3d visualization of the 100 songs labeled by their respective clusters.", "When visualizing, some information is lost since we are flattening 6 features onto 3 dimensions. We are still able to visualize the 20 clusters with each song being of close euclidean distance from each other in a given cluster.", "We can further explore the summary of each cluster below.", "Once we got a list of songs for each cluster, we fed each list into Spotipy\u2019s recommendation() function which takes in 5 seed tracks to base its recommendation from. For the clusters that contained more than 5 songs, we randomly chose 5 from its list to represent the cluster. The clusters that contained less than 5 songs, we left it as is. We ran the recommendation function for each cluster, and each time it produced 1 recommended track for the clusters that contained less than 5 songs and 2 recommended tracks for the clusters that contained 5 songs. We wanted to place more weight onto the clusters with more songs since that meant we generally enjoyed songs that fit in those clusters more than the smaller clusters. After fetching all the recommended tracks, we put them into a list as a parameter for the Spotipy function that automatically creates and places a playlist with the given list of songs straight to the user\u2019s Spotify library.", "After a week of coding, we finally automated the Discover Together Playlist! Here\u2019s what it looks like!", "Although there were a few songs that we have already listened to, we were generally very pleased with the quality of the recommendations and each of us added a couple of the recommendations to our personal playlists!", "\u201cDiscover Together\u201d hasn\u2019t been developed into a functioning public web app, yet. We\u2019re looking for any app developer who is comfortable working with JSON, web APIs, or UI/UX who would be interested in helping us turn this project into a useable app for any two people who want to explore new music together! Please contact us at trustinyoon@gmail.com or arjunravulareddy@gmail.com if you\u2019re interested!", "9/14/20 UPDATE: We have built a functioning web app and are looking for awesome UI/UX and graphic designers to help with our logo, landing page aesthetic, and marketing materials! Email trustinyoon@gmail.com with your portfolio link if interested :)", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa926a9e1ec7d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcurating-a-spotify-discover-playlist-for-two-people-with-k-means-clustering-a926a9e1ec7d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcurating-a-spotify-discover-playlist-for-two-people-with-k-means-clustering-a926a9e1ec7d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcurating-a-spotify-discover-playlist-for-two-people-with-k-means-clustering-a926a9e1ec7d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcurating-a-spotify-discover-playlist-for-two-people-with-k-means-clustering-a926a9e1ec7d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a926a9e1ec7d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a926a9e1ec7d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://trustinyoon.medium.com/?source=post_page-----a926a9e1ec7d--------------------------------", "anchor_text": ""}, {"url": "https://trustinyoon.medium.com/?source=post_page-----a926a9e1ec7d--------------------------------", "anchor_text": "Trustin Yoon"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fef9794edb2dc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcurating-a-spotify-discover-playlist-for-two-people-with-k-means-clustering-a926a9e1ec7d&user=Trustin+Yoon&userId=ef9794edb2dc&source=post_page-ef9794edb2dc----a926a9e1ec7d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa926a9e1ec7d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcurating-a-spotify-discover-playlist-for-two-people-with-k-means-clustering-a926a9e1ec7d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa926a9e1ec7d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcurating-a-spotify-discover-playlist-for-two-people-with-k-means-clustering-a926a9e1ec7d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@morningbrew?utm_source=medium&utm_medium=referral", "anchor_text": "Morning Brew"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://github.com/trustinyoon/Spotify-Discover-2gether", "anchor_text": "https://github.com/trustinyoon/Spotify-Discover-2gether"}, {"url": "https://spotipy.readthedocs.io/en/2.13.0/", "anchor_text": "https://spotipy.readthedocs.io/en/2.13.0/"}, {"url": "https://github.com/makispl/Spotify-Data-Analysis", "anchor_text": "https://github.com/makispl/Spotify-Data-Analysis"}, {"url": "https://medium.com/tag/spotify?source=post_page-----a926a9e1ec7d---------------spotify-----------------", "anchor_text": "Spotify"}, {"url": "https://medium.com/tag/clustering?source=post_page-----a926a9e1ec7d---------------clustering-----------------", "anchor_text": "Clustering"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----a926a9e1ec7d---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/song-recommendation?source=post_page-----a926a9e1ec7d---------------song_recommendation-----------------", "anchor_text": "Song Recommendation"}, {"url": "https://medium.com/tag/k-means?source=post_page-----a926a9e1ec7d---------------k_means-----------------", "anchor_text": "K Means"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa926a9e1ec7d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcurating-a-spotify-discover-playlist-for-two-people-with-k-means-clustering-a926a9e1ec7d&user=Trustin+Yoon&userId=ef9794edb2dc&source=-----a926a9e1ec7d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa926a9e1ec7d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcurating-a-spotify-discover-playlist-for-two-people-with-k-means-clustering-a926a9e1ec7d&user=Trustin+Yoon&userId=ef9794edb2dc&source=-----a926a9e1ec7d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa926a9e1ec7d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcurating-a-spotify-discover-playlist-for-two-people-with-k-means-clustering-a926a9e1ec7d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a926a9e1ec7d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa926a9e1ec7d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcurating-a-spotify-discover-playlist-for-two-people-with-k-means-clustering-a926a9e1ec7d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a926a9e1ec7d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a926a9e1ec7d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a926a9e1ec7d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a926a9e1ec7d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a926a9e1ec7d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a926a9e1ec7d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a926a9e1ec7d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a926a9e1ec7d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a926a9e1ec7d--------------------------------", "anchor_text": ""}, {"url": "https://trustinyoon.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://trustinyoon.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Trustin Yoon"}, {"url": "https://trustinyoon.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "35 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fef9794edb2dc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcurating-a-spotify-discover-playlist-for-two-people-with-k-means-clustering-a926a9e1ec7d&user=Trustin+Yoon&userId=ef9794edb2dc&source=post_page-ef9794edb2dc--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fef9794edb2dc%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcurating-a-spotify-discover-playlist-for-two-people-with-k-means-clustering-a926a9e1ec7d&user=Trustin+Yoon&userId=ef9794edb2dc&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}