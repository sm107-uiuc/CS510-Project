{"url": "https://towardsdatascience.com/read-html-54a942305c0f", "time": 1683011514.455184, "path": "towardsdatascience.com/read-html-54a942305c0f/", "webpage": {"metadata": {"title": "Scrape HTML Tables Without Leaving Pandas | Towards Data Science", "h1": "Scrape HTML Tables Without Leaving Pandas", "description": "How to quickly get the data you need from websites with one line of pandas code."}, "outgoing_paragraph_urls": [{"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_html.html", "anchor_text": "pd.read_html()", "paragraph_index": 3}, {"url": "https://pandas.pydata.org/docs/whatsnew/v0.12.0.html?highlight=read_html", "anchor_text": "been around", "paragraph_index": 3}, {"url": "https://beta.deepnote.com/article/scrape-html-tables-without-leaving-pandas", "anchor_text": "Deepnote", "paragraph_index": 4}, {"url": "https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html#html-table-parsing-gotchas", "anchor_text": "docs", "paragraph_index": 6}, {"url": "https://towardsdatascience.com/whats-new-in-pandas-1-0-ffa99bd43a58", "anchor_text": "here", "paragraph_index": 8}, {"url": "https://www.w3schools.com/html/html_tables.asp", "anchor_text": "w3schools.com", "paragraph_index": 11}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_html.html", "anchor_text": "docs", "paragraph_index": 23}, {"url": "https://memorablepandas.com", "anchor_text": "Memorable Pandas book", "paragraph_index": 25}, {"url": "https://en.wikipedia.org/wiki/List_of_weight_training_exercises", "anchor_text": "Wikipedia", "paragraph_index": 29}, {"url": "https://twitter.com/discdiver", "anchor_text": "Twitter", "paragraph_index": 37}, {"url": "https://www.linkedin.com/in/-jeffhale/", "anchor_text": "LinkedIn", "paragraph_index": 37}, {"url": "https://dataawesome.com", "anchor_text": "https://dataawesome.com", "paragraph_index": 39}], "all_paragraphs": ["Webscraping is often a pain. Researching, finding, and installing the libraries you need can be time consuming. Finding the content you need in the HTML can take time. Getting everything to work can be finicky.\ud83d\ude41", "In this article, I\u2019ll show you how to use the Python pandas library to scrape HTML tables with single line of code! It doesn\u2019t work in all cases, but when you have HTML tables on a website it can make your life much easier. \ud83d\ude00", "You\u2019ll see how to use it to get data from websites about soccer and weightlifting. \u26bd\ufe0f \ud83c\udfcb", "We\u2019ll use pd.read_html() to scrape tabular data. In my experience, a lot of folks don't know about pd.read_html() even though it's been around for over 7 years.", "This article was originally published on Deepnote. You can run the interactive notebook there. \ud83d\udc4d", "To get the latest versions of necessary packages and their dependencies, uncomment and run the following code one time. Then restart your notebook kernel.", "Generally, pandas will try to use lxml to parse HTML because it is fast. If that fails, then it will use BeautifulSoup4 with html5lib. You can read more about the parsers in the pandas docs.", "Let\u2019s import the packages and check versions. I always like to check the versions of Python and key libraries to help diagnose problems that might arise. \ud83d\ude09", "If your Python version is less than 3.6, I suggest you update it. Same goes for pandas if your version is less than 1.0.5. To learn more about the pandas 1.0 update, see my guide here.", "Let\u2019s scrape some soccer stats about the US Women\u2019s National Team \u2014 that\u2019s football in much of the world. \u26bd\ufe0f", "In Chrome, go to the website, right click on the data, and select Inspect.", "You should see the sidebar appear. This shows you the HTML behind the page, among other things. Look for the HTML tags <table>, <tbody>, <tr>, or <td>. These all signify you have found a table. See w3schools.com if you want to learn about HTML table basics.", "The pandas function we are going to use requires us to find HTML tables. So you\u2019ve just struck gold! \ud83c\udf89", "Let\u2019s grab the data from the webpage. To get each table into a DataFrame we just need to run the following code.", "Now the DataFrames are in a list.", "Let\u2019s see how many DataFrames are in the list.", "Alright, let\u2019s have a look at the first DataFrame. \ud83d\udc40", "Looks like a bunch of players\u2019 stats. Good, that matches what we would expect from looking at the website.", "Let\u2019s see what\u2019s in the second table.", "Looks like it contains the goalkeepers\u2019 stats.", "In both cases, it would be better if we read in the top row as the column headers and the first column as the index.", "When you read in the tables with pd.read_html() you have many of the same arguments available as you do with pd.read_csv(). That's the pandas method that most folks are more familiar with. \ud83d\udc4d", "Let\u2019s put the table columns where we want them by grabbing the data again. This time we\u2019ll pass header=0, index_col=0.", "To see more possible arguments in your Jupyter notebook or IDE, hold down Shift + Tab with your cursor inside the function. Or just head over to the docs.", "We can save each DataFrame as its own variable. Let\u2019s put everyone who isn\u2019t a goalie in runners_df and the goalies in goalies_df. According to the internet and my daughter - who plays a lot of soccer - there isn't a name for all the non-goalies on a soccer team. I am going to call them runners, because that's what they do a lot. \ud83d\ude42 Please correct me if I'm missing something.", "We want to exclude the final three rows in runners_df and the final two rows in goalies_df. Let\u2019s slice with .iloc[]. If you want to learn more about slicing DataFrames and how to use pandas, I humbly suggest you check out my Memorable Pandas book.", "Let\u2019s quickly make a visualization showing the goals for each player who has scored this year.", "Looks like Christian Press and Lindsey Horan are leading the goal scoring charge in the brief 2020 season. \ud83c\udfc5", "Alright, we could do lots of fun data cleaning and visualization, but the focus today is on scraping and reading HTML tables. Let\u2019s look at one more example.", "Wikipedia has an interesting chart displaying which muscle groups are worked by different weightlifting exercises.", "After inspecting it, we see that it\u2019s an HTML table. Let\u2019s grab it.\ud83d\ude80", "Let\u2019s assign the first DataFrame to a variable.", "Now you could do whatever you like with the DataFrame. Maybe you want to filter it to show only the exercises that work your hamstrings.", "Let\u2019s sort the table by the exercises that work the hamstrings a lot.", "Looks like we should do some lunges, deadlifts and leg curls if we want stronger hamstrings. I think it\u2019s time for a workout! \ud83c\udfcb\ufe0f\u200d", "You\u2019ve seen how to use pd.read_html() to move data from HTML tables into a list of pandas DataFrames. pd.read_html() isn't the right tool for every webscraping endeavor, but when it's an option, it's a great one. \ud83d\udc4d", "I hope you found this introduction to webscraping with pd.read_html() to be helpful. If you did, please share it on your favorite social media so other folks can find it, too. \ud83d\ude00", "If you have questions or comments, please share them with me on Twitter or LinkedIn.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I write about data science. Join my Data Awesome mailing list to stay on top of the latest data tools and tips: https://dataawesome.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F54a942305c0f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fread-html-54a942305c0f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fread-html-54a942305c0f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fread-html-54a942305c0f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fread-html-54a942305c0f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----54a942305c0f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----54a942305c0f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://jeffhale.medium.com/?source=post_page-----54a942305c0f--------------------------------", "anchor_text": ""}, {"url": "https://jeffhale.medium.com/?source=post_page-----54a942305c0f--------------------------------", "anchor_text": "Jeff Hale"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F451599b1142a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fread-html-54a942305c0f&user=Jeff+Hale&userId=451599b1142a&source=post_page-451599b1142a----54a942305c0f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F54a942305c0f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fread-html-54a942305c0f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F54a942305c0f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fread-html-54a942305c0f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_html.html", "anchor_text": "pd.read_html()"}, {"url": "https://pandas.pydata.org/docs/whatsnew/v0.12.0.html?highlight=read_html", "anchor_text": "been around"}, {"url": "https://beta.deepnote.com/article/scrape-html-tables-without-leaving-pandas", "anchor_text": "Deepnote"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html#html-table-parsing-gotchas", "anchor_text": "docs"}, {"url": "https://towardsdatascience.com/whats-new-in-pandas-1-0-ffa99bd43a58", "anchor_text": "here"}, {"url": "https://www.ussoccer.com/uswnt-stats", "anchor_text": "https://www.ussoccer.com/uswnt-stats"}, {"url": "https://www.w3schools.com/html/html_tables.asp", "anchor_text": "w3schools.com"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_html.html", "anchor_text": "docs"}, {"url": "https://memorablepandas.com", "anchor_text": "Memorable Pandas book"}, {"url": "https://en.wikipedia.org/wiki/List_of_weight_training_exercises", "anchor_text": "Wikipedia"}, {"url": "https://twitter.com/discdiver", "anchor_text": "Twitter"}, {"url": "https://www.linkedin.com/in/-jeffhale/", "anchor_text": "LinkedIn"}, {"url": "https://medium.com/tag/python?source=post_page-----54a942305c0f---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----54a942305c0f---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----54a942305c0f---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/programming?source=post_page-----54a942305c0f---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/software-development?source=post_page-----54a942305c0f---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F54a942305c0f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fread-html-54a942305c0f&user=Jeff+Hale&userId=451599b1142a&source=-----54a942305c0f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F54a942305c0f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fread-html-54a942305c0f&user=Jeff+Hale&userId=451599b1142a&source=-----54a942305c0f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F54a942305c0f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fread-html-54a942305c0f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----54a942305c0f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F54a942305c0f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fread-html-54a942305c0f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----54a942305c0f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----54a942305c0f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----54a942305c0f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----54a942305c0f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----54a942305c0f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----54a942305c0f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----54a942305c0f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----54a942305c0f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----54a942305c0f--------------------------------", "anchor_text": ""}, {"url": "https://jeffhale.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://jeffhale.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Jeff Hale"}, {"url": "https://jeffhale.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "18K Followers"}, {"url": "https://dataawesome.com", "anchor_text": "https://dataawesome.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F451599b1142a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fread-html-54a942305c0f&user=Jeff+Hale&userId=451599b1142a&source=post_page-451599b1142a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe7ae6804f27a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fread-html-54a942305c0f&newsletterV3=451599b1142a&newsletterV3Id=e7ae6804f27a&user=Jeff+Hale&userId=451599b1142a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}