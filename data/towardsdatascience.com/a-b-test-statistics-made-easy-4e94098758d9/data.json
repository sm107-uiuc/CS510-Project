{"url": "https://towardsdatascience.com/a-b-test-statistics-made-easy-4e94098758d9", "time": 1683005686.5904992, "path": "towardsdatascience.com/a-b-test-statistics-made-easy-4e94098758d9/", "webpage": {"metadata": {"title": "A/B Test Statistics Made Easy. Part 1: Continuous Metrics | by Rezwan Hoppe-Islam | Towards Data Science", "h1": "A/B Test Statistics Made Easy", "description": "Your A/B test has just finished and it looks like the Test has performed better than the Control. But is this result just due to random noise? Or is the result large enough to be statistically\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/@rezwan.islam99/a-b-test-statistics-made-easy-8805ac2533d6", "anchor_text": "Part 2", "paragraph_index": 3}, {"url": "https://medium.com/@rezwan.islam99/a-b-test-statistics-made-easy-8805ac2533d6", "anchor_text": "next article", "paragraph_index": 49}], "all_paragraphs": ["Your A/B test has just finished and it looks like the Test has performed better than the Control. But is this result just due to random noise? Or is the result large enough to be statistically significant? This guide will show you how to answer these questions using inferential statistics.", "Statistics can often be an intimidating subject. Many textbooks, even those aimed at beginners, launch too quickly into seemingly complex formulae like this one: \u03c3d = sqrt( \u03c31^2 / n1 + \u03c32^2 / n2 ). Or they launch too quickly into abstract concepts like the \u201ctest statistic\u201d. Formulae and abstractions have an important place: they allow you to perform statistical analyses quickly and efficiently. But they aren\u2019t the best tools for engaging with the audience or teaching statistical concepts.", "In this article we\u2019ll use simulations to bring key statistical concepts to life, rather than relying on formulae. And we\u2019ll deconstruct abstractions to illuminate all the hidden components. Altogether, we\u2019ll demystify this fascinating subject area and make it more accessible and more enjoyable to readers.", "The only prerequisite knowledge is familiarity with the mean, the standard deviation, and density plots. This article (Part 1) focuses on the analysis of continuous metrics (think age, height, income, etc.). In a future article (Part 2) we\u2019ll examine proportion metrics (think conversion rate, % of people who smoke, fraction of customers that are satisfied, etc.).", "Imagine a town with a population of 1,000,000 residents. Half the residents are male and the other half are female. The mean age of each group is 35 years old. The standard deviation of female ages is slightly higher than that of male ages. Here\u2019s a summary of the population parameters:", "And if we were to create a density plot of each group\u2019s ages, this is what it might look like:", "Now imagine that we wanted to explore the difference in mean age between the two populations. We know that it should be 0 since both populations have identical mean ages. Let\u2019s run the following procedure:", "After running through this procedure once we get the following results:", "Now let\u2019s run a simulation that repeats the above procedure 10,000 times:", "Even though we know that both populations have a mean age of 35, our estimates of the mean vary from sample to sample. Some estimates are higher than 35 and others are lower. This natural variation between samples is referred to as random sampling error.", "Sampling error also causes the estimated age difference (the last column) to vary between samples. Some estimates are higher than 0, others are lower. Let\u2019s examine the distribution of these values:", "This plot is called a sampling distribution. Specifically, it is a sampling distribution of the difference between means. The majority of difference values are close to zero which is as expected since both populations have identical means. There are also some samples which yield large differences, again due to random sampling error. These values are found in the tails of the distribution which tells us that they occur less frequently.", "Recap: Using simulation we have created a sampling distribution. This sampling distribution illustrates the natural variation between samples that arises due to random sampling error.", "Simulations help us to understand what a sampling distribution is and how it is created. Once we understand these concepts, we can dispense with simulation altogether and compute the sampling distribution directly. This approach is faster and more accurate.", "To compute the sampling distribution we just need to know three properties:", "Now that we know these three properties, we can quickly compute the sampling distribution using most programming languages. For example, in R we would simply write:", "This single line of code would generate a normal distribution with 10,000 values, a mean of 0, and a standard deviation of 1.27. Let\u2019s plot the distribution of these computed values (red) over the previous distribution that we created through simulation (black):", "Notice how the two distributions are very similar to one another other. The computed distribution is exact. The simulated distribution is an imperfect estimate. Hence the slight discrepancy between the two.", "Recap: We no longer have to run many simulations to estimate the sampling distribution. It turns out that there exists a simple formula to calculate the standard deviation of our sampling distribution. And with this, we can now quickly compute the precise sampling distribution.", "Now imagine you have to interpret the results of an A/B test. For example, you designed a brand new homepage for your website that you think will subsequently lead to a higher revenue per visitor. You set up an A/B test which ran for a few weeks where half of your visitors saw the new homepage (the Test group) and the other half saw the existing homepage (the Control group). At the end of the test, we see the following results:", "On first glance it appears that the Test actually performed better than the Control by $7.7 per visitor. But can we trust that this result is representative of the true difference between population means? After all, in the previous sections we observed that even when two populations have identical means we will still generate a range of estimates of the difference due to sampling error.", "So, assuming that the Test and Control populations have identical means, what is the likelihood that we\u2019d see a result as high as $7.7, due to sampling error alone? This assumption \u2014 that there is no real difference between Test and Control population means \u2014 is called the null hypothesis (H0). By convention, we always start with H0 and then proceed to examine the strength of the evidence for or against it.", "Recap: Even though it first appears that the Test has performed better than the Control, we need to understand how likely we are to see a result of $7.7, given the null hypothesis.", "In order to understand the probability of seeing a result of $7.7 given the null hypothesis, we first need to understand the distribution of possible values that can arise assuming that the Test and Control populations have identical means.", "In other words, we need to generate the sampling distribution of results assuming that the null hypothesis is true. We can compute this using the same steps as before \u2014 we just need to know three properties:", "Notice that we used the sample standard deviations as a best guess for the population standard deviations. Here\u2019s what our sampling distribution looks like:", "Recap: How likely are we to see a result of $7.7, given the null hypothesis? To answer this we first need to understand the sampling distribution under the null hypothesis. We can compute this assuming that a) the shape of the distribution is normal, b) the Test and Control populations have identical means, and c) our sample standard deviations are representative of the population standard deviations.", "Given the sampling distribution under the null hypothesis, how likely are we to see a difference between Test and Control means of $7.7? Remember that if the null hypothesis is true then the distribution is symmetrical around a mean of zero. That means we have an equal chance of obtaining a result of $7.7 as we do of obtaining -$7.7. So the question becomes: what is the probability of obtaining a result as extreme or more as $7.7, given the null hypothesis?", "Here we have shaded in blue the areas of the curve bound by values that are as extreme or more as $7.7. The sum of both areas is 2% and this value is known as the p-value. It tells us that if the null hypothesis were true then we would expect to see a result as extreme or more as $7.7 in only 2 out of 100 A/B tests.", "By contrast, the areas shaded in orange (you have to imagine that the orange areas continue behind the blue areas) represent 5% in total of the area under the curve. The value of 5% is an arbitrary choice and it is called the significance level or \ud835\udec2. When p < \ud835\udec2, we reject the null hypothesis.", "In other words, we are saying that if we see an A/B test result that\u2019s only likely to occur in less than 5 out of 100 A/B tests (given the null hypothesis) then we\u2019ll reject the null hypothesis (even when it is true). That means that we run the risk of incorrectly rejecting the null hypothesis 5% of the time. So \ud835\udec2 is also referred to as the Type 1 error rate.", "Recap: The chance of seeing a result as extreme or more as $7.7 is improbable under the null hypothesis. Specifically, our p-value of 0.02 means that we\u2019re only likely to see a result as extreme or more as $7.7 in 2 out of 100 experiments. This ratio is less than our significance level (\ud835\udec2) of 0.05 and, therefore, we reject the null hypothesis. This may or may not be the right conclusion and in the long run our Type 1 error rate = 0.05 (= \ud835\udec2).", "In practice, statisticians do not create a bespoke sampling distribution based on every set of A/B test results. They employ a single, standard normal distribution for sufficiently large sample sizes. This distribution has a mean of 0 and a standard deviation of 1. Any normal distribution with a mean of 0 can be transformed into a standard normal distribution by dividing by the standard error.", "So if we divide all values in the previous distribution by the standard error ($3.31), we get the following:", "The transformed values are referred to as z values and they are unit-less.", "With a standard normal distribution, a significance level of 5% always corresponds to z values that are as extreme or more as 1.96 (approximately). We refer to 1.96 as the critical z value at 5% significance. Our p-value does not change, it is still 0.02. And here, it is the area under the curve that corresponds to z values as extreme or more as 2.32 ($7.7 / $3.31). This value is called the z score or test statistic.", "Recap: By convention, statisticians employ a standard normal distribution which has a mean of 0 and a standard deviation of 1. This eliminates the need to compute a bespoke sampling distribution for every A/B test. We only need to calculate the z score (observed difference / standard error). The p-value is then the area under the curve bound by the z scores.", "To recap, we took our A/B test result of $7.7 per visitor and decided that this value is unlikely to occur if, in reality, both Test and Control populations have identical means. More formally, our p-value of 0.02 is less than our significance level of 0.05 and so we reject the null hypothesis.", "We are rejecting the (null) hypothesis that the difference between population means = 0. Therefore, we automatically accept the alternative hypothesis (HA) which, here, states that the difference between means \u2260 0.", "So if the difference between means does not equal 0, then what does it equal? One answer would be $7.7. A better answer would identify a range of possible values, given that we now recognize the impact of sampling error.", "So what is the range of possible values given the alternative hypothesis? Again, we need only refer to the sampling distribution. The sampling distribution for the alternative hypothesis is identical to that for the null hypothesis with one exception: its mean is equal to the observed result ($7.7):", "The area shaded in grey represents the middle 95% of the chart which corresponds to a confidence interval of (1.21, 14.19) or 7.7 \u00b1 6.49. Every confidence interval has an associated confidence level which is predetermined by the significance level (\ud835\udec2) and is equal to 1 \u2014 \ud835\udec2 = 1\u20130.05 = 95%.", "Another interpretation of the confidence interval and confidence level is this: if we were to repeat the entire A/B test then we\u2019d likely get Test and Control samples with slightly different sample standard deviations due to sampling error. And so we\u2019d generate a slightly different sampling distribution, and thus a slightly different confidence interval. Now if we were to repeat the entire A/B test many times then, in the long run, 95% of our confidence intervals would include the true difference between population means. Note that this is not the same as saying that there\u2019s a 95% probability that our single confidence interval includes the true difference between populations.", "Recap: A confidence interval (at an associated confidence level) shows the range of possible values for our A/B test result. Here, we report a confidence interval of 7.7 \u00b1 6.49 at a confidence level of 95%.", "Another key concept to understand regarding hypothesis testing is statistical power. Power is analogous to significance:", "Since we\u2019ve already accepted HA the concept of power is mostly redundant here. We\u2019ll cover it in a future article on sample size calculations.", "Recap: The power of a test is the probability of accepting HA when HA is true. It is mostly relevant before the test is run, when you\u2019re calculating the required sample size of the test.", "By this point you should feel fairly comfortable with the overall framework of a statistical analysis. Now let\u2019s see how we can reduce all the above-mentioned steps into just a few lines of code. In R we would write:", "Recap: Once you\u2019re comfortable with all the steps involved in a statistical analysis, you can perform the calculations very quickly using a computer program such as R.", "In this article, we explored many of the key concepts and layers involved in a statistical analysis. And we reviewed some shortcuts to arrive at the answers more quickly once these concepts are understood. Hopefully, this has left you with a greater sense of comfort around A/B test statistics. In the next article, we\u2019ll use what we\u2019ve learned here to analyze a different A/B test where the success metric is a proportion.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4e94098758d9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-4e94098758d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-4e94098758d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-4e94098758d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-4e94098758d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4e94098758d9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4e94098758d9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@rezwan.islam99?source=post_page-----4e94098758d9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rezwan.islam99?source=post_page-----4e94098758d9--------------------------------", "anchor_text": "Rezwan Hoppe-Islam"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2a3e368a49d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-4e94098758d9&user=Rezwan+Hoppe-Islam&userId=2a3e368a49d&source=post_page-2a3e368a49d----4e94098758d9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4e94098758d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-4e94098758d9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4e94098758d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-4e94098758d9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/@rezwan.islam99/a-b-test-statistics-made-easy-8805ac2533d6", "anchor_text": "Part 2"}, {"url": "https://en.wikipedia.org/wiki/Central_limit_theorem", "anchor_text": "always symmetrical"}, {"url": "https://medium.com/@rezwan.islam99/a-b-test-statistics-made-easy-8805ac2533d6", "anchor_text": "next article"}, {"url": "https://medium.com/tag/statistics?source=post_page-----4e94098758d9---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/a-b-testing?source=post_page-----4e94098758d9---------------a_b_testing-----------------", "anchor_text": "A B Testing"}, {"url": "https://medium.com/tag/hypothesis-testing?source=post_page-----4e94098758d9---------------hypothesis_testing-----------------", "anchor_text": "Hypothesis Testing"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4e94098758d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-4e94098758d9&user=Rezwan+Hoppe-Islam&userId=2a3e368a49d&source=-----4e94098758d9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4e94098758d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-4e94098758d9&user=Rezwan+Hoppe-Islam&userId=2a3e368a49d&source=-----4e94098758d9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4e94098758d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-4e94098758d9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4e94098758d9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4e94098758d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-4e94098758d9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4e94098758d9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4e94098758d9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4e94098758d9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4e94098758d9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4e94098758d9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4e94098758d9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4e94098758d9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4e94098758d9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4e94098758d9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rezwan.islam99?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rezwan.islam99?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Rezwan Hoppe-Islam"}, {"url": "https://medium.com/@rezwan.islam99/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "115 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2a3e368a49d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-4e94098758d9&user=Rezwan+Hoppe-Islam&userId=2a3e368a49d&source=post_page-2a3e368a49d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F5fa230cf6c2f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-b-test-statistics-made-easy-4e94098758d9&newsletterV3=2a3e368a49d&newsletterV3Id=5fa230cf6c2f&user=Rezwan+Hoppe-Islam&userId=2a3e368a49d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}