{"url": "https://towardsdatascience.com/a-complete-guide-to-time-series-data-visualization-in-python-da0ddd2cfb01", "time": 1683016763.5270898, "path": "towardsdatascience.com/a-complete-guide-to-time-series-data-visualization-in-python-da0ddd2cfb01/", "webpage": {"metadata": {"title": "A Complete Guide to Time Series Data Visualization in Python | by Rashida Nasrin Sucky | Towards Data Science", "h1": "A Complete Guide to Time Series Data Visualization in Python", "description": "Time series data is very important in so many different industries. It is especially important in research, financial industries, pharmaceuticals, social media, web services, and many more. Analysis\u2026"}, "outgoing_paragraph_urls": [{"url": "https://twitter.com/rashida048", "anchor_text": "Twitter", "paragraph_index": 59}, {"url": "https://www.facebook.com/rashida.smith.161", "anchor_text": "Facebook", "paragraph_index": 59}, {"url": "https://regenerativetoday.com/", "anchor_text": "https://regenerativetoday.com/", "paragraph_index": 61}], "all_paragraphs": ["Time series data is very important in so many different industries. It is especially important in research, financial industries, pharmaceuticals, social media, web services, and many more. Analysis of time series data is also becoming more and more essential. What is better than some good visualizations in the analysis. Any type of data analysis is not complete without some visuals. Because one good plot can provide you with a better understanding than a 20-page report. So, this article is all about time-series data visualization.", "I will start with some very simple visualization and slowly will move to some advanced visualization techniques and tools", "I need to make one more thing clear before starting.", "\u2018The complete guide\u201d in the title does not mean, it has all the visualization. There are so many visualizations available in so many different libraries that it is even not practical to have all of them in one article.", "But this article should provide you with enough tools and techniques to tell a story or understand and visualize a time series data clearly. I tried to explain some simple and easy ones and some advanced techniques.", "If you are reading this for learning, the best way is to follow along and run all the code by yourself. Please feel free to download the dataset from this link:", "This is a stock dataset. Let\u2019s import some necessary packages and the dataset:", "I used the \u2018parse_dates\u2019 parameter in the read_csv function to convert the \u2018Date\u2019 column to the DatetimeIndex format. Most of the time, Dates are stored in string format which is not the right format for time series data analysis. When it is in the DatetimeIndex format, it is a lot helpful to deal with as a time series data. You will see it soon.", "I have a detailed article on Time-series data analysis. If you are new to time series data, it will be helpful if you have a look at this article first:", "I explained some important Pandas function in the article above that will be used in this article. Though I will provide a brief idea here as well. But if you need an example to understand better, please feel free to have a look at that previous article.", "As I said before, I want to start with some basic plots. The most basic plot should be a line plot using Pandas. I will plot the \u2018Volume\u2019 data here. See how it looks:", "This is our plot of \u2018Volume\u2019 data that looks pretty busy with some big spikes. It will be a good idea to plot all the other columns as well in a plot to examine the curves of all of them at the same time.", "The shape of the curve for \u2018Open\u2019, \u2018Close\u2019, \u2018High\u2019 and \u2018Low\u2019 data have the same shape. Only the \u2018Volume\u2019 has a different shape.", "The line plot I used above is great for showing seasonality. Resampling for months or weeks and making bar plots is another very simple and widely used method of finding seasonality. Here I am making a bar plot of month data for 2016 and 2017. For the index, I will use [2016:]. Because our dataset contains data until 2017. So, 2016 to end should bring 2016 and 2017.", "There are 24 bars. Each bar represents a month. A huge spike in July 2017. Otherwise, there is no monthly seasonality here.", "One way to find seasonality is by using a set of boxplots. Here I am going to make boxplots for each month. I will use \u2018Open\u2019, \u2018Close\u2019, \u2018High\u2019 and \u2018Low\u2019 data to make this plot.", "It shows the monthly difference in values clearly.", "There are more ways to show seasonality. I discussed it one more way at the end.", "Remember that first line plot of \u2018Volume\u2019 data above. As we discussed before, it was too busy. It can be fixed by resampling. Instead of plotting daily data, plotting monthly average will fix this issue to a large extent. I will use the df_month dataset I prepared already for the bar plot and box plots above for this.", "Much more understandable and clearer! It gives a better idea about a trend in long term.", "Resampling is very common in time-series data. Most of the time resampling is done to a lower frequency.", "So, this article will only deal with the resampling of lower frequencies. Though resampling of higher frequency is also necessary especially for modeling purposes. Not so much in data analysis purpose.", "In the \u2018Volume\u2019 data we are working on right now, we can observe some big spikes here and there. These types of spikes are not helpful for data analysis or for modeling. normally to smooth out the spikes, resampling to a lower frequency and rolling is very helpful.", "Now, plot the daily data and weekly average \u2018Volume\u2019 in the same plot. First, make a weekly average dataset using the resampling method.", "This \u2018df_week\u2019 and \u2018df_month\u2019 will be useful for us in later visualization as well.", "Let\u2019s plot the daily and weekly data in the same plot.", "Look, the weekly average plot has smaller spikes than daily data.", "Rolling is another very helpful way of smoothing out the curve. It takes the average of a specified amount of data. If I want a 7-day rolling, it gives us the 7-d average data.", "Let\u2019s include the 7-d rolling data in the above plot.", "A lot going on in this one plot. But If you look at it carefully it is still understandable. If you notice 7-d rolling average is a bit smoother than the weekly average.", "It is also common to take a 30-d or 365-d rolling average to make the curve smoother. Please try it yourself.", "Lots of time it is more useful to see how the data change over time instead of just everyday data.", "There are a few different ways to calculate and visualize the change in data.", "The shift function shifts the data before or after the specified amount of time. If I do not specify the time it will shift the data by one day by default. That means you will get the previous day's data. In financial data like this one, it is helpful to see previous day data and today's data side by side.", "As this article is dedicated to visualization only, I will only plot the previous day data:", "In the code above, .div() helps to fill up the missing data. Actually, div() means division. df. div(6) will divide each element in df by 6. But here I used \u2018df.Close.shift()\u2019. So, Each element of df will be divided by each element of \u2018df.Close.shift()\u2019. We do this to avoid the null values that are created by the \u2018shift()\u2019 operation.", "If it is not yet clear to you, please look at the article I mentioned in the beginning.", "You can simply take a specific period and plot to have a clearer look. This is the plot of 2017 only.", "Though the shift is useful in many ways. But I find percent change useful on many occasions.", "I will use the monthly data that was calculated in the beginning. This time I chose bar plots. It shows the percent change clearly. There is a percent change function available to get the percent_change data.", "I plotted the percent change in closing data here. I used monthly percent change here.", "Differencing takes the difference in values of a specified distance. By default, it\u2019s one. If you specify 2 like \u201cdf.High.diff(2)\u2019, it will take the difference of first and third element of \u2018High\u2019 column, second and fourth element, and so on.", "It is a popular method to remove the trend in the data. The trend is not good for forecasting or modeling.", "Another way of transformation. It keeps adding the cumulative. For example, if you add an expanding function to the \u2018High\u2019 column first element remains the same. The second element becomes cumulative of the first and second element, the third element becomes cumulative of the first, second, and third element, and so on. You can use aggregate functions like mean, median, standard deviation, etc. on it too.", "In that way, it will provide you with the changing mean, median, sum, or standard deviation with time. Isn\u2019t it really useful for financial data or business sales or profit data?", "Here I added expanding mean and standard deviation. Look at the daily data and the mean. At the end of 2017, daily data shows a huge spike. But it doesn\u2019t show a spike in the average. Probably if you take the 2017 data only, the expanding average will look different. Please feel free to try it.", "A heat map is generally a common type of data visualization that is used everywhere. In time-series data also heat maps can be very useful.", "But before diving into the heat map, we need to develop a calendar that will represent each year and month data of our dataset. Let\u2019s see it in an example.", "For this demonstration, I will import a calendar package and use the pivot table function to generate the values.", "The calendar is ready with monthly average \u2018Open\u2019 data. Now, generate the heat map with it.", "The heat map is ready! Darker red means very high opening and dark green mean very low opening.", "Decomposition will show the observations and these three elements in the same plot:", "Trend: Consistent upward or downward slope of a time series.", "Seasonality: Clear periodic pattern of a time series", "Using the stats model library, it is easy to do it:", "Here the trend is the moving average. To give you a high-level idea of residuals in the last row, here is the general formula:", "Original observations = Trend + Seasonality + Residuals", "Though the documentation for decomposition itself says that it\u2019s a very naive representation but it is still popular.", "If you could run all the code above, Congratulation! You learned enough today to make a great level of time series of data visualization. As I mentioned in the beginning, there are a lot of cool visualization techniques available. I will write more in the future.", "Feel free to follow me on Twitter and like my Facebook page.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "MS in Applied Data Analytics from Boston University. Read my blog: https://regenerativetoday.com/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fda0ddd2cfb01&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-time-series-data-visualization-in-python-da0ddd2cfb01&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-time-series-data-visualization-in-python-da0ddd2cfb01&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-time-series-data-visualization-in-python-da0ddd2cfb01&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-time-series-data-visualization-in-python-da0ddd2cfb01&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----da0ddd2cfb01--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----da0ddd2cfb01--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://rashida00.medium.com/?source=post_page-----da0ddd2cfb01--------------------------------", "anchor_text": ""}, {"url": "https://rashida00.medium.com/?source=post_page-----da0ddd2cfb01--------------------------------", "anchor_text": "Rashida Nasrin Sucky"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8a36b941a136&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-time-series-data-visualization-in-python-da0ddd2cfb01&user=Rashida+Nasrin+Sucky&userId=8a36b941a136&source=post_page-8a36b941a136----da0ddd2cfb01---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fda0ddd2cfb01&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-time-series-data-visualization-in-python-da0ddd2cfb01&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fda0ddd2cfb01&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-time-series-data-visualization-in-python-da0ddd2cfb01&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@elijahdhiett?utm_source=medium&utm_medium=referral", "anchor_text": "Elijah Hiett"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://github.com/rashida048/Datasets/blob/master/stock_data.csv", "anchor_text": "rashida048/DatasetsPermalink GitHub is home to over 50 million developers working together to host and review code, manage projects, and\u2026github.com"}, {"url": "https://towardsdatascience.com/an-ultimate-guide-to-time-series-analysis-in-pandas-76a0433621f3", "anchor_text": "An Ultimate Guide to Time Series Analysis in PandasAll the Pandas Function You Need to Perform Time Series Analysis in Pandas. You Can Use This as a Cheat Sheet as Well.towardsdatascience.com"}, {"url": "https://twitter.com/rashida048", "anchor_text": "Twitter"}, {"url": "https://www.facebook.com/rashida.smith.161", "anchor_text": "Facebook"}, {"url": "https://towardsdatascience.com/an-ultimate-cheat-sheet-for-data-visualization-in-pandas-4010e1b16b5c", "anchor_text": "An Ultimate Cheat Sheet for Data Visualization in PandasAll the Basic Types of Visualization That Is Available in Pandas and Some Advanced Visualization That Is Extremely\u2026towardsdatascience.com"}, {"url": "https://towardsdatascience.com/a-complete-logistic-regression-algorithm-from-scratch-in-python-step-by-step-ce33eae7d703", "anchor_text": "A Complete Logistic Regression Algorithm From Scratch in Python: Step by StepDeveloped the Algorithm Using a Real-World Datasettowardsdatascience.com"}, {"url": "https://towardsdatascience.com/a-complete-anomaly-detection-algorithm-from-scratch-in-python-step-by-step-guide-e1daf870336e", "anchor_text": "A Complete Anomaly Detection Algorithm From Scratch in Python: Step by Step GuideAnomaly Detection Algorithm Using the Probabilitiestowardsdatascience.com"}, {"url": "https://towardsdatascience.com/multiclass-classification-algorithm-from-scratch-with-a-project-in-python-step-by-step-guide-485a83c79992", "anchor_text": "Multiclass Classification Algorithm from Scratch with a Project in Python: Step by Step GuideThis article explains two methods: The gradient descent method and the optimization function methodtowardsdatascience.com"}, {"url": "https://towardsdatascience.com/a-complete-guide-to-hypothesis-testing-for-data-scientists-using-python-69f670e6779e", "anchor_text": "A Complete Guide to Hypothesis Testing for Data Scientists Using PythonExplained Clearly with Sample Research Questions, Solution Steps, and Complete Codestowardsdatascience.com"}, {"url": "https://towardsdatascience.com/want-to-become-a-data-scientist-in-12-weeks-3926d8eacee2", "anchor_text": "Want To Become A Data Scientist In 12 Weeks?Think one more time before you spend your moneytowardsdatascience.com"}, {"url": "https://towardsdatascience.com/great-quality-free-courses-to-learn-machine-learning-and-deep-learning-1029048fd0fc", "anchor_text": "Great Quality Free Courses to Learn Machine Learning and Deep LearningLinks to Super-Quality Free Courses from Top Universitiestowardsdatascience.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----da0ddd2cfb01---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----da0ddd2cfb01---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/programming?source=post_page-----da0ddd2cfb01---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----da0ddd2cfb01---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/technology?source=post_page-----da0ddd2cfb01---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fda0ddd2cfb01&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-time-series-data-visualization-in-python-da0ddd2cfb01&user=Rashida+Nasrin+Sucky&userId=8a36b941a136&source=-----da0ddd2cfb01---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fda0ddd2cfb01&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-time-series-data-visualization-in-python-da0ddd2cfb01&user=Rashida+Nasrin+Sucky&userId=8a36b941a136&source=-----da0ddd2cfb01---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fda0ddd2cfb01&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-time-series-data-visualization-in-python-da0ddd2cfb01&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----da0ddd2cfb01--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fda0ddd2cfb01&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-time-series-data-visualization-in-python-da0ddd2cfb01&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----da0ddd2cfb01---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----da0ddd2cfb01--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----da0ddd2cfb01--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----da0ddd2cfb01--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----da0ddd2cfb01--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----da0ddd2cfb01--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----da0ddd2cfb01--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----da0ddd2cfb01--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----da0ddd2cfb01--------------------------------", "anchor_text": ""}, {"url": "https://rashida00.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://rashida00.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Rashida Nasrin Sucky"}, {"url": "https://rashida00.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "5.8K Followers"}, {"url": "https://regenerativetoday.com/", "anchor_text": "https://regenerativetoday.com/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8a36b941a136&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-time-series-data-visualization-in-python-da0ddd2cfb01&user=Rashida+Nasrin+Sucky&userId=8a36b941a136&source=post_page-8a36b941a136--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb3691be13a18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-complete-guide-to-time-series-data-visualization-in-python-da0ddd2cfb01&newsletterV3=8a36b941a136&newsletterV3Id=b3691be13a18&user=Rashida+Nasrin+Sucky&userId=8a36b941a136&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}