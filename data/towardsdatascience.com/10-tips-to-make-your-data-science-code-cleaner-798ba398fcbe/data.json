{"url": "https://towardsdatascience.com/10-tips-to-make-your-data-science-code-cleaner-798ba398fcbe", "time": 1683006513.9817421, "path": "towardsdatascience.com/10-tips-to-make-your-data-science-code-cleaner-798ba398fcbe/", "webpage": {"metadata": {"title": "10 tips to make your data science code cleaner and more efficient | by Modeo AI | Towards Data Science", "h1": "10 tips to make your data science code cleaner and more efficient", "description": "[Note: This article is regularly updated by following your feedback. Feel free to add your remarks in the comments.] First of all, I would like to note that this list is not exhaustive but that it is\u2026"}, "outgoing_paragraph_urls": [{"url": "https://docs.python.org/3/howto/logging.html", "anchor_text": "https://docs.python.org/3/howto/logging.html", "paragraph_index": 22}, {"url": "http://www.wiley.com/WileyCDA/WileyTitle/productCd-0470042125.html", "anchor_text": "Automated Defect Prevention: Best Practices in Software Management", "paragraph_index": 29}, {"url": "https://www.python.org/dev/peps/pep-0008/", "anchor_text": "https://www.python.org/dev/peps/pep-0008/", "paragraph_index": 35}, {"url": "https://github.com/davified/clean-code-ml", "anchor_text": "https://github.com/davified/clean-code-ml", "paragraph_index": 40}], "all_paragraphs": ["[Note: This article is regularly updated by following your feedback. Feel free to add your remarks in the comments.]", "First of all, I would like to note that this list is not exhaustive but that it is the result of my many experiences and reading :", "Despite my years spent in French university learning data science, most of my knowledge was acquired through online courses on Coursera and Udemy (I guess I\u2019m the clich\u00e9 of the modern data scientist but thanks Andrew Ng). However, I have to say that there is a huge gap between the way code is taught in online courses and how the code has to be developed to be used in real-world applications.", "I don\u2019t pretend to say that my way of coding is the best and I don\u2019t think that coding properly is an exact science either, but by following these 10 tips, you can considerably improve the readability of your code.", "To make the code more readable, each function must be dedicated to a single task. It is better to have a lot of functions rather than functions that are too long, do several things and are therefore confusing. To be sure that a function does only one thing, it is important to limit the function to a single level of abstraction.", "What is a level of abstraction? The purpose of this function is to retrieve data from a database and then apply preprocessing to the data.", "In the image below you can see three levels of abstractions. This is actually about the code level. Do we treat a \u201cHigh level\u201d function as process_data_from_db, do we directly manipulate a Pandas DataFrame like renaming columns?", "Here\u2019s what we can do to make this code more readable :", "Since our goal is to manipulate data, it is usual for our functions to take different data types as arguments (list, tuples, dict, Pandas DataFrame, Numpy Array etc\u2026). It is therefore mandatory to specify the type of each argument as well as the type of the returned objects.", "To do this, it is recommended to use hints to specify the type of each argument and each returned object. This makes the code easier to read and maintain.", "Arguments should be limited as much as possible. Surprising, right? Let me tell you why.", "There are several types of functions, niladic (0 argument), monadic (1 argument), dyadic (2 arguments), triadic (3 arguments) and polyadic (more than 3 arguments). Monadic are acceptable, dyadic should be avoided and more than 3 arguments are way too much.", "The main reason is that they take a lot of conceptual effort and are therefore hard to understand, especially in pipelines with complex workflows. A second reason concerns unit tests. When you perform unit tests on your function, you have to test all possible combinations between each argument, which makes this phase of testing much more complex.", "The functions must be small. No one wants to have to look for an error in a 2000-line function. To make the function readable, try to have a minimum of lines for each statement (if, else, while\u2026).", "Ideally, try to keep only one line for each statement. To be as clear as possible, this line can be used to call a function with an explicit name. When you don\u2019t have a choice, try to limit yourself to a maximum of two levels of indentation so as not to affect the readability of the code.", "Also, Python allows loops to be made in a single line, which makes for greater clarity.", "Error management is not the most exciting part of developing data science pipelines, but it is essential. It will help you to supervise the execution of your pipelines and make the right decisions in case of error.", "First of all, a good reflex is to start your top-level scripts with a try, except, finally, as they define a scope for the execution of your program. If the execution failed, it will resume in the catch so you will be able to take the right decision depending on the type of the error.", "Another way to make the most of exceptions is to develop your own.", "Imagine that you are retrieving data via an API. Most likely, you don\u2019t have control over what the API returns to you, which can impact the proper execution of your program.", "Prints are good for debugging and testing but when it comes to putting your code into production, a logger is much more appropriate.", "Prints are more complicated to format, less readable and above all contain little information. On the other hand, loggers contain more information, are directly formatted and have a level of information that makes it possible to identify the importance of the information (INFO, WARNING, ERROR etc.).", "On the image below you can see the display of the execution of a training script. See https://docs.python.org/3/howto/logging.html for more details about logging in Python.", "Docstring is an essential element in Python. It must appear for any statement declaration (function, class, or method definition). They make the code more explicit and serve as documentation for the object.", "\u201cA universal convention supplies all of maintainability, clarity, consistency, and a foundation for good programming habits too. What it doesn\u2019t do is insist that you follow it against your will. That\u2019s Python!\u201d", "There are two types of docstrings, single line docstring and multiple lines docstring.", "Single-line docstrings are used for the most obvious cases, they fit on a single line. The description is concise and provides additional information to that provided by the name of the function. As stated in Python documentation :", "Multi-lines docstrings are used for more complex cases. The description is more elaborated and it\u2019s followed by a blank line. It is important that it fits on one line and is separated from the rest of the docstring by a blank line. The summary line may be on the same line as the opening quotes or on the next line. The entire docstring is indented the same as the quotes at its first line (see example below).", "Python testing is a very broad topic and can be very complex, but they\u2019 re essential for making your python code cleaner and more robust.", "\u201cIn computer programming, unit testing is a software testing method by which individual units of source code, sets of one or more computer program modules together with associated control data, usage procedures, and operating procedures, are tested to determine whether they are fit for use\u201d. Kolawa, Adam, Huizinga, Dorota (2007). Automated Defect Prevention: Best Practices in Software Management. Wiley-IEEE Computer Society Press. p. 75.", "A good tip for effective testing is to use the three Laws of TDD and the F.I.RS.T principle (which apply to Python as well as other programming languages).", "Python comments are very useful when used properly, but can be a major source of confusion and over-information when misused. We use them when the code we develop is not explicit enough which is normal as it is not always possible to explain clearly what our code does.", "There are a few types of good comments :", "But there are also several types of bad comments:", "Concerning the formatting of the code, the structure of Python requires us to be very meticulous in order to format our code properly. Indeed, the number of lines to be skipped varies according to what is declared in the code (do we declare a class, a method, a variable?).", "Lists should not be too long, otherwise, you have to go back to the line, the same goes for line length, space rules etc\u2026 In short, there are a lot of rules to follow and it is much too long to follow them meticulously by hand (see https://www.python.org/dev/peps/pep-0008/).", "Fortunately, some libraries automatically format your code and the time saved is considerable. The best-known libraries are Black and Yapf and I highly recommend them. They integrate easily into an IDE like PyCharm and the result is really good.", "Also, a good IDE can highlight major style errors and may suggest modifications. For my part, I use PyCharm and the correction system is very efficient.", "The code below shows you how to transform badly formatted ugly code into well-formatted ugly code.", "I hope you will have found this article interesting and that it will have given you some clues to improve your Python code.", "I also recommend you to have a look at this GitHub repository which includes the concepts mentioned in this article with other code examples: https://github.com/davified/clean-code-ml.", "If you have any comments about the tips mentioned, please feel free to comment on this article or send them to me by email: matthieu@modeo.ai.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F798ba398fcbe&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-tips-to-make-your-data-science-code-cleaner-798ba398fcbe&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-tips-to-make-your-data-science-code-cleaner-798ba398fcbe&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-tips-to-make-your-data-science-code-cleaner-798ba398fcbe&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-tips-to-make-your-data-science-code-cleaner-798ba398fcbe&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----798ba398fcbe--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----798ba398fcbe--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@modeoAI?source=post_page-----798ba398fcbe--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@modeoAI?source=post_page-----798ba398fcbe--------------------------------", "anchor_text": "Modeo AI"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F86eaa22b0b15&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-tips-to-make-your-data-science-code-cleaner-798ba398fcbe&user=Modeo+AI&userId=86eaa22b0b15&source=post_page-86eaa22b0b15----798ba398fcbe---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F798ba398fcbe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-tips-to-make-your-data-science-code-cleaner-798ba398fcbe&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F798ba398fcbe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-tips-to-make-your-data-science-code-cleaner-798ba398fcbe&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/towards-data-science/data-science-in-the-real-world/home", "anchor_text": "Data Science in the Real World"}, {"url": "https://medium.com/@matthieurousseau_16015/what-is-the-aws-deepracer-league-and-how-did-we-win-the-french-edition-facae656680c", "anchor_text": "https://medium.com/@matthieurousseau_16015/what-is-the-aws-deepracer-league-and-how-did-we-win-the-french-edition-facae656680c"}, {"url": "https://www.amazon.fr/", "anchor_text": "https://www.amazon.fr/"}, {"url": "https://www.bernat.tech/the-state-of-type-hints-in-python/", "anchor_text": "https://www.bernat.tech/the-state-of-type-hints-in-python/"}, {"url": "https://jeffknupp.com/blog/2013/02/06/write-cleaner-python-use-exceptions/", "anchor_text": "https://jeffknupp.com/blog/2013/02/06/write-cleaner-python-use-exceptions/"}, {"url": "https://docs.python.org/3/howto/logging.html", "anchor_text": "https://docs.python.org/3/howto/logging.html"}, {"url": "https://www.python.org/dev/peps/pep-0257/#abstract", "anchor_text": "https://www.python.org/dev/peps/pep-0257/#abstract"}, {"url": "http://www.wiley.com/WileyCDA/WileyTitle/productCd-0470042125.html", "anchor_text": "Automated Defect Prevention: Best Practices in Software Management"}, {"url": "https://docs.python.org/3/library/unittest.html", "anchor_text": "https://docs.python.org/3/library/unittest.html"}, {"url": "https://www.python.org/dev/peps/pep-0008/", "anchor_text": "https://www.python.org/dev/peps/pep-0008/"}, {"url": "https://opensource.com/article/18/7/7-python-libraries-more-maintainable-code", "anchor_text": "https://opensource.com/article/18/7/7-python-libraries-more-maintainable-code"}, {"url": "https://github.com/davified/clean-code-ml", "anchor_text": "https://github.com/davified/clean-code-ml"}, {"url": "https://medium.com/tag/python?source=post_page-----798ba398fcbe---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----798ba398fcbe---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/clean-code?source=post_page-----798ba398fcbe---------------clean_code-----------------", "anchor_text": "Clean Code"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----798ba398fcbe---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/ds-in-the-real-world?source=post_page-----798ba398fcbe---------------ds_in_the_real_world-----------------", "anchor_text": "Ds In The Real World"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F798ba398fcbe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-tips-to-make-your-data-science-code-cleaner-798ba398fcbe&user=Modeo+AI&userId=86eaa22b0b15&source=-----798ba398fcbe---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F798ba398fcbe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-tips-to-make-your-data-science-code-cleaner-798ba398fcbe&user=Modeo+AI&userId=86eaa22b0b15&source=-----798ba398fcbe---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F798ba398fcbe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-tips-to-make-your-data-science-code-cleaner-798ba398fcbe&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----798ba398fcbe--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F798ba398fcbe&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-tips-to-make-your-data-science-code-cleaner-798ba398fcbe&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----798ba398fcbe---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----798ba398fcbe--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----798ba398fcbe--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----798ba398fcbe--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----798ba398fcbe--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----798ba398fcbe--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----798ba398fcbe--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----798ba398fcbe--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----798ba398fcbe--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@modeoAI?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@modeoAI?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Modeo AI"}, {"url": "https://medium.com/@modeoAI/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "28 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F86eaa22b0b15&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-tips-to-make-your-data-science-code-cleaner-798ba398fcbe&user=Modeo+AI&userId=86eaa22b0b15&source=post_page-86eaa22b0b15--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F86eaa22b0b15%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F10-tips-to-make-your-data-science-code-cleaner-798ba398fcbe&user=Modeo+AI&userId=86eaa22b0b15&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}