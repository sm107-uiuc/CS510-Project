{"url": "https://towardsdatascience.com/community-detection-in-r-using-communities-of-friends-characters-2161e845c198", "time": 1683009285.299763, "path": "towardsdatascience.com/community-detection-in-r-using-communities-of-friends-characters-2161e845c198/", "webpage": {"metadata": {"title": "Community Detection in R Using Communities of Friends Characters | by Keith McNulty | Towards Data Science", "h1": "Community Detection in R Using Communities of Friends Characters", "description": "In this article I will use the community detection capabilities in the igraph package in R to show how to detect communities in a network. By the end of the article we will able to see how the\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/keithmcnulty/friends_analysis/blob/master/Rmd/friends_character_networks.md", "anchor_text": "here", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/scraping-structured-data-from-semi-structured-documents-d5fd2927a828", "anchor_text": "scrape scripts of Friends episodes", "paragraph_index": 2}, {"url": "https://towardsdatascience.com/simple-iterative-programming-and-error-handling-in-r-a68ebccdf9b9", "anchor_text": "use iterative programming", "paragraph_index": 2}, {"url": "https://github.com/keithmcnulty/friends_analysis", "anchor_text": "repo", "paragraph_index": 3}, {"url": "https://www.linkedin.com/in/keith-mcnulty/", "anchor_text": "LinkedIn", "paragraph_index": 19}, {"url": "https://twitter.com/dr_keithmcnulty", "anchor_text": "Twitter", "paragraph_index": 19}, {"url": "http://drkeithmcnulty.com/", "anchor_text": "drkeithmcnulty.com", "paragraph_index": 19}, {"url": "http://keithmcnulty.org", "anchor_text": "keithmcnulty.org", "paragraph_index": 21}], "all_paragraphs": ["In this article I will use the community detection capabilities in the igraph package in R to show how to detect communities in a network. By the end of the article we will able to see how the Louvain community detection algorithm breaks up the Friends characters into distinct communities (ignoring the obvious community of the six main characters), and if you are a fan of the show you can decide if this analysis makes sense to you.", "Note to reader: if you are finding it difficult to follow code in the Medium formatting environment, you can also rethis in a Markdown format here.", "In my earlier articles I showed how you can scrape scripts of Friends episodes and use iterative programming to generate a network edgelist for the entire series of Friends. A network edgelist is a simple dataset that contains the following:", "The edgelist I am using was generated using the techniques in the previous two articles, and loaded to Github in the repo for this project. I will now pull the dataset for all ten seasons down and we can take a look at it.", "This looks as we expect. So we are ready to start some work.", "Now, first, we are going to pretend that the six main characters don\u2019t know each other and delete all edges between them in our network. This is because we are interested in how the other characters form communities around the main characters. If we were to leave the main character connections intact, we know that they would form a very strong community amongst themselves, which was of course the whole point of the show.", "Now we will convert our new edgelist into a matrix and then use that to build a graph object that has the weight column as a property of the edges:", "We can now take a quick basic look at our Friends graph:", "OK, what a mess \u2014 not surprising given that there are 650 vertices (characters) and 2961 edges (connections) in this network. We\u2019ll have to do some formatting for some nice plots at a later point. But now we are ready to ask the Louvain algorithm to break this network into distinct communities. The algorithm will try to maximize the strengths of connections inside a community and minimize connections between different communities.", "It looks like the algorithm found 8 communities. But we have no idea who is in them. We can do a few things to try to understand each community better.", "OK \u2014 we see there are a couple of communities that seem to be fairly small and probably quite disconnected (we will look at those in the appendix), but the main six communities orient around the six friends which is what we would expect. This confirms that each of the six characters, despite their closeness to each other, also fostered fairly independent communities throughout the series.", "We can try to get a sense of those communities by looking at the top five most important characters in each community (excluding the small communities). This time we will look at a more simple measure of performance \u2014 the number of connections each character has, or their degree in the network.", "We see some generic character names here like \u2018guy\u2019 or \u2018woman\u2019. If we ignore these, we can see the following communities of characters:", "We can now try to visualize these communities as part of the entire network. To make it a bit easier to digest we are going to remove the labels for everyone except the six friends, and then we will color code the vertices and edges by community.", "Now we can plot our graph. The \u2018prettiest\u2019 plot is probably a spherical layout:", "But to better separate the communities for visual purposes, a force-directed plot is appropriate:", "The second image is more helpful as it implies that Joey and Ross may lead more \u2018independent\u2019 lives and have more of a community of their own compared to the four other characters given that the force-directed algorithm has distanced them further from the others.", "Let\u2019s have a look at the two smaller communities which popped up in our earlier analysis. Let\u2019s look at who is in these communities.", "Interestingly our algorithm appears to have picked up on a couple of specific episodes and regarded scenes inside them as disconnected networks of their own.", "Originally I was a Pure Mathematician, then I became a Psychometrician and a Data Scientist. I am passionate about applying the rigor of all those disciplines to complex people questions. I\u2019m also a coding geek and a massive fan of Japanese RPGs. Find me on LinkedIn or on Twitter. Also check out my blog on drkeithmcnulty.com.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Expert and Author in Applied Mathematics, Data Science, Statistics. Also writes History, Science, Culture. Find me on Twitter or keithmcnulty.org"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F2161e845c198&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcommunity-detection-in-r-using-communities-of-friends-characters-2161e845c198&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcommunity-detection-in-r-using-communities-of-friends-characters-2161e845c198&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcommunity-detection-in-r-using-communities-of-friends-characters-2161e845c198&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcommunity-detection-in-r-using-communities-of-friends-characters-2161e845c198&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----2161e845c198--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2161e845c198--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://keith-mcnulty.medium.com/?source=post_page-----2161e845c198--------------------------------", "anchor_text": ""}, {"url": "https://keith-mcnulty.medium.com/?source=post_page-----2161e845c198--------------------------------", "anchor_text": "Keith McNulty"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa859aab532a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcommunity-detection-in-r-using-communities-of-friends-characters-2161e845c198&user=Keith+McNulty&userId=a859aab532a0&source=post_page-a859aab532a0----2161e845c198---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2161e845c198&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcommunity-detection-in-r-using-communities-of-friends-characters-2161e845c198&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2161e845c198&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcommunity-detection-in-r-using-communities-of-friends-characters-2161e845c198&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/keithmcnulty/friends_analysis/blob/master/Rmd/friends_character_networks.md", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/scraping-structured-data-from-semi-structured-documents-d5fd2927a828", "anchor_text": "scrape scripts of Friends episodes"}, {"url": "https://towardsdatascience.com/simple-iterative-programming-and-error-handling-in-r-a68ebccdf9b9", "anchor_text": "use iterative programming"}, {"url": "https://github.com/keithmcnulty/friends_analysis", "anchor_text": "repo"}, {"url": "https://www.linkedin.com/in/keith-mcnulty/", "anchor_text": "LinkedIn"}, {"url": "https://twitter.com/dr_keithmcnulty", "anchor_text": "Twitter"}, {"url": "http://drkeithmcnulty.com/", "anchor_text": "drkeithmcnulty.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----2161e845c198---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/analytics?source=post_page-----2161e845c198---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/tag/social-media?source=post_page-----2161e845c198---------------social_media-----------------", "anchor_text": "Social Media"}, {"url": "https://medium.com/tag/programming?source=post_page-----2161e845c198---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/graph?source=post_page-----2161e845c198---------------graph-----------------", "anchor_text": "Graph"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2161e845c198&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcommunity-detection-in-r-using-communities-of-friends-characters-2161e845c198&user=Keith+McNulty&userId=a859aab532a0&source=-----2161e845c198---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2161e845c198&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcommunity-detection-in-r-using-communities-of-friends-characters-2161e845c198&user=Keith+McNulty&userId=a859aab532a0&source=-----2161e845c198---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2161e845c198&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcommunity-detection-in-r-using-communities-of-friends-characters-2161e845c198&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2161e845c198--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F2161e845c198&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcommunity-detection-in-r-using-communities-of-friends-characters-2161e845c198&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----2161e845c198---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----2161e845c198--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----2161e845c198--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----2161e845c198--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----2161e845c198--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----2161e845c198--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----2161e845c198--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----2161e845c198--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----2161e845c198--------------------------------", "anchor_text": ""}, {"url": "https://keith-mcnulty.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://keith-mcnulty.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Keith McNulty"}, {"url": "https://keith-mcnulty.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "11K Followers"}, {"url": "http://keithmcnulty.org", "anchor_text": "keithmcnulty.org"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa859aab532a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcommunity-detection-in-r-using-communities-of-friends-characters-2161e845c198&user=Keith+McNulty&userId=a859aab532a0&source=post_page-a859aab532a0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7991b3dbcee9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcommunity-detection-in-r-using-communities-of-friends-characters-2161e845c198&newsletterV3=a859aab532a0&newsletterV3Id=7991b3dbcee9&user=Keith+McNulty&userId=a859aab532a0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://peopleanalytics-regression-book.org/", "anchor_text": "Handbook of Regression Modeling in People Analytics2021"}, {"url": "https://ona-book.org", "anchor_text": "Handbook of Graphs and Networks in People Analytics2022"}, {"url": "https://medium.com/@keith-mcnulty/books?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "See all (2)"}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}