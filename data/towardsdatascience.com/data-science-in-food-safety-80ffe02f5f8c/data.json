{"url": "https://towardsdatascience.com/data-science-in-food-safety-80ffe02f5f8c", "time": 1683009464.1015959, "path": "towardsdatascience.com/data-science-in-food-safety-80ffe02f5f8c/", "webpage": {"metadata": {"title": "Data Science in Food Safety. MDX Food Safety Hackathon | by Aasthajha | Towards Data Science", "h1": "Data Science in Food Safety", "description": "Every year almost 1 in 10 people in the world fall ill from consuming contaminated food. Unsafe food poses global health threats for everyone especially infants, young children, pregnant women, the\u2026"}, "outgoing_paragraph_urls": [{"url": "https://dask.org/", "anchor_text": "https://dask.org/", "paragraph_index": 4}, {"url": "https://alert-model.herokuapp.com/", "anchor_text": "Predict Alert Cases Web App", "paragraph_index": 11}, {"url": "https://www.youtube.com/watch?v=wdKCSeZvRqE", "anchor_text": "Youtube Livestream of Hackathon", "paragraph_index": 29}, {"url": "https://www.twilio.com/docs/whatsapp/quickstart/python%23whatsapp-beta-1", "anchor_text": "Twilio Documentation", "paragraph_index": 31}, {"url": "https://alert-model.herokuapp.com/", "anchor_text": "Predict Alert Cases Web App", "paragraph_index": 34}], "all_paragraphs": ["Every year almost 1 in 10 people in the world fall ill from consuming contaminated food. Unsafe food poses global health threats for everyone especially infants, young children, pregnant women, the elderly, and those with an underlying illness. The importance of food safety can be understood from the fact that food-borne illness hinders socioeconomic development by straining health care systems, and harming national economies, tourism and trade. Unsafe food creates a vicious cycle of disease and malnutrition. Hence, it is clear that food safety, nutrition and sustainable economic development are inextricably linked. It becomes crucial for us to improve the current food safety measures to not only reduce food-borne illness but also improve the economic and social background.", "To play a part in improving the current food safety measures, Middlesex University has collaborated with RUBICS Smart Solutions, DataCon Dubai 2020 and Beinex to organize the \u201cAnalytics for Food Safety Hackathon\u201d where the objective of the hackathon is quite open ended, yet gives us a chance to be creative \u2014 to come up with innovative and sustainable solutions to improve the food safety measures.", "As part of the hackathon, we were provided with 10 csv files:", "The \u201cReading\u201d file, which had more than 2 million rows, contained the main data set while the other files acted like lookup tables.", "I initially tried using Dask (a popular library for parallel computing- https://dask.org/ ) to combine all the tables and use the entire data set for my analysis however I was unable to do so. Dask was able to combine all the tables but I could not convert it into a pandas data-frame due to memory issues and hence I could not work with the entire data set.", "Instead, I decided to take a random sample of the data set (~ 10% of the original data set). I joined all the tables and the final data set had 271,897 rows.", "I then proceeded to clean the data set by removing any null values and ensuring all the columns were in the right format.", "Below is the snapshot of the final data set:", "Note: The final data set had more columns than the ones depicted in the above snapshot.", "I will first perform Exploratory Data Analysis to understand our data better and find any interesting observations from the data. I will then try to perform logistic regression to classify the cases as alert or not and also use it to predict the probability of an alert case.", "I will also try to automate WhatsApp messages using python so that whenever our model predicts an alert case, the health and safety executive is notified first.", "I have also deployed the logistic regression model on a web app so that anyone can access it (Link: Predict Alert Cases Web App). Finally, I will discuss the results and inferences from the analysis.", "I will be analyzing the data based on:", "From the above plot, we can see that highest alert and warning cases are in Freezer and Fruit Chiller and least is in Juice chiller.", "The highest alert level cases (left graph) are in Small Fridge, Room 4 and Room 2 while the highest warning level cases (right graph) are in Room 3, Room 2 and Room 4", "From the left graph, we can infer that most of the alerts and warnings happen in Storage Rooms. From the right graph, we can infer that all of the alert and warning cases occurred due to breach in optimal temperature levels.", "From the left plot, we can see that the maximum alert cases are from SF-Chiller, R4-Freezer and R2-Freezer. From the right plot, we can see that the maximum warning cases are from R3-Freezer, R2-Freezer and R4-Freezer.", "From the left plot, we can see that the highest alert cases are during the 11 AM to 4 PM. From the right plot, we can infer that the highest warning cases are during 9\u201311 AM and then 9\u201310 PM.", "The majority of the alert and warning cases were during the day which could be because of the higher temperatures during the day in UAE and also the fact that the freezer would have been opened multiple times throughout the day thus reducing the temperature in the freezer which in turn leads to a warning or alert case.", "Now let us look at the distribution of the alert and warning cases against the week of the month.", "Alert cases are almost constant throughout a month but towards the end of the month the alert cases drop. While warning cases are lesser during the 1st week then start increasing but towards the end of the month the warning cases drop as well. That\u2019s interesting \u2014 the alert and warning cases seem to drop towards the last week of the month.", "Alert and warning cases are lesser during the beginning of the year i.e. first quarter and most during the 3rd quarter.", "The highest alert cases took place when the value was -9.9. Further investigation revealed that all of the alert cases with values of -9.9 happened in the freezer which is in the storage room and the -9.9 indicates the temperature which means the optimal temp. was not being met. It could be the case that this freezer requires proper maintenance in order to ensure that the optimal temperature is maintained in the freezer.", "One of the short comings I noticed from the dataset was that we are able to identify an alert case only after an alert case occurs. However, with machine learning algorithms you can predict if a case will be an alert case or not based on certain input parameters. This approach will help organizations shift from the mindset of analyzing past data to understand what happened and why it happened to a more sophisticated and forward-thinking mindset where we can predict what will happen? This will help organizations identify any threats beforehand.", "In order to achieve this, I have used a logistic regression to classify the cases as Alert case (1) or not an alert case (0). The model is able to predict whether a case will be an alert or not and it will also tell us the probability of a case being an alert case with a 97% accuracy.", "- Precision is a measure of the accuracy provided that a class label has been predicted. It is defined by: Precision = TP / (TP + FP)", "- Recall is true positive rate. It is defined as: Recall = TP / (TP + FN)", "- F1 score: The F1 score is the harmonic average of the precision and recall, where an F1 score reaches its best value at 1 (perfect precision and recall) and worst at 0. It is a good way to show that a classifier has a good value for both recall and precision.", "And finally, we can tell the average accuracy for this classifier is the average of the F1-score for both labels, which is 0.97 (i.e. 97%) in our case.", "One of the key problems that was mentioned in the livestream of the hackathon (Youtube Livestream of Hackathon) was that the engineers are the ones who monitor the cases and most of the time they do not realize which case needs urgent attention as they are not subject matter experts when it comes to food health and safety. In order to make this process efficient, I thought it would be helpful if the Health & Safety executive was able to get the alert cases on WhatsApp so we can reduce any latency.", "Hence, for this project I have sent the cases where our classifier has predicted an alert along with the probability % of that case being an alert case.", "I have used the Twilio API for this project. You can read more information here -Twilio Documentation.", "For the sake of this project, I have put in my number and I will be sending the cases where the probability of that case being an alert is 100%. Let us send this over as notifications on WhatsApp so immediate action can be taken BEFORE an actual alert is raised.", "As you can see from the above screenshot, I received the index number of the cases where the probability of the case being an alert case is 100%. Now from the above screenshot, you can see that the message is not very informative but we can tweak the message to include more details.", "In order for our project to actually be used by others, we need to deploy our model on an application. We cannot send everyone in the organization the code file and expect them to run it and interpret the results. Hence, I have deployed the logistic regression model on a web app (link: Predict Alert Cases Web App). The design of the app is not very aesthetically appealing and not that user-friendly as css is not my expertise however the app is fully functional and it can be used to predict whether a case will be an alert case or not. Obviously, if this is to be implemented in an organization, we would have to tweak it a bit to make it more user friendly.", "From our analysis, we noticed that highest alert and warning cases were in Freezer and Fruit Chiller groups.", "We also noticed that the highest alert level cases were in the small fridge, Room 4 and Room 2 storage units while the highest warning level cases were in Room 3, Room 2 and Room 4 storage units. This indicates that the Room 2 & 4 storage units might have some technical or maintenance difficulty due to which we are seeing high number of alert and warning cases.", "We also inferred that all of the alert and warning cases occurred due to breach in optimal temperature levels.", "Majority of the alert and warning cases were during the day which could be because of the higher temperatures during the day in UAE and also the fact that the freezer would have been opened multiple times throughout the day thus reducing the temperature in the freezer which in turn leads to a warning or alert case.", "Alert Cases are almost constant throughout a month but towards the end of the month the alert cases drop. While warning cases are lesser during the 1st week then start increasing but towards the end of the month the warning cases drop as well. That\u2019s interesting \u2014 the alert and warning cases seem to drop towards the last week of the month.", "The highest alert cases took place when the value was -9.9. Further investigation revealed that all of the alert cases with values of -9.9 happened in the freezer which is in the storage room and the -9.9 indicates the temperature which means the optimal temp. was not being met. It could be the case that this freezer requires proper maintenance in order to ensure that the optimal temperature is maintained in the freezer.", "Now coming to our logistic regression model, we were able to predict with 97% accuracy whether or not a case will be an alert case along with the probability of it being an alert case. This model will help organizations identify any alert cases before an alert case actually takes place and will allow them to use their data to transform it into future insights.", "We were also able to automate the process of sending the most probable (i.e. cases with 100% probability) alert cases over WhatsApp to reduce latency.", "Finally, we were also able to deploy our model to a web app so that it is accessible to everyone.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F80ffe02f5f8c&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-in-food-safety-80ffe02f5f8c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-in-food-safety-80ffe02f5f8c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-in-food-safety-80ffe02f5f8c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-in-food-safety-80ffe02f5f8c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----80ffe02f5f8c--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----80ffe02f5f8c--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@aasthajha123?source=post_page-----80ffe02f5f8c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@aasthajha123?source=post_page-----80ffe02f5f8c--------------------------------", "anchor_text": "Aasthajha"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F35b7984dfb7e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-in-food-safety-80ffe02f5f8c&user=Aasthajha&userId=35b7984dfb7e&source=post_page-35b7984dfb7e----80ffe02f5f8c---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F80ffe02f5f8c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-in-food-safety-80ffe02f5f8c&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F80ffe02f5f8c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-in-food-safety-80ffe02f5f8c&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@cant89?utm_source=medium&utm_medium=referral", "anchor_text": "Davide Cantelli"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://github.com/aastha12/MDX-Food-Safety-Hackathon", "anchor_text": "aastha12/MDX-Food-Safety-HackathonThis repository is a part of my submission for the Food Safety Hackathon organized by Middlesex University,Dubai. There\u2026github.com"}, {"url": "https://dask.org/", "anchor_text": "https://dask.org/"}, {"url": "https://alert-model.herokuapp.com/", "anchor_text": "Predict Alert Cases Web App"}, {"url": "https://www.youtube.com/watch?v=wdKCSeZvRqE", "anchor_text": "Youtube Livestream of Hackathon"}, {"url": "https://www.twilio.com/docs/whatsapp/quickstart/python%23whatsapp-beta-1", "anchor_text": "Twilio Documentation"}, {"url": "https://alert-model.herokuapp.com/", "anchor_text": "Predict Alert Cases Web App"}, {"url": "https://medium.com/tag/logistic-regression?source=post_page-----80ffe02f5f8c---------------logistic_regression-----------------", "anchor_text": "Logistic Regression"}, {"url": "https://medium.com/tag/flask?source=post_page-----80ffe02f5f8c---------------flask-----------------", "anchor_text": "Flask"}, {"url": "https://medium.com/tag/dask?source=post_page-----80ffe02f5f8c---------------dask-----------------", "anchor_text": "Dask"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----80ffe02f5f8c---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/twilio?source=post_page-----80ffe02f5f8c---------------twilio-----------------", "anchor_text": "Twilio"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F80ffe02f5f8c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-in-food-safety-80ffe02f5f8c&user=Aasthajha&userId=35b7984dfb7e&source=-----80ffe02f5f8c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F80ffe02f5f8c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-in-food-safety-80ffe02f5f8c&user=Aasthajha&userId=35b7984dfb7e&source=-----80ffe02f5f8c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F80ffe02f5f8c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-in-food-safety-80ffe02f5f8c&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----80ffe02f5f8c--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F80ffe02f5f8c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-in-food-safety-80ffe02f5f8c&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----80ffe02f5f8c---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----80ffe02f5f8c--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----80ffe02f5f8c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----80ffe02f5f8c--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----80ffe02f5f8c--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----80ffe02f5f8c--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----80ffe02f5f8c--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----80ffe02f5f8c--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----80ffe02f5f8c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@aasthajha123?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@aasthajha123?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Aasthajha"}, {"url": "https://medium.com/@aasthajha123/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "12 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F35b7984dfb7e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-in-food-safety-80ffe02f5f8c&user=Aasthajha&userId=35b7984dfb7e&source=post_page-35b7984dfb7e--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3c00c5716898&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-science-in-food-safety-80ffe02f5f8c&newsletterV3=35b7984dfb7e&newsletterV3Id=3c00c5716898&user=Aasthajha&userId=35b7984dfb7e&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}