{"url": "https://towardsdatascience.com/sql-on-the-cloud-with-python-c08a30807661", "time": 1683013378.964779, "path": "towardsdatascience.com/sql-on-the-cloud-with-python-c08a30807661/", "webpage": {"metadata": {"title": "SQL on The Cloud With Google Cloud and Python | Towards Data Science", "h1": "SQL on The Cloud With Python", "description": "How to setup a SQL database on Google Cloud Platform, with SSL encryption for security we can access our database from anywhere in the world using Python."}, "outgoing_paragraph_urls": [{"url": "https://console.cloud.google.com/projectselector2/projectselector/sql", "anchor_text": "Cloud SQL Instances page", "paragraph_index": 5}, {"url": "https://console.cloud.google.com/sql", "anchor_text": "here", "paragraph_index": 10}, {"url": "https://www.kaggle.com/agirlcoding/all-space-missions-from-1957", "anchor_text": "All Space Missions from 1957 dataset on Kaggle", "paragraph_index": 23}, {"url": "https://drive.google.com/file/d/1LyaYBPJD7kJNE-_1uZkmRNIcZvq-9BpQ/view?usp=sharing", "anchor_text": "here", "paragraph_index": 23}, {"url": "https://twitter.com/jamescalam", "anchor_text": "Twitter", "paragraph_index": 30}, {"url": "https://www.youtube.com/c/jamesbriggs", "anchor_text": "https://www.youtube.com/c/jamesbriggs", "paragraph_index": 33}], "all_paragraphs": ["Everyone and their dog uses the cloud nowadays \u2014 and with good reason. It takes what used to be a tricky task and makes it as easy as falling off a log.", "Developing, configuring, and hosting anything on the internet was never simple. Now imagine you need to worry about security threats that evolve daily, world-wide latency, infrastructure scaling, service outages, and much more.", "But now, we can have databases, web-apps, IoT hubs, and much more built quicker than I can make a coffee \u2014 all thanks to the cloud.", "These new cloud services come with the ability to be hosted almost anywhere in the world, with top-tier security, automatic scaling, and guarantees of 99.999% availability. The cloud has transformed tech.", "We will cover the steps we need to take to set up a MySQL database with Google Cloud Platform (GCP) and looking at how we can query that database with Python.", "The first thing we need to do is create our database. For that, we head over to the Cloud SQL Instances page.", "Here, we have two options \u2014 use an existing project or create a new one. If you don\u2019t already have a project setup, go ahead and create one with Create Project now.", "On the next page, we will click Create Instance, which takes us to a choice of MySQL, PostgreSQL, and SQL Server \u2014 we will be using MySQL. Feel free to use another option if you prefer.", "Next, we set up our instance info; this is pretty straightforward \u2014 choose your or your customer\u2019s closest region, and remember your password (we need it when connecting with Python later).", "Now we should be taken through to our database overview. Instance creation will usually take a few minutes.", "Head back to our instance details page (you can access it by clicking on the Instance ID here).", "We click on the Connections tab (on the left-taskbar) and click + Add network under Public IP. Give the network a name and enter the IP address range you would like to allow \u2014 0.0.0.0/0 allows entry to all IP addresses.", "Of course, this is a pretty big security issue, which is why we use SSL encryption to restrict access to our instance.", "While still on the Connections tab, we scroll down to the SSL section. Click Allow only SSL connections and then Create a client certificate \u2014 download all three .pem files \u2014 we will use them when connecting with Python.", "Next, we connect to our instance with Python.", "First, we need to install the MySQL connector library:", "There are a few things we need to set up our connection:", "All of these are used in our config variable, which we use to establish our connection like so:", "We\u2019re now connected to our Cloud MySQL instance with Python!", "Now we\u2019ve set everything up, let\u2019s upload some data and run some quick queries.", "First, we need a database to hold our data \u2014 we use our previously setup connection cnxn:", "Now we connect to testdb by adding database: testdb to our config dictionary and connecting just like we did before:", "Back in our Instance Details window, we can see our new testdb database in the Databases tab. We can also create new databases from here by clicking Create Database.", "We will use the All Space Missions from 1957 dataset on Kaggle. You can download a cleaned CSV of the data from here.", "We create a new table called space_missions with the correct column headers using cursor.execute:", "Now our database should contain the full space_missions table. We can test this by querying for the top five rows of our table \u2014 which should match the top five we saw earlier:", "The output is the same as what we saw earlier, which means we now have our data successfully stored in the cloud.", "Any further queries or transformations can be performed as we usually do for MySQL.", "Now we have a fully functional MySQL database with SSL encryption. Connecting to our database from anywhere in the world requires no more than four lines of Python code.", "From then, we can query our database as we would any other \u2014 it\u2019s incredibly easy to pick up and use.", "Let me know if you have any questions, feedback, or ideas over on Twitter or in the comments below. Thanks for reading!", "Interested in learning more about Google Cloud? You might like my previous article covering API deployment with Docker and GCP:", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Freelance ML engineer learning and writing about everything. I post a lot on YT https://www.youtube.com/c/jamesbriggs"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc08a30807661&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-on-the-cloud-with-python-c08a30807661&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-on-the-cloud-with-python-c08a30807661&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-on-the-cloud-with-python-c08a30807661&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-on-the-cloud-with-python-c08a30807661&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c08a30807661--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c08a30807661--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://jamescalam.medium.com/?source=post_page-----c08a30807661--------------------------------", "anchor_text": ""}, {"url": "https://jamescalam.medium.com/?source=post_page-----c08a30807661--------------------------------", "anchor_text": "James Briggs"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb9d77a4ca1d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-on-the-cloud-with-python-c08a30807661&user=James+Briggs&userId=b9d77a4ca1d1&source=post_page-b9d77a4ca1d1----c08a30807661---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc08a30807661&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-on-the-cloud-with-python-c08a30807661&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc08a30807661&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-on-the-cloud-with-python-c08a30807661&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@timbog80?utm_source=medium&utm_medium=referral", "anchor_text": "Tim Bogdanov"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://console.cloud.google.com/projectselector2/projectselector/sql", "anchor_text": "Cloud SQL Instances page"}, {"url": "https://console.cloud.google.com/sql", "anchor_text": "here"}, {"url": "https://console.cloud.google.com/sql", "anchor_text": "Cloud SQL Instances"}, {"url": "https://www.kaggle.com/agirlcoding/all-space-missions-from-1957", "anchor_text": "All Space Missions from 1957 dataset on Kaggle"}, {"url": "https://drive.google.com/file/d/1LyaYBPJD7kJNE-_1uZkmRNIcZvq-9BpQ/view?usp=sharing", "anchor_text": "here"}, {"url": "https://www.kaggle.com/agirlcoding/all-space-missions-from-1957", "anchor_text": "All Space Missions from 1957"}, {"url": "https://www.youtube.com/watch?v=s1HA9LlFNM0", "anchor_text": "SpaceX Starship hop test"}, {"url": "https://www.youtube.com/watch?v=JIB3JbIIbPU", "anchor_text": "Perseverance rover launch"}, {"url": "https://www.youtube.com/watch?v=s1HA9LlFNM0", "anchor_text": "SpaceX Starship hop test"}, {"url": "https://www.youtube.com/watch?v=JIB3JbIIbPU", "anchor_text": "Perseverance rover launch"}, {"url": "https://twitter.com/jamescalam", "anchor_text": "Twitter"}, {"url": "https://towardsdatascience.com/deploy-apis-with-python-and-docker-4ec5e7986224", "anchor_text": "Deploy APIs With Python and DockerA definitive guide to deploying APIs with Flask, Docker and Google Cloudtowardsdatascience.com"}, {"url": "https://medium.com/tag/technology?source=post_page-----c08a30807661---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/programming?source=post_page-----c08a30807661---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/software-development?source=post_page-----c08a30807661---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/data-science?source=post_page-----c08a30807661---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----c08a30807661---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc08a30807661&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-on-the-cloud-with-python-c08a30807661&user=James+Briggs&userId=b9d77a4ca1d1&source=-----c08a30807661---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc08a30807661&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-on-the-cloud-with-python-c08a30807661&user=James+Briggs&userId=b9d77a4ca1d1&source=-----c08a30807661---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc08a30807661&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-on-the-cloud-with-python-c08a30807661&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c08a30807661--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc08a30807661&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-on-the-cloud-with-python-c08a30807661&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c08a30807661---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c08a30807661--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c08a30807661--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c08a30807661--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c08a30807661--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c08a30807661--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c08a30807661--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c08a30807661--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c08a30807661--------------------------------", "anchor_text": ""}, {"url": "https://jamescalam.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://jamescalam.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "James Briggs"}, {"url": "https://jamescalam.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "9.6K Followers"}, {"url": "https://www.youtube.com/c/jamesbriggs", "anchor_text": "https://www.youtube.com/c/jamesbriggs"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb9d77a4ca1d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-on-the-cloud-with-python-c08a30807661&user=James+Briggs&userId=b9d77a4ca1d1&source=post_page-b9d77a4ca1d1--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F75e31c56d187&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsql-on-the-cloud-with-python-c08a30807661&newsletterV3=b9d77a4ca1d1&newsletterV3Id=75e31c56d187&user=James+Briggs&userId=b9d77a4ca1d1&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}