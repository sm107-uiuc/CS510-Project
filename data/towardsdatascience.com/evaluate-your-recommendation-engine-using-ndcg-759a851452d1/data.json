{"url": "https://towardsdatascience.com/evaluate-your-recommendation-engine-using-ndcg-759a851452d1", "time": 1683002836.553865, "path": "towardsdatascience.com/evaluate-your-recommendation-engine-using-ndcg-759a851452d1/", "webpage": {"metadata": {"title": "Evaluate your Recommendation Engine using NDCG | by Pranay Chandekar | Towards Data Science", "h1": "Evaluate your Recommendation Engine using NDCG", "description": "How to best evaluate a recommender system is a topic of debate. Let us see how we can use NDCG measure to evaluate a recommendation engine."}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Interested in such Machine Learning topics or need some help with them?", "We are in an era of personalization. The user wants personalized content and businesses are capitalizing on the same. Recommendation Engines, usually built using Machine Learning techniques, have become one of the essential tools to serve this demand. However, developing a recommendation engine has its challenges.", "One of the key challenges when developing or enhancing a recommendation engine is evaluating its impact. Though we are sure about the positive impact, there is a need to quantify the same. This quantification not only facilitates stakeholder communication but also serves as a benchmark for future enhancements.", "After exploring some of the measures, I settled on Normalized Discounted Cumulative Gain or NDCG for short.", "NDCG is a measure of ranking quality.", "In Information Retrieval, such measures assess the document retrieval algorithms.", "In this article, we will cover the following:", "The first question which popped up in my mind after reading about this was How a measure of ranking quality will be appropriate for evaluating the recommendation engine?", "A recommendation engine recommends a set of documents from a superset which the engine finds to be most relevant to the user. In that sense, a recommendation engine is simply performing a task of document retrieval. Thus, we can assess a recommendation engine using NDCG.", "Let us take a look at the theory of NDCG and how we can evaluate a recommendation engine using it.", "To understand NDCG, we need to understand its predecessors: Cumulative Gain(CG) and Discounted Cumulative Gain(DCG). Also, we need to keep the following assumption in mind:", "The highly relevant documents are more useful than moderately relevant documents, which are in turn more useful than irrelevant documents.", "Every recommendation has a relevance score associated with it. Cumulative Gain is the sum of all the relevance scores in a recommendation set.", "Thus, CG for ordered recommendation set A with document relevance scores will be:", "There is a drawback with Cumulative Gain. Consider the following two ordered recommendation sets with relevance scores of individual documents.", "We know that Set B is better than Set A as it is recommending in decreasing order of relevance, but as per the Cumulative Gain, both sets are equally good. What exactly lacking is the use of position along with relevance scores. DCG fills this gap. The computation involves discounting the relevance score by dividing it with the log of the corresponding position.", "Alternatively, it can also be computed using the below expression.", "This second expression penalizes heavily as compared to the first one if the document with higher relevance is ranked lower. Depending on the application you can choose either one of the expressions to compute the DCG and NDCG.", "If the relevance scores are binary i.e. either 0 or 1, then the two expressions yield the same result.", "Let us compute the DCG for both ordered sets using the first expression.", "The DCG results for the above example is aligned with our intuition. Set B is better than Set A.", "DCG seems a good measure at first as it takes position significance into account. However, it is still not complete. Depending on various factors, the number of recommendations served may vary for every user. Thus, the DCG will vary accordingly. We need a score which has a proper upper and lower bounds so that we can take a mean across all the recommendations score to report a final score. NDCG brings in this normalization.", "For every recommendation set, to compute NDCG, we need to compute :", "NDCG is then the ratio of DCG of recommended order to DCG of ideal order.", "This ratio will always be in the range [0,1].", "Consider the following ordered recommendation set served to one of the users.", "The ideal order for this recommendation set will be:", "The corresponding DCG scores using the first expression:", "Thus, the NDCG for this recommendation set will be:", "To evaluate a recommendation engine, compute a mean of NDCG for the recommendations served to the test set of the users.", "In this article, we have covered the theory on NDCG and its use as an evaluation metric for a recommendation engine.", "There are other measures as well such as Mean Average Precision, etc. However, for the type of Recommendation Engines I have built, I found NDCG as a better measure.", "NDCG may not be the best metric to evaluate all the recommendation engines but it will work for many of them.", "Interested in such topics or need some help with them?", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F759a851452d1&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluate-your-recommendation-engine-using-ndcg-759a851452d1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluate-your-recommendation-engine-using-ndcg-759a851452d1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluate-your-recommendation-engine-using-ndcg-759a851452d1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluate-your-recommendation-engine-using-ndcg-759a851452d1&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----759a851452d1--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----759a851452d1--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@pranaychandekar?source=post_page-----759a851452d1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@pranaychandekar?source=post_page-----759a851452d1--------------------------------", "anchor_text": "Pranay Chandekar"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc7b2163a15bc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluate-your-recommendation-engine-using-ndcg-759a851452d1&user=Pranay+Chandekar&userId=c7b2163a15bc&source=post_page-c7b2163a15bc----759a851452d1---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F759a851452d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluate-your-recommendation-engine-using-ndcg-759a851452d1&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F759a851452d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluate-your-recommendation-engine-using-ndcg-759a851452d1&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://linktr.ee/pranaychandekar", "anchor_text": "https://linktr.ee/pranaychandekar"}, {"url": "https://www.thebluediamondgallery.com/wooden-tile/e/evaluate.html", "anchor_text": "Nick Youngson on The Blue Diamond Gallery"}, {"url": "https://linktr.ee/pranaychandekar", "anchor_text": "https://linktr.ee/pranaychandekar"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----759a851452d1---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/recommendation-system?source=post_page-----759a851452d1---------------recommendation_system-----------------", "anchor_text": "Recommendation System"}, {"url": "https://medium.com/tag/recommendation-engine?source=post_page-----759a851452d1---------------recommendation_engine-----------------", "anchor_text": "Recommendation Engine"}, {"url": "https://medium.com/tag/data-science?source=post_page-----759a851452d1---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----759a851452d1---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F759a851452d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluate-your-recommendation-engine-using-ndcg-759a851452d1&user=Pranay+Chandekar&userId=c7b2163a15bc&source=-----759a851452d1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F759a851452d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluate-your-recommendation-engine-using-ndcg-759a851452d1&user=Pranay+Chandekar&userId=c7b2163a15bc&source=-----759a851452d1---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F759a851452d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluate-your-recommendation-engine-using-ndcg-759a851452d1&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----759a851452d1--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F759a851452d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluate-your-recommendation-engine-using-ndcg-759a851452d1&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----759a851452d1---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----759a851452d1--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----759a851452d1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----759a851452d1--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----759a851452d1--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----759a851452d1--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----759a851452d1--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----759a851452d1--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----759a851452d1--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@pranaychandekar?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@pranaychandekar?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Pranay Chandekar"}, {"url": "https://medium.com/@pranaychandekar/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "69 Followers"}, {"url": "https://linktr.ee/pranaychandekar", "anchor_text": "https://linktr.ee/pranaychandekar"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc7b2163a15bc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluate-your-recommendation-engine-using-ndcg-759a851452d1&user=Pranay+Chandekar&userId=c7b2163a15bc&source=post_page-c7b2163a15bc--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff978545a3667&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluate-your-recommendation-engine-using-ndcg-759a851452d1&newsletterV3=c7b2163a15bc&newsletterV3Id=f978545a3667&user=Pranay+Chandekar&userId=c7b2163a15bc&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}