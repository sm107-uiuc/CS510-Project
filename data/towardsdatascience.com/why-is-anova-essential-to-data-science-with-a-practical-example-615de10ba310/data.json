{"url": "https://towardsdatascience.com/why-is-anova-essential-to-data-science-with-a-practical-example-615de10ba310", "time": 1683017203.403214, "path": "towardsdatascience.com/why-is-anova-essential-to-data-science-with-a-practical-example-615de10ba310/", "webpage": {"metadata": {"title": "Why ANOVA is Essential to Data Science with a Practical Example | by Betty LD | Towards Data Science", "h1": "Why ANOVA is Essential to Data Science with a Practical Example", "description": "Have you already had an uncomfortable feeling about the conclusion you reach from the data you collect? I did. Even after cleaning, processing, comparing the data, I could hear this devilish voice in\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/bledem/RunAnova/blob/master/notebooks/example_without_library.ipynb", "anchor_text": "full notebook here", "paragraph_index": 15}, {"url": "https://www.investopedia.com/ask/answers/042415/what-difference-between-standard-error-means-and-standard-deviation.asp#:~:text=The%20standard%20deviation%20(SD)%20measures,always%20smaller%20than%20the%20SD.", "anchor_text": "[Investopedia]", "paragraph_index": 17}, {"url": "https://github.com/bledem/RunAnova", "anchor_text": "here", "paragraph_index": 60}, {"url": "https://www.investopedia.com/ask/answers/042415/what-difference-between-standard-error-means-and-standard-deviation.asp#:~:text=The%20standard%20deviation%20(SD)%20measures,always%20smaller%20than%20the%20SD.", "anchor_text": "Standard Error of the Mean vs. Standard Deviation: The Difference", "paragraph_index": 66}], "all_paragraphs": ["What you will learn from this article:", "Have you already had an uncomfortable feeling about the conclusion you reach from the data you collect? I did.", "Even after cleaning, processing, comparing the data, I could hear this devilish voice in me: \u201cIs your conclusion correct?\u201d, \u201cIs your data really representative or is it just lucky samples?\u201d.", "This recurrent \u201cIs this data enough to draw a conclusion?\u201d was constantly floating in my head.", "I knew that my data created ideas but no truth. They were only opinions, nothing reliable enough to convince people \u2014 even not myself.", "One day, I looked for help to get rid of this uneasy feeling, and run into this short video which changed my perspective:", "Then I realized one thing, \u201cyou don\u2019t always need more data, maybe you just need statistics\u201d.", "With statistics, you can control the uncertainty hidden behind your data. With statistics, you can know what the margin of error of your guess on the population made from the sample data is.", "In this article, I won\u2019t detail the following fundamentals:", "I will dive directly into ANOVA: let\u2019s start by why you should care about it.", "You are a manager. Sales went great and your monthly budget increased. You want to improve the working conditions of the sales team and got an idea (Eur\u00eaka!): how about offering breakfast every Monday?", "Wait a minute, there is a very important meeting every Monday morning, and you need everybody to be aware. Since you hesitate about the food quantity you should provide, you decide to run an experiment and find which breakfast fits the best by yourself.", "One group of 15 employees was randomly assigned to each of the three breakfast types:", "After eating, their attention span in minutes is recorded during the morning meeting.", "In academic statistics, we call this experiment a \u201csingle factor experiment\u201d. The factor of interest is the meal type which has three levels (no, light, full). Since it is a single factor experiment, each level can be called a treatment because they represent the three populations we investigate.", "Collect the results (15 measurements in total) in a pandas DataFrame (full notebook here)", "Compute the mean, standard error, and the confidence interval for each treatment with numpy.mean, scipy.stats.sem, scipy.stats.t.interval or use directly researchpy library:", "Reminder: the Standard Error (SE) is the standard deviation (SD) of the sample mean (often called std). It measures how far the sample mean of the data is likely to be from the population mean. It measures how much discrepancy there is likely to be from your sample compared to the population mean [Investopedia]. The Central Limit Theorem approximates it to the ratio of standard deviation divided by the square root of the sample size.", "Then, visualize your data to get insights:", "1. A plain histogram of the data", "Smoothen histogram with a mix of Gaussian distributions to better visualize the data shape:", "One of the most reliable ways to compare the data at a glance:", "Ok. From these samples made of the attention span of 5 people for each breakfast type, you can draw a rough conclusion about all your employees: they are more attentive when they eat breakfast rather than when they don\u2019t. You can clearly see on the boxplot that the average attention span is obviously higher for \u201clight\u201d and \u201cfull breakfast\u201d than for \u201cno breakfast\u201d in blue.", "ANOVA answers partially all these questions since the \u201cANalysis Of VAriance\u201d judges the effect of one factor (meal quantity) on the experimental response (attention span).", "The mean is the most honest (but naive estimation) you can make about the population you study from the data you collected. The pitfall is illustrated below, where the distribution of Figure 1 and Figure 2 have the same means (0, 9, 16) but their variance differs (small variance for Figure 1 and large variance for Figure 2).", "In Figure 1, you can say that the population means of the three categories are different with pretty high confidence, but that is not the case for Figure 2 where the data is more spread out, even if the means in both figures are exactly the same. In the case of Figure 2, each population means could be anywhere inside its distribution and since the distributions overlap each other, we cannot know which mean is higher.", "2. Can\u2019t we just use Z or t-test hypothesis testing?", "- If you just compare two means at a time, you waste the information from the other means in the study.", "- When you compare two means at a time and make all pairwise hypothesis testing, the probability of rejecting the null hypothesis when it is true increases. This is because the more t-tests are conducted, the greater is the likelihood of getting a false significance [2].", "- If you need a test for each pair, for 5 means, you would need 10 tests.", "Conclusion: if you have plenty of time and good luck on your side, you can do hypothesis testing. Otherwise, run an ANOVA.", "I just spoke about Z and t-test statistics, so I will insert a quick reminder about about them.", "The test statistic is a tool used to make a conclusion about a population estimator (mean, variance, etc) from a sample and estimate the error coming along with this estimator (because it is very rare to be able to collect all the population data).", "To do that, you postulate an initial guess (alternative hypothesis Ha) which goes against the general opinion (null hypothesis Ho) and check if:", "- The data confirms your hypothesis.", "- The data rejects your hypothesis.", "The hypothesis testing tells you if there is enough evidence in your data to make a conclusion (alternative hypothesis) over the current opinion. More particularly it indicates how small or large the difference should be between the current opinion estimator (Ho) and the estimator from your data to reject the current opinion (Ha).", "In the analysis of variance, we use the F-distribution which is the distribution used for comparing two population variances, and the hypothesis testing focuses on the equality of the means.", "In this article, we explore one way (one factor) ANOVA.", "But if you think that one way is too boring, you can switch to a two way ANOVA by increasing the number of factors of interest and study each of them separately and their interaction.", "We have 2 factors so it becomes a two-way ANOVA (3x2). But we won\u2019t cover it in this article.", "1. Check if your data is mount shaped with the display techniques shown above, and if the mount shape is not obvious, ensure at least that the samples\u2019 sizes is equal [1, p.427]. Or run normality of variances tests like:", "Levene test for the equality of variance. It tests the null hypothesis that the variances of the treatment samples are equal.", "Now we know: why we do ANOVA, and ensured that we can do ANOVA, let\u2019s do it!", "At this point, you understand that ANOVA is a tool to compare the means of k different treatments, answering the following questions:", "In our example, we have three levels for breakfast so k=3, and the population means are mu_i for i=1,2,3. It gives the hypothesis:", "Does the meal quantity affect the average attention span of my employees?", "Do my sample data show that at least one type of breakfast gives a better average attention span?", "To answer these questions, we will compare the mean (mu_i) of the attention span for each breakfast, taking into account their variability (sigma_i).", "To know the reliability of our conclusion, we need to understand the amount of variability in the data. In the analysis of variance, you divide the total variation in the response measurement (the attention span) into portions that may be attributed to various factors of interest (the meal quantity). This total variation is called Total Sum of Square TSS:", "Then you convert the Sum of Squares (SS) into an estimate of the variation called the Mean Square (MS), by dividing it by its degree of freedom.", "The degree of freedom is defined by the number of observations minus one. Therefore, the degree of freedom are respectively:", "In our example, n-1 is 14 degrees of freedom, k-1 is 2 degrees of freedom and n-k is15\u20133=12 degrees of freedom.", "Finally, we use the ratio of MST/MSE as the F-test statistic.", "3.Rejection region: reject Ho if F > F_alpha.", "From the output ANOVA table, you can read the conclusion: our test statistic F is about 4.93 and F_0.05 is about 3.89, therefore F>F_0.05 and we can reject the null hypothesis with a level of confidence of 1\u20130.05= 95%. It means that the three average attention spans are different from at least one of the others.", "You can also use the p-value and reject the null hypothesis if p < 0.05. Here, p=0.027 < 0.05 therefore we reject the null hypothesis and reach the same conclusion.", "The conclusion from ANOVA: breakfast type matters on the employee attention span since the average attention span differs for at least one of the meal.", "Because thanks to ANOVA, we know that the average attention span can be ranked, the next step is to know if we can say that a light breakfast is better than a full breakfast with 95% confidence using Scheffe or Tukey test.", "The article is dense, but running ANOVA is pretty fast-forward. I built a library to run it from any dataframe. Few lines of code will do all the operations (and more) shown in this article:", "Check the repo here, clone it, install it in a virtual environment, and run as many ANOVA you want!", "\u201cIf you want to find the most sold item among these products, you should take into account the variability when comparing the mean.\u201d", "\u201cANOVA tells you if there is a difference, but not where the difference lies.\u201d", "\u201cYou better check if your sample data is at least shaped mounted and run a few tests of variance equality.\u201d", "\u201cI am feeling anxious now. I run an ANOVA but I am afraid to look at the results\u2026 Imagine if I cannot draw any conclusion from the data I just collected?\u201d", "[2] Triola, Mario F, and Mario F. Triola. Elementary Statistics with Multimedia Study Guide. Boston: Pearson Addison Wesley, 2008. Print.", "[3] Investopedia, Standard Error of the Mean vs. Standard Deviation: The Difference.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "AI and Geospatial Scientist and Engineer."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F615de10ba310&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-is-anova-essential-to-data-science-with-a-practical-example-615de10ba310&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-is-anova-essential-to-data-science-with-a-practical-example-615de10ba310&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-is-anova-essential-to-data-science-with-a-practical-example-615de10ba310&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-is-anova-essential-to-data-science-with-a-practical-example-615de10ba310&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----615de10ba310--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----615de10ba310--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@betty.ld?source=post_page-----615de10ba310--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@betty.ld?source=post_page-----615de10ba310--------------------------------", "anchor_text": "Betty LD"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F9e6de59677a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-is-anova-essential-to-data-science-with-a-practical-example-615de10ba310&user=Betty+LD&userId=9e6de59677a9&source=post_page-9e6de59677a9----615de10ba310---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F615de10ba310&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-is-anova-essential-to-data-science-with-a-practical-example-615de10ba310&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F615de10ba310&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-is-anova-essential-to-data-science-with-a-practical-example-615de10ba310&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/bledem/RunAnova", "anchor_text": "(repo here)"}, {"url": "https://jeshoots.com/businessman-working-finance-trading-stock-concept/", "anchor_text": "https://jeshoots.com/"}, {"url": "https://unsplash.com/@frankbusch", "anchor_text": "Frank Busch"}, {"url": "https://unsplash.com/", "anchor_text": "www.unplash.com"}, {"url": "https://github.com/bledem/RunAnova/blob/master/notebooks/example_without_library.ipynb", "anchor_text": "full notebook here"}, {"url": "https://www.investopedia.com/ask/answers/042415/what-difference-between-standard-error-means-and-standard-deviation.asp#:~:text=The%20standard%20deviation%20(SD)%20measures,always%20smaller%20than%20the%20SD.", "anchor_text": "[Investopedia]"}, {"url": "https://burst.shopify.com/@thenomadbrodie", "anchor_text": "Brodie Vissers"}, {"url": "https://burst.shopify.com/photos/search?utf8=%E2%9C%93&q=breakfast", "anchor_text": "https://burst.shopify.com"}, {"url": "https://burst.shopify.com/@lightleaksin", "anchor_text": "Samantha Hurley"}, {"url": "https://burst.shopify.com/photos/search?utf8=%E2%9C%93&q=breakfast", "anchor_text": "https://burst.shopify.com"}, {"url": "https://machinelearningmastery.com/a-gentle-introduction-to-normality-tests-in-python/", "anchor_text": "https://machinelearningmastery.com/a-gentle-introduction-to-normality-tests-in-python/"}, {"url": "https://burst.shopify.com/@adrienolichon", "anchor_text": "Adrien Olichon"}, {"url": "https://burst.shopify.com/photos/search?utf8=%E2%9C%93&q=breakfast", "anchor_text": "https://burst.shopify.com"}, {"url": "https://github.com/bledem/RunAnova", "anchor_text": "here"}, {"url": "https://www.investopedia.com/ask/answers/042415/what-difference-between-standard-error-means-and-standard-deviation.asp#:~:text=The%20standard%20deviation%20(SD)%20measures,always%20smaller%20than%20the%20SD.", "anchor_text": "Standard Error of the Mean vs. Standard Deviation: The Difference"}, {"url": "https://medium.com/tag/anova?source=post_page-----615de10ba310---------------anova-----------------", "anchor_text": "Anova"}, {"url": "https://medium.com/tag/statistics?source=post_page-----615de10ba310---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/decision-making?source=post_page-----615de10ba310---------------decision_making-----------------", "anchor_text": "Decision Making"}, {"url": "https://medium.com/tag/data?source=post_page-----615de10ba310---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/python?source=post_page-----615de10ba310---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F615de10ba310&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-is-anova-essential-to-data-science-with-a-practical-example-615de10ba310&user=Betty+LD&userId=9e6de59677a9&source=-----615de10ba310---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F615de10ba310&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-is-anova-essential-to-data-science-with-a-practical-example-615de10ba310&user=Betty+LD&userId=9e6de59677a9&source=-----615de10ba310---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F615de10ba310&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-is-anova-essential-to-data-science-with-a-practical-example-615de10ba310&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----615de10ba310--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F615de10ba310&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-is-anova-essential-to-data-science-with-a-practical-example-615de10ba310&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----615de10ba310---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----615de10ba310--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----615de10ba310--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----615de10ba310--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----615de10ba310--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----615de10ba310--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----615de10ba310--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----615de10ba310--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----615de10ba310--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@betty.ld?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@betty.ld?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Betty LD"}, {"url": "https://medium.com/@betty.ld/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "144 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F9e6de59677a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-is-anova-essential-to-data-science-with-a-practical-example-615de10ba310&user=Betty+LD&userId=9e6de59677a9&source=post_page-9e6de59677a9--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F48bbd0231110&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-is-anova-essential-to-data-science-with-a-practical-example-615de10ba310&newsletterV3=9e6de59677a9&newsletterV3Id=48bbd0231110&user=Betty+LD&userId=9e6de59677a9&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}