{"url": "https://towardsdatascience.com/forecasting-average-daily-rate-trends-for-hotels-using-lstm-93a31e01190a", "time": 1683004925.118855, "path": "towardsdatascience.com/forecasting-average-daily-rate-trends-for-hotels-using-lstm-93a31e01190a/", "webpage": {"metadata": {"title": "Forecasting Average Daily Rate Trends For Hotels Using LSTM | by Michael Grogan | Towards Data Science", "h1": "Forecasting Average Daily Rate Trends For Hotels Using LSTM", "description": "The dataset under study consists of cancellation bookings for a Portuguese hotel which includes the ADR for each individual booking as one of the included variables. Using time series analysis, let\u2026"}, "outgoing_paragraph_urls": [{"url": "https://roompricegenie.com/average-rate-adr/", "anchor_text": "metrics for hotels", "paragraph_index": 0}, {"url": "https://www.sciencedirect.com/science/article/pii/S2352340918315191", "anchor_text": "dataset", "paragraph_index": 2}, {"url": "https://github.com/MGCodesandStats/hotel-modelling", "anchor_text": "MGCodesandStats GitHub repository", "paragraph_index": 40}, {"url": "https://www.michael-grogan.com/", "anchor_text": "michael-grogan.com", "paragraph_index": 41}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com", "paragraph_index": 44}], "all_paragraphs": ["Average Daily Rate (ADR) is recognised as one of the most important metrics for hotels.", "Essentially, ADR is measuring the average price of a hotel room over a given period.", "The dataset under study consists of cancellation bookings for a Portuguese hotel which includes the ADR for each individual booking as one of the included variables.", "Using time series analysis, let us assume that the hotel wishes to 1) calculate the average ADR value across all bookings for a given week and 2) use this data to forecast future weekly ADR trends \u2014 by weekly ADR we mean the average ADR across all bookings in any one week \u2014 hereafter referred to as \u201cweekly ADR\u201d.", "One will note in the dataset that there are numerous cancellation incidences with a positive ADR value \u2014 it is assumed in this case that even though the customer cancelled, they were still ultimately charged for the booking (e.g. cancelling past the cancellation deadline, etc).", "A long-short term memory network (LSTM) is used to do this. LSTMs are sequential neural networks that assume dependence between the observations in a particular series. As such, they have increasingly come to be used for time series forecasting purposes.", "For reference, ADR per customer is included \u2014 given that some customers are also companies as well as individuals, which results in more than one room per booking in many cases.", "Using pandas, the full date (year and week number) is joined with the corresponding ADR Value for each booking.", "These data points were then grouped together to obtain the average ADR per week across all bookings as follows:", "Here is what the new dataframe looks like:", "As a side note, the full notebook and datasets are available at the link for the GitHub repository provided below, where the data manipulation procedures are illustrated in more detail.", "A plot of the time series is generated:", "Let\u2019s begin the analysis for the H1 dataset. The first 100 observations from the created time series is called. Then, a dataset matrix is created and the data is scaled.", "The data is then normalized with MinMaxScaler in order to allow the neural network to interpret it properly:", "Here is a sample of the output:", "The data is partitioned into training and test sets, with the previous parameter set to 5:", "When the previous parameter is set to this, this essentially means that the value at time t (Y_train for the training data), is being predicted using the values t-1, t-2, t-3, t-4, and t-5 (all under X_train).", "Here is a sample of the Y_train array:", "Here is a sample of the X_train array:", "This is a visual representation of the training and validation loss:", "Here is a sample of training and test predictions:", "The predictions are converted back to normal values using scaler.inverse_transform, and the training and validation scores are calculated.", "Here is a plot of the predictions:", "The test and prediction arrays are reshaped accordingly, and the function for mean directional accuracy is defined:", "The mean directional accuracy is now calculated:", "An MDA of 86% is obtained, meaning that the model correctly predicts the direction of the actual weekly ADR trends 86% of the time.", "As seen above, a validation score of 8.83 RMSE was also obtained. RMSE is a measure of the deviation in weekly ADR from the actual values, and assumes the same numerical format as the same. The mean weekly ADR across the validation data was 69.99.", "The mean forecast error on the validation data came in at -1.419:", "Now that the model has been trained, the next step is to test the predictions of the model on unseen (or test data).", "As previously explained, the value at time t is being predicted by LSTM using the values t-1, t-2, t-3, t-4, and t-5.", "The last 15 weekly ADR values in the series are predicted in this case.", "The previously built model is now used to predict each value using the previous five values in the time series:", "The variables are scaled appropriately, and model.predict is invoked:", "Here is an array of the generated predictions:", "The array is converted back to the original value format:", "Here is the calculated MDA, RMSE, and MFE (mean forecast error).", "With the mean weekly ADR for the test set coming in at 160.49, the RMSE and MFE performance do look reasonably strong (the lower the error, the better).", "The same procedure was carried out on the H2 dataset (ADR data for a separate hotel in Portugal). Here are the results when comparing the predictions to the test set:", "For the H2 dataset, the mean weekly ADR on the test set came in at 131.42, with RMSE and MFE errors low by comparison.", "In this example, you have seen how ADR can be forecasted using an LSTM model. Specifically, the above examples have illustrated:", "The datasets and notebooks for this example are available at the MGCodesandStats GitHub repository, along with further research on this topic.", "You can also find more of my data science content at michael-grogan.com.", "Disclaimer: This article is written on an \u201cas is\u201d basis and without warranty. It was written with the intention of providing an overview of data science concepts, and should not be interpreted as professional advice in any way.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Science Consultant with expertise in economics, time series analysis, and Bayesian methods | michael-grogan.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F93a31e01190a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-average-daily-rate-trends-for-hotels-using-lstm-93a31e01190a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-average-daily-rate-trends-for-hotels-using-lstm-93a31e01190a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-average-daily-rate-trends-for-hotels-using-lstm-93a31e01190a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-average-daily-rate-trends-for-hotels-using-lstm-93a31e01190a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----93a31e01190a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----93a31e01190a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----93a31e01190a--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----93a31e01190a--------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-average-daily-rate-trends-for-hotels-using-lstm-93a31e01190a&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178----93a31e01190a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F93a31e01190a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-average-daily-rate-trends-for-hotels-using-lstm-93a31e01190a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F93a31e01190a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-average-daily-rate-trends-for-hotels-using-lstm-93a31e01190a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://roompricegenie.com/average-rate-adr/", "anchor_text": "metrics for hotels"}, {"url": "https://www.sciencedirect.com/science/article/pii/S2352340918315191", "anchor_text": "dataset"}, {"url": "https://github.com/MGCodesandStats/hotel-modelling", "anchor_text": "MGCodesandStats GitHub repository"}, {"url": "https://www.michael-grogan.com/", "anchor_text": "michael-grogan.com"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----93a31e01190a---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----93a31e01190a---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/revenue?source=post_page-----93a31e01190a---------------revenue-----------------", "anchor_text": "Revenue"}, {"url": "https://medium.com/tag/business-intelligence?source=post_page-----93a31e01190a---------------business_intelligence-----------------", "anchor_text": "Business Intelligence"}, {"url": "https://medium.com/tag/hospitality?source=post_page-----93a31e01190a---------------hospitality-----------------", "anchor_text": "Hospitality"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F93a31e01190a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-average-daily-rate-trends-for-hotels-using-lstm-93a31e01190a&user=Michael+Grogan&userId=eec017a8b178&source=-----93a31e01190a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F93a31e01190a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-average-daily-rate-trends-for-hotels-using-lstm-93a31e01190a&user=Michael+Grogan&userId=eec017a8b178&source=-----93a31e01190a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F93a31e01190a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-average-daily-rate-trends-for-hotels-using-lstm-93a31e01190a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----93a31e01190a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F93a31e01190a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-average-daily-rate-trends-for-hotels-using-lstm-93a31e01190a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----93a31e01190a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----93a31e01190a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----93a31e01190a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----93a31e01190a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----93a31e01190a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----93a31e01190a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----93a31e01190a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----93a31e01190a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----93a31e01190a--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://mgcodesandstats.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.5K Followers"}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-average-daily-rate-trends-for-hotels-using-lstm-93a31e01190a&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3c6e2607915&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecasting-average-daily-rate-trends-for-hotels-using-lstm-93a31e01190a&newsletterV3=eec017a8b178&newsletterV3Id=3c6e2607915&user=Michael+Grogan&userId=eec017a8b178&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}