{"url": "https://towardsdatascience.com/complementing-a-b-testing-with-machine-learning-6c5c92baa162", "time": 1682996399.414894, "path": "towardsdatascience.com/complementing-a-b-testing-with-machine-learning-6c5c92baa162/", "webpage": {"metadata": {"title": "Complementing A B Testing with Machine Learning and Feature Importance | by Alessandro Kosciansky | Towards Data Science", "h1": "Complementing A B Testing with Machine Learning and Feature Importance", "description": "I use feature importance of a Random Forest to augment my A/B test. In fact, I would have drawn the wrong conclusion from the A/B test if I hadn\u2019t done this"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["In this post I want to focus on using Machine Learning to complement other data science tasks, in particular A/B testing. This is supposed to be a practical post rather than a theoretical discussion and I assume that you are at least somewhat familar with A/B Testing and Random Forest and Feature Importance.", "I have come across an interesting challenge recently that required me to run an A/B test to test whether one auction type sold cars faster than another. Simply running the A/B test would have concluded that one auction type did indeed sell cars faster than the other, but it turned out that the auction type wasn\u2019t the primary driver behind faster selling times. It was the lower associated prices of that one auction type. This could have had dire consequences if the company selling these cars would have concluded to focus on selling via that one auction type instead of focusing on pricing first.", "The way I found out about this was to run a Random Forest on the dataset and then get the feature importances, which helped me uncover this. In fact, I generally believe that machine learning is a great complementary tool for Exploratory Data Analysis (EDA) as well as A/B testing.", "Let\u2019s first have a quick look at the data. For the A/B test what was of interest are the sales_channel, i.e. the two different auction types and the selling time, which is the difference between sold_date and bought_date.", "The challenge was to run an A/B test to say whether auction type 1 or 2 sell cars faster \u2014 if we can conclude that one type sells faster than the other, the company could focus on selling more through one auction, for example.", "It turns out that the selling time distributions of both auction types are not \u2018normal\u2019 or t-distributions. Both are skewed with a long tail. Thanks to the Central Limit Theorem however, we can transform these distributions to more normal distributions by randomly sampling from their distributions and taking their mean selling time each time. If we do this for 1000 times, for example, then we go from graph 1 (which shows the selling times per auction type) to graph 2 (which shows the average selling time per auction type).", "What wasn\u2019t so obvious in Graph 1 becomes very obvious in Graph 2: The average selling time of auction type 1 is much shorter than that of auction type 2. Running an A/B test confirms this with a p-value of 0.00. Running an A/B test here even seems redundant as the distributions don\u2019t even overlap.", "If we now concluded that the company should only sell through auction type 1 as the cars sell much faster then we\u2019d probably be making a mistake.", "What if there were other characteristics/features that make the two auction types very distinct apart from selling time? This dataset has very few features, so we could draw more similar distributions, calculate the correlations where possible and so on. An easier and more effective approach would be to use machine learning instead to help us out \u2014 this becomes particularly useful \u2014 if not necessary \u2014 when we have a lot more features.", "Most machine learning algorithms have a method for calculating their feature importance \u2014 that is, how big a role did each feature play in predicting the target/dependent feature. Here the target would be selling time.", "I have run Random Forest on the dataset and calculated the feature importance. I also used CatBoost, a gradient-boosting tree method, but came to the same conclusion. That\u2019s why I stick with Random Forest as it\u2019s a much easier algorithm to get your head around.", "On the left you see the feature importance of each feature on predicting selling time \u2014 the longer the bar, the more important a feature. Buy Price is by far the most important feature whereas Sales Channel (auction types) hardly matters at all.", "I then calculated another type of feature importance called SHAP. The way to read the graph is the following: Each dot is a row/observation in the dataset. Negative SHAP values mean that the feature value reduced the value of the target prediction (selling time). The colour blue indicates that the feature value was low and red indicates that the feature value was high. When looking at buy price we see that all negative SHAP values were blue, i.e. low buy prices led to a prediction of low selling ime. Note however that there are also some blue dots with positive SHAP values. In those cases the low buy price led to the opposite prediction of longer selling time. This can happen when features interact with each other. Interestingly, sales channel (auction types) is very nicely split up with auction type 1 in red and auction type 2 in blue.", "Before we wrap up let\u2019s briefly look at buy prices by auction type. We had already suspected this from looking at the feature importances. Both auction types have very different price distribution. Auction type 1 (ca. $6k) has much lower prices than auction type 2 (ca. $24k).", "Simply running an A/B test to see whether one auction type sells cars faster than another probably would have led to the wrong conclusion. Running Random Forest or any other machine learning algorithm and then calculating the feature importance gives you a much better picture of what features influence the target you\u2019re interested in. I found that using machine learning to complement A/B tests helped me make better decisions. I hope it helps you, too.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist in Price and Sales Optimisation | Loves combining different fields of Data Science | Other interests: Chinese, Economics, Politics, Sports"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F6c5c92baa162&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomplementing-a-b-testing-with-machine-learning-6c5c92baa162&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomplementing-a-b-testing-with-machine-learning-6c5c92baa162&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomplementing-a-b-testing-with-machine-learning-6c5c92baa162&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomplementing-a-b-testing-with-machine-learning-6c5c92baa162&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----6c5c92baa162--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6c5c92baa162--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@ale.kosciansky?source=post_page-----6c5c92baa162--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ale.kosciansky?source=post_page-----6c5c92baa162--------------------------------", "anchor_text": "Alessandro Kosciansky"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F42203ce12f35&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomplementing-a-b-testing-with-machine-learning-6c5c92baa162&user=Alessandro+Kosciansky&userId=42203ce12f35&source=post_page-42203ce12f35----6c5c92baa162---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6c5c92baa162&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomplementing-a-b-testing-with-machine-learning-6c5c92baa162&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6c5c92baa162&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomplementing-a-b-testing-with-machine-learning-6c5c92baa162&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@evertonvila?utm_source=medium&utm_medium=referral", "anchor_text": "Everton Vila"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----6c5c92baa162---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/a-b-testing?source=post_page-----6c5c92baa162---------------a_b_testing-----------------", "anchor_text": "A B Testing"}, {"url": "https://medium.com/tag/feature-importance?source=post_page-----6c5c92baa162---------------feature_importance-----------------", "anchor_text": "Feature Importance"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----6c5c92baa162---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6c5c92baa162&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomplementing-a-b-testing-with-machine-learning-6c5c92baa162&user=Alessandro+Kosciansky&userId=42203ce12f35&source=-----6c5c92baa162---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6c5c92baa162&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomplementing-a-b-testing-with-machine-learning-6c5c92baa162&user=Alessandro+Kosciansky&userId=42203ce12f35&source=-----6c5c92baa162---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6c5c92baa162&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomplementing-a-b-testing-with-machine-learning-6c5c92baa162&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6c5c92baa162--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F6c5c92baa162&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomplementing-a-b-testing-with-machine-learning-6c5c92baa162&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----6c5c92baa162---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----6c5c92baa162--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----6c5c92baa162--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----6c5c92baa162--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----6c5c92baa162--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----6c5c92baa162--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----6c5c92baa162--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----6c5c92baa162--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----6c5c92baa162--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ale.kosciansky?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ale.kosciansky?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Alessandro Kosciansky"}, {"url": "https://medium.com/@ale.kosciansky/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "38 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F42203ce12f35&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomplementing-a-b-testing-with-machine-learning-6c5c92baa162&user=Alessandro+Kosciansky&userId=42203ce12f35&source=post_page-42203ce12f35--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ffa9fc60a9424&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcomplementing-a-b-testing-with-machine-learning-6c5c92baa162&newsletterV3=42203ce12f35&newsletterV3Id=fa9fc60a9424&user=Alessandro+Kosciansky&userId=42203ce12f35&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}