{"url": "https://towardsdatascience.com/detectron2-python-wheels-cache-bfb94a0267ef", "time": 1683011140.297058, "path": "towardsdatascience.com/detectron2-python-wheels-cache-bfb94a0267ef/", "webpage": {"metadata": {"title": "Detectron2 & Python Wheels Cache. Building a Detectron2 wheel package on\u2026 | by Ian Ormesher | Towards Data Science", "h1": "Detectron2 & Python Wheels Cache", "description": "I\u2019ve been recently doing some work with a custom Detectron2 model. I\u2019ve been training my model on a Linux VM in the cloud, but I wanted to use this trained model in a Windows environment. The\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/facebookresearch/detectron2", "anchor_text": "Detectron2", "paragraph_index": 0}], "all_paragraphs": ["I\u2019ve been recently doing some work with a custom Detectron2 model. I\u2019ve been training my model on a Linux VM in the cloud, but I wanted to use this trained model in a Windows environment. The official line from Facebook Research about Detectron2 is that it isn\u2019t supported on Windows. But I wasn\u2019t going to let that stop me from trying! The good news is I was able to do it and this article describes the process I used.", "In the process of explaining how I did this, I\u2019m going to assume that you are familiar/comfortable with the following:", "The first thing is to create a virtual environment and then activate it:", "From your virtual environment install PyTorch and torchvision (CPU version only):", "It\u2019s also probably worth installing fvcore and the windows version of pycocotools which is pycocotools-windows:", "To download the Detectron2 source we are going to clone a particular tagged release (here the tag is \u2018v0.1\u2019) using GIT command line:", "Once you\u2019ve cloned the release change to the detectron2 folder you\u2019ve just created with this clone from within your virtual environment (not your GIT command line). E.g. if you GIT cloned into the folder D:\\Source\\Python\\detectron2 then change into that directory and issue the following:", "Don\u2019t forget the full-stop at the end \u2014 that\u2019s really important!", "This should build the detectron2 package and if all has gone well you should see something like this at the end:", "Because we cloned the v0.1 tag you\u2019ll see that it\u2019s built detectron2\u20130.1", "You\u2019ll notice that when you install a python package it checks it\u2019s local wheel cache to see if it\u2019s already downloaded this in the past, and if it has then it uses the cached version. To create you\u2019re own wheel cache you need to first install the wheel package:", "Once you\u2019ve done that we want to list the currently installed packages for our virtual environment and put them into a file (here it\u2019s called requirements.txt):", "To copy/create all the wheels for the currently installed packages and put them in a cache folder (here I\u2019m using D:\\wheels_cache) do the following:", "One of the benefits of using a wheels cache is that in the future you can install directly using the cached wheel rather than having to build a package again. This is useful if you want to do this on a different PC where you may not have all the dependencies. You can do that like this:", "One of the things to note with this approach is that wheels are dependent on the target platform and Python version. This one is for Windows 64-bit and Python 3.8.", "You can even install everything from the requirements.txt file, telling it to look for the wheels in your cache folder:", "Once I had to set up a PC to be installed at a customer site and this box was to be isolated \u2014 i.e. it would not be allowed to connect to the internet or a local network. I had to be able to install Python and all the packages needed on this machine to run the machine learning software I had implemented. The approach I took was to build a wheels cache for the machine of all the packages that were needed. That way installation could happen from the cache.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I am a Data Scientist experienced in machine learning and computer vision."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fbfb94a0267ef&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetectron2-python-wheels-cache-bfb94a0267ef&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetectron2-python-wheels-cache-bfb94a0267ef&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetectron2-python-wheels-cache-bfb94a0267ef&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetectron2-python-wheels-cache-bfb94a0267ef&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----bfb94a0267ef--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----bfb94a0267ef--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@ianormy?source=post_page-----bfb94a0267ef--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ianormy?source=post_page-----bfb94a0267ef--------------------------------", "anchor_text": "Ian Ormesher"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe47df72a1e13&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetectron2-python-wheels-cache-bfb94a0267ef&user=Ian+Ormesher&userId=e47df72a1e13&source=post_page-e47df72a1e13----bfb94a0267ef---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbfb94a0267ef&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetectron2-python-wheels-cache-bfb94a0267ef&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbfb94a0267ef&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetectron2-python-wheels-cache-bfb94a0267ef&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.flickr.com/photos/barneymoss?utm_source=medium&utm_medium=referral", "anchor_text": "Barney Moss"}, {"url": "https://www.flickr.com/photos/barneymoss/14898532020/", "anchor_text": "Flickr"}, {"url": "https://github.com/facebookresearch/detectron2", "anchor_text": "Detectron2"}, {"url": "https://github.com/facebookresearch/detectron2", "anchor_text": "https://github.com/facebookresearch/detectron2"}, {"url": "https://pytorch.org/get-started/locally/", "anchor_text": "https://pytorch.org/get-started/locally/"}, {"url": "https://medium.com/tag/detectron2?source=post_page-----bfb94a0267ef---------------detectron2-----------------", "anchor_text": "Detectron2"}, {"url": "https://medium.com/tag/python?source=post_page-----bfb94a0267ef---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/windows?source=post_page-----bfb94a0267ef---------------windows-----------------", "anchor_text": "Windows"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbfb94a0267ef&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetectron2-python-wheels-cache-bfb94a0267ef&user=Ian+Ormesher&userId=e47df72a1e13&source=-----bfb94a0267ef---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbfb94a0267ef&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetectron2-python-wheels-cache-bfb94a0267ef&user=Ian+Ormesher&userId=e47df72a1e13&source=-----bfb94a0267ef---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbfb94a0267ef&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetectron2-python-wheels-cache-bfb94a0267ef&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----bfb94a0267ef--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fbfb94a0267ef&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetectron2-python-wheels-cache-bfb94a0267ef&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----bfb94a0267ef---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----bfb94a0267ef--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----bfb94a0267ef--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----bfb94a0267ef--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----bfb94a0267ef--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----bfb94a0267ef--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----bfb94a0267ef--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----bfb94a0267ef--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----bfb94a0267ef--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ianormy?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ianormy?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Ian Ormesher"}, {"url": "https://medium.com/@ianormy/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "53 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe47df72a1e13&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetectron2-python-wheels-cache-bfb94a0267ef&user=Ian+Ormesher&userId=e47df72a1e13&source=post_page-e47df72a1e13--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F6fb9494ca21d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetectron2-python-wheels-cache-bfb94a0267ef&newsletterV3=e47df72a1e13&newsletterV3Id=6fb9494ca21d&user=Ian+Ormesher&userId=e47df72a1e13&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}