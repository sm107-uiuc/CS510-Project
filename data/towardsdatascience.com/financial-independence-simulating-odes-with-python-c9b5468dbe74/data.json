{"url": "https://towardsdatascience.com/financial-independence-simulating-odes-with-python-c9b5468dbe74", "time": 1683008195.754239, "path": "towardsdatascience.com/financial-independence-simulating-odes-with-python-c9b5468dbe74/", "webpage": {"metadata": {"title": "Financial Independence \u2014 Simulating ODEs With Python | by Oleg \u017bero | Towards Data Science", "h1": "Financial Independence \u2014 Simulating ODEs With Python", "description": "Creating a personal financial simulator by formulating a system of ordinary differential equations and solving it using scipy and python."}, "outgoing_paragraph_urls": [{"url": "https://github.com/OlegZero13/Data-Science-Algorithm-Gallery/blob/master/Personal_Financial_Simulator_with_ODE.ipynb", "anchor_text": "here", "paragraph_index": 4}, {"url": "https://docs.scipy.org/doc/scipy/reference/generated/scipy.integrate.odeint.html", "anchor_text": "scipy", "paragraph_index": 15}, {"url": "https://github.com/OlegZero13/Data-Science-Algorithm-Gallery/blob/master/Personal_Financial_Simulator_with_ODE.ipynb", "anchor_text": "here", "paragraph_index": 50}, {"url": "https://landing.mailerlite.com/webforms/landing/j5y2q1", "anchor_text": "newsletter", "paragraph_index": 52}, {"url": "https://forms.gle/bNpf9aqZJGLgaU589", "anchor_text": "form", "paragraph_index": 52}, {"url": "https://zerowithdot.com", "anchor_text": "https://zerowithdot.com", "paragraph_index": 54}], "all_paragraphs": ["Imagine one day you wake up and you know you are free to do whatever you like for the rest of your life\u2026 and\u2026 money is no longer a problem. You became truly financially independent and you no longer need to work to make it the next year. Does it sound appealing?", "While it may sound so, the path towards that goal is certainly not easy (unlike what Youtube Ads say about it). There exist many factors to be taken into consideration when dealing with your finance and reasoning is often obscured by the complexity.", "In this article, we are going to attack the problem mathematically and programmatically.", "We will model your wallet using a set of ordinary differential equations (ODEs) and we will later solve using scipy library and Python. At each stage, we will try to link the mathematical formulae with python code and explain the reasoning behind it.", "The goal will be to make the model explainable and expandable. We will create it step by step and, hopefully, that will reward us with a more intuitive understanding of both underlying math as well as the code. For reference, please take a look at the following notebook: here.", "Before we jump into the equations, we would like to stress that this post should, under no circumstances, be treated as financial advice. The author of this post has a background in physics rather than finance, so please also forgive any possible inconsistencies in the vocabulary used.", "There are two ways to look at your wallet.", "One way is to look at how much money you have x(t) at any given point in time t. Another way is to look at how it changes in time. Knowing the initial amount x\u2080 = x(0) as well as the first derivative dx/dt, you can predict what the future holds.", "Because formulating equations for the derivative is, in our opinion, a much simpler process, we will favor this approach instead of looking for x(t) directly. After all, once we have a complete expression for dx/dt, x(t) can be found by numerically integrating dx/dt:", "Let\u2019s begin with a simple case, where you just have a job. You don\u2019t invest just yet and your yearly balance is determined by the following three factors:", "If nothing else comes into play, your gain (or loss) \u2014 the rate at which you are getting rich or poor is:", "If a, s and T are constants, the equation is, in fact, so simple that we can solve it analytically:", "It is a straight line, but as we are just setting up the path to gradually add complexity, let\u2019s do it in python.", "Here, Life is the class, whose methods we will use to define the fractional contributions. While its form is purely a matter of convenience, it makes sense, to keep the definitions of the contributions separate as they can themselves grow in complexity (e.g. progressive tax).", "The live_without_investing(...) function is our derivative, and as such, it has a precisely defined interface func(x, t, **args).", "To perform the integration, we can use odeint from scipy.", "Here, we defined a timeline of 100 (years) with a granularity of 1, and passed it as the third argument to odeint. The zero passed as the second argument represents x\u2080 = 0 that is our initial condition. The fourth (optional) argument allows us to pass additional arguments to the function, which we just did by passing you object.", "It\u2019s hard to imagine that you had been paying taxes when you were five. Similarly, past a certain age, you probably would like to reap the harvest of your work.", "To incorporate those key changes in your life, we will split it into three stages:", "At the same time, we introduce two more parameters: you.starting_age and you.retirement_age to be the years of your life that you transition between the stages mentioned above.", "For our mathematical model, this transitioning implies the existence of two points t\u2081 and t\u2082, at which dx/dt is discontinuous. To properly compute x(t), we need to piece-wise integrate dx/dt over your life, from the cradle to the grave.", "For our code, we modify the model in the following way:", "Note that we also feed x(t\u2099) as an initial condition to the next integral. Although dx/dt are discontinuous, we cannot say the same about x(t)!", "So far, we assumed that the yearly increase to the wallet was a constant function \u0394 = a \u2014 s \u2014 T(a), \u0394 \u2260 \u0394(t). You would likely receive some yearly salary raise or increase your spending. It is also possible that the tax rate itself you may want to model as a time-dependent function.", "Let\u2019s say that your income is now a linear function of time a(t) = \u03b1\u2080 + \u03b1\u2081 t, where is your expected base income (average) and is the amount of extra \u201cgold pcs.\u201d you would receive every year. Similarly, the spending can also take the form of s(t) = \u03c3\u2080 + \u03c3\u2081 t, with \u03c3\u2080 being the average monthly spending and is the extra amount you would be spending in the future \u2014 a sort of \u201cinflation of the living standard\u201d.", "Now, our derivative of is proportional to time dx/dt \u221d t, hence we can expect to be quadratic x(t) \u221d t\u00b2.", "The integration stays the same, but it brings a new result.", "If you follow the computations, you may have tried to forecast your financial condition based on numbers more relevant to you. You have probably noticed, that even if you choose not to expand your living standards \u03c3\u2081 = 0, even a high average pay raise does not guarantee an early or safe retirement.", "Mathematically, you are free to construct whatever \u201cpay raising\u201d terms you want (e.g. a(t) \u221d t\u00b2 or a(t) \u221d t\u00b3), but you will probably have a hard time trying to justify their practical origins. Besides, such terms can only give your wallet polynomial growth, which is, to be honest, not as fast as it can get.", "At this stage, some of you may already recall the formula for the compound interest:", "where FV stands for future value, PV is the present value (often referred to as the principal), R is the interest rate, t refers to the time steps (years) and n denotes the number of times the interest capitalizes per year. In our case FV \u2261 x(t), PV \u2261 x\u2080 and n = 1 for simplicity.", "The formula itself can be understood in two different ways. One way is to understand it as a result of subsequently applying some function f: x \u2192 x \u22c5 (1 + R), which multiplies the input by some factor (1 + R):", "The other way is to think about it as a primary function of the following derivative:", "The equation above is nothing else, but a case, where a function is proportional to its own growth, which we can confirm by rearranging the terms and integrating:", "This is where it gets interesting. In practice, we would rather be more interested in continuously supplying the money for the investment, rather than investing some x\u2080 as a one-time opportunity. Furthermore, to see the whole picture, it is important that we still take into account the contributing factors that we covered earlier in this article.", "As the expressions might quickly get convoluted, the derivative approach seems like a much simpler and elegant way to formulate the problem. All we have to do is to keep adding different contributions and integrate the equation.", "To make it more intuitive, let\u2019s define two x\u2018s now. Let x\u2081 be the original wallet, while x\u2082 be the investment bucket. In other words, you can think of x\u2081 as your primary bank account, where you receive your salary, pay bills, and taxes, but now you also have the choice to take a certain fraction \u03b2 \u2208 [0, 1] to what is left and move it to x\u2082. Then, with the money, you buy stock, bonds, commodities, real estate, etc. Whatever you do, you continuously (re-)invest x\u2082 assuming some expecting interest rate R and multiply your money.", "In this case, the initial equation becomes a system of two coupled oridinary differential equations:", "To account for the new situation, let\u2019s update the code:", "There is one thing that distinguishes the implementation from the system of equations we just discussed. Here, for the sake of clarity, we assume that your decision of becoming retired is equivalent to withdrawing all of your money from x\u2082 and supplying it back to x\u2081. In other words, in our simulation, we want to check how much longer you can support yourself with all the accumulated and generated capital.", "Consequently, the simulate function also gets updated:", "Observe line 12. This is the place, where we set the new initial condition for the third integral x\u2081(t\u2082) + x\u2082(t\u2082) \u2192 x\u2081(t\u2082).", "We have just seen how powerful exponential growth can be. Unfortunately, regardless if you choose to invest or not, there is one factor that is almost surely present, which also possesses the exponential nature but works against you. It\u2019s inflation.", "In simple terms, inflation is not the overall increase in prices, but rather the money that loses its value with time. An inflation rate of, say 50%, will result in the same banknote having only 2/3 of its earlier purchasing power. Consequently, to account for inflation in our model, instead of keeping the nominal value of the money, but somehow imagining the prices going up, we will rather model is as a negative interest rate \u2014 the kind of compound interest that eats away your money.", "Using our earlier knowledge, and denoting inflation rate as \u03be, we only need to modify the system of equations slightly:", "Now, pay attention to the terms multiplied by x\u2082. Using the properties of the logarithm, we can express the two using just one constant,", "It is now easy to spot, that we can only ever gain on investing if \u03bb > 0, which means that we beat the inflation. Naturally, for the \u201cwallet\u201d, our figure is always \u03bb < 0, because there is no R to \u201cpull it up\u201d. This is one more reason, why \u201cworking hard and saving hard\u201d is a completely hopeless idea.", "In this article, we have shown how you can model your financial situation using ordinary differential equations, as well as how you can turn them into your simulator using python.", "The cases discussed here do not consider many factors. The factors such as the tax law in your country, a sudden inheritance, or an inflation spike due to an unexpected financial crisis certainly add to the complexity. What is more, we have not mentioned loans or debts here, although with the approach just presented, we are sure you will be able to include them in your model \u2014 and that was precisely the goal of this article.", "Finally, as the key take away, especially to those less interested in coding, remember that functions whose growth is proportional to their value are exactly the machinery you want to employ and turn in your favor.", "You can also find the notebook that you can run in Google Colab: here. Feel free to clone it, modify it, and play around. Let me know what you think.", "I am planning to bring the articles to next level and offer short screencast video \u00b5-tutorials.", "If you want to be updated concerning the videos and future articles, subscribe to my newsletter. You can also let me know of your expectations by filling out the form. See you soon!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist | https://zerowithdot.com | makes data make sense"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc9b5468dbe74&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinancial-independence-simulating-odes-with-python-c9b5468dbe74&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinancial-independence-simulating-odes-with-python-c9b5468dbe74&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinancial-independence-simulating-odes-with-python-c9b5468dbe74&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinancial-independence-simulating-odes-with-python-c9b5468dbe74&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c9b5468dbe74--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c9b5468dbe74--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://oleg-zero13.medium.com/?source=post_page-----c9b5468dbe74--------------------------------", "anchor_text": ""}, {"url": "https://oleg-zero13.medium.com/?source=post_page-----c9b5468dbe74--------------------------------", "anchor_text": "Oleg \u017bero"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb15e8d374ce1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinancial-independence-simulating-odes-with-python-c9b5468dbe74&user=Oleg+%C5%BBero&userId=b15e8d374ce1&source=post_page-b15e8d374ce1----c9b5468dbe74---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc9b5468dbe74&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinancial-independence-simulating-odes-with-python-c9b5468dbe74&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc9b5468dbe74&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinancial-independence-simulating-odes-with-python-c9b5468dbe74&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/OlegZero13/Data-Science-Algorithm-Gallery/blob/master/Personal_Financial_Simulator_with_ODE.ipynb", "anchor_text": "here"}, {"url": "https://docs.scipy.org/doc/scipy/reference/generated/scipy.integrate.odeint.html", "anchor_text": "scipy"}, {"url": "https://github.com/OlegZero13/Data-Science-Algorithm-Gallery/blob/master/Personal_Financial_Simulator_with_ODE.ipynb", "anchor_text": "here"}, {"url": "https://landing.mailerlite.com/webforms/landing/j5y2q1", "anchor_text": "newsletter"}, {"url": "https://forms.gle/bNpf9aqZJGLgaU589", "anchor_text": "form"}, {"url": "https://zerowithdot.com/financial-independence-ode-python/", "anchor_text": "https://zerowithdot.com"}, {"url": "https://medium.com/tag/money?source=post_page-----c9b5468dbe74---------------money-----------------", "anchor_text": "Money"}, {"url": "https://medium.com/tag/python?source=post_page-----c9b5468dbe74---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----c9b5468dbe74---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/finance?source=post_page-----c9b5468dbe74---------------finance-----------------", "anchor_text": "Finance"}, {"url": "https://medium.com/tag/data-science?source=post_page-----c9b5468dbe74---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc9b5468dbe74&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinancial-independence-simulating-odes-with-python-c9b5468dbe74&user=Oleg+%C5%BBero&userId=b15e8d374ce1&source=-----c9b5468dbe74---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc9b5468dbe74&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinancial-independence-simulating-odes-with-python-c9b5468dbe74&user=Oleg+%C5%BBero&userId=b15e8d374ce1&source=-----c9b5468dbe74---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc9b5468dbe74&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinancial-independence-simulating-odes-with-python-c9b5468dbe74&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c9b5468dbe74--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc9b5468dbe74&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinancial-independence-simulating-odes-with-python-c9b5468dbe74&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c9b5468dbe74---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c9b5468dbe74--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c9b5468dbe74--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c9b5468dbe74--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c9b5468dbe74--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c9b5468dbe74--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c9b5468dbe74--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c9b5468dbe74--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c9b5468dbe74--------------------------------", "anchor_text": ""}, {"url": "https://oleg-zero13.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://oleg-zero13.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Oleg \u017bero"}, {"url": "https://oleg-zero13.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "387 Followers"}, {"url": "https://zerowithdot.com", "anchor_text": "https://zerowithdot.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb15e8d374ce1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinancial-independence-simulating-odes-with-python-c9b5468dbe74&user=Oleg+%C5%BBero&userId=b15e8d374ce1&source=post_page-b15e8d374ce1--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F6b4620dc0d74&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffinancial-independence-simulating-odes-with-python-c9b5468dbe74&newsletterV3=b15e8d374ce1&newsletterV3Id=6b4620dc0d74&user=Oleg+%C5%BBero&userId=b15e8d374ce1&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}