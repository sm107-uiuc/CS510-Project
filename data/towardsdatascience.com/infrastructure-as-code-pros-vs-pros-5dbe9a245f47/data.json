{"url": "https://towardsdatascience.com/infrastructure-as-code-pros-vs-pros-5dbe9a245f47", "time": 1683008944.0238888, "path": "towardsdatascience.com/infrastructure-as-code-pros-vs-pros-5dbe9a245f47/", "webpage": {"metadata": {"title": "Infrastructure as Code \u2014 Pros vs Pros | by Pedram Ataee, PhD | Towards Data Science", "h1": "Infrastructure as Code \u2014 Pros vs Pros", "description": "In this article, I share 3 reasons why you need infrastructure-as-code technology if you want to build a high-quality industry solution."}, "outgoing_paragraph_urls": [{"url": "https://www.terraform.io/", "anchor_text": "Terraform", "paragraph_index": 10}, {"url": "https://aws.amazon.com/cloudformation/", "anchor_text": "CloudFormation", "paragraph_index": 10}, {"url": "https://aws.amazon.com/cloudformation/", "anchor_text": "CloudFormation", "paragraph_index": 21}, {"url": "https://www.terraform.io/", "anchor_text": "Terraform", "paragraph_index": 21}, {"url": "http://tinyurl.com/4cbeejnn", "anchor_text": "tinyurl.com/4cbeejnn", "paragraph_index": 25}], "all_paragraphs": ["These days most software companies must release their products frequently to remove bugs or to introduce new features. And, if they have cloud-based products they need to provision and manage cloud services on a regular basis. These tasks may be executed manually but that is very inefficient.", "You can provision and manage a cloud service through writing codes. This methodology is called infrastructure as code or IaC. In this article, I first describe the benefits of using IaC solutions. Then, I share my experience using this methodology.", "You must configure the cloud infrastructure (e.g., network, security, and storage) many times during the development process due to many reasons. For example, if an instance shuts down in the cluster, your service stops working. In this case, you must redo the cloud provisioning and you want to be completely consistent with the previous configuration.", "In IaC solutions, everything is written in human and machine-readable languages such as YAML or JSON. So, the configuration file can be archived and tagged in the version control system for any future purpose. So, a team lead or a CTO can easily monitor or review this configuration. Note that you just need to monitor the configuration file without extra files created by IaC solutions.", "Example. Let\u2019s assume the engineering team selected AWS infrastructure and allocated several EC2 instances with 16 CPUs to deliver the product. Using the IaC solution, the lead can easily observe the type of EC2 instances and prevent the company from spending unnecessary amounts. This is a transparency that is highly needed in complex products.", "You may want to delicately embed the cloud provisioning step in the continuous integration and deployment or CI/CD pipeline. It is not recommended to execute the cloud provisioning step every time you want to deploy the solution, especially in the development environment. However, you may want to have the cloud provisioning step in the product release pipeline especially during the early days when the cloud configuration is changing.", "Example. You want to build stage and release environments with identical configuration. But, the configuration gets changed constantly since you are not still sure about many details. You can use an IaC solution to ensure having identical environments. Plus, you did some modifications to the YAML file, and the service stop working. You have a deadline and do not have time to debug. You just need to roll it back to a functional point in the past. Thanks to IaC solutions, you have access to the previous cloud configurations.", "It would be costly if you lock yourself to a cloud service provider by using all the native technology stacks. The native technology stack of a cloud service provider may not be compatible with its counterparts. So, you may not be able to migrate easily to other services that may lead to unaffordable monthly bills.", "In my recent experience, I was in charge of building and managing the CI/CD pipeline. I worked closely with the product manager for releases. I could not deliver tasks without an IaC solution. Here, I want to share my experiences.", "During the early days, we received several thousand dollars worth of credit to use AWS. We could start using all the AWS technology stack to develop our solution. However, contrary to many peers, I believe to be vendor-agnostic even though that vendor is Amazon.", "If we locked in ourselves to a vendor, we will not have any control over the monthly bill and we could not minimize it easily. For example, if we receive credits to use other cloud services it would not be easy for us to migrate services to the new host. So, I selected Terraform instead of CloudFormation to configure the cloud infrastructure with more flexibility.", "Note that I have no intention to meticulously describe the pros and cons of CloudFormation vs Terraform in this article.", "Several weeks after we set up our cloud services on AWS, we received an email from Amazon that one of the EC2 instances in the cluster will be shut down permanently due to a hardware issue. We noted that issue in a JIRA card, and we put that in our backlog but it slipped our attention easily.", "On a beautiful Monday, we suddenly encountered an unusual error in our cloud services. Knowing we had a deadline to deliver, it was not that beautiful anymore! After an investigation, we found that the error was raised due to the EC2 instance shutdown. Thanks to Terraform, we were able to rebuild our EC2 clusters reliably and quickly.", "When several clients started using our solution regularly, we added the stage environment to our development workflow. The stage environment lowers the risk of failure or encountering unexpected behaviors in releases.", "We had to be confident that stage and release environments are always identical. Even a small difference could result in a failure. Using IaC methodology is the best practice to build identical development environments. So, we used it as well.", "During the early days, we only had a single development environment. So, we did not think of the necessity of IaC solutions. However, we reached a point where we had three development environments: dev, stage, and release. So, we had to configure cloud infrastructures three times more than before.", "Plus, we did not know what cloud configurations we need for each environment. Therefore, we had to run experiments to find the best configuration. Obviously, we had no chance of running those experiments without an IaC solution.", "At some point in our development process, we decided to make our DockerHub account private. To ensure the CI/CD pipeline working smoothly, we had to store the account credentials and retrieve them whenever needed.", "To follow the best practices, we should have stored credentials in a password vault such as AWS secret manager. Since we were on a firm deadline and we wanted to close our DockerHub account to the public, we chose an easier method. We managed to store the credential files during the stage of cloud provisioning in EC2 instances. This was not the best method but at least relatively improve the security.", "We had to develop as fast as possible. We had competitors and we wanted to be far ahead of them. So, we always used solutions that provided us better user experiences. For example, We found Terraform, in comparing to its alternatives, provided us:", "Companies like Amazon have their own solutions for all the cloud services; however, they are not necessarily the best-in-class or the most popular ones. For example, AWS has CloudFormation for its IaC solution, but Terraform is becoming the lead solution in this context.", "All of my experiences just make me more excited about infrastructure as code or IaC solutions; especially Terraform. You may not need to use the IaC solution in an advanced way. However, it is essential to start using this methodology to, step by step, address your challenges and needs. If you start using this methodology, you will definitely enjoy it.", "If you like this post and want to support me\u2026", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "\ud83e\udd16 AI Architect \ud83d\udcda Author of \u201cArtificial Intelligence: Unorthodox Lessons\u201d \u2764\ufe0f Support my writings @ tinyurl.com/4cbeejnn"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5dbe9a245f47&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finfrastructure-as-code-pros-vs-pros-5dbe9a245f47&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finfrastructure-as-code-pros-vs-pros-5dbe9a245f47&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finfrastructure-as-code-pros-vs-pros-5dbe9a245f47&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finfrastructure-as-code-pros-vs-pros-5dbe9a245f47&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5dbe9a245f47--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5dbe9a245f47--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://pedram-ataee.medium.com/?source=post_page-----5dbe9a245f47--------------------------------", "anchor_text": ""}, {"url": "https://pedram-ataee.medium.com/?source=post_page-----5dbe9a245f47--------------------------------", "anchor_text": "Pedram Ataee, PhD"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbd434c1a1de7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finfrastructure-as-code-pros-vs-pros-5dbe9a245f47&user=Pedram+Ataee%2C+PhD&userId=bd434c1a1de7&source=post_page-bd434c1a1de7----5dbe9a245f47---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5dbe9a245f47&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finfrastructure-as-code-pros-vs-pros-5dbe9a245f47&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5dbe9a245f47&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finfrastructure-as-code-pros-vs-pros-5dbe9a245f47&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@scienceinhd?utm_source=medium&utm_medium=referral", "anchor_text": "Science in HD"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.terraform.io/", "anchor_text": "Terraform"}, {"url": "https://aws.amazon.com/cloudformation/", "anchor_text": "CloudFormation"}, {"url": "https://aws.amazon.com/cloudformation/", "anchor_text": "CloudFormation"}, {"url": "https://www.terraform.io/", "anchor_text": "Terraform"}, {"url": "https://medium.com/@pedram-ataee", "anchor_text": "Medium"}, {"url": "https://www.amazon.com/Pedram-Ataee/e/B08D6J3WNW", "anchor_text": "Amazon"}, {"url": "https://pedram-ataee.medium.com/membership", "anchor_text": "Medium"}, {"url": "https://www.linkedin.com/in/pedrama/", "anchor_text": "Linkedin"}, {"url": "https://twitter.com/pedram_ataee", "anchor_text": "Twitter"}, {"url": "https://pedram-ataee.medium.com/membership", "anchor_text": "Join Medium with my referral link \u2014 Pedram Ataee, PhDAs a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026pedram-ataee.medium.com"}, {"url": "https://medium.com/tag/startup?source=post_page-----5dbe9a245f47---------------startup-----------------", "anchor_text": "Startup"}, {"url": "https://medium.com/tag/software-development?source=post_page-----5dbe9a245f47---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/technology?source=post_page-----5dbe9a245f47---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/cloud-computing?source=post_page-----5dbe9a245f47---------------cloud_computing-----------------", "anchor_text": "Cloud Computing"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----5dbe9a245f47---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5dbe9a245f47&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finfrastructure-as-code-pros-vs-pros-5dbe9a245f47&user=Pedram+Ataee%2C+PhD&userId=bd434c1a1de7&source=-----5dbe9a245f47---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5dbe9a245f47&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finfrastructure-as-code-pros-vs-pros-5dbe9a245f47&user=Pedram+Ataee%2C+PhD&userId=bd434c1a1de7&source=-----5dbe9a245f47---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5dbe9a245f47&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finfrastructure-as-code-pros-vs-pros-5dbe9a245f47&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5dbe9a245f47--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5dbe9a245f47&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finfrastructure-as-code-pros-vs-pros-5dbe9a245f47&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5dbe9a245f47---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5dbe9a245f47--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5dbe9a245f47--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5dbe9a245f47--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5dbe9a245f47--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5dbe9a245f47--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5dbe9a245f47--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5dbe9a245f47--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5dbe9a245f47--------------------------------", "anchor_text": ""}, {"url": "https://pedram-ataee.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://pedram-ataee.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Pedram Ataee, PhD"}, {"url": "https://pedram-ataee.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "813 Followers"}, {"url": "http://tinyurl.com/4cbeejnn", "anchor_text": "tinyurl.com/4cbeejnn"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbd434c1a1de7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finfrastructure-as-code-pros-vs-pros-5dbe9a245f47&user=Pedram+Ataee%2C+PhD&userId=bd434c1a1de7&source=post_page-bd434c1a1de7--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F485505f6e421&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finfrastructure-as-code-pros-vs-pros-5dbe9a245f47&newsletterV3=bd434c1a1de7&newsletterV3Id=485505f6e421&user=Pedram+Ataee%2C+PhD&userId=bd434c1a1de7&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}