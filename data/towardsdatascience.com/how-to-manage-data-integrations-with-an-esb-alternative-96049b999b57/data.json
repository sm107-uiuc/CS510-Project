{"url": "https://towardsdatascience.com/how-to-manage-data-integrations-with-an-esb-alternative-96049b999b57", "time": 1683004771.296714, "path": "towardsdatascience.com/how-to-manage-data-integrations-with-an-esb-alternative-96049b999b57/", "webpage": {"metadata": {"title": "How to manage data integrations with an ESB alternative | by Daniele Fontani | Towards Data Science", "h1": "How to manage data integrations with an ESB alternative", "description": "A second after we start hating monoliths, integration has rises places on our must-have list. In a real-world application, nowadays, there is no possibility to avoid the scenario where you have a\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["A second after we start hating monoliths, integration has rises places on our must-have list. In a real-world application, nowadays, there is no possibility to avoid the scenario where you have a multitude of systems that talk together. Like for humans, communication is very hard. You may lose connection, having unplanned changing on one side, and errors can happen everywhere. That\u2019s why communication is too important to do without a tool. Hand made solution ends up with a nightmare. The enterprise patterns suggest us to add an ESB solution to our architecture, but it may be expensive in many scenarios. In this article, we will learn how to solve the most common integration issues using a free and straightforward tool, n8n.", "An enterprise service bus (ESB) is the data highway. It not only distributes data from A to B but creates a common integration layer based on APIs (service-oriented architecture, SOA, for the old fashion definition lovers). In this architecture, multiple software use only one bus to notify about local changes and to be about data changes. In simple words, in this architecture, you do not have to integrate multiple systems but only one: the ESB. It will be the ESB itself that will propagate the changes to other actors that may be interested in this information. All of this process is transparent to you. This changes the problem from a meshed communication between system to a star topology. For those who didn\u2019t have experience with multipoint integration, it means you will reduce integration costs and maintenance. You will reduce costs because all integration will support the same format and standards. You will reduce maintenance costs because all changes due to other systems will be absorbed by the ESB (hopefully done by specialized teams who manage these issues efficiently). Many modern ESB maintains a copy of the information that flows into the tube. This means a database with all the strategic information for the company (golden records) that can be consumed by all the parties using a structured API protocol, like GraphQL.", "Here a summary of the duties of an ESB:", "N8N is not properly an ESB, but more a workflow automation tool. On the official website, it self-defines as a free on-prem alternative of Zapier, the leading cloud solution for point to point integration.", "Such solutions are not an ESB, because basically, it provides a meshed integration network. This happens when you connect A with B and C with D directly, it\u2019s natural. Theoretically, doing so, you lose most of the benefits of an ESB, like a real bus where all the data flows.", "Anyway, even if the communication is still point-to-point, just managing it on the same platform, gives you the full control on all the integration, with a simple user interface.", "The setup of N8N is very simple. I skipped every manual installation because I\u2019m docker lovers, but if you want, you can use the traditional installation process. If you are a docker lover too or not too much scared by containers, you can just use the following docker-compose file and run \u2018docker-compose up\u2019 command", "This docker-compose create aN8N instance and a MongoDB database linked together. For production usage, you will need to persist data and manage backup, as usual, but for a quick start is enough. The compose also contains a MySQL instance that we will use for testing purposes.", "The first workflow we want to configure is a simple job that reads data from a web service and dumps it into the database.", "First of all, we need to create a workflow. We can easily setup steps:", "All these steps will be managed by UI, without writing a single row of code, that\u2019s nice!", "This example is triggered manually (click or schedule) to maintain as much simple as possible this workflow, but can be activated by an API call as well.", "I used a Mockaroo API that generates random data. Data will be similar to:", "This step is configured to point to the API, pass the authentication header, and fetch data. Please note that using a different configuration, we can also handle all other HTTP operations.", "This step can be easily managed by running a simple query statement. To connect to the database, we need to set up the connection string (in this case, our local MySQL database).", "Because we have a single json output, we need to split data into rows. Basically, the next steps in n8n are executed for each input element. Passing direct output to the insert statement will cause only one execution against the whole payload. This is not the expected behavior. In this step, I used a javascript block to transform the payload in an array, and I used it as output. This will cause the next step to be executed once per row.", "The insert statement is very simple. Just map fields and all the job is done. This will be executed once per row, transforming the input rows in a set of the insert on the database.", "In this example, we insert rows into a table. This is a good example to test the tool, but in the real world, we need to upsert (update or insert) data. The tool, actually, does not allow this natively. Anyway, check if the row exists, and then insert or update is generally expensive. To get this goal complete without a time wast, we can use two patterns:", "An ESB is a crucial brick in an enterprise architecture but:", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "working hard to build a better tomorrow"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F96049b999b57&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-manage-data-integrations-with-an-esb-alternative-96049b999b57&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-manage-data-integrations-with-an-esb-alternative-96049b999b57&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-manage-data-integrations-with-an-esb-alternative-96049b999b57&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-manage-data-integrations-with-an-esb-alternative-96049b999b57&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----96049b999b57--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----96049b999b57--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://daniele-fontani.medium.com/?source=post_page-----96049b999b57--------------------------------", "anchor_text": ""}, {"url": "https://daniele-fontani.medium.com/?source=post_page-----96049b999b57--------------------------------", "anchor_text": "Daniele Fontani"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F97d01fcd4684&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-manage-data-integrations-with-an-esb-alternative-96049b999b57&user=Daniele+Fontani&userId=97d01fcd4684&source=post_page-97d01fcd4684----96049b999b57---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F96049b999b57&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-manage-data-integrations-with-an-esb-alternative-96049b999b57&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F96049b999b57&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-manage-data-integrations-with-an-esb-alternative-96049b999b57&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://my.api.mockaroo.com/test.json", "anchor_text": "https://my.api.mockaroo.com/test.json"}, {"url": "https://medium.com/u/530c4c926670?source=post_page-----96049b999b57--------------------------------", "anchor_text": "Zapier"}, {"url": "https://medium.com/tag/programming?source=post_page-----96049b999b57---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/software-development?source=post_page-----96049b999b57---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/workflow?source=post_page-----96049b999b57---------------workflow-----------------", "anchor_text": "Workflow"}, {"url": "https://medium.com/tag/data?source=post_page-----96049b999b57---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/data-science?source=post_page-----96049b999b57---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F96049b999b57&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-manage-data-integrations-with-an-esb-alternative-96049b999b57&user=Daniele+Fontani&userId=97d01fcd4684&source=-----96049b999b57---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F96049b999b57&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-manage-data-integrations-with-an-esb-alternative-96049b999b57&user=Daniele+Fontani&userId=97d01fcd4684&source=-----96049b999b57---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F96049b999b57&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-manage-data-integrations-with-an-esb-alternative-96049b999b57&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----96049b999b57--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F96049b999b57&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-manage-data-integrations-with-an-esb-alternative-96049b999b57&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----96049b999b57---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----96049b999b57--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----96049b999b57--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----96049b999b57--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----96049b999b57--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----96049b999b57--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----96049b999b57--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----96049b999b57--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----96049b999b57--------------------------------", "anchor_text": ""}, {"url": "https://daniele-fontani.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://daniele-fontani.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Daniele Fontani"}, {"url": "https://daniele-fontani.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.2K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F97d01fcd4684&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-manage-data-integrations-with-an-esb-alternative-96049b999b57&user=Daniele+Fontani&userId=97d01fcd4684&source=post_page-97d01fcd4684--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff28f68dd8aaa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-manage-data-integrations-with-an-esb-alternative-96049b999b57&newsletterV3=97d01fcd4684&newsletterV3Id=f28f68dd8aaa&user=Daniele+Fontani&userId=97d01fcd4684&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}