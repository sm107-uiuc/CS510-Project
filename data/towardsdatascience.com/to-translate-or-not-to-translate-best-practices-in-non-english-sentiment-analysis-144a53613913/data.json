{"url": "https://towardsdatascience.com/to-translate-or-not-to-translate-best-practices-in-non-english-sentiment-analysis-144a53613913", "time": 1683004501.462152, "path": "towardsdatascience.com/to-translate-or-not-to-translate-best-practices-in-non-english-sentiment-analysis-144a53613913/", "webpage": {"metadata": {"title": "To translate or not to translate, best practices in non-English sentiment analysis | by Matts | Towards Data Science", "h1": "To translate or not to translate, best practices in non-English sentiment analysis", "description": "Summary Translation is not a good option for sentiment analysis, it causes a drop in accuracy of 16%. For sentiment analysis stop words and word embeddings are useful. It turns out the Conceptnet\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/commonsense/conceptnet-numberbatch", "anchor_text": "here under the download section", "paragraph_index": 10}], "all_paragraphs": ["SummaryTranslation is not a good option for sentiment analysis, it causes a drop in accuracy of 16%. For sentiment analysis stop words and word embeddings are useful. It turns out the Conceptnet Numberbatch word embedding is superior over Word2vec/Glove for Dutch Natural Language Processing.", "Translated versus recurrent neural networksIn this article the accuracy of recurrent neural network on an independent test set is compared to the performance of Textblob on the English google translation of this test set. The Dutch trained model is trained on a dataset consisting almost 50.000 various reviews of hotels, shopping products, food and services with a label being positive or negative. After training the model is used to predict the labels of the independent test set. The translated model is pretrained from Textblob. Textblob is a widely used pretrained text analysis library in Python. The translated model first translates the test set and then uses a pretrained sentiment analysis model. The results on the independent test set were as follows:", "As you can see, the performance is more the 16% lower. The accuracy of the Textblob on a native English test set is around 87.5% according to research by done by Stanford. So if the translation would be perfect, the Textblob model already performs around 4% less. The other 12% is due to the translation not being perfect. So in this case it would be recommendable to collect a big native language dataset.", "But sometimes in minor languages it can be difficult to acquire big datasets. Outside English and Chinese, there are not a lot of big standard datasets you can use, and web content is also less widely available. If you can manage to get a couple of hundred datapoints (but not 10.000 up), then transfer learning could be an option. To apply transfer learning in this case, an (big) English dataset with positive and negative labels was translated to Dutch and then trained. Then the weights of this model were used to train further on a small part (1000 reviews) of the Dutch dataset. This gave better results then the translated Textblob model:", "Overview of the three methods in training and testing:", "Without stop wordsIf the stop words are filtered, the most common words in the dataset are good, tasty, hotel, book, quick and delivery. Some of these words are neutral, others give a sense of sentiment. But, it turns out the accuracy drops by more then 7%:", "If the most common words in the unfiltered dataset are checked, it can be seen that the whole top 20 words are stop words (which makes sense). The drop in performance becomes obvious. The words \u201cnot\u201d and \u201cbut\u201d reverse the meaning of a sentence. The words \u201ctoo\u201d and \u201calso\u201d change the meaning of a sentence as well. If the model can\u2019t take into account these words, it can\u2019t predict the reversed sentiment of a sentence/review.", "So in this case, it\u2019s better to keep the stop words in the dataset.", "Without word embeddingsTo fresh up, word embeddings are representations of word in numbers (or tensors). For example \u2018the man walks the dog \u2018 could be represented as a two dimensional word embedding like this: [1.3,-0.2] [0.4,1.1] [-0.3,0.1] [1.3,-0.2] [1.2,0.7]. So when a 2-dimensional embedding is used like above, every (unique) word is converted to a combination of two numbers. Word embedding work so well because the semantics of the words are captured. words with the same meaning have similar tensor values and differences with other word groups are similar as well. As you can see in the graph below, the performance with word embeddings is much higher.", "Conceptnet NumberbatchConceptNet is a multilingual set of word embeddings. ConceptNet outperforms other well known word embeddings as Word2Vec and GloVe, as can be seen in this graph:", "The word embeddings file can be downloaded here under the download section. The file is build up with the following structure: /c/language_code/word 0.4 \u2026 0.1. So for example dog would have the following structure: /c/en/dog 0.2 \u2026 0.9. When you use Numberbatch, make sure you only upload the needed language(s), to reduce redundancy. The vocabulary sizes of Numberbatch are truly impressive, see the top 15 languages below:", "So how does the embedding look for Dutch? The words are represented in 300 dimensions. To compress this number to two, a T-SNE algorithm can be used. Eighteen words were tested in three categories, namely the Dutch translations of jacket, scarf, pants, shoes, socks and sweater in the clothing category (yellow below), tiger, eagle, spider, hawk, lion and hyena in the animal category (gray below) and crown, king, queen, prince, palace and coronation in the monarchy category (light blue below). As you can see, the words are clustered according to similarity, which means this word embedding helps a model that needs to handle Dutch:", "Finally, here is some code on how to implement Numberbatch. The code in the section below opens the Numberbatch word embedding (make sure the file only contains the part with your language, so for Dutch that is c/nl/). It creates a dictionary with all Dutch words and their Numberbatch word embedding representation in 300 dimensions. So for example, the word dog will be saved like { \u2018dog\u2019: [0.2, 0.1, 0.5 \u2026 0.3]}:", "This part tokenizes your dataset. The code assigns a number to each unique word, and all the unique words are counted. Next, the dictionary with words that occur in the training set will be build and the script adds the 300 dimensional embedding to it:", "Finally, make the first layer of your Keras network an embeddings layer. This makes sure the input data sentences are converted to the Numberbatch tensors:", "ConclusionIf you are able to collect a big dataset in a native language, then the model trained on this dataset will probably give the best classification accuracy. If you are unable to get a large dataset, but can only get a couple of hundred data points, then transfer learning still can give pretty good results. Translating data and then using an English trained model is not recommendable, next to a bad accuracy this will also worsen performance of your application, as the data first needs to be translated. Concerning stop words and word embeddings, in this case they were useful. Conceptnet Numberbatch is a really good word embedding to use for non-English natural language processing tasks.", "Next up 2021I will write an article about neural style transfer. To already view the resulting application of the article view the following page (in Dutch):", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F144a53613913&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fto-translate-or-not-to-translate-best-practices-in-non-english-sentiment-analysis-144a53613913&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fto-translate-or-not-to-translate-best-practices-in-non-english-sentiment-analysis-144a53613913&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fto-translate-or-not-to-translate-best-practices-in-non-english-sentiment-analysis-144a53613913&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fto-translate-or-not-to-translate-best-practices-in-non-english-sentiment-analysis-144a53613913&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----144a53613913--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----144a53613913--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@matdekoning?source=post_page-----144a53613913--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@matdekoning?source=post_page-----144a53613913--------------------------------", "anchor_text": "Matts"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe41911dfcef4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fto-translate-or-not-to-translate-best-practices-in-non-english-sentiment-analysis-144a53613913&user=Matts&userId=e41911dfcef4&source=post_page-e41911dfcef4----144a53613913---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F144a53613913&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fto-translate-or-not-to-translate-best-practices-in-non-english-sentiment-analysis-144a53613913&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F144a53613913&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fto-translate-or-not-to-translate-best-practices-in-non-english-sentiment-analysis-144a53613913&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://commons.wikimedia.org/wiki/File:Macbeth_consulting_the_Vision_of_the_Armed_Head.jpg", "anchor_text": "Image from Wikimedia commons"}, {"url": "https://github.com/commonsense/conceptnet-numberbatch", "anchor_text": "Graph from ConceptNet project"}, {"url": "https://github.com/commonsense/conceptnet-numberbatch", "anchor_text": "here under the download section"}, {"url": "https://gan-studios.nl/ontwerpen", "anchor_text": "Schilderij laten maken"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----144a53613913---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/sentiment-analysis?source=post_page-----144a53613913---------------sentiment_analysis-----------------", "anchor_text": "Sentiment Analysis"}, {"url": "https://medium.com/tag/nlp?source=post_page-----144a53613913---------------nlp-----------------", "anchor_text": "NLP"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----144a53613913---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/neural-networks?source=post_page-----144a53613913---------------neural_networks-----------------", "anchor_text": "Neural Networks"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F144a53613913&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fto-translate-or-not-to-translate-best-practices-in-non-english-sentiment-analysis-144a53613913&user=Matts&userId=e41911dfcef4&source=-----144a53613913---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F144a53613913&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fto-translate-or-not-to-translate-best-practices-in-non-english-sentiment-analysis-144a53613913&user=Matts&userId=e41911dfcef4&source=-----144a53613913---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F144a53613913&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fto-translate-or-not-to-translate-best-practices-in-non-english-sentiment-analysis-144a53613913&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----144a53613913--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F144a53613913&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fto-translate-or-not-to-translate-best-practices-in-non-english-sentiment-analysis-144a53613913&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----144a53613913---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----144a53613913--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----144a53613913--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----144a53613913--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----144a53613913--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----144a53613913--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----144a53613913--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----144a53613913--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----144a53613913--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@matdekoning?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@matdekoning?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Matts"}, {"url": "https://medium.com/@matdekoning/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "49 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe41911dfcef4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fto-translate-or-not-to-translate-best-practices-in-non-english-sentiment-analysis-144a53613913&user=Matts&userId=e41911dfcef4&source=post_page-e41911dfcef4--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F80e81a6b365a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fto-translate-or-not-to-translate-best-practices-in-non-english-sentiment-analysis-144a53613913&newsletterV3=e41911dfcef4&newsletterV3Id=80e81a6b365a&user=Matts&userId=e41911dfcef4&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}