{"url": "https://towardsdatascience.com/pandas-resample-tricks-you-should-know-for-manipulating-time-series-data-7e9643a7e7f3", "time": 1683016033.7770538, "path": "towardsdatascience.com/pandas-resample-tricks-you-should-know-for-manipulating-time-series-data-7e9643a7e7f3/", "webpage": {"metadata": {"title": "Pandas resample() tricks you should know for manipulating time-series data | by B. Chen | Towards Data Science", "h1": "Pandas resample() tricks you should know for manipulating time-series data", "description": "Time-series data is common in data science projects. Often, you may be interested in resampling your time-series data into the frequency that you want to analyze data or draw additional insights from\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/020-pandas-resample/pandas-resample.ipynb", "anchor_text": "notebook", "paragraph_index": 2}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.resample.html", "anchor_text": "documentation", "paragraph_index": 22}, {"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/020-pandas-resample/pandas-resample.ipynb", "anchor_text": "notebook", "paragraph_index": 23}, {"url": "https://github.com/BindiChen/machine-learning", "anchor_text": "Github", "paragraph_index": 24}], "all_paragraphs": ["Time-series data is common in data science projects. Often, you may be interested in resampling your time-series data into the frequency that you want to analyze data or draw additional insights from data [1].", "In this article, we\u2019ll be going through some examples of resampling time-series data using Pandas resample() function. We will cover the following common problems and should help you get started with time-series data manipulation.", "Please check out the notebook for the source code.", "Downsampling is to resample a time-series dataset to a wider time frame. For example, from minutes to hours, from days to years. The result will have a reduced number of rows and values can be aggregated with mean(), min(), max(), sum() etc.", "Let\u2019s see how it works with the help of an example.", "Suppose we have a dataset about sales.", "To get the total number of sales added every 2 hours, we can simply use resample() to downsample the DataFrame into 2-hour bins and sum the values of the timestamps falling into a bin.", "To perform multiple aggregations, we can pass a list of aggregation functions to agg() method.", "For the sales data we are using, the first record has a date value 2017\u201301\u201302 09:02:03 , so it makes much more sense to have the output range start with 09:00:00, rather than 08:00:00. To do that, we can set the \u201corigin\u201d of the aggregated intervals to a different value using the argument base, for example, set base=1 so the result range can start with 09:00:00.", "Upsampling is the opposite operation of downsampling. It resamples a time-series dataset to a smaller time frame. For example, from hours to minutes, from years to days. The result will have an increased number of rows and additional rows values are defaulted to NaN. The built-in method ffill() and bfill() are commonly used to perform forward filling or backward filling to replace NaN.", "Let\u2019s make up a DataFrame for demonstration.", "To resample a year by quarter and forward filling the values. The forward fill method ffill() will use the last known value to replace NaN.", "To resample a year by quarter and backward filling the values. The backward fill method bfill() will use the next known value to replace NaN.", "Let\u2019s take a look at how to use Pandas resample() to deal with a real-world problem.", "Suppose we have 2 datasets, one for monthly sales df_sales and the other for price df_price. The df_price only has records on price changes.", "We would like to calculate the total sales for each month and the expected output is below.", "The difficult part in this calculation is that we need to retrieve the price for each month and combine it back into the data in order to calculate the total price.", "A neat solution is to use the Pandas resample() function. A single line of code can retrieve the price for each month.", "By calling resample('M') to resample the given time-series by month. After that, ffill() is called to forward fill the values. Are you a bit confused? Check out the below image for details.", "Pandas concat() function with argument axis=1 is used to combine df_sales and df_price horizontally. After that, the total sales can be calculated using the element-wise multiplication df['num_sold'] * df['price'].", "By executing the above statement, you should get an output like below:", "Pandas resample() function is a simple, powerful, and efficient functionality for performing resampling operations during frequency conversion.", "I hope this article will help you to save time in analyzing time-series data. I recommend you to check out the documentation for the resample() API and to know about other things you can do.", "Thanks for reading. Please check out the notebook for the source code and stay tuned if you are interested in the practical aspect of machine learning.", "More tutorials can be found on my Github", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7e9643a7e7f3&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-resample-tricks-you-should-know-for-manipulating-time-series-data-7e9643a7e7f3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-resample-tricks-you-should-know-for-manipulating-time-series-data-7e9643a7e7f3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-resample-tricks-you-should-know-for-manipulating-time-series-data-7e9643a7e7f3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-resample-tricks-you-should-know-for-manipulating-time-series-data-7e9643a7e7f3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----7e9643a7e7f3--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7e9643a7e7f3--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://bindichen.medium.com/?source=post_page-----7e9643a7e7f3--------------------------------", "anchor_text": ""}, {"url": "https://bindichen.medium.com/?source=post_page-----7e9643a7e7f3--------------------------------", "anchor_text": "B. Chen"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F563d09da62a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-resample-tricks-you-should-know-for-manipulating-time-series-data-7e9643a7e7f3&user=B.+Chen&userId=563d09da62a&source=post_page-563d09da62a----7e9643a7e7f3---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7e9643a7e7f3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-resample-tricks-you-should-know-for-manipulating-time-series-data-7e9643a7e7f3&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7e9643a7e7f3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-resample-tricks-you-should-know-for-manipulating-time-series-data-7e9643a7e7f3&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@veri_ivanova?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Veri Ivanova"}, {"url": "https://unsplash.com/s/photos/time-series?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/020-pandas-resample/pandas-resample.ipynb", "anchor_text": "notebook"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.resample.html", "anchor_text": "documentation"}, {"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/020-pandas-resample/pandas-resample.ipynb", "anchor_text": "notebook"}, {"url": "https://towardsdatascience.com/how-to-do-a-custom-sort-on-pandas-dataframe-ac18e7ea5320", "anchor_text": "How to do a Custom Sort on Pandas DataFrame"}, {"url": "https://towardsdatascience.com/when-to-use-pandas-transform-function-df8861aa0dcf", "anchor_text": "When to use Pandas transform() function"}, {"url": "https://towardsdatascience.com/pandas-concat-tricks-you-should-know-to-speed-up-your-data-analysis-cd3d4fdfe6dd", "anchor_text": "Pandas concat() tricks you should know"}, {"url": "https://medium.com/@bindiatwork/difference-between-apply-and-transform-in-pandas-242e5cf32705", "anchor_text": "Difference between apply() and transform() in Pandas"}, {"url": "https://medium.com/@bindiatwork/using-pandas-method-chaining-to-improve-code-readability-d8517c5626ac", "anchor_text": "Using Pandas method chaining to improve code readability"}, {"url": "https://towardsdatascience.com/working-with-datetime-in-pandas-dataframe-663f7af6c587", "anchor_text": "Working with datetime in Pandas DataFrame"}, {"url": "https://medium.com/@bindiatwork/all-the-pandas-read-csv-you-should-know-to-speed-up-your-data-analysis-1e16fe1039f3", "anchor_text": "Pandas read_csv() tricks you should know"}, {"url": "https://towardsdatascience.com/4-tricks-you-should-know-to-parse-date-columns-with-pandas-read-csv-27355bb2ad0e", "anchor_text": "4 tricks you should know to parse date columns with Pandas read_csv()"}, {"url": "https://github.com/BindiChen/machine-learning", "anchor_text": "Github"}, {"url": "https://machinelearningmastery.com/resample-interpolate-time-series-data-python/", "anchor_text": "How to resample and Interpolate your time series data with Python"}, {"url": "https://medium.com/tag/python?source=post_page-----7e9643a7e7f3---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----7e9643a7e7f3---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/pandas?source=post_page-----7e9643a7e7f3---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----7e9643a7e7f3---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/resampling?source=post_page-----7e9643a7e7f3---------------resampling-----------------", "anchor_text": "Resampling"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7e9643a7e7f3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-resample-tricks-you-should-know-for-manipulating-time-series-data-7e9643a7e7f3&user=B.+Chen&userId=563d09da62a&source=-----7e9643a7e7f3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7e9643a7e7f3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-resample-tricks-you-should-know-for-manipulating-time-series-data-7e9643a7e7f3&user=B.+Chen&userId=563d09da62a&source=-----7e9643a7e7f3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7e9643a7e7f3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-resample-tricks-you-should-know-for-manipulating-time-series-data-7e9643a7e7f3&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7e9643a7e7f3--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F7e9643a7e7f3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-resample-tricks-you-should-know-for-manipulating-time-series-data-7e9643a7e7f3&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----7e9643a7e7f3---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----7e9643a7e7f3--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----7e9643a7e7f3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7e9643a7e7f3--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7e9643a7e7f3--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7e9643a7e7f3--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7e9643a7e7f3--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7e9643a7e7f3--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7e9643a7e7f3--------------------------------", "anchor_text": ""}, {"url": "https://bindichen.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://bindichen.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "B. Chen"}, {"url": "https://bindichen.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "4K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F563d09da62a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-resample-tricks-you-should-know-for-manipulating-time-series-data-7e9643a7e7f3&user=B.+Chen&userId=563d09da62a&source=post_page-563d09da62a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F56a3bfbb80dc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-resample-tricks-you-should-know-for-manipulating-time-series-data-7e9643a7e7f3&newsletterV3=563d09da62a&newsletterV3Id=56a3bfbb80dc&user=B.+Chen&userId=563d09da62a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}