{"url": "https://towardsdatascience.com/uber-reviews-text-analysis-11613675046d", "time": 1682997220.113041, "path": "towardsdatascience.com/uber-reviews-text-analysis-11613675046d/", "webpage": {"metadata": {"title": "Uber Reviews Text Analysis. Exploratory Analysis, Bag of Words\u2026 | by Andrew Hershy | Towards Data Science", "h1": "Uber Reviews Text Analysis", "description": "This project outlines a text-mining classification model using bag-of-words and logistic regression. We will attempt to understand the relationship between Uber text reviews and ride ratings. This is\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/purvank/uber-rider-reviews-dataset", "anchor_text": "Kaggle", "paragraph_index": 1}, {"url": "https://www.kaggle.com/purvank", "anchor_text": "Purvank", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/data-cleaning-with-python-and-pandas-detecting-missing-values-3e9c6ebcf78b", "anchor_text": "research", "paragraph_index": 8}, {"url": "https://en.wikipedia.org/wiki/Bag-of-words_model", "anchor_text": "Bag-of-words", "paragraph_index": 16}, {"url": "https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.CountVectorizer.html", "anchor_text": "CountVectorizer", "paragraph_index": 16}, {"url": "https://towardsdatascience.com/univariate-logistic-regression-example-in-python-acbefde8cc14", "anchor_text": "here", "paragraph_index": 20}, {"url": "https://towardsdatascience.com/predicting-cancer-with-logistic-regression-in-python-7b203ace16bc", "anchor_text": "here", "paragraph_index": 22}, {"url": "https://www.kaggle.com/hershyandrew/uber-reviews-text-analysis", "anchor_text": "here", "paragraph_index": 28}, {"url": "https://www.linkedin.com/in/andrew-hershy-a7779199/", "anchor_text": "here", "paragraph_index": 29}, {"url": "https://towardsdatascience.com/is-random-forest-better-than-logistic-regression-a-comparison-7a0f068963e4", "anchor_text": "Is Random Forest better than Logistic Regression? (a comparison)", "paragraph_index": 31}, {"url": "https://towardsdatascience.com/predicting-cancer-with-logistic-regression-in-python-7b203ace16bc", "anchor_text": "Predicting Cancer with Logistic Regression in Python", "paragraph_index": 32}, {"url": "https://towardsdatascience.com/r-squared-recipe-5814995fa39a", "anchor_text": "Calculating R-squared from scratch (using python)", "paragraph_index": 33}], "all_paragraphs": ["This project outlines a text-mining classification model using bag-of-words and logistic regression. We will attempt to understand the relationship between Uber text reviews and ride ratings. This is a great place to start if you\u2019re relatively new to unstructured data analysis, yet have some experience with statistics and/or other classification experience.", "Data Source: Kaggle by user Purvank", "First let\u2019s bring in the data and visualize the dataframe:", "It\u2019s a straightforward dataset. We have the \u201cride_review\u201d text column and the \u201cride_rating\u201d column (which ranges from 1 as the lowest rating and 5 as the highest). Users write these text reviews to describe their experience and the categorical 5 star rating summarizes it.", "Let\u2019s check the .describe() method to see how many instances we\u2019re dealing with and other basic statistics:", "It appears Uber drivers haven\u2019t performed very well in this sample. The mean is a rating of 1.62, and the 75% mark is a 1 star review! This tells us there are a disproportionate amount of 1 star reviews. Hopefully we can gain insight into this by building a model.", "Having mentioned that, let\u2019s reiterate the utility of the bag of words / logistic regression model we will build:", "Moving on, let\u2019s check for null values in the dataset:", "None this time. If we had some nulls, we would need to explore how to deal with those. Many good resources exist on this topic you can research.", "Next, let\u2019s visualize the rating distribution of our data:", "As we discovered earlier, there are a lot of 1 star reviews in this sample.", "In order to perform the logistic regression later, we need to figure out a way to turn these 5 ratings categories into binary classes (1 and 0). Remember, logistic regression only handles \u201ceither/or\u201d target variables. The best way to turn the star ratings into binary classes(in my opinion) is:", "So, let\u2019s make a new column that deletes the 3 star ratings and creates a new column which classifies the other ratings into binary classes:", "We are ready to proceed! Let\u2019s get our text ready.", "The first step in this process is separating our data into training and testing sets. We will create our model from the training data and save some instances for testing purposes later. We\u2019re using sklearn to shuffle and split. Without messing with the parameters, it should split our data into 75% training and 25% testing.", "By calling X_train.shape, we can check this. Further, let\u2019s print a random review to verify it worked and to remind ourselves what we\u2019re working with.", "Now comes the exciting part, translating our text data into numerical features. In order to run a regression though this data later, we need to have a feature for every word in our sample. Essentially, we will be translating each word to be assigned as a number and then counting the frequency of these word/numbers used per instance in matrices. The process of doing this is called \u201cBag-of-words\u201d. It\u2019s important to note that the order of words doesn\u2019t matter, bag-of-words only counts the frequency per instance of words used. To start, we will use the Sklearn CountVectorizer", "We can see using the len(vect.get_feature_names()) method, there are a total of 6,607 words in all the reviews:", "Now, let\u2019s transform our X_train data into a matrix which contains the documents (instances) as rows and the count of new features (6,607) as columns. For example, our first word (0) as seen above is \u201cabandoned\u201d. That will be the first column in the matrix. Whichever Uber reviews contain \u2018abandoned\u2019 will tally up how many times it was used and add it to that column. As a side note, someone using \u201cabandoned\u201d, will likely have a negative effect on rating. We can experiment later on this.", "Because there are so many words and most reviews only have a small portion of them, most of the numbers in this array will be 0.", "We finally made it to the regression. If you need a logistic regression refresher before we proceed, please check here.", "Again, we will be using sklearn to perform this model:", "Now, we will calculate the AUC to see how well it classifies the test data. More info on ROC curves and AUC can be found here:", "This is good. A rough way of understanding this metric is to say we have 75% correctly classified instances.", "Let\u2019s delve into which words have the highest impact on class separation. Here we are translating our numbers back into words, getting the coefficients outputted by the regression, adding them both into a dataframe, and sorting them by their coefficient.", "As you move down the dataframe, the words become more positively correlated.", "These results can provide potentially invaluable business insight to Uber\u2019s stakeholders and leadership.", "Lastly, we can experiment and test our own custom reviews. In bold below are the inputs and beneath that are the respective outputs (1 = positive; 0 = negative). That last one should easily be a positive, but our classifier labels it as negative. The rest seem accurate.", "I have a kernel on Kaggle with this analysis here", "Also, if you want to connect, my LinkedIn is here", "Please subscribe if you found this helpful. If you enjoy my content, please check out a few other projects:", "Is Random Forest better than Logistic Regression? (a comparison)", "Predicting Cancer with Logistic Regression in Python", "Calculating R-squared from scratch (using python)", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F11613675046d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuber-reviews-text-analysis-11613675046d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuber-reviews-text-analysis-11613675046d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuber-reviews-text-analysis-11613675046d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuber-reviews-text-analysis-11613675046d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----11613675046d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----11613675046d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://andrewhershy.medium.com/?source=post_page-----11613675046d--------------------------------", "anchor_text": ""}, {"url": "https://andrewhershy.medium.com/?source=post_page-----11613675046d--------------------------------", "anchor_text": "Andrew Hershy"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff2b7b4b5294a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuber-reviews-text-analysis-11613675046d&user=Andrew+Hershy&userId=f2b7b4b5294a&source=post_page-f2b7b4b5294a----11613675046d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F11613675046d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuber-reviews-text-analysis-11613675046d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F11613675046d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuber-reviews-text-analysis-11613675046d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/photos/7nrsVjvALnA", "anchor_text": "Source"}, {"url": "https://www.kaggle.com/purvank/uber-rider-reviews-dataset", "anchor_text": "Kaggle"}, {"url": "https://www.kaggle.com/purvank", "anchor_text": "Purvank"}, {"url": "https://towardsdatascience.com/data-cleaning-with-python-and-pandas-detecting-missing-values-3e9c6ebcf78b", "anchor_text": "research"}, {"url": "https://en.wikipedia.org/wiki/Bag-of-words_model", "anchor_text": "Bag-of-words"}, {"url": "https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.CountVectorizer.html", "anchor_text": "CountVectorizer"}, {"url": "https://towardsdatascience.com/univariate-logistic-regression-example-in-python-acbefde8cc14", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/predicting-cancer-with-logistic-regression-in-python-7b203ace16bc", "anchor_text": "here"}, {"url": "https://www.kaggle.com/hershyandrew/uber-reviews-text-analysis", "anchor_text": "here"}, {"url": "https://www.linkedin.com/in/andrew-hershy-a7779199/", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/is-random-forest-better-than-logistic-regression-a-comparison-7a0f068963e4", "anchor_text": "Is Random Forest better than Logistic Regression? (a comparison)"}, {"url": "https://towardsdatascience.com/gini-index-vs-information-entropy-7a7e4fed3fcb", "anchor_text": "Gini Index vs Information Entropy"}, {"url": "https://towardsdatascience.com/linear-vs-polynomial-regression-walk-through-83ca4f2363a3", "anchor_text": "Simple Linear vs Polynomial Regression"}, {"url": "https://towardsdatascience.com/predicting-cancer-with-logistic-regression-in-python-7b203ace16bc", "anchor_text": "Predicting Cancer with Logistic Regression in Python"}, {"url": "https://towardsdatascience.com/univariate-logistic-regression-example-in-python-acbefde8cc14", "anchor_text": "Bivariate Logistic Regression Example (python)"}, {"url": "https://towardsdatascience.com/r-squared-recipe-5814995fa39a", "anchor_text": "Calculating R-squared from scratch (using python)"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----11613675046d---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/bag-of-words?source=post_page-----11613675046d---------------bag_of_words-----------------", "anchor_text": "Bag Of Words"}, {"url": "https://medium.com/tag/text-mining?source=post_page-----11613675046d---------------text_mining-----------------", "anchor_text": "Text Mining"}, {"url": "https://medium.com/tag/data-science?source=post_page-----11613675046d---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/uber?source=post_page-----11613675046d---------------uber-----------------", "anchor_text": "Uber"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F11613675046d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuber-reviews-text-analysis-11613675046d&user=Andrew+Hershy&userId=f2b7b4b5294a&source=-----11613675046d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F11613675046d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuber-reviews-text-analysis-11613675046d&user=Andrew+Hershy&userId=f2b7b4b5294a&source=-----11613675046d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F11613675046d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuber-reviews-text-analysis-11613675046d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----11613675046d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F11613675046d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuber-reviews-text-analysis-11613675046d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----11613675046d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----11613675046d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----11613675046d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----11613675046d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----11613675046d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----11613675046d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----11613675046d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----11613675046d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----11613675046d--------------------------------", "anchor_text": ""}, {"url": "https://andrewhershy.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://andrewhershy.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andrew Hershy"}, {"url": "https://andrewhershy.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "496 Followers"}, {"url": "https://www.linkedin.com/in/andrew-hershy-a7779199/", "anchor_text": "https://www.linkedin.com/in/andrew-hershy-a7779199/"}, {"url": "https://andrewhershy.medium.com/membership", "anchor_text": "https://andrewhershy.medium.com/membership"}, {"url": "https://github.com/ahershy", "anchor_text": "https://github.com/ahershy"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff2b7b4b5294a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuber-reviews-text-analysis-11613675046d&user=Andrew+Hershy&userId=f2b7b4b5294a&source=post_page-f2b7b4b5294a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F4d03304fb3bb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuber-reviews-text-analysis-11613675046d&newsletterV3=f2b7b4b5294a&newsletterV3Id=4d03304fb3bb&user=Andrew+Hershy&userId=f2b7b4b5294a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}