{"url": "https://towardsdatascience.com/digital-pollution-5a579f8c9bf", "time": 1683007456.131595, "path": "towardsdatascience.com/digital-pollution-5a579f8c9bf/", "webpage": {"metadata": {"title": "Digital Pollution From Modern Data Formats | by John Bethancourt | Towards Data Science", "h1": "Digital Pollution From Modern Data Formats", "description": "JSON and other modern data formats cause digital pollution. Using tight data can save money, storage, energy, and time. Example given in swift"}, "outgoing_paragraph_urls": [{"url": "http://hn.algolia.com/api/v1/search?query=digitalpollution&tags=story", "anchor_text": "This implementation", "paragraph_index": 2}, {"url": "https://news.ycombinator.com/", "anchor_text": "Y-combinator\u2019s Hacker News", "paragraph_index": 2}, {"url": "https://en.wikipedia.org/wiki/Cargo_cult_programming", "anchor_text": "Cargo Cult Programming", "paragraph_index": 6}, {"url": "https://developer.twitter.com/en/docs/tweets/data-dictionary/overview/intro-to-tweet-json", "anchor_text": "It seems they do.", "paragraph_index": 24}, {"url": "https://bigdatashowcase.com/how-much-big-data-companies-make-on-internet/", "anchor_text": "12 terabytes per day", "paragraph_index": 25}, {"url": "https://medium.com/@icex33/stop-using-json-in-production-386f0115ae47", "anchor_text": "Maxim Zaks puts it", "paragraph_index": 31}], "all_paragraphs": ["When hearing about digital pollution, you may think of a massive server farm in rural location hosting abandoned Facebook accounts with hundreds of photos that will never be loaded in a browser again. Or perhaps you think landfills overflowing with still working, but near useless iPhone 4s.", "As developers, we owe it to the planet and future humans to leave as small of a footprint as possible. Our footprint, unlike an abandoned Facebook photo, can grow exponentially. Let me explain\u2026", "Let\u2019s consider something seemingly simple. This implementation of an API for Y-combinator\u2019s Hacker News.", "Here is the result from the above call to the API: (you don\u2019t have to read it)", "Cool. Push button, get banana. Make the URL request and get the story or stories of your desire, all available in nice human-readable, machine-parsable JSON. But wait.", "Since when does our data need to be human-readable? Sure, that might be nice to have during the development of an API, but in an end product? Seems like that\u2019s a big waste of words and curly braces. Does \u201c[]}}}],\u201d convey much intent or meaning to the human reader? But that\u2019s what happens when you combine a human-readable format with a machine parseable one. Is it necessary? What\u2019s the point in all this? It\u2019s so I can fetch the story and display it in my app in a pretty, human-readable way. Would I ever display this JSON to my customer? No! So why are we passing data in human-readable formats?", "Before I blame it on \u201cCargo Cult Programming,\u201d maybe we should analyze further? For what reason would a human want to read this \u201cdata?\u201d Isn\u2019t it nice to have as a developer on the receiving end of this great API? Sure. It\u2019s a nicety. It\u2019s great to be able to print the results of my requests to the screen to make sure I\u2019m getting the \u201cdata I need.\u201d But this isn\u2019t the data I need. This is the data I need wrapped in the text that I don\u2019t. This is the data I need represented in text which I have to convert to the data I need. Now I have burn resources and CPU parsing and converting this mess, so I can finally get the data I need.", "If the purpose of the data being \u201chuman-readable\u201d is so that it can be helpful during development, then why not just make a parameter on the request for a human-readable version. Something like, \u201c&format=readable.\u201d Then, after we know we are reading in the right data, I can drop that parameter and get actual data.", "Because it\u2019s unnecessary usage of CPU, radios, and modems. This costs time, money, and energy.", "Why should we need to parse data? If we are just sent the data we need, in an agreed format, we can just put it into the variables we need. We don\u2019t need a JSON decoding library with thousands of if-then instructions for the processor.", "Size matters. Sending 100 bytes of information versus 200 bytes of information takes less energy on your cellular radio, on your home\u2019s modem, or on the server modem.", "As a quick demonstration, let\u2019s examine a tiny bit of the JSON above.", "This lets us know there were zero comments for the article header retrieved above. I can use this in my newsreader app, to display that the article had zero comments. How much data did we receive in JSON format?", "JSON is typically conveyed in UTF-8 format. Characters in UTF-8 are variable length, but in this case, they all fall in the one-byte range. So the above \u201cnum_comments\u201d:0 equals the count of the actual characters. 16 characters here, so 16 bytes. if there were 100 comments, this would have made this 18 bytes because of the two extra zeroes. \u201c00.\u201d 1000 comments would be 19 bytes, and so on.", "If we don\u2019t use JSON and just send this as serialized data we could send this as an unsigned integer. This would be just 2 bytes representing from 0 to 65,536 comments. 19 bytes vs 2 bytes. We saved 17 bytes, a near 90% savings.", "It\u2019s a pretty dramatic difference that transports the same information.Here is a swift example of what something like this would look like in Swift:", "Run that code in a playground and the printed result will be:", "It serializes an article header with an ID, title, number of comments, and number of likes. The result is 16 bytes.", "Using the same amount of data that our previous JSON example sent us just the comment count, we\u2019ve got two more meaningful numbers and the title of the article\u2026 oh, and the comment count.", "How much JSON would this have taken?", "67 bytes of JSON vs 16 bytes tightly serialized data. So yes, I called JSON fat.", "In this case, we are using less than 25% of the data to represent the same information. Of course, the actual savings will dive once we start sending massive amounts of content within an actual article. The actual text that takes up space. Many APIs don\u2019t even contain long article text. Many are number centric where these savings are most dramatic.", "Consider the following request from the same Hacker News API that returns just the front page article\u2019s meta information:", "As of this writing, this is what it returned in 16,137 bytes:", "16 kilobytes vs the probable 4 kilobytes if we used tight serialized data. And for what? Just so that developers can glance at some text to verify we are getting it the few times we are testing out this code, with no regard for the possible thousands or millions of times this code will be used. Consider if CNN or Fox News were using this type of API in their apps. They probably are. Imagine if twitter does? It seems they do.", "How much money could they save on data transfer costs? Someone estimated twitter used 12 terabytes per day. That\u2019s 12,000 gigabytes at around 8 cents per gigabyte on AWS for about $960 per day or $350,400 per year. Theoretically, tight data serialization could reduce their transfer cost to 25% of their current usage. This could save them $262,800 per year. Not bad.", "They are also storing this data, probably as serialized\u2026 JSON, which costs money. One year of 12 terabytes of new tweets per day, 4,380 terabytes per year. Let\u2019s pretend they keep just the last 5 years of tweets. That\u2019s 21,000 terabytes of stored tweet data. Just checked simple storage on AWS. That\u2019ll cost $452,147 per month or $5,425,764 per year. It appears tight serialization could save them $4,069,323 per year. Maybe they are compressing? JSON typically compresses to about 50%. So maybe tight serialization would only save a couple million per year? But it would save on the CPU cycles to compress and decompress. The calculations get complicated, but the evidence is pretty simple. Companies could save space, time, and money using tight serialization.", "This is an environmental issue as well. The cost and data savings are nearly 1:1. The environmental impact reduction is more. A 75% reduction in data would be more than a 75% reduction of emissions or energy usage. The energy cost is in storing, compressing, sending, and receiving. Often the sending and receiving are happening through multiple servers or nodes. A byte traveling from twitter could jump through five or servers to reach your device. Consider this traceroute from a random US server to a twitter server.", "From your phone, this would include a radio hop between you and the first server or between your phone and your router. Then\u2026 five or so sends and receives between (10x). A 75% reduction in data, is much much more than a 75% reduction in energy cost. It\u2019s a 75% reduction multiplied by each send and receive. In this case, a 4x reduction in data would equal a 40x reduction in the energy costs of the transfer.", "Smaller data travels faster and arrives faster. This makes your apps more responsive. Tight serialized data doesn\u2019t have to be parsed through a JSON decoder with thousands of if-then statements. This makes your app more responsive. The data doesn\u2019t have to be compressed on the server to save money, this makes your app more responsive when it requests data. Pure, tight, serialized data makes your app faster. This makes the customer experience better and your app more energy efficient.", "When I\u2019ve done this in my apps, I\u2019ve found improved performance and responsiveness.", "I like how Maxim Zaks puts it, in his article entitled Stop Using JSON in Production. \u201cThe main benefit of Schemas is that it describes the payload. When you have a schema, your payload carrying the description around is redundant.\u201d API developers spend days writing schemas to describe their JSON format which is already described in their JSON format. We should stop using JSON in production. We should describe our data format that is returned from our parameters.", "I\u2019ve called the solution to this problem, \u201ctight serialization.\u201d Similar solutions out there are flat mapping or protocol buffers. In the end, it\u2019s just ordered data described by the provider and understood by the receiver. It doesn\u2019t need to be human-readable in between. It saves time, money, energy and makes your apps more responsive.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Developer of apps \uf8ff | Making things fast and small with #swift & #objective-c | Entrepreneur | Digital pollution reduction advocate"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5a579f8c9bf&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdigital-pollution-5a579f8c9bf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdigital-pollution-5a579f8c9bf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdigital-pollution-5a579f8c9bf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdigital-pollution-5a579f8c9bf&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5a579f8c9bf--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5a579f8c9bf--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@jbethancourt?source=post_page-----5a579f8c9bf--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jbethancourt?source=post_page-----5a579f8c9bf--------------------------------", "anchor_text": "John Bethancourt"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa55172ce67c2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdigital-pollution-5a579f8c9bf&user=John+Bethancourt&userId=a55172ce67c2&source=post_page-a55172ce67c2----5a579f8c9bf---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5a579f8c9bf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdigital-pollution-5a579f8c9bf&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5a579f8c9bf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdigital-pollution-5a579f8c9bf&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@punkidu", "anchor_text": "Ella Ivanescu"}, {"url": "http://hn.algolia.com/api/v1/search?query=digitalpollution&tags=story", "anchor_text": "This implementation"}, {"url": "https://news.ycombinator.com/", "anchor_text": "Y-combinator\u2019s Hacker News"}, {"url": "https://hn.algolia.com/api/v1/search?query=digitalpollution&tags=story", "anchor_text": "http://hn.algolia.com/api/v1/search?query=digitalpollution&tags=story"}, {"url": "https://en.wikipedia.org/wiki/Cargo_cult_programming", "anchor_text": "Cargo Cult Programming"}, {"url": "http://hn.algolia.com/api/v1/search?tags=front_page", "anchor_text": "http://hn.algolia.com/api/v1/search?tags=front_page"}, {"url": "https://developer.twitter.com/en/docs/tweets/data-dictionary/overview/intro-to-tweet-json", "anchor_text": "It seems they do."}, {"url": "https://bigdatashowcase.com/how-much-big-data-companies-make-on-internet/", "anchor_text": "12 terabytes per day"}, {"url": "https://medium.com/@icex33/stop-using-json-in-production-386f0115ae47", "anchor_text": "Maxim Zaks puts it"}, {"url": "https://medium.com/tag/swift?source=post_page-----5a579f8c9bf---------------swift-----------------", "anchor_text": "Swift"}, {"url": "https://medium.com/tag/json?source=post_page-----5a579f8c9bf---------------json-----------------", "anchor_text": "Json"}, {"url": "https://medium.com/tag/pollution?source=post_page-----5a579f8c9bf---------------pollution-----------------", "anchor_text": "Pollution"}, {"url": "https://medium.com/tag/withunsafebytes?source=post_page-----5a579f8c9bf---------------withunsafebytes-----------------", "anchor_text": "Withunsafebytes"}, {"url": "https://medium.com/tag/subdata?source=post_page-----5a579f8c9bf---------------subdata-----------------", "anchor_text": "Subdata"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5a579f8c9bf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdigital-pollution-5a579f8c9bf&user=John+Bethancourt&userId=a55172ce67c2&source=-----5a579f8c9bf---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5a579f8c9bf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdigital-pollution-5a579f8c9bf&user=John+Bethancourt&userId=a55172ce67c2&source=-----5a579f8c9bf---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5a579f8c9bf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdigital-pollution-5a579f8c9bf&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5a579f8c9bf--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5a579f8c9bf&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdigital-pollution-5a579f8c9bf&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5a579f8c9bf---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5a579f8c9bf--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5a579f8c9bf--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5a579f8c9bf--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5a579f8c9bf--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5a579f8c9bf--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5a579f8c9bf--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5a579f8c9bf--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5a579f8c9bf--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jbethancourt?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jbethancourt?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "John Bethancourt"}, {"url": "https://medium.com/@jbethancourt/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "6 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa55172ce67c2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdigital-pollution-5a579f8c9bf&user=John+Bethancourt&userId=a55172ce67c2&source=post_page-a55172ce67c2--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fa55172ce67c2%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdigital-pollution-5a579f8c9bf&user=John+Bethancourt&userId=a55172ce67c2&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}