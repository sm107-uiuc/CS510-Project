{"url": "https://towardsdatascience.com/easy-fixes-for-redshift-performance-3fb66743b8c", "time": 1683013113.070218, "path": "towardsdatascience.com/easy-fixes-for-redshift-performance-3fb66743b8c/", "webpage": {"metadata": {"title": "Easy Fixes for Redshift Performance | by Kovid Rathee | Towards Data Science", "h1": "Easy Fixes for Redshift Performance", "description": "Redshift is awesome, until it stops being that. Usually, it isn\u2019t so much Redshift\u2019s fault when that happens. One of the most common problems that people using Redshift face is of bad query\u2026"}, "outgoing_paragraph_urls": [{"url": "https://linktr.ee/kovid", "anchor_text": "most common problems", "paragraph_index": 0}, {"url": "https://s3.amazonaws.com/periscopedata/email/resources/pd-the%2Banalyst%E2%80%99s%2Bguide%2Bto%2Bamazon%2Bredshift%2B-20170821-bl.pdf", "anchor_text": "this", "paragraph_index": 13}, {"url": "https://kovidrathee.medium.com/membership", "anchor_text": "https://kovidrathee.medium.com/membership", "paragraph_index": 15}], "all_paragraphs": ["Redshift is awesome, until it stops being that. Usually, it isn\u2019t so much Redshift\u2019s fault when that happens. One of the most common problems that people using Redshift face is of bad query performance and high query execution times. It might be hard to digest but most of the Redshift problems are seen because people are just used to querying relational databases. Although the look & feel of a traditional ACID compliant relational database & a MPP distributed relational database are the same but the underlying principles of storage & distribution completely change the game.", "Two major things about Redshift change everything when comparing it to ACID compliant relational databases like MySQL, PostgreSQL and so on.", "We\u2019ll now list down a couple of quick fixes and things to remember when getting started with Redshift workloads. If you\u2019re not across Redshift, going through the following document would be very helpful.", "Unlike relational databases, Redshift doesn\u2019t support indexes. Don\u2019t write the same kind of queries that you write in relational databases like MySQL or PostgreSQL. Redshift is designed to perform the best when you select the columns that you absolutely, most certainly need to query \u2014 the same way you\u2019re supposed to SELECT records in a row-based database, you\u2019re required to select columns in a column-based database.", "Joins in relational databases use indexing. As we just established that indexes are absent from Redshift, then what will you use? You will use a similar sounding construct to join tables. That construct is called Distribution Key \u2014 a column based on which data is distributed across different nodes of the Redshift cluster. How the data is distributed is defined by the distribution style selected for a given table.", "Similar to any other database like MySQL, PostgreSQL etc., Redshift\u2019s query planner also uses statistics about tables. Based on those statistics, the query plan decides to go one way or the other when choosing one of many plans to execute the query. That\u2019s why it\u2019s a good practice to ANALYZE the tables every now and then. There\u2019s no good frequency to run this that suits all. Beware that ANALYZE can be a time consuming activity. Do a quick cost-benefit analysis before deciding on the frequency.", "There\u2019s a great article which mentions some of the things I talked about here. Please refer this for more detail.", "One of the great things about columnar databases is that you can achieve high levels of compression because a lot of the same kind of data is stored contiguously \u2014 which means that many blocks on disk contain data of the same data type. Doesn\u2019t that make compression easier!", "With row-based databases, all the data for a single row is contiguously stored. That is why it is better to reduce the number of rows scanned.", "Because of this, compression is hard in row-based databases as a row may contain data of different data types which means that adjacent blocks on disk might have different data types.", "Managing disk space is usually a problem with all databases, especially when you\u2019re dealing with analytical loads because analysts, data engineers create a lot of tables for further analysis. Even if that\u2019s not the case, reduced free space affects query performance badly because it makes it difficult for the query execution engine to create temporary stuff on disk by inducing a lot of swapping.", "If you don\u2019t have any control over disk space, it is better for a more elastic option in Spectrum \u2014 here you essentially move all your data to S3 which can scale as much as you want without any downtime for increasing disk space.", "These were some of the basic things that you can keep in mind. There are many more ideas which you can find on AWS\u2019s documentation for Redshift. The documentation isn\u2019t always helpful. For that time, you can refer to some of the links that have been shared through this post and below in the references section.", "If you\u2019re looking for an in-depth practical guide to Redshift, there\u2019s nothing better than this one by Periscope.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I write about tech, Indian classical music, literature, and the workplace among other things. 1x engineer on weekdays. https://kovidrathee.medium.com/membership"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F3fb66743b8c&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feasy-fixes-for-redshift-performance-3fb66743b8c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feasy-fixes-for-redshift-performance-3fb66743b8c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feasy-fixes-for-redshift-performance-3fb66743b8c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feasy-fixes-for-redshift-performance-3fb66743b8c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://me.dm/@kovidrathee", "anchor_text": "Mastodon"}, {"url": "https://towardsdatascience.com/?source=post_page-----3fb66743b8c--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3fb66743b8c--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://kovidrathee.medium.com/?source=post_page-----3fb66743b8c--------------------------------", "anchor_text": ""}, {"url": "https://kovidrathee.medium.com/?source=post_page-----3fb66743b8c--------------------------------", "anchor_text": "Kovid Rathee"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F13d513db037&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feasy-fixes-for-redshift-performance-3fb66743b8c&user=Kovid+Rathee&userId=13d513db037&source=post_page-13d513db037----3fb66743b8c---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3fb66743b8c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feasy-fixes-for-redshift-performance-3fb66743b8c&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3fb66743b8c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feasy-fixes-for-redshift-performance-3fb66743b8c&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@ripato?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Ricardo Gomez Angel"}, {"url": "https://unsplash.com/s/photos/red?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://linktr.ee/kovid", "anchor_text": "most common problems"}, {"url": "https://docs.aws.amazon.com/redshift/latest/dg/c-query-performance.html", "anchor_text": "Factors affecting query performanceA number of factors can affect query performance. The following aspects of your data, cluster, and database operations\u2026docs.aws.amazon.com"}, {"url": "https://docs.amazonaws.cn/en_us/redshift/latest/dg/c_Distribution_examples.html", "anchor_text": "Distribution examplesAWS services or capabilities described in AWS documentation might vary by Region. To see the differences applicable to\u2026docs.amazonaws.cn"}, {"url": "https://www.intermix.io/blog/top-14-performance-tuning-techniques-for-amazon-redshift/#use_change_data_capture_cdc", "anchor_text": "14 Best Practices for Amazon Redshift Performance OptimizationAmazon Redshift is a data warehouse that makes it fast, simple and cost-effective to analyze petabytes of data across\u2026www.intermix.io"}, {"url": "https://commons.wikimedia.org/wiki/File:Diskblocks-contig.jpg", "anchor_text": "Wikimedia Commons"}, {"url": "https://docs.aws.amazon.com/redshift/latest/dg/c_Compression_encodings.html", "anchor_text": "Compression encodingsA compression encoding specifies the type of compression that is applied to a column of data values as rows are added\u2026docs.aws.amazon.com"}, {"url": "https://s3.amazonaws.com/periscopedata/email/resources/pd-the%2Banalyst%E2%80%99s%2Bguide%2Bto%2Bamazon%2Bredshift%2B-20170821-bl.pdf", "anchor_text": "this"}, {"url": "https://www.hudl.com/bits/the-low-hanging-fruit-of-redshift-performance", "anchor_text": "The Low-Hanging Fruit of Redshift Performance | Hudl BlogThis post is a case-study about how we fixed some Redshift performance issues we started running in to as we had more\u2026www.hudl.com"}, {"url": "https://aws.amazon.com/blogs/big-data/top-10-performance-tuning-techniques-for-amazon-redshift/", "anchor_text": "Top 10 Performance Tuning Techniques for Amazon Redshift | Amazon Web ServicesCustomers use Amazon Redshift for everything from accelerating existing database environments, to ingesting weblogs for\u2026aws.amazon.com"}, {"url": "https://www.concurrencylabs.com/blog/starburst-presto-vs-aws-redshift/", "anchor_text": "Querying 8.66 Billion Records - a Performance and Cost Comparison between Starburst Presto and\u2026If you're an application owner, sooner or later you'll need to analyze large amounts of data. The good news? Whatever\u2026www.concurrencylabs.com"}, {"url": "https://docs.aws.amazon.com/redshift/latest/dg/query-performance-improvement-opportunities.html", "anchor_text": "Improving query performanceFollowing are some common issues that affect query performance, with instructions on ways to diagnose and resolve them\u2026docs.aws.amazon.com"}, {"url": "https://medium.com/tag/data-engineering?source=post_page-----3fb66743b8c---------------data_engineering-----------------", "anchor_text": "Data Engineering"}, {"url": "https://medium.com/tag/software-development?source=post_page-----3fb66743b8c---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/redshift?source=post_page-----3fb66743b8c---------------redshift-----------------", "anchor_text": "Redshift"}, {"url": "https://medium.com/tag/aws?source=post_page-----3fb66743b8c---------------aws-----------------", "anchor_text": "AWS"}, {"url": "https://medium.com/tag/data-warehouse?source=post_page-----3fb66743b8c---------------data_warehouse-----------------", "anchor_text": "Data Warehouse"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3fb66743b8c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feasy-fixes-for-redshift-performance-3fb66743b8c&user=Kovid+Rathee&userId=13d513db037&source=-----3fb66743b8c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3fb66743b8c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feasy-fixes-for-redshift-performance-3fb66743b8c&user=Kovid+Rathee&userId=13d513db037&source=-----3fb66743b8c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3fb66743b8c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feasy-fixes-for-redshift-performance-3fb66743b8c&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3fb66743b8c--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F3fb66743b8c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feasy-fixes-for-redshift-performance-3fb66743b8c&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----3fb66743b8c---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----3fb66743b8c--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----3fb66743b8c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----3fb66743b8c--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----3fb66743b8c--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----3fb66743b8c--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----3fb66743b8c--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----3fb66743b8c--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----3fb66743b8c--------------------------------", "anchor_text": ""}, {"url": "https://kovidrathee.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://kovidrathee.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kovid Rathee"}, {"url": "https://kovidrathee.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.1K Followers"}, {"url": "https://kovidrathee.medium.com/membership", "anchor_text": "https://kovidrathee.medium.com/membership"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F13d513db037&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feasy-fixes-for-redshift-performance-3fb66743b8c&user=Kovid+Rathee&userId=13d513db037&source=post_page-13d513db037--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8154c41b0f77&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Feasy-fixes-for-redshift-performance-3fb66743b8c&newsletterV3=13d513db037&newsletterV3Id=8154c41b0f77&user=Kovid+Rathee&userId=13d513db037&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}