{"url": "https://towardsdatascience.com/saliency-based-image-segmentation-473b4cb31774", "time": 1682995363.794281, "path": "towardsdatascience.com/saliency-based-image-segmentation-473b4cb31774/", "webpage": {"metadata": {"title": "Saliency Based Image Segmentation | by Tim Chinenov | Towards Data Science", "h1": "Saliency Based Image Segmentation", "description": "Often when we are presented with an image, there is a point of focus in the image. This might be a person, a building, or even a bucket. There are clear portions of an image that are of little\u2026"}, "outgoing_paragraph_urls": [{"url": "https://ieeexplore.ieee.org/document/6694178", "anchor_text": "[1]", "paragraph_index": 2}, {"url": "https://www.researchgate.net/publication/318119848_Automatic_Trimap_Generation_for_Image_Matting", "anchor_text": "[2]", "paragraph_index": 2}, {"url": "https://www.microsoft.com/en-us/research/publication/grabcut-interactive-foreground-extraction-using-iterated-graph-cuts/?from=http%3A%2F%2Fresearch.microsoft.com%2Fapps%2Fpubs%2Fdefault.aspx%3Fid%3D67890", "anchor_text": "Grabcut", "paragraph_index": 12}], "all_paragraphs": ["Often when we are presented with an image, there is a point of focus in the image. This might be a person, a building, or even a bucket. There are clear portions of an image that are of little interest. Such regions are usually characterized by lack of focus in the image, monotone coloring, or smooth texture. When such a class of images is presented, it can be desirable to segment the object of interest from the rest of the image. This article explores the segmentation of such salient images.", "This project initially stemmed from an interest to develop an autonomous method of generating trimaps of an image. Trimaps are image masks that when coupled with a matting algorithm are used to segment an image while paying attention to details between the foreground and background. A trimap normally contains a white region that defines the foreground, a black region that defines the background, and dividing grey region that represents a region of uncertainty.", "The problem with most matting algorithms is that they expect the trimap to be provided by the user, a task that can be time consuming. There were two primary papers I referenced that attempt to address autonomous trimap generation [1] [2]. In the first paper, Hsieh et al. uses a fairly straightforward and easily implementable approach. Unfortunately, their approach is not entirely autonomous as it requires the user to provide a rectangular region for a Grabcut algorithm. Gupta et al. instead uses a saliency approach to predict what the region of interest is. Yet, their saliency method is quite involved, combining the results of three different saliency algorithms. One of these algorithms utilize convoluted neural networks, a technique I wanted to avoid for the ease of implementation.", "Besides the need for human assistance, Hsieh\u2019s et al. algorithm produces reasonable results. I figured if I could automate the Grabcut portion of the paper, the rest of their algorithm would solve the initial problem. I drew inspiration from the method proposed by Gupta et al. to create this autonomy.", "With most forms of image segmentation, the goal is to binarize the image into regions of interest. The goal in this project is no different. First, I wanted to approximately determine where the object of interest was. A Gaussian blurring filter was applied to the image. From the blurred image, super pixels of average 15 pixel size were generated. Super pixel algorithms aim to break an image up based on the color and distance of values in pixel regions. Specifically, the simple linear iterative clustering (SLIC) algorithm was used.", "Superpixels break up the image into regions that are approximately the same. One advantage of this, is that superpixels allow for the generalization of regions. We can assume that the majority of pixels within a superpixel have similar properties.", "In parallel to determining the superpixels in the image, the saliency map of the image was calculated. Two different saliency techniques were used. The first method used a built in OpenCV method known as fine grain saliency. The second method involved taking the average of the fine grain saliency image and subtracting it from the Gaussian blurred version of the image, followed by the absolute value of the new image.", "These two approaches varied in the aggressiveness of their results. The images below both highlight regions of interest. The images produced by the fine grain saliency are considerably softer. Additionally, the fine grain saliency images primarily outline the border of the salient images, while the alternative method captures the interior of the salient image as well. The aggressive approach does pick up more noise compared to the fine grain approach. Noise removal is the next step of this procedure.", "The following technique was burrowed from the paper by Gupta et al. In order to binarize the image, each super pixel that was generated from the colored image is iterated through. If the median pixel value of that superpixel region within the saliency image is greater than a threshold, T1, then the whole superpixel is binarized to white. Otherwise, the whole superpixel is left black. T1, is chosen by the user. In [2], T1 is set to 30% of the greatest pixel value in the saliency image, however, In this project a value of 25% was used.", "Following the binarization of the image, the image was dilated based on which saliency technique was used. In the fine grain saliency method, the image was dilated by two times the average super pixel size. The aggressive saliency method was not dilated. The greater noise present in the image made any dilation risky.", "The final step again depended on which saliency method was used. In both cases, the largest region of white pixels was extracted. In OpenCV, such an operation is performed by finding the contours in the image and selecting the contour with the greatest area. A bounding box was fitted to the selected region.", "It was observed that the fine grain saliency approach often resulted in fragmented regions. After the bounding box was generated, any other white regions that fell into the box that were not part of the largest region, were added to the box. The bounds of the box were increased to include these regions. The aggressive saliency approach did not require this. Often, the greatest region captured more than was desired.", "The final step was to feed the bounding box that was ultimately found to the Grabcut algorithm. Grabcut is common method used to segment an image. The bounding box given to a Grabcut function separates what the algorithm considers to be definitively background and foreground. In most software packages that include a Grabcutting app, the user edits the rectangular region and can provide the algorithm further information for cleaner results. In this project, OpenCV\u2019s built in Grabcut function was used.", "This procedure ends where [1] starts. In the future, I plan to continue developing this automatic tripmap generator.", "Of the two, the aggressive saliency map appeared to produce a exact mask for the majority of images. The fine grain approach struggled with images in which the salient object wasn\u2019t \u201cbulky\u201d. If the image was long or had tendrils, it was common for those segments to become disconnected from the rest of the image. Yet, due to its conservative nature, the fine grain approach was better when the image was particularly noisy. The mask did not necessarily capture the whole image still, but it did not spill over as frequently as the aggressive approach did.", "It\u2019s also necessary to point out that in respect to the algorithm developed in [1], a underdeveloped mask is not bad. Since the ultimate goal is to develop a trimap image, the mask will be padded by a gray region. This gray region will assist with distinguishing between the foreground and background.", "To any weekly readers, learning OpenCV in C++ and implementing this algorithm was surprisingly time consuming. Sorry for the delays, but expect a continuation of this project in the future as well as more content!", "[1] C. Hsieh and M. Lee, \u201cAutomatic trimap generation for digital image matting,\u201d 2013 Asia-Pacific Signal and Information Processing Association Annual Summit and Conference, Kaohsiung, 2013, pp. 1\u20135.", "[2] Gupta, Vikas & Raman, Shanmuganathan. (2017). Automatic Trimap Generation for Image Matting.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "A SpaceX software engineer. Im an equal opportunity critic that writes about tech and policy. instagram: @classy.tim.writes"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F473b4cb31774&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsaliency-based-image-segmentation-473b4cb31774&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsaliency-based-image-segmentation-473b4cb31774&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsaliency-based-image-segmentation-473b4cb31774&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsaliency-based-image-segmentation-473b4cb31774&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----473b4cb31774--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----473b4cb31774--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://theclassytim.medium.com/?source=post_page-----473b4cb31774--------------------------------", "anchor_text": ""}, {"url": "https://theclassytim.medium.com/?source=post_page-----473b4cb31774--------------------------------", "anchor_text": "Tim Chinenov"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd8ef4d6fe020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsaliency-based-image-segmentation-473b4cb31774&user=Tim+Chinenov&userId=d8ef4d6fe020&source=post_page-d8ef4d6fe020----473b4cb31774---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F473b4cb31774&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsaliency-based-image-segmentation-473b4cb31774&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F473b4cb31774&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsaliency-based-image-segmentation-473b4cb31774&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://ieeexplore.ieee.org/document/6694178", "anchor_text": "[1]"}, {"url": "https://www.researchgate.net/publication/318119848_Automatic_Trimap_Generation_for_Image_Matting", "anchor_text": "[2]"}, {"url": "https://www.microsoft.com/en-us/research/publication/grabcut-interactive-foreground-extraction-using-iterated-graph-cuts/?from=http%3A%2F%2Fresearch.microsoft.com%2Fapps%2Fpubs%2Fdefault.aspx%3Fid%3D67890", "anchor_text": "Grabcut"}, {"url": "https://github.com/TimChinenov/GraspPicture", "anchor_text": "TimChinenov/GraspPictureCode for segmenting salient colored images and determining a grasp. - TimChinenov/GraspPicturegithub.com"}, {"url": "https://medium.com/tag/computer-science?source=post_page-----473b4cb31774---------------computer_science-----------------", "anchor_text": "Computer Science"}, {"url": "https://medium.com/tag/computer-vision?source=post_page-----473b4cb31774---------------computer_vision-----------------", "anchor_text": "Computer Vision"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----473b4cb31774---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/programming?source=post_page-----473b4cb31774---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----473b4cb31774---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F473b4cb31774&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsaliency-based-image-segmentation-473b4cb31774&user=Tim+Chinenov&userId=d8ef4d6fe020&source=-----473b4cb31774---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F473b4cb31774&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsaliency-based-image-segmentation-473b4cb31774&user=Tim+Chinenov&userId=d8ef4d6fe020&source=-----473b4cb31774---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F473b4cb31774&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsaliency-based-image-segmentation-473b4cb31774&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----473b4cb31774--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F473b4cb31774&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsaliency-based-image-segmentation-473b4cb31774&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----473b4cb31774---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----473b4cb31774--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----473b4cb31774--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----473b4cb31774--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----473b4cb31774--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----473b4cb31774--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----473b4cb31774--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----473b4cb31774--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----473b4cb31774--------------------------------", "anchor_text": ""}, {"url": "https://theclassytim.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://theclassytim.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Tim Chinenov"}, {"url": "https://theclassytim.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "792 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd8ef4d6fe020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsaliency-based-image-segmentation-473b4cb31774&user=Tim+Chinenov&userId=d8ef4d6fe020&source=post_page-d8ef4d6fe020--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F5565a3f4305c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsaliency-based-image-segmentation-473b4cb31774&newsletterV3=d8ef4d6fe020&newsletterV3Id=5565a3f4305c&user=Tim+Chinenov&userId=d8ef4d6fe020&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}