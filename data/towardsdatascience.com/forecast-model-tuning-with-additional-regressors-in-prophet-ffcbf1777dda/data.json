{"url": "https://towardsdatascience.com/forecast-model-tuning-with-additional-regressors-in-prophet-ffcbf1777dda", "time": 1682997171.2526689, "path": "towardsdatascience.com/forecast-model-tuning-with-additional-regressors-in-prophet-ffcbf1777dda/", "webpage": {"metadata": {"title": "Forecast Model Tuning with Additional Regressors in Prophet | by Andrej Baranovskij | Towards Data Science", "h1": "Forecast Model Tuning with Additional Regressors in Prophet", "description": "Additional regressors feature is very important for accurate forecast calculation in Prophet. It helps to tune how the forecast is constructed and make prediction process more transparent."}, "outgoing_paragraph_urls": [{"url": "https://facebook.github.io/prophet/docs/seasonality,_holiday_effects,_and_regressors.html#additional-regressors", "anchor_text": "Prophet additional regressors", "paragraph_index": 0}, {"url": "https://www.kaggle.com/marklvl/bike-sharing-dataset", "anchor_text": "Bike Sharing in Washington D.C. Dataset", "paragraph_index": 1}], "all_paragraphs": ["I\u2019m going to share my experiment results with Prophet additional regressors. My goal was to check how extra regressor would weight on forecast calculated by Prophet.", "Using dataset from Kaggle \u2014 Bike Sharing in Washington D.C. Dataset. Data comes with a number for bike rentals per day and weather conditions. I have created and compared three models:", "We should see the effect of regressor and compare these three models.", "The forecast is calculated for ten future days. Last day available in the dataset is 2012\u201312\u201331, this means forecast starts from 2013\u201301\u201301.", "B. Model with the additional regressor \u2014 weather temperature", "Regressor value must be known in the past and in the future, this is how it helps Prophet to adjust the forecast. The future value must be either predefined and known (for example, a specific event happening in certain dates) or it should be forecasted elsewhere. In our case \u2014 we are using weather temperature forecast, which we can get from the weather channel.", "Values for regressor must be in the same data frame as time series data. I have copied a date column to be defined as an index column:", "We need to construct future data-frame for ten days \u2014 creating Pandas data-frame for ten days from 2013\u201301\u201301 and initializing each element with temperature forecast (normalized value):", "With below code, I\u2019m adding regressor for weather temperature. If the date falls into the training set, then returning temperature from the training set, otherwise from a future forecast data frame (the one constructed above). Period for ten days into the future is set. Prophet model is constructed with fit function, predict function is called to calculate forecast:", "Forecast value for bike rentals, with additional regressor for the temperature, starting from 2013\u201301\u201301. The temperature forecast is good, warm weather for January is expected, this helps to adjust numbers for bike rentals to be higher (naturally there should be more rentals if weather temperature is good):", "C. Model with two additional regressors\u2014 weather temperature and condition", "The dataset contains quite a few attributes which describe the weather, using more of these attributes would help to calculate the more accurate forecast for bike rentals. I will show how adding one more regressor could change the forecast.", "Additional regressor \u2014 weather condition (check weathersit attribute in the dataset) is added using the above code, along with weather temperature regressor. For the test purpose, I\u2019m setting weather condition equal to 4 (this means bad weather) for all ten days in the future. Even if weather temperature in January is increasing (which is good for bike rentals), overall weather is bad (this should decrease the number of bike rentals).", "With the second regressor (pointing to bad expected bad weather), Prophet returns smaller expected bike rental numbers:", "Summary: Additional regressors feature is very important for accurate forecast calculation in Prophet. It helps to tune how the forecast is constructed and make prediction process more transparent. Regressor must be a variable which was known in the past and known (or separately forecasted for the future).", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fffcbf1777dda&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecast-model-tuning-with-additional-regressors-in-prophet-ffcbf1777dda&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecast-model-tuning-with-additional-regressors-in-prophet-ffcbf1777dda&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecast-model-tuning-with-additional-regressors-in-prophet-ffcbf1777dda&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecast-model-tuning-with-additional-regressors-in-prophet-ffcbf1777dda&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ffcbf1777dda--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ffcbf1777dda--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://andrejusb.medium.com/?source=post_page-----ffcbf1777dda--------------------------------", "anchor_text": ""}, {"url": "https://andrejusb.medium.com/?source=post_page-----ffcbf1777dda--------------------------------", "anchor_text": "Andrej Baranovskij"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbbd1211c851b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecast-model-tuning-with-additional-regressors-in-prophet-ffcbf1777dda&user=Andrej+Baranovskij&userId=bbd1211c851b&source=post_page-bbd1211c851b----ffcbf1777dda---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fffcbf1777dda&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecast-model-tuning-with-additional-regressors-in-prophet-ffcbf1777dda&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fffcbf1777dda&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecast-model-tuning-with-additional-regressors-in-prophet-ffcbf1777dda&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://facebook.github.io/prophet/docs/seasonality,_holiday_effects,_and_regressors.html#additional-regressors", "anchor_text": "Prophet additional regressors"}, {"url": "https://www.kaggle.com/marklvl/bike-sharing-dataset", "anchor_text": "Bike Sharing in Washington D.C. Dataset"}, {"url": "https://github.com/abaranovskis-redsamurai/automation-repo/tree/master/forecast", "anchor_text": "repo"}, {"url": "https://towardsdatascience.com/serving-prophet-model-with-flask-predicting-future-1896986da05f", "anchor_text": "Serving Prophet Model with Flask \u2014 Predicting Future"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ffcbf1777dda---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----ffcbf1777dda---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/forecasting?source=post_page-----ffcbf1777dda---------------forecasting-----------------", "anchor_text": "Forecasting"}, {"url": "https://medium.com/tag/python?source=post_page-----ffcbf1777dda---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data?source=post_page-----ffcbf1777dda---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fffcbf1777dda&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecast-model-tuning-with-additional-regressors-in-prophet-ffcbf1777dda&user=Andrej+Baranovskij&userId=bbd1211c851b&source=-----ffcbf1777dda---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fffcbf1777dda&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecast-model-tuning-with-additional-regressors-in-prophet-ffcbf1777dda&user=Andrej+Baranovskij&userId=bbd1211c851b&source=-----ffcbf1777dda---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fffcbf1777dda&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecast-model-tuning-with-additional-regressors-in-prophet-ffcbf1777dda&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ffcbf1777dda--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fffcbf1777dda&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecast-model-tuning-with-additional-regressors-in-prophet-ffcbf1777dda&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ffcbf1777dda---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ffcbf1777dda--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ffcbf1777dda--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ffcbf1777dda--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ffcbf1777dda--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ffcbf1777dda--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ffcbf1777dda--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ffcbf1777dda--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ffcbf1777dda--------------------------------", "anchor_text": ""}, {"url": "https://andrejusb.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://andrejusb.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andrej Baranovskij"}, {"url": "https://andrejusb.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.2K Followers"}, {"url": "https://github.com/katanaml", "anchor_text": "https://github.com/katanaml"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbbd1211c851b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecast-model-tuning-with-additional-regressors-in-prophet-ffcbf1777dda&user=Andrej+Baranovskij&userId=bbd1211c851b&source=post_page-bbd1211c851b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd22cc5338107&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fforecast-model-tuning-with-additional-regressors-in-prophet-ffcbf1777dda&newsletterV3=bbd1211c851b&newsletterV3Id=d22cc5338107&user=Andrej+Baranovskij&userId=bbd1211c851b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}