{"url": "https://towardsdatascience.com/securing-api-keys-with-environment-variables-using-anaconda-d30a7c48b1fd", "time": 1683002181.917889, "path": "towardsdatascience.com/securing-api-keys-with-environment-variables-using-anaconda-d30a7c48b1fd/", "webpage": {"metadata": {"title": "Securing API Keys with Environment Variables Using Anaconda | by Raymond Willey | Towards Data Science", "h1": "Securing API Keys with Environment Variables Using Anaconda", "description": "If you are reading this, I assume you are already familiar with APIs, tokens, private keys, and public keys. Your private and public keys serve as a form of authentication to identify you and track\u2026"}, "outgoing_paragraph_urls": [{"url": "https://awsinsider.net/articles/2019/10/11/imperva-data-breach.aspx", "anchor_text": "dire consequences", "paragraph_index": 0}, {"url": "https://www.youtube.com/watch?v=mIB7IZFCE_k", "anchor_text": "this video", "paragraph_index": 7}, {"url": "https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#windows", "anchor_text": "Anaconda documentation", "paragraph_index": 9}], "all_paragraphs": ["If you are reading this, I assume you are already familiar with APIs, tokens, private keys, and public keys. Your private and public keys serve as a form of authentication to identify you and track your activity with a developer\u2019s API. What this means is that, if someone got ahold of your keys, they could access data in the API while impersonating you, which can have some dire consequences.", "The challenge faced by most up-and-coming data scientists is that they want to promote their project work in a public forum. If any of those projects use APIs, the individual will have to load their keys into their notebooks. In other words, making the notebook public means jeopardizing the security of the API key.", "There are a few common solutions to this problem: the first is to replace the key with something like ****** or YOUR_PRIVATE_KEY_HERE. This works to a certain extent, but the methodology is fallible to human error. With multiple commits on a single project, the token must be removed and re-added each time. The second you push a commit and forget to clear the key, it is compromised. It\u2019s not a matter of if this will happen, but when. Another option is to save API keys to a separate JSON file, read the private key, and exclude the file when pushing to GitHub. While this is a little better, the problem here is that others wanting to explore your work must make edits to the forked repository to run the code. Moreover, this does not fully eliminate the potential for human error.", "Wouldn\u2019t it be great if there was a way to save keys and tokens to our system files to be called when desired? And wouldn\u2019t it be even better if others can use the same code to call their own keys and tokens from their own systems? As it turns out, there is a way: environment variables!", "Environment variables are precisely what their name implies: variables saved in the local environment that can be called into any project. Because they are not part of the repository itself, there is no need to restrict the information that is pushed to GitHub. In the example below, a private API key is already saved as an environment variable called PRIVATE_API_KEY. We will look at how to create the variable itself a bit later.", "As we can see, this looks pretty clean and simple. Whenever we need to use the key, all we have to do is call the api_key variable. More seasoned data scientists reviewing this code should immediately recognize the need to use their own private keys, saving them in their own environments. Once completed, the program should run as-is without any hiccups.", "The one caveat here is that the reviewer will need to save the API key using the same variable name. If the person already has the relevant key saved to their environment using a different variable name, they will likely opt to modify the code rather than their environment. What would make this process even more elegant is if API developers provided recommended naming conventions for these keys in their documentation. But that\u2019s a topic for another day.", "In this post, we are not going to get into the best practices for managing environments across projects. Instead, I am assuming you are already working in the proper environment and know how to switch between them using Anaconda. If you are not familiar with this, I would recommend checking out this video as a primer for the rest of this post.", "The overall process for creating these variables is as follows:", "I will show you how to handle all three of these steps in macOS, Linux, and Windows. All instructions are adapted directly from the Anaconda documentation.", "The following commands can be used to handle steps 1 and 2 using the terminal:", "So, we now have two files called env_vars.sh that are each stored in separate directories. We need to open these files in a text editor of your choice to create the variables. For the file in the activate.d directory, we will add the following:", "For the file in the deactivate.d directory, we add this:", "The first line #!/bin/sh lets the operating system know that the files are shell scripts to ensure the export and unset commands are properly executed.", "Once these files are saved and closed, enter conda activate analytics into the terminal to save YOUR_PRIATE_KEY_HERE to the environment variable PRIVATE_API_KEY. When done using these variables, they can be erased from the environment using the conda deactivate.", "The following commands can be used to handle steps 1 and 2 using the command shell:", "So, we now have two files called env_vars.bat that are each stored in separate directories. We need to open these files in a text editor of your choice to create the variables. For the file in the activate.d directory, we will add the following:", "For the file in the deactivate.d directory, we add this:", "Once these files are saved and closed, enter conda activate analytics into the terminal to save YOUR_PRIATE_KEY_HERE to the environment variable PRIVATE_API_KEY. When done using these variables, they can be erased from the environment using the conda deactivate.", "As you can see, though there are a few steps to saving your API keys as environment variables, there is nothing inherently difficult or complicated about it. Once in place, the variables are quick and easy to access, and they can be deactivated with a single command when you are done with them. It is much more efficient than adding and removing keys every time you want to make an update or push a new commit to GitHub. And it gives you more safety and security when showcasing your projects to the outside world.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist in the consulting industry with expertise in Machine Learning, Deep Learning, and Hypothesis Testing."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fd30a7c48b1fd&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecuring-api-keys-with-environment-variables-using-anaconda-d30a7c48b1fd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecuring-api-keys-with-environment-variables-using-anaconda-d30a7c48b1fd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecuring-api-keys-with-environment-variables-using-anaconda-d30a7c48b1fd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecuring-api-keys-with-environment-variables-using-anaconda-d30a7c48b1fd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----d30a7c48b1fd--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d30a7c48b1fd--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@rwilleynyc?source=post_page-----d30a7c48b1fd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rwilleynyc?source=post_page-----d30a7c48b1fd--------------------------------", "anchor_text": "Raymond Willey"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F75f6c61ec59a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecuring-api-keys-with-environment-variables-using-anaconda-d30a7c48b1fd&user=Raymond+Willey&userId=75f6c61ec59a&source=post_page-75f6c61ec59a----d30a7c48b1fd---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd30a7c48b1fd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecuring-api-keys-with-environment-variables-using-anaconda-d30a7c48b1fd&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd30a7c48b1fd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecuring-api-keys-with-environment-variables-using-anaconda-d30a7c48b1fd&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://awsinsider.net/articles/2019/10/11/imperva-data-breach.aspx", "anchor_text": "dire consequences"}, {"url": "https://www.youtube.com/watch?v=mIB7IZFCE_k", "anchor_text": "this video"}, {"url": "https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#windows", "anchor_text": "Anaconda documentation"}, {"url": "https://medium.com/tag/data-science?source=post_page-----d30a7c48b1fd---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----d30a7c48b1fd---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/cybersecurity?source=post_page-----d30a7c48b1fd---------------cybersecurity-----------------", "anchor_text": "Cybersecurity"}, {"url": "https://medium.com/tag/api?source=post_page-----d30a7c48b1fd---------------api-----------------", "anchor_text": "API"}, {"url": "https://medium.com/tag/python?source=post_page-----d30a7c48b1fd---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd30a7c48b1fd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecuring-api-keys-with-environment-variables-using-anaconda-d30a7c48b1fd&user=Raymond+Willey&userId=75f6c61ec59a&source=-----d30a7c48b1fd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd30a7c48b1fd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecuring-api-keys-with-environment-variables-using-anaconda-d30a7c48b1fd&user=Raymond+Willey&userId=75f6c61ec59a&source=-----d30a7c48b1fd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd30a7c48b1fd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecuring-api-keys-with-environment-variables-using-anaconda-d30a7c48b1fd&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d30a7c48b1fd--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fd30a7c48b1fd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecuring-api-keys-with-environment-variables-using-anaconda-d30a7c48b1fd&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----d30a7c48b1fd---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----d30a7c48b1fd--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----d30a7c48b1fd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----d30a7c48b1fd--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----d30a7c48b1fd--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----d30a7c48b1fd--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----d30a7c48b1fd--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----d30a7c48b1fd--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----d30a7c48b1fd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rwilleynyc?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@rwilleynyc?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Raymond Willey"}, {"url": "https://medium.com/@rwilleynyc/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "242 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F75f6c61ec59a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecuring-api-keys-with-environment-variables-using-anaconda-d30a7c48b1fd&user=Raymond+Willey&userId=75f6c61ec59a&source=post_page-75f6c61ec59a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ffd23d9777b77&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsecuring-api-keys-with-environment-variables-using-anaconda-d30a7c48b1fd&newsletterV3=75f6c61ec59a&newsletterV3Id=fd23d9777b77&user=Raymond+Willey&userId=75f6c61ec59a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}