{"url": "https://towardsdatascience.com/all-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e", "time": 1683016597.07644, "path": "towardsdatascience.com/all-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e/", "webpage": {"metadata": {"title": "All the Pandas shift() you should know for data analysis | by B. Chen | Towards Data Science", "h1": "All the Pandas shift() you should know for data analysis", "description": "Suppose you encountered a situation where you need to push all rows in a DataFrame or require to use the previous row in a DataFrame. Maybe you want to calculate the difference in consecutive rows\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/021-pandas-shift/pandas-shift.ipynb", "anchor_text": "Notebook", "paragraph_index": 2}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.shift.html", "anchor_text": "documentation", "paragraph_index": 21}, {"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/021-pandas-shift/pandas-shift.ipynb", "anchor_text": "notebook", "paragraph_index": 22}, {"url": "https://github.com/BindiChen/machine-learning", "anchor_text": "Github", "paragraph_index": 23}], "all_paragraphs": ["Suppose you encountered a situation where you need to push all rows in a DataFrame or require to use the previous row in a DataFrame. Maybe you want to calculate the difference in consecutive rows, Pandas shift() would be an ideal way to achieve these objectives.", "In this article, we\u2019ll be going through some examples of manipulating data using Pandas shift() function. We will focus on practical problems and should help you get started with data analysis.", "Please check out Notebook for the source code.", "Pandas shift() shift index by the desired number of periods. The simplest call should have an argument periods (It defaults to 1) and it represents the number of shifts for the desired axis. And by default, it is shifting values vertically along the axis 0 . NaN will be filled for missing values introduced as a result of the shifting.", "Let\u2019s see how this works with the help of an example.", "To shift index by 1 row vertically", "To replace NaN , you can use the argument fill_value , for example, replace NaN with 0", "In addition, you can pass a negative number to periods and it will shift values in the oppositive direction.", "To shift values horizontally, you can set axis=1", "Pandas shift() function has an argument called freq which allows you to do the frequency-based shifting. The Pandas shift() function is beneficial when dealing with time-series data.", "In order to use the argument freq, you need to make sure the index of DataFrame is date or datetime, otherwise, it will raise a NotImplementedError.", "Let\u2019s see how this works with the help of an example.", "To shift the index by 10 days.", "You will get the following result if run with periods only. Certainly, that isn\u2019t what we want.", "Suppose you need to use the previous row value to calculate the sales change, Pandas shift() would be a way to achieve this task.", "To calculate the sales change in consecutive rows.", "This function is beneficial when dealing with time-series data. Let\u2019s take a look at another practical example.", "Now, suppose you have been asked to calculate the 7 days sales change as follows", "Pandas shift() with the argument freq would be an ideal way to achieve this task. Let\u2019s use read_csv() with the argument parse_dates and index_col to load data into a DataFrame.", "Then, to calculate the 7 days sales change:", "Pandas shift() function can be very useful when you need to push all rows in a DataFrame or require to use the previous row in a DataFrame. The function is beneficial when dealing with time-series data, as shown in the above examples.", "I hope this article will help you to save time in analyzing data. I recommend you to check out the documentation for the shift() API and to know about other things you can do.", "Thanks for reading. Please check out the notebook for the source code and stay tuned if you are interested in the practical aspect of machine learning.", "More tutorials can be found on my Github", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F791c1692b5e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fall-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fall-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fall-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fall-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----791c1692b5e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----791c1692b5e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://bindichen.medium.com/?source=post_page-----791c1692b5e--------------------------------", "anchor_text": ""}, {"url": "https://bindichen.medium.com/?source=post_page-----791c1692b5e--------------------------------", "anchor_text": "B. Chen"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F563d09da62a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fall-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e&user=B.+Chen&userId=563d09da62a&source=post_page-563d09da62a----791c1692b5e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F791c1692b5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fall-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F791c1692b5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fall-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@gudguyben?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Athul Ben"}, {"url": "https://unsplash.com/s/photos/shift-key?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/021-pandas-shift/pandas-shift.ipynb", "anchor_text": "Notebook"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.shift.html", "anchor_text": "documentation"}, {"url": "https://github.com/BindiChen/machine-learning/blob/master/data-analysis/021-pandas-shift/pandas-shift.ipynb", "anchor_text": "notebook"}, {"url": "https://medium.com/@bindiatwork/using-pandas-method-chaining-to-improve-code-readability-d8517c5626ac", "anchor_text": "Using Pandas method chaining to improve code readability"}, {"url": "https://towardsdatascience.com/how-to-do-a-custom-sort-on-pandas-dataframe-ac18e7ea5320", "anchor_text": "How to do a Custom Sort on Pandas DataFrame"}, {"url": "https://towardsdatascience.com/when-to-use-pandas-transform-function-df8861aa0dcf", "anchor_text": "When to use Pandas transform() function"}, {"url": "https://towardsdatascience.com/pandas-concat-tricks-you-should-know-to-speed-up-your-data-analysis-cd3d4fdfe6dd", "anchor_text": "Pandas concat() tricks you should know"}, {"url": "https://medium.com/@bindiatwork/difference-between-apply-and-transform-in-pandas-242e5cf32705", "anchor_text": "Difference between apply() and transform() in Pandas"}, {"url": "https://towardsdatascience.com/all-the-pandas-merge-you-should-know-for-combining-datasets-526b9ecaf184", "anchor_text": "All the Pandas merge() you should know"}, {"url": "https://towardsdatascience.com/working-with-datetime-in-pandas-dataframe-663f7af6c587", "anchor_text": "Working with datetime in Pandas DataFrame"}, {"url": "https://medium.com/@bindiatwork/all-the-pandas-read-csv-you-should-know-to-speed-up-your-data-analysis-1e16fe1039f3", "anchor_text": "Pandas read_csv() tricks you should know"}, {"url": "https://towardsdatascience.com/4-tricks-you-should-know-to-parse-date-columns-with-pandas-read-csv-27355bb2ad0e", "anchor_text": "4 tricks you should know to parse date columns with Pandas read_csv()"}, {"url": "https://github.com/BindiChen/machine-learning", "anchor_text": "Github"}, {"url": "https://medium.com/tag/pandas?source=post_page-----791c1692b5e---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/python?source=post_page-----791c1692b5e---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----791c1692b5e---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----791c1692b5e---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/shift?source=post_page-----791c1692b5e---------------shift-----------------", "anchor_text": "Shift"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F791c1692b5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fall-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e&user=B.+Chen&userId=563d09da62a&source=-----791c1692b5e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F791c1692b5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fall-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e&user=B.+Chen&userId=563d09da62a&source=-----791c1692b5e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F791c1692b5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fall-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----791c1692b5e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F791c1692b5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fall-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----791c1692b5e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----791c1692b5e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----791c1692b5e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----791c1692b5e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----791c1692b5e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----791c1692b5e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----791c1692b5e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----791c1692b5e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----791c1692b5e--------------------------------", "anchor_text": ""}, {"url": "https://bindichen.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://bindichen.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "B. Chen"}, {"url": "https://bindichen.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "4K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F563d09da62a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fall-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e&user=B.+Chen&userId=563d09da62a&source=post_page-563d09da62a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F56a3bfbb80dc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fall-the-pandas-shift-you-should-know-for-data-analysis-791c1692b5e&newsletterV3=563d09da62a&newsletterV3Id=56a3bfbb80dc&user=B.+Chen&userId=563d09da62a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}