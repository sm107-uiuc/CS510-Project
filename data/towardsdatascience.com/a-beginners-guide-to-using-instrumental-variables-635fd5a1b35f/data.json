{"url": "https://towardsdatascience.com/a-beginners-guide-to-using-instrumental-variables-635fd5a1b35f", "time": 1683009904.7129788, "path": "towardsdatascience.com/a-beginners-guide-to-using-instrumental-variables-635fd5a1b35f/", "webpage": {"metadata": {"title": "A Beginner\u2019s Guide to Instrumental Variables | by Amanda West | Towards Data Science", "h1": "A Beginner\u2019s Guide to Instrumental Variables", "description": "As an undergraduate I studied economics, which meant I studied a lot of regressions. It was basically 90% of the curriculum (when we\u2019re not discussing supply and demand curves, of course). The effect\u2026"}, "outgoing_paragraph_urls": [{"url": "https://pubs.aeaweb.org/doi/pdf/10.1257/000282802762024665", "anchor_text": "corruption on sumo wrestling", "paragraph_index": 0}, {"url": "https://www.nber.org/papers/w4509.pdf", "anchor_text": "minimum wage changes on a Wendy\u2019s in NJ", "paragraph_index": 0}, {"url": "https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2550498", "anchor_text": "The Zombie Lawyer Apocalypse", "paragraph_index": 0}, {"url": "https://www.statisticshowto.com/instrumental-variable/", "anchor_text": "Statistics How To", "paragraph_index": 4}, {"url": "http://ftp.iza.org/dp4419.pdf", "anchor_text": "published a paper on this effect", "paragraph_index": 13}, {"url": "https://www.rdocumentation.org/packages/AER/versions/1.2-9/topics/ivreg", "anchor_text": "here", "paragraph_index": 19}, {"url": "https://lsa.umich.edu/econ/news-events/all-news/student-news/undergraduate-econ-team-place-second-at-annual-uchicago-economet.html", "anchor_text": "2nd place at the 2019 UChicago Econometrics Games", "paragraph_index": 20}, {"url": "https://www.nber.org/papers/w4509.pdf", "anchor_text": "https://www.nber.org/papers/w4509.pdf", "paragraph_index": 22}, {"url": "http://amawest.bio.link/", "anchor_text": "amawest.bio.link/", "paragraph_index": 24}], "all_paragraphs": ["As an undergraduate I studied economics, which meant I studied a lot of regressions. It was basically 90% of the curriculum (when we\u2019re not discussing supply and demand curves, of course). The effect of corruption on sumo wrestling? Regression. Effect of minimum wage changes on a Wendy\u2019s in NJ? Regression. Or maybe The Zombie Lawyer Apocalypse is more your speed (O.K., not a regression, but the title was cool).", "Either way, my undergrad taught me three things: 1) supply-and-demand, 2) regressions are life, and 3) economists think they are gosh darn hilarious.", "But what if your regression fails you? What if it isn\u2019t predicting the thing it\u2019s supposed to predict, because your X is all tied up with things you don\u2019t have data for?", "Well that, my friends, is when you might want to contemplate using an IV.", "An instrumental variable is a third variable, Z, used in regression analysis when you have endogenous variables \u2014 variables that are influenced by other variables in the model. In other words, you use it to account for unexpected behavior between variables. Using an instrumental variable to identify the hidden (unobserved) correlation allows you to see the true correlation between the explanatory variable and response variable, Y. \u2014 Statistics How To", "Let\u2019s break down some of this into pieces we can understand.", "Let\u2019s say you have two variables that you think are correlated, education and wages (X and Y). You would like to investigate if education leads to higher wages, i.e. X \u2192 Y. It makes sense enough. You write y = \u03b1 + \u03b2x + \u03b5, and, content with yourself, spend the rest of the night binging Game of Thrones.", "Wait. Slow down. First let\u2019s clarify some things.", "Now that we\u2019ve translated y = x to y = \u03b1 + \u03b2x + \u03b5. The problem now has to do with the theory of if it\u2019s X truly leading to Y. Education leads to wages and that makes sense; but what if people who strive for higher education will also earn higher wages because they are a more energetic, ambitious, and driven subset of the population?", "This is a big problem. Why? Because it\u2019s not X that\u2019s leading to Y, it\u2019s something else that leads to Y. That \u201csomething else\u201d is currently absorbed in the error term because we can\u2019t measure ambition. This violates a basic assumption about linear regressions. Economists call it endogeneity.", "We want to use y = \u03b1 + \u03b2x + \u03b5, but it has quickly become clear that x, education, and y, wages, are also being affected by z, ambition/drive/that magic quality that creates people like Michael Jordan. Since we can\u2019t measure ambition and deliver it into a tidy CSV, what do we do?", "We use something else, something measurable, that correlates with education (X) but has nothing to do with the error term (\u03b5).", "These are the requirements of an IV: 1) they can\u2019t correlate with the error (exogeneity), and 2) they do correlate with X (education).", "In this case, early smoking behavior is a great instrument. Why? Because early smoking behavior and years of education attained are correlated. Early smoking behavior and ambition, on the other hand, aren\u2019t; lots of successful people had rough childhoods where they smoked. In fact, Dr. Matt Dickson already published a paper on this effect.", "Now you have the data on X (education), Y (wages), and Z (early smoking behavior). You\u2019ve declared that Z will make a great instrumental variable to deal with the endogeneity inherit in X. One question remains: How do we include an instrumental variable in a regression equation?", "We\u2019re going to do this by creating two equations, which is called a Two Stage Least Squares (2SLS) estimate. All it accomplishes is a slight redefinition of the education variable to be a function of early smoking behavior:", "In this example, c is the starting point (like \u03b1), d is the weight (like \u03b2), and v is the error (like \u03b5). We first recalibrate the education variable to be a function of early smoking behavior, then we plug our new definition into the original equation. That\u2019s why it\u2019s called Two Stage Least Squares; we\u2019re creating two equations to correctly answer an initial one.", "You now have all the theory you need to understand what an instrumental variable is and how we use it IRL with 2SLS. Running the analysis in R is as easy as pie:", "In human words; this regression is of education on wages with early smoking age being used as an instrument. The datasource being used is called _source. I\u2019m naming this regression reg_1 so I can call on it later.", "The entire ivreg() documentation is here.", "It took a long time for me to understand the purpose of an instrumental variable, or how to pick a great one; I even earned 2nd place at the 2019 UChicago Econometrics Games before fully understanding it. For this reason, if you don\u2019t completely understand everything about an IV that\u2019s O.K. and totally normal.", "I hope you feel a little more equipped to work with instrumental variables now; if you have any thoughts please comment (or leave a clap) below. Thanks for reading! \u2764\ufe0f", "David Card and Alan Krueger, Minimum Wages and Employment: A Case Study of the Fast-Food Industry in New Jersey and Pennsylvania, October 1993 (https://www.nber.org/papers/w4509.pdf)", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist & M.S. from UVA. Putting the elation in relational database management. I draw pretty graphs. \ud83c\udf08 amawest.bio.link/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F635fd5a1b35f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-using-instrumental-variables-635fd5a1b35f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-using-instrumental-variables-635fd5a1b35f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-using-instrumental-variables-635fd5a1b35f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-using-instrumental-variables-635fd5a1b35f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----635fd5a1b35f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----635fd5a1b35f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://amawest.medium.com/?source=post_page-----635fd5a1b35f--------------------------------", "anchor_text": ""}, {"url": "https://amawest.medium.com/?source=post_page-----635fd5a1b35f--------------------------------", "anchor_text": "Amanda West"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffa58e8a7a1b2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-using-instrumental-variables-635fd5a1b35f&user=Amanda+West&userId=fa58e8a7a1b2&source=post_page-fa58e8a7a1b2----635fd5a1b35f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F635fd5a1b35f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-using-instrumental-variables-635fd5a1b35f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F635fd5a1b35f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-using-instrumental-variables-635fd5a1b35f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@exxteban?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Esteban Lopez"}, {"url": "https://towardsdatascience.com/s/photos/superman?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://pubs.aeaweb.org/doi/pdf/10.1257/000282802762024665", "anchor_text": "corruption on sumo wrestling"}, {"url": "https://www.nber.org/papers/w4509.pdf", "anchor_text": "minimum wage changes on a Wendy\u2019s in NJ"}, {"url": "https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2550498", "anchor_text": "The Zombie Lawyer Apocalypse"}, {"url": "https://www.statisticshowto.com/instrumental-variable/", "anchor_text": "Statistics How To"}, {"url": "https://unsplash.com/@exxteban?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Esteban Lopez"}, {"url": "https://towardsdatascience.com/s/photos/lego-batman?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "http://ftp.iza.org/dp4419.pdf", "anchor_text": "published a paper on this effect"}, {"url": "https://www.rdocumentation.org/packages/AER/versions/1.2-9/topics/ivreg", "anchor_text": "here"}, {"url": "https://unsplash.com/@_alikokab_?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Ali Kokab"}, {"url": "https://towardsdatascience.com/s/photos/batman?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://lsa.umich.edu/econ/news-events/all-news/student-news/undergraduate-econ-team-place-second-at-annual-uchicago-economet.html", "anchor_text": "2nd place at the 2019 UChicago Econometrics Games"}, {"url": "https://www.nber.org/papers/w4509.pdf", "anchor_text": "https://www.nber.org/papers/w4509.pdf"}, {"url": "http://ftp.iza.org/dp4419.pdf", "anchor_text": "http://ftp.iza.org/dp4419.pdf"}, {"url": "https://pubs.aeaweb.org/doi/pdf/10.1257/000282802762024665", "anchor_text": "https://pubs.aeaweb.org/doi/pdf/10.1257/000282802762024665"}, {"url": "https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2550498", "anchor_text": "https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2550498"}, {"url": "https://medium.com/tag/data-science?source=post_page-----635fd5a1b35f---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----635fd5a1b35f---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/regression?source=post_page-----635fd5a1b35f---------------regression-----------------", "anchor_text": "Regression"}, {"url": "https://medium.com/tag/econometrics?source=post_page-----635fd5a1b35f---------------econometrics-----------------", "anchor_text": "Econometrics"}, {"url": "https://medium.com/tag/rstudio?source=post_page-----635fd5a1b35f---------------rstudio-----------------", "anchor_text": "Rstudio"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F635fd5a1b35f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-using-instrumental-variables-635fd5a1b35f&user=Amanda+West&userId=fa58e8a7a1b2&source=-----635fd5a1b35f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F635fd5a1b35f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-using-instrumental-variables-635fd5a1b35f&user=Amanda+West&userId=fa58e8a7a1b2&source=-----635fd5a1b35f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F635fd5a1b35f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-using-instrumental-variables-635fd5a1b35f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----635fd5a1b35f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F635fd5a1b35f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-using-instrumental-variables-635fd5a1b35f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----635fd5a1b35f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----635fd5a1b35f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----635fd5a1b35f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----635fd5a1b35f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----635fd5a1b35f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----635fd5a1b35f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----635fd5a1b35f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----635fd5a1b35f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----635fd5a1b35f--------------------------------", "anchor_text": ""}, {"url": "https://amawest.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://amawest.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Amanda West"}, {"url": "https://amawest.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "766 Followers"}, {"url": "http://amawest.bio.link/", "anchor_text": "amawest.bio.link/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffa58e8a7a1b2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-using-instrumental-variables-635fd5a1b35f&user=Amanda+West&userId=fa58e8a7a1b2&source=post_page-fa58e8a7a1b2--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F40759c547339&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-beginners-guide-to-using-instrumental-variables-635fd5a1b35f&newsletterV3=fa58e8a7a1b2&newsletterV3Id=40759c547339&user=Amanda+West&userId=fa58e8a7a1b2&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}