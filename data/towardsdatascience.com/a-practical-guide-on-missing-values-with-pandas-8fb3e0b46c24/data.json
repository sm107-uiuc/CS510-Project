{"url": "https://towardsdatascience.com/a-practical-guide-on-missing-values-with-pandas-8fb3e0b46c24", "time": 1683009158.055147, "path": "towardsdatascience.com/a-practical-guide-on-missing-values-with-pandas-8fb3e0b46c24/", "webpage": {"metadata": {"title": "A Practical Guide on Missing Values with Pandas | by Soner Y\u0131ld\u0131r\u0131m | Towards Data Science", "h1": "A Practical Guide on Missing Values with Pandas", "description": "Missing values indicate we do not have the information about a feature (column) of a particular observation (row). Why not just remove that observation from the dataset and go ahead? We can but\u2026"}, "outgoing_paragraph_urls": [{"url": "http://linkedin.com/in/soneryildirim/", "anchor_text": "linkedin.com/in/soneryildirim/", "paragraph_index": 37}, {"url": "http://twitter.com/snr14", "anchor_text": "twitter.com/snr14", "paragraph_index": 37}], "all_paragraphs": ["Missing values indicate we do not have the information about a feature (column) of a particular observation (row). Why not just remove that observation from the dataset and go ahead? We can but should not. The reasons are:", "In this post, we will go through how to detect and handle missing values as well as some key points to keep in mind.", "As always, we start with importing numpy and pandas.", "The default missing value representation in Pandas is NaN but Python\u2019s None is also detected as missing value.", "Although we created a series with integers, the values are upcasted to float because np.nan is float. A new representation for missing values is introduced with Pandas 1.0 which is <NA>. It can be used with integers without causing upcasting. We need to explicitly request the dtype to be pd.Int64Dtype().", "The integer values are not upcasted to float.", "Another missing value representation is NaT which is used to represent datetime64[ns] datatypes.", "Note: np.nan\u2019s do not compare equal whereas None\u2019s are considered as equal.", "Note: Not all missing values come in nice and clean np.nan or None format. For example, the dataset we work on may include \u201c?\u201d and \u201c- -\u201c values in some cells. We can convert them to np.nan representation when reading the dataset into a pandas dataframe. We just need to pass these values to na_values parameter.", "Let\u2019s first create a sample dataframe and add some missing values to it.", "As we mentioned earlier, NaT is used to represent datetime missing values.", "isna() returns the dataframe indicating missing values with booleans.", "isna().sum() returns the number of missing values in each column.", "notna is the opposite of isna so notna().sum() returns the number of non-missing values.", "isna().any() returns a boolean value for each column. If there is at least one missing value in that column, the result is True.", "Arithmetical operations between np.nan and numbers return np.nan.", "Cumulative methods like cumsum and cumprod ignore missing values by default but they preserve the positions of missing values.", "We can change this behavior by setting skipna parameter as False.", "The missing values are included in the summation now. Thus, all the values after the first nan are also nan.", "Groupby function excludes missing values by default.", "There are mainly two ways to handle missing values. We can either drop the missing values or replace them with an appropriate value. The better option is to replace missing values but in some cases, we may need to drop them.", "We can drop a row or column with missing values using dropna() function. how parameter is used to set condition to drop.", "Let\u2019s first modify our dataframe a little:", "how=\u2019any\u2019 will drop all rows except for the first and sixth:", "how=\u2019all\u2019 will only drop the last row:", "Note: In order to save these changes in the original dataframe, we need to set inplace parameter as True.", "Using thresh parameter, we can set a threshold for missing values in order for a row/column to be dropped. Dropna also does column-wise operation if axis parameter is set to 1.", "fillna() function of Pandas conveniently handles missing values. Using fillna(), missing values can be replaced by a special value or an aggreate value such as mean, median. Furthermore, missing values can be replaced with the value before or after it which is pretty useful for time-series datasets.", "We can select one value to replace all missing values in a dataframe but it does not make any sense. Instead, we can create a dictionary indicating a separate value to be used in different columns.", "We can use an aggregate function as the value to replace missing values:", "We can also fill missing values with the values before or after them using the method parameter. ffill stands for \u201cforward fill\u201d and replaces missing values with the values in the previous row. As the name suggests, bfill (backward fill) does the opposite. If there are many consecutive missing values in a column or row, we can use limit parameter to limit the number of missing values to be forward or backward filled.", "All the missing values are filled with the values in the previous cell. Let\u2019s limit the number of missing values to be filled as 1:", "Let\u2019s try to fill missing values using bfill method:", "The values at the end remain as missing because there are no values after them.", "interpolate fills missing values by interpolation which is especially useful for sequential or time series data. The default method is linear but it can be changed using method parameter. Some available options are polynomial, quadratic, cubic. Let\u2019s do an example with linear interpolation.", "Thank you for reading. Please let me know if you have any feedback.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist | Top 10 Writer in AI and Data Science | linkedin.com/in/soneryildirim/ | twitter.com/snr14"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8fb3e0b46c24&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-guide-on-missing-values-with-pandas-8fb3e0b46c24&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-guide-on-missing-values-with-pandas-8fb3e0b46c24&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-guide-on-missing-values-with-pandas-8fb3e0b46c24&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-guide-on-missing-values-with-pandas-8fb3e0b46c24&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8fb3e0b46c24--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8fb3e0b46c24--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://sonery.medium.com/?source=post_page-----8fb3e0b46c24--------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=post_page-----8fb3e0b46c24--------------------------------", "anchor_text": "Soner Y\u0131ld\u0131r\u0131m"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2cf6b549448&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-guide-on-missing-values-with-pandas-8fb3e0b46c24&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=post_page-2cf6b549448----8fb3e0b46c24---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8fb3e0b46c24&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-guide-on-missing-values-with-pandas-8fb3e0b46c24&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8fb3e0b46c24&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-guide-on-missing-values-with-pandas-8fb3e0b46c24&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/tag/data-science?source=post_page-----8fb3e0b46c24---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----8fb3e0b46c24---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----8fb3e0b46c24---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----8fb3e0b46c24---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/programming?source=post_page-----8fb3e0b46c24---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8fb3e0b46c24&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-guide-on-missing-values-with-pandas-8fb3e0b46c24&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=-----8fb3e0b46c24---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8fb3e0b46c24&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-guide-on-missing-values-with-pandas-8fb3e0b46c24&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=-----8fb3e0b46c24---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8fb3e0b46c24&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-guide-on-missing-values-with-pandas-8fb3e0b46c24&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8fb3e0b46c24--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8fb3e0b46c24&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-guide-on-missing-values-with-pandas-8fb3e0b46c24&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8fb3e0b46c24---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8fb3e0b46c24--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8fb3e0b46c24--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8fb3e0b46c24--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8fb3e0b46c24--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8fb3e0b46c24--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8fb3e0b46c24--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8fb3e0b46c24--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8fb3e0b46c24--------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Soner Y\u0131ld\u0131r\u0131m"}, {"url": "https://sonery.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "21K Followers"}, {"url": "http://linkedin.com/in/soneryildirim/", "anchor_text": "linkedin.com/in/soneryildirim/"}, {"url": "http://twitter.com/snr14", "anchor_text": "twitter.com/snr14"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2cf6b549448&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-guide-on-missing-values-with-pandas-8fb3e0b46c24&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=post_page-2cf6b549448--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7cdf5377373a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-practical-guide-on-missing-values-with-pandas-8fb3e0b46c24&newsletterV3=2cf6b549448&newsletterV3Id=7cdf5377373a&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}