{"url": "https://towardsdatascience.com/topic-modeling-singapores-subreddit-comments-with-natural-language-processing-336d15da3ff4", "time": 1683000927.540981, "path": "towardsdatascience.com/topic-modeling-singapores-subreddit-comments-with-natural-language-processing-336d15da3ff4/", "webpage": {"metadata": {"title": "Topic Modeling Singapore\u2019s Subreddit Comments with Natural Language Processing | by Ken Cheah | Towards Data Science", "h1": "Topic Modeling Singapore\u2019s Subreddit Comments with Natural Language Processing", "description": "For those of you that don\u2019t know, I enrolled in and was part of Metis\u2019 Data Science Bootcamp\u2019s first cohort in Singapore. Being a foreigner, I wanted to learn more about the country I was in and what\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.linkedin.com/posts/metis_congratulations-to-the-first-graduating-cohort-activity-6585633189430079488-pcP_", "anchor_text": "Metis\u2019 Data Science Bootcamp\u2019s first cohort in Singapore", "paragraph_index": 0}], "all_paragraphs": ["For those of you that don\u2019t know, I enrolled in and was part of Metis\u2019 Data Science Bootcamp\u2019s first cohort in Singapore. Being a foreigner, I wanted to learn more about the country I was in and what better way to learn about a foreign land than by topic modeling its subreddit forum? Going outside and mingling with the local folk, you might say, and you are probably correct \u2014 But that involves stepping outside the confines of a comfortable air-conditioned home (it is really hot in Singapore); no, I simply wasn\u2019t ready to leave my safe space.", "And so began my quest (cue dramatic quest music) to traverse the digital Singaporean landscape that is Singapore\u2019s subreddit \u2014 rich with somewhat unfiltered conversational data on issues the everyday Singaporean talks about. Not at all knowing what to expect, I braced myself for what lay deep within. Okay, a little overdramatic. Moving on.", "The timeframe of interest here is from January 2015 \u2014 June 2019. I chose a particularly large timeframe to account for seasonality and sampling biases. For example, if I had only looked at 2015 data, topics would presumably be skewed to politics as Singapore\u2019s last General Elections was held in that year.", "In terms of tools, the Python Reddit API Wrapper (PRAW) was considered and ditched in favor of Pushshift API. Limits imposed on PRAW meant that only a limited number of comments could be acquired; this was not the case for Pushshift.", "While Pushshift did limit API calls to 1000 entries per call, there was no actual limit to the number of calls you can make. A script was written to iterate over this process until all comments have been retrieved for the timeframe specified. 1 million comments were randomly sampled due to hardware and time constraints.", "As expected, the data obtained was extremely dirty. Thorough cleaning had to be performed before NLP preprocessing could even take place. It was time to take up the mantle again.", "In summary, these were the steps:", "Part of the code looks like this:", "Having cleaned and preprocessed the data, several models were experimented with. Latent Dirichlet Allocation (LDA) and Mallet LDA seemed to always outperform Latent Semantic Analysis (LSA) and Non-Negative Matrix Factorization (NMF).", "A brief refresher on these models and their results below:", "LSA is a matrix factorization model that assumes words with similar meanings will be contained in similar pieces of text. In essence, a Document Frequency matrix is decomposed using Singular Value Decomposition (SVD) into the 3 matrices above, which when multiplied approximately reconstructs the original M X M matrix.", "The left singular M X N matrix expresses words in terms of topics. The right singular N X M matrix expresses documents in terms of topics. By applying methods like cosine similarity, one is able to assess the similarity between different words and the similarity between different documents.", "To note, typically, a Term Frequency \u2014 Inverse Document Frequency (TF-IDF) matrix will be used to normalize the frequency of each word in the overall document collection to give less frequent terms more weight. This usually leads to better results as compared to using raw word frequency counts.", "NMF is also a matrix factorization model very similar to LSA but with the additional constraint that all 3 matrices must contain only non-negative values. The effect of this is that NMF cannot undo the application of latent features (due to the absence of negative values) and so is more \u201ccareful\u201d about how it derives these features. This also means that NMF models tend to lose a bit more information during decomposition.", "Comparable. Some topics can be inferred from both but generally, not good enough.", "Unlike the 2 models above, LDA is a probabilistic model. In LDA, each document is described by a probability distribution of topics and each topic is described by a probability distribution of words. In its first pass, the algorithm assigns each word in each document a random topic. With every subsequent pass:", "With more passes comes great responsibility. What? The topic clusters start to look more and more discernible as assignments reach a roughly steady state.", "You can tell from the generated topics that they are quite a bit better than the LSA & NMF models. Some topics can already be identified whilst some others like Topic 7 are still\u2026 bizarre. Skincare? I need to bloop_someone. I didn\u2019t say it was perfect.", "Mallet LDA is a variant of the Gensim LDA used above. The difference is that Gensim uses the Variational Bayes sampling method, which is quicker but less accurate as compared to Mallet\u2019s Gibbs sampling method.", "I obtained the most success with Mallet\u2019s LDA, producing word clusters with clearly distinguishable topics (to me). So I have taken the liberty to encapsulate them in word cloud glory along with the labels I saw fit.", "You will have noticed by now that all models described above have used k=8 for the number of topics. This is because the coherence score peaks at k=8 and declines with fewer or more topics. As always, it is also necessary to eyeball generated topic clusters to see if they make sense. In my case though, I was satisfied that both coherence score and manual checking seemed to agree with each other.", "As you will see from the interactive visualization below, there is good separation of topics in the latent space. You can play around with the relevance metric to see what other words belong to each topic.", "Fairly satisfied with the results. Domain knowledge is important in this area to experiment with different k values and to see if topic clusters make sense. Given more time, I would have loved to experiment with lda2vec and to incorporate some time-series analyses to see how the topic landscape changes from time to time. Perhaps sentiment analysis as well? There is a lot you can do when you have the data. But for now, this is where I conclude.", "Tools used: NLTK, SpaCy, Sk-learn, Gensim, Mallet, pyLDAvis", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Analytics | Machine Learning | Ex-Barrister"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F336d15da3ff4&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftopic-modeling-singapores-subreddit-comments-with-natural-language-processing-336d15da3ff4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftopic-modeling-singapores-subreddit-comments-with-natural-language-processing-336d15da3ff4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftopic-modeling-singapores-subreddit-comments-with-natural-language-processing-336d15da3ff4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftopic-modeling-singapores-subreddit-comments-with-natural-language-processing-336d15da3ff4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----336d15da3ff4--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----336d15da3ff4--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@kencheah?source=post_page-----336d15da3ff4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@kencheah?source=post_page-----336d15da3ff4--------------------------------", "anchor_text": "Ken Cheah"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fcbe6dfcbc32f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftopic-modeling-singapores-subreddit-comments-with-natural-language-processing-336d15da3ff4&user=Ken+Cheah&userId=cbe6dfcbc32f&source=post_page-cbe6dfcbc32f----336d15da3ff4---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F336d15da3ff4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftopic-modeling-singapores-subreddit-comments-with-natural-language-processing-336d15da3ff4&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F336d15da3ff4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftopic-modeling-singapores-subreddit-comments-with-natural-language-processing-336d15da3ff4&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.linkedin.com/posts/metis_congratulations-to-the-first-graduating-cohort-activity-6585633189430079488-pcP_", "anchor_text": "Metis\u2019 Data Science Bootcamp\u2019s first cohort in Singapore"}, {"url": "https://verstaresearch.com/blog/whos-your-data-janitor/", "anchor_text": "Source"}, {"url": "https://www.datacamp.com/community/tutorials/discovering-hidden-topics-python", "anchor_text": "Source"}, {"url": "https://singsoftnext.com/introduction-to-nonnegative-matrix-factorization/", "anchor_text": "Source"}, {"url": "https://www.slideshare.net/hustwj/probabilistic-topic-models", "anchor_text": "Source"}, {"url": "https://medium.com/tag/data-science?source=post_page-----336d15da3ff4---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----336d15da3ff4---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/naturallanguageprocessing?source=post_page-----336d15da3ff4---------------naturallanguageprocessing-----------------", "anchor_text": "Naturallanguageprocessing"}, {"url": "https://medium.com/tag/topic-modeling?source=post_page-----336d15da3ff4---------------topic_modeling-----------------", "anchor_text": "Topic Modeling"}, {"url": "https://medium.com/tag/singapore?source=post_page-----336d15da3ff4---------------singapore-----------------", "anchor_text": "Singapore"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F336d15da3ff4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftopic-modeling-singapores-subreddit-comments-with-natural-language-processing-336d15da3ff4&user=Ken+Cheah&userId=cbe6dfcbc32f&source=-----336d15da3ff4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F336d15da3ff4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftopic-modeling-singapores-subreddit-comments-with-natural-language-processing-336d15da3ff4&user=Ken+Cheah&userId=cbe6dfcbc32f&source=-----336d15da3ff4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F336d15da3ff4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftopic-modeling-singapores-subreddit-comments-with-natural-language-processing-336d15da3ff4&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----336d15da3ff4--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F336d15da3ff4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftopic-modeling-singapores-subreddit-comments-with-natural-language-processing-336d15da3ff4&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----336d15da3ff4---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----336d15da3ff4--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----336d15da3ff4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----336d15da3ff4--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----336d15da3ff4--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----336d15da3ff4--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----336d15da3ff4--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----336d15da3ff4--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----336d15da3ff4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@kencheah?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@kencheah?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Ken Cheah"}, {"url": "https://medium.com/@kencheah/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "35 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fcbe6dfcbc32f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftopic-modeling-singapores-subreddit-comments-with-natural-language-processing-336d15da3ff4&user=Ken+Cheah&userId=cbe6dfcbc32f&source=post_page-cbe6dfcbc32f--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fcbe6dfcbc32f%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftopic-modeling-singapores-subreddit-comments-with-natural-language-processing-336d15da3ff4&user=Ken+Cheah&userId=cbe6dfcbc32f&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}