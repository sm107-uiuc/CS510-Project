{"url": "https://towardsdatascience.com/neo4j-cypher-python-7a919a372be7", "time": 1683010891.761694, "path": "towardsdatascience.com/neo4j-cypher-python-7a919a372be7/", "webpage": {"metadata": {"title": "How to query Neo4j from Python: a quick introduction to Neo4j Driver and Cypher. | Towards Data Science", "h1": "How to query Neo4j from Python", "description": "This tutorial is a quick and dirty introduction to Neo4j Python Driver and Cypher Query Language. Step-by-step examples are provided in order to create and query graphs in Neo4j."}, "outgoing_paragraph_urls": [{"url": "https://neo4j.com/", "anchor_text": "Neo4j", "paragraph_index": 0}, {"url": "https://en.wikipedia.org/wiki/Graph_database", "anchor_text": "graph database", "paragraph_index": 0}, {"url": "https://neo4j.com/download/", "anchor_text": "official website", "paragraph_index": 3}, {"url": "https://neo4j.com/developer/python/#community-drivers", "anchor_text": "community drivers", "paragraph_index": 12}, {"url": "https://neo4j.com/developer/cypher-basics-i/", "anchor_text": "Cypher", "paragraph_index": 16}, {"url": "https://neo4j.com/docs/cypher-refcard/current/", "anchor_text": "Cypher Refcard", "paragraph_index": 16}, {"url": "https://relational.fit.cvut.cz/dataset/CORA", "anchor_text": "CORA dataset", "paragraph_index": 19}, {"url": "https://neo4j.com/docs/cypher-refcard/current/", "anchor_text": "Cypher Refcard", "paragraph_index": 25}, {"url": "https://neo4j.com/graph-data-science-library/", "anchor_text": "here", "paragraph_index": 29}], "all_paragraphs": ["Neo4j is a graph database management system.", "Neo4j is a native graph database, built from the ground up to leverage not only data but also data relationships. Neo4j connects data as it\u2019s stored, enabling queries never before imagined, at speeds never thought possible.", "In this article, we will provide a brief tutorial on using Neo4j from Python.", "You can skip this section if an instance of the graph DBMS is already installed and configured. In order to install Neo4j Desktop, follow the step-by-step guide on the official website. :) Once correctly installed, you should have a browser window like in the picture below.", "You could have some predefined sample projects already created. For this tutorial, we are going to create and use a brand new project. Just click on the New button and choose a name for our project!", "Initially, the project is empty. We can start by adding a new database.", "Once created the database, start it and open it. You should see a window like in the picture below where there is the information to use to connect to the database from a client. In our case, the URI is", "From the left vertical bar, you can enter the users administration men\u00f9 to create a new user.", "In this example, we are going to create an admin user.", "We can check the creation of the new user by selecting the user list from the left vertical bar.", "Now, we are ready from the server side! Let\u2019s move to Python!", "Install the package neo4j in our Python environment:", "This is the officially supported driver so we stick to it in this tutorial. However, there are other well-designed community drivers you can consider for future projects. Once installed neo4j package, you can try to import it in Python.", "If everything is working, you should receive as output the version of neo4j package (4.0.1 in this case).", "Now, we are ready to query the graph database!", "Firstly, we need to define a connection class to connect to the graph database.", "The class above requires the url, the username and the password during the initialization. In the query method, the query string should be written in Neo4j\u2019s graph query language: Cypher. For more details, check the Cypher Refcard.", "Let\u2019s create an instance of connection with the parameters defined before.", "Then, we can make our first query! Let\u2019s create a database called coradb.", "We can feed our database with the data from the CORA dataset.", "The Cora dataset consists of 2708 scientific publications classified into one of seven classes. The citation network consists of 5429 links. Each publication in the dataset is described by a 0/1-valued word vector indicating the absence/presence of the corresponding word from the dictionary. The dictionary consists of 1433 unique words.", "Let\u2019s create the citation graph from CSV files. We read the CSV file containing nodes information line by line and add each node to the graph with label Paper and properties id and class (of the paper).", "We do the same with edges information (notice the \u201carrow\u201d syntax in defining the edge).", "Finally, we are ready to make queries on our citation network! For example, we can ask which are the classes of papers in the network:", "or the list of most cited papers:", "You can use any syntax on Cypher Refcard, the only limit is your fantasy!", "In addition to Cypher queries, you can also run graph algorithms in Neo4j, for example: path finding, centralities computation, community detection, etc. To this end, we need to activate Neo4j Graph Data Science Library. We need to come back to Neo4j Browser and enter the configuration men\u00f9 (3 dots) of Graph Database.", "Under the tab Plugins, install Graph Data Science Library and restart. Before computing any measure, we need to create a graph.", "Now, we can compute the PageRank and the Betweenness of each node of the graph and save them in properties.", "The complete list of implemented algorithms and their syntax can be found here.", "If we query the graph right now, we can find out that each node has two more properties (pagerank and betweenness). We can transform the output in a dataframe and continue our analysis from there.", "The code above produces the following output:", "If we have finished with the queries, we can close the connection.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "What the caterpillar calls the end, the rest of the world calls a butterfly. \u2014 Lao Tze"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7a919a372be7&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fneo4j-cypher-python-7a919a372be7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fneo4j-cypher-python-7a919a372be7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fneo4j-cypher-python-7a919a372be7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fneo4j-cypher-python-7a919a372be7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----7a919a372be7--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7a919a372be7--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@ngshya?source=post_page-----7a919a372be7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ngshya?source=post_page-----7a919a372be7--------------------------------", "anchor_text": "Shuyi Yang"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5d761ee9c9c9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fneo4j-cypher-python-7a919a372be7&user=Shuyi+Yang&userId=5d761ee9c9c9&source=post_page-5d761ee9c9c9----7a919a372be7---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7a919a372be7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fneo4j-cypher-python-7a919a372be7&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7a919a372be7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fneo4j-cypher-python-7a919a372be7&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://neo4j.com/", "anchor_text": "Neo4j"}, {"url": "https://en.wikipedia.org/wiki/Graph_database", "anchor_text": "graph database"}, {"url": "https://neo4j.com/download/", "anchor_text": "official website"}, {"url": "https://neo4j.com/developer/python/#community-drivers", "anchor_text": "community drivers"}, {"url": "https://neo4j.com/developer/cypher-basics-i/", "anchor_text": "Cypher"}, {"url": "https://neo4j.com/docs/cypher-refcard/current/", "anchor_text": "Cypher Refcard"}, {"url": "https://relational.fit.cvut.cz/dataset/CORA", "anchor_text": "CORA dataset"}, {"url": "https://raw.githubusercontent.com/ngshya/datasets/master/cora/cora_content.csv'", "anchor_text": "https://raw.githubusercontent.com/ngshya/datasets/master/cora/cora_content.csv'"}, {"url": "https://raw.githubusercontent.com/ngshya/datasets/master/cora/cora_cites.csv'", "anchor_text": "https://raw.githubusercontent.com/ngshya/datasets/master/cora/cora_cites.csv'"}, {"url": "https://neo4j.com/docs/cypher-refcard/current/", "anchor_text": "Cypher Refcard"}, {"url": "https://neo4j.com/graph-data-science-library/", "anchor_text": "here"}, {"url": "https://www.linkedin.com/in/shuyiyang/", "anchor_text": "LinkedIn"}, {"url": "https://twitter.com/deltarule", "anchor_text": "Twitter"}, {"url": "https://medium.com/tag/neo4j?source=post_page-----7a919a372be7---------------neo4j-----------------", "anchor_text": "Neo4j"}, {"url": "https://medium.com/tag/graph-database?source=post_page-----7a919a372be7---------------graph_database-----------------", "anchor_text": "Graph Database"}, {"url": "https://medium.com/tag/python?source=post_page-----7a919a372be7---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/cypher?source=post_page-----7a919a372be7---------------cypher-----------------", "anchor_text": "Cypher"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7a919a372be7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fneo4j-cypher-python-7a919a372be7&user=Shuyi+Yang&userId=5d761ee9c9c9&source=-----7a919a372be7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7a919a372be7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fneo4j-cypher-python-7a919a372be7&user=Shuyi+Yang&userId=5d761ee9c9c9&source=-----7a919a372be7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7a919a372be7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fneo4j-cypher-python-7a919a372be7&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7a919a372be7--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F7a919a372be7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fneo4j-cypher-python-7a919a372be7&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----7a919a372be7---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----7a919a372be7--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----7a919a372be7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7a919a372be7--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7a919a372be7--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7a919a372be7--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7a919a372be7--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7a919a372be7--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7a919a372be7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ngshya?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ngshya?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Shuyi Yang"}, {"url": "https://medium.com/@ngshya/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "269 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5d761ee9c9c9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fneo4j-cypher-python-7a919a372be7&user=Shuyi+Yang&userId=5d761ee9c9c9&source=post_page-5d761ee9c9c9--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F9d3f358e1d08&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fneo4j-cypher-python-7a919a372be7&newsletterV3=5d761ee9c9c9&newsletterV3Id=9d3f358e1d08&user=Shuyi+Yang&userId=5d761ee9c9c9&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}