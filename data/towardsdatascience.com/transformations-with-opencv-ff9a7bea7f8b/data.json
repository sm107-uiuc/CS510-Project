{"url": "https://towardsdatascience.com/transformations-with-opencv-ff9a7bea7f8b", "time": 1683010484.157208, "path": "towardsdatascience.com/transformations-with-opencv-ff9a7bea7f8b/", "webpage": {"metadata": {"title": "Transformations with OpenCV. A guide on how to transform images with\u2026 | by Thiago Carvalho | Towards Data Science", "h1": "Transformations with OpenCV", "description": "If you ever had to use an image enhancer that could bitmap, you probably know the struggle. In this article, we\u2019ll get a look at transformations and explore things like moving, rotating, cropping\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.youtube.com/embed/WU-HSd3IdDA?start=7", "anchor_text": "image enhancer that could bitmap", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/getting-started-with-opencv-249e86bd4293", "anchor_text": "Here", "paragraph_index": 2}], "all_paragraphs": ["If you ever had to use an image enhancer that could bitmap, you probably know the struggle. In this article, we\u2019ll get a look at transformations and explore things like moving, rotating, cropping, and resizing.", "We\u2019ll use OpenCV, NumPy, and Matplotlib for the examples.", "Here, I went through some basics of OpenCV, such as reading, displaying, and modifying a few properties of images. The examples in this article will go from there, but I don\u2019t think you need to read it to keep up with this.", "Starting with something simple, we\u2019ll read the image and convert the sequence of colors from BGR to RGB.", "Then we\u2019ll build a transformation matrix that will contain the information to transform the image. For simplification, we can think of this matrix as:", "Where a default matrix or one that wouldn\u2019t change anything is:", "That means, 100% of the size, zero rotation, and no change in the location \u2014 Again, I\u2019m oversimplifying.", "After we figure out the matrix, we can get the height and width of the picture with .shape, and use .warpAffine to transform the image.", "Let\u2019s check an example without any transformation, to get an idea of the process.", "Alright, we can try moving it. We\u2019ll repeat everything but with a different matrix.", "Now, let\u2019s change everything, just to see how it works.", "Interesting. You might have noticed that we have two different \u2018sizes\u2019 \u2014 Let\u2019s check what\u2019s their difference.", "We can scale the width by 0.5 in the matrix.", "And we can divide the width by 2 in .warpAffine.", "I guess it\u2019s essential to understand the transformation matrix, but it\u2019s somewhat over-complicated.", "OpenCV has some more convenient ways to build it like the method getRotationMatrix2D, where we can set the desired location of the image, the rotation in angles, and the scaling factor in a single method.", "If we just need to turn the whole picture 90 degrees, .trasponse is an even handier method.", "We can create a mirror effect, like a reflection. We just need .flip with the image and the direction we want to reflect.", "Many times we may need a specific part of the image instead of the whole thing. If that\u2019s the case, we can easily crop the picture by slicing the NumPy array.", "The first part of the slice would be related to the height, so it\u2019s like row numbers if we think of it as a table, the second part refers to the width, so it\u2019s like column numbers.", "It\u2019s not optimal to guess which pixel we want to start and end the crop, so let\u2019s build a simple scaling function to understand how would we do this systematically.", "By default, resizing is achieved with linear interpolations, but we can also try other methods to see the difference between them.", "Let\u2019s try using .resize. We\u2019ll need the image and the desired size, and here we can specify the interpolation method we want. The size can be the dimensions of the new photo or a scaling factor for x and y.", "Another way of resizing is by using pyramids. Let\u2019s have a quick look at how does this works.", "We can see that just like the others, there\u2019s some loss in resolution, but overall it\u2019s an excellent method.", "Ok, just one more before we finish.", "Slicing our array is not just useful for cropping, we can also use it to manipulate a specific part of the image, and even replace a slice for something different.", "Alright, we saw how to move, rotate, and resize an image. We also got a look at cropping, mirroring, and how to manipulate slices of a picture.", "Thanks for reading my article. I hope you enjoyed it.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fff9a7bea7f8b&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransformations-with-opencv-ff9a7bea7f8b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransformations-with-opencv-ff9a7bea7f8b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransformations-with-opencv-ff9a7bea7f8b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransformations-with-opencv-ff9a7bea7f8b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ff9a7bea7f8b--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ff9a7bea7f8b--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=post_page-----ff9a7bea7f8b--------------------------------", "anchor_text": ""}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=post_page-----ff9a7bea7f8b--------------------------------", "anchor_text": "Thiago Carvalho"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7af498f86142&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransformations-with-opencv-ff9a7bea7f8b&user=Thiago+Carvalho&userId=7af498f86142&source=post_page-7af498f86142----ff9a7bea7f8b---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fff9a7bea7f8b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransformations-with-opencv-ff9a7bea7f8b&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fff9a7bea7f8b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransformations-with-opencv-ff9a7bea7f8b&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.youtube.com/embed/WU-HSd3IdDA?start=7", "anchor_text": "image enhancer that could bitmap"}, {"url": "https://towardsdatascience.com/getting-started-with-opencv-249e86bd4293", "anchor_text": "Here"}, {"url": "https://pixabay.com/photos/cassettes-tinge-magnetband-hifi-5148602/", "anchor_text": "Picture by Bru-nO"}, {"url": "https://www.pexels.com/photo/happy-young-indian-couple-looking-at-camera-4312847/", "anchor_text": "Ketut Subiyanto"}, {"url": "https://upload.wikimedia.org/wikipedia/commons/d/df/PurportedUFO2.jpg", "anchor_text": "Original Picture from Wikipedia"}, {"url": "https://unsplash.com/photos/Y_7wXiRn_J8", "anchor_text": "Picture by Mark Asthoff"}, {"url": "https://docs.opencv.org/2.4/modules/imgproc/doc/geometric_transformations.html", "anchor_text": "OpenCV Geometric Image Transformations"}, {"url": "https://docs.opencv.org/2.4/modules/core/doc/operations_on_arrays.html", "anchor_text": "OpenCV Operations on arrays"}, {"url": "https://docs.opencv.org/4.2.0/js_contour_properties_transpose.html", "anchor_text": "OpenCV Transpose Example"}, {"url": "https://docs.opencv.org/2.4/doc/tutorials/imgproc/pyramids/pyramids.html", "anchor_text": "OpenCV Pyramids"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ff9a7bea7f8b---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/computer-vision?source=post_page-----ff9a7bea7f8b---------------computer_vision-----------------", "anchor_text": "Computer Vision"}, {"url": "https://medium.com/tag/python?source=post_page-----ff9a7bea7f8b---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/opencv?source=post_page-----ff9a7bea7f8b---------------opencv-----------------", "anchor_text": "Opencv"}, {"url": "https://medium.com/tag/image-processing?source=post_page-----ff9a7bea7f8b---------------image_processing-----------------", "anchor_text": "Image Processing"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fff9a7bea7f8b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransformations-with-opencv-ff9a7bea7f8b&user=Thiago+Carvalho&userId=7af498f86142&source=-----ff9a7bea7f8b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fff9a7bea7f8b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransformations-with-opencv-ff9a7bea7f8b&user=Thiago+Carvalho&userId=7af498f86142&source=-----ff9a7bea7f8b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fff9a7bea7f8b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransformations-with-opencv-ff9a7bea7f8b&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ff9a7bea7f8b--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fff9a7bea7f8b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransformations-with-opencv-ff9a7bea7f8b&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ff9a7bea7f8b---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ff9a7bea7f8b--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ff9a7bea7f8b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ff9a7bea7f8b--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ff9a7bea7f8b--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ff9a7bea7f8b--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ff9a7bea7f8b--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ff9a7bea7f8b--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ff9a7bea7f8b--------------------------------", "anchor_text": ""}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://thiago-bernardes-carvalho.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Thiago Carvalho"}, {"url": "https://thiago-bernardes-carvalho.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.7K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7af498f86142&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransformations-with-opencv-ff9a7bea7f8b&user=Thiago+Carvalho&userId=7af498f86142&source=post_page-7af498f86142--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F10a0f4458714&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransformations-with-opencv-ff9a7bea7f8b&newsletterV3=7af498f86142&newsletterV3Id=10a0f4458714&user=Thiago+Carvalho&userId=7af498f86142&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}