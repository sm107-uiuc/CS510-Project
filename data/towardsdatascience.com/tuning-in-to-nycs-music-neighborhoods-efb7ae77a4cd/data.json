{"url": "https://towardsdatascience.com/tuning-in-to-nycs-music-neighborhoods-efb7ae77a4cd", "time": 1682995645.5133388, "path": "towardsdatascience.com/tuning-in-to-nycs-music-neighborhoods-efb7ae77a4cd/", "webpage": {"metadata": {"title": "Tuning-In To NYC\u2019s Musical Neighborhoods | by Michael Cascio | Towards Data Science", "h1": "Tuning-In To NYC\u2019s Musical Neighborhoods", "description": "Machine learning allows for the creation of computational models capable of identifying patterns in multi-dimensional datasets. This project aims to leverage venue data from Foursquare\u2019s \u2018Places API\u2019\u2026"}, "outgoing_paragraph_urls": [{"url": "https://developer.foursquare.com/docs/resources/categories", "anchor_text": "Venue Categories", "paragraph_index": 9}, {"url": "https://geo.nyu.edu/catalog/nyu_2451_34572", "anchor_text": "2014 New York City Neighborhood Names \u2014 NYU Spatial Data Repository", "paragraph_index": 43}, {"url": "https://developer.foursquare.com/docs/api/endpoints", "anchor_text": "\u2018Places API\u2019 Documentation \u2014 Foursquare", "paragraph_index": 44}], "all_paragraphs": ["Machine learning allows for the creation of computational models capable of identifying patterns in multi-dimensional datasets. This project aims to leverage venue data from Foursquare\u2019s \u2018Places API\u2019 and a machine learning algorithm called \u2018k-means clustering\u2019 to identify \u2018New York City\u2019 neighborhoods of similar \u2018music profile\u2019.", "Music is a form of art that has, and probably always will be, deeply embedded within the cultural activity of cities, communities, and groups of people more generally. Music is a means of communication, expression, and sometimes even protest with the power to peacefully bring together large amounts of like-minded people, influence popular culture, and hypnotize you with a memorable lyric that you end up singing in the shower subliminally for weeks on end even after consciously being disappointed in yourself for doing so\u2026..I digress\u2026.", "Cities are, in part, composed of musical entities such as record shops, instrument vendors, concert halls, amphitheaters, and more, that not only provide to the music needs of local citizens but also to tourists from around the world. For bigger cities, music entities can be spread apart, resulting in an ecosystem of hip niche neighborhoods that evolve and change over time. This ecosystem is often learned by humans looking for a cool music scene through either natural life experience (wandering/flaneur) or recommendations in the form of internet reviews, comments, and conversations with people in-real-life.", "This project aims to quantify a \u2018music profile\u2019 for neighborhoods in a major metropolitan city, New York City, to identify clusters of similar music scenes.", "Different parties may be interested in a model that is able to quantify neighborhood similarity based on the types of music outlets available. Such a model would be able to inform renters and home buyers who prefer to live where the music is happening that their next home is properly located. Future music venue start-ups can utilize the model to identify neighborhoods lacking live music venues and ensure they are investing in an area that is not saturated. Future music retail vendors, sellers of things like records and instruments, can similarly utilize the model to ensure they are launching a business where competition is in their favor.", "NYU Spatial Data Repository: I am using the \u20182014 New York City Neighborhood Names\u2019 dataset hosted by NYU\u2019s Spatial Data Repository as the basis for the neighborhood names and associated location centroids [0]. The image below shows a sample of this information:", "Foursquare \u2014 \u2018Places API\u2019: I will be using Foursquare\u2019s \u2018Places API\u2019 to acquire data related to \u2018venues\u2019 (as defined by Foursquare) categorized to be somehow associated with music [1]. It is important to note that Foursquare defines a \u2018venue\u2019 as a place that one can go to, or check-in to, and that a \u2018venue\u2019 is not necessarily a music venue but can be any establishment such as a restaurant or type of retail shop. Each Foursquare \u2018venue\u2019 is assigned a \u2018category\u2019 and each \u2018category\u2019 is associated with a particular \u2018categoryID\u2019. The image to the right shows the \u2018categoryID\u2019 values provided by Foursquare that will be used to acquire music related venues within New York City:", "Neighborhood Name & Location Centroid Data: The \u20182014 New York City Neighborhood Names\u2019 dataset hosted by NYU\u2019s Spatial Data Repository was easy to download as a JSON file and import into a Jupyter Notebook:", "The \u2018Borough\u2019, \u2018Neighborhood\u2019, \u2018Latitude\u2019, and \u2018Longitude\u2019 values associated with each neighborhood were then converted from JSON to a Pandas DataFrame that serves as the foundation of the analysis.", "Foursquare Music-Related Venue Data: As mentioned in the Data Sources section of this report, Foursquare has numerous \u2018Venue Categories\u2019 that are used to identify each type of venue. A \u2018get\u2019 request to the \u2018api.foursquare.com/v2/venues/search?\u2019 endpoint that provides a category ID will return venues of that category. The example code below sends a \u2018get\u2019 request to Foursquare that asks for one venue with the \u201cMusic Store\u2019 category (categoryID = \u20184bf58dd8d48988d1fe941735\u2019):", "A preliminary dataset of music related venues associated with each New York City neighborhood was created by recursively sending \u2018get\u2019 requests to the previously mentioned endpoint, making sure the results are specific to venues with music related \u2018category IDs\u2019. For each neighborhood, we can include all of the selected category IDs in a single \u2018get\u2019 request by passing them as comma separated values. Shown below is a function that creates the required url and an example:", "The following function recursively sends a \u2018get\u2019 request to Foursquare for each neighborhood that requests all music related venues. While looping through each neighborhood from the NYU dataset, the function appends each music related venue entry to a list and, after looping through each neighborhood, creates a DataFrame of all of the results. Included for each entry in the dataset are neighborhood name and location, and venue name, location, and category.", "The resulting preliminary venue DataFrame includes 9,442 venues that were pulled from Foursquare:", "Since I had some issues with exceeding Foursquare\u2019s API rate limits, after the preliminary dataset was acquired, a copy was saved to csv so that future development would not require re-requesting information from Foursquare.", "The series of images below are meant to capture my process for exploring the data retrieved from Foursquare in an effort to better understand what kind of venues were actually pulled during my requests. In a perfect world, each entry would be music-related and located in New York City, but that needed to be verified. The questions below informed how the preliminary venue data was pre-processed, shown in the Data-Preprocessing section of this report.", "Answer: Most entries pulled from the API request included a \u2018state\u2019 parameter equal to either \u2018New York\u2019 or \u2018NY.\u2019 Some entries included a \u2018state\u2019 parameter equal to \u2018CA\u2019, \u2018MA\u2019, and \u2018NJ\u2019 and will need to be removed.", "Answer: There are 149 unique venue categories included in this dataset. Some of the categories are not music related, which was a result of using higher level \u2018venue categories\u2019 defined by Foursquare. Non-music related categories will be removed.", "Answer: The image below shows that there were quite a few venues that did not have a \u2018city\u2019 parameter filled-out. At first I thought this would not be an issue because I still have a latitude and longitude associated with the each entry. Upon further analysis, it was determined that entries with no \u2018city\u2019 parameter were no longer active establishments and thus will be removed.", "Answer: In the preliminary dataset, there are less unique venue names than there are entries in total. This means that there are venues associated with more than one neighborhood, which is the result of queries that overlapped because of radius being set to 1000m in the API request. This will be accepted because the venue is within walking distance of the neighborhood centroid and can influence that neighborhood\u2019s scene.", "The preliminary dataset was cleaned according to the answers listed in the Exploratory Data Analysis section above. First, venues located in states other than \u201cNew York\u201d or \u201cNY\u201d were removed. Entries with \u201cVenue State\u201d equal to \u201cNew York\u201d were changed to \u201cNY.\u201d", "Entries returned by Foursquare with no \u2018Venue City\u2019 and given the \u2018N/A\u2019 treatment were also removed:", "A list of music-related venue categories was created based on the unique venue categories included in the preliminary dataset. This list was used to filter out the non-music-related entries that snuck into our request.", "The image below shows the total number of entries and number of unique entries in the ny_music_venues dataframe. As previously mentioned, some venues are assigned to multiple neighborhoods because the venue is within 1,000 meters of the neighborhood\u2019s centroid location.", "In order to use Foursquare\u2019s category values to find similar neighborhoods based on music venues, a one-hot-encoding representation of each entry was created using Pandas\u2019 \u2018get_dummies\u2019 function. The result was a dataframe of New York City music-related venues where entry venue category is represented by a value of 1 in the column of matching venue category, as shown below:", "Venue counts were determined for each venue category and neighborhood in New York City using the one hot encoded DataFrame:", "Using the DataFrame of venue counts shown above, horizontal bar plots were created for select venue categories to help visualize the top 25 neighborhoods with the most of each particular venue. Using the following loop and matplotlib:", "The encoded dataset of music-related venues in New York City was then used to quantify a music profile for each neighborhood. For each venue category, the percent distribution of venues across each neighborhood was calculated. This information would then be used to fit a K-Means clustering algorithm to the data in an effort to determine neighborhoods of similar music venue profile.", "First, the total number of venues for each category was determined:", "Finally, the percentage of venues in each neighborhood was calculated with respect to the total amount of venues in the dataset, by venue category. So it\u2019s clear, the value shown in the \u201cLounge\u201d column for Astoria represents the percentage of lounges in the dataset that are located in Astoria.", "With the above, a DataFrame showing the top five music venue categories for each neighborhood was created:", "Scikit-learn\u2019s K-Means clustering was used to determine similar neighborhoods based on music venue percentage. The image below shows the data being scaled and the K-Means model being created:", "A new DataFrame was created by merging neighborhood location data with cluster labels and top venue categories.", "The following code uses folium to visualize neighborhoods of similar music profile by coloring each neighborhood point based on cluster label:", "The following code iterates through and prints the results of each cluster:", "The resulting clusters can be seen in the Clusters section of this document\u2019s Appendix. Each cluster shows a list of neighborhoods with their respective top venue categories. We can compare the resulting clusters to the bar plots in the Data Visualization section and get a sense that the clusters are properly grouping neighborhoods based on music-related venue counts.", "It is interesting to see that some clusters are very small, sometimes only holding a single neighborhood, and appear to have identified a niche music profile. Examples of this are:", "Cluster 1 \u2014 Coney Island \u2014 Music Festival (Coney Island Music Festival)", "Cluster 2 \u2014 Lincoln Square \u2014 Opera House (Metropolitan Opera House)", "Other clusters, such as Cluster 4 and Cluster 7, are very large and appear to be grouping neighborhoods with assortments of live music type venues such as Music Venue, Nightclub, Rock Club, Lounge, etc.", "The inter-cluster 1st Top Venue Category of Clusters 9, 11, 12, 13, & 14 are all the same; Jazz Club, Recording Studio, Rock Club, Jazz Club, and Piano Club respectively. It\u2019s interested to see that Cluster 9 and 12 are both mainly interested in Jazz but were clustered differently because their other top venue categories were different, meaning a different music profile.", "Machine learning and clustering algorithms can be applied to multi-dimensional datasets to find similarities and patterns in the data. Clusters of neighborhoods of similar music profile, or any profile, can be generated using high-quality venue location data. There is a preface on high-quality because analysis models are only as good as the input into them (garbage in, garbage out). Luckily, Foursquare offers a robust \u2018Places API\u2019 service that, although (as we have seen) not perfect (nothing is), can be leverages in similar studies and model-making.", "This project is by no mens finished and could be expanded on in a number of different ways. Foursquare\u2019s API could be further interrogated to retrieve and consider more music-related venues in New York City. New datasets of music-related venues can be acquired and potentially merged with what was retrieved from Foursquare. The DBSCAN clustering algorithm, better at maintaining dense clusters and ignoring outliers, could be implemented and compared to KMeans. The clustering model could become the basis for a recommendation system aimed to provide neighborhoods of similar music profile to users.", "I look forward to continuing to explore and leverage music-related datasets in the future.", "[0] \u2014 2014 New York City Neighborhood Names \u2014 NYU Spatial Data Repository", "[1] \u2014 \u2018Places API\u2019 Documentation \u2014 Foursquare", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Engineering, the future, investing, science, sustainability, technology, and more."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fefb7ae77a4cd&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftuning-in-to-nycs-music-neighborhoods-efb7ae77a4cd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftuning-in-to-nycs-music-neighborhoods-efb7ae77a4cd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftuning-in-to-nycs-music-neighborhoods-efb7ae77a4cd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftuning-in-to-nycs-music-neighborhoods-efb7ae77a4cd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----efb7ae77a4cd--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----efb7ae77a4cd--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@michael.cascio?source=post_page-----efb7ae77a4cd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@michael.cascio?source=post_page-----efb7ae77a4cd--------------------------------", "anchor_text": "Michael Cascio"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb788275624fa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftuning-in-to-nycs-music-neighborhoods-efb7ae77a4cd&user=Michael+Cascio&userId=b788275624fa&source=post_page-b788275624fa----efb7ae77a4cd---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fefb7ae77a4cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftuning-in-to-nycs-music-neighborhoods-efb7ae77a4cd&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fefb7ae77a4cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftuning-in-to-nycs-music-neighborhoods-efb7ae77a4cd&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://developer.foursquare.com/docs/resources/categories", "anchor_text": "Venue Categories"}, {"url": "https://github.com/cascio/IBM_Data_Science_Capstone", "anchor_text": "https://github.com/cascio/IBM_Data_Science_Capstone"}, {"url": "https://linkedIN.com/in/mscascio", "anchor_text": "https://linkedIN.com/in/mscascio"}, {"url": "https://cascio.co", "anchor_text": "https://cascio.co"}, {"url": "https://twitter.com/MCasiyo", "anchor_text": "https://twitter.com/MCasiyo"}, {"url": "https://geo.nyu.edu/catalog/nyu_2451_34572", "anchor_text": "2014 New York City Neighborhood Names \u2014 NYU Spatial Data Repository"}, {"url": "https://developer.foursquare.com/docs/api/endpoints", "anchor_text": "\u2018Places API\u2019 Documentation \u2014 Foursquare"}, {"url": "https://medium.com/tag/data-science?source=post_page-----efb7ae77a4cd---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----efb7ae77a4cd---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/python?source=post_page-----efb7ae77a4cd---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----efb7ae77a4cd---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----efb7ae77a4cd---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fefb7ae77a4cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftuning-in-to-nycs-music-neighborhoods-efb7ae77a4cd&user=Michael+Cascio&userId=b788275624fa&source=-----efb7ae77a4cd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fefb7ae77a4cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftuning-in-to-nycs-music-neighborhoods-efb7ae77a4cd&user=Michael+Cascio&userId=b788275624fa&source=-----efb7ae77a4cd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fefb7ae77a4cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftuning-in-to-nycs-music-neighborhoods-efb7ae77a4cd&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----efb7ae77a4cd--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fefb7ae77a4cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftuning-in-to-nycs-music-neighborhoods-efb7ae77a4cd&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----efb7ae77a4cd---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----efb7ae77a4cd--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----efb7ae77a4cd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----efb7ae77a4cd--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----efb7ae77a4cd--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----efb7ae77a4cd--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----efb7ae77a4cd--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----efb7ae77a4cd--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----efb7ae77a4cd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@michael.cascio?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@michael.cascio?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Michael Cascio"}, {"url": "https://medium.com/@michael.cascio/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "129 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb788275624fa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftuning-in-to-nycs-music-neighborhoods-efb7ae77a4cd&user=Michael+Cascio&userId=b788275624fa&source=post_page-b788275624fa--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F17503e448e05&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftuning-in-to-nycs-music-neighborhoods-efb7ae77a4cd&newsletterV3=b788275624fa&newsletterV3Id=17503e448e05&user=Michael+Cascio&userId=b788275624fa&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}