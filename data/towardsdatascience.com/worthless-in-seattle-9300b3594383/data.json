{"url": "https://towardsdatascience.com/worthless-in-seattle-9300b3594383", "time": 1682996798.105901, "path": "towardsdatascience.com/worthless-in-seattle-9300b3594383/", "webpage": {"metadata": {"title": "Worthless in Seattle?. or Goodbye Blue Mungday | by Callum Ballard | Towards Data Science", "h1": "Worthless in Seattle?", "description": "My old manager, it\u2019s fair to say, is a wealthy man. Aside from a being a director at my previous company, he has a lucrative side gig in property. Given his computer science background, he\u2019s able to\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/calbal91/dsc-v2-mod1-final-project-online-ds-pt-051319", "anchor_text": "here", "paragraph_index": 3}], "all_paragraphs": ["My old manager, it\u2019s fair to say, is a wealthy man. Aside from a being a director at my previous company, he has a lucrative side gig in property. Given his computer science background, he\u2019s able to scrape data from property websites, and analyse how a house\u2019s attributes affect its price. He can therefore identify properties that are significantly undervalued relative to expectations, invest smartly, and make handsome profits when re-selling.", "The business case for any kind of data science pertaining to the murky world of property sales has therefore been plain to me for some time (or at least from the first time he took me to one of his two private members\u2019 clubs in central London).", "The dataset we consider here is for property sales in King County, Washington, which runs from Seattle in the North West, to the Okanogan-Wenatchee National Forest in the East. This blog will explore how we can clean and mung this dataset, with a view to performing a multi-variate linear regression model to predict a property\u2019s price.", "The github repository for this work can be found here.", "We can import the data (given to us as a csv file) using the Pandas library, and inspect it using the .info( ) method.", "Before continuing, we should also check that we have no duplicate data by checking that the below code returns 0.", "We check the \u2018waterfront\u2019 and \u2018yr_renovated\u2019 columns to see what share of our rows contains at least one NaN value.", "This returns 27% \u2014 a chunk of the dataset that is too large to delete outright. Let\u2019s investigate the columns in turn and see if we can be more nuanced. Looking first at the renovation column, let\u2019s get a feel for the data by looking at the most commonly occurring values.", "So we see that, as well as missing values, 17,011 rows have \u20180\u2019 as the year of last renovation. This suggests that the house has never been renovated, or, as is more likely, data is not available. We can drop this column \u2014 it will not provide insight given the share of unknowns here.", "We now check back in on the \u2018waterfront\u2019 column, and see that only 11% of rows have N/As.", "This is a small enough part of the sample for us to simply drop the offending rows, using the .dropna( ) method.", "Ensuring that data is cast as the most appropriate type is very important for when we come to do our exploratory analysis \u2014 data in the wrong type can throw errors when we try to use even basic functions (calculating a mean of strings is, of course, conceptually impossible).", "The date column is easy enough to deal with, using the to_datetime( ) method:", "This format will allow Pandas to recognise the date\u2019s day of the week, month number, and will make the feature \u2018ordinal\u2019 \u2014 i.e. we will be able to put the dates in chronological order.", "The \u2018sqft_basement\u2019 feature is currently type \u2018object\u2019, suggesting that we might have string entries as placeholders in the column. Let\u2019s look at the most commonly occurring values.", "It looks like the question mark \u2018?\u2019 entries are the ones causing us bother here. We need to get rid of them, but ideally, we would replace the question marks with values, rather than simply deleting the rows.", "Happily, we can calculate the basement area from the difference between the overall living space and the \u2018above\u2019 living space, given in the \u2018sqft_living\u2019 and \u2018sqft_above\u2019 columns.", "We can write code that isolates the indexes of \u2018?\u2019 basement values, and replaces them with this calculation.", "Having done this, we can cast the column as a float.", "Whereas the last few steps were quite objective (a basement can\u2019t have an area of ? square feet), dealing with outliers requires a little bit more nuance. It\u2019s perfectly reasonable to ask: if there\u2019s no objective way to identify and eliminate an outlier, then why do it all? The answer really gets to the heart of what it is we\u2019re doing.", "Ultimately, we need to decide what we want our model to do. This normally involves making a trade off between model accuracy, and model scope. In other words, do you want:", "2. A kind of accurate model that covers a very wide range of property types.", "Typically, we would want the first option \u2014 better predictions are what we\u2019re after, even if it means narrowing the scope a bit.", "So how do we choose what to drop? Given that we\u2019re getting a bit subjective, we can think about this visually. In particular, histograms will show long tails (of, for example, very expensive properties).", "We could conclude that a house with more than 7 bedrooms, more than 5 bathrooms, or with a lot of over 300k square feet, is unlikely to be representative of the sample. Similarly, properties selling for over $1m (and indeed $100k) are liable to skew the model, as per the histograms above.", "Looking at the lower end of the market \u2014 we can see only 21 houses with grades 3 or 4 (cabins or houses that do not meet building standards). These are unlikely to be representitive. We can also run with an assumption that a property probably ought to have at least 1 bathroom.", "We can delete these houses from the dataset.", "Meanwhile, a scatter plot showing longitude against latitude might show geographical outliers, which are not representitive of the wider sample. We can use Pandas\u2019 built in scatter method to show price by colour.", "Note how we can relate this scatter to an actual map of King County. Note the points in the top right (North East) of the chart. These seem to correspond to Baring, Grotto, or Skykomish as per the map below.", "Of course, we could leave house sales from these towns in the dataset, but they are so geographically isolated relative to the other properties, it is possible that they\u2019d not be representitive. Having worked out the longitudinal and latitudinal range of this cluster, we can delete these rows in the usual way.", "There are, of course, any number of limits that we could put on the dataset to cut outliers. But these seem like sensible steps, which should ensure that our results aren\u2019t skewed when we come to do the regression.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Analysis Lead at Cleo AI, McKinsey & LSE Alumni, previously published in The Economist. Typically found listening to Japanese Math Rock..."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F9300b3594383&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworthless-in-seattle-9300b3594383&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworthless-in-seattle-9300b3594383&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworthless-in-seattle-9300b3594383&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworthless-in-seattle-9300b3594383&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----9300b3594383--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----9300b3594383--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@callumballard?source=post_page-----9300b3594383--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@callumballard?source=post_page-----9300b3594383--------------------------------", "anchor_text": "Callum Ballard"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3bcc53c95269&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworthless-in-seattle-9300b3594383&user=Callum+Ballard&userId=3bcc53c95269&source=post_page-3bcc53c95269----9300b3594383---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9300b3594383&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworthless-in-seattle-9300b3594383&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9300b3594383&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworthless-in-seattle-9300b3594383&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/calbal91/dsc-v2-mod1-final-project-online-ds-pt-051319", "anchor_text": "here"}, {"url": "https://info.kingcounty.gov/assessor/esales/Glossary.aspx?type=r", "anchor_text": "King County website"}, {"url": "https://medium.com/tag/data-science?source=post_page-----9300b3594383---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-cleaning?source=post_page-----9300b3594383---------------data_cleaning-----------------", "anchor_text": "Data Cleaning"}, {"url": "https://medium.com/tag/regression?source=post_page-----9300b3594383---------------regression-----------------", "anchor_text": "Regression"}, {"url": "https://medium.com/tag/data-munging?source=post_page-----9300b3594383---------------data_munging-----------------", "anchor_text": "Data Munging"}, {"url": "https://medium.com/tag/analytics?source=post_page-----9300b3594383---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F9300b3594383&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworthless-in-seattle-9300b3594383&user=Callum+Ballard&userId=3bcc53c95269&source=-----9300b3594383---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F9300b3594383&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworthless-in-seattle-9300b3594383&user=Callum+Ballard&userId=3bcc53c95269&source=-----9300b3594383---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9300b3594383&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworthless-in-seattle-9300b3594383&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----9300b3594383--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F9300b3594383&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworthless-in-seattle-9300b3594383&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----9300b3594383---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----9300b3594383--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----9300b3594383--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----9300b3594383--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----9300b3594383--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----9300b3594383--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----9300b3594383--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----9300b3594383--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----9300b3594383--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@callumballard?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@callumballard?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Callum Ballard"}, {"url": "https://medium.com/@callumballard/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3bcc53c95269&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworthless-in-seattle-9300b3594383&user=Callum+Ballard&userId=3bcc53c95269&source=post_page-3bcc53c95269--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F107151aaecd0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworthless-in-seattle-9300b3594383&newsletterV3=3bcc53c95269&newsletterV3Id=107151aaecd0&user=Callum+Ballard&userId=3bcc53c95269&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}