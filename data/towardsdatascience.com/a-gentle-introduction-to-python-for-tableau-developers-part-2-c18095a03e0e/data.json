{"url": "https://towardsdatascience.com/a-gentle-introduction-to-python-for-tableau-developers-part-2-c18095a03e0e", "time": 1683012086.680794, "path": "towardsdatascience.com/a-gentle-introduction-to-python-for-tableau-developers-part-2-c18095a03e0e/", "webpage": {"metadata": {"title": "A gentle introduction to Python for Tableau Developers (Part 2) | by Elliott Stam | Towards Data Science", "h1": "A gentle introduction to Python for Tableau Developers (Part 2)", "description": "And we\u2019re back! Let\u2019s pick up where we left off in the first article of this series and use the visual we built there as a starting point. In Tableau, you can often get your brain all twisted around\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/a-gentle-introduction-to-python-for-tableau-developers-part-1-862b9bdd1c85", "anchor_text": "first article of this series", "paragraph_index": 0}], "all_paragraphs": ["And we\u2019re back! Let\u2019s pick up where we left off in the first article of this series and use the visual we built there as a starting point.", "Before we dive in, let\u2019s set the stage for what we\u2019ll accomplish here:", "In Tableau, you can often get your brain all twisted around a tricky situation that requires you to produce calculations various levels of aggregation. Some of you might have Googled your way through this to the point that if you type \u2018level\u2019 into the search bar, it autocompletes to \u2018level of detail tableau\u2019 (I feel you).", "While it will take time to learn all the nuances of Python, one of the powerful aspects of using any programming language is the freedom you have to creatively solve problems. You\u2019ll find that in Tableau there may have been a handful of different ways to get to the correct results, while in Python (or any programming language) the options are nearly limitless.", "Something I think Tableau did a great job with is the marks card. That\u2019s the area where you can drag fields to modify aspects of your visual such as size, color, labels, and details provided in your tooltip. Let\u2019s explore how we can take something that was a click away with the marks card in Tableau, and recreate its output in Python.", "In today\u2019s exercise, we will use our \u2018Profit\u2019 and \u2018Sales\u2019 values to create a new column (similar to a calculated field) and name it \u2018Profit Ratio\u2019. We will then apply that new column to enhance the visual we created in the first article, such that the profit ratio dictates the color in the visual.", "First things first, let\u2019s build a baseline in Tableau to compare with.", "Let\u2019s revisit where we left off last week:", "Okay, so aside from removing gridlines (AKA non-data ink), what could make it better?", "We could try coloring by profitability\u2026 let\u2019s give that a try by dragging \u2018Profit\u2019 to \u2018Color\u2019 on the marks card:", "Adding color gradients to visuals can be valuable. But let\u2019s keep in mind that right now we are coloring by overall profit. If you ignore \u2018Tables\u2019, which is screaming for attention, then the color in this visual conveys an obvious message: sub-categories with higher volumes of sales also have higher volumes of profit.", "But what if we\u2019re more interested in knowing which sub-category is relatively more profitable? Analyzing profitability by volume alone doesn\u2019t provide the whole story, as you could sell one million items at 0.1% profit ratio and make more profits than selling one thousand items at 50% profit ratio. Perhaps our business could shift priorities towards products that are more profitable per unit sold if only we knew what those products were.", "So let\u2019s see if looking at this same data through a different lens gives us any insights.", "In Tableau, the calculation for profit ratio looks like this:", "The calculation above takes the total profit and divides that by the total sales to provide the profit ratio.", "Here\u2019s what our visual looks like when we color by the profit ratio instead of the raw profits:", "The differences here are subtle, but we can immediately see that the coloration is no longer following the previous rule of \u2018darker at the top, lighter at the bottom\u2019.", "Paper and Labels, which were bottom feeders in our previous visual, seem to be bringing in the highest profits per sale.", "When we color by profit ratio, we obtain a more relative picture that allows us to see that per unit of sales, paper and labels are doing well. It seems that while these products bring in lower volumes of sales, the revenue they bring in is highly profitable. Without this insight, perhaps we would neglect this profitable niche of our business.", "No need to make this more complicated than necessary. First, let\u2019s revisit where we left off in the last article in terms of our Python code.", "We had a Pandas DataFrame named \u2018subcat_sales_df\u2019, which had columns \u2018Sub-Category\u2019, \u2018Sales\u2019, and \u2018Profit\u2019.", "Given this DataFrame, here\u2019s what it takes to create a new \u2018Profit Ratio\u2019 column:", "Translating that into plain English, we are defining our \u2018Profit Ratio\u2019 column to be our \u2018Profit\u2019 divided by our \u2018Sales\u2019. Nothing too crazy, right?", "Keep in mind that our \u2018subcat_sales_df\u2019 DataFrame was pre-processed from our raw data in the previous article. This loops back to what we said earlier regarding freedom and flexibility in Python: you control your own destiny. Want to reshape your data and store that in a different variable like we did here? You\u2019re completely free to do so.", "Here\u2019s what our \u2018Profit Ratio\u2019 looks like:", "In our previous article, we created a bar graph showing the sales volume per sub-category.", "Let\u2019s see how we can make this happen. Here\u2019s the code I used to add \u2018Profit Ratio\u2019 as a color gradient for the chart:", "Don\u2019t worry about all the \u2018ax\u2019 and \u2018fig\u2019 nonsense here, this is mostly related to formatting (axis labels, etc). Feel free to play around with the scalar (7.5) seen here; adjusting it will change the nature of the color gradient.", "The key here is the \u2018palette\u2019 being set to a matplotlib Colormap value. The \u2018RdBu\u2019 indicates that this color mapping runs from red to blue. The values of the color mapping are decided by the values we pass in, which in this case is the \u2018Profit Ratio\u2019 data.", "You probably noticed that the coloration from Tableau and what we built here isn\u2019t an exact match. That\u2019s fine! In Tableau, many things are decided for you and that\u2019s why it\u2019s such a great click-and-drag tool. In Python, you control the details.", "In the next article, we\u2019ll take an even closer look at how those details come together with more advanced calculations! Down the road, we\u2019ll explore joining in data from other sources.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data scientist and author. Sometimes seen falling down mountains with a snowboard strapped to my feet."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc18095a03e0e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-gentle-introduction-to-python-for-tableau-developers-part-2-c18095a03e0e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-gentle-introduction-to-python-for-tableau-developers-part-2-c18095a03e0e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-gentle-introduction-to-python-for-tableau-developers-part-2-c18095a03e0e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-gentle-introduction-to-python-for-tableau-developers-part-2-c18095a03e0e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c18095a03e0e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c18095a03e0e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@elliottstam?source=post_page-----c18095a03e0e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@elliottstam?source=post_page-----c18095a03e0e--------------------------------", "anchor_text": "Elliott Stam"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd193f11526c9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-gentle-introduction-to-python-for-tableau-developers-part-2-c18095a03e0e&user=Elliott+Stam&userId=d193f11526c9&source=post_page-d193f11526c9----c18095a03e0e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc18095a03e0e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-gentle-introduction-to-python-for-tableau-developers-part-2-c18095a03e0e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc18095a03e0e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-gentle-introduction-to-python-for-tableau-developers-part-2-c18095a03e0e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@moonshadowpress?utm_source=medium&utm_medium=referral", "anchor_text": "Joyce McCown"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/a-gentle-introduction-to-python-for-tableau-developers-part-1-862b9bdd1c85", "anchor_text": "first article of this series"}, {"url": "https://medium.com/tag/programming?source=post_page-----c18095a03e0e---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/python?source=post_page-----c18095a03e0e---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----c18095a03e0e---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----c18095a03e0e---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/tableau?source=post_page-----c18095a03e0e---------------tableau-----------------", "anchor_text": "Tableau"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc18095a03e0e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-gentle-introduction-to-python-for-tableau-developers-part-2-c18095a03e0e&user=Elliott+Stam&userId=d193f11526c9&source=-----c18095a03e0e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc18095a03e0e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-gentle-introduction-to-python-for-tableau-developers-part-2-c18095a03e0e&user=Elliott+Stam&userId=d193f11526c9&source=-----c18095a03e0e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc18095a03e0e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-gentle-introduction-to-python-for-tableau-developers-part-2-c18095a03e0e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c18095a03e0e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc18095a03e0e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-gentle-introduction-to-python-for-tableau-developers-part-2-c18095a03e0e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c18095a03e0e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c18095a03e0e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c18095a03e0e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c18095a03e0e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c18095a03e0e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c18095a03e0e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c18095a03e0e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c18095a03e0e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c18095a03e0e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@elliottstam?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@elliottstam?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Elliott Stam"}, {"url": "https://medium.com/@elliottstam/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "509 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd193f11526c9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-gentle-introduction-to-python-for-tableau-developers-part-2-c18095a03e0e&user=Elliott+Stam&userId=d193f11526c9&source=post_page-d193f11526c9--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F2f1f73d79eed&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-gentle-introduction-to-python-for-tableau-developers-part-2-c18095a03e0e&newsletterV3=d193f11526c9&newsletterV3Id=2f1f73d79eed&user=Elliott+Stam&userId=d193f11526c9&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}