{"url": "https://towardsdatascience.com/ab-sample-size-calculation-in-r-ad959a4443a2", "time": 1683001818.7155461, "path": "towardsdatascience.com/ab-sample-size-calculation-in-r-ad959a4443a2/", "webpage": {"metadata": {"title": "AB Sample Size Calculation in R. Some useful tools in R for calculating\u2026 | by Frank Hopkins | Towards Data Science", "h1": "AB Sample Size Calculation in R", "description": "Performing ad-hoc analysis for stakeholders can be time consuming. Furthermore, there are a few questions that I get asked on a reasonably frequent basis. So I have been spending some time developing\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Performing ad-hoc analysis for stakeholders can be time consuming. Furthermore, there are a few questions that I get asked on a reasonably frequent basis. So I have been spending some time developing some tools for my \u201cnon-technical\u201d colleagues to use in R.", "One of the most commonly asked questions is \u201cHow big of a sample do I need to achieve significance?\u201d, which is often followed by \u201cHow long do I need to run my experiment for?\u201d. For this reason, I have developed some simple code for people to use when they need to answer these questions. All the user needs to do is pass some baseline numbers into some functions I have created and they can determine their sample size requirements and experiment duration on an ad-hoc basis.", "Luckily, by knowing a few simple pieces of information the pwr() package in R can answer these two questions with a fair amount of ease. Pwr() helps you perform power analysis prior to conducting an experiment, which enables you to determine how big your sample size should be per experimental condition.", "The four quantities required to compute power analysis have an intimate relationship and we are able to compute any one of these values if we have the remaining inputs:", "3. significance level (alpha)= P(Type I error) = probability of finding an effect that is not there", "4. power = 1 \u2014 P(Type II error) = probability of finding an effect that is there", "As your significance level (3) and power (4) are typically fixed values, as long as you can input the effects sizes (2) for your control and variant, you can determine your required sample size (1).", "Thankfully, the ES.h() function in the pwr() package computes our effect size for us to pass into power analyses. We will typically know the current conversion rate/performance of our control condition but the effect of the variant is almost by definition an unknown. However, we can calculate an expected effect size, given a desired uplift. Once these effects are computed they are passed into the pwr.p.test() function which will compute our sample size, providing n is left blank. To make this sort of analysis user friendly, I have wrapped both aforementioned functions into a new function called sample_size_calculator().", "Furthermore, as we will use this information to then calculate the number of days needed to run the experiment, I have created a days_calculator() function too, which will use the output from our sample size calculation:", "If you are using this tool, you simply specify your control conversion rate and desired uplift:", "You will then get your required sample size output given these values (remember this sample size requirement is per variant):", "Now we have this information we can determine how long the experiment needs to run for. All that you will need to input is your average daily traffic:", "And you will get the following output:", "Although this code is only relevant if you are conducting an experiment with an AB design (i.e with only two experimental conditions), the functions presented can be amended to calculate the required sample size given multiple experimental conditions, using the pwr.anova.test() function within sample_size_calculator(), replacing pwr.2p.test().", "Power analysis is an imperative aspect of any experimental design. It allows analysts to determine the required sample size needed to detect a statistically significant effect of a given size, with a given degree of confidence. Conversely, it also facilitates the detection an effect of a given size with a given level of confidence, under sample-size constraints. If the probability is low, it could be advisable to alter the experimental design of your experiment or to minimise certain numerical values that are input into your power analyses.", "Used in conjunction with one another, calculating both your required sample and experimentation duration can be incredibly useful information to provide to stakeholders. Obtaining this information can help them efficiently plan their experimentation road-maps. Furthermore, these predetermined numbers can aid in determining the feasibility of certain experiments or whether the uplifts desired are too idealistic.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Experimentation Data Scientist, specialising in digital experimentation. Posts ranging from data science to website optimisation and digi-analytics."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fad959a4443a2&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fab-sample-size-calculation-in-r-ad959a4443a2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fab-sample-size-calculation-in-r-ad959a4443a2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fab-sample-size-calculation-in-r-ad959a4443a2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fab-sample-size-calculation-in-r-ad959a4443a2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ad959a4443a2--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ad959a4443a2--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://frankphopkins.medium.com/?source=post_page-----ad959a4443a2--------------------------------", "anchor_text": ""}, {"url": "https://frankphopkins.medium.com/?source=post_page-----ad959a4443a2--------------------------------", "anchor_text": "Frank Hopkins"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F342a4846c139&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fab-sample-size-calculation-in-r-ad959a4443a2&user=Frank+Hopkins&userId=342a4846c139&source=post_page-342a4846c139----ad959a4443a2---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fad959a4443a2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fab-sample-size-calculation-in-r-ad959a4443a2&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fad959a4443a2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fab-sample-size-calculation-in-r-ad959a4443a2&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/tag/startup?source=post_page-----ad959a4443a2---------------startup-----------------", "anchor_text": "Startup"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fad959a4443a2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fab-sample-size-calculation-in-r-ad959a4443a2&user=Frank+Hopkins&userId=342a4846c139&source=-----ad959a4443a2---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fad959a4443a2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fab-sample-size-calculation-in-r-ad959a4443a2&user=Frank+Hopkins&userId=342a4846c139&source=-----ad959a4443a2---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fad959a4443a2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fab-sample-size-calculation-in-r-ad959a4443a2&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ad959a4443a2--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fad959a4443a2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fab-sample-size-calculation-in-r-ad959a4443a2&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ad959a4443a2---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ad959a4443a2--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ad959a4443a2--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ad959a4443a2--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ad959a4443a2--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ad959a4443a2--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ad959a4443a2--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ad959a4443a2--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ad959a4443a2--------------------------------", "anchor_text": ""}, {"url": "https://frankphopkins.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://frankphopkins.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Frank Hopkins"}, {"url": "https://frankphopkins.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "178 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F342a4846c139&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fab-sample-size-calculation-in-r-ad959a4443a2&user=Frank+Hopkins&userId=342a4846c139&source=post_page-342a4846c139--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F890c0dfb5c23&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fab-sample-size-calculation-in-r-ad959a4443a2&newsletterV3=342a4846c139&newsletterV3Id=890c0dfb5c23&user=Frank+Hopkins&userId=342a4846c139&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}