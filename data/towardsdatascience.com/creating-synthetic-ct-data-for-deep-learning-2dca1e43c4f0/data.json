{"url": "https://towardsdatascience.com/creating-synthetic-ct-data-for-deep-learning-2dca1e43c4f0", "time": 1683008941.402003, "path": "towardsdatascience.com/creating-synthetic-ct-data-for-deep-learning-2dca1e43c4f0/", "webpage": {"metadata": {"title": "Creating synthetic CT data for deep learning | by Seyed-Ahmad Ahmadi | Towards Data Science", "h1": "Creating synthetic CT data for deep learning", "description": "We describe a way to create synthetic volumetric medical images, from a small set of samples. Our approach is based on randomized partial morphing, and therefore deep-learning free (no GANs needed)\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.covid19challenge.eu/", "anchor_text": "Covid19 chest CT challenge", "paragraph_index": 0}, {"url": "https://www.covid19challenge.eu/", "anchor_text": "Covid19Challenge", "paragraph_index": 2}, {"url": "https://www.covid19challenge.eu/", "anchor_text": "Covid19Challenge", "paragraph_index": 3}, {"url": "https://medium.com/analytics-vidhya/deep-learning-on-covid-19-data-with-eisen-7ad5b5657ff9", "anchor_text": "submit", "paragraph_index": 4}, {"url": "https://eisen.ai/", "anchor_text": "Eisen.ai", "paragraph_index": 4}, {"url": "https://arxiv.org/abs/1809.07294", "anchor_text": "adversarial networks (GANs)", "paragraph_index": 5}, {"url": "https://www.fastcompany.com/90244767/see-the-shockingly-realistic-images-made-by-googles-new-ai", "anchor_text": "enormous computational resources", "paragraph_index": 5}, {"url": "https://github.com/stnava/Morpheus", "anchor_text": "geodesic interpolation", "paragraph_index": 6}, {"url": "http://stnava.github.io/ANTs/", "anchor_text": "ANTs", "paragraph_index": 6}, {"url": "https://gist.github.com/faustomilletari/1c1d9d671641e36e63199d26bb232d58", "anchor_text": "Eisen code starter kit", "paragraph_index": 11}, {"url": "https://medium.com/u/a5d79f344c19?source=post_page-----2dca1e43c4f0--------------------------------", "anchor_text": "Fausto Milletari", "paragraph_index": 11}], "all_paragraphs": ["We describe a way to create synthetic volumetric medical images, from a small set of samples. Our approach is based on randomized partial morphing, and therefore deep-learning free (no GANs needed). The created volumes look very realistic, and are suitable to create a training dataset for deep learning. We apply this approach to create a synthetic toy dataset for developers in our Covid19 chest CT challenge.", "Data privacy is an important aspect in public challenges on medical image data. Anonymization of patient-relatable information requires two main steps. The first step is to strip patient data from identifiable information. This includes the patient\u2019s name, birthdate, place of birth or current residence. In a second step, it may be necessary to perform anonymization of the image data itself. A prominent example is the possibility to reconstruct faces from brain CT/MRI images. This often requires de-facing as a further anonymization step.", "In our Covid19Challenge, we work with radiologic imaging data of the chest. Luckily, this data is not as sensitive as brain imaging data, since the head and face of the patient are cropped. The remaining image data does not contain person related information per se, since chest imaging is an abstract representation of reality. Without public databases, de-identifying information is only known to the primary caregiver.", "We take several measures to ensure full anonymization in our Covid19Challenge. We receive pre-anonymized data from partnering radiological departments and private practices. After data transfer, any remaining meta-data is stripped down to a minimum set of challenge-relevant information. The remaining clinical metadata is not patient-specific (age in years, sex, PCR result, days after admission, outcome category, clinical events). In fact, it could be related to many potential hospitals and patients. Next, a trained team with medical education segments images into lung lobes and Covid19-related lesions. This annotation happens centrally, according to a pre-defined segmentation protocol, and with a subsequent quality assurance step, to ensure consistent and high-quality labeling of the data.", "The resulting data is highly anonymized, but still not released to the public as such. Due to ethical and legal requirements, participating teams do not get direct access to unaltered imaging data at any point of the challenge. Instead, developers can submit processing jobs through the Eisen.ai interface, to train and validate methods on non-disclosed image data.", "However, as data scientists we prefer to have at least a minimal local set of representative data available. This helps in getting a feeling for data appearance and variability, for potential challenges, and for speedy prototyping of algorithms. To bridge this gap, we needed to devise a way to release a subset of images for local development, which is high-quality and representative, and still does not contain the unaltered image data of patients. A highly promising research direction to achieve this are generative neural network models, in particular generative adversarial networks (GANs). Such approaches, however, require enormously large datasets from the image domain in order to learn realistic appearances, on the order of tens or hundreds of thousands of images. This is often difficult to achieve in medical imaging. Further, these approaches have only been shown to produce realistic looking results in 2D. Image sizes were on the order of 512\u20131024 pixels edge length. Further, GAN-based approaches require enormous computational resources for training. With few annotated images, 3D volumes at high resolutions (512x512x300\u2013500 voxels), and limited computational capabilities in the preparation stage, GAN-based approaches were not viable in our challenge.", "Instead, we relied on a more traditional technique: geodesic interpolation via deformable image registration. A more commonly known expression for this process is \u201cimage morphing\u201d. The basic idea is simple: we use a powerful, off-the-shelf non-linear image registration toolkit for medical images called ANTs. Applying ANTs to our chest CT images, we register a \u201cmoving\u201d volume to a \u201cfixed\u201d volume. Once the deformation is computed, we do not deform the \u201cmoving\u201d volume all the way to the \u201cfixed\u201d volume, but only a certain percentage of the way. The morphing is thus not complete, but only partial. An illustration of this concept is in Figure 1.", "Due to a careful parametrization of the deformable registration, the resulting volumes look highly realistic, both in healthy tissue and in lesion regions. Along with the original image data, all gold-standard segmentation labels and patient meta-data were morphed (labels) and/or interpolated (age, days since hospital admission etc.). Resulting volumes have a completely synthetic morphology: the anatomical shapes and dimensions in the synthesized volume are non-linearly different, both from the \u201cfixed\u201d and from the \u201cmoving\u201d volumes. Biomarkers of the chest (if any exist, e.g. vertebra shapes or spine curvature) are thus non-linearly altered and synthetic as well. Example images are shown in Figure 2.", "Recovering the original volumes from this toy dataset should not be possible. To ensure this, we apply three forms of randomization: First, the toy dataset is generated from a randomly selected subset of the total data. Second, considering the fully connected directed graph of pairwise registrations, we perform deformable registration only along a random subset of edges. Third, the partial deformations from source to target are also set to a random percentage. Keeping in mind that the source data itself is not publicly accessible at any time, a synthetic volume in the developer dataset is not associable with any original source data anymore.", "There are certain limitations to this approach, of course. These include:", "All these artifacts happen commonly during augmentation of neural network training anyway. Considering the convenience of local development for participating teams, these artifacts are an acceptable tradeoff.", "Creating a publicly accessible toy dataset with synthesized data was an important milestone in the challenge preparation phase. We hope that with this data, developers can prototype their approaches more easily locally, while getting to know the Eisen interface. An Eisen code starter kit has just been made available. Give it a try, and follow our team member Fausto Milletari for updates.", "(*) Solution: none of the volumes is real, all four volumes are synthesized. In fact, all four volumes are synthesized from the same source subject, co-registered to four randomly chosen target subjects, demonstrating the morphological variability that can be achieved.", "Below, Fig. 3 shows another, more detailed example of a source and target volume, as well as the synthesized volume (at exactly 50% deformation/morphing between the two).", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Group Leader Medical AI, German Center for Vertigo and Balance Disoders, LMU Munich"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F2dca1e43c4f0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-synthetic-ct-data-for-deep-learning-2dca1e43c4f0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-synthetic-ct-data-for-deep-learning-2dca1e43c4f0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-synthetic-ct-data-for-deep-learning-2dca1e43c4f0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-synthetic-ct-data-for-deep-learning-2dca1e43c4f0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----2dca1e43c4f0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2dca1e43c4f0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@mangotee?source=post_page-----2dca1e43c4f0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@mangotee?source=post_page-----2dca1e43c4f0--------------------------------", "anchor_text": "Seyed-Ahmad Ahmadi"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F78ba3f2bf75d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-synthetic-ct-data-for-deep-learning-2dca1e43c4f0&user=Seyed-Ahmad+Ahmadi&userId=78ba3f2bf75d&source=post_page-78ba3f2bf75d----2dca1e43c4f0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2dca1e43c4f0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-synthetic-ct-data-for-deep-learning-2dca1e43c4f0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2dca1e43c4f0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-synthetic-ct-data-for-deep-learning-2dca1e43c4f0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.covid19challenge.eu/", "anchor_text": "Covid19 chest CT challenge"}, {"url": "https://www.covid19challenge.eu/", "anchor_text": "Covid19Challenge"}, {"url": "https://www.covid19challenge.eu/", "anchor_text": "Covid19Challenge"}, {"url": "https://medium.com/analytics-vidhya/deep-learning-on-covid-19-data-with-eisen-7ad5b5657ff9", "anchor_text": "submit"}, {"url": "https://eisen.ai/", "anchor_text": "Eisen.ai"}, {"url": "https://arxiv.org/abs/1809.07294", "anchor_text": "adversarial networks (GANs)"}, {"url": "https://www.fastcompany.com/90244767/see-the-shockingly-realistic-images-made-by-googles-new-ai", "anchor_text": "enormous computational resources"}, {"url": "https://github.com/stnava/Morpheus", "anchor_text": "geodesic interpolation"}, {"url": "http://stnava.github.io/ANTs/", "anchor_text": "ANTs"}, {"url": "https://gist.github.com/faustomilletari/1c1d9d671641e36e63199d26bb232d58", "anchor_text": "Eisen code starter kit"}, {"url": "https://medium.com/u/a5d79f344c19?source=post_page-----2dca1e43c4f0--------------------------------", "anchor_text": "Fausto Milletari"}, {"url": "https://medium.com/tag/medical-imaging?source=post_page-----2dca1e43c4f0---------------medical_imaging-----------------", "anchor_text": "Medical Imaging"}, {"url": "https://medium.com/tag/deep-learning?source=post_page-----2dca1e43c4f0---------------deep_learning-----------------", "anchor_text": "Deep Learning"}, {"url": "https://medium.com/tag/data-generation?source=post_page-----2dca1e43c4f0---------------data_generation-----------------", "anchor_text": "Data Generation"}, {"url": "https://medium.com/tag/data-anonymisation?source=post_page-----2dca1e43c4f0---------------data_anonymisation-----------------", "anchor_text": "Data Anonymisation"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2dca1e43c4f0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-synthetic-ct-data-for-deep-learning-2dca1e43c4f0&user=Seyed-Ahmad+Ahmadi&userId=78ba3f2bf75d&source=-----2dca1e43c4f0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2dca1e43c4f0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-synthetic-ct-data-for-deep-learning-2dca1e43c4f0&user=Seyed-Ahmad+Ahmadi&userId=78ba3f2bf75d&source=-----2dca1e43c4f0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2dca1e43c4f0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-synthetic-ct-data-for-deep-learning-2dca1e43c4f0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2dca1e43c4f0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F2dca1e43c4f0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-synthetic-ct-data-for-deep-learning-2dca1e43c4f0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----2dca1e43c4f0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----2dca1e43c4f0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----2dca1e43c4f0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----2dca1e43c4f0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----2dca1e43c4f0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----2dca1e43c4f0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----2dca1e43c4f0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----2dca1e43c4f0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----2dca1e43c4f0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@mangotee?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@mangotee?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Seyed-Ahmad Ahmadi"}, {"url": "https://medium.com/@mangotee/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "14 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F78ba3f2bf75d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-synthetic-ct-data-for-deep-learning-2dca1e43c4f0&user=Seyed-Ahmad+Ahmadi&userId=78ba3f2bf75d&source=post_page-78ba3f2bf75d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F78ba3f2bf75d%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcreating-synthetic-ct-data-for-deep-learning-2dca1e43c4f0&user=Seyed-Ahmad+Ahmadi&userId=78ba3f2bf75d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}