{"url": "https://towardsdatascience.com/how-to-do-exploratory-data-analysis-e8bfa7db69d9", "time": 1683005414.66475, "path": "towardsdatascience.com/how-to-do-exploratory-data-analysis-e8bfa7db69d9/", "webpage": {"metadata": {"title": "How to do Exploratory Data Analysis | by James Thorn | Towards Data Science", "h1": "How to do Exploratory Data Analysis", "description": "Exploratory Data Analysis (EDA) is usually the first step of any Data Science project, carried out before any Machine Learning models are built. Its goal is to take a look at the raw data that we\u2026"}, "outgoing_paragraph_urls": [{"url": "https://archive.ics.uci.edu/ml/datasets/Bank+Marketing", "anchor_text": "Bank Marketing Data Set", "paragraph_index": 4}, {"url": "https://twitter.com/Jaimezorno", "anchor_text": "follow me on Twitter", "paragraph_index": 55}, {"url": "https://medium.com/@jaimezornoza", "anchor_text": "here", "paragraph_index": 55}, {"url": "https://howtolearnmachinelearning.com/", "anchor_text": "this awesome repository", "paragraph_index": 55}], "all_paragraphs": ["Exploratory Data Analysis (EDA) is usually the first step of any Data Science project, carried out before any Machine Learning models are built. Its goal is to take a look at the raw data that we get, explore it, and gather insights from it that can not only help us make our models better after-hand, but also provide relevant business information derived from this data.", "In this post we will carry out an extensive EDA on a real Data-Set in order to learn what can be done, how to do it, and practice our skills. Exploratory Data Analysis is mainly based on plotting and drawing different charts to derive relevant information from them. While this might seem easy, it is important to know when to use each of the visualisation tools at our disposal, and what are the best practices to display de available information.", "It is also important that we learn how to look deep into our data, so that we can tell a story using it that will captivate our listeners and provide valuable, usable information.", "For it, we will use a real public data set, and cover all the different steps that we will use to do a preliminary data analysis of it, explaining as we go the strength and weaknesses of each plotting tool that we use. Lets go!", "The data- set that we will use is the publicly available \u2018Bank Marketing Data Set\u2019 , from The UCI Machine Learning Repository, which is a collection of databases, domain theories and data generators that are used by the machine learning community to test their algorithms.", "The data is related with direct marketing campaigns of a Portuguese banking institution. These marketing campaigns were based on phone calls. In the previous repository you can find a description of all the variables. Lets quickly see what the data contains using three simple pandas functions:", "Okay, now that we have done a quick descriptive analysis, lets get on with what we came here for: the plots, how to tell a story with them and get relevant information.", "After doing this quick analysis with Pandas to see the amount of data points and the number of features that we have, along with their types and amount of missing values, we got a very quick overview of the size of the data that we are working with, its complexity, and the work that we need to do to fill in these absent values. Now, we will start the visualisation part of the analysis.", "In the following analysis we will go step by step paving the road we would use to get from our initial ignorance about our data to a deep knowledge of it, developing an understanding that should be enough to answer the most relevant questions that could be asked. Along this path, we will use different kinds of plots, each of which will be explained using an specific example, covering the best practices for using each kind of plot.", "We will start by analysing the target variable. In the case of our data, this variable is clearly defined, and because it is a binary classification task, we already have an idea of what it should look like. We will do this using bar charts. Lets take a look!", "Bar charts represent a numerical quantity on one of the axis and different categories in the other one. They are generally used to compare a single numerical value between different groups or categories. In the following case we compare the proportion of samples for the different categories of the target variable.", "As we can see from the previous plot, more than 85% of our samples have a \u2018no\u2019 target value and about 12% have a \u2018yes\u2019 value. This initial plot gives us an insight to how customers react to our marketing campaigns (most decline) and also tells us that we might need to re-balance the data set if we plan to train a Machine Learning model afterwards using it. One plot and already two very valuable pieces of information.", "Lets continue to see other uses of Bar charts and good practices. If we explore a variable with more categories, like for example the \u2018education\u2019 variable, we get a plot like the following:", "From this plot we can see that most of the targeted persons had an university degree, and very few were illiterate. When creating plots like this, it helps to order the categories from highest to lowest values, as it makes the visualisation more clear. In this example also, we have included the absolute value of the N\u00ba of samples instead of the % like in the previous target variable example. If we have in mind the number of data points (contacted persons in this case) then it is most helpful to include porcentual values. If not, it can be better to include absolute ones.", "One thing to notice from the previous graph is that it is not very easy to read the names of the different categories of the variable. To solve this problem, we can rotate these labels 45\u00ba, or we can switch to a horizontal bar plot, like in the following figure.", "Now we can easily read the labels. Notice also how it is very important to give a tittle to the plots, so that we can easily see what we are talking about, and also to name the axis appropriately. In the first example with the education variable, the axis where it says \u2018education\u2019 really shows the different categories for such variable. In the horizontal bar plot, this label has been correctly modified to \u2018education categories\u2019.", "Lets finish seeing some bar charts corresponding to the \u2018job\u2019 variable, which tells us the job category where our impacted customers belong.", "The bar chart on the left represents the mean age of each job category. From it we can see something obvious: retired people have the highest average age while students have the lowest average age.", "The graph on the right however, is much more interesting. It reflects the behaviour of each job category with respects to our target variable. As we saw before, about 12% is our average acceptance rate for the marketing campaigns we throw out. This is represented with the horizontal black line on the graph. The height of each column represents the average acceptance rate for each of the categories of the evaluated variable. As we can see, students are the most likely clients to accept our campaigns, as they have more than double of the standard acceptance rate. Blue-collar workers on the opposite side, are the least likely to accept, with about half of the average acceptance rate. Should we modify our campaigns to increase the capture of these kind of clients?", "The following image shows the same plot for the marital variable, which represents the civil status of the targeted person:", "As we can see, people who are single have a higher chance reacting positively to our marketing campaigns than married or divorced people. This could be because they are younger and fall into the student category, that as we saw before also have a high acceptance rate. I will leave this further investigation to the most curious readers.", "Bar chart summary: bar graphs are most commonly used to compare a single variable value between different categories or groups. When using bar charts to compare different categories avoid showing a very long list of categories, sort the columns by their height, and consider using horizontal bar charts when your x-labels labels are long.", "We won\u2019t worry about the colours too much for now, but they are also important to differentiate the different categories and make the plots more clear.", "Scatter plots are used to determine relationships between two numerical variables. They can help see if there is a direct relationship (positive linear relationship or negative linear relationship for example) between two variables. Also, they can help us detect if our data has outliers or not. If the variables don\u2019t follow any kind of relationship, we might consider doing a transformation of one of them, like converting it to logarithm.", "If the data does not have any kind of direct relationship, visualising a scatter plot can help us see some information that would otherwise be hidden. Lets take a look at the following example, that plots a scatter plot of the variables age and duration.", "From this plot we can see various things: first of all, very few customers hold calls for more than 2000 seconds. Also it seems like as people get older their patience gets worse and they hang up quicker.", "Unfortunately in this data set there are not many continuous numerical values, so we can\u2019t see further real examples of scatter plots. However, imagine we had a data set with characteristics of people like their weight, height, age, sex, profession, etc\u2026 If we plotted a scatter plot of height vs weight, we would probably see a relationship like the following", "As we can see, the relationship between these two variables is linear, as we\u2019d probably expect: taller individuals also tend to weight more. Again, this just highlights that scatter plots are very useful when searching for the relationship between two numerical variables.", "To finish with scatter plots, lets see some good practices. First, it only makes sense to create scatter plots of numerical variables when these are continuous or have a wide range of possible values. Lets see why this is with the following example:", "It shows a scatter plot of the age variable with emp.var.rate, which is the employment variation rate. This variable, despite being numeric, only has 10 possible values, so as we can see the plot is not very illustrative.", "Scatter plots summary: scatter plots are a great way to visualise the relationship between two continuous numerical variables. Avoid using them when the variable, despite being numeric, has a very limited value range.", "Box plots are another way to get information from numerical variables. Specifically they allow us to see the median, standard deviation and variance, and also to explore if there are any outliers on the values of the given variables. Lets first see the information a box plots gives us, and then go to concrete examples from out data set.", "Box plots shows us the median value of the data variable we are exploring, which represents where the middle data point is. The upper and lower quartiles represent the 75 and 25 percentiles of the data respectively. The upper and lower extremes shows us maximum and minimum values of our data. Finally, it also represents outliers. The following figure illustrates an standard box plot.", "Lets see what these kind of plots can tell us about the two real numerical variables of our data set, age and duration.", "The previous graph shows us a couple of things. First of all, from the one on the right (duration variable) we can see that the length of the calls is generally quite low, being the middle observation at somewhere around 300s of duration. We can also see that the upper and lower quartiles are close to the median value, and that outliers spread until very high duration lengths.", "From the one on the left (age variable) we can see that all the outliers we have (values with fall outside the acceptable or normal range of values for a variable) exceed from the top: we are contacting unusually old people from time to time. This might be in line with our marketing strategy or it might be something which we have to check. If we wanted to get a view of the data without any age outliers, we could just filter using the age variable and keep anything under Q3 (aprox 70 years old), and analyse the results we get.", "Box plot summary: box plots allow us to quickly see statistical values of our numerical variables, and seamlessly detect if there are any outliers without the need to execute complex algorithms.", "Histograms show us the frequency distribution of a numerical variable. It builds different group of ranges for the values of such variable, called bins, and tell us the amount of the data that falls within each bin. Kernel density estimation plots are build from histograms, as we can see when we set the number of bins to a very high values. Because of this, histograms can be used to see if a variable follows a normal distribution, and if it does, how skewed it is. We can see this in the following figure.", "The histogram of the age values shows us that it probably follows a normal distribution, which is a bit skewed to the left, and the same probably happens with duration. As you can see, the more bins we include, the more our plot looks like a proper distribution. If we increase the number of bins for the age variable, we get something like this:", "Now, we can more clearly see the shape of the distribution, with a long tail on the right.", "The variables don\u2019t have to follow a specific distribution, like we can see in the following example, with the euribor3m variable, which represents the euribor 3 month rate.", "From the histogram we can see that the variable does not follow an specific distribution, but that most samples have values near 5, as we can confirm with the median extracted from the box-plot.", "Histogram summary: histograms are like bar charts for numerical variables, where the values of the variable are divided in a series of ranges called bins. They allow us to see the distribution of a certain variable, and they better approximate this distribution as we increase the number of bins.", "Heatmaps take a data grid (a matrix, or table for example) and display it using different scales of colour to represent the values in each cell of the grid or table. They use color in the same way that a bar chart uses width and height, as a visualisation tool.", "In data analysis, they can be used to visualise the correlation between the numerical values of our variables for example, as shown in the following plot.", "Using this matrix we can see if there are any variables that are correlated, discovering an interesting relationship between the two that we might want to dig into, or we can use it as a way to remove variables that don\u2019t add any additional information to our data for building a Machine Learning model, as a feature selection step.", "On the chart each cell represents the correlation between two variables, and the values go from dark brown (strong negative correlation) to dark blue/greenish (strong positive correlation) with lighter colours in between for weaker correlations. This gives us a very quick way to spot correlated variables.", "From the previous graph we can see that the euribor3m and nr.employed variables have a very high correlation. We can confirm this by plotting a scatter plot of the two:", "It does seem like these variables have a very strong linear relationship, and further investigation should be done in order to see why this is.", "With this, we have finished explaining all the plots for this post on EDA. There are other plots like Line plots and Pie Charts, that could be added, however, they are very simple and most of us know how they work without the need for an explanation.", "Using the visualisation tools covered to analyse the different variables of our data and their relationships, a lot of useful information can be derived that can be useful both from an initial business perspective, and a model building posterior point of view.", "We have also summed up some of the best practices for plotting: it is important that we know when to use each of the visualisation tools at our disposal, and how to carefully optimise what we display in these plots.", "Lastly, it is also important to have more than just plotting capabilities: we must be able to read these plots and extract useful information from them; a plot from which nothing can be obtained does not help anybody.", "If you want the code for any of the plots on this post, please feel free to leave a comment and I will send it to you.", "In case you want to dig deeper and develop a more profound practical and theoretical knowledge of EDAR, check out the following resources.", "That is all, I hope you liked the post. Feel free to follow me on Twitter at @jaimezorno. Also, you can take a look at my posts on Data Science, Statistics and Machine Learning here. Have a good read! Also, for further resources on Data Science and Machine Learning, check out this awesome repository of books, courses and tutorials.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe8bfa7db69d9&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-do-exploratory-data-analysis-e8bfa7db69d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-do-exploratory-data-analysis-e8bfa7db69d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-do-exploratory-data-analysis-e8bfa7db69d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-do-exploratory-data-analysis-e8bfa7db69d9&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e8bfa7db69d9--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e8bfa7db69d9--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://james-thorn.medium.com/?source=post_page-----e8bfa7db69d9--------------------------------", "anchor_text": ""}, {"url": "https://james-thorn.medium.com/?source=post_page-----e8bfa7db69d9--------------------------------", "anchor_text": "James Thorn"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1fd70d25ff14&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-do-exploratory-data-analysis-e8bfa7db69d9&user=James+Thorn&userId=1fd70d25ff14&source=post_page-1fd70d25ff14----e8bfa7db69d9---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe8bfa7db69d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-do-exploratory-data-analysis-e8bfa7db69d9&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe8bfa7db69d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-do-exploratory-data-analysis-e8bfa7db69d9&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.flaticon.com/", "anchor_text": "Flaticon"}, {"url": "https://archive.ics.uci.edu/ml/datasets/Bank+Marketing", "anchor_text": "Bank Marketing Data Set"}, {"url": "https://www.flaticon.com/", "anchor_text": "Flaticon"}, {"url": "https://www.flaticon.com/free-icon/bar-chart_386979", "anchor_text": "Flaticon"}, {"url": "https://www.flaticon.com/search?word=Scatter%20plot", "anchor_text": "Flaticon"}, {"url": "https://www.flaticon.com/search?word=box%20plot", "anchor_text": "Flaticon"}, {"url": "https://www.flaticon.com/free-icon/histogram_2289274?term=Histogram&page=1&position=9", "anchor_text": "Flaticon"}, {"url": "https://neptune.ai/blog/exploratory-data-analysis-natural-language-processing-tools", "anchor_text": "Exploratory Data Analysis for Natural Language Processing."}, {"url": "https://howtolearnmachinelearning.com/books/data-analysis-books/python-for-data-analysis/", "anchor_text": "Review of the book \u2018Python for Data Analysis\u2019"}, {"url": "https://howtolearnmachinelearning.com/datasets/", "anchor_text": "Data sets for your own Data Analysis projects."}, {"url": "https://twitter.com/Jaimezorno", "anchor_text": "follow me on Twitter"}, {"url": "https://medium.com/@jaimezornoza", "anchor_text": "here"}, {"url": "https://howtolearnmachinelearning.com/", "anchor_text": "this awesome repository"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----e8bfa7db69d9---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----e8bfa7db69d9---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/startup?source=post_page-----e8bfa7db69d9---------------startup-----------------", "anchor_text": "Startup"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----e8bfa7db69d9---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----e8bfa7db69d9---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe8bfa7db69d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-do-exploratory-data-analysis-e8bfa7db69d9&user=James+Thorn&userId=1fd70d25ff14&source=-----e8bfa7db69d9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe8bfa7db69d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-do-exploratory-data-analysis-e8bfa7db69d9&user=James+Thorn&userId=1fd70d25ff14&source=-----e8bfa7db69d9---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe8bfa7db69d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-do-exploratory-data-analysis-e8bfa7db69d9&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e8bfa7db69d9--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe8bfa7db69d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-do-exploratory-data-analysis-e8bfa7db69d9&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e8bfa7db69d9---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e8bfa7db69d9--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e8bfa7db69d9--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e8bfa7db69d9--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e8bfa7db69d9--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e8bfa7db69d9--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e8bfa7db69d9--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e8bfa7db69d9--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e8bfa7db69d9--------------------------------", "anchor_text": ""}, {"url": "https://james-thorn.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://james-thorn.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "James Thorn"}, {"url": "https://james-thorn.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3K Followers"}, {"url": "https://howtolearnmachinelearning.com/", "anchor_text": "https://howtolearnmachinelearning.com/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1fd70d25ff14&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-do-exploratory-data-analysis-e8bfa7db69d9&user=James+Thorn&userId=1fd70d25ff14&source=post_page-1fd70d25ff14--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F5ad84c2cef18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-do-exploratory-data-analysis-e8bfa7db69d9&newsletterV3=1fd70d25ff14&newsletterV3Id=5ad84c2cef18&user=James+Thorn&userId=1fd70d25ff14&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}