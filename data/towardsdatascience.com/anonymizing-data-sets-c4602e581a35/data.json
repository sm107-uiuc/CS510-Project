{"url": "https://towardsdatascience.com/anonymizing-data-sets-c4602e581a35", "time": 1683005676.918344, "path": "towardsdatascience.com/anonymizing-data-sets-c4602e581a35/", "webpage": {"metadata": {"title": "Anonymizing Data Sets. Quick Ways to Get An Anonymized Data\u2026 | by MC | Towards Data Science", "h1": "Anonymizing Data Sets", "description": "A lot of the data we collect today can easily be linked to an individual, household or entity. However, using data without taking care to protect the identity of the data owner can lead to lots of\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["A lot of the data we collect today can easily be linked to an individual, household or entity. However, using data without taking care to protect the identity of the data owner can lead to lots of problems and potential lawsuits. Data anonymization easily put, is ensuring that we can\u2019t tell the actual data owner by looking at the data.", "Before starting any anomymization exercise, it is important to understand the end goal of the data set. The goal of the data set tells us how it is to be used. For instance, preparing a data set for an analytics projects is different from preparing data that is used for app development. For simplicity we would focus on analytical and non-analytical goals.", "This article would walk us through different types of data sets and several ways to anonymize them. It also discusses how the anonymization methods can be applied in an analytical context, and ends with a few real life examples of data sets we might need to anonymize.", "There are three types of data sets that are commonly used. Data sets with composite keys, data sets with non composite keys and data sets with repeatable ids. A data set that contains a key that is created from components of the data set (composite key) should be treated differently from one where the key has no relation to any of the columns (non composite key). Similarly, a data set with keys that are repeating should be treated differently from a data set with unique ids.", "Table A in example 1 has a key that is made of some of the columns in the table, while Table B is an example of where the key has no relation to the rest of the data. Anonymizing Table A should be different from B.", "Real life situations where composite ids may be used include but are not limited to \u2013", "\u00d8 some hospital systems use a combination of client age and name to create identifier.", "\u00d8 company emails are usually some combination of employee names", "\u00d8 vehicle or loan numbers are generally based on some vehicle or loan information etc", "Repeated ids are generally found in systems that collect and stores data on usage or visits. That said, there are several ways to anonymize these data sets.", "In some cases removing the key and replacing it with a random number is sufficient. However, care must be taken to accommodate the composition of the data.", "Simple case: Non composite unique keys", "In the simple case presented above, notice that the table is same as Table B in example 1. Here, the keys can be easily replaced by random numbers or an identity generator.", "Coding Tip: You can use the \u2018monotonically_increasing_id\u2019 function in spark or \u2018uuid\u2019 package in python or the \u2018ids\u2019 package in R or \u2018NewId\u2019 function in SQL to create a random id.", "Taking into account the composition of the table, we may find that the ids are repeating but the repeats are valid data points that we want to keep. In this case, we want to replace the same key with the same random number each time.", "Coding Tip: To do this i) create a subset with the unique ids ii) add a new column with random numbers and then iii) join that to the initial data set and iv) drop the old key column\u2026. the \u2018drop\u2019, \u2018join\u2019 and \u2018select\u2019 or \u2018subset\u2019 functions can be used here.", "If replacing the key with random keys is insufficient we can take other approaches such as:", "A hash is one of the most widely known methods of using a fixed length code to represent data columns. Hashing converts data into an alphanumeric or numeric code of fixed size, which cannot be easily reversed (if at all). Note that this is different from encryption.", "Two key features of the hash:", "\u00d8 It is technically feasible but practically impossible to reverse even the simplest hash i.e. you can go from A to hash(A) but not hash(A) to A.", "\u00d8 Hashing same value should provide same output each time and no two inputs should get same hash output (collision).", "Coding Tip: In most languages the \u2018sha\u2019 or \u2018hash\u2019 function would do the trick ex: \u2018sha()\u2019 in spark, hive, or hash in python or R (need hash package) or \u2018hashbytes\u2019 in SQL. Remember the data integrity case? yep, we could have used this approach to replace ids! \ud83d\ude04", "ii. Creating a key based code:", "This is a similar concept to hashing. Supposing you have a dataset where you know the key is a composite of some columns. For some reason you decide that you do not want to use a hash function but you want to apply a treatment to the data that is systematic and repeatable and allows you to join to other data sets with same key. A common approach would be to remove or replace characters in a specific position from the key column (and or the composite columns).", "Using table A from Example 1:", "Removing the 3rd character of the key:", "OR Replacing the 3rd character of the key:", "In table H all the 3rd characters were replaced by \u2018m\u2019. One can get more sophisticated and do a mapping where the first row gets an m, then next gets an n \u2026. etc.", "When dealing with such data sets, I recommend also partially coding, hashing or dropping one of the composite columns.", "Coding Tip: slicing in python or \u2018substring\u2019 (or \u2018substr\u2019) function in spark, hive, R or SQL can be used here.", "In some cases, we might need data that has same structure and characteristics as the actual data set. Say we need to build an app but the teams have not yet developed a secure means of data transfer. Instead of pausing development until this is figured out, a quick solution is to create fake data using existing data.", "I. One way to do this is to randomly mix the data in each column.", "Ex \u2014 recall the composite table from Example 1?", "We can mix it like so:", "II. Now you might say well someone can still guess the correct data owners from that information, if they know the key is a composite of some of the columns. Two things you can do really quickly:", "a) Create completely fake data rows and add to the data set, and drop some actual data rows before mixing.", "b) Replace some of the characters in some of the columns.", "You want to do this to columns that make sense ex. replacing characters from the city or language columns (if there was one does not really work) as this could be viewed as a typo and easily corrected. Also replacing a number with a string in numeric column might lead to mistakes as this changes the column\u2019s data type or can be considered bad data. This can be misleading in app development or analytics product development.", "We can change Table I above like so:", "In the table above, notice that in some cases a character was added or a name completely replaced. Table J is a combination of II a) and II b)", "There are several times when we need data for analytics or some similar purpose but can\u2019t share sensitive information.", "i. Similar to the situation above we can mix the data and replace or add rows before mixing. However, randomly mixing or changing the data could lead to lost trends, which are important in data analytics. If you decide to mix or add data, care must be taken to maintain the same pattern, frequency, range, data structure etc so as not to distort data patterns or introduce outliers. In this case, mixing within groups could work, though this is slightly more complex.", "ii. It is also feasible to hash and mix but as noted above, care must be taken to mix within groups, if the groups are deemed important for the analytic project.", "iii. Aggregate the data \u2014 for some data we can create aggregates that are informative for analytic uses but not granular enough to be traced back to data owner. For example, instead of a phone number, we can use area codes or create an area flag.", "iv. A preferred approach, would be to hash sensitive information in the data set, and group where it makes sense. By grouping columns and hashing them, one can maintain patterns while hiding the actual data.", "For all data sets that must be anonymized, it is important to remove any unique and or personally identifiable information in the data such as phone numbers, social security numbers, bank numbers etc. An example of unique data would be a pink colored mustang in a data set about cars, a violet colored mansion in a data set about houses, an elephant man in a dataset about deformities etc Careful consideration must be given to cases where such data cannot be removed.", "Some situations that require data to be anonymized include but are not limited to -", "1. Using data to create a data product ex. building a machine learning model, developing an app, presenting summary statistics etc", "2. People in same company but different project groups where one group is not allowed to see the data", "3. Creating a public data set", "4. Any situation where data is needed but there are data transfer security or privacy reasons why the actual data can\u2019t be shared.", "5. Any situation where GDPR or privacy laws apply", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data professional with extensive experience leading data science and data engineer product teams. Experienced in several technologies including big data."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc4602e581a35&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanonymizing-data-sets-c4602e581a35&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanonymizing-data-sets-c4602e581a35&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanonymizing-data-sets-c4602e581a35&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanonymizing-data-sets-c4602e581a35&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c4602e581a35--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c4602e581a35--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://nemo382003.medium.com/?source=post_page-----c4602e581a35--------------------------------", "anchor_text": ""}, {"url": "https://nemo382003.medium.com/?source=post_page-----c4602e581a35--------------------------------", "anchor_text": "MC"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd0a57b904968&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanonymizing-data-sets-c4602e581a35&user=MC&userId=d0a57b904968&source=post_page-d0a57b904968----c4602e581a35---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc4602e581a35&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanonymizing-data-sets-c4602e581a35&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc4602e581a35&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanonymizing-data-sets-c4602e581a35&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/tag/data?source=post_page-----c4602e581a35---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/privacy?source=post_page-----c4602e581a35---------------privacy-----------------", "anchor_text": "Privacy"}, {"url": "https://medium.com/tag/anonymity?source=post_page-----c4602e581a35---------------anonymity-----------------", "anchor_text": "Anonymity"}, {"url": "https://medium.com/tag/analytics?source=post_page-----c4602e581a35---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/tag/gdpr-compliance?source=post_page-----c4602e581a35---------------gdpr_compliance-----------------", "anchor_text": "Gdpr Compliance"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc4602e581a35&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanonymizing-data-sets-c4602e581a35&user=MC&userId=d0a57b904968&source=-----c4602e581a35---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc4602e581a35&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanonymizing-data-sets-c4602e581a35&user=MC&userId=d0a57b904968&source=-----c4602e581a35---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc4602e581a35&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanonymizing-data-sets-c4602e581a35&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c4602e581a35--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc4602e581a35&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanonymizing-data-sets-c4602e581a35&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c4602e581a35---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c4602e581a35--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c4602e581a35--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c4602e581a35--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c4602e581a35--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c4602e581a35--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c4602e581a35--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c4602e581a35--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c4602e581a35--------------------------------", "anchor_text": ""}, {"url": "https://nemo382003.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://nemo382003.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "MC"}, {"url": "https://nemo382003.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "22 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd0a57b904968&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanonymizing-data-sets-c4602e581a35&user=MC&userId=d0a57b904968&source=post_page-d0a57b904968--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F4af6c832661e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanonymizing-data-sets-c4602e581a35&newsletterV3=d0a57b904968&newsletterV3Id=4af6c832661e&user=MC&userId=d0a57b904968&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}