{"url": "https://towardsdatascience.com/random-thoughts-on-my-first-ml-deployment-8e8c89df047f", "time": 1682995250.560051, "path": "towardsdatascience.com/random-thoughts-on-my-first-ml-deployment-8e8c89df047f/", "webpage": {"metadata": {"title": "Random thoughts on my first ML deployment | by Massimo Belloni | Towards Data Science", "h1": "Random thoughts on my first ML deployment", "description": "A little bit of context: I\u2019m currently working for a fast growing yet still medium-sized company that after having built a robust and widely used product has decided to start leveraging the data\u2026"}, "outgoing_paragraph_urls": [{"url": "https://housinganywhere.com/", "anchor_text": "a fast growing yet still medium-sized company", "paragraph_index": 0}, {"url": "https://medium.com/data-science-housinganywhere/how-to-do-data-science-on-an-evolving-website-5fdec1c995da", "anchor_text": "here and there", "paragraph_index": 4}], "all_paragraphs": ["A little bit of context: I\u2019m currently working for a fast growing yet still medium-sized company that after having built a robust and widely used product has decided to start leveraging the data generated during the years to bring some value to end users. The Data Science Team wasn\u2019t very structured at the beginning of this quest and it is far to be over-structured now, six months later, even if here and there you can start noticing some changes that are the consequence of a natural trial and error process. It\u2019s possible then that some of the following points are obvious for more experienced data scientists working in structured companies with a proven track record of models brought to production. But if I think to the six-months-ago-me I\u2019d have been probably interested in reading a post like this, to avoid wasting a lot of time and CPU power in training useless models or in looking for that specific one, trained weeks before and that was lost under a pile of useless others, mainly due to the chaos living in the folder where I was keeping all my Jupyter Notebooks.", "In the early stages of all the projects developed in these months, I was focusing on having the higher on-paper performances and on engineering the most complex and performing features, just to discover later that those features weren\u2019t available real-time or that the process of retrieving them was so costly that increase of performances wasn\u2019t worth the effort. The number of interactions a listing receives in the first hours after being published, for example, is a very good indicator for it to be a scam or not. However, if the goal of the model is to detect scammers in the first minutes after uploading their listings, this feature is pretty much useless.", "Another important suggestion is to test the model as soon as possible with live data coming from the scenario in which the product will be eventually used.", "It is way better to quickly discover that the developed model isn\u2019t reliable than working on something for months just to find out how useless it is when it\u2019s already live.", "I\u2019ve already written about this topic here and there and I won\u2019t rewrite the whole story, but it is not obvious that in a dataset collected over a multiple years period, all the sample follow the same distribution: dealing with this kind of complexity is what makes working with real data more challenging than with Kaggle-like datasets. Don\u2019t get me wrong: they are cool, and above all they are the only freely available resource for the data scientists that want to get their hands dirty with novel techniques. The only misconception is that they are quite far to be a good representation of real world-datasets, that often require a lot of effort (really, a lot) just to come up with an usable bunch of samples while getting rid of dirty values and outliers. Some time ago I read about a senior data scientist saying that the more senior he became the more the skills he developed were mainly dataset cleaning and preparation. I\u2019m starting to understand his words\u2026", "A Machine Learning model, for how complex and deep it may become, is, in the end, a software artefact that will be probably exposed as a Web API on top of an already existing infrastructure. Having a Computer Science background or, at least, a solid understanding of these topics, is crucial to build a data product that can be quickly deployed after a research phase lasted months.", "As a rule of thumb: the more the model has been developed by people without a CS background, the more it will be hard to deploy it in production, possibly having to reduce the performances or to tweak the features just to fit with the final architecture.", "At the stage of our business, having been able to sketch up a client-server architecture while training the models has been probably more important than having a ML-focused PhD. It\u2019s a bold sentence, of course, and probably it isn\u2019t even valid anymore (new structure, new projects, new challenges); but in the early stages of a Data Team, with the strict requirement to bring some tangible value as soon as possible, being able to have a little bit of CS vision is fundamental to take models out of Jupyter Notebooks and make them available to users in weeks, not months.", "When I did my last University exam almost a year ago I was quite confident about my theoretical DS/ML skills, eager to have some hands on experience with real world data, while I was completely unaware and even a little bit scared about building actual data products powered by this complex technologies. Is there life after Jupyter Notebooks?", "After some months I now see that the problem there was me thinking that behind a deployed ML model there is who-knows-what kind of technical complexity. The more I dug into the field once I had something to actually deploy (and again, see point 1), the more I noticed that a) if there are a lot of stories and experiences about that very specific method that allows to increase accuracy on ImageNet of 0.001%, there exists very few examples and guides on how to actually expose ML models to the world and b) that models, in the end, are just computer functions, often written in Python, and this kind of technologies have been deployed and used by millions of users for years. A good lesson learned in our company has been to move data scientists as close as possible to senior engineers, that even if they possibly don\u2019t know a lot about Machine Learning, have a lot of experience in building reliable and robust software products.", "A Python script is a Python script, no matter what it does.", "I won\u2019t go in super-details about this now, but after weeks working on the same project 8 hours per day, the number of trials and sketched-up ideas start to increase a lot. Jupyter Notebooks, with all the issues they might inherently generate, are the de-facto standard for the possibly very long research phase that every data science project has.", "The longer and complicated a project gets, the more is the time wasted in looking for that specific model with that slightly different dataset trained weeks before.", "If carefully tracking every single test and experiment is probably a little overkill and the Jupyter Notebook\u2019s format itself isn\u2019t so easy to be version controlled, starting to give a structure to folders and files has saved me a lot of time in the past months.", "In my working routine, notebooks can be categorised mainly in 4 types:", "Every Jupyter Notebook created must contain one of these keywords in the file name, with a brief description of the actual file content. Once a notebook becomes too complex or starts to fall beyond the initial scope, it is reordered a little and a new one is created, possibly starting on top of some results of the previous one. On the side: every dataset\u2019s name must contain a date, and a brief explanation of the contained features.", "Once I started to use this structure \u2014 unfortunately months after the first .fit() I run in the company\u2019s office \u2014 my efficiency has drastically increased and it has been also very easy to get back to models trained weeks before or to re-run the same pipelines with updated datasets or new features.", "Finally, and it is mainly an advice for the future me, but who knows: doing things takes time, the sooner you understand this, the better it is. A single project requires multiple iterations, and, most importantly, building robust and reliable software is a long run, not a sprint. Test the model with live data as soon as possible, but then iterate offline and try out different methods.", "Not always (read, almost never) most complex solutions give better results, but building super complex models might be the only method you have to be sure about this.", "If it is true that every project needs structures and deadlines, ML research, even when it is done with a strong product focus, needs time to evolve and mature: wasting time in useless branches just to discover how useless they are and to possibly do better in the future is a fundamental part of the process.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8e8c89df047f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frandom-thoughts-on-my-first-ml-deployment-8e8c89df047f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frandom-thoughts-on-my-first-ml-deployment-8e8c89df047f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frandom-thoughts-on-my-first-ml-deployment-8e8c89df047f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frandom-thoughts-on-my-first-ml-deployment-8e8c89df047f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8e8c89df047f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8e8c89df047f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://massibelloni.medium.com/?source=post_page-----8e8c89df047f--------------------------------", "anchor_text": ""}, {"url": "https://massibelloni.medium.com/?source=post_page-----8e8c89df047f--------------------------------", "anchor_text": "Massimo Belloni"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4e623cf1c796&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frandom-thoughts-on-my-first-ml-deployment-8e8c89df047f&user=Massimo+Belloni&userId=4e623cf1c796&source=post_page-4e623cf1c796----8e8c89df047f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8e8c89df047f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frandom-thoughts-on-my-first-ml-deployment-8e8c89df047f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8e8c89df047f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frandom-thoughts-on-my-first-ml-deployment-8e8c89df047f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@ocen?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Coen van de Broek"}, {"url": "https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://housinganywhere.com/", "anchor_text": "a fast growing yet still medium-sized company"}, {"url": "https://medium.com/data-science-housinganywhere/how-to-do-data-science-on-an-evolving-website-5fdec1c995da", "anchor_text": "here and there"}, {"url": "https://medium.com/tag/data-science?source=post_page-----8e8c89df047f---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----8e8c89df047f---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/deployment?source=post_page-----8e8c89df047f---------------deployment-----------------", "anchor_text": "Deployment"}, {"url": "https://medium.com/tag/python?source=post_page-----8e8c89df047f---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----8e8c89df047f---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8e8c89df047f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frandom-thoughts-on-my-first-ml-deployment-8e8c89df047f&user=Massimo+Belloni&userId=4e623cf1c796&source=-----8e8c89df047f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8e8c89df047f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frandom-thoughts-on-my-first-ml-deployment-8e8c89df047f&user=Massimo+Belloni&userId=4e623cf1c796&source=-----8e8c89df047f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8e8c89df047f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frandom-thoughts-on-my-first-ml-deployment-8e8c89df047f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8e8c89df047f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8e8c89df047f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frandom-thoughts-on-my-first-ml-deployment-8e8c89df047f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8e8c89df047f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8e8c89df047f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8e8c89df047f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8e8c89df047f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8e8c89df047f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8e8c89df047f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8e8c89df047f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8e8c89df047f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8e8c89df047f--------------------------------", "anchor_text": ""}, {"url": "https://massibelloni.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://massibelloni.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Massimo Belloni"}, {"url": "https://massibelloni.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "443 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4e623cf1c796&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frandom-thoughts-on-my-first-ml-deployment-8e8c89df047f&user=Massimo+Belloni&userId=4e623cf1c796&source=post_page-4e623cf1c796--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd607a9e5bd7d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frandom-thoughts-on-my-first-ml-deployment-8e8c89df047f&newsletterV3=4e623cf1c796&newsletterV3Id=d607a9e5bd7d&user=Massimo+Belloni&userId=4e623cf1c796&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}