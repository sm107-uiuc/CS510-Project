{"url": "https://towardsdatascience.com/master-your-hypothesis-test-a-tutorial-on-power-bootstrapping-sample-selection-and-outcome-273d6739d3e5", "time": 1682996242.957373, "path": "towardsdatascience.com/master-your-hypothesis-test-a-tutorial-on-power-bootstrapping-sample-selection-and-outcome-273d6739d3e5/", "webpage": {"metadata": {"title": "Master Your Hypothesis Test. In this tutorial, we will be looking\u2026 | by Connor Anderson | Towards Data Science", "h1": "Master Your Hypothesis Test", "description": "In this tutorial, we will be looking through a FIFA \u201819 Player Attribute Data Set in order to answer one simple question: Which country produces better soccer players? England or Spain. Before we get\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/karangadiya/fifa19", "anchor_text": "FIFA \u201819 Player Attribute Data Set", "paragraph_index": 0}, {"url": "https://github.com/ConnorAnderson29/fifa_player_hypothesis_testing", "anchor_text": "here", "paragraph_index": 55}, {"url": "https://www.linkedin.com/in/connor-anderson29/", "anchor_text": "LinkedIn", "paragraph_index": 55}, {"url": "https://github.com/ConnorAnderson29/hypothesis-testing-european-soccer-data", "anchor_text": "recent project", "paragraph_index": 56}], "all_paragraphs": ["In this tutorial, we will be looking through a FIFA \u201819 Player Attribute Data Set in order to answer one simple question: Which country produces better soccer players? England or Spain.", "What will be covered in this tutorial:", "Before we get started, I wanted to include a little mini-cheat sheet with some common terms and ideas related to hypothesis testing. It\u2019s always slightly annoying for me when I read tutorials that expect you know everything about your topic already\u2026 because if you did, you probably wouldn\u2019t need a tutorial.", "\u201cThe P value, or calculated probability, is the probability of finding the observed, or more extreme, results when the null hypothesis (H 0) of a study question is true \u2014 the definition of \u2018extreme\u2019 depends on how the hypothesis is being tested.\u201d", "\u201cTechnically, a z-score is the number of standard deviations from the mean value of the reference population (a population whose known values have been recorded, like in these charts the CDC compiles about people\u2019s weights). A z-score of 1 is 1 standard deviation above the mean.\u201d", "The t-value measures the size of the difference relative to the variation in your sample data.", "\u201cIn statistical hypothesis testing a type I error is the rejection of a true null hypothesis (also known as a \u201cfalse positive\u201d finding or conclusion), while a type II error is the failure of rejecting a false null hypothesis (also known as a \u201cfalse negative\u201d finding or conclusion).\u201d", "This section hopefully helps clear up some confusion around hypothesis testing. There are two types of T-Tests: One-Tailed and Two-Tailed.", "When performing a two-tailed test there are a few things to consider.", "For example: Initially, I wanted to compare weight vs speed. But in order to perform a hypothesis test, you need to have a category for each of these attributes to fall under. Weight and Speed don\u2019t have any ties to a category(i.e a team or country) and so it will be tough to conduct a statistical test for them, whereas if you were looking to create a linear regression with these models it would be very easy.", "2. The Two Datasets must be Independent", "In order to collect meaningful data, the two datasets must be independent of each other which is exactly why weight and speed didn\u2019t work because speed has a linear relationship with weight.", "So for this example, we are going to use a two-tail hypothesis test based around two independent data-sets in hopes of finding a statistical difference in the quality of player produced by each nation.", "Now that we have thought through how we want to approach our test conceptually, it\u2019s time to actually make the thing!", "The first order of business is to collect useful data. For this example, I am using player attribute data from the video game FIFA 19. The data needs to be cleaned and organized so that you can easily access it later when you are performing your hypothesis tests. I am using python, pandas, Numpy, and Sci-kit learn to perform these tests. In order to use these tools inside of a Jupyter notebook, you will have to import them.", "Based on my original question, I know that I will need data that contains the overall attribute from players who are from both England and Spain.", "Note: England and Spain were chosen because the data set had a significant amount of players from those countries.", "In the code below, I create a DataFrame using the FIFA 19 data \u2014 and then separate them out into Numpy arrays that I can use to perform my hypothesis tests.", "What I created above were Pandas Series which contains all of the overall cores from players that were born in England and Spain respectively. To make our lives easier, let's turn these Series into Numpy Arrays. Numpy arrays are very versatile and the Numpy library has tons of helpful functions.", "Perfect! So now we have boiled our data into something that we can input into the functions we are going to create below", "2. Defining a Null and Alternate Hypothesis.", "When creating a hypothesis test, you will need to define a null and alternate hypothesis. Here\u2019s how I like to think about it.", "Null: The mean of the 1st data set does NOT have any statistical difference when compared to the mean of the 2nd data set.", "Alt: The mean of the 1st data set DOES have a statistical difference when compared to the mean of the 2nd data set.", "So how would we write this for our example?", "Null: There is not a statistical difference between the overall skill of a player born in England vs a player born in Spain.", "Alt: There is a statistical difference between the overall skill of a player born in England vs a player born in Spain.", "Alpha: Defined as .05. Typically when running a two-tailed test an alpha value of 0.05 is picked as a standard measure of error. If you look at the chart below, the two tail ends are the alpha values.", "Sampling is a major part of hypothesis testing. The philosophy behind sampling is simple; harnessing the TRUE population is virtually impossible (it would take TOO much time and money) so in order to draw conclusions, we must take samples from the population and conclude that those findings are representative of the population as a whole. To find the sample size in this example, we are going to find the effect size, which we can use to find the Power of our test. The power will then give us a minimum value of samples that we must collect in order to satisfy the constraints.", "Cohen\u2019s d: Before we can calculate power, we need to solve for Cohen\u2019s d between the two different countries. Cohen\u2019s d effect size measures the difference between the means of both groups (in this case, the overall skill of English players vs the overall skill of Spanish players). This gives some insight into how much change is actually occurring between the two groups. The outcome of the Cohen\u2019s d effect size is measured in standard deviations. In the code below, you can see how Cohen\u2019s d can be calculated using a python function.", "Evaluating the effect of your test is measured in three sections:", "** Cohen\u2019s d should always be positive, which is why we take the absolute value**", "According to our calculation, our test should have a large effect. The next step is to calculate our minimum sample size by determining the power of our test: This can also be done in several lines of python code, as shown below:", "The results from our power test are promising. Since we have a high power level, we are able to confidently conclude our findings when we calculate them.", "The output of the function tells us that in order to have a 1.0 power level, we would only need to use 500 samples. Luckily for us, we have 1072, so plenty to play with!", "So we have finally gotten to the sample size. What do we know about sampling?", "But what if it isn\u2019t or if we aren\u2019t sure. Well if we aren\u2019t sure, there is this really helpful tool called bootstrapping. Bootstrapping mimics new data collection, by that I mean that it randomly takes new samples with replacement from the original sample, calculates the mean and creates new data that can now be used to run tests.", "This works because the assumption is that your original sample is already representative of the population. So as long as you are sampling from the original sample, it should mimic the action of collecting new REAL data that is representative of the population. Say, you have a whole cookie(population), then you break off half of that cookie(the original sample). Then you break off 2 smaller pieces(bootstrap samples) from the original sample. The idea behind bootstrapping is that (bootstrap samples) which were just pieces of the original sample will taste exactly like the original cookie before it was broken apart. The code below shows you how to do this.", "Basically above, we used our calculated sample size(500) and created 1,000 new samples based off of that random sampling. Which is conceptually the same as if we went to England and Spain and gathered data from 1,000 additional players from each country.", "It\u2019s onto step 4, where we finally begin to find out if any of this work actually matters!", "This is the scary looking T-Stat(T-Value) formula.", "This is ugly\u2026. so we broke it up into smaller, simpler formulas!", "The formula above calculates the variance in the Numpy arrays.", "This formula calculates the pooled variance of the two sample means.", "This is the Taj Mahal. This function uses the two functions defined above to calculate the T-Stat.", "5. Calculating the T-Stat and P-Value(The Short Way):", "To calculate our P-value and also double check out T-Stat, we are going to use another one of our imported libraries. This formula takes in our two sample means, which are the same arrays that we created using our bootstrapping method and outputs a T-Value and a P-Value.", "As you can see, the T-Stat is exactly the same as the one we calculated earlier! This is a very nice sanity check, and the formula also gives us a P-Value.", "When we are looking to either accept or reject our Null hypothesis we want to consult our p-value. Earlier in the tutorial, we defined our alpha as .05. This means that we expect that given our null hypothesis is true that our test will be correct 95% of the time where the other 5% is incorrect because of random chance. Since this is a two-tailed test, which we defined above, we will split the alpha error in half and put it on both sides of our distribution. This means that the p-value we are looking for is .025, so 2.5 percent. If our p-value is less than or equal to our anticipated error then we would reject our Null hypothesis.", "The logic behind is this a little counter-intuitive. The p-value is the likelihood of us getting a RANDOM result outside of our 95% confidence interval. If the p-value is smaller than our alpha, that means it is unlikely that the result outside of our 95% was random, meaning that it was significant and shouldn\u2019t be ignored as an error. Whereas if the p-value is higher than our alpha it means it likely that the result outside of our 95% interval is random, so we shouldn\u2019t freak out and will fail to reject(aka keep) our null hypothesis.", "For our example, since our p-value is ZERO that means we are going to accept our alternative hypothesis and conclude that there is a difference in the overall skill of players from either England or Spain.", "It appears, according to the FIFA player 19 data set that Spanish players are significantly better than the players from England. So if you are trying to become a professional soccer player, or you are looking to have your child be the next Lionel Messi, maybe Spain is where you should train them.", "Effect Size vs Power/Sample Size: Effect Size and Power have a negative linear relationship. Power helps you determine the size of your sample in order to satisfy its requirements. The number of samples that you need according to your power will vary depending on the effect size. For example, if you have a large effect size, then the number of samples needed in order to satisfy your power requirements will be less. Like in our example above, if I took the power of .90 instead of 1, the minimum sample size would have been around 30. This is because the effect size of the two sample means was very close to 1.", "P-Value vs Effect Size: When assessing the outcome of a hypothesis test, the p-value is a useful tool. The effect size may be predictive of the outcome of a p-value. If the effect size is very high, like in our test \u2014 it is logical to think that there is a significant statistical difference between the means of the two sample groups. If there is a statistically significant difference, then the p-value will be very close to zero, meaning that you would reject the Null Hypothesis. So you should keep in mind if you run a test with an effect size between .6 and 1.0 and the p-value comes out higher than your alpha, you may want to re-visit your test and make sure no mistakes were made. (I know this because I made this exact mistake while I was writing this tutorial)", "Bootstrapping: Bootstrapping isn\u2019t always necessary, in fact, it is a method that has only been adopted because computers can create new data almost instantaneously. If you have plenty of data that is normally distributed then you don\u2019t have to bootstrap. Bootstrapping is a tool used when data is limited and may not be perfectly distributed.", "I hope that this tutorial helped. I covered a couple of different strategies that are not completely necessary for a hypothesis test, but I thought that covering the more complex ideas would be helpful. If you are curious about the code and want to check out my repo it's linked here! Connect with me on LinkedIn!", "Also, check out a recent project I was involved in. We used soccer data to draw some conclusions on home-field advantage, formation optimization and team attributes by league!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist | Machine Learning Engineer | Sports Analytics"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F273d6739d3e5&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaster-your-hypothesis-test-a-tutorial-on-power-bootstrapping-sample-selection-and-outcome-273d6739d3e5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaster-your-hypothesis-test-a-tutorial-on-power-bootstrapping-sample-selection-and-outcome-273d6739d3e5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaster-your-hypothesis-test-a-tutorial-on-power-bootstrapping-sample-selection-and-outcome-273d6739d3e5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaster-your-hypothesis-test-a-tutorial-on-power-bootstrapping-sample-selection-and-outcome-273d6739d3e5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----273d6739d3e5--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----273d6739d3e5--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@connor.anderson_42477?source=post_page-----273d6739d3e5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@connor.anderson_42477?source=post_page-----273d6739d3e5--------------------------------", "anchor_text": "Connor Anderson"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F959707fb5bc8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaster-your-hypothesis-test-a-tutorial-on-power-bootstrapping-sample-selection-and-outcome-273d6739d3e5&user=Connor+Anderson&userId=959707fb5bc8&source=post_page-959707fb5bc8----273d6739d3e5---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F273d6739d3e5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaster-your-hypothesis-test-a-tutorial-on-power-bootstrapping-sample-selection-and-outcome-273d6739d3e5&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F273d6739d3e5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaster-your-hypothesis-test-a-tutorial-on-power-bootstrapping-sample-selection-and-outcome-273d6739d3e5&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.kaggle.com/karangadiya/fifa19", "anchor_text": "FIFA \u201819 Player Attribute Data Set"}, {"url": "https://github.com/ConnorAnderson29/fifa_player_hypothesis_testing", "anchor_text": "here"}, {"url": "https://www.linkedin.com/in/connor-anderson29/", "anchor_text": "LinkedIn"}, {"url": "https://github.com/ConnorAnderson29/hypothesis-testing-european-soccer-data", "anchor_text": "recent project"}, {"url": "https://www.statsdirect.com/help/basics/p_values.htm", "anchor_text": "https://www.statsdirect.com/help/basics/p_values.htm"}, {"url": "https://www.statisticshowto.datasciencecentral.com/probability-and-statistics/z-score/", "anchor_text": "https://www.statisticshowto.datasciencecentral.com/probability-and-statistics/z-score/"}, {"url": "https://www.statisticsteacher.org/2017/09/15/what-is-power/", "anchor_text": "https://www.statisticsteacher.org/2017/09/15/what-is-power/"}, {"url": "https://en.wikipedia.org/wiki/Type_I_and_type_II_errors", "anchor_text": "https://en.wikipedia.org/wiki/Type_I_and_type_II_errors"}, {"url": "https://medium.com/tag/data-science?source=post_page-----273d6739d3e5---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/hypothesis-testing?source=post_page-----273d6739d3e5---------------hypothesis_testing-----------------", "anchor_text": "Hypothesis Testing"}, {"url": "https://medium.com/tag/sampling?source=post_page-----273d6739d3e5---------------sampling-----------------", "anchor_text": "Sampling"}, {"url": "https://medium.com/tag/bootstrapping?source=post_page-----273d6739d3e5---------------bootstrapping-----------------", "anchor_text": "Bootstrapping"}, {"url": "https://medium.com/tag/data?source=post_page-----273d6739d3e5---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F273d6739d3e5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaster-your-hypothesis-test-a-tutorial-on-power-bootstrapping-sample-selection-and-outcome-273d6739d3e5&user=Connor+Anderson&userId=959707fb5bc8&source=-----273d6739d3e5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F273d6739d3e5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaster-your-hypothesis-test-a-tutorial-on-power-bootstrapping-sample-selection-and-outcome-273d6739d3e5&user=Connor+Anderson&userId=959707fb5bc8&source=-----273d6739d3e5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F273d6739d3e5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaster-your-hypothesis-test-a-tutorial-on-power-bootstrapping-sample-selection-and-outcome-273d6739d3e5&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----273d6739d3e5--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F273d6739d3e5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaster-your-hypothesis-test-a-tutorial-on-power-bootstrapping-sample-selection-and-outcome-273d6739d3e5&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----273d6739d3e5---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----273d6739d3e5--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----273d6739d3e5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----273d6739d3e5--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----273d6739d3e5--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----273d6739d3e5--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----273d6739d3e5--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----273d6739d3e5--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----273d6739d3e5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@connor.anderson_42477?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@connor.anderson_42477?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Connor Anderson"}, {"url": "https://medium.com/@connor.anderson_42477/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "71 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F959707fb5bc8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaster-your-hypothesis-test-a-tutorial-on-power-bootstrapping-sample-selection-and-outcome-273d6739d3e5&user=Connor+Anderson&userId=959707fb5bc8&source=post_page-959707fb5bc8--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7037504c591b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaster-your-hypothesis-test-a-tutorial-on-power-bootstrapping-sample-selection-and-outcome-273d6739d3e5&newsletterV3=959707fb5bc8&newsletterV3Id=7037504c591b&user=Connor+Anderson&userId=959707fb5bc8&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}