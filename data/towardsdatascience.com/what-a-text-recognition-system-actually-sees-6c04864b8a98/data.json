{"url": "https://towardsdatascience.com/what-a-text-recognition-system-actually-sees-6c04864b8a98", "time": 1682994487.638735, "path": "towardsdatascience.com/what-a-text-recognition-system-actually-sees-6c04864b8a98/", "webpage": {"metadata": {"title": "What a text recognition system actually sees | by Harald Scheidl | Towards Data Science", "h1": "What a text recognition system actually sees", "description": "Some insights into the neural network \u201cblack box\u201d of a text recognition system"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/2326a3487cd5", "anchor_text": "modern text recognition systems", "paragraph_index": 0}, {"url": "https://harald-scheidl.medium.com/d2f5a7866135", "anchor_text": "shift variance of the pooling layers", "paragraph_index": 12}, {"url": "https://githubharald.github.io", "anchor_text": "https://githubharald.github.io", "paragraph_index": 16}], "all_paragraphs": ["The performance of modern text recognition systems implemented as neural networks is amazing. They can be trained on medieval documents and are able to read them and only make very few mistakes. Such tasks would be very difficult for most of us: look at Fig. 1 and give it a try!", "How do these systems actually work? At which parts in the image do these systems look at to identify the text? Do they exploit some clever patterns? Or do they cheat by using short-cuts like dataset-specific patterns? In the following text we\u2019ll look at two experiments to get a better understanding of what\u2019s happening inside such a neural network.", "For our first experiment, we ask the following question: given an input image and the correct class (ground-truth text), which pixels in the input image vote for and which vote against the correct text?", "We can compute the influence of a single pixel on the result by comparing the score of the correct class in two scenarios:", "By comparing these two scores, we can see if a pixel votes for or against the correct class. Fig. 2 shows the relevance of the pixels in an image with the ground-truth text \u201care\u201d. Red pixels vote for the text \u201care\u201d, blue pixels vote against it.", "We can now look at some critical regions (dark red, dark blue) to get an idea which image features are important for the neural network to get to its decision:", "Let\u2019s investigate if our assumptions 1. \u2014 3. are correct, and what the meaning of 4. is, by changing some pixel values inside these regions. In Fig. 3 the original and changed images, the score for the correct text, and the recognized text are shown. The first row shows the original image with a score of 0.87 for the text \u201care\u201d.", "To conclude our first experiment: the system has learned some meaningful text features like the superscript dot to identify the character \u201ci\u201d. But it has also learned features which do not make any sense to us. However, these features still help the system to recognize text in the dataset it was trained on: these features let the system take (easy) short-cuts instead of learning real text features.", "A translation invariant text recognition system is able to correctly recognize text independent of its position in the image. Fig. 4 shows three different horizontal translations of a text. We would like the neural network to be able to recognize \u201cto\u201d in all three positions.", "Let\u2019s again take our image from the first experiment containing the text \u201care\u201d. We will shift it pixel by pixel to the right and look at the score of the correct class and also at the predicted text as shown in Fig. 5.", "As can be seen, the system is not translation invariant. The original image has a score of 0.87. By shifting the image one pixel to the right, the score decreases to 0.53. Shifting it one more pixel to the right decreases the score to 0.28. The neural network is able to recognize the correct text until a translation of four pixels. Afterwards the system occasionally outputs the wrong result, starting with \u201caare\u201d five pixels to the right.", "The neural network was trained on the IAM dataset in which all words are left-aligned. Therefore the system has never learned how to handle images with white-space on the left. As obvious as ignoring the white-space might be for us \u2014 it is an ability that has to be learned. And if the system never was forced to handle such situations \u2014 why should it learn it at all?", "Another interesting property of the score is the periodicity of four pixels. These four pixels equal the downsizing factor of the convolutional network from a width of 128 pixels to a sequence length of 32. The behavior is caused by the shift variance of the pooling layers.", "A text recognition system learns whatever is helpful to increase the accuracy in the dataset it is trained on. If some random looking pixels help to identify the correct class, then the system will use them. And if the system only has to handle left-aligned text, then it will not learn any other type of alignment. Sometimes, it learns features which also we humans find useful for reading and which generalize to a wide range of text styles, but sometimes it learns short-cuts which are only useful for one specific dataset.", "We have to provide diverse data (e.g. mix multiple datasets or use data augmentation) to ensure that the system really learns text features and not just some cheats.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Interested in computer vision, deep learning, C++ and Python. https://githubharald.github.io"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F6c04864b8a98&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-a-text-recognition-system-actually-sees-6c04864b8a98&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-a-text-recognition-system-actually-sees-6c04864b8a98&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-a-text-recognition-system-actually-sees-6c04864b8a98&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-a-text-recognition-system-actually-sees-6c04864b8a98&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----6c04864b8a98--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6c04864b8a98--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://harald-scheidl.medium.com/?source=post_page-----6c04864b8a98--------------------------------", "anchor_text": ""}, {"url": "https://harald-scheidl.medium.com/?source=post_page-----6c04864b8a98--------------------------------", "anchor_text": "Harald Scheidl"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5ecdb9e8b3fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-a-text-recognition-system-actually-sees-6c04864b8a98&user=Harald+Scheidl&userId=5ecdb9e8b3fc&source=post_page-5ecdb9e8b3fc----6c04864b8a98---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6c04864b8a98&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-a-text-recognition-system-actually-sees-6c04864b8a98&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6c04864b8a98&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-a-text-recognition-system-actually-sees-6c04864b8a98&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/2326a3487cd5", "anchor_text": "modern text recognition systems"}, {"url": "https://harald-scheidl.medium.com/d2f5a7866135", "anchor_text": "shift variance of the pooling layers"}, {"url": "https://towardsdatascience.com/2326a3487cd5", "anchor_text": "Article about text recognition model"}, {"url": "https://github.com/githubharald/SimpleHTR", "anchor_text": "Code of text recognition model"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----6c04864b8a98---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/ocr?source=post_page-----6c04864b8a98---------------ocr-----------------", "anchor_text": "Ocr"}, {"url": "https://medium.com/tag/neural-networks?source=post_page-----6c04864b8a98---------------neural_networks-----------------", "anchor_text": "Neural Networks"}, {"url": "https://medium.com/tag/deep-learning?source=post_page-----6c04864b8a98---------------deep_learning-----------------", "anchor_text": "Deep Learning"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----6c04864b8a98---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6c04864b8a98&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-a-text-recognition-system-actually-sees-6c04864b8a98&user=Harald+Scheidl&userId=5ecdb9e8b3fc&source=-----6c04864b8a98---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6c04864b8a98&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-a-text-recognition-system-actually-sees-6c04864b8a98&user=Harald+Scheidl&userId=5ecdb9e8b3fc&source=-----6c04864b8a98---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6c04864b8a98&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-a-text-recognition-system-actually-sees-6c04864b8a98&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6c04864b8a98--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F6c04864b8a98&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-a-text-recognition-system-actually-sees-6c04864b8a98&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----6c04864b8a98---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----6c04864b8a98--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----6c04864b8a98--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----6c04864b8a98--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----6c04864b8a98--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----6c04864b8a98--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----6c04864b8a98--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----6c04864b8a98--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----6c04864b8a98--------------------------------", "anchor_text": ""}, {"url": "https://harald-scheidl.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://harald-scheidl.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Harald Scheidl"}, {"url": "https://harald-scheidl.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.1K Followers"}, {"url": "https://githubharald.github.io", "anchor_text": "https://githubharald.github.io"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5ecdb9e8b3fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-a-text-recognition-system-actually-sees-6c04864b8a98&user=Harald+Scheidl&userId=5ecdb9e8b3fc&source=post_page-5ecdb9e8b3fc--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb95d23199e63&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhat-a-text-recognition-system-actually-sees-6c04864b8a98&newsletterV3=5ecdb9e8b3fc&newsletterV3Id=b95d23199e63&user=Harald+Scheidl&userId=5ecdb9e8b3fc&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}