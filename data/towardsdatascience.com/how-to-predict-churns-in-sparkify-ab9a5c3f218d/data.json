{"url": "https://towardsdatascience.com/how-to-predict-churns-in-sparkify-ab9a5c3f218d", "time": 1683010808.2775512, "path": "towardsdatascience.com/how-to-predict-churns-in-sparkify-ab9a5c3f218d/", "webpage": {"metadata": {"title": "How to predict churns in Sparkify | by Angela Heumann | Towards Data Science", "h1": "How to predict churns in Sparkify", "description": "Sparkify is a popular digital music service similar to Spotify or Pandora created by Udacity. The goal of the project is to predict which users are at risk to churn cancelling their service. If we\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/angelaheumann/Sparkify-Capstone", "anchor_text": "here", "paragraph_index": 14}], "all_paragraphs": ["Sparkify is a popular digital music service similar to Spotify or Pandora created by Udacity. The goal of the project is to predict which users are at risk to churn cancelling their service. If we can identify these users before they leave, we can offer them discounts or incentives.", "Different page actions a user can do, are, for example, playing a song, like a song, dislike a song, logging in, logging out, add a friend or at worst case cancel the service. What we know about the user is the id, the first and last name, the gender, if they are logging in or not, if they are a paid user or not, their location, the timestamp of their registration as well as and which browser the user is using. What we know about the songs they are listening to, is the name of the artist and the length of the song.", "Part I: Example of a user story", "Let\u2019s take a single user to better understand the interactions a user can do. Let\u2019s investigate three actions of user id 2, Natalee Charles from Raleigh, NC.", "The first action is the first action within the session: visiting the home page. The second action is listening to a song which allows us to gather information about the song itself: artist, song and length. The third action is listening to a different song (Carla Bruni: l\u2019antilope). The last action of the whole session is adding a friend.", "The definition used for a user who churned is a user who submitted a cancellation confirmation. We need to find features which represent a big difference between the two user types: a user who churned and a user who don\u2019t churn. The difficulty is that the data contains a lot of more churns (233290) than non-churns (44864), that means, that we have to find features who are comparable despite unbalanced data.", "The first idea is to compare the item by session because the duration of a session is not influenced by the number of users, only by the number of items in a session. The most important item of the music service platform is the playing of a song. This leads to the decision to compare the number of Next Songs between the two user types. Churns are listening at maximum to 708 songs while non-churns are listening up to 992 songs. The mean number of songs listened to is about 70 for a churn and 105 for a non-churn. This is a good feature because we have seen a lot of differences for both user types.", "The second idea is to inspect the proportional difference between the two user types. There is already a user type definition in the data, the level (a free/paid user). We want to investigate if the proportional distribution differs for churns or non-churns. We can see that non-churns have a greater proportion of paid users than churns and churns have a greater proportion of free users. This is a great feature, too, because a free user is more likely to churn than a paid in this case.", "We use logistic regression to find the best model who predicts churns. Because we have a binary decision, we use the BinaryClassificationEvaluator to evaluate the results. Since the churned users are a fairly small subset, we use f1 score (in combination with accuracy) as the metric to optimize. We use three different input types to test if for example weighting the data before training improves the f1 score or not. Another test is removing the duplicates.", "In the first round, the best accuracy and f measure was achieved by all data and weighted data. They both achieved the same result. But the unique data set achieved the best f measure of the label 1.", "In the second round, we used the best threshold based on the maximum of the f score by the threshold. The total accuracy and f measure dropped but the f measure of label 1 raised. The best f 1 measure (label 1) was achieved by the unique data set and the best total accuracy and f measure by the other two data sets.", "The last round (parameter tuning) used different parameters to optimize the average metrics. After parameter tuning, the unique data set predicted 597 of 317 expected label 1 values with an accuracy on the test data of 0.5754 while all data set predicted 134437 of 73990 expected label 1 value with an accuracy of 0.7786 on the test data.", "The best model is the one which uses all data of the features we have chosen. The total accuracy and f score are less than of other tested models but it delivers the best prediction of label 1 values which is the main use case of the model.", "Further improvements could be made by using other algorithms e.g. Random Forest Classifier or Gradient-Boosted Tree Classifier. Another source of improvement could be more features which improve the prediction of the final model.", "To see more about this project, see the link to my Github available here.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fab9a5c3f218d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-predict-churns-in-sparkify-ab9a5c3f218d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-predict-churns-in-sparkify-ab9a5c3f218d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-predict-churns-in-sparkify-ab9a5c3f218d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-predict-churns-in-sparkify-ab9a5c3f218d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ab9a5c3f218d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ab9a5c3f218d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@angela.heumann?source=post_page-----ab9a5c3f218d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@angela.heumann?source=post_page-----ab9a5c3f218d--------------------------------", "anchor_text": "Angela Heumann"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff666de798d47&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-predict-churns-in-sparkify-ab9a5c3f218d&user=Angela+Heumann&userId=f666de798d47&source=post_page-f666de798d47----ab9a5c3f218d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fab9a5c3f218d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-predict-churns-in-sparkify-ab9a5c3f218d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fab9a5c3f218d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-predict-churns-in-sparkify-ab9a5c3f218d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@maltewingen?utm_source=medium&utm_medium=referral", "anchor_text": "Malte Wingen"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://github.com/angelaheumann/Sparkify-Capstone", "anchor_text": "here"}, {"url": "https://medium.com/tag/udacity?source=post_page-----ab9a5c3f218d---------------udacity-----------------", "anchor_text": "Udacity"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ab9a5c3f218d---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/spark?source=post_page-----ab9a5c3f218d---------------spark-----------------", "anchor_text": "Spark"}, {"url": "https://medium.com/tag/nanodegree?source=post_page-----ab9a5c3f218d---------------nanodegree-----------------", "anchor_text": "Nanodegree"}, {"url": "https://medium.com/tag/logistic-regression?source=post_page-----ab9a5c3f218d---------------logistic_regression-----------------", "anchor_text": "Logistic Regression"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fab9a5c3f218d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-predict-churns-in-sparkify-ab9a5c3f218d&user=Angela+Heumann&userId=f666de798d47&source=-----ab9a5c3f218d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fab9a5c3f218d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-predict-churns-in-sparkify-ab9a5c3f218d&user=Angela+Heumann&userId=f666de798d47&source=-----ab9a5c3f218d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fab9a5c3f218d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-predict-churns-in-sparkify-ab9a5c3f218d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ab9a5c3f218d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fab9a5c3f218d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-predict-churns-in-sparkify-ab9a5c3f218d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ab9a5c3f218d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ab9a5c3f218d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ab9a5c3f218d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ab9a5c3f218d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ab9a5c3f218d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ab9a5c3f218d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ab9a5c3f218d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ab9a5c3f218d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ab9a5c3f218d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@angela.heumann?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@angela.heumann?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Angela Heumann"}, {"url": "https://medium.com/@angela.heumann/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "17 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff666de798d47&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-predict-churns-in-sparkify-ab9a5c3f218d&user=Angela+Heumann&userId=f666de798d47&source=post_page-f666de798d47--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Ff666de798d47%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-predict-churns-in-sparkify-ab9a5c3f218d&user=Angela+Heumann&userId=f666de798d47&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}