{"url": "https://towardsdatascience.com/predicting-weekly-hotel-cancellations-with-xgbregressor-d73eb74a8624", "time": 1683014535.0249531, "path": "towardsdatascience.com/predicting-weekly-hotel-cancellations-with-xgbregressor-d73eb74a8624/", "webpage": {"metadata": {"title": "Predicting Weekly Hotel Cancellations with XGBRegressor | by Michael Grogan | Towards Data Science", "h1": "Predicting Weekly Hotel Cancellations with XGBRegressor", "description": "XGBoost is most commonly used for classification or regression-based problems, whereby features are incorporated into the model to predict an outcome of interest. That said, XGBoost can also be used\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.sciencedirect.com/science/article/pii/S2352340918315191", "anchor_text": "Antonio, Almeida and Nunes (2019): Hotel booking demand datasets", "paragraph_index": 2}, {"url": "https://github.com/dmlc/xgboost/issues/357", "anchor_text": "tree-based model", "paragraph_index": 5}, {"url": "https://machinelearningmastery.com/tune-number-size-decision-trees-xgboost-python/", "anchor_text": "number of trees", "paragraph_index": 11}, {"url": "https://xgboost.readthedocs.io/en/latest/parameter.html", "anchor_text": "\u2018reg:squarederror\u2019", "paragraph_index": 11}, {"url": "https://github.com/MGCodesandStats/hotel-cancellations", "anchor_text": "here", "paragraph_index": 24}, {"url": "https://machinelearningmastery.com/xgboost-for-time-series-forecasting/", "anchor_text": "Machine Learning Mastery", "paragraph_index": 25}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com", "paragraph_index": 28}], "all_paragraphs": ["XGBoost is most commonly used for classification or regression-based problems, whereby features are incorporated into the model to predict an outcome of interest.", "That said, XGBoost can also be used for time series forecasting. This is done by using lags of the time series of interest as separate features in the model. Let\u2019s see how XGBRegressor can be used to help us predict hotel cancellations.", "The below analysis is based on data from Antonio, Almeida and Nunes (2019): Hotel booking demand datasets.", "The purpose of building a time series forecasting model with XGBoost is to allow the hotel in question to predict the number of hotel cancellations on a weekly basis.", "The data is first split into training and validation partitions:", "Given that we are working with a tree-based model, the features are not normalized with MinMaxScaler under this example.", "A lookback period is then defined for the model, i.e. how many timesteps do we wish for the model to \u201clook back\u201d when forecasting one-step ahead?", "To start off, a lookback period of 5 will be used for this purpose. Depending on the accuracy as measured by the RMSE (root mean squared error), the lookback period can be modified as appropriate.", "Here is a sample of the X_train output:", "An XGBRegressor model is defined as follows:", "Here are the defined model parameters:", "As we can see from the above, there are numerous model parameters that could be modified in training the XGBRegressor. However, n_estimators is set to 1000 in this instance. This defines the number of trees in the XGBoost model.The objective is set to \u2018reg:squarederror\u2019, i.e. a regression with squared loss which penalizes errors on extreme values more heavily.", "The model is trained across both the training and validation sets:", "The training and validation sets (predicted and actual) are reshaped accordingly:", "The predictions are now compared with the actual cancellations on an RMSE (root mean squared error) basis.", "With a mean of 109 cancellations per week across the validation set (Y_val), the RMSE comes in at 50.14 across the validation set.", "We see that the RMSE for the training set is almost 0, but this is not being considered as a benchmark for model performance. After all, predicting data that the model has already been trained on is a pointless exercise.", "An LSTM model was also run on the above data using a lookback period of 5.", "The obtained RMSE is as follows:", "In this regard, the RMSE when using the LSTM model is lower than for XGBoost, which indicates that LSTM did a slightly better job at forecasting weekly hotel cancellations. However, XGBoost still showed reasonably good performance at predicting weekly cancellations.", "One should note that RMSE penalizes errors on more extreme values more heavily. For instance, if cancellations happen to be much higher than normal in a particular week and the model prediction significantly underestimates this, then this will result in a higher RMSE.", "For reference, the mean absolute error came in slightly lower at 38 when using XGBRegressor, indicating that the model performed better when forecasting less extreme values.", "In this example, we have seen:", "Many thanks for your time, and any questions or feedback is greatly appreciated.", "You can find the Jupyter Notebook for this example here.", "Additionally, I highly recommend the following Machine Learning Mastery tutorial for further insights into the use of XGBRegressor.", "Disclaimer: This article is written on an \u201cas is\u201d basis and without warranty. It was written with the intention of providing an overview of data science concepts, and should not be interpreted as any sort of professional advice. The author has no relationship with any third-parties mentioned in this article.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Science Consultant with expertise in economics, time series analysis, and Bayesian methods | michael-grogan.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fd73eb74a8624&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-weekly-hotel-cancellations-with-xgbregressor-d73eb74a8624&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-weekly-hotel-cancellations-with-xgbregressor-d73eb74a8624&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-weekly-hotel-cancellations-with-xgbregressor-d73eb74a8624&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-weekly-hotel-cancellations-with-xgbregressor-d73eb74a8624&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----d73eb74a8624--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d73eb74a8624--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----d73eb74a8624--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----d73eb74a8624--------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-weekly-hotel-cancellations-with-xgbregressor-d73eb74a8624&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178----d73eb74a8624---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd73eb74a8624&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-weekly-hotel-cancellations-with-xgbregressor-d73eb74a8624&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd73eb74a8624&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-weekly-hotel-cancellations-with-xgbregressor-d73eb74a8624&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/users/yuri_b-2216431/", "anchor_text": "Yuri_B"}, {"url": "https://pixabay.com/illustrations/space-rocket-night-cartoon-3262811/", "anchor_text": "Pixabay"}, {"url": "https://www.sciencedirect.com/science/article/pii/S2352340918315191", "anchor_text": "Antonio, Almeida and Nunes (2019): Hotel booking demand datasets"}, {"url": "https://github.com/dmlc/xgboost/issues/357", "anchor_text": "tree-based model"}, {"url": "https://machinelearningmastery.com/tune-number-size-decision-trees-xgboost-python/", "anchor_text": "number of trees"}, {"url": "https://xgboost.readthedocs.io/en/latest/parameter.html", "anchor_text": "\u2018reg:squarederror\u2019"}, {"url": "https://github.com/MGCodesandStats/hotel-cancellations", "anchor_text": "here"}, {"url": "https://machinelearningmastery.com/xgboost-for-time-series-forecasting/", "anchor_text": "Machine Learning Mastery"}, {"url": "https://medium.com/tag/data-science?source=post_page-----d73eb74a8624---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----d73eb74a8624---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/time-series?source=post_page-----d73eb74a8624---------------time_series-----------------", "anchor_text": "Time Series"}, {"url": "https://medium.com/tag/gradient-boosting?source=post_page-----d73eb74a8624---------------gradient_boosting-----------------", "anchor_text": "Gradient Boosting"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd73eb74a8624&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-weekly-hotel-cancellations-with-xgbregressor-d73eb74a8624&user=Michael+Grogan&userId=eec017a8b178&source=-----d73eb74a8624---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd73eb74a8624&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-weekly-hotel-cancellations-with-xgbregressor-d73eb74a8624&user=Michael+Grogan&userId=eec017a8b178&source=-----d73eb74a8624---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd73eb74a8624&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-weekly-hotel-cancellations-with-xgbregressor-d73eb74a8624&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d73eb74a8624--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fd73eb74a8624&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-weekly-hotel-cancellations-with-xgbregressor-d73eb74a8624&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----d73eb74a8624---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----d73eb74a8624--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----d73eb74a8624--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----d73eb74a8624--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----d73eb74a8624--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----d73eb74a8624--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----d73eb74a8624--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----d73eb74a8624--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----d73eb74a8624--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://mgcodesandstats.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.5K Followers"}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-weekly-hotel-cancellations-with-xgbregressor-d73eb74a8624&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3c6e2607915&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-weekly-hotel-cancellations-with-xgbregressor-d73eb74a8624&newsletterV3=eec017a8b178&newsletterV3Id=3c6e2607915&user=Michael+Grogan&userId=eec017a8b178&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}