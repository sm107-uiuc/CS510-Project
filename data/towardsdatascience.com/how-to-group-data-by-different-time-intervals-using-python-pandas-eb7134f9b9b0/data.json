{"url": "https://towardsdatascience.com/how-to-group-data-by-different-time-intervals-using-python-pandas-eb7134f9b9b0", "time": 1683013759.718229, "path": "towardsdatascience.com/how-to-group-data-by-different-time-intervals-using-python-pandas-eb7134f9b9b0/", "webpage": {"metadata": {"title": "How to group data by time intervals in Python Pandas? | by Ankit Goel | Towards Data Science", "h1": "How to group data by time intervals in Python Pandas?", "description": "One-liners to combine Time-Series data into different intervals like based on each hour, week, or a month using Python Pandas."}, "outgoing_paragraph_urls": [{"url": "https://data.worldbank.org/", "anchor_text": "World Bank Open data", "paragraph_index": 2}, {"url": "https://datacatalog.worldbank.org/dataset/crowdsourced-price-data-collection-pilot", "anchor_text": "Crowdsourced Price Data Collection Pilot", "paragraph_index": 2}, {"url": "https://colab.research.google.com/drive/1Wwmz8Z9VH2r5KnoXzeLEtKNzLcAAIp2u?usp=sharing", "anchor_text": "Google Colab Implementation", "paragraph_index": 3}, {"url": "https://github.com/ankitgoel1602/data-science/tree/master/data-analysis/pandas-timeseries", "anchor_text": "Github Repository", "paragraph_index": 3}, {"url": "https://github.com/ankitgoel1602/data-science/blob/master/data-analysis/pandas-timeseries/arg-crowdsourcedpdcpilot02_final_obs_all_clean.csv", "anchor_text": "Dataset", "paragraph_index": 3}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.resample.html", "anchor_text": "resample()", "paragraph_index": 5}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Grouper.html", "anchor_text": "grouper()", "paragraph_index": 16}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.resample.html", "anchor_text": "resample()", "paragraph_index": 22}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Grouper.html", "anchor_text": "grouper()", "paragraph_index": 22}, {"url": "https://towardsdatascience.com/pandas-put-away-novice-data-analyst-status-part-1-7e1f0107dae0", "anchor_text": "Pandas: Put Away Novice Data Analyst Status", "paragraph_index": 23}, {"url": "http://www.linkedin.com/in/ankit-goel-9b2b2037", "anchor_text": "www.linkedin.com/in/ankit-goel-9b2b2037", "paragraph_index": 26}], "all_paragraphs": ["If you have ever dealt with Time-Series data analysis, you would have come across these problems for sure \u2014", "In this article, you will learn about how you can solve these problems with just one-line of code using only 2 different Pandas API\u2019s i.e. resample() and Grouper().", "As we know, the best way to learn something is to start applying it. So, I am going to use a sample time-series dataset provided by World Bank Open data and is related to the crowd-sourced price data collected from 15 countries. For more details about the data, refer Crowdsourced Price Data Collection Pilot. For this exercise, we are going to use data collected for Argentina.", "\ud83d\udcda Resources: Google Colab Implementation | Github Repository | Dataset \ud83d\udcda", "This data is collected by different contributors who participated in the survey conducted by the World Bank in the year 2015. The basic idea of the survey was to collect prices for different goods and services in different countries. We are going to use only a few columns from the dataset for the demo purposes \u2014", "Pandas provides an API named as resample() which can be used to resample the data into different intervals. Let\u2019s see a few examples of how we can use this \u2014", "Let\u2019s say we need to find how much amount was added by a contributor in an hour, we can simply do so using \u2014", "Here is what we are doing here \u2014", "By default, the time interval starts from the starting of the hour i.e. the 0th minute like 18:00, 19:00, and so on. We can change that to start from different minutes of the hour using offset attribute like \u2014", "Please note, you need to have Pandas version > 1.10 for the above command to work.", "In this example, we will see how we can resample the data based on each week.", "By default, the week starts from Sunday, we can change that to start from different days i.e. let\u2019s say if we would like to combine based on the week starting on Monday, we can do so using \u2014", "This is similar to what we have done in the examples before.", "One observation to note here is that the output labels for each month are based on the last day of the month, we can use the \u2018MS\u2019 frequency to start it from 1st day of the month i.e. instead of 2015\u201312\u201331 it would be 2015\u201312\u201301 \u2014", "Often we need to apply different aggregations on different columns like in our example we might need to find \u2014", "We can do so in a one-line by using agg() on the resampled data. Let\u2019s see how we can do it \u2014", "In the above examples, we re-sampled the data and applied aggregations on it. What if we would like to group data by other fields in addition to time-interval? Pandas provide an API known as grouper() which can help us to do that.", "In this section, we will see how we can group data on different fields and analyze them for different intervals.", "Let\u2019s say we need to analyze data based on store type for each month, we can do so using \u2014", "Let\u2019s understand how I did it \u2014", "As we did in the last example, we can do a similar thing for item_name as well.", "We can apply aggregation on multiple fields similarly the way we did using resample(). The only thing which is different here is that the data would be grouped by store_type as well and also, we can do NamedAggregation (assign a name to each aggregation) on groupby object which doesn\u2019t work for re-sample.", "I hope this article will help you to save time in analyzing time-series data. I recommend you to check out the documentation for the resample() and grouper() API to know about other things you can do with them.", "If you would like to learn about other Pandas API\u2019s which can help you with data analysis tasks then do checkout the article Pandas: Put Away Novice Data Analyst Status where I explained different things that you can do with Pandas.", "Let me know in the comments or ping me on LinkedIn if you are facing any problems with using Pandas or Data Analysis in general. We can try to solve them together. That\u2019s all for now, see you in the next article.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Recently developed my interest in Data Science and exploring the field to see what all we can achieve. Linkedin- www.linkedin.com/in/ankit-goel-9b2b2037"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Feb7134f9b9b0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-group-data-by-different-time-intervals-using-python-pandas-eb7134f9b9b0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-group-data-by-different-time-intervals-using-python-pandas-eb7134f9b9b0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-group-data-by-different-time-intervals-using-python-pandas-eb7134f9b9b0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-group-data-by-different-time-intervals-using-python-pandas-eb7134f9b9b0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----eb7134f9b9b0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----eb7134f9b9b0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@ankitgoel16?source=post_page-----eb7134f9b9b0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ankitgoel16?source=post_page-----eb7134f9b9b0--------------------------------", "anchor_text": "Ankit Goel"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F76a91f429f35&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-group-data-by-different-time-intervals-using-python-pandas-eb7134f9b9b0&user=Ankit+Goel&userId=76a91f429f35&source=post_page-76a91f429f35----eb7134f9b9b0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Feb7134f9b9b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-group-data-by-different-time-intervals-using-python-pandas-eb7134f9b9b0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Feb7134f9b9b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-group-data-by-different-time-intervals-using-python-pandas-eb7134f9b9b0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@aronvisuals?utm_source=medium&utm_medium=referral", "anchor_text": "Aron Visuals"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://data.worldbank.org/", "anchor_text": "World Bank Open data"}, {"url": "https://datacatalog.worldbank.org/dataset/crowdsourced-price-data-collection-pilot", "anchor_text": "Crowdsourced Price Data Collection Pilot"}, {"url": "https://colab.research.google.com/drive/1Wwmz8Z9VH2r5KnoXzeLEtKNzLcAAIp2u?usp=sharing", "anchor_text": "Google Colab Implementation"}, {"url": "https://github.com/ankitgoel1602/data-science/tree/master/data-analysis/pandas-timeseries", "anchor_text": "Github Repository"}, {"url": "https://github.com/ankitgoel1602/data-science/blob/master/data-analysis/pandas-timeseries/arg-crowdsourcedpdcpilot02_final_obs_all_clean.csv", "anchor_text": "Dataset"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.resample.html", "anchor_text": "resample()"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases", "anchor_text": "Pandas Time Frequencies"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Grouper.html", "anchor_text": "grouper()"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.resample.html", "anchor_text": "resample()"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Grouper.html", "anchor_text": "grouper()"}, {"url": "https://towardsdatascience.com/pandas-put-away-novice-data-analyst-status-part-1-7e1f0107dae0", "anchor_text": "Pandas: Put Away Novice Data Analyst Status"}, {"url": "https://medium.com/tag/programming?source=post_page-----eb7134f9b9b0---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/data-science?source=post_page-----eb7134f9b9b0---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----eb7134f9b9b0---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/pandas?source=post_page-----eb7134f9b9b0---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----eb7134f9b9b0---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Feb7134f9b9b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-group-data-by-different-time-intervals-using-python-pandas-eb7134f9b9b0&user=Ankit+Goel&userId=76a91f429f35&source=-----eb7134f9b9b0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Feb7134f9b9b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-group-data-by-different-time-intervals-using-python-pandas-eb7134f9b9b0&user=Ankit+Goel&userId=76a91f429f35&source=-----eb7134f9b9b0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Feb7134f9b9b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-group-data-by-different-time-intervals-using-python-pandas-eb7134f9b9b0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----eb7134f9b9b0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Feb7134f9b9b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-group-data-by-different-time-intervals-using-python-pandas-eb7134f9b9b0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----eb7134f9b9b0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----eb7134f9b9b0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----eb7134f9b9b0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----eb7134f9b9b0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----eb7134f9b9b0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----eb7134f9b9b0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----eb7134f9b9b0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----eb7134f9b9b0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----eb7134f9b9b0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ankitgoel16?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ankitgoel16?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Ankit Goel"}, {"url": "https://medium.com/@ankitgoel16/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "130 Followers"}, {"url": "http://www.linkedin.com/in/ankit-goel-9b2b2037", "anchor_text": "www.linkedin.com/in/ankit-goel-9b2b2037"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F76a91f429f35&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-group-data-by-different-time-intervals-using-python-pandas-eb7134f9b9b0&user=Ankit+Goel&userId=76a91f429f35&source=post_page-76a91f429f35--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff84a21a690ae&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-group-data-by-different-time-intervals-using-python-pandas-eb7134f9b9b0&newsletterV3=76a91f429f35&newsletterV3Id=f84a21a690ae&user=Ankit+Goel&userId=76a91f429f35&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}