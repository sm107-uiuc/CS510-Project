{"url": "https://towardsdatascience.com/how-to-write-a-jupyter-notebook-extension-a63f9578a38c", "time": 1682994123.282173, "path": "towardsdatascience.com/how-to-write-a-jupyter-notebook-extension-a63f9578a38c/", "webpage": {"metadata": {"title": "How to Write a Jupyter Notebook Extension | by Will Koehrsen | Towards Data Science", "h1": "How to Write a Jupyter Notebook Extension", "description": "Jupyter Notebook Extensions are simple add-ons which can significantly improve your productivity in the notebook environment. They automate tedious tasks such as formatting code or add features like\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/ipython-contrib/jupyter_contrib_nbextensions", "anchor_text": "numerous existing extensions", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/jupyter-notebook-extensions-517fa69d2231", "anchor_text": "this article.", "paragraph_index": 1}, {"url": "https://github.com/WillKoehrsen/jupyter-notebook-extensions/tree/master/default_cell", "anchor_text": "available on GitHub", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/jupyter-notebook-extensions-517fa69d2231", "anchor_text": "check out this article", "paragraph_index": 3}, {"url": "https://github.com/ipython-contrib/jupyter_contrib_nbextensions", "anchor_text": "other extensions", "paragraph_index": 4}, {"url": "https://stackoverflow.com/questions/36194865/configure-a-first-cell-by-default-in-jupyter-notebooks", "anchor_text": "This Stack Overflow", "paragraph_index": 4}, {"url": "https://jupyter-contrib-nbextensions.readthedocs.io/en/latest/internals.html", "anchor_text": "3 parts (at minimum) to any Jupyter Notebook extension", "paragraph_index": 5}, {"url": "https://en.wikipedia.org/wiki/YAML", "anchor_text": "YAML (YAML Ain\u2019t Markup Language)", "paragraph_index": 12}, {"url": "https://tomtunguz.com/javascript/", "anchor_text": "language of the web", "paragraph_index": 16}, {"url": "https://github.com/ipython-contrib/jupyter_contrib_nbextensions/tree/master/src/jupyter_contrib_nbextensions/nbextensions/varInspector", "anchor_text": "Variable Inspector", "paragraph_index": 25}, {"url": "https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet", "anchor_text": "markdown file", "paragraph_index": 26}, {"url": "http://twitter.com/@koehrsen_will", "anchor_text": "@koehrsen_will", "paragraph_index": 34}, {"url": "https://willk.online", "anchor_text": "willk.online", "paragraph_index": 34}], "all_paragraphs": ["Jupyter Notebook Extensions are simple add-ons which can significantly improve your productivity in the notebook environment. They automate tedious tasks such as formatting code or add features like creating a table of contents. While there are numerous existing extensions, we can also write our own extension to do extend the functionality of Jupyter.", "In this article, we\u2019ll see how to write a Jupyter Notebook extension that adds a default cell to the top of each new notebook which is useful when there are libraries you find yourself importing into every notebook. If you want the background on extensions, then check out this article. The complete code for this extension is available on GitHub.", "The final outcome of the Default cell extension is shown below:", "(If you don\u2019t yet have Jupyter Extensions, check out this article or just run the following code in a command prompt: pip install jupyter_contrib_nbextensions && jupyter contrib nbextensions install and then start a new notebook server and navigate to the extensions tab).", "Unfortunately, there\u2019s not much official documentation on writing your own extension. My tactic was to read the other extensions, copy and paste copiously, and experiment until I figured it out. This Stack Overflow question and answer provided the basic code for this extension.", "There are 3 parts (at minimum) to any Jupyter Notebook extension:", "(We can also have more functions in other files or css for styling).", "These 3 files should live in a single directory which we\u2019ll call default_cell . This folder, in turn, needs to be in the nbextensions subdirectory of the jupyter_contrib_extensions library (what you installed with pip. To find the location of a library installed with pip run pip view package. )", "So the file structure looks like (with nbextensions as shown above):", "When you run jupyter notebook, Jupyter looks in this location for extensions, and shows them on the extensions tab on the server:", "When you make a change to the extension files while developing and you want to see the effects in a Jupyter Notebook,you need to run the command jupyter contrib nbextensions install to rewrite the Jupyter config files. Then, restart the notebook server to see your changes.", "With the details out of the way, let\u2019s go through the three files we need.", "YAML (YAML Ain\u2019t Markup Language) is a human-readable standard for writing configuration and header files. The YAML file describes the extension to the Jupyter Extensions Configurator to be rendered on the extensions tab.", "This is a fairly easy file to copy + paste and modify to our needs.", "This is then rendered nicely on the NBExtensions tab in the notebook:", "The compatibility indicates the versions of Jupyter for which the extension works. I just added all of them (3.x \u2014 6.x) and it seemed to work fine!", "This is the heart of the application where the actual logic for the extension lives. Jupyter Notebooks are run in the browser, which means that extensions must be written in Javascript, the language of the web.", "It can be a little difficult to figure out what commands to use to make the notebook do what you want. One way to experiment is using the Chrome developer tools (cntrl + shift + i on Windows) or right-click > inspect.", "With the developer tools open, we can use the console tab to run commands.", "Try opening the developer tools in a Jupyter Notebook and play with options that start with Jupyter.notebook. Any commands you enter will have to be in Javascript. An example of this behavior can be seen in the clip below. I open up the developer tools and then run a few commands to execute cells, insert a new cell, and select the previous cell.", "Developing the Javascript code required a lot of experimenting like this! It also helps to read the other extensions to figure out what you need to do.", "The most important part of the code is the add_cell function.", "This adds a code cell above the currently selected cell with the python code written in the parenthesis (in the set_text call). This is where the default code cell should be defined. The function then executes the cell and selects the one below.", "The load_ipython_extension function first checks the number of cells in the notebook. If there is only one cell \u2014 a new notebook \u2014 it calls the add_cell function which places the default cell at the top of the notebook.", "It then runs the defaultCellButton function which places a button on the Jupyter Notebook toolbar. We can use this button to add and run the default cell above the currently selected cell. This could be useful when we have an already started notebook and we want our normal imports.", "There is an almost unlimited number of tasks we could accomplish with Javascript in the browser. This is only a simple application, but there are many more complex Jupyter extensions (such as the Variable Inspector) that demonstrate more of the capabilities. We can also write applications in Javascript that call on Python scripts for even greater control.", "A readme markdown file should be familiar to anyone with even a little experience programming. Here is where we explain what our application does and how to use it. This is displayed on the extensions tab:", "(The actual code is pretty boring but for completeness, here it is)", "Once you have the three required files, your extension is complete.", "To see the extension working, make sure the default_cell directory is in the correct location, run jupyter contrib nbextensions install and start up a Jupyter Notebook server. If you navigate to the NBExtensions tab, you will be able to enable the extension (if you don\u2019t have the tab, open a notebook and got to Edit > nbextensions config).", "Start up a new notebook and see your extension at work:", "This extension isn\u2019t life-changing, but it might save you a few seconds!", "Part of the joy of gaining computer literacy is realizing that if you want to accomplish something on a computer, chances are that you probably can with the right tools and willingness to learn. This small example of making a Jupyter Notebook extension demonstrates that we are not limited by what we get out of the box. We just need a few lines of code to accomplish our goals.", "Hopefully, either this extension proves useful to you or inspires you to write your own. I have gotten a lot of use from extensions and am looking forward to seeing what else people can develop. Once you do develop an extension, share it so others can marvel at your code and benefit from your hard work.", "As always, I welcome feedback and constructive criticism. I can be reached on Twitter @koehrsen_will or through my personal website willk.online.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist at Cortex Intel, Data Science Communicator"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa63f9578a38c&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-write-a-jupyter-notebook-extension-a63f9578a38c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-write-a-jupyter-notebook-extension-a63f9578a38c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-write-a-jupyter-notebook-extension-a63f9578a38c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-write-a-jupyter-notebook-extension-a63f9578a38c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a63f9578a38c--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a63f9578a38c--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://williamkoehrsen.medium.com/?source=post_page-----a63f9578a38c--------------------------------", "anchor_text": ""}, {"url": "https://williamkoehrsen.medium.com/?source=post_page-----a63f9578a38c--------------------------------", "anchor_text": "Will Koehrsen"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe2f299e30cb9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-write-a-jupyter-notebook-extension-a63f9578a38c&user=Will+Koehrsen&userId=e2f299e30cb9&source=post_page-e2f299e30cb9----a63f9578a38c---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa63f9578a38c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-write-a-jupyter-notebook-extension-a63f9578a38c&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa63f9578a38c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-write-a-jupyter-notebook-extension-a63f9578a38c&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.pexels.com/photo/top-view-photo-of-seashore-1575836/", "anchor_text": "(Source)"}, {"url": "https://github.com/ipython-contrib/jupyter_contrib_nbextensions", "anchor_text": "numerous existing extensions"}, {"url": "https://towardsdatascience.com/jupyter-notebook-extensions-517fa69d2231", "anchor_text": "this article."}, {"url": "https://github.com/WillKoehrsen/jupyter-notebook-extensions/tree/master/default_cell", "anchor_text": "available on GitHub"}, {"url": "https://towardsdatascience.com/jupyter-notebook-extensions-517fa69d2231", "anchor_text": "check out this article"}, {"url": "https://github.com/ipython-contrib/jupyter_contrib_nbextensions", "anchor_text": "other extensions"}, {"url": "https://stackoverflow.com/questions/36194865/configure-a-first-cell-by-default-in-jupyter-notebooks", "anchor_text": "This Stack Overflow"}, {"url": "https://jupyter-contrib-nbextensions.readthedocs.io/en/latest/internals.html", "anchor_text": "3 parts (at minimum) to any Jupyter Notebook extension"}, {"url": "https://en.wikipedia.org/wiki/YAML", "anchor_text": "YAML (YAML Ain\u2019t Markup Language)"}, {"url": "https://tomtunguz.com/javascript/", "anchor_text": "language of the web"}, {"url": "https://github.com/ipython-contrib/jupyter_contrib_nbextensions/tree/master/src/jupyter_contrib_nbextensions/nbextensions/varInspector", "anchor_text": "Variable Inspector"}, {"url": "https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet", "anchor_text": "markdown file"}, {"url": "http://twitter.com/@koehrsen_will", "anchor_text": "@koehrsen_will"}, {"url": "https://willk.online", "anchor_text": "willk.online"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a63f9578a38c---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----a63f9578a38c---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/jupyter-notebook?source=post_page-----a63f9578a38c---------------jupyter_notebook-----------------", "anchor_text": "Jupyter Notebook"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----a63f9578a38c---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/education?source=post_page-----a63f9578a38c---------------education-----------------", "anchor_text": "Education"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa63f9578a38c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-write-a-jupyter-notebook-extension-a63f9578a38c&user=Will+Koehrsen&userId=e2f299e30cb9&source=-----a63f9578a38c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa63f9578a38c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-write-a-jupyter-notebook-extension-a63f9578a38c&user=Will+Koehrsen&userId=e2f299e30cb9&source=-----a63f9578a38c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa63f9578a38c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-write-a-jupyter-notebook-extension-a63f9578a38c&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a63f9578a38c--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa63f9578a38c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-write-a-jupyter-notebook-extension-a63f9578a38c&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a63f9578a38c---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a63f9578a38c--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a63f9578a38c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a63f9578a38c--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a63f9578a38c--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a63f9578a38c--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a63f9578a38c--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a63f9578a38c--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a63f9578a38c--------------------------------", "anchor_text": ""}, {"url": "https://williamkoehrsen.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://williamkoehrsen.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Will Koehrsen"}, {"url": "https://williamkoehrsen.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "38K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe2f299e30cb9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-write-a-jupyter-notebook-extension-a63f9578a38c&user=Will+Koehrsen&userId=e2f299e30cb9&source=post_page-e2f299e30cb9--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe7d4a87a913e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-write-a-jupyter-notebook-extension-a63f9578a38c&newsletterV3=e2f299e30cb9&newsletterV3Id=e7d4a87a913e&user=Will+Koehrsen&userId=e2f299e30cb9&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}