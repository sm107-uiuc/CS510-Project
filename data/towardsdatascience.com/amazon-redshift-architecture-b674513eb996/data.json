{"url": "https://towardsdatascience.com/amazon-redshift-architecture-b674513eb996", "time": 1683012530.962674, "path": "towardsdatascience.com/amazon-redshift-architecture-b674513eb996/", "webpage": {"metadata": {"title": "Amazon Redshift Architecture. Understanding the foundations of\u2026 | by Atharva Inamdar | Towards Data Science", "h1": "Amazon Redshift Architecture", "description": "Understanding the foundations of Redshift. This post looks at AWS redshift architecture and understanding the impact and benefit of each component."}, "outgoing_paragraph_urls": [{"url": "https://docs.aws.amazon.com/redshift/latest/mgmt/working-with-clusters.html#working-with-clusters-overview", "anchor_text": "see this", "paragraph_index": 9}], "all_paragraphs": ["Data Engineers or even analysts, it is important to understand the technology to utilise it fully and efficiently. In many cases, Redshift is seen as a traditional database like SQL Server and management is left to DBAs. I would argue that if Redshift best practices are followed, the role of dedicated DBA diminishes to occasional management and upkeep.", "In this post, we\u2019ll discover the architecture and understand the effect and impact each component has on queries.", "From 10,000 ft, Redshift appears like any other relational database with fairly standard SQL and entities like tables, views, stored procedures, and usual data types.", "We\u2019ll start with Tables as these are containers for persistent data storage and will allow us to dive vertically into the architecture. This is what Redshift looks like from 10,000 ft:", "Redshift is a clustered warehouse and each cluster can house multiple databases. As expected, each database contains multiple objects like tables, views, stored procedures, etc.", "Knowing that Redshift is a distributed and clustered service, it is logical to expect that the data tables are stored across multiple nodes.", "A node is a compute unit with dedicated CPUs, memory and disk. Redshift has two types of nodes: Leader and Compute. The Leader node manages data distribution and query execution across Compute nodes. Data is stored on Compute nodes only.", "To understand how Redshift distributes data, we need to know some details about compute nodes.", "Slice is logical partition for disk storage. Each node has multiple slices which allow parallel access and processing across slices on each node.", "The number of slices per node depends on the node instance types. Redshift currently offers 3 families of instances: Dense Compute(dc2), Dense Storage (ds2) , and Managed Storage(ra3). The slices can range from 2 per node to 16 per node depending on the instance family and instance type; see this for details. The objective of this concept is to distribute the workload of queries evenly across all nodes to leverage the parallel compute and increase efficiency. As such, the default behaviour is to distribute the data evenly across all slices on all nodes when it is loaded into a table as shown below.", "Each slice stores multiple tables in 1MB blocks. This system of slices and nodes achieves two objectives:", "One key feature of Redshift that influences the compute is the columnar storage of data. In addition to the architecture and design for query efficiency, the data itself is stored in a columnar format. The majority of analytical queries will utilise a small number of columns from a table for any aggregations. Without going into details, data is stored by columns rather than rows. This presents multiple advantages for Redshift.", "Disk I/O is reduced significantly as only the necessary data are accessed. This means the query performance is inversely correlated with the amount of data being accessed and the number of columns in a table does not factor into disk I/O cost. A query selecting 5 columns out of 100 column table only has to access 5% of the data block space.", "Each block of data contains values from a single column. This means the data type within each block is always the same. Redshift can apply specific and appropriate compression on each block increasing the amount of data being processed within the same disk and memory space. Using 1MB block size increases this efficiency in comparison with other databases which use several KB for each block.", "Overall, due to compression, the large block size and columnar storage, Redshift can process data in a highly efficient manner scaling with increasing data usage. Understanding this a database developer can write optimal queries avoiding select * as with OLTP databases.", "So far, data storage and management have shown significant benefits. Now it is time to consider management of queries and workloads on Redshift. Redshift is a data warehouse and is expected to be queried by multiple users concurrently and automation processes too. Workload Management (WLM) is a way to control the compute resource allocation to groups of queries or users. Through WLM, it is possible to prioritise certain workloads and ensure the stability of processes.", "WLM allows defining \u201cqueues\u201d with specific memory allocation, concurrency limits and timeouts. Each query is executed via one of the queues. When a query is submitted, Redshift will allocate it to a specific queue based on the user or query group. There are some default queues that cannot be modified such as for superuser, vacuum maintenance and short queries (<20sec). WLM queues are configurable, however, Amazon provides an alternative which is a fully managed WLM mode called \u201cAuto WLM\u201d. In the \u201cAuto WLM\u201d mode, everything is managed by Redshift service including concurrency and memory management.", "Understanding the Redshift architecture is key to reaping its benefits. Redshift is usually misunderstood as yet another database engine because engineers/analysts lack this knowledge. The architecture can be leveraged to deliver very high throughput queries and huge data processing.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb674513eb996&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-redshift-architecture-b674513eb996&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-redshift-architecture-b674513eb996&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-redshift-architecture-b674513eb996&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-redshift-architecture-b674513eb996&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b674513eb996--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b674513eb996--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://atharva-inamdar.medium.com/?source=post_page-----b674513eb996--------------------------------", "anchor_text": ""}, {"url": "https://atharva-inamdar.medium.com/?source=post_page-----b674513eb996--------------------------------", "anchor_text": "Atharva Inamdar"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb60da41cfbf8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-redshift-architecture-b674513eb996&user=Atharva+Inamdar&userId=b60da41cfbf8&source=post_page-b60da41cfbf8----b674513eb996---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb674513eb996&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-redshift-architecture-b674513eb996&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb674513eb996&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-redshift-architecture-b674513eb996&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://docs.aws.amazon.com/redshift/latest/mgmt/working-with-clusters.html#working-with-clusters-overview", "anchor_text": "see this"}, {"url": "https://medium.com/tag/amazon-redshift?source=post_page-----b674513eb996---------------amazon_redshift-----------------", "anchor_text": "Amazon Redshift"}, {"url": "https://medium.com/tag/aws?source=post_page-----b674513eb996---------------aws-----------------", "anchor_text": "AWS"}, {"url": "https://medium.com/tag/architecture?source=post_page-----b674513eb996---------------architecture-----------------", "anchor_text": "Architecture"}, {"url": "https://medium.com/tag/redshift?source=post_page-----b674513eb996---------------redshift-----------------", "anchor_text": "Redshift"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb674513eb996&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-redshift-architecture-b674513eb996&user=Atharva+Inamdar&userId=b60da41cfbf8&source=-----b674513eb996---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb674513eb996&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-redshift-architecture-b674513eb996&user=Atharva+Inamdar&userId=b60da41cfbf8&source=-----b674513eb996---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb674513eb996&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-redshift-architecture-b674513eb996&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b674513eb996--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb674513eb996&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-redshift-architecture-b674513eb996&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b674513eb996---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b674513eb996--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b674513eb996--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b674513eb996--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b674513eb996--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b674513eb996--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b674513eb996--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b674513eb996--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b674513eb996--------------------------------", "anchor_text": ""}, {"url": "https://atharva-inamdar.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://atharva-inamdar.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Atharva Inamdar"}, {"url": "https://atharva-inamdar.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "75 Followers"}, {"url": "https://twitter.com/atharvai", "anchor_text": "https://twitter.com/atharvai"}, {"url": "https://github.com/atharvai", "anchor_text": "https://github.com/atharvai"}, {"url": "https://www.linkedin.com/in/ainamdar/", "anchor_text": "https://www.linkedin.com/in/ainamdar/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb60da41cfbf8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-redshift-architecture-b674513eb996&user=Atharva+Inamdar&userId=b60da41cfbf8&source=post_page-b60da41cfbf8--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fcfae0acb6167&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Famazon-redshift-architecture-b674513eb996&newsletterV3=b60da41cfbf8&newsletterV3Id=cfae0acb6167&user=Atharva+Inamdar&userId=b60da41cfbf8&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}