{"url": "https://towardsdatascience.com/building-a-custom-search-relevance-training-set-38a4fb90044f", "time": 1683001751.770349, "path": "towardsdatascience.com/building-a-custom-search-relevance-training-set-38a4fb90044f/", "webpage": {"metadata": {"title": "Building a Custom Search Relevance Training Set | by Jack Pertschuk | Towards Data Science", "h1": "Building a Custom Search Relevance Training Set", "description": "In the process of building NBoost, a trainable semantic search platform, I realized that there is a lack of large scale, easy to use, labeled datasets for evaluating a domain specific search engine\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/@colethienes", "anchor_text": "Cole Thienes", "paragraph_index": 0}, {"url": "https://github.com/koursaros-ai/nboost", "anchor_text": "Github", "paragraph_index": 0}, {"url": "https:/github.com/koursaros-ai/nboost", "anchor_text": "NBoost", "paragraph_index": 1}, {"url": "https://cloud.google.com/natural-language/", "anchor_text": "Google\u2019s Language API", "paragraph_index": 6}, {"url": "https://cloud.google.com/natural-language/docs/reference/libraries", "anchor_text": "sign up for Google Cloud and authenticate your client first", "paragraph_index": 7}, {"url": "https://github.com/VowpalWabbit/vowpal_wabbit", "anchor_text": "vowpal-wabbit", "paragraph_index": 8}, {"url": "https://github.com/koursaros-ai/MSMarco-bio", "anchor_text": "this", "paragraph_index": 14}, {"url": "https://github.com/microsoft/MSMARCO-Passage-Ranking", "anchor_text": "here", "paragraph_index": 15}, {"url": "https:/github.com/koursaros-ai/nboost", "anchor_text": "NBoost", "paragraph_index": 16}, {"url": "https://storage.googleapis.com/koursaros/bio-collectionandqueries.tar.gz", "anchor_text": "here", "paragraph_index": 17}, {"url": "https://github.com/microsoft/MSMARCO-Passage-Ranking", "anchor_text": "here", "paragraph_index": 17}, {"url": "https://github.com/koursaros-ai/nboost", "anchor_text": "NBoost", "paragraph_index": 18}], "all_paragraphs": ["Coauthored by Cole Thienes, Check out our Github", "In the process of building NBoost, a trainable semantic search platform, I realized that there is a lack of large scale, easy to use, labeled datasets for evaluating a domain specific search engine, e.g. a custom search for biomedical information.", "This article includes code to generate search queries and passages labeled as relevant within a specific domain or field of knowledge. We achieve this by selecting a subset of the popular MS Marco dataset from Microsoft. The full labeled set released by Microsoft is much too large to use in its entirety.", "Examples of a query and relevant passage in a subset generated for health/biology:", "Query: What is normal blood pressure by age?", "Relevant Passage: \u2026for adults between the ages of 25 and 29, a normal blood pressure reading is 120/80 millimeters of mercury\u2026", "Up to 30k/month document classifications are free using Google\u2019s Language API. It can be used to classify passages into 700+ categories, and it also reports confidence scores.", "You need to sign up for Google Cloud and authenticate your client first, see. Then run:", "We use vowpal-wabbit (VW) to build a binary text classifier that can classify the rest of the set very fast and for free. Make sure it is installed. (type vw --help on the bash).", "Define a function to extract a binary label from the Google NLP Category. In our case we use health/science:", "Then use it to build a VW training set:", "Then train a classifier with this data and save it as bio_model:", "\u26a0\ufe0f If you copy and paste this into terminal the tab in the first sed command might turn into a space. Manually delete it and press ctrl-v and then tab.", "The code for loading the collection and queries from MSMarco and then classifying them is a little more complicated so I won\u2019t go over it here.", "If you want to product the set, clone this repo and run the python script:", "See here for more details about the format of these files.", "I used pre-trained search relevance models available on the NBoost repo to benchmark the dataset I generated for health/biology.", "Download dataset here or follow guide below to build it. Look here for more details about the format of the files.", "Check out our main project NBoost to download and deploy the models with ElasticSearch.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F38a4fb90044f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-custom-search-relevance-training-set-38a4fb90044f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-custom-search-relevance-training-set-38a4fb90044f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-custom-search-relevance-training-set-38a4fb90044f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-custom-search-relevance-training-set-38a4fb90044f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----38a4fb90044f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----38a4fb90044f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@jackpertschuk?source=post_page-----38a4fb90044f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jackpertschuk?source=post_page-----38a4fb90044f--------------------------------", "anchor_text": "Jack Pertschuk"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa97c68c557df&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-custom-search-relevance-training-set-38a4fb90044f&user=Jack+Pertschuk&userId=a97c68c557df&source=post_page-a97c68c557df----38a4fb90044f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F38a4fb90044f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-custom-search-relevance-training-set-38a4fb90044f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F38a4fb90044f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-custom-search-relevance-training-set-38a4fb90044f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/@colethienes", "anchor_text": "Cole Thienes"}, {"url": "https://github.com/koursaros-ai/nboost", "anchor_text": "Github"}, {"url": "https://unsplash.com/@markuswinkler?utm_source=medium&utm_medium=referral", "anchor_text": "Markus Winkler"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https:/github.com/koursaros-ai/nboost", "anchor_text": "NBoost"}, {"url": "https://cloud.google.com/natural-language/", "anchor_text": "Google\u2019s Language API"}, {"url": "https://cloud.google.com/natural-language/docs/reference/libraries", "anchor_text": "sign up for Google Cloud and authenticate your client first"}, {"url": "https://github.com/VowpalWabbit/vowpal_wabbit", "anchor_text": "vowpal-wabbit"}, {"url": "https://msmarco.blob.core.windows.net/msmarcoranking/collectionandqueries.tar.gz", "anchor_text": "https://msmarco.blob.core.windows.net/msmarcoranking/collectionandqueries.tar.gz"}, {"url": "https://github.com/wooorm/stmr", "anchor_text": "this repo"}, {"url": "https://github.com/koursaros-ai/MSMarco-bio", "anchor_text": "this"}, {"url": "https://github.com/microsoft/MSMARCO-Passage-Ranking", "anchor_text": "here"}, {"url": "https:/github.com/koursaros-ai/nboost", "anchor_text": "NBoost"}, {"url": "https://storage.googleapis.com/koursaros/bio-collectionandqueries.tar.gz", "anchor_text": "here"}, {"url": "https://github.com/microsoft/MSMARCO-Passage-Ranking", "anchor_text": "here"}, {"url": "https://github.com/koursaros-ai/nboost", "anchor_text": "NBoost"}, {"url": "https://koursaros-ai.github.io/Custom-Search/", "anchor_text": "https://koursaros-ai.github.io"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----38a4fb90044f---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/nlp?source=post_page-----38a4fb90044f---------------nlp-----------------", "anchor_text": "NLP"}, {"url": "https://medium.com/tag/search?source=post_page-----38a4fb90044f---------------search-----------------", "anchor_text": "Search"}, {"url": "https://medium.com/tag/microsoft?source=post_page-----38a4fb90044f---------------microsoft-----------------", "anchor_text": "Microsoft"}, {"url": "https://medium.com/tag/google?source=post_page-----38a4fb90044f---------------google-----------------", "anchor_text": "Google"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F38a4fb90044f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-custom-search-relevance-training-set-38a4fb90044f&user=Jack+Pertschuk&userId=a97c68c557df&source=-----38a4fb90044f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F38a4fb90044f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-custom-search-relevance-training-set-38a4fb90044f&user=Jack+Pertschuk&userId=a97c68c557df&source=-----38a4fb90044f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F38a4fb90044f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-custom-search-relevance-training-set-38a4fb90044f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----38a4fb90044f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F38a4fb90044f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-custom-search-relevance-training-set-38a4fb90044f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----38a4fb90044f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----38a4fb90044f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----38a4fb90044f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----38a4fb90044f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----38a4fb90044f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----38a4fb90044f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----38a4fb90044f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----38a4fb90044f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----38a4fb90044f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jackpertschuk?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jackpertschuk?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Jack Pertschuk"}, {"url": "https://medium.com/@jackpertschuk/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "64 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa97c68c557df&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-custom-search-relevance-training-set-38a4fb90044f&user=Jack+Pertschuk&userId=a97c68c557df&source=post_page-a97c68c557df--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fa97c68c557df%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-custom-search-relevance-training-set-38a4fb90044f&user=Jack+Pertschuk&userId=a97c68c557df&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}