{"url": "https://towardsdatascience.com/from-txt-file-to-d3-js-visualization-7070ef7af837", "time": 1683003839.990583, "path": "towardsdatascience.com/from-txt-file-to-d3-js-visualization-7070ef7af837/", "webpage": {"metadata": {"title": "From .txt file to d3.js visualization | by Zach Alexander | Towards Data Science", "h1": "From .txt file to d3.js visualization", "description": "It was noted a few years ago by IBM that working as a Data Scientist means that you\u2019ll likely have to abide by the \u201c80/20 rule\u201d quite often\u2014 80 percent of your time will be spent simply finding\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.ibm.com/cloud/blog/ibm-data-catalog-data-scientists-productivity", "anchor_text": "noted a few years ago by IBM", "paragraph_index": 0}, {"url": "https://stringr.tidyverse.org/articles/regular-expressions.html", "anchor_text": "this resource.", "paragraph_index": 7}, {"url": "https://www.csvjson.com/csv2json", "anchor_text": "csvjson.com", "paragraph_index": 24}, {"url": "https://doc.lagout.org/programmation/JavaScript/Interactive%20Data%20Visualization%20for%20the%20Web_%20An%20Introduction%20to%20Designing%20with%20D3%20%5BMurray%202013-04-05%5D.pdf", "anchor_text": "Interactive Data Visualization", "paragraph_index": 26}, {"url": "https://zach-alexander.com/chess-elo", "anchor_text": "https://www.zach-alexander.com/chess-elo", "paragraph_index": 29}], "all_paragraphs": ["It was noted a few years ago by IBM that working as a Data Scientist means that you\u2019ll likely have to abide by the \u201c80/20 rule\u201d quite often\u2014 80 percent of your time will be spent simply finding, cleaning, and organizing data, leaving only 20 percent to actually performing analyses.", "As a Data Science graduate student, one of my first courses focused solely on that initial 80 percent. One assignment in particular required cleaning the following text file that contained \u201celo-ratings\u201d of fictional chess players, as well as scores and points from a fictional chess tournament:", "Truly atrocious! I clipped the bottom of this file since it was quite long, but in total, there were 64 players listed.", "Now, you may be thinking, what can we possibly do with this? Is there any interesting information here? Well, we\u2019ll use the following workflow to investigate:", "The first thing we\u2019ll have to do is grab the .txt file and pull it into R. To do this, we can use the base R functions paste() and readLines() :", "As you\u2019ll see from the link, I saved the text file in a new GitHub repository and accessed the \u201cRaw\u201d option, in order to pull the correct file. Additionally, I\u2019ve loaded in the stringr() and knitr() packages that we\u2019ll use to process the text.", "Although I\u2019ve pulled the text file into R, if I inspect my variable \u201cchess_data\u201d and print it to the console, you\u2019ll see that the data is not formatted well at all:", "Fortunately, if you look closely, there are subtle patterns in this file that we can use to parse out key information with regular expressions. If you need to brush up on regular expressions, I\u2019d recommend this resource.", "First, it would be great to get player names. To do this, we can use the str_extract_all() function in combination with a custom regular expression to isolate this data. We can see that player names are listed in all capital letters and therefore, we can extract them all by running the following syntax:", "In the second portion of the syntax above, I simply converted the names from all capital letters to \u201cproper\u201d form. You can see the end product printed to the console above. We now have a vector of 64 player names! It was that easy!", "Looking at the original text file, I think it would be interesting to also isolate the player\u2019s state of origin, each player\u2019s pre-tournament elo rating, and each player\u2019s post-tournament elo rating. The following regular expressions took care of this:", "Similar to isolating the player names, each one of these items above could be isolated due to certain patterns in the original text file.", "With these pieces of information safely stored in organized vectors. Let\u2019s take stock of where we are at, and what additional information we\u2019d like to collect for analysis. All data highlighted in yellow below has been extracted, and all data in green are values that would be useful to grab from this text file \u2014 we\u2019ll focus on these values in this next step.", "Initially, we can see that each player\u2019s total points from the tournament contain numbers with decimal places. To isolate these values, we can extract all based on this sequence of characters (see below).", "Then, since the rest of the data highlighted in green is formatted with \u201c|\u201d characters between each round, we can do some manipulation to grab these scores, continuing to take advantage of our regular expressions.", "In the end, I was able to convert these values for each player into a temporary dataframe by using a for loop to get rid of the extra symbols and making sure they matched with the players from my initial vector. You can see the for loop process below:", "After combining this data with my player data, we get the following dataframe:", "As you can see, the data found in the game1, game2\u2026gameN columns correspond to the index row number. Since we already have this information, I thought it would be interesting to replace the index number in these columns with the pre-tournament rating that corresponds to each player\u2019s index number. If I do this correctly, I can then determine the \u201cstrength of schedule\u201d for each player! To do this, I again utilized for loops:", "And there we go! Here\u2019s our final dataframe, cleaned and ready for analysis:", "Given this dataframe, I\u2019m interested in determining which player(s) had the hardest tournament schedule based solely on the pre-tournament ratings of their opponents. Additionally, who had the biggest jump in their elo rating from pre-tournament to post-tournament?", "To figure this out, I first used the rowMeans() function to take the average of the opponent pre-tournament elo ratings for the seven tournament games. I then created a new column called average_opp_rating to store this calculation for each player.", "I also decided to create a few more columns to determine the difference in player pre-tournament rating and player post-tournament rating (ultimately to see who had the highest elo rating gain/loss). Additionally, I created a column on the conditional of whether or not the rating difference between pre- and post- was negative or positive.", "In the end, I developed a pretty comprehensive dataframe which could answer many of my questions. Many would find this satisfactory, and for most purposes it is. However, wouldn\u2019t it be more appealing if we put this into a visualization?", "With my dataframe ready to go, I can export it to a .csv file with the following syntax in R:", "For those that are familiar with d3.js, there is a built-in function that is capable of reading in a .csv file and iterate through its rows. However, I prefer to work directly with .json files (just my personal preference). You can quickly use a free online service such as csvjson.com to convert between the formats.", "Once it\u2019s ready, I have a workable .json file:", "For the sake of time, I\u2019m going to brush over most of what it takes to make a d3.js visualization. However, if you are interested in learning, I\u2019d recommend this book \u2014 Interactive Data Visualization \u2014 it really is a great guide to start getting your hands dirty with d3 and Javascript!", "With my .json file ready to go from above, I can then do the following:", "In the end, I generated a bar chart that displays each player\u2019s pre-tournament elo rating, and then you can click a button to see their elo-rating change based on their post-tournament rating. You can also roll-over the initial bar and see the pre-tournament rating:", "To see the full, interactive visualization, you can visit https://www.zach-alexander.com/chess-elo. Hopefully, you\u2019ll find it appealing. You\u2019ll notice too that I created a mock newspaper story related to this data \u2014 just for fun!", "When all is said and done, although most people grumble about the \u201c80/20 rule\u201d, we can see how crucial it is for tasks like this one. There\u2019s useful data everywhere, but only if you are willing to take the time to process it!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Engineer at the Center for Court Innovation. MS in Data Science \u2014 CUNY"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7070ef7af837&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-txt-file-to-d3-js-visualization-7070ef7af837&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-txt-file-to-d3-js-visualization-7070ef7af837&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-txt-file-to-d3-js-visualization-7070ef7af837&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-txt-file-to-d3-js-visualization-7070ef7af837&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----7070ef7af837--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7070ef7af837--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://zdalexander.medium.com/?source=post_page-----7070ef7af837--------------------------------", "anchor_text": ""}, {"url": "https://zdalexander.medium.com/?source=post_page-----7070ef7af837--------------------------------", "anchor_text": "Zach Alexander"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff1330bbf0c93&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-txt-file-to-d3-js-visualization-7070ef7af837&user=Zach+Alexander&userId=f1330bbf0c93&source=post_page-f1330bbf0c93----7070ef7af837---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7070ef7af837&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-txt-file-to-d3-js-visualization-7070ef7af837&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7070ef7af837&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-txt-file-to-d3-js-visualization-7070ef7af837&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@randyfath?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Randy Fath"}, {"url": "https://unsplash.com/s/photos/chess?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://www.ibm.com/cloud/blog/ibm-data-catalog-data-scientists-productivity", "anchor_text": "noted a few years ago by IBM"}, {"url": "https://stringr.tidyverse.org/articles/regular-expressions.html", "anchor_text": "this resource."}, {"url": "https://www.csvjson.com/csv2json", "anchor_text": "csvjson.com"}, {"url": "https://doc.lagout.org/programmation/JavaScript/Interactive%20Data%20Visualization%20for%20the%20Web_%20An%20Introduction%20to%20Designing%20with%20D3%20%5BMurray%202013-04-05%5D.pdf", "anchor_text": "Interactive Data Visualization"}, {"url": "https://cli.angular.io/", "anchor_text": "angular-cli"}, {"url": "https://medium.com/@treviergits/how-to-deploy-an-angular-7-app-on-firebase-hosting-30341f3bcb22", "anchor_text": "This is a great guide for this."}, {"url": "https://zach-alexander.com/chess-elo", "anchor_text": "https://zach-alexander.com/chess-elo"}, {"url": "https://zach-alexander.com/chess-elo", "anchor_text": "https://www.zach-alexander.com/chess-elo"}, {"url": "https://medium.com/tag/data-science?source=post_page-----7070ef7af837---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----7070ef7af837---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/d3js?source=post_page-----7070ef7af837---------------d3js-----------------", "anchor_text": "D3js"}, {"url": "https://medium.com/tag/javascript?source=post_page-----7070ef7af837---------------javascript-----------------", "anchor_text": "JavaScript"}, {"url": "https://medium.com/tag/regular-expressions?source=post_page-----7070ef7af837---------------regular_expressions-----------------", "anchor_text": "Regular Expressions"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7070ef7af837&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-txt-file-to-d3-js-visualization-7070ef7af837&user=Zach+Alexander&userId=f1330bbf0c93&source=-----7070ef7af837---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7070ef7af837&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-txt-file-to-d3-js-visualization-7070ef7af837&user=Zach+Alexander&userId=f1330bbf0c93&source=-----7070ef7af837---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7070ef7af837&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-txt-file-to-d3-js-visualization-7070ef7af837&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7070ef7af837--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F7070ef7af837&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-txt-file-to-d3-js-visualization-7070ef7af837&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----7070ef7af837---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----7070ef7af837--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----7070ef7af837--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7070ef7af837--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7070ef7af837--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7070ef7af837--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7070ef7af837--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7070ef7af837--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7070ef7af837--------------------------------", "anchor_text": ""}, {"url": "https://zdalexander.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://zdalexander.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Zach Alexander"}, {"url": "https://zdalexander.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "212 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff1330bbf0c93&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-txt-file-to-d3-js-visualization-7070ef7af837&user=Zach+Alexander&userId=f1330bbf0c93&source=post_page-f1330bbf0c93--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F27e5cb5eae32&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-txt-file-to-d3-js-visualization-7070ef7af837&newsletterV3=f1330bbf0c93&newsletterV3Id=27e5cb5eae32&user=Zach+Alexander&userId=f1330bbf0c93&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}