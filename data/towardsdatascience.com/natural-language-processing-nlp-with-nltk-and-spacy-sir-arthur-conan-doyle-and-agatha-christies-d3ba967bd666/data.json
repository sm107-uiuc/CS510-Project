{"url": "https://towardsdatascience.com/natural-language-processing-nlp-with-nltk-and-spacy-sir-arthur-conan-doyle-and-agatha-christies-d3ba967bd666", "time": 1683012464.7051, "path": "towardsdatascience.com/natural-language-processing-nlp-with-nltk-and-spacy-sir-arthur-conan-doyle-and-agatha-christies-d3ba967bd666/", "webpage": {"metadata": {"title": "Natural Language Processing(NLP) with NLTK and spaCy- Sir Arthur Conan Doyle and Agatha Christie\u2019s writing style analysis | by Kaushik Choudhury | Towards Data Science", "h1": "Natural Language Processing(NLP) with NLTK and spaCy- Sir Arthur Conan Doyle and Agatha Christie\u2019s writing style analysis", "description": "I am sure all of us enjoy reading the evergreen thrilling detective stories of the famous detective Sherlock Holmes and Hercule Poirot. As a data scientist, I am curious to know if there are any\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.gutenberg.org/", "anchor_text": "Project Gutenberg", "paragraph_index": 4}, {"url": "https://spacy.io/models/en#en_core_web_lg", "anchor_text": "en_core_web_lg", "paragraph_index": 5}, {"url": "https://www.gutenberg.org/", "anchor_text": "Project Gutenberg", "paragraph_index": 9}], "all_paragraphs": ["I am sure all of us enjoy reading the evergreen thrilling detective stories of the famous detective Sherlock Holmes and Hercule Poirot. As a data scientist, I am curious to know if there are any similarities in the writing style of Arthur Conan Doyle and Agatha Christie. It would be great if I could extract any insight into the successful detective story writing recipe with the help of Natural Language Processing(NLP).", "In this article, I will perform the side by side analysis and the comparison of \u201cThe Hound of the Baskervilles\u201d by Sir Arthur Conan Doyle and \u201cThe Murder on the Links\u201d by Agatha Christie.", "In my full analysis, I have considered ten stories from each author to draw the parallels, but for the sake of simplicity, I have explained the process with one story from each author in this article. The framework and coding mentioned below are easily scalable, and I will highly encourage you all to try it will full sets of stories from Sir Arthur Conan Doyle and Agatha Christie.", "The main objective is to show how easy it is to perform natural language processing (NLP) with packages like NTLK and spaCY and provide an initial framework structure to self explore and deep dive other author\u2019s writings.", "I have downloaded the text version of \u201cThe Hound of the Baskervilles\u201d by Sir Arthur Conan Doyle and \u201cThe Murder on the Links\u201d by Agatha Christie from Project Gutenberg.", "I have used the \u201cen_core_web_lg\u201d general-purpose pre-trained models to predict named entities, part-of-speech tags and syntactic dependencies.", "spaCY provides three sizes of the pre-trained model viz. small, medium and large with increasing sizes and accuracy of prediction.", "As a prerequisite, we need to download the large model with below command.", "Step 1: We will be using the NLP packages NLTK and spaCy for the analysis. First, all the package required are imported and also an NLP object is created by loading the pre-trained model \u201cen_core_web_lg\u201d. As the name suggests, the Matcher package will help in performing pattern-based search and will discuss in detail later in the article.", "Step 2: In the below code, the text file of \u201cThe Hound of the Baskervilles\u201d \u201cThe Murder on the Links\u201d download from Project Gutenberg is read.", "Step 3: We would like to know the number of nouns, verbs and sentences in both the stories. We will write a small custom pipeline component which can be added to standard out of box spaCY pipelines to get this information.", "In the main program( explained later), we will divide the full text into individual word token. Here in the code below, we are checking if the parts of speech of token are noun or verb, and increasing the respective counter based on the test.", "Further, we are counting the number of sentences in the text using standard the doc.sents method in spaCY.", "Step 4: We will add the custom pipeline component \u201clength\u201d to the standard spaCY pipeline using the add_pipeline method.", "Step 5: In the code below, we pass the texts read in step 2 to create the doc objects, Arthur and Agatha. A set of actions is performed in sequence in the background while creating the doc object, a sequence of words with linguistic annotation.", "It starts with tokenisation and followed by tagging, parser etc. as shown below. We have included the custom pipeline at the end to count the nouns, verbs and sentences.", "For the scope of this article, we are interested in the output of the last custom pipeline action we have written in step 3.", "Step 6: Next, we will analyse the number of times the lead detective Sherlock Holmes and Poirot took any action. As a proximate solution, we need to look for patterns where the detective\u2019s name is followed by a verb.", "In the below code, we have defined a pattern holmes_pattern for finding the number of occurrence of \u201cholmes\u201d immediately followed by a verb.", "Add method is used to include the pattern to the matcher. Finally, the doc object i.e. is passed to the matcher to collect all the instances in the text matching the pattern of holmes followed by a verb.", "Length of the matches gives us a number of times the pattern match is found in the text.", "If we loop the match object as shown in the below code then we can print the individual pattern match text", "Similar logic is written for the detective Poirot in the story \u201cThe Murder on the Links\u201d by Agatha Christie", "Looks like Poirot is much more active than Sherlock Holmes :-)", "Step 7: Next, we will see how many times lead detective and his associate\u2019s names are described in the respective stories.", "We learned earlier during the tokenisation process each word is separated and classified. We will compare the text of each token to count the instance of Sherlock, Watson, Poirot and Hastings in the respective stories.", "Step 8: Finally, we will see the 15 most frequent words used by each author in the stories. We will use the NLTK model to do this analysis and plot a cumulative graph of it.", "In the code above, we pass the text to FreqDist built-in function of NLTK and then use the plot method to draw the cumulative chart of the most used words. We can see that 15 most frequently used words in \u201cThe Hound of the Baskervilles\u201d add up close to 1700 words.", "We did the same analysis for the story \u201cThe Murder on the Links\u201d by Agatha Christie.", "We have covered a lot of ground here, so just to quickly recap, we have started with analysing the number of verbs, nouns and sentences in each story. As a self-exploring exercise, I will recommend you to expand the part-of-speech analysis for adjectives, prepositions etc. to gain better insight.", "We further learnt to use pattern search and found the number of times lead character name is followed by a verb. Next, we analysed the number of times lead detective and his associates\u2019 name is mentioned in the respective stories. We concluded our analysis with 15 most frequently used words in the stories.", "As mentioned in the outset, this article intends to show how easy it is to perform natural language processing (NLP) with packages like NTLK and spaCY and provide an initial framework structure to self explore and deep dive other author\u2019s writings.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Kaushik Choudhury is an experienced Supply Chain Strategy and Digital Transformation manager in one of the Big 4 Consulting firm in the UK."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fd3ba967bd666&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-nlp-with-nltk-and-spacy-sir-arthur-conan-doyle-and-agatha-christies-d3ba967bd666&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-nlp-with-nltk-and-spacy-sir-arthur-conan-doyle-and-agatha-christies-d3ba967bd666&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-nlp-with-nltk-and-spacy-sir-arthur-conan-doyle-and-agatha-christies-d3ba967bd666&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-nlp-with-nltk-and-spacy-sir-arthur-conan-doyle-and-agatha-christies-d3ba967bd666&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----d3ba967bd666--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d3ba967bd666--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://kaushikthoughts.medium.com/?source=post_page-----d3ba967bd666--------------------------------", "anchor_text": ""}, {"url": "https://kaushikthoughts.medium.com/?source=post_page-----d3ba967bd666--------------------------------", "anchor_text": "Kaushik Choudhury"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fdf006e67e544&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-nlp-with-nltk-and-spacy-sir-arthur-conan-doyle-and-agatha-christies-d3ba967bd666&user=Kaushik+Choudhury&userId=df006e67e544&source=post_page-df006e67e544----d3ba967bd666---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd3ba967bd666&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-nlp-with-nltk-and-spacy-sir-arthur-conan-doyle-and-agatha-christies-d3ba967bd666&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd3ba967bd666&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-nlp-with-nltk-and-spacy-sir-arthur-conan-doyle-and-agatha-christies-d3ba967bd666&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/data-science/home", "anchor_text": "Inside AI"}, {"url": "https://unsplash.com/@markuswinkler?utm_source=medium&utm_medium=referral", "anchor_text": "Markus Winkler"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.gutenberg.org/", "anchor_text": "Project Gutenberg"}, {"url": "https://spacy.io/models/en#en_core_web_lg", "anchor_text": "en_core_web_lg"}, {"url": "https://www.gutenberg.org/", "anchor_text": "Project Gutenberg"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----d3ba967bd666---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----d3ba967bd666---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/naturallanguageprocessing?source=post_page-----d3ba967bd666---------------naturallanguageprocessing-----------------", "anchor_text": "Naturallanguageprocessing"}, {"url": "https://medium.com/tag/python?source=post_page-----d3ba967bd666---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----d3ba967bd666---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd3ba967bd666&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-nlp-with-nltk-and-spacy-sir-arthur-conan-doyle-and-agatha-christies-d3ba967bd666&user=Kaushik+Choudhury&userId=df006e67e544&source=-----d3ba967bd666---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd3ba967bd666&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-nlp-with-nltk-and-spacy-sir-arthur-conan-doyle-and-agatha-christies-d3ba967bd666&user=Kaushik+Choudhury&userId=df006e67e544&source=-----d3ba967bd666---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd3ba967bd666&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-nlp-with-nltk-and-spacy-sir-arthur-conan-doyle-and-agatha-christies-d3ba967bd666&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d3ba967bd666--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fd3ba967bd666&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-nlp-with-nltk-and-spacy-sir-arthur-conan-doyle-and-agatha-christies-d3ba967bd666&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----d3ba967bd666---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----d3ba967bd666--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----d3ba967bd666--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----d3ba967bd666--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----d3ba967bd666--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----d3ba967bd666--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----d3ba967bd666--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----d3ba967bd666--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----d3ba967bd666--------------------------------", "anchor_text": ""}, {"url": "https://kaushikthoughts.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://kaushikthoughts.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kaushik Choudhury"}, {"url": "https://kaushikthoughts.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "474 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fdf006e67e544&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-nlp-with-nltk-and-spacy-sir-arthur-conan-doyle-and-agatha-christies-d3ba967bd666&user=Kaushik+Choudhury&userId=df006e67e544&source=post_page-df006e67e544--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F491da94209c1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fnatural-language-processing-nlp-with-nltk-and-spacy-sir-arthur-conan-doyle-and-agatha-christies-d3ba967bd666&newsletterV3=df006e67e544&newsletterV3Id=491da94209c1&user=Kaushik+Choudhury&userId=df006e67e544&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}