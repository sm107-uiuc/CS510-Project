{"url": "https://towardsdatascience.com/inference-of-origin-destination-flows-and-activity-locations-81f56fbe7c45", "time": 1683002488.982177, "path": "towardsdatascience.com/inference-of-origin-destination-flows-and-activity-locations-81f56fbe7c45/", "webpage": {"metadata": {"title": "Inference of Origin-Destination Flows and Activity Locations | by Joel Pires | Towards Data Science", "h1": "Inference of Origin-Destination Flows and Activity Locations", "description": "A key component of mobility modelling is inferring the trips of the users. When we talk about trips, we are talking about the travels between an origin point and a destination point that end up with\u2026"}, "outgoing_paragraph_urls": [{"url": "http://joelpires.com", "anchor_text": "joelpires.com", "paragraph_index": 20}], "all_paragraphs": ["A key component of mobility modelling is inferring the trips of the users. When we talk about trips, we are talking about the travels between an origin point and a destination point that end up with an activity. Calabrese et al. [1] explore the usage of sightings data in order to calculate these OD (Origin-Destination) flows. Wang et al. [2] make the same but using probabilities of transportation mode choices, vehicle occupancy, and CDRs (Call Detail Records) instead. Yang et al. [3] showed that through generative algorithms like Bayes Nets and Markov random field classification, it is possible to detect activity locations like home, work, shopping, leisure and other places with reasonable accuracy.", "Fusing CDRs with data coming from traffic sensors, Charisma et al. [4] are capable of developing an OD matrix. The traffic counts of the different locations are used to validate the origin-destination predictions. In order to determine the real origin-destinations, it was necessary to scale a transient OD matrix to match the actual traffic flows. Here resides the central assumption/limitation of this study: it overlooks \u201cthe heterogeneity in call rates from different locations (e.g., more calls may be generated to and from railway stations compared to and from offices with land telephone lines, etc.)\u201d. Using non-supervised learning algorithms, Augusto et al. [5] try to infer users\u2019 trips from their CDRs and then, from the travel behaviors, characterize the mobility of the population (for example, what is the percentage of commuters or how many of them work far from home).", "The study of Zhao et al. [6] is fascinating in the sense that it proposes a supervised learning technique to obtain a more detailed characterization of the users\u2019 trips. That implicates the approach of an issue that has been grossly ignored by those who tried to characterize the origin-destinations of the users\u2019 travels. We are talking about detecting if there are unknown visited places besides those that can be seen by looking through CDRs. Its solution relies on a data fusion technique between CDRs, SMSs, and mobile internet accesses to form labelled data that will be the base to train and test classifiers. The dataset used encloses records from three million users\u2019 from a Chinese City during November 2013. However, only 100.000 users were randomly selected. As they made data fusion, that number decreased even more. That is because there is only interest in users that use mobile internet accesses and make/receive at least one call/SMS during the month.", "Throughout the paper was assessed the performance of three different methods: artificial networks, support vector machines, and logistic regression. This paper is useful not only to comprehend more profoundly how can we extract more accurately trips from mobile billing data but also address a well-known problem of using CDR data to obtain users\u2019 routes \u2014 the temporal sparsity. In most cases, the user does not make or receive a call in every location that he visits, so the probability of extracting unrealistic and incomplete trips from CDRs is high. Therefore, a framework is proposed, and a scheme of it can be seen in Figure 1.", "In this situation, we have four layers as we can see on the right side of the image above (Network Sensor, User Position, Movement State, and Mobility). The first layer is, essentially, the information that we can obtain from CDRs: location and time of the call that was received or made by the observed user. After some localization procedures that encapsulate methods of subsampling and treatment of location uncertainties and errors, we come up with the user Presences that are part of the User Position Layer. After that, it is time to identify activity stops \u2014 also named as Observed Visits by the author. Every time two consecutive observed visits occur in different locations, we have a Displacement. The identification of these two elements is made through a movement state identification that catapults us to the Movement State Layer. Finally, the bigger contribute of this paper \u2014 investigate if in every displacement we have a hidden visit. That is made through machine learning algorithms previously mentioned and constitute the Hidden Visit Inference process. Once we got the unknown sites and the observed ones, we form the OD trips to compose our Mobility Layer.", "The Hidden Visit Inference is treated as a binary classification. For each displacement between location A and B: a) there is a hidden visited place, or b) there is not hidden visited place. Not all observed visits are analyzed but only displacements, what constitutes a limitation of this study. It is a limitation since the authors are assuming that a user cannot visit any different place during the time between the two (and same) observed visited sites. So, the basic idea is to use CDRs and SMS records to extract the features while the data from mobile internet accesses are used as labels, as ground truth data. Figure 2 depicts the sequences of displacements made by the same user over time but seen through different types of data at the same time (from CDRs and mobile internet accesses). As we can see, there are two types of user displacements that need more in-depth analysis. In situation 1, when the user is seen through CDR data moving from C to D, we notice that the mobile internet access data (MIAD) encapsulates the hidden visited location (W). Nonetheless, in situation 2, despite existing two additional records in the MIAD, those give the same site of the destination of the displacement (F). So, in this case, no additional visited location is revealed.", "Hereupon, several features are extracted and selected from CDRs: spatial features of the displacements, temporal features and personal features of the user (e.g., the number of voice calls or the number of active call hours). Four methodologies were tested: a na\u00efve rule that assumes no hidden visited places; a logistic regression; SVM (Support Vector Machines) and ANN (Artificial Neural Networks). All three classifiers can increase in the order of 10% the correct classification of an OD trip having hidden visited places or not (when compared to the na\u00efve rule). It was possible to increase this value to a maximum of 11,1% by using an ANN.", "Another of the very few researches that attempt to detect hidden visits in an OD trip is the one by Bayir et al. [7]. Nevertheless, they try to impose temporal constraints or thresholds instead. For example, it would be assumed to exist an unknown visited location between two different observed locations if the elapsed time between them was higher than a certain threshold (10 mins or 1 hour for example). That is, in fact, a very na\u00efve way to fix the problem because we will end up with an excessive number of visited places that do not correspond to reality. The reason for that is that we are assuming that the user mandatorily visits, at least, some new site every x minutes (where x is our threshold). So, a statistical learning approach theoretically can surpass the efficiency of any heuristics that we can use in this case.", "Another notable research work in this matter is one from Demissie et al. [8]. This study pretends to estimate the origins and destinations of the users\u2019 trips from Senegal using CDRs as well. Commuting and other irregular trips are inferred. Having Senegal as the country of the case study is appealing in a way that it provides the opportunity to demonstrate how countries that have weak transport infrastructures can improve them by taking advantage of mobile operator data to infer mobility behavior. In order to discern the essential places like workplace and home, they examined the locations where there was call activity during previously defined working hours (from 8 AM to 7 PM) and non-working-hours (from 7 PM to 8 AM), respectively (always on weekdays).", "Despite promising, this study has some limitations. In an attempt to escape from dealing with hidden visited places, the locations inferred are on a district level. Consequently, no precise location of the cellular towers corresponding to home or workplace is provided. Beyond this inconvenient, it is only inferred commuting displacements across districts; no detailed commuting routes are obtained. Also, the data could have a more extensive temporal window. Only CDRs of January 2013 were analyzed although it involves an appropriate number of users (nine million) and records (43 million).", "The paper of Jundee et al. [9] is also remarkable. It is innovative once it proposes two different techniques to infer the exact routes in commuting trips (home to the workplace and workplace to home). In order to detect these commuting locations correctly, it was done a subsampling so that \u201ceach user must have at least 100 total connections during the morning commuting hours (7 AM \u2014 11 AM) and 100 connections during the evening commuting hours (3 PM \u2014 7 PM).\u201d The authors used the Google Maps API to infer possible commuting routes. With the workplace and home locations previously estimated, they let Google Maps Platform generate the commuting directions that it considers being the most probable for each user. From here, it is only required to apply a method that enables us to choose the right route among the options that the API suggests. Now is when the two techniques previously mentioned are needed. The first one is the method of Minimum Distance. So, assuming that we are calculating the exact route from home to the workplace, we then proceed in finding the calls and respective base stations activated during the morning hours. Secondly, we must calculate the Euclidean distance between each waypoint given by the google API of each route and each base station activated. After that, we sum all the Euclidean distances obtained for each waypoint and each base station and divide by the number of waypoints. Posteriorly, we should repeat the process for all the routes suggested by the Google Maps API. Finally, we choose the path that has the smaller value of the sum previously calculated.", "During this process, an important issue had to be addressed. The waypoints given by the API are not equally distanced along the route, and the number of waypoints of a path may vary. In practice, what this means is that we are going to have, for example, a different density of points that will cause the calculation of a variable number of distances and that will distort the result. Figure 3 illustrates this problem. It is shown that we try to calculate the distance between the waypoints and a base station, and, consequently, there are much denser red areas in the curvy parts of the route. Firstly, a grid is added and used as a reference to interpolate and extrapolate the waypoints. This grid allows the normalization of the space that exists between them. For each waypoint, we create a new data point that will be the centroid of a cell\u2019s grid. Figure 4 exemplifies this process.", "The second alternative method proposed by the authors is the method of Maximum Overlap. The steps of calling the Google Maps API and interpolating the given points remain. However, instead of calculating the Euclidean distances, we need to see how many points fall into the base station coverage areas during the route. The route that has more points is the one that is chosen, as it can be seen in Figure 5.", "Despite being very promising and refreshing, these two techniques do not consider the call frequency of the user in each base station locations. It would be interesting to give less importance to locations where there was less activity and greater weight to those where call activity is registered on a more regular basis.", "[4] F. Charisma and M. C. Development, \u201cDevelopment of origin \u2014 destination matrices using mobile phone call data The MIT Faculty has made this article openly available . Please share Citation Accessed Citable Link Detailed Terms A Simulation Based Approach,\u201d 2018.", "[6] Z. Zhao, J. Zhao and H. Koutsopoulos, \u201cIndividual-Level Trip Detection Using Detail Record Data Based on Supervised Statistical Learning,\u201d, 2016.", "[7] M. Bayir, M. Demirbas, and N. Eagle, \u201cMobility Profiler : A Framework for Discovering Mobile User Profiles Mobility Profiler,\u201d no. March, 2014.", "[8] M. G. Demissie, F. Antunes, and C. Bento, \u201cInferring Origin-Destination Flows Using Mobile Phone Data : A Case Study of Senegal,\u201d no. July, 2016.", "[9] T. Jundee, \u201cInferring Commuting Flows using CDR Data : A Case Study of Lisbon , Portugal,\u201d 2018.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "As an AI Researcher, I have a strong interest in data mining, pattern recognition, and machine learning algorithms. Profile: joelpires.com."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F81f56fbe7c45&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finference-of-origin-destination-flows-and-activity-locations-81f56fbe7c45&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finference-of-origin-destination-flows-and-activity-locations-81f56fbe7c45&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finference-of-origin-destination-flows-and-activity-locations-81f56fbe7c45&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finference-of-origin-destination-flows-and-activity-locations-81f56fbe7c45&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----81f56fbe7c45--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----81f56fbe7c45--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@joelpires?source=post_page-----81f56fbe7c45--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@joelpires?source=post_page-----81f56fbe7c45--------------------------------", "anchor_text": "Joel Pires"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6b287df9ea11&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finference-of-origin-destination-flows-and-activity-locations-81f56fbe7c45&user=Joel+Pires&userId=6b287df9ea11&source=post_page-6b287df9ea11----81f56fbe7c45---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F81f56fbe7c45&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finference-of-origin-destination-flows-and-activity-locations-81f56fbe7c45&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F81f56fbe7c45&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finference-of-origin-destination-flows-and-activity-locations-81f56fbe7c45&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----81f56fbe7c45---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----81f56fbe7c45---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/research?source=post_page-----81f56fbe7c45---------------research-----------------", "anchor_text": "Research"}, {"url": "https://medium.com/tag/smart-cities?source=post_page-----81f56fbe7c45---------------smart_cities-----------------", "anchor_text": "Smart Cities"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----81f56fbe7c45---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F81f56fbe7c45&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finference-of-origin-destination-flows-and-activity-locations-81f56fbe7c45&user=Joel+Pires&userId=6b287df9ea11&source=-----81f56fbe7c45---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F81f56fbe7c45&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finference-of-origin-destination-flows-and-activity-locations-81f56fbe7c45&user=Joel+Pires&userId=6b287df9ea11&source=-----81f56fbe7c45---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F81f56fbe7c45&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finference-of-origin-destination-flows-and-activity-locations-81f56fbe7c45&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----81f56fbe7c45--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F81f56fbe7c45&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finference-of-origin-destination-flows-and-activity-locations-81f56fbe7c45&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----81f56fbe7c45---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----81f56fbe7c45--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----81f56fbe7c45--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----81f56fbe7c45--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----81f56fbe7c45--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----81f56fbe7c45--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----81f56fbe7c45--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----81f56fbe7c45--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----81f56fbe7c45--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@joelpires?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@joelpires?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Joel Pires"}, {"url": "https://medium.com/@joelpires/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "23 Followers"}, {"url": "http://joelpires.com", "anchor_text": "joelpires.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6b287df9ea11&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finference-of-origin-destination-flows-and-activity-locations-81f56fbe7c45&user=Joel+Pires&userId=6b287df9ea11&source=post_page-6b287df9ea11--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F6b287df9ea11%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finference-of-origin-destination-flows-and-activity-locations-81f56fbe7c45&user=Joel+Pires&userId=6b287df9ea11&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}