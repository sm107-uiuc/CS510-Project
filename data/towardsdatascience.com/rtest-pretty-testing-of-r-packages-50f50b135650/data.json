{"url": "https://towardsdatascience.com/rtest-pretty-testing-of-r-packages-50f50b135650", "time": 1682994541.8100648, "path": "towardsdatascience.com/rtest-pretty-testing-of-r-packages-50f50b135650/", "webpage": {"metadata": {"title": "RTest: pretty testing of R packages | by Sebastian Wolf | Towards Data Science", "h1": "RTest: pretty testing of R packages", "description": "Testing in R seems simple. Start by simply using usethis::test_name(\"name\") and off you go by coding your tests in testthat with functions like expect_equal. But there are other ways\u2026"}, "outgoing_paragraph_urls": [{"url": "http://testthat.r-lib.org/", "anchor_text": "testthat", "paragraph_index": 0}, {"url": "https://www.amazon.de/gp/product/1498763650/ref=as_li_tl?ie=UTF8&camp=1638&creative=6742&creativeASIN=1498763650&linkCode=as2&tag=zappingseb-21&linkId=ca15df0c474acdcf98c8750db741c4e3\">Testing R Code (Chapman &amp; Hall/Crc the R)</a><img src=\"//ir-de.amazon-adsystem.com/e/ir?t=zappingseb-21&l=am2&o=3&a=1498763650", "anchor_text": "Testing R Code", "paragraph_index": 0}, {"url": "https://medium.com/datadriveninvestor/how-to-get-people-r-ready-in-an-hour-thors-hammer-d8c853abaf0b?source=user_profile---------7------------------", "anchor_text": "few times", "paragraph_index": 0}, {"url": "https://specflow.org/", "anchor_text": "specflow", "paragraph_index": 0}, {"url": "http://docs.cucumber.io/guides/overview/", "anchor_text": "cucumber", "paragraph_index": 0}, {"url": "https://medium.com/datadriveninvestor/why-do-we-need-human-readable-tests-for-a-programming-language-1786d552f450", "anchor_text": "Why do we need human readable test for a programming language.", "paragraph_index": 1}, {"url": "https://github.com/zappingseb/RTest", "anchor_text": "RTest", "paragraph_index": 2}, {"url": "https://gist.github.com/zappingseb/0f5dabe94c7d284bc543469c50a4213c", "anchor_text": "github gist", "paragraph_index": 11}, {"url": "https://gist.github.com/zappingseb/0f5dabe94c7d284bc543469c50a4213c", "anchor_text": "github gist with 90 rows", "paragraph_index": 17}, {"url": "https://www.mail-wolf.de", "anchor_text": "https://www.mail-wolf.de", "paragraph_index": 24}], "all_paragraphs": ["Testing in R seems simple. Start by using usethis::test_name(\"name\") and off you go by coding your tests in testthat with functions like expect_equal. You can find a lot of tutorials online, there is even a whole book on \u201cTesting R Code\u201d. Sadly, this is not the way I can go. As I mentioned a few times, I work in a strongly regulated environment. Inside such environments your tests are not only checked by coders, but also by people who cannot code. Some of your tests will even be written by people who cannot code. Something like specflow or cucumber would really help them to write such tests. But those do not exist in R. Additionally, those people cannot read command line test reports. You can train them to do it, but we decided it is easier to provide us and them with a pretty environment for testing, called RTest.", "If you want to know more about the reasons for developing such an environment, you can read the article: Why do we need human readable test for a programming language.", "To explain which features we put into RTest I will start describing of a basic testing workflow.", "1 Testing code starts with writing code. Your R-package will contain functions, classes and methods. These shall be tested.", "2 Writing the tests now mostly includes calls like this:", "It is easy to see, that your test will break if your function my_function cannot sum up two values. You will create a bunch of such tests and store them in a separate folder of your package, normally called tests .", "3 Afterwards you can run all such tests. You can include a script in the tests folder or use testthat and runtestthat::test_dir() .", "4 If one of your test fails the script will stop and tell you which test failed in the console. This describes the 4 steps shown in the figure below.", "What\u2019s now special about RTest are two major steps.", "For the definition of the tests we decided for XML. Why XML? XML is not just easier to read then pure R-Code, it comes with a feature, that is called XSD; \u201cXML schema definition\u201d. Each XML test case we create can immediately be checked against a schema designed by the developer. It can also be checked against our very own Rtest.xsd. This means the tester can double check the created test cases before even executing them. This saves us a lot of time and gives a fixed structure to all test cases.", "The reporting was implemented in HTML. This is due to the many features HTML comes with for reporting. It allows coloring of test results, linking to test cases and including images. The main difference for the reporting in HTML between RTest and testthat is that RTest reports every test that shall be executed, not only the failed ones. The test report will also include the value created by the function call and the one given as a reference. The reader can see if the comparison really went right. By this the test report contains way more information than the testthat console log.", "Please note the whole example is stored in a github gist. Please star the gist if you like this example.", "2. We want to have one successful and one non successful test. Both will have three parts in the XML file:", "testspec for whether the test shall run silently and what the tolerance is", "For the successful test our test would look like this:", "You can immediately see one special feature of RTest. It allows to use data sets for multiple tests, we store those data sets in the input-data tag.This saves space in the file. The dataset test01 will be used here. Moreover a test description can be given for each test. For each data.frame stored in XML the types of the columns can be given in col-defs . Here those are all numeric.", "It\u2019s a data frame with the x column just carrying 1 and the y column just carrying 2. The test shall create a data.frame with the sum column being 3 in each row.", "We can easily let the test fail by changing the reference tag and instead of having just 3 in the sum column we can add a 3.5 to let the test fail. The whole test case can be found inside the github gist with 90 rows.", "3. The execution of the test case is just one line of code. You shall have your working directory in the directory with the XML file and my_function shall be defined in the global environment.", "4. The test report now contains one successful and one failed test. Both will be visualized:", "additional information is given on all tests. For the test that failed we caused it by setting the sum to be 3.5 instead of 3. It\u2019s reported at the end of the table:", "Moreover the Report contains information on the environment where the test ran:", "That\u2019s it. Now you can test any package with RTest.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "software developer, data enthusiast, traveler and biostatistician \u2014 posting to https://www.mail-wolf.de"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F50f50b135650&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frtest-pretty-testing-of-r-packages-50f50b135650&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frtest-pretty-testing-of-r-packages-50f50b135650&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frtest-pretty-testing-of-r-packages-50f50b135650&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frtest-pretty-testing-of-r-packages-50f50b135650&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----50f50b135650--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----50f50b135650--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@zappingseb?source=post_page-----50f50b135650--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@zappingseb?source=post_page-----50f50b135650--------------------------------", "anchor_text": "Sebastian Wolf"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fdbc9f652035a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frtest-pretty-testing-of-r-packages-50f50b135650&user=Sebastian+Wolf&userId=dbc9f652035a&source=post_page-dbc9f652035a----50f50b135650---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F50f50b135650&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frtest-pretty-testing-of-r-packages-50f50b135650&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F50f50b135650&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frtest-pretty-testing-of-r-packages-50f50b135650&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "http://startupstockphotos.com/post/143841899156", "anchor_text": "http://startupstockphotos.com/post/143841899156"}, {"url": "http://testthat.r-lib.org/", "anchor_text": "testthat"}, {"url": "https://www.amazon.de/gp/product/1498763650/ref=as_li_tl?ie=UTF8&camp=1638&creative=6742&creativeASIN=1498763650&linkCode=as2&tag=zappingseb-21&linkId=ca15df0c474acdcf98c8750db741c4e3\">Testing R Code (Chapman &amp; Hall/Crc the R)</a><img src=\"//ir-de.amazon-adsystem.com/e/ir?t=zappingseb-21&l=am2&o=3&a=1498763650", "anchor_text": "Testing R Code"}, {"url": "https://medium.com/datadriveninvestor/how-to-get-people-r-ready-in-an-hour-thors-hammer-d8c853abaf0b?source=user_profile---------7------------------", "anchor_text": "few times"}, {"url": "https://specflow.org/", "anchor_text": "specflow"}, {"url": "http://docs.cucumber.io/guides/overview/", "anchor_text": "cucumber"}, {"url": "https://medium.com/datadriveninvestor/why-do-we-need-human-readable-tests-for-a-programming-language-1786d552f450", "anchor_text": "Why do we need human readable test for a programming language."}, {"url": "https://github.com/zappingseb/RTest", "anchor_text": "RTest"}, {"url": "https://gist.github.com/zappingseb/0f5dabe94c7d284bc543469c50a4213c", "anchor_text": "github gist"}, {"url": "https://gist.github.com/zappingseb/0f5dabe94c7d284bc543469c50a4213c", "anchor_text": "github gist with 90 rows"}, {"url": "https://github.com/zappingseb/RTest", "anchor_text": "RTest github repository"}, {"url": "https://zappingseb.github.io/RTest/articles/RTest.html", "anchor_text": "RTest documentation website"}, {"url": "https://medium.com/datadriveninvestor/why-do-we-need-human-readable-tests-for-a-programming-language-1786d552f450", "anchor_text": "Why do we need human readable test for a programming language"}, {"url": "https://www.linkedin.com/in/zappingseb", "anchor_text": "Author\u2019s LinkedIn p"}, {"url": "https://medium.com/tag/r?source=post_page-----50f50b135650---------------r-----------------", "anchor_text": "R"}, {"url": "https://medium.com/tag/testing?source=post_page-----50f50b135650---------------testing-----------------", "anchor_text": "Testing"}, {"url": "https://medium.com/tag/continuous-integration?source=post_page-----50f50b135650---------------continuous_integration-----------------", "anchor_text": "Continuous Integration"}, {"url": "https://medium.com/tag/specflow?source=post_page-----50f50b135650---------------specflow-----------------", "anchor_text": "Specflow"}, {"url": "https://medium.com/tag/cucumber?source=post_page-----50f50b135650---------------cucumber-----------------", "anchor_text": "Cucumber"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F50f50b135650&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frtest-pretty-testing-of-r-packages-50f50b135650&user=Sebastian+Wolf&userId=dbc9f652035a&source=-----50f50b135650---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F50f50b135650&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frtest-pretty-testing-of-r-packages-50f50b135650&user=Sebastian+Wolf&userId=dbc9f652035a&source=-----50f50b135650---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F50f50b135650&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frtest-pretty-testing-of-r-packages-50f50b135650&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----50f50b135650--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F50f50b135650&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frtest-pretty-testing-of-r-packages-50f50b135650&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----50f50b135650---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----50f50b135650--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----50f50b135650--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----50f50b135650--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----50f50b135650--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----50f50b135650--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----50f50b135650--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----50f50b135650--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----50f50b135650--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@zappingseb?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@zappingseb?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sebastian Wolf"}, {"url": "https://medium.com/@zappingseb/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "108 Followers"}, {"url": "https://www.mail-wolf.de", "anchor_text": "https://www.mail-wolf.de"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fdbc9f652035a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frtest-pretty-testing-of-r-packages-50f50b135650&user=Sebastian+Wolf&userId=dbc9f652035a&source=post_page-dbc9f652035a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fc4ab8fb694f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frtest-pretty-testing-of-r-packages-50f50b135650&newsletterV3=dbc9f652035a&newsletterV3Id=c4ab8fb694f1&user=Sebastian+Wolf&userId=dbc9f652035a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}