{"url": "https://towardsdatascience.com/working-with-time-series-data-a8872ebcac3", "time": 1683002239.038416, "path": "towardsdatascience.com/working-with-time-series-data-a8872ebcac3/", "webpage": {"metadata": {"title": "Working With Time Series Data. How to use Python to prepare your time\u2026 | by Alex Mitrani | Towards Data Science", "h1": "Working With Time Series Data", "description": "Data scientists study time series data to determine if a time based trend exists. We can analyze hourly subway passengers, daily temperatures, monthly sales, and more to see if there are various\u2026"}, "outgoing_paragraph_urls": [{"url": "https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html", "anchor_text": "Pandas", "paragraph_index": 1}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.to_datetime.html", "anchor_text": "to_datetime", "paragraph_index": 1}, {"url": "https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#dateoffset-objects", "anchor_text": "here", "paragraph_index": 5}, {"url": "https://towardsdatascience.com/ohlc-charts-with-python-libraries-c58c1ff080b0", "anchor_text": "previously wrote", "paragraph_index": 9}], "all_paragraphs": ["Data scientists study time series data to determine if a time based trend exists. We can analyze hourly subway passengers, daily temperatures, monthly sales, and more to see if there are various types of trends. These trends can then be used to predict future observations. Python has numerous libraries that work well with time series. I worked with the Campbell Soup Company\u2019s stock prices over the last ten years, the first five trading dates are below:", "Whether your data comes from a database, a .csv file, or an API you can organize your data with Python\u2019s Pandas library. Once you load your data into pandas you will need to check the data type of the time based column. If the values are in string format you will need to convert the datatype to a pandas datetime object. The stock price date column was a string datatype in the format \u201cyear-month-date.\u201d I utilized pandas\u2019 to_datetime method to convert this column to a datetime object:", "Note: I stored the data in a pandas dataframe called \u2018cpb\u2019", "Once the date column is converted to the proper data type then you can set the index of the dataframe to this column with the set_index method.", "You may have multiple dataframes with different time intervals. This creates the need for resampling the frequency of the data. Let\u2019s say you want to merge a dataframe with daily data and a dataframe with monthly data. This creates the need for downsampling, or grouping all of the daily data by month to create consistent intervals. Once the data is grouped then you need a compatible metric, usually the mean of the more frequent data, to restore consistency. These steps can be achieved in one line with the .resample() and .mean() methods:", "The MS parameter corresponds to monthly resampling. If the values resampled are more frequent than the parameter used then this is called downsampling. A list of the .resample() method\u2019s valid interval parameters can be found in the \u201cDateOffset objects\u201d table here.", "If the values resampled are less frequent than the parameter used then this is called upsampling. Null values are added where the new date intervals are created. I upsampled the values from daily prices to twice daily. In our stock price scenario pandas will assign the original price to the midnight time stamp and the null value to the noon time stamp:", "Pandas' forward fill and back fill options are two methods for dealing with these NaN values. .ffill() fills the NaN value with the value recorded earlier in the day:", ".bfill() fills the NaN value with the value recorded later in the day:", "I previously wrote about OHLC (Open-High-Low-Close) charts, the article contains the code for replicating the chart below:", "There are several charts we can use to analyze time series data. One that is helpful for price data is the period-over-period chart. The year-over-year price chart for Campbells is below:", "In 2016 and 2017, Campbell\u2019s nominal adjusted monthly stock price was comparatively higher, like we saw in the OHLC chart. This year over year chart doesn\u2019t reveal trends well because we are dealing with nominal prices and not growth rate change (see below):", "There appears to be consistent growth between August and September and consistent decline between February and April in Campbell\u2019s stock price. These potential trends should be analyzed further.", "Utilizing Python, data scientists can prepare time series data for analysis. Pandas has methods for filling in missing values based on the values of nearby dates. Through visualizations like the ones above we can see if there are trends worth investigating further. Once a trend is discovered it can be used to predict future observations.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data scientist with a passion for using technology to make informed decisions. Experience in Real Estate and Finance."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa8872ebcac3&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-time-series-data-a8872ebcac3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-time-series-data-a8872ebcac3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-time-series-data-a8872ebcac3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-time-series-data-a8872ebcac3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a8872ebcac3--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a8872ebcac3--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@amitrani?source=post_page-----a8872ebcac3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@amitrani?source=post_page-----a8872ebcac3--------------------------------", "anchor_text": "Alex Mitrani"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff991db459fee&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-time-series-data-a8872ebcac3&user=Alex+Mitrani&userId=f991db459fee&source=post_page-f991db459fee----a8872ebcac3---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa8872ebcac3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-time-series-data-a8872ebcac3&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa8872ebcac3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-time-series-data-a8872ebcac3&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://finance.yahoo.com/quote/CPB/history?p=CPB", "anchor_text": "Yahoo Finance"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html", "anchor_text": "Pandas"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.to_datetime.html", "anchor_text": "to_datetime"}, {"url": "https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#dateoffset-objects", "anchor_text": "here"}, {"url": "https://towardsdatascience.com/ohlc-charts-with-python-libraries-c58c1ff080b0", "anchor_text": "previously wrote"}, {"url": "https://plot.ly/python/ohlc-charts/", "anchor_text": "Plotly"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a8872ebcac3---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/time-series-analysis?source=post_page-----a8872ebcac3---------------time_series_analysis-----------------", "anchor_text": "Time Series Analysis"}, {"url": "https://medium.com/tag/visualization?source=post_page-----a8872ebcac3---------------visualization-----------------", "anchor_text": "Visualization"}, {"url": "https://medium.com/tag/python?source=post_page-----a8872ebcac3---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/timeseries?source=post_page-----a8872ebcac3---------------timeseries-----------------", "anchor_text": "Timeseries"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa8872ebcac3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-time-series-data-a8872ebcac3&user=Alex+Mitrani&userId=f991db459fee&source=-----a8872ebcac3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa8872ebcac3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-time-series-data-a8872ebcac3&user=Alex+Mitrani&userId=f991db459fee&source=-----a8872ebcac3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa8872ebcac3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-time-series-data-a8872ebcac3&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a8872ebcac3--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa8872ebcac3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-time-series-data-a8872ebcac3&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a8872ebcac3---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a8872ebcac3--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a8872ebcac3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a8872ebcac3--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a8872ebcac3--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a8872ebcac3--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a8872ebcac3--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a8872ebcac3--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a8872ebcac3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@amitrani?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@amitrani?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Alex Mitrani"}, {"url": "https://medium.com/@amitrani/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "397 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff991db459fee&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-time-series-data-a8872ebcac3&user=Alex+Mitrani&userId=f991db459fee&source=post_page-f991db459fee--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fc8096f730dcd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fworking-with-time-series-data-a8872ebcac3&newsletterV3=f991db459fee&newsletterV3Id=c8096f730dcd&user=Alex+Mitrani&userId=f991db459fee&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}