{"url": "https://towardsdatascience.com/causal-models-for-regression-96270bf464e0", "time": 1683006554.47181, "path": "towardsdatascience.com/causal-models-for-regression-96270bf464e0/", "webpage": {"metadata": {"title": "Causal Models for Regression. From Correlation to Causation | by Matteo Zullo | Towards Data Science", "h1": "Causal Models for Regression", "description": "Regression is the most widely implemented statistical tool in the social sciences and readily available in most off-the-shelf software. Because the statistics behind regression is pretty\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/matteozullo/Miscellanea/blob/master/Venn_CausalModels.R", "anchor_text": "GitHub code", "paragraph_index": 7}, {"url": "https://www.sciencedirect.com/science/article/pii/S0014292114001433?casa_token=vZeJO2FtlHkAAAAA:fsVGJpRC4gmjBnqlAhnFngiU0VacPmDTQb453twqe1JLhMVSYAJ6oFHrPaCI5zI4LbLHE-3l", "anchor_text": "Hanushek et al., 2015", "paragraph_index": 7}, {"url": "https://www.sciencedirect.com/science/article/abs/pii/S0360131519300405", "anchor_text": "Jovanovic et al., 2019", "paragraph_index": 11}], "all_paragraphs": ["Regression is the most widely implemented statistical tool in the social sciences and readily available in most off-the-shelf software. Because the statistics behind regression is pretty straightforward, it encourages newcomers to hit the run button before making sure to have a causal model for their data. However, understanding the math is necessary but not sufficient to interpret regression outputs appropriately. In fact, regression never reveals the causal relationships between variables but only disentangles the structure of the correlations.", "To see that, let\u2019s consider the bivariate regression model \u0176 = a + bX. The coefficient b reveals the same information of the coefficient of correlation r(Y,X) and captures the unconditional relationship \u2202\u0176/\u2202X between Y and X.Multivariate regression is a whole different world. Multivariate coefficients reveal the conditional relationship between Y and X, that is, the residual correlation of the two variables once the correlation between Y and the other regressors have been partialled out. In the simple multivariate regression model \u0176 = a + bX + cZ, the coefficient b = \u2202(Y|Z)/\u2202X represents the conditional or partial correlation between Y and X. The usual way we interpret it is that \u201cY changes by b units for each one-unit increase in X and holding Z constant\u201d.Unfortunately, it is tempting to start adding regressors to a regression model to explain more of the variation in the dependent variable. This is fine \u2014 or somewhat fine, as we shall see \u2014 if our goal is to predict the value of the dependent variable but not if our goal is to make claims on the relationships between the independent variables and the dependent variable. Algorithms such as stepwise regression automate the process of selecting regressors to boost the predictive power of a model but do that at the expense of \u201cportability\u201d. Often times, the regressors that are selected do not hinge on a causal model and therefore their explanatory power is specific to the particular training dataset and cannot be easily generalized to other datasets. Thus, the model is not \u201cportable\u201d.", "To understand why causal models are so important, we need to understand how regression coefficients are calculated. A Venn diagram representation comes in handy as sets can be used to represent the total variation in each one of the variables Y, X, and Z. For bivariate regression, the coefficient b is calculated using the region Y\u22c2X which represents the co-variation of Y and X. The case where two regressors are perfectly correlated is the case where the two sets overlap.In the multivariate case, the regression coefficient b is calculated using the subset Y\u22c2X \u2014 (Y\u22c2Z)\u22c2X of the covariation area. Similarly, (Y\u22c2Z)\u22c2X does not factor in the calculation of the c coefficient although Y and Z share this variation. This is because the intersection of the three areas (Y\u22c2Z)\u22c2X captures the total variation in Y which is jointly explained by the two regressors. The attribution of the joint area to either coefficient would be arbitrary.", "There are two important takeaways from this graphic illustration of regression. First of all, the total variation in Y which is explained by the two regressors b and c is not a sum of the total correlations \u03c1(Y,X) and \u03c1(Y,Z) but is equal or less than that. The equality condition holds when (Y\u22c2Z)\u22c2X = \u2205, which requires X and Z to be uncorrelated. In this case, almost never a practical possibility, the regression coefficient b in the bivariate regression \u0176 = a + bX is the same to the coefficient of the multivariate regression \u0176 = a+ bX + cZ.This leads us to the second and most important takeaway from the Venn diagram. Regression is just a mathematical map of the static relationships between the variables in a dataset. Adding complexity to a model does not \u201cincrease\u201d the size of the covariation regions but only dictates which parts of them are used to calculate the regression coefficients. Without a causal model of the relationships between the variables, it is always unwarranted to interpret any of the relationships as causal. In fact, the coefficient b in the multivariate regression only represents the portion of the variation in Y which is uniquely explained by X. Similarly, the multivariate coefficient c represents the variation in Y which is uniquely explained by Z.", "To move from a static representation to a dynamic interpretation of the relationships in the data, we need a causal model. In the social sciences, a causal model is often a theory grounded in some high-level interpretation of human behavior. However, a causal model does not need be a theory but can be any map that imposes a hierarchy between variables. A \u201chierarchy\u201d has to due with the time-order and logical derivation of the variables along the path that connects the target explanatory variable X and thedependent variable Y. Please note how the philosophy of inference differs from the philosophy of prediction here: in inference, we are always interested in the relationship between two individual variables; by contrast, prediction is about projecting the value of one variable given an undefined set of predictors. In order to impose such hierarchy, the following questions need be addressed (please note the references to the time-order):", "A causal model is exhaustive when three types of variables have been defined (please note the references to correlations):", "The distinction between mediators and moderators is sometimes a little tricky but I will not discuss it here.To estimate the effect of X on Y using regression, all the antecedents and all the moderators of X must be specified in the estimation equation; on the contrary, the mediators must not be included. Specifying the mediators would collapse b to an estimate of the direct effect of X on Y, which is sometimes interesting but should not be confused with the total effect of X on Y. This effect is channelled through multiple pathways which contribute to the covariance region Y\u22c2X.", "It is about time to introduce an example. Educational researchers are interested in the determinants of student achievement on standardized tests such SAT, ACT, GRE, PISA, and the likes. The SAT test is assessed on a continuous scale ranging between 400 and 1600 points and is particularly amenable to regression analysis. A researcher might think that taking a preparatory class in grade 12 has a positive effect on SAT score and wants to test this hypothesis. She figures \u2014 this is where a theory is very much needed \u2014 that there are two other variables that potentially drive the relationship, parental income and class rank in grade 12. For simplicity, she assumes that parental income did not vary from the year of birth to grade 12. Because class rank and and the preparatory class take place at about the same time, it is hard to tell which determines the other.In her model, parental income (in the graph, SES) is determined first and its relationships with the other variables are shown in the causal model below (here\u2019s the GitHub code for the graph). Higher SES affords more instructional resources and therefore determines both class rank and participation in the preparatory class. Also, SES a direct effect on SAT test score because early endowments dictate greater levels of cognitive ability \u2014 if you are interested in the subject, I suggest checking Hanushek et al., 2015. As a result, income has a direct effect on SAT test score as well as an indirect effect through class rank and test preparatory class. Furthermore, the researcher hypothesizes that class rank influences the likelihood of students participating in the preparatory class because those feeling more shaky about their competencies are more likely to attend the class. In this model, SES and class rank are antecedent variables and should therefore be specified in the estimation equation.", "A second researcher suggests that the relationship works the other way around. Students who participate in the preparatory class are more likely to rank higher in their grade 12 class. SES is still an antecedent while class rank mediates the effect of the preparatory class on SAT test score. Therefore, class rank must be omitted from the estimation equation in order to capture the total effect of the preparatory class on SAT score. If class rank was included \u2013and provided that there were no other mediating variables \u2013 the researcher would be estimating a direct effect rather than a total effect.", "This is a quick-and-dirty example that leaves out many of the dimensions accounted for in education production functions. Also, there are many more ways that we could think of the relationship between these variables, and different rationales supporting one or the other causal model. However, the example shows how paramount it is for researchers to tie their hands to a causal model before running regressions. Regression is nothing but a tool to partial out variation in the data but tells nothing about the nature of the relationships between variables.", "The figures below compares the covariance region that two causal models identify as a causal estimate of the impact of the preparatory class on SAT test score. Importantly, they do not change the underlying structure of covariance but only govern which portions are relevant to inference. Therefore, a causal model is a map between the static (correlational) representation of the relationships between variables and their dynamic (causal) representation.", "The benefit of the sketchy example above is that it warns practitioners against using stepwise regression algorithms and other selection methods for inference purposes. Does this all matters for Machine Learning? The answer is yes, it does. Although regression\u2019s typical use in Machine Learning is for predictive tasks, data scientists still want to generate models that are \u201cportable\u201d (check Jovanovic et al., 2019 for more on portability). Portable models are ones which are not overly specific to a given training data and that can scale to different datasets. The best way to ensure portability is to operate on a solid causal model, and this does not require any far-fetched social science theory but only some sound intuition.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "PhD candidate in Public Policy and MS in Analytics at the Georgia Institute of Technology and Georgia State University."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F96270bf464e0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausal-models-for-regression-96270bf464e0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausal-models-for-regression-96270bf464e0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausal-models-for-regression-96270bf464e0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausal-models-for-regression-96270bf464e0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----96270bf464e0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----96270bf464e0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@matteozullo?source=post_page-----96270bf464e0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@matteozullo?source=post_page-----96270bf464e0--------------------------------", "anchor_text": "Matteo Zullo"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F694e07ad0472&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausal-models-for-regression-96270bf464e0&user=Matteo+Zullo&userId=694e07ad0472&source=post_page-694e07ad0472----96270bf464e0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F96270bf464e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausal-models-for-regression-96270bf464e0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F96270bf464e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausal-models-for-regression-96270bf464e0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/matteozullo/Miscellanea/blob/master/Venn_CausalModels.R", "anchor_text": "GitHub code"}, {"url": "https://www.sciencedirect.com/science/article/pii/S0014292114001433?casa_token=vZeJO2FtlHkAAAAA:fsVGJpRC4gmjBnqlAhnFngiU0VacPmDTQb453twqe1JLhMVSYAJ6oFHrPaCI5zI4LbLHE-3l", "anchor_text": "Hanushek et al., 2015"}, {"url": "https://www.sciencedirect.com/science/article/abs/pii/S0360131519300405", "anchor_text": "Jovanovic et al., 2019"}, {"url": "https://medium.com/tag/data-science?source=post_page-----96270bf464e0---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/regression?source=post_page-----96270bf464e0---------------regression-----------------", "anchor_text": "Regression"}, {"url": "https://medium.com/tag/causal-inference?source=post_page-----96270bf464e0---------------causal_inference-----------------", "anchor_text": "Causal Inference"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----96270bf464e0---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----96270bf464e0---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F96270bf464e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausal-models-for-regression-96270bf464e0&user=Matteo+Zullo&userId=694e07ad0472&source=-----96270bf464e0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F96270bf464e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausal-models-for-regression-96270bf464e0&user=Matteo+Zullo&userId=694e07ad0472&source=-----96270bf464e0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F96270bf464e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausal-models-for-regression-96270bf464e0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----96270bf464e0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F96270bf464e0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausal-models-for-regression-96270bf464e0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----96270bf464e0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----96270bf464e0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----96270bf464e0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----96270bf464e0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----96270bf464e0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----96270bf464e0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----96270bf464e0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----96270bf464e0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----96270bf464e0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@matteozullo?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@matteozullo?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Matteo Zullo"}, {"url": "https://medium.com/@matteozullo/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "47 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F694e07ad0472&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausal-models-for-regression-96270bf464e0&user=Matteo+Zullo&userId=694e07ad0472&source=post_page-694e07ad0472--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F694e07ad0472%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcausal-models-for-regression-96270bf464e0&user=Matteo+Zullo&userId=694e07ad0472&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}