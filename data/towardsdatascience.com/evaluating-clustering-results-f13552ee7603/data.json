{"url": "https://towardsdatascience.com/evaluating-clustering-results-f13552ee7603", "time": 1683008910.768932, "path": "towardsdatascience.com/evaluating-clustering-results-f13552ee7603/", "webpage": {"metadata": {"title": "Evaluating Clustering Results. The criteria used to evaluate\u2026 | by Vijini Mallawaarachchi | Towards Data Science", "h1": "Evaluating Clustering Results", "description": "The main goal of clustering approaches is to obtain high intra-cluster similarity and low inter-cluster similarity (objects in the same cluster are more similar than the objects in different\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/metagenomics-who-is-there-and-what-are-they-doing-9f204342eed9", "anchor_text": "metagenomics", "paragraph_index": 0}, {"url": "http://vijinimallawaarachchi.com", "anchor_text": "vijinimallawaarachchi.com", "paragraph_index": 36}], "all_paragraphs": ["The main goal of clustering approaches is to obtain high intra-cluster similarity and low inter-cluster similarity (objects in the same cluster are more similar than the objects in different clusters). I have been using different clustering approaches in my work on metagenomics binning analysis and in this article, I would like to share some of my thoughts and the techniques I have used.", "Cluster analysis or clustering is the task of grouping a set of objects in such a way that objects in the same group (called a cluster) are more similar (in some sense) to each other than to those in other groups (clusters).", "I hope you are familiar with the terms used in classification such as TP, TN, FP, FN, accuracy, precision, recall and F1-score. I won\u2019t get into the details of these terms. If you want to recap, I found the following articles very useful.", "During some cases of my analyses, the clustering approaches were unable to find the correct number of clusters as in the gold standard. Some approaches over-estimates the number of clusters and the others under-estimate the number of clusters. During such cases, we cannot use the standard criteria used to analyse classification results where the resulting number of classes is the same as the number of classes in the gold standard.", "After going through the relevant literature in my field, I came across the criteria which have been adapted for situations which I had discussed before. Let\u2019s how we can continue with our evaluation.", "The clustering result is represented as a K x S matrix, as shown in Figure 1, where K is the number of clusters predicted by the clustering approach and S is the number of classes present in the gold standard.", "Here an element a\u2096\u209b denotes the total number of objects clustered to the k\u1d57\u02b0 cluster and belongs to the s\u1d57\u02b0 class in the gold standard.", "In an ideal case, K = S where the number of clusters predicted by the clustering approach is the same as the number of classes present in the gold standard. However, in certain cases, K < S or K > S where the number of clusters predicted by the clustering approach is not equal to the number of classes present in the gold standard.", "Using this matrix, we can find the following criteria.", "For each of the cluster, we obtain the gold standard class with the maximum number of objects assigned. Then, we sum the maximum number of objects for each cluster and divide it by the total number of clustered objects. The resulting value is the precision and using the K x S matrix, it is calculated as shown in Figure 2.", "For each gold standard class, we obtain the cluster with the maximum number of objects assigned. Then, we sum the maximum number of objects for each gold standard class and divide it by the total number of clustered objects and unclustered objects. The resulting value is the recall (also known as sensitivity) and using the K x S matrix, it is calculated as shown in Figure 3.", "Here U denotes the number of unclustered objects.", "The F1-score is the harmonic mean of precision and recall and is calculated as shown in Figure 4.", "The Adjusted Rand Index (ARI) is the corrected-for-chance version of the Rand Index (RI). It is a measure of how similar the clustering result is to its gold-standard grouping. Using the K x S matrix, the ARI is calculated as shown in Figure 5.", "Here N denotes the total number of clustered objects and (N 2) (binomial coefficient) is calculated as N(N-1)/2.", "Let us see an example where we will calculate the different evaluation criteria for a given clustering result. Assume that there are 257 objects in the gold standard where we know the class of each object.", "Let us assume an ideal case where we have 5 classes in the gold standard and 5 clusters are predicted by the clustering method. We can get a K x S matrix as shown below.", "If we relate to Figure 1, rows represent clusters and columns represent classes. The number of objects clustered to the first cluster and belongs to the first class in the gold standard (the intersection of the first row and the first column) is 64. Similarly, the number of objects clustered to the first cluster and belongs to the second class in the gold standard (the intersection of the first row and the second column) is 4.", "Note that the maximum values for each row and each column (64, 37, 44, 72 and 9) can be found in the diagonal, which tells us that the first cluster corresponds to the first class in the gold standard, the second cluster corresponds to the second class in the gold standard and so on.", "The total number of objects clustered will be 247.", "The number of unclustered objects will be 10.", "Now, let us calculate the precision, recall and F1-score using this matrix.", "Let us assume a case where we have 5 classes in the gold standard and 4 clusters are predicted by the clustering method. We can see that two clusters have been combined (the third row with 44 and 9).", "Now, let us calculate the precision, recall and F1-score using this matrix.", "Let us assume a case where we have 5 classes in the gold standard and 6 clusters are predicted by the clustering method. We can see that one cluster has been split (the third and fourth rows with 24 and 20).", "Now, let us calculate the precision, recall and F1-score using this matrix.", "Let us go through the values we have obtained for each of the example cases as shown in Figure 6.", "We can see that if the clustering method under-estimates the number of clusters (case K<S), i.e. combines clusters together and those clusters would contain multiple gold standard classes, then the precision is reduced but the recall remains the same as the ideal case. This is because, for the combined bin, only the maximum value will be considered in the row (44).", "Similarly, if the clustering method over-estimates the number of clusters (case K>S), i.e. splits actual clusters and gold standard classes are represented by multiple clusters, then the recall is reduced but the precision remains the same as the ideal case. This is because, for the split bins, only the maximum value will be considered in the column (24).", "In both the cases K<S and K>S the F1-score reduces as either precision or recall is reduced.", "Overall, we can see that the precision increases while the recall decreases with the number of clusters predicted by the clustering approach.", "I hope you found this article useful for your studies or research work.", "I have attached below a simple script where you can input the clustering result and the gold standard and get the precision, recall, F1-score and ARI values. This script takes in 2 .csv files; one for the clustering result and other for the gold standard.", "You can run this script using the command,", "Here, clustering_result.csv and gold_standard.csv should be in the format object_id,cluster_id. The precision, recall, F1 score and ARI values will be printed.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Bioinformatician | Computational Genomics \ud83e\uddec | Data Science \ud83d\udc69\ud83c\udffb\u200d\ud83d\udcbb | Music \ud83c\udfb5 | Astronomy \ud83d\udd2d | Travel \ud83c\udf92 | vijinimallawaarachchi.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff13552ee7603&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluating-clustering-results-f13552ee7603&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluating-clustering-results-f13552ee7603&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluating-clustering-results-f13552ee7603&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluating-clustering-results-f13552ee7603&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f13552ee7603--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f13552ee7603--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://vijini.medium.com/?source=post_page-----f13552ee7603--------------------------------", "anchor_text": ""}, {"url": "https://vijini.medium.com/?source=post_page-----f13552ee7603--------------------------------", "anchor_text": "Vijini Mallawaarachchi"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8002c1aed6e7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluating-clustering-results-f13552ee7603&user=Vijini+Mallawaarachchi&userId=8002c1aed6e7&source=post_page-8002c1aed6e7----f13552ee7603---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff13552ee7603&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluating-clustering-results-f13552ee7603&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff13552ee7603&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluating-clustering-results-f13552ee7603&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/metagenomics-who-is-there-and-what-are-they-doing-9f204342eed9", "anchor_text": "metagenomics"}, {"url": "https://en.wikipedia.org/wiki/Cluster_analysis", "anchor_text": "Wikipedia"}, {"url": "https://towardsdatascience.com/accuracy-recall-precision-f-score-specificity-which-to-optimize-on-867d3f11124", "anchor_text": "Accuracy, Recall, Precision, F-Score & Specificity, which to optimize on"}, {"url": "https://towardsdatascience.com/accuracy-precision-recall-or-f1-331fb37c5cb9", "anchor_text": "Accuracy, Precision, Recall or F1?"}, {"url": "https://towardsdatascience.com/beyond-accuracy-precision-and-recall-3da06bea9f6c", "anchor_text": "Beyond Accuracy: Precision and Recall"}, {"url": "https://doi.org/10.1093/bioinformatics/bts397", "anchor_text": "https://doi.org/10.1093/bioinformatics/bts397"}, {"url": "https://doi.org/10.1038/nmeth.3103", "anchor_text": "https://doi.org/10.1038/nmeth.3103"}, {"url": "https://doi.org/10.1186/s12859-017-1835-1", "anchor_text": "https://doi.org/10.1186/s12859-017-1835-1"}, {"url": "https://doi.org/10.1093/bioinformatics/btaa180", "anchor_text": "https://doi.org/10.1093/bioinformatics/btaa180"}, {"url": "https://medium.com/tag/clustering?source=post_page-----f13552ee7603---------------clustering-----------------", "anchor_text": "Clustering"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f13552ee7603---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----f13552ee7603---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/computer-science?source=post_page-----f13552ee7603---------------computer_science-----------------", "anchor_text": "Computer Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----f13552ee7603---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff13552ee7603&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluating-clustering-results-f13552ee7603&user=Vijini+Mallawaarachchi&userId=8002c1aed6e7&source=-----f13552ee7603---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff13552ee7603&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluating-clustering-results-f13552ee7603&user=Vijini+Mallawaarachchi&userId=8002c1aed6e7&source=-----f13552ee7603---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff13552ee7603&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluating-clustering-results-f13552ee7603&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f13552ee7603--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff13552ee7603&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluating-clustering-results-f13552ee7603&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f13552ee7603---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f13552ee7603--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f13552ee7603--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f13552ee7603--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f13552ee7603--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f13552ee7603--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f13552ee7603--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f13552ee7603--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f13552ee7603--------------------------------", "anchor_text": ""}, {"url": "https://vijini.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://vijini.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Vijini Mallawaarachchi"}, {"url": "https://vijini.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "8.7K Followers"}, {"url": "http://vijinimallawaarachchi.com", "anchor_text": "vijinimallawaarachchi.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8002c1aed6e7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluating-clustering-results-f13552ee7603&user=Vijini+Mallawaarachchi&userId=8002c1aed6e7&source=post_page-8002c1aed6e7--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F6560232ae7dd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fevaluating-clustering-results-f13552ee7603&newsletterV3=8002c1aed6e7&newsletterV3Id=6560232ae7dd&user=Vijini+Mallawaarachchi&userId=8002c1aed6e7&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}