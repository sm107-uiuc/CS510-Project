{"url": "https://towardsdatascience.com/map-mean-average-precision-might-confuse-you-5956f1bfa9e2", "time": 1683008886.195014, "path": "towardsdatascience.com/map-mean-average-precision-might-confuse-you-5956f1bfa9e2/", "webpage": {"metadata": {"title": "mAP (mean Average Precision) might confuse you! | by Shivy Yohanandan | Towards Data Science", "h1": "mAP (mean Average Precision) might confuse you!", "description": "One can be forgiven for taking mAP (mean average precision) to literally mean the average of precisions. Nevertheless, you couldn\u2019t be further from the truth! In computer vision, mAP is a popular\u2026"}, "outgoing_paragraph_urls": [{"url": "http://cocodataset.org/#detection-eval", "anchor_text": "COCO Evaluation", "paragraph_index": 28}, {"url": "https://console.xailient.com/", "anchor_text": "Click here", "paragraph_index": 38}, {"url": "https://console.xailient.com/", "anchor_text": "Click here", "paragraph_index": 39}, {"url": "https://www.xailient.com/post/obstacle-to-robust-object-detection", "anchor_text": "Check-out this post", "paragraph_index": 40}], "all_paragraphs": ["One can be forgiven for taking mAP (mean average precision) to literally mean the average of precisions. Nevertheless, you couldn\u2019t be further from the truth!", "In computer vision, mAP is a popular evaluation metric used for object detection (i.e. localisation and classification). Localization determines the location of an instance (e.g. bounding box coordinates) and classification tells you what it is (e.g. a dog or cat).", "Many object detection algorithms, such as Faster R-CNN, MobileNet SSD, and YOLO, use mAP to evaluate their models for publishing their research.", "You might ask, if it\u2019s such a popular metric, why is it still confusing?", "mAP stands for Mean Average Precision (as you might already have guessed looking at the title).", "You might think it is the average of the Precision.", "If you do not know already:", "Precision measures how accurate your predictions are. i.e. the percentage of your predictions are correct.", "It measures how many of the predictions that your model made were actually correct.", "TP = True Positives (Predicted as positive as was correct)", "FP = False Positives (Predicted as positive but was incorrect)", "If that was the case, let\u2019s calculate mAP for the following image:", "Because we only have one value the average of precision will be 1.", "Looking at the mAP score, you might end-up using this model in your application. That would be a disaster.", "AND THAT\u2019S THE CATCH! DON\u2019T LET THE TERM MISLEAD YOU.", "mAP is not calculated by taking the average of precision values.", "Object detection systems make predictions in terms of a bounding box and a class label.", "For each bounding box, we measure an overlap between the predicted bounding box and the ground truth bounding box. This is measured by IoU (intersection over union).", "For object detection tasks, we calculate Precision and Recall using IoU value for a given IoU threshold.", "For example, if IoU threshold is 0.5, and the IoU value for a prediction is 0.7, then we classify the prediction as True Positive (TF). On the other hand, if IoU is 0.3, we classify it as False Positive (FP).", "That also means that for a prediction, we may get different binary TRUE or FALSE positives, by changing the IoU threshold.", "Another important term to understand is Recall.", "Recall measures how well you find all the positives. For example, we can find 80% of the possible positive cases in our top K predictions.", "TP = True Positives (Predicted as positive as was correct)", "FN = False Negatives (Failed to predict an object that was there)", "The general definition for the Average Precision (AP) is finding the area under the precision-recall curve above.", "mAP (mean average precision) is the average of AP.", "In some contexts, AP is calculated for each class and averaged to get the mAP. But in others, they mean the same thing. For example, for COCO challenge evaluation, there is no difference between AP and mAP.", "AP is averaged over all categories. Traditionally, this is called \u201cmean average precision\u201d (mAP). We make no distinction between AP and mAP (and likewise AR and mAR) and assume the difference is clear from context. COCO Evaluation", "The mean Average Precision or mAP score is calculated by taking the mean AP over all classes and/or overall IoU thresholds, depending on different detection challenges that exist.", "In PASCAL VOC2007 challenge, AP for one object class is calculated for an IoU threshold of 0.5. So the mAP is averaged over all object classes.", "For the COCO 2017 challenge, the mAP is averaged over all object categories and 10 IoU thresholds.", "So for the above ADAS image, let\u2019s calculate the mAP using the actual formula:", "Here we assume that the confidence score threshold is 0.5 and the IoU threshold is also 0.5.", "So we calculate the AP at IoU threshold o.5.", "For simplicity, we will calculate an average for the 11-point interpolated AP. In the latest research, more advanced techniques have been introduced to calculate the AP.", "We plot the 11 points interpolated Precision-Recall curve.", "Hope this clarifies your misunderstanding on mAP.", "Want to train and evaluate a computer vision model? Click here.", "Looking for a pre-trained face detection model. Click here to download.", "Check-out this post for more details on creating a robust object detection model.", "Van Etten, A. (2019, January). Satellite imagery multiscale rapid detection with windowed networks. In 2019 IEEE Winter Conference on Applications of Computer Vision (WACV) (pp. 735\u2013743). IEEE.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Co-Founder and CTO at Xailient | Neuroscientist-Bioengineer | PhD in artificial intelligence and computer vision | Helped build Australia\u2019s first bionic eye"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5956f1bfa9e2&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmap-mean-average-precision-might-confuse-you-5956f1bfa9e2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmap-mean-average-precision-might-confuse-you-5956f1bfa9e2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmap-mean-average-precision-might-confuse-you-5956f1bfa9e2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmap-mean-average-precision-might-confuse-you-5956f1bfa9e2&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5956f1bfa9e2--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5956f1bfa9e2--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@shivy_yohanandan?source=post_page-----5956f1bfa9e2--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@shivy_yohanandan?source=post_page-----5956f1bfa9e2--------------------------------", "anchor_text": "Shivy Yohanandan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F41cae9fb98df&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmap-mean-average-precision-might-confuse-you-5956f1bfa9e2&user=Shivy+Yohanandan&userId=41cae9fb98df&source=post_page-41cae9fb98df----5956f1bfa9e2---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5956f1bfa9e2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmap-mean-average-precision-might-confuse-you-5956f1bfa9e2&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5956f1bfa9e2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmap-mean-average-precision-might-confuse-you-5956f1bfa9e2&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@jules_bss?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Jules Bss"}, {"url": "https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://unsplash.com/@kotecinho?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Kote Puerto"}, {"url": "https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "http://cocodataset.org/#detection-eval", "anchor_text": "COCO Evaluation"}, {"url": "https://www.groundai.com/project/satellite-imagery-multiscale-rapid-detection-with-windowed-networks/1", "anchor_text": "Van Etten, A. (2019, January)"}, {"url": "https://www.xailient.com/post/map-mean-average-precision-might-confuse-you", "anchor_text": "www.xailient.com/blogs"}, {"url": "https://console.xailient.com/", "anchor_text": "Click here"}, {"url": "https://console.xailient.com/", "anchor_text": "Click here"}, {"url": "https://www.xailient.com/post/obstacle-to-robust-object-detection", "anchor_text": "Check-out this post"}, {"url": "http://cocodataset.org/#detection-eval", "anchor_text": "COCO \u2014 Common Objects in ContextEdit descriptioncocodataset.org"}, {"url": "http://host.robots.ox.ac.uk/pascal/VOC/", "anchor_text": "http://host.robots.ox.ac.uk/pascal/VOC/"}, {"url": "https://medium.com/@timothycarlen/understanding-the-map-evaluation-metric-for-object-detection-a07fe6962cf3", "anchor_text": "Understanding the mAP Evaluation Metric for Object DetectionIf you\u2019ve evaluated models in object detection or you\u2019ve read papers in this area, you may have encountered the mean\u2026medium.com"}, {"url": "https://towardsdatascience.com/breaking-down-mean-average-precision-map-ae462f623a52#1a59", "anchor_text": "Breaking down Mean Average Precision (mAP)What AP does, in this case, is to penalize models that are not able to sort G\u2019 with TPs leading the set. It provides a\u2026towardsdatascience.com"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----5956f1bfa9e2---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----5956f1bfa9e2---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/evaluation?source=post_page-----5956f1bfa9e2---------------evaluation-----------------", "anchor_text": "Evaluation"}, {"url": "https://medium.com/tag/computer-vision?source=post_page-----5956f1bfa9e2---------------computer_vision-----------------", "anchor_text": "Computer Vision"}, {"url": "https://medium.com/tag/metrics?source=post_page-----5956f1bfa9e2---------------metrics-----------------", "anchor_text": "Metrics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5956f1bfa9e2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmap-mean-average-precision-might-confuse-you-5956f1bfa9e2&user=Shivy+Yohanandan&userId=41cae9fb98df&source=-----5956f1bfa9e2---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5956f1bfa9e2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmap-mean-average-precision-might-confuse-you-5956f1bfa9e2&user=Shivy+Yohanandan&userId=41cae9fb98df&source=-----5956f1bfa9e2---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5956f1bfa9e2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmap-mean-average-precision-might-confuse-you-5956f1bfa9e2&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5956f1bfa9e2--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5956f1bfa9e2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmap-mean-average-precision-might-confuse-you-5956f1bfa9e2&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5956f1bfa9e2---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5956f1bfa9e2--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5956f1bfa9e2--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5956f1bfa9e2--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5956f1bfa9e2--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5956f1bfa9e2--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5956f1bfa9e2--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5956f1bfa9e2--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5956f1bfa9e2--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@shivy_yohanandan?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@shivy_yohanandan?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Shivy Yohanandan"}, {"url": "https://medium.com/@shivy_yohanandan/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "57 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F41cae9fb98df&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmap-mean-average-precision-might-confuse-you-5956f1bfa9e2&user=Shivy+Yohanandan&userId=41cae9fb98df&source=post_page-41cae9fb98df--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F1099d3082520&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmap-mean-average-precision-might-confuse-you-5956f1bfa9e2&newsletterV3=41cae9fb98df&newsletterV3Id=1099d3082520&user=Shivy+Yohanandan&userId=41cae9fb98df&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}