{"url": "https://towardsdatascience.com/pandas-on-the-cloud-with-dask-9451199b0226", "time": 1683014275.433671, "path": "towardsdatascience.com/pandas-on-the-cloud-with-dask-9451199b0226/", "webpage": {"metadata": {"title": "Pandas on the Cloud with Dask. Scaling your Pythonic data science and\u2026 | by hugo bowne-anderson | Towards Data Science", "h1": "Pandas on the Cloud with Dask", "description": "When doing data science and/or machine learning, it is becoming increasingly common to need to scale up your analyses to larger datasets. When working in Python and the PyData ecosystem, Dask is a\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/coiled/data-science-at-scale/blob/master/01-data-analysis-at-scale.ipynb", "anchor_text": "here on Github", "paragraph_index": 4}, {"url": "http://beta.coiled.io/", "anchor_text": "Coiled Cloud", "paragraph_index": 20}, {"url": "https://cloud.coiled.io/", "anchor_text": "Coiled Cloud", "paragraph_index": 25}, {"url": "http://hugobowne.github.io/", "anchor_text": "http://hugobowne.github.io/", "paragraph_index": 27}], "all_paragraphs": ["When doing data science and/or machine learning, it is becoming increasingly common to need to scale up your analyses to larger datasets.", "When working in Python and the PyData ecosystem, Dask is a popular tool for doing so. There are many reasons for this, one being that Dask composes well with all of the PyData tools. It\u2019s a simple system designed to parallelize any PyData library.", "When beginning to work with a larger dataset, you\u2019ll first want to scale up your analysis to leverage all the cores of a single workstation.", "After this, you may need to scale out your computation to leverage a cluster on the cloud (AWS, Azure, or Google Cloud Platform, for example).", "You can also find all the code here on Github.", "Note: you should always try to reason about whether you actually need to scale out your computation. For example, before doing so, perhaps you could make your pandas code more efficient. If you\u2019re doing machine learning, plot learning curves to make sure that including more data will actually result in improving your model.", "Here, we introduce a common pattern in data science and show how to perform it using pandas on an in-memory dataset. We\u2019ll check out a 700MB subset of the NYC taxi dataset (which is ~10 GB, in total).", "We read in the data and use the groupby DataFrame method to check out the average tip amount, as a function of passenger count:", "This took around 15 seconds on my laptop, which is within my tolerance of time that I\u2019m willing to wait for my analysis.", "Next, I want to perform exactly the same analysis on the entire dataset.", "Recall that the entire dataset is around 10GB, which is more than the available RAM on my laptop, meaning I can\u2019t store it in memory.", "I could write a for loop:", "This doesn\u2019t take advantage of the multiple cores on my laptop nor is it particularly elegant. Enter Dask for single machine parallelism.", "We import several parts of Dask, spin up a local cluster and instantiate a Dask client:", "We then import Dask DataFrame, read in all the data (lazily), and compute the same groupby, as we did with pandas above.", "This takes around 3.5 minutes on my laptop, which is bearable. I suppose. However, if you wanted to do anything even slightly more sophisticated (hint: you usually do), this time would blow up pretty quickly.", "So if I had access to a cluster on the cloud, it would be a good idea to use it!", "Before doing so, let\u2019s note several aspects of what we\u2019ve just done:", "What this means is that the client lives wherever you are writing your Python code and the client talks to the scheduler, passing it the tasks.", "It\u2019s now time to burst to the cloud. If you had access to cloud resources (such as AWS) and knew how to configure Kubernetes and Docker containers, you could get a Dask cluster up and running in the cloud. This would still take a significant amount of time, however.", "An alternative is to use Coiled, which we\u2019ll do here. To do so, I\u2019ve also signed into Coiled Cloud, pip installed coiled, and authenticated. You can do this yourself in a terminal if you want to follow along", "We then perform our necessary imports, spin up a cluster (which takes about a minute), and instantiate our client:", "We can then import our data (this time from s3), and perform our groupby:", "This all took under 30 seconds on Coiled Cloud, an order of magnitude less time than it took on my laptop, even for this relatively straightforward analysis.", "Note the power of being able to do this set of analyses in a single workflow. There was no need to switch contexts or environments. On top of this, from Coiled, it is straightforward to go back to using Dask on my local workstation or pandas when we\u2019re done. Cloud compute is great when it\u2019s necessary, but can be a burden when it\u2019s not.", "You too can get started on a Coiled cluster immediately. Coiled also handles security, conda/docker environments, and team management, so you can get back to doing data science. Get started for free today on Coiled Cloud.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I\u2019m a data scientist, writer, educator & podcaster. You can find out more here: http://hugobowne.github.io/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F9451199b0226&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-on-the-cloud-with-dask-9451199b0226&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-on-the-cloud-with-dask-9451199b0226&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-on-the-cloud-with-dask-9451199b0226&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-on-the-cloud-with-dask-9451199b0226&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----9451199b0226--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----9451199b0226--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@hugobowne?source=post_page-----9451199b0226--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@hugobowne?source=post_page-----9451199b0226--------------------------------", "anchor_text": "hugo bowne-anderson"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F951c0f6777f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-on-the-cloud-with-dask-9451199b0226&user=hugo+bowne-anderson&userId=951c0f6777f1&source=post_page-951c0f6777f1----9451199b0226---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9451199b0226&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-on-the-cloud-with-dask-9451199b0226&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9451199b0226&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-on-the-cloud-with-dask-9451199b0226&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@miracleday?utm_source=medium&utm_medium=referral", "anchor_text": "Elena Mozhvilo"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "http://cloud.coiled.io/", "anchor_text": "Coiled Cloud"}, {"url": "https://medium.com/coiled-hq/coiled-dask-for-everyone-everywhere-376f5de0eff4", "anchor_text": "we just launched our Cloud product"}, {"url": "https://github.com/coiled/data-science-at-scale/blob/master/01-data-analysis-at-scale.ipynb", "anchor_text": "here on Github"}, {"url": "http://beta.coiled.io/", "anchor_text": "Coiled Cloud"}, {"url": "https://cloud.coiled.io/", "anchor_text": "Coiled Cloud"}, {"url": "https://coiled.io/blog/dask-in-the-cloud/", "anchor_text": "https://coiled.io"}, {"url": "https://medium.com/tag/python?source=post_page-----9451199b0226---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----9451199b0226---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/cloud-computing?source=post_page-----9451199b0226---------------cloud_computing-----------------", "anchor_text": "Cloud Computing"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----9451199b0226---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/editors-pick?source=post_page-----9451199b0226---------------editors_pick-----------------", "anchor_text": "Editors Pick"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F9451199b0226&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-on-the-cloud-with-dask-9451199b0226&user=hugo+bowne-anderson&userId=951c0f6777f1&source=-----9451199b0226---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F9451199b0226&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-on-the-cloud-with-dask-9451199b0226&user=hugo+bowne-anderson&userId=951c0f6777f1&source=-----9451199b0226---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9451199b0226&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-on-the-cloud-with-dask-9451199b0226&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----9451199b0226--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F9451199b0226&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-on-the-cloud-with-dask-9451199b0226&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----9451199b0226---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----9451199b0226--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----9451199b0226--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----9451199b0226--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----9451199b0226--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----9451199b0226--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----9451199b0226--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----9451199b0226--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----9451199b0226--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@hugobowne?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@hugobowne?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "hugo bowne-anderson"}, {"url": "https://medium.com/@hugobowne/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "158 Followers"}, {"url": "http://hugobowne.github.io/", "anchor_text": "http://hugobowne.github.io/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F951c0f6777f1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-on-the-cloud-with-dask-9451199b0226&user=hugo+bowne-anderson&userId=951c0f6777f1&source=post_page-951c0f6777f1--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F60b4e8348142&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpandas-on-the-cloud-with-dask-9451199b0226&newsletterV3=951c0f6777f1&newsletterV3Id=60b4e8348142&user=hugo+bowne-anderson&userId=951c0f6777f1&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}