{"url": "https://towardsdatascience.com/data-lake-comparing-performance-of-known-big-data-formats-eace705b6fd8", "time": 1683014358.930816, "path": "towardsdatascience.com/data-lake-comparing-performance-of-known-big-data-formats-eace705b6fd8/", "webpage": {"metadata": {"title": "Data Lake -Comparing Performance of Known Big Data Formats | by Manoj Kukreja | Towards Data Science", "h1": "Data Lake -Comparing Performance of Known Big Data Formats", "description": "For the past several years, I have been using all kinds of data formats in Big Data projects. During this time I have strongly favored one format over other \u2014 my failures have taught me a few\u2026"}, "outgoing_paragraph_urls": [{"url": "http://www.datafence.com", "anchor_text": "Datafence Cloud Academy", "paragraph_index": 17}], "all_paragraphs": ["For the past several years, I have been using all kinds of data formats in Big Data projects. During this time I have strongly favored one format over other \u2014 my failures have taught me a few lessons. During my lectures I keep stressing the importance of using the correct Data Format for the correct purpose \u2014 it makes a world of a difference.", "All this time I have wondered whether I am delivering the right knowledge to my customers and students. Can I support my claims using data? Therefore I decided to do this performance comparison.", "Before I start the comparison let me briefly describe to you the various Data Formats that were considered.", "I am sure you are wondering what\u2019s the difference between Row and Columnar Formats. How data is stored on disk makes all the difference. While row format is stored as Row 1 > Row 2 > Row 3 the columnar format is stored to disk as Col 1 > Col 2 > Col 3", "All good but how does that matter\u2026data is data. Well not quite. What if I ask you to average the Salary column. For the row format of data each row needs to be read from disk, the salary column extracted and then averaged. This consumes a lot of IO because of a large sector of disk needs to be read.", "For the columnar format a contiguous block of Salary column is read from disk in one shot and then averaged. Less IO means higher performance. Mathematical operations like averaging, summation etc. comprise a large portion of Data Analytics processing \u2014 naturally the columnar format is favored in OLAP", "If row format is that bad then why is it still used? Well the row format is a clear winner if you are performing OLTP. In case of web/mobile applications you care less about mathematical processing over a range of rows, but you do want fast access for singular row. That\u2019s where the row format is an automatic choice. For this reason, all known relational databases store data in this fashion.", "Storage Layer: Hadoop 3 .2.1\u2014 Hadoop File System (HDFS)", "Data Sample Size: 500 million rows stored in HDFS", "Following are the results of the file sizes across different formats. Notice the vast variation in file sizes for 500 million rows. JSON has the largest footprint whereas Parquet has the lowest.", "JSON has the largest footprint because it stores the schema attributes for each row. For this reason, I rarely store JSON or CSV formats in curated and transformed zone in a data lake. JSON and CSV formats are still the most widely used data interchange methods. I make it a point to convert them to binary formats after ingestion from source. My data lake usually looks like:", "Curated and Transformed Zone: Avro, ORC or Parquet (or a combination thereof)", "Following are the results of the sort operation across different formats. As expected JSON performed the slowest and Parquet, ORC were fastest. I must admit that I was a little surprised to see AVRO perform pretty well.", "Following are the results of the grouping operation and finding the maximum value across different formats. Note that this operation is purely mathematical in nature. It closely resembles a Data Analytics use case. I am happy to confirm that all binary formats (AVRO, Parquet, ORC) performed reasonably well.", "Parquet and ORC performed almost the same, however ORC had a slightly smaller file footprint. Little surprised to see the adoption of ORC has hugely declined in the recent years. I hardly encounter any projects using ORC format any more.", "To sum up I can now safely infer that Parquet and ORC formats are indeed well suited for Data Analytics operations. Another very important takeaway from this article is \u2014 Immediately discontinue using CSV, JSON in your curated and transformed zones. That may seem obvious but you will be surprised how many times I run into deployments that do not follow this rule.", "All the code for this comparison can be found on the link below:", "I hope this article was helpful. The topic of Big Data Formats is covered in greater detail as part of the Big Data Hadoop, Spark & Kafka course offered by Datafence Cloud Academy. The course is taught online by myself on weekends.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Author, Big Data Engineering, Data Science, Data Lakes, Cloud Computing and IT security specialist."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Feace705b6fd8&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-lake-comparing-performance-of-known-big-data-formats-eace705b6fd8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-lake-comparing-performance-of-known-big-data-formats-eace705b6fd8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-lake-comparing-performance-of-known-big-data-formats-eace705b6fd8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-lake-comparing-performance-of-known-big-data-formats-eace705b6fd8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----eace705b6fd8--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----eace705b6fd8--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mkukreja1.medium.com/?source=post_page-----eace705b6fd8--------------------------------", "anchor_text": ""}, {"url": "https://mkukreja1.medium.com/?source=post_page-----eace705b6fd8--------------------------------", "anchor_text": "Manoj Kukreja"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4076fc16cb6a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-lake-comparing-performance-of-known-big-data-formats-eace705b6fd8&user=Manoj+Kukreja&userId=4076fc16cb6a&source=post_page-4076fc16cb6a----eace705b6fd8---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Feace705b6fd8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-lake-comparing-performance-of-known-big-data-formats-eace705b6fd8&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Feace705b6fd8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-lake-comparing-performance-of-known-big-data-formats-eace705b6fd8&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@mbaumi?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Mika Baumeister"}, {"url": "https://unsplash.com/s/photos/data?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://github.com/mkukreja1/blogs/tree/master/data-formats", "anchor_text": "mkukreja1/blogsYou can't perform that action at this time. You signed in with another tab or window. You signed out in another tab or\u2026github.com"}, {"url": "http://www.datafence.com", "anchor_text": "Datafence Cloud Academy"}, {"url": "https://medium.com/tag/data-science?source=post_page-----eace705b6fd8---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data?source=post_page-----eace705b6fd8---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----eace705b6fd8---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/analytics?source=post_page-----eace705b6fd8---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/tag/big-data?source=post_page-----eace705b6fd8---------------big_data-----------------", "anchor_text": "Big Data"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Feace705b6fd8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-lake-comparing-performance-of-known-big-data-formats-eace705b6fd8&user=Manoj+Kukreja&userId=4076fc16cb6a&source=-----eace705b6fd8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Feace705b6fd8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-lake-comparing-performance-of-known-big-data-formats-eace705b6fd8&user=Manoj+Kukreja&userId=4076fc16cb6a&source=-----eace705b6fd8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Feace705b6fd8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-lake-comparing-performance-of-known-big-data-formats-eace705b6fd8&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----eace705b6fd8--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Feace705b6fd8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-lake-comparing-performance-of-known-big-data-formats-eace705b6fd8&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----eace705b6fd8---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----eace705b6fd8--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----eace705b6fd8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----eace705b6fd8--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----eace705b6fd8--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----eace705b6fd8--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----eace705b6fd8--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----eace705b6fd8--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----eace705b6fd8--------------------------------", "anchor_text": ""}, {"url": "https://mkukreja1.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mkukreja1.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Manoj Kukreja"}, {"url": "https://mkukreja1.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "626 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4076fc16cb6a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-lake-comparing-performance-of-known-big-data-formats-eace705b6fd8&user=Manoj+Kukreja&userId=4076fc16cb6a&source=post_page-4076fc16cb6a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ffc0268f00243&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-lake-comparing-performance-of-known-big-data-formats-eace705b6fd8&newsletterV3=4076fc16cb6a&newsletterV3Id=fc0268f00243&user=Manoj+Kukreja&userId=4076fc16cb6a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}