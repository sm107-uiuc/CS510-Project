{"url": "https://towardsdatascience.com/predicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6", "time": 1682996347.465565, "path": "towardsdatascience.com/predicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6/", "webpage": {"metadata": {"title": "Predicting Airbnb prices with machine learning and deep learning | by Laura Lewis | Towards Data Science", "h1": "Predicting Airbnb prices with machine learning and deep learning", "description": "In this article I use machine learning to predict Airbnb prices, including experimentation with XGBoost and tuning neural networks"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/predicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c", "anchor_text": "preparation and cleaning of Airbnb data", "paragraph_index": 3}, {"url": "https://towardsdatascience.com/predicting-airbnb-prices-with-deep-learning-part-2-how-to-improve-your-nightly-price-50ea8bc2bd29", "anchor_text": "exploratory data analysis", "paragraph_index": 3}, {"url": "https://insideairbnb.com/", "anchor_text": "Insideairbnb.com", "paragraph_index": 4}, {"url": "https://www.airdna.co/", "anchor_text": "AirDNA", "paragraph_index": 6}, {"url": "https://github.com/L-Lewis/Airbnb-neural-network-price-prediction", "anchor_text": "GitHub repo", "paragraph_index": 8}], "all_paragraphs": ["Airbnb is a home-sharing platform that allows home-owners and renters (\u2018hosts\u2019) to put their properties (\u2018listings\u2019) online, so that guests can pay to stay in them. Hosts are expected to set their own prices for their listings. Although Airbnb and other sites provide some general guidance, there are currently no free and accurate services which help hosts price their properties using a wide range of data points.", "Paid third party pricing software is available, but generally you are required to put in your own expected average nightly price (\u2018base price\u2019), and the algorithm will vary the daily price around that base price on each day depending on day of the week, seasonality, how far away the date is, and other factors.", "Airbnb pricing is important to get right, particularly in big cities like London where there is lots of competition and even small differences in prices can make a big difference. It is also a difficult thing to do correctly \u2014 price too high and no one will book. Price too low and you\u2019ll be missing out on a lot of potential income.", "This project aims to solve this problem, by using machine learning and deep learning to predict the base price for properties in London. I\u2019ve explored the preparation and cleaning of Airbnb data and conducted some exploratory data analysis in previous posts. This post is all about the creation of models to predict Airbnb prices.", "The dataset used for this project comes from Insideairbnb.com, an anti-Airbnb lobby group that scrapes Airbnb listings, reviews and calendar data from multiple cities around the world. The dataset was scraped on 9 April 2019 and contains information on all London Airbnb listings that were live on the site on that date (about 80,000).", "The data is quite messy, and has some limitations. The major one is that it only includes the advertised price (sometimes called the \u2018sticker\u2019 price). The sticker price is the overall nightly price that is advertised to potential guests, rather than the actual average amount paid per night by previous guests. The advertised prices can be set to any amount by the host.", "Nevertheless, this dataset can still be used as a proof of concept. A more accurate version could be built using data on the actual average nightly rates paid by guests, e.g. from sites like AirDNA that scrape and sell higher quality Airbnb data.", "After cleaning and dropping collinear columns, the features in the model were:", "In the interests of space I\u2019ll skip the data preparation stage here, but all the code for this project can be found in my GitHub repo if you\u2019re interested. To summarise, after cleaning the data, checking for multi-collinearity and removing collinear features, the data was standardised using sklearn\u2019s StandardScaler() unless otherwise stated. Categorical features were one-hot encoded using pd.get_dummies(). A train-test split was performed with a test size of 0.2.", "Although I was keen to experiment with deep learning models for price prediction, I first built a vanilla (non-tuned) XGBoost machine learning model (specifically xgb.XGBRegressor()). This was in order to provide a baseline level of accuracy, and also to allow for the measuring of feature importance (something which is notoriously difficult once you enter the realm of deep learning). XGBoost is likely to provide the best achievable accuracy using machine learning models (other than possible small accuracy increases from hyper-parameter tuning) due to its superior performance and general awesomeness as observed in Kaggle competitions.", "Because this is a regression task, the evaluation metric chosen was mean squared error (MSE). I was also interested in accuracy, so I also had a look at the r squared value for each model produced.", "Here\u2019s my code to fit and evaluate the model:", "Not bad for an un-tuned model. Now for the feature importances:", "The top 10 most important features are:", "It is not surprising that the most important feature is how many people the property accommodates, as that\u2019s one of the main things you would use to search for properties in the first place. It is also not surprising that features related to location and reviews are in the top ten.", "It is perhaps more surprising that the third most important feature is related to how many other listings the host manages on Airbnb, rather than the listing itself. However, this does not mean that a host that manages more properties will result in a listing gaining higher prices (although this is indeed the direction of the relationship). Firstly, the data appears to be somewhat skewed by a few very large property managers. Secondly, the relationship is with the advertised prices set, rather than actual prices achieved, suggesting that if anything more experienced hosts tend to set (rather than necessarily achieve) higher prices. And thirdly, we cannot necessarily imply a causative relationship \u2014 it could be that more experienced multi-listing hosts tend to take on more expensive properties (which is indeed the case for some, e.g. One Fine Stay).", "It is also notable that three other fee types \u2014 cleaning, security and extra people \u2014 all make the top 10 feature list. It is likely that when a host sets a higher price for the nightly stay they are also likely to set other prices high, or vice versa.", "Next up, I decided to experiment with neural networks (NN), to see if I could improve upon the XGBoost model\u2019s score. I started off with a relatively shallow three layer NN with densely-connected layers, using a relu activation function for the hidden layers and a linear activation function for the output layer (as it is being used for a regression task). The loss function was mean squared error (again, because this is for regression).", "And here\u2019s the summary and visualisation:", "In order to save time when evaluating multiple methods, I built a handy function to print the MSE and r squared results for the test and train sets, as well as produce a line graph of the loss in each epoch for the test and train sets and a scatterplot of predicted vs. actual values:", "Compared to the XGBoost model the neural network has performed worse. Overfitting also seems to be an issue, as seen from the difference between the train and test MSE and r squared results, as well as the difference between the train and test losses in the line graph, and the fact that the values cluster more closely to the line in the scatterplots.", "I then iterated through various other versions of the model in order to try and remove the overfitting and increase the accuracy. Overfitting was removed in each other version, although accuracy did vary. The adjustments that I experimented with were:", "In the end, the best NN was the four-layer model with L1 regularization and an Adam optimizer, with the extra review columns removed:", "However, even this model architecture did not perform quite as well as the XGBoost model. Overall, the XGBoost model is the preferred model, as it performs ever so slightly better than the best neural network and is less computationally expensive. It could possibly be improved even further with hyper-parameter tuning.", "This is one of those situations where deep learning simply isn\u2019t necessary for prediction, and a machine learning model performs just as well.", "However, even in the best performing model, the model was only able to explain 73% of the variation in price. The remaining 27% is probably made up of features that were not present in the data. It is likely that a significant proportion of this unexplained variance is due to variations in the listing photos. The photos of properties on Airbnb are very important in encouraging guests to book, and so can also be expected to have a significant impact on price \u2014 better photos (primarily better quality properties and furnishings, but also better quality photography) equal higher prices.", "I hope you found this post interesting and/or helpful. Thanks for reading!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist at Amazon. Previously in data in startups, academia and government. Oxford PhD."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff46d44afb8a6&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f46d44afb8a6--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f46d44afb8a6--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@lvlewis8?source=post_page-----f46d44afb8a6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lvlewis8?source=post_page-----f46d44afb8a6--------------------------------", "anchor_text": "Laura Lewis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fafb662460a24&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6&user=Laura+Lewis&userId=afb662460a24&source=post_page-afb662460a24----f46d44afb8a6---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff46d44afb8a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff46d44afb8a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/predicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c", "anchor_text": "preparation and cleaning of Airbnb data"}, {"url": "https://towardsdatascience.com/predicting-airbnb-prices-with-deep-learning-part-2-how-to-improve-your-nightly-price-50ea8bc2bd29", "anchor_text": "exploratory data analysis"}, {"url": "https://insideairbnb.com/", "anchor_text": "Insideairbnb.com"}, {"url": "https://www.airdna.co/", "anchor_text": "AirDNA"}, {"url": "https://towardsdatascience.com/predicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c", "anchor_text": "previous post"}, {"url": "https://towardsdatascience.com/predicting-airbnb-prices-with-deep-learning-part-1-how-to-clean-up-airbnb-data-a5d58e299f6c", "anchor_text": "previous post"}, {"url": "https://github.com/L-Lewis/Airbnb-neural-network-price-prediction", "anchor_text": "GitHub repo"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----f46d44afb8a6---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/deep-learning?source=post_page-----f46d44afb8a6---------------deep_learning-----------------", "anchor_text": "Deep Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f46d44afb8a6---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/airbnb?source=post_page-----f46d44afb8a6---------------airbnb-----------------", "anchor_text": "Airbnb"}, {"url": "https://medium.com/tag/neural-networks?source=post_page-----f46d44afb8a6---------------neural_networks-----------------", "anchor_text": "Neural Networks"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff46d44afb8a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6&user=Laura+Lewis&userId=afb662460a24&source=-----f46d44afb8a6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff46d44afb8a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6&user=Laura+Lewis&userId=afb662460a24&source=-----f46d44afb8a6---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff46d44afb8a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f46d44afb8a6--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff46d44afb8a6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f46d44afb8a6---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f46d44afb8a6--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f46d44afb8a6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f46d44afb8a6--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f46d44afb8a6--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f46d44afb8a6--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f46d44afb8a6--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f46d44afb8a6--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f46d44afb8a6--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lvlewis8?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lvlewis8?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Laura Lewis"}, {"url": "https://medium.com/@lvlewis8/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "381 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fafb662460a24&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6&user=Laura+Lewis&userId=afb662460a24&source=post_page-afb662460a24--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F81d47781bec6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-airbnb-prices-with-machine-learning-and-deep-learning-f46d44afb8a6&newsletterV3=afb662460a24&newsletterV3Id=81d47781bec6&user=Laura+Lewis&userId=afb662460a24&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}