{"url": "https://towardsdatascience.com/tableau-server-impact-analysis-reports-accessing-metadata-9e08e5fb5633", "time": 1683006449.414926, "path": "towardsdatascience.com/tableau-server-impact-analysis-reports-accessing-metadata-9e08e5fb5633/", "webpage": {"metadata": {"title": "Tableau Server impact analysis reports: accessing metadata | by Elliott Stam | Towards Data Science", "h1": "Tableau Server impact analysis reports: accessing metadata", "description": "All good adventures begin with a first step. In this tutorial, the first step we take to build an impact analysis report for Tableau Server is collecting information about the relationships between\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/building-tableau-server-impact-analysis-reports-why-and-how-191be0ce5015", "anchor_text": "intro post", "paragraph_index": 1}, {"url": "https://www.tableau.com/developer", "anchor_text": "developer community", "paragraph_index": 10}, {"url": "https://help.tableau.com/current/api/metadata_api/en-us/index.html", "anchor_text": "Metadata API documentation", "paragraph_index": 15}, {"url": "https://gist.github.com/divinorum-webb/a5b4e5d77fef954d95fbafca494a3445", "anchor_text": "this Github Gist", "paragraph_index": 19}, {"url": "https://github.com/divinorum-webb/tableau-api-lib", "anchor_text": "tableau-api-lib", "paragraph_index": 24}, {"url": "https://gist.github.com/divinorum-webb/c457916327f1d72ad2750aacdf717d5a", "anchor_text": "this GitHub Gist", "paragraph_index": 25}, {"url": "https://wiki.python.org/moin/BeginnersGuide/Download", "anchor_text": "Download", "paragraph_index": 26}], "all_paragraphs": ["All good adventures begin with a first step. In this tutorial, the first step we take to build an impact analysis report for Tableau Server is collecting information about the relationships between our workbooks, visuals, and underlying database assets.", "If you have no idea what I\u2019m talking about, take a few minutes to check out the intro post, which kicks off this series of tutorials demonstrating how we can build impact analysis reporting for Tableau.", "To summarize, our goal is to pull valuable metadata that exists in every Tableau ecosystem and provide an outline for how you can spin that data into insights. This is all about improving the productivity of our data teams and providing tailored visual information about our data lineage that anyone capable of clicking a mouse can easily interact with.", "I want to get into the how as quickly as possible, but explaining the what is important. Our first step requires us to get our hands on some crucial information that will allow us to answer these types of questions:", "We could go on, but I think you get the point. The repeating themes of these questions are: workbooks, datasources, and database tables.", "Let\u2019s dive into this tutorial\u2019s mission: pulling data from the Metadata API and shaping it into something that gets us closer to answering the questions above.", "The saying goes, \u201cthere\u2019s more than one way to skin a cat.\u201d I\u2019ve always liked cats, so I never loved this phrase. The reason I bring it up is that it\u2019s wildly appropriate for the situation we find ourselves in with Tableau\u2019s Metadata API.", "For starters, you can take the no-code approach, or you can flip that on its head and do everything with code. Yep, there\u2019s something for everyone.", "We\u2019ll begin with the no-code approach. You can use this to throw together a quick proof of concept or rely on it as your go-to data collection method if it provides exactly what you need and you don\u2019t mind a bit of manual labor.", "After covering the no-code approach, we\u2019ll stretch our Python muscles and pave the way for you to integrate the Metadata API into automated workflows. Going the Python route will also allow us to do some nifty things such as enriching our metadata with contextual information available through other sources.", "Regardless of your chosen method, you\u2019re going to need to be on Tableau Server 2019.3 or later in order to use the Metadata API. If you use Tableau Online, you\u2019re good to go. Did you know you can request a free Tableau Online sandbox site by joining their developer community? Now you know.", "That covers the scope of this tutorial, though I think I\u2019ll toss in one or two basic Tableau visuals at the end to prove that the data we pull is real and to highlight the value hiding within.", "In future tutorials, Python will continue to emerge as a melting pot that will be our central focus for querying Metadata, the repository database, and the creation of .hyper extracts fueling our eventual impact analysis dashboards.", "Without needing to write a script that authenticates into your Tableau Server environment and fetches information, you can go to this URL to access your metadata:", "You\u2019ll be prompted to authenticate with your username and password as you normally would, but instead of seeing the usual interface you will land on the built-in GraphQL interface. By the way that is not a typo in the sample link above. It is \u2018graphiql\u2019 with an \u2018i\u2019 in it.", "From here you can freestyle on building some basic GraphQL queries. Did I say no code earlier? Don\u2019t worry, you\u2019ll be fine. Feel free to just copy and paste these sample queries. If you\u2019re the adventurous type, head over to the Metadata API documentation to master all the things.", "For example, running this basic query will fetch you all of the workbook names, workbook IDs, and workbook owners on your site:", "The response will appear on the right half of your GraphQL interface in JSON format. My output looked like this:", "Did you know you can connect Tableau Desktop directly to JSON files? Yep, getting Metadata into a dashboard can be that easy. Just copy the JSON output and paste it into a text file. Save the file with a .json extension, and you\u2019re set.", "Below you\u2019ll find the whole process in action, using a more advanced query in place of the toy example provided above. The query can be found in this Github Gist:", "After you store the resulting JSON data to a .json file, open Tableau Desktop and connect to the file.", "Select all the schemas available in the .json file and click \u2018OK\u2019.", "That\u2019s all it took \u2014 the data is in your hands now!", "Doing things manually doesn\u2019t cut it for everyone, myself included. Let\u2019s cover how you can land at the same results we see above, but using code. This will set us up for nearly limitless customization as we look ahead to future tutorials, so I highly recommend investing time into the Python route.", "I use the tableau-api-lib and pandas Python packages extensively in my Tableau Server automation workflows, so if you are following along then you will want to run this command in your command line:", "The full Python script relevant to this section can be found in this GitHub Gist:", "New to Python? Download it and begin this life anew.", "To briefly summarize what\u2019s happening in that Python code, we are establishing a connection to a Tableau Server (or Tableau Online) site and running GraphQL queries against the Metadata API. The queries in this tutorial target workbooks, views, and their underlying database assets. You could of course expand upon these queries, and I encourage you to do so. We will certainly revisit this in later tutorials and build upon what\u2019s covered here.", "The GraphQL queries return JSON data. While we can feed that directly into Tableau, let\u2019s plan ahead to future milestones in this project of ours where we want to combine our metadata with other sources of data, such as the repository database, which will provide all sorts of context including the last time someone interacted with our visuals.", "To set ourselves up for future success, it\u2019s worth taking the time to flatten our JSON data into multiple normalized tables and then combine those into a single \u2018denormalized\u2019 table. This will play very nicely with other one-off Metadata API queries and the various PostgreSQL queries we will put to work in upcoming tutorials.", "Now, let\u2019s toss in some visual context and see what this data can do for us.", "To get a feel for the value this data can provide to us in terms of creating impact analysis reports, we already have a lot of the raw ingredients we need to cook up something useful.", "With thirty seconds of drag-and-drop action, we\u2019ve created the worksheet shown above! We can use the underlying data to build out customized data lineage audits, shame our least favorite business unit for using more worksheets than dashboards, and more.", "We are now well on our way to being able to answer the questions laid out earlier in this tutorial. We\u2019ve built a flashlight that can cast light on the darkest corners of our Tableau ecosystem.", "That\u2019s a wrap for our first milestone on this adventure building detailed and interactive impact analysis reports in Tableau. We\u2019ve tapped into Tableau\u2019s Metadata API and pulled enough data to build visuals describing the underlying database assets feeding our Tableau visuals. We demonstrated two methods to collect that data: manually via the built-in \u2018metadata/graphiql\u2019 interface, or with repeatable processes like Python scripts.", "I hope this tutorial leaves you in a better place than when you started! Tune in for the next tutorial, where we\u2019ll shift our focus to the repository database (the internal PostgreSQL database) and squeeze some really useful information out of it, including the number of times content was accessed by our users and the most recent interaction dates for each workbook or view.", "The data we\u2019ve collected is already valuable, but marrying it to the outputs from the PostgreSQL database will allow us to paint a more complete portrait of what\u2019s happening in our Tableau ecosystem.", "Which views and databases do our end-users access the most? Has any content gone stale and unused? Is it safe to drop that old database table John built four years ago? The work we\u2019ll do in the next tutorial will help us answer those questions!", "Milestone 2 (ETA is 4/29/2020): build upon Milestone 1 with supplemental data from the Tableau Server Repository to provide the number of interactions associated with each workbook (views and dashboards), datasource, and flow.", "Milestone 3 (ETA is 5/6/2020): convert the combined output of Milestones 1 & 2 into a .hyper extract using the Hyper API and publish the contents to Tableau Server (or Tableau Online).", "Milestone 4 (ETA is 5/13/2020): build our first impact analysis dashboard using the datasource published in Milestone 3.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data scientist and author. Sometimes seen falling down mountains with a snowboard strapped to my feet."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F9e08e5fb5633&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftableau-server-impact-analysis-reports-accessing-metadata-9e08e5fb5633&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftableau-server-impact-analysis-reports-accessing-metadata-9e08e5fb5633&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftableau-server-impact-analysis-reports-accessing-metadata-9e08e5fb5633&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftableau-server-impact-analysis-reports-accessing-metadata-9e08e5fb5633&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----9e08e5fb5633--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----9e08e5fb5633--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@elliottstam?source=post_page-----9e08e5fb5633--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@elliottstam?source=post_page-----9e08e5fb5633--------------------------------", "anchor_text": "Elliott Stam"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd193f11526c9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftableau-server-impact-analysis-reports-accessing-metadata-9e08e5fb5633&user=Elliott+Stam&userId=d193f11526c9&source=post_page-d193f11526c9----9e08e5fb5633---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9e08e5fb5633&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftableau-server-impact-analysis-reports-accessing-metadata-9e08e5fb5633&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9e08e5fb5633&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftableau-server-impact-analysis-reports-accessing-metadata-9e08e5fb5633&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@aronvisuals?utm_source=medium&utm_medium=referral", "anchor_text": "Aron Visuals"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/building-tableau-server-impact-analysis-reports-why-and-how-191be0ce5015", "anchor_text": "intro post"}, {"url": "https://www.tableau.com/developer", "anchor_text": "developer community"}, {"url": "https://help.tableau.com/current/api/metadata_api/en-us/index.html", "anchor_text": "Metadata API documentation"}, {"url": "https://gist.github.com/divinorum-webb/a5b4e5d77fef954d95fbafca494a3445", "anchor_text": "this Github Gist"}, {"url": "https://github.com/divinorum-webb/tableau-api-lib", "anchor_text": "tableau-api-lib"}, {"url": "https://gist.github.com/divinorum-webb/c457916327f1d72ad2750aacdf717d5a", "anchor_text": "this GitHub Gist"}, {"url": "https://wiki.python.org/moin/BeginnersGuide/Download", "anchor_text": "Download"}, {"url": "https://medium.com/tag/data-science?source=post_page-----9e08e5fb5633---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data?source=post_page-----9e08e5fb5633---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/python?source=post_page-----9e08e5fb5633---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/tableau?source=post_page-----9e08e5fb5633---------------tableau-----------------", "anchor_text": "Tableau"}, {"url": "https://medium.com/tag/automation?source=post_page-----9e08e5fb5633---------------automation-----------------", "anchor_text": "Automation"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F9e08e5fb5633&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftableau-server-impact-analysis-reports-accessing-metadata-9e08e5fb5633&user=Elliott+Stam&userId=d193f11526c9&source=-----9e08e5fb5633---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F9e08e5fb5633&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftableau-server-impact-analysis-reports-accessing-metadata-9e08e5fb5633&user=Elliott+Stam&userId=d193f11526c9&source=-----9e08e5fb5633---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9e08e5fb5633&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftableau-server-impact-analysis-reports-accessing-metadata-9e08e5fb5633&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----9e08e5fb5633--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F9e08e5fb5633&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftableau-server-impact-analysis-reports-accessing-metadata-9e08e5fb5633&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----9e08e5fb5633---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----9e08e5fb5633--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----9e08e5fb5633--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----9e08e5fb5633--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----9e08e5fb5633--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----9e08e5fb5633--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----9e08e5fb5633--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----9e08e5fb5633--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----9e08e5fb5633--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@elliottstam?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@elliottstam?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Elliott Stam"}, {"url": "https://medium.com/@elliottstam/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "509 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd193f11526c9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftableau-server-impact-analysis-reports-accessing-metadata-9e08e5fb5633&user=Elliott+Stam&userId=d193f11526c9&source=post_page-d193f11526c9--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F2f1f73d79eed&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftableau-server-impact-analysis-reports-accessing-metadata-9e08e5fb5633&newsletterV3=d193f11526c9&newsletterV3Id=2f1f73d79eed&user=Elliott+Stam&userId=d193f11526c9&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}