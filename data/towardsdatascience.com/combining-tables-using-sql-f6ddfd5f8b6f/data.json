{"url": "https://towardsdatascience.com/combining-tables-using-sql-f6ddfd5f8b6f", "time": 1683007525.772384, "path": "towardsdatascience.com/combining-tables-using-sql-f6ddfd5f8b6f/", "webpage": {"metadata": {"title": "How to join tables using SQL to combine datasets | by Kate Marie Lewis | Towards Data Science", "h1": "How to join tables using SQL to combine datasets", "description": "For the last 4 weeks my friends and I have been helping each other learn new skills while social distancing. We are learning data science as an online study group. We are nearly finished the SQL\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/grouping-and-aggregating-data-using-sql-7ac85d654fe4", "anchor_text": "Last week", "paragraph_index": 2}, {"url": "https://www.magpiealert.com/Swooping-Magpie-Attack-Statistics-2019", "anchor_text": "magpie alert", "paragraph_index": 8}, {"url": "https://en.wikipedia.org/wiki/States_and_territories_of_Australia", "anchor_text": "Wikipedia", "paragraph_index": 11}, {"url": "https://towardsdatascience.com/what-is-the-difference-between-an-inner-and-an-outer-join-in-sql-5b5ec8277377", "anchor_text": "difference between inner and outer joins in SQL", "paragraph_index": 16}, {"url": "http://www.katemarielewis.com", "anchor_text": "www.katemarielewis.com", "paragraph_index": 38}], "all_paragraphs": ["For the last 4 weeks my friends and I have been helping each other learn new skills while social distancing. We are learning data science as an online study group. We are nearly finished the SQL portion. I am so proud of everyone\u2019s efforts and how willing they have been to have a go at something new.", "In the last couple weeks my parents have even decided to give my lessons a go. They only have a few weeks to catch up on, so it will be interesting to hear what they think.", "Last week we used data on the three albums released by the Spice Girls to determine which of the albums was the best. We did this using the GROUP BY keyword so that we could aggregate the statistics for each album.", "Now that we know how to group and aggregate data in the table, this week we will learn how to join tables together.", "It is helpful to be able to combine data sets. Particularly if there are different details in each table. By joining them together you are able to do some calculations. Alternatively, you can create a new table that contains all the different details together in one dataset.", "To combine tables we will use the UNION, UNION ALL, INNER JOIN, LEFT OUTER JOIN and RIGHT OUTER JOIN keywords.", "Everybody knows that Australia is full of dangerous animals. However, one of the lesser known predators is the magpie. This bird swoops down on unsuspecting victims, with sharp beaks well equiped to take out an eye. We want to find out how common magpie attacks are in each of the Australian states. Where do we have to wear protective headgear? \ud83d\ude1c", "To solve our problem we have several tables of data.", "The first is a table contains the number of magpie attacks reported from each Australian state according to the website magpie alert. It is important to note that the data on this site is crowdsourced. People self-report when they have been swooped by a magpie. Therefore there may be some biases based on where the website is most popular.", "Our second set of data is a table of dropbear attacks. Dropbears are another ferocious Australian animal. We can use this table as a comparison to the magpie attacks data.", "Disclaimer: dropbears are not real and so the data is made up by me \ud83d\ude03", "In addition to the two tables on animal attacks, we also have data on the Australian states that I got from Wikipedia. We can use this table to normalise our animal attack tables for population or area differences between the states.", "The simplest way to combine two tables together is using the keywords UNION or UNION ALL. These two methods pile one lot of selected data on top of the other.", "The difference between the two keywords is that UNION only takes distinct values, but UNION ALL keeps all of the values selected. Both are used with the same syntax.", "There are several different ways we can combine tables based on value matching. They include the INNER JOIN, FULL OUTER JOIN, LEFT OUTER JOIN and RIGHT OUTER JOIN.", "Available joins are slightly different in different versions of SQL language. We have been learning MySQL. Therefore we will focus only on the joins available in MySQL. INNER JOIN, LEFT OUTER JOIN and RIGHT OUTER JOIN, but not FULL OUTER JOIN are the ones that may be used in MySQL.", "If you would like to learn how to do a FULL OUTER JOIN that is covered in one of my other articles on the difference between inner and outer joins in SQL.", "If you want to perform a join where you only include data where both tables contain matching values in a specified column, then you would use an INNER JOIN.", "Inner joins return only the parts of two datasets that overlap. So that records will be returned only where there is a matching value in the column you are joining on in both tables. The syntax for an INNER JOIN is shown below:", "In the example above, the records from table one and table two would both be returned, but only if the values in column one of table one match the values in column one of table two. Any records that do not have matching values would not be returned by an INNER JOIN.", "One part of the join syntax that we have not come across in our lessons before, is referring to a column by both table and column name. This is important when joining tables because both tables could have a column with the same name. If you don\u2019t include the table name when selecting columns with the same name, the program will not know which one you are referring to.", "To avoid confusion, we use the table name and the column name separated by a full stop to create a unique identifier for each column.", "To join two tables based on a column match without loosing any of the data from the left table, you would use a LEFT OUTER JOIN.", "Left outer joins are used when you want to get all the values from one table but only the records that match the left table from the right table.", "In our LEFT OUTER JOIN example above, all rows from table one will be returned plus the rows that table two had in common with table one based on column one in each table.", "The syntax for a RIGHT OUTER JOIN is the same as for a LEFT OUTER JOIN. The only difference between the two is that the right table, in our example table two, will retain all of its records. Whilst the left table, table one will only keep its records where there is a match between its column one and table two\u2019s column one.", "3. In the right hand column put your queries and run them using the \u2018Run\u2019 button in the top left", "4. Run the query below and see if it returns what you would expect it to:", "5. Run the query below and see if it returns what you would expect it to:", "6. Run the query below and compare the results to what you got from the previous query:", "7. Run the query below and see if it returns what you would expect it to:", "8. Run the query below and compare the results to the previous query:", "9. Run the query below and compare the results to the previous two queries:", "10. Run the query below and compare the results to the previous two queries:", "Exercise 1: Combine the magpie_attacks table and the australian_states table using each of the different union and join methods that we have learned in this lesson. Feel free to select as many or as few columns as you need to in order to make your queries run.", "Exercise 2: Write a query to find out which Australian state has the greatest number of magpie attacks as a percentage of the population in that state. Hint: you can use the query in step 10 as a reference if needed.", "After completing this lesson you should know:", "Next lesson will be a review of all we have learned in the last 5 lessons on SQL. I always think it is a good idea to practice new skills to consolidate the lessons. Hopefully the review lesson will also let us use all the skills learned over the lessons in a more independent way. Up till now the exercises have been fairly similar to the examples that preceded them. However, I am hoping that part of what we will learn next lesson is how to choose what methods to use in order to solve the problems.", "In addition to data, my other passion is painting. You can find my wildlife art at www.katemarielewis.com", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Big data geek, neuroscientist and artist."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff6ddfd5f8b6f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcombining-tables-using-sql-f6ddfd5f8b6f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcombining-tables-using-sql-f6ddfd5f8b6f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcombining-tables-using-sql-f6ddfd5f8b6f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcombining-tables-using-sql-f6ddfd5f8b6f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f6ddfd5f8b6f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f6ddfd5f8b6f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@katemarielewis?source=post_page-----f6ddfd5f8b6f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@katemarielewis?source=post_page-----f6ddfd5f8b6f--------------------------------", "anchor_text": "Kate Marie Lewis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffeb55b31bbd5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcombining-tables-using-sql-f6ddfd5f8b6f&user=Kate+Marie+Lewis&userId=feb55b31bbd5&source=post_page-feb55b31bbd5----f6ddfd5f8b6f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff6ddfd5f8b6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcombining-tables-using-sql-f6ddfd5f8b6f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff6ddfd5f8b6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcombining-tables-using-sql-f6ddfd5f8b6f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/ldswsd", "anchor_text": "Learn data science while social distancing"}, {"url": "https://unsplash.com/@drazgoosh?utm_source=medium&utm_medium=referral", "anchor_text": "Darius K"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/grouping-and-aggregating-data-using-sql-7ac85d654fe4", "anchor_text": "Last week"}, {"url": "https://unsplash.com/@frankbusch?utm_source=medium&utm_medium=referral", "anchor_text": "Frank Busch"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.magpiealert.com/Swooping-Magpie-Attack-Statistics-2019", "anchor_text": "magpie alert"}, {"url": "https://en.wikipedia.org/wiki/States_and_territories_of_Australia", "anchor_text": "Wikipedia"}, {"url": "https://towardsdatascience.com/what-is-the-difference-between-an-inner-and-an-outer-join-in-sql-5b5ec8277377", "anchor_text": "difference between inner and outer joins in SQL"}, {"url": "https://www.db-fiddle.com/", "anchor_text": "https://www.db-fiddle.com/"}, {"url": "http://www.katemarielewis.com", "anchor_text": "www.katemarielewis.com"}, {"url": "https://towardsdatascience.com/tagged/ldswsd", "anchor_text": "Ldswsd \u2014 Towards Data ScienceRead writing about Ldswsd in Towards Data Science. A Medium publication sharing concepts, ideas, and codes.towardsdatascience.com"}, {"url": "https://medium.com/tag/ldswsd?source=post_page-----f6ddfd5f8b6f---------------ldswsd-----------------", "anchor_text": "Ldswsd"}, {"url": "https://medium.com/tag/sql?source=post_page-----f6ddfd5f8b6f---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f6ddfd5f8b6f---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----f6ddfd5f8b6f---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/technology?source=post_page-----f6ddfd5f8b6f---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff6ddfd5f8b6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcombining-tables-using-sql-f6ddfd5f8b6f&user=Kate+Marie+Lewis&userId=feb55b31bbd5&source=-----f6ddfd5f8b6f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff6ddfd5f8b6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcombining-tables-using-sql-f6ddfd5f8b6f&user=Kate+Marie+Lewis&userId=feb55b31bbd5&source=-----f6ddfd5f8b6f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff6ddfd5f8b6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcombining-tables-using-sql-f6ddfd5f8b6f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f6ddfd5f8b6f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff6ddfd5f8b6f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcombining-tables-using-sql-f6ddfd5f8b6f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f6ddfd5f8b6f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f6ddfd5f8b6f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f6ddfd5f8b6f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f6ddfd5f8b6f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f6ddfd5f8b6f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f6ddfd5f8b6f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f6ddfd5f8b6f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f6ddfd5f8b6f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f6ddfd5f8b6f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@katemarielewis?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@katemarielewis?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kate Marie Lewis"}, {"url": "https://medium.com/@katemarielewis/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "4K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffeb55b31bbd5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcombining-tables-using-sql-f6ddfd5f8b6f&user=Kate+Marie+Lewis&userId=feb55b31bbd5&source=post_page-feb55b31bbd5--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe5b8a4095c55&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcombining-tables-using-sql-f6ddfd5f8b6f&newsletterV3=feb55b31bbd5&newsletterV3Id=e5b8a4095c55&user=Kate+Marie+Lewis&userId=feb55b31bbd5&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}