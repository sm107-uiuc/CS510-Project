{"url": "https://towardsdatascience.com/from-resource-management-to-data-science-building-real-time-crawler-dcbb4d413d7f", "time": 1683008018.000032, "path": "towardsdatascience.com/from-resource-management-to-data-science-building-real-time-crawler-dcbb4d413d7f/", "webpage": {"metadata": {"title": "From Resource Management to Data Science: Building Real-Time Crawler | by Julius Cerniauskas | Towards Data Science", "h1": "From Resource Management to Data Science: Building Real-Time Crawler", "description": "At Oxylabs we happened to build a large-scale web crawler almost by accident. As with any development project that people just happen to stumble upon \u2014 we made a lot of mistakes and learned a lot of\u2026"}, "outgoing_paragraph_urls": [{"url": "http://www.oxylabs.io", "anchor_text": "Oxylabs", "paragraph_index": 0}], "all_paragraphs": ["At Oxylabs we happened to build a large-scale web crawler almost by accident. As with any development project that people just happen to stumble upon \u2014 we made a lot of mistakes and learned a lot of lessons along the way. We\u2019re hoping our story could be of use to anyone interested in creating tools for data acquisition.", "We started out as proxy providers offering services to all who wanted to perform large-scale data gathering projects. As those who have delved into this industry know all too well, proxies are prone to being banned when they are used to scrape search engine results and complex e-commerce websites.", "We noticed that some users had better success rates and proxy longevity than others even when scraping identical targets. Over time, a lot of knowledge on web scraping was acquired. In turn, we sought to provide value by sharing any relevant information. Just like we hope to do so now.", "Unfortunately, even the best guidelines cannot protect against the constantly evolving nature of anti-scraping measures and the need for a consistent flow of data. Proxies still ended up getting blocked. Replacing them drove the costs up for both sides of the bargain.", "Blocked proxies became a painful experience for both sides. Due to blocked IPs, companies needed to slow down their data acquisition operations while we needed to constantly procure more proxies. Luckily, a way to resolve our woes appeared in the most unforeseen manner: one of our data analysts had learned the basics of Python.", "One user had had a long-standing struggle with e-commerce websites. Whether they were just unlucky or something had gone awry during the development process of their crawler, the proxies we provided seemed to get consistently blocked. Internally, an idea to develop our own scraper had been floating about for a rather long time but no one ever sat down and actually developed it. Until one of our data analysts had decided to take matters into his own hands.", "As with any project developed with a very basic understanding of the toolkit yet a lot of passion, it was a mess, held together by Flask API, the request library, and prayers to ancient snake gods. Sure, it was a mess, but it worked. In fact, our prototype did the job quite well although it did have hiccups that only became apparent later on. Thus, one late evening in the year 2017 our newest solution was born and we went on to call it Real-Time Crawler.", "Unfortunately, while our solution worked, the client for whom our Real-Time Crawler was initially developed did not take us up on the offer. But we did have a working prototype which showed a lot of promise. Our thinking was that we could further optimize this tool to get data from large e-commerce websites and search engines more efficiently than before. By upholding best practices that we developed with time, we could squeeze the most out of each IP address and avoid potential blocks. What if instead of offering resources to acquire a product we were to offer the product itself? Hopefully, no one would have to struggle with the tricky and complex process of data acquisition anymore.", "While our prototype functioned well, it was still unfit for widespread use: one solitary server hosted the entire process, could only handle a few requests at a time and, worst of all, the acquired data was stored on the server file system as html files. When our tool was first developed, we didn\u2019t focus on long-term large-scale implementation as it arose out of hope that we could resolve one particular challenge.", "We realized that if we were to put through any amount of stress it would break its back in seconds. But the hope was there and it was enough. Our C-level executives and senior development teams sat down with our data analyst and started drawing plans for the future. We would begin anew with a better plan.", "And so serious development of our Real-Time Crawler began. Several features needed to be implemented:", "Fortunately, few challenges arose with the last two points. Our queue system was developed and Real-Time Crawler was deployed into many different servers through the use of APIs and MySQL. Of course, these changes did not happen overnight. While initial implementation was rather quick, a good part of nearly 3 years had been dedicated to ironing out the details and adding additional features.", "A better request and data delivery system did not come as easily. Yet, we had to develop one quickly as users had troubles implementing our initial build.", "We started off with only one way to query and retrieve data \u2014 callback. Users would send a payload detailing their request to our servers and would be able retrieve the requested data after the job is finished. Each payload would be assigned a unique job ID for retrieval purposes. Additionally, we implemented callback URLs which we would ping (if provided) in order to smooth out the process.", "Callback, however, had one issue we were not able to predict: it was fairly difficult to implement for testing purposes. To no one\u2019s surprise, it is a hard bargain to convince someone that your tool will be mutually beneficial if the intended audience cannot easily test it. But we wanted to deliver the data requested in the most efficient way possible. What\u2019s more, most businesses in this industry already have in-house web crawling solutions. Providing value to these companies was going to be significantly more difficult than we had anticipated.", "Our sales and marketing teams had to work twice as hard. A lot of effort and hours could have been saved if we had paid slightly more attention to the development culture around us \u2014 what languages, APIs, frameworks and such were widely used.", "We knew we would be butting heads with one endless challenge \u2014 layout and anti-botting changes. Scraping the most challenging and most wanted search engines and e-commerce websites wasn\u2019t going to be easy. Neither of these would use the same layouts forever or be willing to give up their data easily. All of this means that a large part of our resources were and still are dedicated to understanding how anti-scraping measures were implemented and what we could do about it.", "We had acquired a lot of experience and know-how on the data acquisition industry just by providing our usual business services. A strong technical foundation allowed us to foresee certain challenges and implement workarounds before they arose. Yet, there were two issues our experience could not resolve: data storage and ease-of-implementation.", "Data storage became a larger issue than expected. A part of our blunder was starting out with just one method \u2014 callback. Callback seems like a nice way to handle data at the outset as it is theoretically very simple. Unfortunately, the queried data has to go somewhere and stay there until someone retrieves it. Retrieval, as is often the case, will be delayed. Therefore that data has to be stored for days until someone comes to pick it up.", "We had implemented a 24 hour (often, users have even more time) policy as it seemed reasonable. Inevitably, storing large swaths of data for 24+ hours puts a lot of strain on any storage infrastructure. For this reason we decided to remove redundant data queries by creating caches, optimize databases and simply gear up on better hardware. But these solutions can only go so far. Additionally, e-commerce data is time-sensitive and 24-hour old data might already be past its expiry date. We needed to find better ways for users to send queries and receive data.", "Turning our focus towards providing better delivery methods and easier ways to implement our tool brought us great success. We were certain that Real-Time Crawler would be mutually beneficial but we needed a way to reduce the barrier to entry.", "Trial issues branched out of the same initial development process. As mentioned earlier, implementing Real-Time Crawler was rather difficult which made trials and testing painful. One of our solutions was to develop additional methods for our tool. As it says on the tin of our tool, Real-Time was the second method to be created. Its implementation is slightly easier but it relies on an open connection to constantly relay queried data.", "Real-Time brought us two benefits \u2014 it was slightly easier to test and reduced the strain on data storage facilities. Real-Time brought with it a revolution as it was possible for others to see it in action without rebuilding their entire infrastructure. But it still wasn\u2019t good enough as the long-term implementation still required users to modify their current crawling solutions. Another solution was needed.", "SuperAPI was the final form of Real-Time Crawler. It allowed users to implement our web scraping solution without reworking anything. They would set our tool as their proxy server in their own web crawling tool. Everything else would work just as if it had been implemented through any other method. Finally, users could implement our solution without putting them through a complex process of changing what was already working for them.", "Three delivery methods were now available:", "Each of them had their own benefits and drawbacks. Most users still utilize the old-school callback as it is reliable and simple to use, if a little difficult to get started with. We developed even more delivery methods later on as we focused more on providing better testing opportunities. Now, improving stability would be our newest goal.", "Our final challenge is maintaining stability. Every tool breaks down every once in a while and most other processes are prepared to handle it. In data acquisition, especially e-commerce related, breakdown in the process can be catastrophic.", "Stability in data acquisition is a constant tug-of-war between websites and developers. Websites might update their layouts both for user experience reasons and as a practice against data scraping. Each layout change breaks the data acquisition process and requires some time for redevelopment.", "Anti-scraping algorithm improvements are worse. Just like layout changes, they will break any tool but the redevelopment process will be significantly more difficult. Reverse engineering will be required which means that without an awesome team of developers and a little luck, returning back to working order might take a lot of time and resources. Unfortunately, there are no long-term solutions that allow anyone to maintain stability indefinitely, only best practices.", "Over time we had learned two things about maintaining stability. First, there has to be a dedicated crisis response team where everyone is ready to work around the clock until the issue is resolved. Every hour is precious. Second, after the crisis has been resolved, look for patterns in how the data acquisition process breaks down. Patch according to your predictions and maybe you will avoid similar issues down the road.", "While we are always building up and improving our web crawling solution, the main concept remains the same over time. Here\u2019s a basic outline of how our Real-Time Crawler works:", "Our tool has been up and running for quite some time now. Along the way from its humble beginnings where string and sinew held everything together to the Skynet-like machine overlord that Real-Time Crawler is now, we learned many lessons:", "Large-scale data gathering is an endless process as the landscape of the Internet keeps changing. We are still improving our Real-Time Crawler by adding more targets, increasing stability and applicability. Our newest fork, Universal Real-Time Crawler, is still a budding project that we hope to scale to the same heights as its predecessor.", "It took us many years and numerous mistakes to build a successful large scale crawling tool. We invite everyone to learn from us. By following the lessons we learned along the way, you will make any data acquisition project less costly and time-consuming.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Julius Cerniauskas is Lithuania\u2019s technology industry leader & the CEO of Oxylabs, covering topics on web scraping, big data, machine learning & tech trends."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fdcbb4d413d7f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-resource-management-to-data-science-building-real-time-crawler-dcbb4d413d7f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-resource-management-to-data-science-building-real-time-crawler-dcbb4d413d7f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-resource-management-to-data-science-building-real-time-crawler-dcbb4d413d7f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-resource-management-to-data-science-building-real-time-crawler-dcbb4d413d7f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----dcbb4d413d7f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----dcbb4d413d7f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://julius-c.medium.com/?source=post_page-----dcbb4d413d7f--------------------------------", "anchor_text": ""}, {"url": "https://julius-c.medium.com/?source=post_page-----dcbb4d413d7f--------------------------------", "anchor_text": "Julius Cerniauskas"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe2a67f237246&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-resource-management-to-data-science-building-real-time-crawler-dcbb4d413d7f&user=Julius+Cerniauskas&userId=e2a67f237246&source=post_page-e2a67f237246----dcbb4d413d7f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdcbb4d413d7f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-resource-management-to-data-science-building-real-time-crawler-dcbb4d413d7f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdcbb4d413d7f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-resource-management-to-data-science-building-real-time-crawler-dcbb4d413d7f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@markusspiske", "anchor_text": "Markus Spiske"}, {"url": "https://unsplash.com/photos/qjnAnF0jIGk", "anchor_text": "Unsplash"}, {"url": "http://www.oxylabs.io", "anchor_text": "Oxylabs"}, {"url": "https://unsplash.com/@divide_by_zero", "anchor_text": "Divide By Zero"}, {"url": "https://unsplash.com/photos/cQgw-rqG-Lk", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/web-scraping?source=post_page-----dcbb4d413d7f---------------web_scraping-----------------", "anchor_text": "Web Scraping"}, {"url": "https://medium.com/tag/data-scraping?source=post_page-----dcbb4d413d7f---------------data_scraping-----------------", "anchor_text": "Data Scraping"}, {"url": "https://medium.com/tag/web-crawler?source=post_page-----dcbb4d413d7f---------------web_crawler-----------------", "anchor_text": "Web Crawler"}, {"url": "https://medium.com/tag/web-crawling?source=post_page-----dcbb4d413d7f---------------web_crawling-----------------", "anchor_text": "Web Crawling"}, {"url": "https://medium.com/tag/real-time-crawler?source=post_page-----dcbb4d413d7f---------------real_time_crawler-----------------", "anchor_text": "Real Time Crawler"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdcbb4d413d7f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-resource-management-to-data-science-building-real-time-crawler-dcbb4d413d7f&user=Julius+Cerniauskas&userId=e2a67f237246&source=-----dcbb4d413d7f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdcbb4d413d7f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-resource-management-to-data-science-building-real-time-crawler-dcbb4d413d7f&user=Julius+Cerniauskas&userId=e2a67f237246&source=-----dcbb4d413d7f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdcbb4d413d7f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-resource-management-to-data-science-building-real-time-crawler-dcbb4d413d7f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----dcbb4d413d7f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fdcbb4d413d7f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-resource-management-to-data-science-building-real-time-crawler-dcbb4d413d7f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----dcbb4d413d7f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----dcbb4d413d7f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----dcbb4d413d7f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----dcbb4d413d7f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----dcbb4d413d7f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----dcbb4d413d7f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----dcbb4d413d7f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----dcbb4d413d7f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----dcbb4d413d7f--------------------------------", "anchor_text": ""}, {"url": "https://julius-c.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://julius-c.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Julius Cerniauskas"}, {"url": "https://julius-c.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "25 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe2a67f237246&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-resource-management-to-data-science-building-real-time-crawler-dcbb4d413d7f&user=Julius+Cerniauskas&userId=e2a67f237246&source=post_page-e2a67f237246--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F566b22ea8163&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffrom-resource-management-to-data-science-building-real-time-crawler-dcbb4d413d7f&newsletterV3=e2a67f237246&newsletterV3Id=566b22ea8163&user=Julius+Cerniauskas&userId=e2a67f237246&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}