{"url": "https://towardsdatascience.com/regression-based-decision-trees-predicting-average-daily-rates-for-hotels-857567d5168e", "time": 1683011364.00351, "path": "towardsdatascience.com/regression-based-decision-trees-predicting-average-daily-rates-for-hotels-857567d5168e/", "webpage": {"metadata": {"title": "Regression-based decision trees: Predicting Average Daily Rates for Hotels | by Michael Grogan | Towards Data Science", "h1": "Regression-based decision trees: Predicting Average Daily Rates for Hotels", "description": "In this example, a regression-based decision tree is formulated to predict ADR (average daily rate) for a hotel given certain customer attributes. This study focuses on hotel booking analysis. When\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.researchgate.net/publication/309379684_Using_Data_Science_to_Predict_Hotel_Booking_Cancellations", "anchor_text": "Antonio, Almeida, and Nunes, 2016", "paragraph_index": 3}, {"url": "https://towardsdatascience.com/regression-based-neural-networks-with-tensorflow-v2-0-predicting-average-daily-rates-e20fffa7ac9a", "anchor_text": "here", "paragraph_index": 23}, {"url": "https://github.com/MGCodesandStats/hotel-modelling", "anchor_text": "MGCodesandStats GitHub repository", "paragraph_index": 25}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com", "paragraph_index": 28}], "all_paragraphs": ["The decision tree structure consists of:", "In this example, a regression-based decision tree is formulated to predict ADR (average daily rate) for a hotel given certain customer attributes.", "This study focuses on hotel booking analysis. When it comes to hotel bookings, average daily rate (ADR) is a particularly important metric. This reflects the average rate per day that a particular customer pays throughout their stay.", "This analysis is based on the original study by Antonio, Almeida, and Nunes, 2016.", "Gauging ADR allows hotels to more accurately identify its most profitable customers and tailor its marketing strategies accordingly.", "The chosen features that form the input for this neural network are as follows:", "The interval (or continuous random variables) are defined. As two examples:", "Variables with a categorical component are defined using \u2018\u2019\u2019cat.codes\u2019\u2019\u2019.", "A numpy column stack is formulated for the independent variables (both continuous and categorical):", "The data is then split into training and validation sets:", "The DecisionTreeRegressor is imported using sklearn:", "The decision tree is fitted. Using max_depth, the size of the tree is determined. In this case, it is set to 4. When comparing prediction accuracy to the test data (which we will touch more on below), I found that the root mean squared error was minimised when using four trees. Using less trees risks significant information loss, while too many trees increase the risk of overfitting.", "Here are the generated predictions when using the validation data:", "In order to visualise the decision tree, a library called graphviz can be used.", "A PDF of the tree visual can be generated through a terminal as follows:", "Then, the tree image can be imported:", "Here is a sample visual of the decision tree:", "Let\u2019s assess how the model predictions performed on the validation data both on a mean absolute error and root mean squared error basis.", "In order to determine if the model can retain its accuracy across an unseen dataset \u2014 we will now test if the model predictions also show a similar level of accuracy across the H2 dataset.", "As previously, the categorical and continuous variables are defined as such, and the values are defined appropriately:", "Now, the decision tree is used to make predictions across the features for the test data.", "Now, let\u2019s assess the mean absolute error and root mean squared error.", "The MAE and RMSE are a bit higher than when tested across the validation data. This is in line with expectations given that this dataset is unseen. However, in terms of maximimsing accuracy, a regression-based neural network with an ELU activation function showed lower errors, with MAE at 33.56 and RMSE at 47.55.", "The article on regression-based neural networks for this example is here if you are interested.", "In this example, we have seen how to:", "The datasets and notebooks for this example are available at the MGCodesandStats GitHub repository, along with further research on this topic.", "Disclaimer: This article is written on an \u201cas is\u201d basis and without warranty. It was written with the intention of providing an overview of data science concepts, and should not be interpreted as professional advice in any way.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Science Consultant with expertise in economics, time series analysis, and Bayesian methods | michael-grogan.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F857567d5168e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fregression-based-decision-trees-predicting-average-daily-rates-for-hotels-857567d5168e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fregression-based-decision-trees-predicting-average-daily-rates-for-hotels-857567d5168e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fregression-based-decision-trees-predicting-average-daily-rates-for-hotels-857567d5168e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fregression-based-decision-trees-predicting-average-daily-rates-for-hotels-857567d5168e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----857567d5168e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----857567d5168e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----857567d5168e--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----857567d5168e--------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fregression-based-decision-trees-predicting-average-daily-rates-for-hotels-857567d5168e&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178----857567d5168e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F857567d5168e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fregression-based-decision-trees-predicting-average-daily-rates-for-hotels-857567d5168e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F857567d5168e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fregression-based-decision-trees-predicting-average-daily-rates-for-hotels-857567d5168e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://pixabay.com/users/openclipart-vectors-30363/", "anchor_text": "OpenClipart-Vectors"}, {"url": "https://pixabay.com/vectors/evergreen-forest-landscape-2025158/", "anchor_text": "Pixabay"}, {"url": "https://www.researchgate.net/publication/309379684_Using_Data_Science_to_Predict_Hotel_Booking_Cancellations", "anchor_text": "Antonio, Almeida, and Nunes, 2016"}, {"url": "https://towardsdatascience.com/regression-based-neural-networks-with-tensorflow-v2-0-predicting-average-daily-rates-e20fffa7ac9a", "anchor_text": "here"}, {"url": "https://github.com/MGCodesandStats/hotel-modelling", "anchor_text": "MGCodesandStats GitHub repository"}, {"url": "https://medium.com/tag/data-science?source=post_page-----857567d5168e---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----857567d5168e---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/python?source=post_page-----857567d5168e---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/decision-tree?source=post_page-----857567d5168e---------------decision_tree-----------------", "anchor_text": "Decision Tree"}, {"url": "https://medium.com/tag/regression?source=post_page-----857567d5168e---------------regression-----------------", "anchor_text": "Regression"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F857567d5168e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fregression-based-decision-trees-predicting-average-daily-rates-for-hotels-857567d5168e&user=Michael+Grogan&userId=eec017a8b178&source=-----857567d5168e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F857567d5168e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fregression-based-decision-trees-predicting-average-daily-rates-for-hotels-857567d5168e&user=Michael+Grogan&userId=eec017a8b178&source=-----857567d5168e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F857567d5168e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fregression-based-decision-trees-predicting-average-daily-rates-for-hotels-857567d5168e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----857567d5168e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F857567d5168e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fregression-based-decision-trees-predicting-average-daily-rates-for-hotels-857567d5168e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----857567d5168e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----857567d5168e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----857567d5168e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----857567d5168e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----857567d5168e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----857567d5168e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----857567d5168e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----857567d5168e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----857567d5168e--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://mgcodesandstats.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.5K Followers"}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fregression-based-decision-trees-predicting-average-daily-rates-for-hotels-857567d5168e&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3c6e2607915&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fregression-based-decision-trees-predicting-average-daily-rates-for-hotels-857567d5168e&newsletterV3=eec017a8b178&newsletterV3Id=3c6e2607915&user=Michael+Grogan&userId=eec017a8b178&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}