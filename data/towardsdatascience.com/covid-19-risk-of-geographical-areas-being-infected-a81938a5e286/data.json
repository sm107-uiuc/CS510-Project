{"url": "https://towardsdatascience.com/covid-19-risk-of-geographical-areas-being-infected-a81938a5e286", "time": 1683009230.950884, "path": "towardsdatascience.com/covid-19-risk-of-geographical-areas-being-infected-a81938a5e286/", "webpage": {"metadata": {"title": "COVID-19: Risk of Geographical Areas being infected | by Saim Mehmood | Towards Data Science", "h1": "COVID-19: Risk of Geographical Areas being infected", "description": "Towards Data Science is a Medium publication primarily based on the study of data science and machine learning. We are not health professionals or epidemiologists, and the opinions of this article\u2026"}, "outgoing_paragraph_urls": [{"url": "http://towardsdatascience.com/", "anchor_text": "Towards Data Science", "paragraph_index": 0}, {"url": "https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports", "anchor_text": "here", "paragraph_index": 0}, {"url": "https://russell-pollari.github.io/ontario-covid19/", "anchor_text": "Russell Pollari", "paragraph_index": 1}, {"url": "https://github.com/saimmehmood/semantic_relationships", "anchor_text": "work", "paragraph_index": 1}, {"url": "https://www.postgresql.org/about/", "anchor_text": "PostgreSQL", "paragraph_index": 3}, {"url": "https://postgis.net/", "anchor_text": "PostGIS", "paragraph_index": 3}, {"url": "https://www.kaggle.com/c/nyc-taxi-trip-duration/data?select=train.zip", "anchor_text": "file", "paragraph_index": 4}, {"url": "https://github.com/saimmehmood/covid_19_risk/blob/master/new_york_taxi.py", "anchor_text": "python code", "paragraph_index": 4}, {"url": "https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry", "anchor_text": "Well-known text", "paragraph_index": 10}, {"url": "https://github.com/saimmehmood/covid_19_risk/blob/master/uniform_grid.py", "anchor_text": "code", "paragraph_index": 11}, {"url": "https://www.pgadmin.org/", "anchor_text": "pgAdmin", "paragraph_index": 13}], "all_paragraphs": ["Towards Data Science is a Medium publication primarily based on the study of data science and machine learning. We are not health professionals or epidemiologists, and the opinions of this article should not be interpreted as professional advice. To learn more about the coronavirus pandemic, you can click here.", "Ever since the corona pandemic broke-out, I have been seeing folks in Toronto tech community coming up with awesome analysis such as done by Russell Pollari to contribute their understanding and knowledge for the benefit of the people. This has been a motivating factor for me to try and find some use-cases for my masters' thesis and research work.", "In this article, I will explain how I came up with the idea of utilizing trajectories inside a geographical region i.e., a city, for example, Toronto or New York to understand which areas are at higher risk of being affected by COVID-19. Before I dig into the details of the actual framework itself, let\u2019s cover some basics.", "PostgreSQL (aka Postgres) is an open-source object-relational database management system (ORDBMS) with an emphasis on extensibility and standards compliance. It extends the SQL language combined with many features that safely store and scale the most complicated data workloads. PostGIS is a spatial database extender for Postgres. It adds spatial functions such as distance, area, union, intersection, and geometry data types to Postgres (and that\u2019s the reason I\u2019m using it for our current analysis).", "The dataset I\u2019m using is released by the NYC Taxi and Limousine Commission (TLC), which includes pickup & dropoff time, geo-coordinates, number of passengers, and several other features. The data-set file contains 1,048,576 trip records containing pickup and dropoff points as pairs of (longitude, latitude) coordinates. For the needs of this experiment, I rely on random sample S that includes 10,000 pairs. For each pair of pickup and dropoff coordinates, I utilize Google Directions API (python code) to create trajectories in NYC (as shown in Fig 1).", "Let a trajectory t = {(x_0, y_0), (x_1, y_1), \u2026, (x_n, y_n)} amount to a route traveled from a starting point to an ending point, where the sequence of pairs (x_i, y_i) represent latitude and longitude coordinates in the 2D Cartesian system. While individual trajectories of moving objects are defined at a lower level of granularity (e.g., sequences of pairs of longitude and latitude coordinates), analysis of geographical areas typically needs to be done at a higher level of granularity, such as at the level of neighborhoods or postal codes of a city. Without loss of generality, I adopt the abstraction of a uniform grid that divides the observation space A into a set of evenly-spaced r rows and c columns, forming grid cells; number of rows does not need to be equal to number of columns. Formally I define grid_rc as follows:", "The grid_rc consists of r x c grid cells and c_ij represents the grid cell at row i and column j. By dividing A into grid cells I am able to translate trajectory t \u03f5 T from a sequence of geolocations to a sequence of grid cells on grid_rc. For example, Fig 2 shows a 7x10 grid and a sample trajectory that traverses 13 grid cells, starting at c_02 moving to c_03, c_04, c_14, \u2026, all the way to c_67.", "Now there is an interesting question that should come to your mind. Why do I need to divide geographical area into grid cells? This can be understood from the following visualization:", "So what we see is a single (a) trajectory represented as geolocations (b) traversing through the grid cells and (c) finally converted into a set of grid cells representing the movement path of trajectory. This abstraction done for thousands of trajectories enables us to find interactions of moving objects i.e., people, buses, and cars with the divided geographical space.", "Note that the size of the grid provides an interesting trade-off between a more refined analysis and a faster analysis. This is because the larger the number of rows and columns of the grid, the smaller the geographical areas represented by each grid cell, but at the cost of having to associate each trajectory to a larger number of grid cells, which is computationally expensive (shown in Fig 4).", "To store data in the postgres database it is required to change it to Well-known text (WKT) format which is a text markup language for representing vector geometry objects on a map. WKT can represent many distinct geometric objects such as Point, LineString & Polygon, etc (as shown in Fig 5).", "I am using Linestring to store trajectory datasets and similarly Polygon to store grid cell coordinates. Using this code I divide the geographical space into 35x35 grid (as shown in Fig 6) and store the grid cell coordinates in WKT format.", "The idea behind declaring geographical areas i.e., grid cells as highly infected is based on the assumption that, the more the number of trajectories that are passing through a specific grid cell (divided geographical area), the more there is a chance of that area being infected. I identify such areas by mapping interactions of trajectories with grid cells and using spatial queries based on PostGIS.", "I am storing data in traj, grids, and cells table using Import/Export commands available in pgAdmin. Now comes the time for the magic query that finds the areas with a high risk of infection.", "The magic part is the table (traj_as_cells) that we get. It is something similar to shown in Fig 7, but for thousands of trajectories.Once the above analysis is done, our job is to find the cell id that has the most amount of trajectories passing through it i.e., that will be the (divided geographical area) with a high risk of being infected by COVID-19.", "To help understand it a little bit better, we can write a simple query to find how many trajectories are passing through a single grid cell (in the query below 646).", "The above grid cell has 111 trajectories passing through it (probably a hotspot for infection). (Fig 7) shows a snapshot taken from postgres database. Further, we can locate this grid cell coordinates by comparing its id with the \u2018cells\u2019 table (as shown in Q#4).", "Lastly, we can aggregate all grid cells through which trajectories are passing and rank them based on the number of trajectories that are intersecting through them.", "The above code aggregate all the trajectories passing through each grid cell and stores them in traj_ids.txt file. Lastly, we rank grid cells by using a single bash command.", "In essence, this work provides a simple, easy-to-follow proof-of-concept in finding areas that are at a high risk of being affected by COVID-19.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa81938a5e286&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-risk-of-geographical-areas-being-infected-a81938a5e286&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-risk-of-geographical-areas-being-infected-a81938a5e286&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-risk-of-geographical-areas-being-infected-a81938a5e286&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-risk-of-geographical-areas-being-infected-a81938a5e286&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a81938a5e286--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a81938a5e286--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://saim-mehmood-gul.medium.com/?source=post_page-----a81938a5e286--------------------------------", "anchor_text": ""}, {"url": "https://saim-mehmood-gul.medium.com/?source=post_page-----a81938a5e286--------------------------------", "anchor_text": "Saim Mehmood"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F99a450743f0c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-risk-of-geographical-areas-being-infected-a81938a5e286&user=Saim+Mehmood&userId=99a450743f0c&source=post_page-99a450743f0c----a81938a5e286---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa81938a5e286&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-risk-of-geographical-areas-being-infected-a81938a5e286&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa81938a5e286&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-risk-of-geographical-areas-being-infected-a81938a5e286&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "http://towardsdatascience.com/", "anchor_text": "Towards Data Science"}, {"url": "https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports", "anchor_text": "here"}, {"url": "https://russell-pollari.github.io/ontario-covid19/", "anchor_text": "Russell Pollari"}, {"url": "https://github.com/saimmehmood/semantic_relationships", "anchor_text": "work"}, {"url": "https://www.postgresql.org/about/", "anchor_text": "PostgreSQL"}, {"url": "https://postgis.net/", "anchor_text": "PostGIS"}, {"url": "https://www.kaggle.com/c/nyc-taxi-trip-duration/data?select=train.zip", "anchor_text": "file"}, {"url": "https://github.com/saimmehmood/covid_19_risk/blob/master/new_york_taxi.py", "anchor_text": "python code"}, {"url": "https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry", "anchor_text": "Well-known text"}, {"url": "https://tinyurl.com/nz8ybfu4", "anchor_text": "https://tinyurl.com/nz8ybfu4"}, {"url": "https://github.com/saimmehmood/covid_19_risk/blob/master/uniform_grid.py", "anchor_text": "code"}, {"url": "https://www.pgadmin.org/", "anchor_text": "pgAdmin"}, {"url": "http://twitter.com/a", "anchor_text": "@a"}, {"url": "http://twitter.com/a", "anchor_text": "@a"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----a81938a5e286---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/postgresql?source=post_page-----a81938a5e286---------------postgresql-----------------", "anchor_text": "Postgresql"}, {"url": "https://medium.com/tag/covid-19?source=post_page-----a81938a5e286---------------covid_19-----------------", "anchor_text": "Covid-19"}, {"url": "https://medium.com/tag/trajectory-data-mining?source=post_page-----a81938a5e286---------------trajectory_data_mining-----------------", "anchor_text": "Trajectory Data Mining"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----a81938a5e286---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa81938a5e286&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-risk-of-geographical-areas-being-infected-a81938a5e286&user=Saim+Mehmood&userId=99a450743f0c&source=-----a81938a5e286---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa81938a5e286&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-risk-of-geographical-areas-being-infected-a81938a5e286&user=Saim+Mehmood&userId=99a450743f0c&source=-----a81938a5e286---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa81938a5e286&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-risk-of-geographical-areas-being-infected-a81938a5e286&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a81938a5e286--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa81938a5e286&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-risk-of-geographical-areas-being-infected-a81938a5e286&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a81938a5e286---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a81938a5e286--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a81938a5e286--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a81938a5e286--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a81938a5e286--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a81938a5e286--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a81938a5e286--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a81938a5e286--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a81938a5e286--------------------------------", "anchor_text": ""}, {"url": "https://saim-mehmood-gul.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://saim-mehmood-gul.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Saim Mehmood"}, {"url": "https://saim-mehmood-gul.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "9 Followers"}, {"url": "https://saimmehmood.com/", "anchor_text": "https://saimmehmood.com/"}, {"url": "https://www.linkedin.com/in/saimmehmoodgul/", "anchor_text": "https://www.linkedin.com/in/saimmehmoodgul/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F99a450743f0c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-risk-of-geographical-areas-being-infected-a81938a5e286&user=Saim+Mehmood&userId=99a450743f0c&source=post_page-99a450743f0c--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F99a450743f0c%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcovid-19-risk-of-geographical-areas-being-infected-a81938a5e286&user=Saim+Mehmood&userId=99a450743f0c&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}