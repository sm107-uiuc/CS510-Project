{"url": "https://towardsdatascience.com/tracking-the-race-for-10-downing-street-live-tweet-dashboard-using-tweepy-mysql-and-streamlit-6084e88b4dd8", "time": 1683017110.726603, "path": "towardsdatascience.com/tracking-the-race-for-10-downing-street-live-tweet-dashboard-using-tweepy-mysql-and-streamlit-6084e88b4dd8/", "webpage": {"metadata": {"title": "Building a Live Tweet Dashboard using Tweepy, MySQL and Streamlit | by Jonathan Readshaw | Towards Data Science", "h1": "Building a Live Tweet Dashboard using Tweepy, MySQL and Streamlit", "description": "Twitter can be used as a data source for various data science projects, including Geo-spatial analysis (where are users tweeting about certain subjects?) and sentiment analysis (how do users feel\u2026"}, "outgoing_paragraph_urls": [{"url": "http://dev.twitter.com", "anchor_text": "dev.twitter.com", "paragraph_index": 10}, {"url": "https://www.linkedin.com/in/jonathan-readshaw-4884b2147/", "anchor_text": "https://www.linkedin.com/in/jonathan-readshaw-4884b2147/", "paragraph_index": 22}], "all_paragraphs": ["Twitter can be used as a data source for various data science projects, including Geo-spatial analysis (where are users tweeting about certain subjects?) and sentiment analysis (how do users feel about certain subjects?).", "I decided to build a dashboard that combines the two questions using the example of UK political leaders; Boris Johnson and Keir Starmer. However it\u2019s possible to use any combination of keywords to analyse political figures, companies etc.", "We can break down what needs to be done into three distinct areas:", "This article will work through each point above and show how they interact.", "We need a MySQL server up and a running before we can create our database and tables. This can either be done locally or on a hosted server, however I would recommend setting this up locally first. Your app can then be moved to hosted infrastructure at a later date.", "First let\u2019s create our database through the following SQL statement:", "Creation of the table and database transactions will be handled using SQLAlchemy. This is a Python library most commonly used as an Object Relational Mapper (ORM), handling the communication between our Python code and the database. SQLAlchemy allows database tables to be represented as Python classes and the use of functions to automatically execute SQL statements.", "The class below represents the table we will use to store tweets:", "In a separate file database.py we define various variables that are required to perform our database operations using SQLAlchemy:", "Details on engines, base and sessions can be found in the SQLAlchemy documentation. There are two key functions within this file:", "Tweepy is a Python library to access the Twitter API. You\u2019ll need to set up a twitter application at dev.twitter.com to attain a set of authentication keys to use with the API. Streaming with Tweepy comprises of three objects; Stream, StreamListener, OAuthHandler. The latter simply handles API authentication and requires the unique keys from the creation of your Twitter app.", "The StreamListener class is used to define how each incoming tweet should be handled. There are two methods of the StreamListener class that we will overwrite in our child class TweetListener:", "Our on_error() implementation can be kept simple. The code below will log a warning for all status codes except 420. This code is encountered when the stream has reached its limit, and therefore we need to close it.", "on_status() is more involved and will handle processing of individual tweets. First let us look at StreamListener class\u2019 __init__:", "Apart from calling the base __init__ we define two additional attributes. Firstly keywords, which is simply a list of keywords that we use to filter the stream. Although the listener doesn\u2019t directly handle filtering the stream, we will use these when storing tweets on our database. The second attribute is an instance of SentimentIntensityAnalyzer from vaderSentiment. This will be used to assign a sentiment score to each tweet. We could use a more complex model to perform the sentiment analysis (e.g. BERT) however VADER is perfect for demonstrative purposes, works well with Social Media texts and doesn\u2019t require complex dependencies or a large amount of memory.", "Let\u2019s take a step-by-step look at our on_status() implementation:", "All that is left to do is create an instance of Tweepy\u2019s Stream class using our customer listener and auth classes. The code below shows how we\u2019ll start the stream, including parsing the keywords as command line arguments.", "Once our stream is up and running we need a way to view our data in real time. For this we\u2019ll use streamlit which allows us to build a interactive web app using a single python script. There are great examples on the streamlit website and the documentation is easy to follow.", "I won\u2019t go through all the code for the app in this article as it can be viewed on GitHub. The app will display following information:", "These metrics/visualisations will allow users to keep track of trends in near real-time. We make use of the following streamlit features:", "Tweepy is easy to use and can be a powerful tool for tracking public sentiment towards key topics. Coupled with streamlit you can get an interactive web app up and running in an afternoon.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Engineering graduate with a passion for Data Science and ML. https://www.linkedin.com/in/jonathan-readshaw-4884b2147/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F6084e88b4dd8&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftracking-the-race-for-10-downing-street-live-tweet-dashboard-using-tweepy-mysql-and-streamlit-6084e88b4dd8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftracking-the-race-for-10-downing-street-live-tweet-dashboard-using-tweepy-mysql-and-streamlit-6084e88b4dd8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftracking-the-race-for-10-downing-street-live-tweet-dashboard-using-tweepy-mysql-and-streamlit-6084e88b4dd8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftracking-the-race-for-10-downing-street-live-tweet-dashboard-using-tweepy-mysql-and-streamlit-6084e88b4dd8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----6084e88b4dd8--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6084e88b4dd8--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://readshawjonathan.medium.com/?source=post_page-----6084e88b4dd8--------------------------------", "anchor_text": ""}, {"url": "https://readshawjonathan.medium.com/?source=post_page-----6084e88b4dd8--------------------------------", "anchor_text": "Jonathan Readshaw"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fccfd35fa18d8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftracking-the-race-for-10-downing-street-live-tweet-dashboard-using-tweepy-mysql-and-streamlit-6084e88b4dd8&user=Jonathan+Readshaw&userId=ccfd35fa18d8&source=post_page-ccfd35fa18d8----6084e88b4dd8---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6084e88b4dd8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftracking-the-race-for-10-downing-street-live-tweet-dashboard-using-tweepy-mysql-and-streamlit-6084e88b4dd8&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6084e88b4dd8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftracking-the-race-for-10-downing-street-live-tweet-dashboard-using-tweepy-mysql-and-streamlit-6084e88b4dd8&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/jonathanreadshaw/streamlit-twitter-stream", "anchor_text": "https://github.com/jonathanreadshaw/streamlit-twitter-stream"}, {"url": "http://dev.twitter.com", "anchor_text": "dev.twitter.com"}, {"url": "https://medium.com/tag/python?source=post_page-----6084e88b4dd8---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/streamlit?source=post_page-----6084e88b4dd8---------------streamlit-----------------", "anchor_text": "Streamlit"}, {"url": "https://medium.com/tag/tweepy?source=post_page-----6084e88b4dd8---------------tweepy-----------------", "anchor_text": "Tweepy"}, {"url": "https://medium.com/tag/mysql?source=post_page-----6084e88b4dd8---------------mysql-----------------", "anchor_text": "MySQL"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6084e88b4dd8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftracking-the-race-for-10-downing-street-live-tweet-dashboard-using-tweepy-mysql-and-streamlit-6084e88b4dd8&user=Jonathan+Readshaw&userId=ccfd35fa18d8&source=-----6084e88b4dd8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6084e88b4dd8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftracking-the-race-for-10-downing-street-live-tweet-dashboard-using-tweepy-mysql-and-streamlit-6084e88b4dd8&user=Jonathan+Readshaw&userId=ccfd35fa18d8&source=-----6084e88b4dd8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6084e88b4dd8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftracking-the-race-for-10-downing-street-live-tweet-dashboard-using-tweepy-mysql-and-streamlit-6084e88b4dd8&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6084e88b4dd8--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F6084e88b4dd8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftracking-the-race-for-10-downing-street-live-tweet-dashboard-using-tweepy-mysql-and-streamlit-6084e88b4dd8&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----6084e88b4dd8---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----6084e88b4dd8--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----6084e88b4dd8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----6084e88b4dd8--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----6084e88b4dd8--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----6084e88b4dd8--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----6084e88b4dd8--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----6084e88b4dd8--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----6084e88b4dd8--------------------------------", "anchor_text": ""}, {"url": "https://readshawjonathan.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://readshawjonathan.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Jonathan Readshaw"}, {"url": "https://readshawjonathan.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "45 Followers"}, {"url": "https://www.linkedin.com/in/jonathan-readshaw-4884b2147/", "anchor_text": "https://www.linkedin.com/in/jonathan-readshaw-4884b2147/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fccfd35fa18d8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftracking-the-race-for-10-downing-street-live-tweet-dashboard-using-tweepy-mysql-and-streamlit-6084e88b4dd8&user=Jonathan+Readshaw&userId=ccfd35fa18d8&source=post_page-ccfd35fa18d8--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fccfd35fa18d8%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftracking-the-race-for-10-downing-street-live-tweet-dashboard-using-tweepy-mysql-and-streamlit-6084e88b4dd8&user=Jonathan+Readshaw&userId=ccfd35fa18d8&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}