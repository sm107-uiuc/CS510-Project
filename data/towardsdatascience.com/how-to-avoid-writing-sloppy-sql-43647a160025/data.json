{"url": "https://towardsdatascience.com/how-to-avoid-writing-sloppy-sql-43647a160025", "time": 1683007485.104018, "path": "towardsdatascience.com/how-to-avoid-writing-sloppy-sql-43647a160025/", "webpage": {"metadata": {"title": "How To Avoid Writing Sloppy SQL. Making your SQL code more readable and\u2026 | by Kovid Rathee | Towards Data Science", "h1": "How To Avoid Writing Sloppy SQL", "description": "SQL is easy to understand and easy to use. It\u2019s easy to get the right results from a query. However, it\u2019s not that easy to read other people\u2019s correctly working queries though. SQL doesn\u2019t enforce a\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.sqlstyle.guide", "anchor_text": "SQL Style Guide", "paragraph_index": 0}, {"url": "https://www.sqlstyle.guide", "anchor_text": "SQL Style Guide", "paragraph_index": 4}, {"url": "https://sqlblog.org/2009/10/08/bad-habits-to-kick-using-table-aliases-like-a-b-c-or-t1-t2-t3", "anchor_text": "this post", "paragraph_index": 7}, {"url": "https://linktr.ee/kovid", "anchor_text": "Avoid the sloppiness. Write better SQL", "paragraph_index": 13}, {"url": "http://veekaybee.github.io/2015/06/02/good-sql/", "anchor_text": "writing about this", "paragraph_index": 14}, {"url": "https://www.sqlstyle.guide", "anchor_text": "SQL Style Guide", "paragraph_index": 14}, {"url": "https://kovidrathee.medium.com/membership", "anchor_text": "https://kovidrathee.medium.com/membership", "paragraph_index": 16}], "all_paragraphs": ["SQL is easy to understand and easy to use. It\u2019s easy to get the right results from a query. However, it\u2019s not that easy to read other people\u2019s correctly working queries though. SQL doesn\u2019t enforce a global formatting standard for writing queries (like PEP8 in Python). There are initiatives like SQL Style Guide but it doesn\u2019t have a widespread following. Hence, It\u2019s difficult to get people to write in a certain way. Moreover, most of the SQL IDEs also don\u2019t support query beautification the same way.", "Any fool can write code that a computer can understand. Good programmers write code that humans can understand \u2014 Martin Fowler", "It then becomes a matter to be solved by being disciplined. How does one make sure that the SQL code they write is easily readable and understandable by others? There are a number of simple steps to follow. More than anything else, following a style guide makes everything so much simpler. Think about this \u2014", "Python, since inception, has had an inclination towards being simple and readable. The principle of indentation in itself solves for the readability problem quite a lot. SQL, since inception, hasn\u2019t had any such standard which could have been enforced. Let\u2019s circle back to that later. For now, see this example demonstrating how to indent correctly in Python using the PEP8 standard \u2014", "The most famous and useful style guide that I have come across is the SQL Style Guide by Simon Holywell. There\u2019s no point in repeating exactly whatis in this style guide but it is worth emphasizing that naming conventions, aliasing and indentation go a long way in making the code easier to read and understand. Here\u2019s an excerpt from the style guide \u2014", "See, the style guide talks about the simplest of things. Every little effort towards taking care of those simplest of things makes your code cleaner.", "SQL is about joins, tables, CTEs and so on. There are so many objects at a given time in a database. When writing a query, we do need to access a lot of them. Sometimes, too many of them, to be honest. If that happens a simple shorthand for accessing these database objects should be in place.", "Within the organization, that shorthand should be easily recognizable. For example, if there\u2019s a table called delivery_packages, it should just be aliased as dp. As a rule of thumb, just take the first letter of the table name for every word in the snake case table name. The alias for order_feedback_comments should be ofc. Make sure that these tables aliases aren\u2019t too short either. Make sure they make some sense. Check out this post.", "If the query is a lot of lines, break it into CTEs or subqueries or create temporary intermediate tables. If you don\u2019t want to do that, either way, make sure you comment your SQL code in a way that\u2019s easy to read and understand and explains what you\u2019re doing with the query in as few words as possible. Caveats, issues, performance related stuff \u2014 all else should be commented in detail.", "If your code is easily readable, it is easily reusable", "Without proper comments, reading through thousand line queries can be and should be difficult. Try not to make it difficult. Comment and comment well. Follow a style guide for that too.", "Finally, as a general rule of thumb, if possible, keep the subqueries to the minimum \u2014 not just for performance reasons. Complex multi-level subqueries might get the job done quickly but are increasingly difficult to maintain. If your database supports CTEs, use them instead of using subqueries wherever you can. If the query becomes too complicated and has too many subqueries, create temp tables (possibly in-memory) \u2014 and go from there.", "One difference between a smart programmer and a professional programmer is that the professional understands that clarity is king. Professionals use their powers for good and write code that others can understand \u2014 Robert C. Martin", "Avoid the sloppiness. Write better SQL.", "Major shoutout to Vicky Boykis for writing about this way back in 2015 and Simon Holywell for preparing the SQL Style Guide.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I write about tech, Indian classical music, literature, and the workplace among other things. 1x engineer on weekdays. https://kovidrathee.medium.com/membership"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F43647a160025&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-avoid-writing-sloppy-sql-43647a160025&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-avoid-writing-sloppy-sql-43647a160025&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-avoid-writing-sloppy-sql-43647a160025&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-avoid-writing-sloppy-sql-43647a160025&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://me.dm/@kovidrathee", "anchor_text": "Mastodon"}, {"url": "https://towardsdatascience.com/?source=post_page-----43647a160025--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----43647a160025--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://kovidrathee.medium.com/?source=post_page-----43647a160025--------------------------------", "anchor_text": ""}, {"url": "https://kovidrathee.medium.com/?source=post_page-----43647a160025--------------------------------", "anchor_text": "Kovid Rathee"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F13d513db037&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-avoid-writing-sloppy-sql-43647a160025&user=Kovid+Rathee&userId=13d513db037&source=post_page-13d513db037----43647a160025---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F43647a160025&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-avoid-writing-sloppy-sql-43647a160025&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F43647a160025&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-avoid-writing-sloppy-sql-43647a160025&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@amaury_guti?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Amaury Gutierrez"}, {"url": "https://unsplash.com/s/photos/sloppy?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://www.sqlstyle.guide", "anchor_text": "SQL Style Guide"}, {"url": "https://www.python.org/dev/peps/pep-0008/", "anchor_text": "PEP8 Page"}, {"url": "https://www.sqlstyle.guide", "anchor_text": "SQL Style Guide"}, {"url": "https://www.sqlstyle.guide", "anchor_text": "SQL Style Guide"}, {"url": "https://sqlblog.org/2009/10/08/bad-habits-to-kick-using-table-aliases-like-a-b-c-or-t1-t2-t3", "anchor_text": "this post"}, {"url": "https://linktr.ee/kovid", "anchor_text": "Avoid the sloppiness. Write better SQL"}, {"url": "http://veekaybee.github.io/2015/06/02/good-sql/", "anchor_text": "writing about this"}, {"url": "https://www.sqlstyle.guide", "anchor_text": "SQL Style Guide"}, {"url": "https://medium.com/tag/programming?source=post_page-----43647a160025---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/clean-code?source=post_page-----43647a160025---------------clean_code-----------------", "anchor_text": "Clean Code"}, {"url": "https://medium.com/tag/database?source=post_page-----43647a160025---------------database-----------------", "anchor_text": "Database"}, {"url": "https://medium.com/tag/sql?source=post_page-----43647a160025---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/data?source=post_page-----43647a160025---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F43647a160025&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-avoid-writing-sloppy-sql-43647a160025&user=Kovid+Rathee&userId=13d513db037&source=-----43647a160025---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F43647a160025&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-avoid-writing-sloppy-sql-43647a160025&user=Kovid+Rathee&userId=13d513db037&source=-----43647a160025---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F43647a160025&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-avoid-writing-sloppy-sql-43647a160025&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----43647a160025--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F43647a160025&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-avoid-writing-sloppy-sql-43647a160025&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----43647a160025---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----43647a160025--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----43647a160025--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----43647a160025--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----43647a160025--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----43647a160025--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----43647a160025--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----43647a160025--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----43647a160025--------------------------------", "anchor_text": ""}, {"url": "https://kovidrathee.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://kovidrathee.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kovid Rathee"}, {"url": "https://kovidrathee.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.1K Followers"}, {"url": "https://kovidrathee.medium.com/membership", "anchor_text": "https://kovidrathee.medium.com/membership"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F13d513db037&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-avoid-writing-sloppy-sql-43647a160025&user=Kovid+Rathee&userId=13d513db037&source=post_page-13d513db037--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8154c41b0f77&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-avoid-writing-sloppy-sql-43647a160025&newsletterV3=13d513db037&newsletterV3Id=8154c41b0f77&user=Kovid+Rathee&userId=13d513db037&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}