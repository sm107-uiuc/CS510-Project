{"url": "https://towardsdatascience.com/watch-the-rise-of-plastics-in-our-oceans-part-one-61ccd16cfa04", "time": 1682995911.1257322, "path": "towardsdatascience.com/watch-the-rise-of-plastics-in-our-oceans-part-one-61ccd16cfa04/", "webpage": {"metadata": {"title": "Learn R Shiny through studying the rise of ocean plastics\u2014 Part one | by Keith McNulty | Towards Data Science", "h1": "Learn R Shiny through studying the rise of ocean plastics\u2014 Part one", "description": "In a very recent article in the journal Nature, a team of marine scientists analyzed data that had been captured in devices called Continuous Plankton Recorders (CPRs) since the 1930s. CPRs are towed\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.nature.com/articles/s41467-019-09506-1", "anchor_text": "very recent article in the journal Nature", "paragraph_index": 0}, {"url": "https://www.dassh.ac.uk/downloads/Supplementary_Data_2.xlsx", "anchor_text": "here", "paragraph_index": 3}, {"url": "https://keith-mcnulty.shinyapps.io/cpr_explorer/", "anchor_text": "here", "paragraph_index": 6}, {"url": "https://github.com/keithmcnulty/cpr_data", "anchor_text": "here", "paragraph_index": 6}, {"url": "https://www.linkedin.com/in/keith-mcnulty/", "anchor_text": "LinkedIn", "paragraph_index": 23}, {"url": "https://twitter.com/dr_keithmcnulty", "anchor_text": "Twitter", "paragraph_index": 23}, {"url": "http://keithmcnulty.org", "anchor_text": "keithmcnulty.org", "paragraph_index": 25}], "all_paragraphs": ["In a very recent article in the journal Nature, a team of marine scientists analyzed data that had been captured in devices called Continuous Plankton Recorders (CPRs) since the 1930s. CPRs are towed by vessels during their routine journeys and are designed to capture plankton for research purposes.", "But beginning in 1957, CPRs started to accidentally capture another piece of data \u2014 one which we didn\u2019t know we would find useful until recently \u2014 because in that year, a CPR was found to be contaminated with a man-made plastic object for the first time.", "For their journal article, the team of scientists painstakingly put together a dataset of all such incidents of man-made plastics being found in CPRs in the North Atlantic, Arctic and Northern European seas from the first recorded incident in 1957 through to 2016. They also gave the public access to that dataset \u2014 a total of 208 incidents of various types of plastic ranging from fishing nets to plastic bags.", "As I looked at the dataset here, I realized that it is a great dataset to help teach someone how to create a data exploration app using R Shiny, and this is what I will do in this series of articles. The dataset is limited in size so easy to work with, but contains a wide range of information including dates, text, and geographic co-ordinate data.", "To follow this series, you need some basic experience in data manipulation in R, including using RStudio as a coding environment. Some previous experience using RMarkdown, Shiny, and simple plotting in ggplot2 is helpful but not essential. You will need to install the following packages before you start: shiny, RMarkdown, ggplot2, tidyverse and leaflet.", "In this series you will learn how to:", "To see the app that will be the end product of this series you can visit here and the full set of code is on Github here. Here is one of the cooler outputs \u2014 a clip from an animated timeline of all instances of man-made plastics discovered in CPRs since 1957.", "shiny is an open source R package that provides an elegant and powerful web framework for building web applications using R.", "One way of describing the value of shiny is as follows: imagine you are an analyst in a company and you have access to a confidential set of data that many people want statistics on. You get at least six requests a day for predictable statistics like grouped averages based on specified filters. One way of dealing with this is to just manually do these analyses yourself every time and send the results to the requestor.", "Another is to build a simple self-serve app where requestors can visit any time, select their filters and other inputs, and see the results instantly. shinyallows exploration of a data set via the web, where the developer can decide what can be seen and how it can be seen. Using shiny, R programmers can save a lot of manual effort at the cost of just a little extra coding. (In fact, with every release, Shiny can do a lot more that just this, but let\u2019s stick to this for now).", "To use shiny, R programmers need to delve slightly into the world of reactivity. They need to understand how inputs feed into reactive variables in R and how to control that reactivity in order to display the output that they desire. If you don\u2019t have time to learn and master Javascript, shiny is a great option to achieve the goal of publishing reactive analytics via the web.", "How you design your dashboard depends heavily on how it is going to be used. If it is intended to be a product to be used by many people to fulfill a particular need, it\u2019s advisable to follow the principles of good UX design and conduct user interviews to understand exactly what your users need before proceeding to mockups and technical development.", "In this case, since this is a fun project and not for a massive user base, we can decide some of our own design. The first thing we need to do is look at the data and ask: what do we think people will be interested in seeing? Here is a snapshot of the CPR data we are dealing with:", "We can see a few things that would be of interest. First, the \u2018Observation\u2019 column helps us identify what type of plastic was found, allowing us to add a \u2018type\u2019 to the data set (similar to how the scientists in the Nature article conducted their analysis), which may help for filtering. There is also a \u2018Year of tow\u2019 column, helping us understand the timeline. There are co-ordinates for the start and end of the tow, helping us visualize where the plastic was found, and finally there are names for different maritime regions, which may also be helpful for filtering.", "Therefore, it might be useful to include the following in our app:", "Therefore, we are going to design our dashboard as follows:", "The GLOBAL SIDEBAR will always be visible. It will give some general use guidelines and context and it will allow filtering by plastic type and by maritime region, so that any results displayed in the app will reflect these filters. Then there will be three independent pages, each one focusing on a different aspect of the data:", "With our design in mind, we now need to take the dataset given to us by the researchers and adapt it to be used in our app. There are two steps to this.", "First, we need to add any new columns necessary for a particular analysis we have in mind in our design. As I mentioned above, this dataset is already in pretty good shape, but we do need to parse the Observation column to determine a \u2018type\u2019 for each incident, and we could do with cleaning up the column names to make them simpler to work with, as they will look pretty messy when loaded directly into R. So let\u2019s start up a project in RStudio and call it cpr_data, and let\u2019s create a subfolder in that project called called data, and in this we can place the original xlsx file the researchers provided us. We can write a simple R script to add the new \u2018type\u2019 column and to tidy up the column names \u2014 let\u2019s call that prep_data.R. We can load the dataset in by either opening it in Excel, deleting the first row, resaving as a CSV file and use read.csv. Or, like I do below, you can read it into R directly using the openxlsx package.", "In this script we use grepl() to identify terms in the text strings in the Observation column, and then we use dplyr::case_when() to assign these terms to a type. In the event that no terms match, we define a type ~ \"Unclassified\" . We also change column names into simple lower case strings that are easy to code.", "Second, we need to re-save this transformed data. Later, when we have written our app and we deploy it so that others can access it, this data file will be bundled with it, and the app will read it into its environment. If this dataset was very large, we would need to think about the fastest file format that R could read from. But in this case the dataset is small, so we can choose any file format to save it as. In this case we will keep things simple and save the dataset as an R object into an RDS file.", "So we have got our basic design planned, and we have the data set up in the right way. In the next part of this series, I\u2019ll go through how to get the simple outline of the dashboard up and running. I\u2019ll also discuss how to handle inputs and reactive variables and how to build some basic descriptive plots in ggplot2that respond to user input.", "Here are some follow-up exercises which you can use to test how well you have absorbed the content of this article:", "Originally I was a Pure Mathematician, then I became a Psychometrician and a Data Scientist. I am passionate about applying the rigor of all those disciplines to complex people questions. I\u2019m also a coding geek and a massive fan of Japanese RPGs. Find me on LinkedIn or on Twitter.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Expert and Author in Applied Mathematics, Data Science, Statistics. Also writes History, Science, Culture. Find me on Twitter or keithmcnulty.org"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F61ccd16cfa04&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwatch-the-rise-of-plastics-in-our-oceans-part-one-61ccd16cfa04&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwatch-the-rise-of-plastics-in-our-oceans-part-one-61ccd16cfa04&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwatch-the-rise-of-plastics-in-our-oceans-part-one-61ccd16cfa04&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwatch-the-rise-of-plastics-in-our-oceans-part-one-61ccd16cfa04&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----61ccd16cfa04--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----61ccd16cfa04--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://keith-mcnulty.medium.com/?source=post_page-----61ccd16cfa04--------------------------------", "anchor_text": ""}, {"url": "https://keith-mcnulty.medium.com/?source=post_page-----61ccd16cfa04--------------------------------", "anchor_text": "Keith McNulty"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa859aab532a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwatch-the-rise-of-plastics-in-our-oceans-part-one-61ccd16cfa04&user=Keith+McNulty&userId=a859aab532a0&source=post_page-a859aab532a0----61ccd16cfa04---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F61ccd16cfa04&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwatch-the-rise-of-plastics-in-our-oceans-part-one-61ccd16cfa04&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F61ccd16cfa04&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwatch-the-rise-of-plastics-in-our-oceans-part-one-61ccd16cfa04&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.nature.com/articles/s41467-019-09506-1", "anchor_text": "very recent article in the journal Nature"}, {"url": "https://www.dassh.ac.uk/downloads/Supplementary_Data_2.xlsx", "anchor_text": "here"}, {"url": "https://keith-mcnulty.shinyapps.io/cpr_explorer/", "anchor_text": "here"}, {"url": "https://github.com/keithmcnulty/cpr_data", "anchor_text": "here"}, {"url": "https://www.nature.com/articles/s41467-019-09506-1", "anchor_text": "Nature article"}, {"url": "https://www.linkedin.com/in/keith-mcnulty/", "anchor_text": "LinkedIn"}, {"url": "https://twitter.com/dr_keithmcnulty", "anchor_text": "Twitter"}, {"url": "https://medium.com/tag/data-science?source=post_page-----61ccd16cfa04---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----61ccd16cfa04---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/analytics?source=post_page-----61ccd16cfa04---------------analytics-----------------", "anchor_text": "Analytics"}, {"url": "https://medium.com/tag/science?source=post_page-----61ccd16cfa04---------------science-----------------", "anchor_text": "Science"}, {"url": "https://medium.com/tag/environment?source=post_page-----61ccd16cfa04---------------environment-----------------", "anchor_text": "Environment"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F61ccd16cfa04&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwatch-the-rise-of-plastics-in-our-oceans-part-one-61ccd16cfa04&user=Keith+McNulty&userId=a859aab532a0&source=-----61ccd16cfa04---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F61ccd16cfa04&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwatch-the-rise-of-plastics-in-our-oceans-part-one-61ccd16cfa04&user=Keith+McNulty&userId=a859aab532a0&source=-----61ccd16cfa04---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F61ccd16cfa04&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwatch-the-rise-of-plastics-in-our-oceans-part-one-61ccd16cfa04&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----61ccd16cfa04--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F61ccd16cfa04&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwatch-the-rise-of-plastics-in-our-oceans-part-one-61ccd16cfa04&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----61ccd16cfa04---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----61ccd16cfa04--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----61ccd16cfa04--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----61ccd16cfa04--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----61ccd16cfa04--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----61ccd16cfa04--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----61ccd16cfa04--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----61ccd16cfa04--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----61ccd16cfa04--------------------------------", "anchor_text": ""}, {"url": "https://keith-mcnulty.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://keith-mcnulty.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Keith McNulty"}, {"url": "https://keith-mcnulty.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "11K Followers"}, {"url": "http://keithmcnulty.org", "anchor_text": "keithmcnulty.org"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa859aab532a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwatch-the-rise-of-plastics-in-our-oceans-part-one-61ccd16cfa04&user=Keith+McNulty&userId=a859aab532a0&source=post_page-a859aab532a0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7991b3dbcee9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwatch-the-rise-of-plastics-in-our-oceans-part-one-61ccd16cfa04&newsletterV3=a859aab532a0&newsletterV3Id=7991b3dbcee9&user=Keith+McNulty&userId=a859aab532a0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://peopleanalytics-regression-book.org/", "anchor_text": "Handbook of Regression Modeling in People Analytics2021"}, {"url": "https://ona-book.org", "anchor_text": "Handbook of Graphs and Networks in People Analytics2022"}, {"url": "https://medium.com/@keith-mcnulty/books?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "See all (2)"}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}