{"url": "https://towardsdatascience.com/channel-your-creativity-interactive-and-animated-graphics-in-r-with-covid-19-data-5f7bede4b29f", "time": 1683005298.04974, "path": "towardsdatascience.com/channel-your-creativity-interactive-and-animated-graphics-in-r-with-covid-19-data-5f7bede4b29f/", "webpage": {"metadata": {"title": "Creating Your Interactive and Animated Graphics with R in 5 Minutes | by Kat Li | Towards Data Science", "h1": "Creating Your Interactive and Animated Graphics with R in 5 Minutes", "description": "The coronavirus, or COVID-19, has been spreading over several continents in less than two months, and definitely has been inciting public panic and a pandemic of fear! Every news on this planet is\u2026"}, "outgoing_paragraph_urls": [{"url": "https://d3js.org/", "anchor_text": "D3.js", "paragraph_index": 1}, {"url": "https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_time_series", "anchor_text": "here is the link", "paragraph_index": 2}, {"url": "https://en.wikipedia.org/wiki/Don%27t_repeat_yourself", "anchor_text": "DRY", "paragraph_index": 5}, {"url": "http://www.cookbook-r.com/Graphs/Facets_(ggplot2)/", "anchor_text": "this link", "paragraph_index": 16}, {"url": "https://github.com/YiLi225/COVID-19_analysis", "anchor_text": "my Github", "paragraph_index": 20}, {"url": "https://github.com/YiLi225/COVID-19_analysis", "anchor_text": "in my Github.", "paragraph_index": 22}, {"url": "http://towardsdatascience.com/", "anchor_text": "Towards Data Science", "paragraph_index": 23}, {"url": "https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports", "anchor_text": "here", "paragraph_index": 23}], "all_paragraphs": ["The coronavirus, or COVID-19, has been spreading over several continents in less than two months, and definitely has been inciting public panic and a pandemic of fear! Every news on this planet is covering coronavirus, the stock market is melting down, and people are allowing anxiety to dictate their behaviors. Certainly, I am no expertise in virus genetics nor epidemiology by any means, but as far as I am concerned, the rational approach is to take necessary precautions of staying at home and practicing social distancing until we get through this together!", "Rather than planning for the worst-case scenario while being stuck at home, why don\u2019t we actively occupy our mind with something creative? In this blog, using the COVID\u201319 data, I will discuss several techniques in R to produce plots with fewer lines of code, and how to create interactive and animated graphics in R without coding a single line in D3.js. Now, let\u2019s jump onto the bandwagon of COVID-19 visualizations in R.", "We will use the COVID-19 datasets maintained and updated daily by the Johns Hopkins University CSSE 2019-nCoV Github repository (here is the link). There are 3 individual datasets for confirmed, deaths, and recovered cases, respectively, and all 3 are wide-formatted spanning from Jan 22 up until Mar 28 (when I started this blog).", "Read in Datasets (and Create Plotting Variable) Simultaneously", "First thing first, let\u2019s read the 3 datasets into R,", "Note that we created one additional variable labeled \u2018Status\u2019 in each dataset. I will explain the reason in a minute, but for now, let\u2019s do a quick sanity check to ensure the 3 datasets containing the same columns for binding. This kind of sanity check is always useful, especially in case of changes in the raw data source, and (Easter Egg) the code below shows how to do it DRY.", "Now, we need to append the datasets list into one single data frame,", "Now, let\u2019s go back to the \u2018Status\u2019 variable we created while reading in each dataset. The value of this stacking variable will be \u2018confirmed\u2019, \u2018deaths\u2019, and \u2018recovered\u2019 in the confirmed, deaths, and recovered dataset, respectively. Keeping this \u2018Status\u2019 variable as a separate column allows it to be specified as a calculation and plotting parameter in {ggplot2}.", "Hence, the following demonstrates data preparation steps grouped by \u2018Country\u2019 and \u2018Status\u2019 (here, I selected 4 countries to compare \u2014 China, Italy, US and Iran),", "(Easter Egg) noticed the dot in colnames(.)? This is probably my favorite functionality in the {magrittr} piping, where the dot (.) here takes in whatever returns from the last operation. Super handy!", "Static Heatmap Showing the Confirmed Cases", "One way to visualize longitudinal data, or really any 2-dimensional data, is heatmap, therefore, let\u2019s move on to our first plot \u2014 heatmap of confirmed cases over time in the 4 countries aforementioned,", "For demonstration purpose, I only plotted data from Feb 22 to Mar 28, but feel free to expand the timeline if you want to play around,", "Here is our heatmap, indicating that as compared to other countries, China has the highest numbers of confirmed cases throughout until US and Italy exceeded those numbers towards the end of March.", "One drawback of heatmap is that it couldn\u2019t handle the third dimension, meaning if we were to observe the patterns for confirmed and deaths, and recovered cases, we would have to do 3 individual heatmaps.", "The longitudinal line chart is suitable for the task of adding a third layer (i.e., confirmed, deaths, and recovered). Here, for each country, the starting date for the plot is set to the date with the first case being reportedly confirmed, and we need to convert the format from wide to long,", "To create multiple plots in one go, {ggplot2} has an awesome function \u2018facet_wrap\u2019 (check out this link for details), and here we allow the scales to vary for different countries. To make the plots interactive, the {plotly} is our package-to-go,", "Here is our interactive line chart,", "Now, we can visually tell the trajectories for the 4 selected countries, then how about other countries?", "Well, we can do create a racing bar graphic showing top N countries with the highest confirmed cases, and we can do it just in R with the package {gganimate}!", "The full code is available in my Github, but basically, we first define a static plot as we would with {ggplot2},", "Then define the animated part, (Easter Egg) the function ease_aes() can be used to tune the smoothness of your bar transitions,", "I hope that this blog has distracted you from the coronavirus panic a little bit, and even better, you have learned something new. Again, you can find the full code, including how to save your animated plot as a GIF or MP4 in my Github.", "Note from the editors: Towards Data Science is a Medium publication primarily based on the study of data science and machine learning. We are not health professionals or epidemiologists, and the opinions of this article should not be interpreted as professional advice. To learn more about the coronavirus pandemic, you can click here.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5f7bede4b29f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchannel-your-creativity-interactive-and-animated-graphics-in-r-with-covid-19-data-5f7bede4b29f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchannel-your-creativity-interactive-and-animated-graphics-in-r-with-covid-19-data-5f7bede4b29f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchannel-your-creativity-interactive-and-animated-graphics-in-r-with-covid-19-data-5f7bede4b29f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchannel-your-creativity-interactive-and-animated-graphics-in-r-with-covid-19-data-5f7bede4b29f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5f7bede4b29f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5f7bede4b29f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://yilistats.medium.com/?source=post_page-----5f7bede4b29f--------------------------------", "anchor_text": ""}, {"url": "https://yilistats.medium.com/?source=post_page-----5f7bede4b29f--------------------------------", "anchor_text": "Kat Li"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7657f76e72be&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchannel-your-creativity-interactive-and-animated-graphics-in-r-with-covid-19-data-5f7bede4b29f&user=Kat+Li&userId=7657f76e72be&source=post_page-7657f76e72be----5f7bede4b29f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5f7bede4b29f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchannel-your-creativity-interactive-and-animated-graphics-in-r-with-covid-19-data-5f7bede4b29f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5f7bede4b29f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchannel-your-creativity-interactive-and-animated-graphics-in-r-with-covid-19-data-5f7bede4b29f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://d3js.org/", "anchor_text": "D3.js"}, {"url": "https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_time_series", "anchor_text": "here is the link"}, {"url": "https://en.wikipedia.org/wiki/Don%27t_repeat_yourself", "anchor_text": "DRY"}, {"url": "http://www.cookbook-r.com/Graphs/Facets_(ggplot2)/", "anchor_text": "this link"}, {"url": "https://github.com/YiLi225/COVID-19_analysis", "anchor_text": "my Github"}, {"url": "https://github.com/YiLi225/COVID-19_analysis", "anchor_text": "in my Github."}, {"url": "http://towardsdatascience.com/", "anchor_text": "Towards Data Science"}, {"url": "https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports", "anchor_text": "here"}, {"url": "https://medium.com/tag/r?source=post_page-----5f7bede4b29f---------------r-----------------", "anchor_text": "R"}, {"url": "https://medium.com/tag/visualization?source=post_page-----5f7bede4b29f---------------visualization-----------------", "anchor_text": "Visualization"}, {"url": "https://medium.com/tag/animated?source=post_page-----5f7bede4b29f---------------animated-----------------", "anchor_text": "Animated"}, {"url": "https://medium.com/tag/data-scienc?source=post_page-----5f7bede4b29f---------------data_scienc-----------------", "anchor_text": "Data Scienc"}, {"url": "https://medium.com/tag/covid-19?source=post_page-----5f7bede4b29f---------------covid_19-----------------", "anchor_text": "Covid-19"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5f7bede4b29f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchannel-your-creativity-interactive-and-animated-graphics-in-r-with-covid-19-data-5f7bede4b29f&user=Kat+Li&userId=7657f76e72be&source=-----5f7bede4b29f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5f7bede4b29f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchannel-your-creativity-interactive-and-animated-graphics-in-r-with-covid-19-data-5f7bede4b29f&user=Kat+Li&userId=7657f76e72be&source=-----5f7bede4b29f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5f7bede4b29f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchannel-your-creativity-interactive-and-animated-graphics-in-r-with-covid-19-data-5f7bede4b29f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5f7bede4b29f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5f7bede4b29f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchannel-your-creativity-interactive-and-animated-graphics-in-r-with-covid-19-data-5f7bede4b29f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5f7bede4b29f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5f7bede4b29f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5f7bede4b29f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5f7bede4b29f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5f7bede4b29f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5f7bede4b29f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5f7bede4b29f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5f7bede4b29f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5f7bede4b29f--------------------------------", "anchor_text": ""}, {"url": "https://yilistats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://yilistats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kat Li"}, {"url": "https://yilistats.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.5K Followers"}, {"url": "https://www.youtube.com/@DataTalksWithKat", "anchor_text": "https://www.youtube.com/@DataTalksWithKat"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7657f76e72be&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchannel-your-creativity-interactive-and-animated-graphics-in-r-with-covid-19-data-5f7bede4b29f&user=Kat+Li&userId=7657f76e72be&source=post_page-7657f76e72be--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F37afe5b5308f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchannel-your-creativity-interactive-and-animated-graphics-in-r-with-covid-19-data-5f7bede4b29f&newsletterV3=7657f76e72be&newsletterV3Id=37afe5b5308f&user=Kat+Li&userId=7657f76e72be&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}