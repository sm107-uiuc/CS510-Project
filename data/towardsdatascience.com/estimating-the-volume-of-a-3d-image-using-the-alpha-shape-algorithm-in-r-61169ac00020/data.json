{"url": "https://towardsdatascience.com/estimating-the-volume-of-a-3d-image-using-the-alpha-shape-algorithm-in-r-61169ac00020", "time": 1683000334.000724, "path": "towardsdatascience.com/estimating-the-volume-of-a-3d-image-using-the-alpha-shape-algorithm-in-r-61169ac00020/", "webpage": {"metadata": {"title": "Estimating the volume of a 3D image using the alpha shape algorithm in R | by Joos Korstanje | Towards Data Science", "h1": "Estimating the volume of a 3D image using the alpha shape algorithm in R", "description": "1. Explaining the difficulties of estimating the volume of a 3D point cloud and the solution proposed by the alpha shape / concave hull algorithms. 3. Applying the alpha shape algorithm on the .obj\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["1. Explaining the difficulties of estimating the volume of a 3D point cloud and the solution proposed by the alpha shape / concave hull algorithms.", "2. Showing how to import and visualize .obj images in R and accessing the matrix of data points.", "3. Applying the alpha shape algorithm on the .obj image to estimate the volume and understanding the effect of the alpha parameter.", "At first, it may seem simple to estimate the volume of a point cloud. If we had a 3D cube as shown below then we could use the formula that we\u2019ve all learned in physics class.", "Then if we have a different shape, we could fill it with cubes or other geometric shapes with the known formula of volume and the sum of those would give total volume, right?", "But in a real-life example, we do not have cubes. Also, we don\u2019t have a shape. What we actually have is a point cloud and this is the actual difficulty: finding the shape of the point cloud so that we can cut it in several pieces and calculate the volume of each of the pieces as above.", "Two approaches exist for drawing a contour of a point cloud: convex and concave. Convex means that a shape does not bend inwards, or we could say that there is no possibility to connect two points inside the shape by passing outside of the shape. Concave is the opposite: it has inward bendings and we can draw a point between two points inside it that passes outside it.", "Convex contouring is a relatively easy problem: take the convex shape around all points with minimum volume (or surface in 2D). But concave contour estimation is difficult. The difficulty is that there are multiple concave contours possible for one and the same point cloud and there is no mathematical way to define which contour is best!", "Since the concave contour allows for inward lines, the minimum concave contour shape could find a shape with almost 0 surface in this point cloud which would be a huge underestimation. On the other hand, we see that the convex contour is a serious overestimation.", "We need to tune the amount of concavity and the solution I give here is the Alpha Shape Algorithm.", "For computing the alpha shape of a point cloud, we need to define an alpha. An alpha of 1 will result in a convex hull. Then the closer the alpha is to zero, the more flexible the contour of our shape will be.", "Draw triangles between the points so that there is no overlap between those triangles (this is known as Delauney Triangulation). This gives us the convex hull (hull is the official terminology for what I\u2019ve called contour until now).", "The borders of those triangles all have a certain length. We know that the convex hull is too large, so we need to delete some of those triangle borders to make a better fitting hull.", "The exact criterion of selection is: draw a circle as large as possible around each border of the triangle. Select the border if 1. this circle does not contain another point2. the radius of this circle is smaller than alpha", "To apply the concave hull algorithm in practice, we need to import a 3D image into our programming environment. In this example, I will use existing R libraries.", "To import an image file, you can use the read.obj function in the readobj package as shown on the left.", "Then to get a visualization, use the rgl library. First, convert your obj object into a shapelist using the function tinyobj2shapelist3d and then use the function shade3d to generate a 3d viewer window that you can use to turn and twist the image with your mouse.", "To access the actual data of your .obj file after having imported it into R, execute the following:", "Now that we have the matrix of data points (3D point cloud) we can start using the Alpha Shape algorithm to estimate the concave hull around it and compute the volume from there.", "In order to estimate the concave hull and it\u2019s volume, we use the R package alphashape3d which has a function ashape3d to create the alpha shape given an xyz matrix and a value for alpha, and in addition, a plot function to show what happened and a volume_ashape3d to give us the estimated volume.", "The full code is shown below using an alpha of 0.35:", "You can now tune your alpha parameter to make a shape like the shape you need. One way to do this is to look at the shape and see which one of them fits best. Another way would be to calibrate your alpha shape algorithm using verification data: testing different alpha values and see which value gives the most correct volume estimation.", "You could even think about using a grid search to optimize alpha, which is what we did in the hackathon. The goal was to estimate the weight of a cow starting from a 3D image so we did a gridsearch on alpha from 0 to 1 in steps of 0.05 on a total of 74 images to select the alpha that maximizes the correlation with the observed weight of the cow. This resulted in the alpha of 0.35, which did not result in the best estimation of volume, but it did give us a useful variable to use in further machine learning.", "In this article, I have explained the alpha shape algorithm and I have shown how to use it for estimating the volume of a 3D object from a point cloud. The big advantage of this method is that it allows for concave shapes, which is not possible with convex methods.", "The alpha shape has to be calibrated and I have presented several ideas for doing this, even without calibration data. Even though it takes some time to calibrate the alpha, this approach is a great added value for modeling 3D shapes and is a great entry point for 3D image treatment. Good luck with your estimation!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist \u2014 Machine Learning \u2014 R, Python, AWS, SQL"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F61169ac00020&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Festimating-the-volume-of-a-3d-image-using-the-alpha-shape-algorithm-in-r-61169ac00020&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Festimating-the-volume-of-a-3d-image-using-the-alpha-shape-algorithm-in-r-61169ac00020&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Festimating-the-volume-of-a-3d-image-using-the-alpha-shape-algorithm-in-r-61169ac00020&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Festimating-the-volume-of-a-3d-image-using-the-alpha-shape-algorithm-in-r-61169ac00020&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----61169ac00020--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----61169ac00020--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@jooskorstanje?source=post_page-----61169ac00020--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jooskorstanje?source=post_page-----61169ac00020--------------------------------", "anchor_text": "Joos Korstanje"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8fa2918bdae8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Festimating-the-volume-of-a-3d-image-using-the-alpha-shape-algorithm-in-r-61169ac00020&user=Joos+Korstanje&userId=8fa2918bdae8&source=post_page-8fa2918bdae8----61169ac00020---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F61169ac00020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Festimating-the-volume-of-a-3d-image-using-the-alpha-shape-algorithm-in-r-61169ac00020&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F61169ac00020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Festimating-the-volume-of-a-3d-image-using-the-alpha-shape-algorithm-in-r-61169ac00020&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "http://www.acta.asso.fr/actualites/communiques-de-presse/articles-et-communiques/detail/a/detail/les-5-laureats-dhacktaferme-2019-1117.html", "anchor_text": "Hacktaferme"}, {"url": "https://medium.com/tag/mathematics?source=post_page-----61169ac00020---------------mathematics-----------------", "anchor_text": "Mathematics"}, {"url": "https://medium.com/tag/data-science?source=post_page-----61169ac00020---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/geometry?source=post_page-----61169ac00020---------------geometry-----------------", "anchor_text": "Geometry"}, {"url": "https://medium.com/tag/r?source=post_page-----61169ac00020---------------r-----------------", "anchor_text": "R"}, {"url": "https://medium.com/tag/algorithms?source=post_page-----61169ac00020---------------algorithms-----------------", "anchor_text": "Algorithms"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F61169ac00020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Festimating-the-volume-of-a-3d-image-using-the-alpha-shape-algorithm-in-r-61169ac00020&user=Joos+Korstanje&userId=8fa2918bdae8&source=-----61169ac00020---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F61169ac00020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Festimating-the-volume-of-a-3d-image-using-the-alpha-shape-algorithm-in-r-61169ac00020&user=Joos+Korstanje&userId=8fa2918bdae8&source=-----61169ac00020---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F61169ac00020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Festimating-the-volume-of-a-3d-image-using-the-alpha-shape-algorithm-in-r-61169ac00020&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----61169ac00020--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F61169ac00020&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Festimating-the-volume-of-a-3d-image-using-the-alpha-shape-algorithm-in-r-61169ac00020&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----61169ac00020---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----61169ac00020--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----61169ac00020--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----61169ac00020--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----61169ac00020--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----61169ac00020--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----61169ac00020--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----61169ac00020--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----61169ac00020--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jooskorstanje?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jooskorstanje?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Joos Korstanje"}, {"url": "https://medium.com/@jooskorstanje/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.5K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8fa2918bdae8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Festimating-the-volume-of-a-3d-image-using-the-alpha-shape-algorithm-in-r-61169ac00020&user=Joos+Korstanje&userId=8fa2918bdae8&source=post_page-8fa2918bdae8--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F19ed9e2d9286&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Festimating-the-volume-of-a-3d-image-using-the-alpha-shape-algorithm-in-r-61169ac00020&newsletterV3=8fa2918bdae8&newsletterV3Id=19ed9e2d9286&user=Joos+Korstanje&userId=8fa2918bdae8&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}