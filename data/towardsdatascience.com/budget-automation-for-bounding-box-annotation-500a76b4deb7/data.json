{"url": "https://towardsdatascience.com/budget-automation-for-bounding-box-annotation-500a76b4deb7", "time": 1683015907.334904, "path": "towardsdatascience.com/budget-automation-for-bounding-box-annotation-500a76b4deb7/", "webpage": {"metadata": {"title": "Budget Automation for Bounding Box Annotation | by Leigh Johnson | Towards Data Science", "h1": "Budget Automation for Bounding Box Annotation", "description": "Data collection and preparation are the foundation of every machine learning application. You\u2019ve heard it before: \u201cGarbage in, garbage out\u201d in reference to an algorithm\u2019s limited capability to\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/microsoft/VoTT#using-vott", "anchor_text": "Using VoTT", "paragraph_index": 8}, {"url": "https://datasetsearch.research.google.com", "anchor_text": "Try Google\u2019s Dataset Search", "paragraph_index": 9}, {"url": "https://cloud.google.com/vision/automl/object-detection/docs", "anchor_text": "Google Cloud AutoML Vision", "paragraph_index": 23}, {"url": "https://cloud.google.com/vision/automl/object-detection/docs/prepare", "anchor_text": "preparing your training data", "paragraph_index": 27}, {"url": "https://cloud.google.com/vision/automl/pricing?_ga=2.231171871.-1460275601.1603318024#free-trial", "anchor_text": "AutoML Vision pricing", "paragraph_index": 32}, {"url": "https://github.com/tensorflow/models/tree/master/research/object_detection", "anchor_text": "TensorFlow\u2019s Object Detection API", "paragraph_index": 33}, {"url": "https://www.bitsy.ai/", "anchor_text": "subscribe to my newsletter", "paragraph_index": 33}, {"url": "https://www.bitsy.ai/", "anchor_text": "bitsy.ai", "paragraph_index": 46}, {"url": "https://octoprint.org/", "anchor_text": "Octoprint", "paragraph_index": 46}, {"url": "https://www.printnanny.ai/", "anchor_text": "https://www.printnanny.ai/", "paragraph_index": 48}, {"url": "https://bitsy.ai/", "anchor_text": "https://bitsy.ai/", "paragraph_index": 48}], "all_paragraphs": ["Data collection and preparation are the foundation of every machine learning application. You\u2019ve heard it before: \u201cGarbage in, garbage out\u201d in reference to an algorithm\u2019s limited capability to correct for inaccurate, poor-quality, or biased input data.", "The cost of quality annotated data prompted a cottage industry of tools/platforms for speeding up the data labeling process. Besides the SaaS/on-prem startup ecosystem, each of the major cloud providers (AWS, Microsoft, Google) launched an automated data labeling product in the last two years. Understandably, these services are often developed with Premium/Enterprise users, features, and price points in mind.", "Good, news! With a bit of elbow grease, you can automate bounding box annotation for yourself or a small team. In this blog post, I will show you the automation technique I used to quickly prototype a 3D print failure detection model.", "Pictured: Custom TensorFlow model automatically annotates a video frame in Microsoft VoTT (Visual Object Tagging Tool).", "If you\u2019re starting from scratch without labels, you do need to bite the bullet and annotate some data manually. Labeling at least a few hundred examples by hand is required to create written guidelines and evaluation criteria for annotation decisions.", "Microsoft VoTT is an Open Source tool for annotating images and videos with bounding boxes (object detection) and polygons (segmentation). I use VoTT because it:", "Clone VoTT repo and install from source:", "Upgrading the TensorFlow.js package is necessary to use newer ops.", "Refer to Using VoTT to create a new project and setup data connections.", "Looking for a dataset? Try Google\u2019s Dataset Search.", "The number of images you\u2019ll need to label by hand depends on the problem domain, ranging from a few dozen images to thousands. I obtained reasonable results for my problem (detecting 3D print defects) with:", "While the task is still fresh in your mind, take the extra time to write clear guidelines (example below) to keep labels consistent and cover common edge cases. Feel free to use my instructions as a template for your own.", "2\u20133 sentence introduction to the task/concept", "This dataset contains timelapse videos of failed 3D print jobs. Images are in chronological order. Your task is to draw tight boxes around all recognizable pixels matching a print defect or object.", "id, text name, written description of labels and edge cases, positive and negative examples", "The print nozzle is a metal object that extrudes hot filament.", "If the nozzle is partially occluded, draw a bounding box around the entirety of the object (including occluded pixels).", "If the nozzle is entirely occluded, do not label.", "A \u201craft\u201d is a thin outline surrounding the first few layers of a print.", "If the raft is partially occluded (usually by the print), draw a bounding box around the entire raft.", "The object(s) being printed. If multiple object or pieces are being printed, draw a bounding box around each distinct object.", "AutoML (Automated Machine Learning) is a technique that falls under the \u201cbrute force\u201d category of algorithms. Cloud-based AutoML platforms are an excellent tool for validating that your problem can and should be solved with Machine Learning.", "Even if you plan to train a model, consider putting the AutoML model in front of customers first. Collect customer feedback early and incorporate this information into the custom model\u2019s development. An example of some insights\u2026", "I used Google Cloud AutoML Vision Edge (Object Detection), which I selected because:", "In your project\u2019s export settings, choose the CSV provider. Check \u201cinclude images,\u201d save the configuration, and then export the data. If you\u2019re exporting thousands of images, this will take a few minutes. Take a break!", "AutoML Vision requires CSV data in the following format if two vertices are provided:", "The coordinates must be relative to the image\u2019s size, falling in range [0, 1].", "For additional information, refer to preparing your training data.", "Upload the data to a Google Cloud Storage bucket. Note: If you\u2019re creating a new bucket, AutoML Vision exports in later steps require the destination bucket to be in the us-central-1 region.", "Take a break while the data imports! \ud83d\udc4f", "Before you train, sanity-check the imported data and verify labels are correct.", "AutoML\u2019s price system is based on node hours, which is not the same as \u201cwall clock\u201d or elapsed time. A critique I have is that pricing a training job in advance requires some additional effort.", "AutoML Vision pricing (USD prices reflected below) varies by feature, with different pricing schedules for:", "If these prices are outside of your project\u2019s budget, I will cover how I train models with TensorFlow\u2019s Object Detection API in a future post. Follow or subscribe to my newsletter to be notified on publication.", "For this particular problem (detecting 3D print defects), I saw reasonable results using the recommended training time (24 node hours) for my dataset size. Drilling down into individual labels, \u201cnozzle\u201d detection performed significantly worse compared to the rest.", "Left: precision/recall curve for all labels. Right: precision/recall curve for \u201cnozzle\u201d", "On closer inspection, I could see that a high false positive rate significantly impacted the model\u2019s precision score. Precision is the sum of true positive / (true positive + false positive). I was thrilled to discover a number of examples where I had failed to label nozzles in ground truth data.", "\ud83e\udd2f Even though I had gotten sloppy during the first pass of labeling, the guidance model was already good enough to catch these mistakes. Wow! If I had to manually label the entirety of this data, it would be riddled with errors.", "The following section will show you how to use a custom TensorFlow.js model to suggest bounding boxes with VoTT\u2019s \u201cActive Learning\u201d feature.", "The \u201cActive Learning\u201d uses a TensorFlow.js model to perform an inference pass over a frame, apply non-max suppression, and draw the best box proposal per detected object.", "After model training completes, you can export a TensorFlow.js package in the \u201cTest & Use\u201d tab. The model will export to a Storage bucket (the destination bucket must be in the us-central-1 region).", "I fixed this manually. AutoML Vision Edge exports a new-line delimited label file. The format required by VoTT is below. Label index MUST start at 1!", "VoTT ships with v1 of @tensorflow/tfjs. The AutoML Vision Edge model uses ops (e.g. AddV2) that require a more recent version. I fixed a few minor issues with the following patch:", "You just learned how to leverage a few hours and a few hundred dollars into an automated workflow for bounding box annotation. As a bonus, the guidance model can be adequate for a prototype or even initial production run. I hope this saves you a bit of time/energy in your next object detection project!", "AutoML products are expensive compared to other cloud offerings \u2014 but they\u2019re nowhere near as resource intensive as developing a comparable model from scratch, or even with weight transfer learning.", "Are you currently solving problems using an object detector? Tell me more about the concept and the approach you\u2019re taking in the comments below.", "Subscribe to my newsletter @ bitsy.ai for more tips, tutorials, and detailed write-ups of ML applications for Raspberry Pi, Arduino, and other small devices. I\u2019m currently building a privacy-first 3D print monitoring plugin for Octoprint.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Building automation/monitoring for 3D printers: https://www.printnanny.ai/ | Applied ML and Edge ML: https://bitsy.ai/ | Google Developer Expert."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F500a76b4deb7&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbudget-automation-for-bounding-box-annotation-500a76b4deb7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbudget-automation-for-bounding-box-annotation-500a76b4deb7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbudget-automation-for-bounding-box-annotation-500a76b4deb7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbudget-automation-for-bounding-box-annotation-500a76b4deb7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----500a76b4deb7--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----500a76b4deb7--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://grepleigh.medium.com/?source=post_page-----500a76b4deb7--------------------------------", "anchor_text": ""}, {"url": "https://grepleigh.medium.com/?source=post_page-----500a76b4deb7--------------------------------", "anchor_text": "Leigh Johnson"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbcd055ed4f5b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbudget-automation-for-bounding-box-annotation-500a76b4deb7&user=Leigh+Johnson&userId=bcd055ed4f5b&source=post_page-bcd055ed4f5b----500a76b4deb7---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F500a76b4deb7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbudget-automation-for-bounding-box-annotation-500a76b4deb7&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F500a76b4deb7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbudget-automation-for-bounding-box-annotation-500a76b4deb7&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/hands-on-tutorials", "anchor_text": "Hands-on Tutorials"}, {"url": "https://www.bitsy.ai/automate-bounding-box-annotation-with-tensorflow-and-automl/", "anchor_text": "Originally published via bitsy.ai"}, {"url": "https://github.com/microsoft/VoTT", "anchor_text": "Microsoft VoTT"}, {"url": "https://github.com/nvm-sh/nvm", "anchor_text": "NVM"}, {"url": "https://github.com/microsoft/VoTT#using-vott", "anchor_text": "Using VoTT"}, {"url": "https://datasetsearch.research.google.com", "anchor_text": "Try Google\u2019s Dataset Search"}, {"url": "https://cloud.google.com/vision/automl/object-detection/docs", "anchor_text": "Google Cloud AutoML Vision"}, {"url": "https://cloud.google.com/vision/automl/object-detection/docs/edge-quickstart", "anchor_text": "S"}, {"url": "https://developers.google.com/community/experts", "anchor_text": "Google Developer Expert"}, {"url": "https://gist.github.com/leigh-johnson/293f3380f15c496934e2846ec7f9ad16", "anchor_text": "Github Gist"}, {"url": "https://cloud.google.com/vision/automl/object-detection/docs/prepare", "anchor_text": "preparing your training data"}, {"url": "https://cloud.google.com/vision/automl/docs/edge-quickstart#before_you_begin", "anchor_text": "Before you Begin"}, {"url": "https://cloud.google.com/storage/docs/gsutil", "anchor_text": "Install gsutil"}, {"url": "https://console.cloud.google.com/vision/datasets", "anchor_text": "AutoML Vision Datasets browser"}, {"url": "https://cloud.google.com/vision/automl/pricing?_ga=2.231171871.-1460275601.1603318024#free-trial", "anchor_text": "AutoML Vision pricing"}, {"url": "https://github.com/tensorflow/models/tree/master/research/object_detection", "anchor_text": "TensorFlow\u2019s Object Detection API"}, {"url": "https://www.bitsy.ai/", "anchor_text": "subscribe to my newsletter"}, {"url": "https://www.bitsy.ai/", "anchor_text": "bitsy.ai"}, {"url": "https://octoprint.org/", "anchor_text": "Octoprint"}, {"url": "https://medium.com/tag/tensorflowjs?source=post_page-----500a76b4deb7---------------tensorflowjs-----------------", "anchor_text": "Tensorflowjs"}, {"url": "https://medium.com/tag/object-detection?source=post_page-----500a76b4deb7---------------object_detection-----------------", "anchor_text": "Object Detection"}, {"url": "https://medium.com/tag/data-annotation-tools?source=post_page-----500a76b4deb7---------------data_annotation_tools-----------------", "anchor_text": "Data Annotation Tools"}, {"url": "https://medium.com/tag/tensorflow?source=post_page-----500a76b4deb7---------------tensorflow-----------------", "anchor_text": "TensorFlow"}, {"url": "https://medium.com/tag/hands-on-tutorials?source=post_page-----500a76b4deb7---------------hands_on_tutorials-----------------", "anchor_text": "Hands On Tutorials"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F500a76b4deb7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbudget-automation-for-bounding-box-annotation-500a76b4deb7&user=Leigh+Johnson&userId=bcd055ed4f5b&source=-----500a76b4deb7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F500a76b4deb7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbudget-automation-for-bounding-box-annotation-500a76b4deb7&user=Leigh+Johnson&userId=bcd055ed4f5b&source=-----500a76b4deb7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F500a76b4deb7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbudget-automation-for-bounding-box-annotation-500a76b4deb7&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----500a76b4deb7--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F500a76b4deb7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbudget-automation-for-bounding-box-annotation-500a76b4deb7&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----500a76b4deb7---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----500a76b4deb7--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----500a76b4deb7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----500a76b4deb7--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----500a76b4deb7--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----500a76b4deb7--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----500a76b4deb7--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----500a76b4deb7--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----500a76b4deb7--------------------------------", "anchor_text": ""}, {"url": "https://grepleigh.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://grepleigh.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Leigh Johnson"}, {"url": "https://grepleigh.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "449 Followers"}, {"url": "https://www.printnanny.ai/", "anchor_text": "https://www.printnanny.ai/"}, {"url": "https://bitsy.ai/", "anchor_text": "https://bitsy.ai/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbcd055ed4f5b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbudget-automation-for-bounding-box-annotation-500a76b4deb7&user=Leigh+Johnson&userId=bcd055ed4f5b&source=post_page-bcd055ed4f5b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F43e32d5c18d0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbudget-automation-for-bounding-box-annotation-500a76b4deb7&newsletterV3=bcd055ed4f5b&newsletterV3Id=43e32d5c18d0&user=Leigh+Johnson&userId=bcd055ed4f5b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}