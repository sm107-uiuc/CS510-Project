{"url": "https://towardsdatascience.com/r-shiny-authentication-incl-demo-app-a599b86c54f7", "time": 1683014755.568256, "path": "towardsdatascience.com/r-shiny-authentication-incl-demo-app-a599b86c54f7/", "webpage": {"metadata": {"title": "R Shiny authentication (incl. demo app) | by Thomas Filaire | Towards Data Science", "h1": "R Shiny authentication (incl. demo app)", "description": "Shiny is extremely powerful to quickly build interactive web applications. It\u2019s also the preferred technological solution for many data scientists, because it\u2019s R-native. As not all web applications\u2026"}, "outgoing_paragraph_urls": [{"url": "https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects", "anchor_text": "RStudio projects", "paragraph_index": 3}, {"url": "https://cho7tom.shinyapps.io/authentication/", "anchor_text": "here", "paragraph_index": 4}, {"url": "https://bitbucket.org/cho7tom/authentication/src/master/", "anchor_text": "bitbucket account", "paragraph_index": 5}, {"url": "https://shiny.rstudio.com/", "anchor_text": "shiny", "paragraph_index": 10}, {"url": "https://rstudio.github.io/shinythemes/", "anchor_text": "shinythemes", "paragraph_index": 10}, {"url": "https://deanattali.com/shinyjs/", "anchor_text": "shinyjs", "paragraph_index": 10}, {"url": "https://www.tidyverse.org/", "anchor_text": "tidyverse", "paragraph_index": 10}, {"url": "https://www.rdocumentation.org/packages/shiny/versions/1.5.0/topics/navbarPage", "anchor_text": "navbarPage", "paragraph_index": 11}, {"url": "https://getbootstrap.com/docs/3.4/getting-started/", "anchor_text": "bootstrap", "paragraph_index": 13}, {"url": "https://shiny.rstudio.com/articles/modules.html", "anchor_text": "module", "paragraph_index": 21}, {"url": "https://shiny.rstudio.com/articles/modules.html", "anchor_text": "key concept", "paragraph_index": 23}, {"url": "https://bitbucket.org/cho7tom/authentication/src/master/", "anchor_text": "bitbucket account", "paragraph_index": 29}, {"url": "https://paul.rbind.io/shinyauthr/", "anchor_text": "shinyauthr", "paragraph_index": 36}, {"url": "https://paul.rbind.io/shinyauthr/", "anchor_text": "Shinyauthr", "paragraph_index": 37}, {"url": "https://bitbucket.org/cho7tom/authentication/src", "anchor_text": "here", "paragraph_index": 39}, {"url": "https://paul.rbind.io/shinyauthr/", "anchor_text": "shinyauthr", "paragraph_index": 40}, {"url": "https://github.com/jeroen/sodium", "anchor_text": "sodium", "paragraph_index": 40}, {"url": "https://towardsdatascience.com/dynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6", "anchor_text": "dynamic UI components", "paragraph_index": 52}], "all_paragraphs": ["Shiny is extremely powerful to quickly build interactive web applications. It\u2019s also the preferred technological solution for many data scientists, because it\u2019s R-native.", "As not all web applications are meant to be public, the ability to control access should be part of the know-how of any aspiring data scientist.", "This tutorial will introduce you to a few options to secure your Shiny apps through authentication layer.", "Note: in order to get the most from this tutorial, interested reader should already be familiar with basic Shiny principles (e.g. reactivity, how to use a module), web development (e.g. html tags and css), and RStudio projects.", "This tutorial comes with a R Shiny demo application which you can access here.", "The complete code is also available on my bitbucket account.", "This tutorial will cover several approaches to secure access to R Shiny web application.", "Note: for the sake of the demonstration, I created a table to store username and password straight from the Shiny server section. Keep in mind that credentials should be encrypted and stored in a database in the case of apps deployed in production (database connection is not covered in this particular post).", "In this section, you will learn how to build your own login form, as show in the short illustration below:", "I\u2019ll cover both the design of the login form and the corresponding server logic. Code explanation is split into 3 steps:", "I used the 4 following packages: shiny, shinythemes, shinyjs, and tidyverse", "Then I designed a simple application backbone using navbarPage:", "A login form requires the 3 following components:", "Here is a simple code chunk you can adapt to your own preferences. In my case I mostly used basic bootstrap classes to make the text centered (\u201ctext-center\u201d) and to add a light grey background to the login form (\u201cwell\u201d).", "Login form should be located in a dedicated div with class \u2018container\u2019.", "The server side is the place where developer can infuse intelligence into the application, define and control expected behaviors.", "I first built a simple table to store users credential. In this example I granted access to only one user (\u201cuser_basic_1\u201d), but you can of course define as many user x password combinations as you like.", "In a second step, I used the eventReactive() function to check user\u2019s login and password against valid credentials (stored in the above userbase). This toggles a TRUE/FALSE boolean parameter accordingly as soon as user clicks the login button.", "uiOutput should be inserted in the ui part", "Congratulations if you\u2019ve been able to follow and reproduce this example so far. You\u2019ve just built your first login component to secure your R Shiny application.", "As this process requires a significant amount of code which makes your application harder to maintain on the long run, let\u2019s package it into a module!", "Now that you understand the basic underlying principles of authentication and that you have built your first login form, let\u2019s make it more robust and easier to reuse across multiple applications. This can be achieved defining a dedicated module.", "A Shiny module is a piece of a Shiny app. It can\u2019t be directly run, as a Shiny app can. Instead, it is included as part of a larger app (or as part of a larger Shiny module \u2014 they are composable). \u2014 Wiston Chang \u2014 Software engineer, RStudio", "Note: this tutorial will not cover in details how to create a module, and I assume the reader is somehow familiar with its key concept.", "In a nutshell, a module is composed of two functions that represent 1) a piece of UI, and 2) a fragment of server logic that uses that UI \u2014 similar to the way that Shiny apps are split into UI and server logic.", "View the short illustration below to get an idea of what will be built with this second approach; as you can see the UI part looks exactly the same as what I built in the first approach. However it differs under the hood:", "Code explanation is split into 4 steps:", "This steps essentially consists in bringing together the custom UI and associated server logic I\u2019ve implemented in the previous approach, into a single module_login.R file.", "Key aspects to notice in the code chunk below:", "Prior to using a particular module within your R Shiny application, be careful to source it appropriately (see my bitbucket account to understand the project structure):", "Both login form and secured part of your app can now be specified in the UI part with 2 lines of code, which ensure great readability and maintainability of your app on the long run.", "This is very similar to section 1.3.", "I first built a simple table to store users credential. In this illustration I granted access to only one user, but you can of course define as many user x password combinations as you like.", "I then used the callModule() function to access the server side of my module, and passing information on where to search for login and passwords (via the data, user_col and pwd_col parameters to refer to the above userbase):", "Finally, and as in the first approach, I use a classic renderUI() + uiOutput() combination to display the secured part of the application whenever the boolean validate_password_module() defined above toggles appropriately:", "Congratulations if you\u2019ve been able to follow and reproduce this example so far. You\u2019ve been able to package your fully customizable login form into a module, which you can reuse with all your future web applications.", "In the next section, we\u2019ll leverage an existing module for authentication, available in the shinyauthr package. Main advantages compared to building your own module are:", "Shinyauthr is an R package providing module functions that can be used to add an authentication layer to your shiny apps. If you made it so far and successfully built your own module, this third approach should be easy to follow, and I recommend you use the package to speed up your future work.", "View the short illustration below to get an idea of what will be built with this third approach; although it looks very similar to approaches 1 and 2, login form is slightly less customizable.", "Code explanation below will specify new required packages, illustrate how to update the ui part and detail the server side. Remind that the entire code is available here.", "In addition to the packages mentioned in previous approaches, you will need to load shinyauthr and sodium packages.", "Both login form and secured part of your app can now be specified in the UI part with 2 lines of code, which ensure great readability and maintainability of your app on the long run.", "I first built a simple table to store users credential. In this illustration I granted access to only one user, but you can of course define as many user x password combinations as you like.", "Notice the use of password_store() function from the sodium package to encrypt the password.", "I then made a call to 2 modules that comes with the shinyauthr package (a login form + a logout form)", "When the login module is called, it returns a reactive list containing 2 elements:", "I create reactive object on the server side to capture changes in these values (in particular, user_auth turns TRUE if the user supplies a matching user name and password.)", "Lastly, I need to define the secured part of the application within a renderUI() function, similarly to previous approaches.", "Congratulations if you\u2019ve made it this far, you are now equipped with a fast, powerful and easy way to secure your applications!", "I usually implement one of the 3 above detailed approches.", "However they are not the only ones and you might be interested in exploring other alternatives, such as:", "I hope you found this tutorial useful, please feel free to leave comment to share your preferred (and possibly alternative) approach.", "Want to learn more? This article is the second one of my advanced R Shiny tips series. First post is about building dynamic UI components.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa599b86c54f7&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fr-shiny-authentication-incl-demo-app-a599b86c54f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fr-shiny-authentication-incl-demo-app-a599b86c54f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fr-shiny-authentication-incl-demo-app-a599b86c54f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fr-shiny-authentication-incl-demo-app-a599b86c54f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://me.dm/@tfilaire", "anchor_text": "Mastodon"}, {"url": "https://towardsdatascience.com/?source=post_page-----a599b86c54f7--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a599b86c54f7--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://tfilaire.medium.com/?source=post_page-----a599b86c54f7--------------------------------", "anchor_text": ""}, {"url": "https://tfilaire.medium.com/?source=post_page-----a599b86c54f7--------------------------------", "anchor_text": "Thomas Filaire"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6a059addf340&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fr-shiny-authentication-incl-demo-app-a599b86c54f7&user=Thomas+Filaire&userId=6a059addf340&source=post_page-6a059addf340----a599b86c54f7---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa599b86c54f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fr-shiny-authentication-incl-demo-app-a599b86c54f7&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa599b86c54f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fr-shiny-authentication-incl-demo-app-a599b86c54f7&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/hands-on-tutorials", "anchor_text": "Hands-on Tutorials"}, {"url": "https://cho7tom.shinyapps.io/authentication/", "anchor_text": "here"}, {"url": "https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects", "anchor_text": "RStudio projects"}, {"url": "https://cho7tom.shinyapps.io/authentication/", "anchor_text": "here"}, {"url": "https://bitbucket.org/cho7tom/authentication/src/master/", "anchor_text": "bitbucket account"}, {"url": "https://shiny.rstudio.com/articles/modules.html", "anchor_text": "module"}, {"url": "https://paul.rbind.io/shinyauthr/", "anchor_text": "shinyauthr"}, {"url": "https://github.com/jeroen/sodium", "anchor_text": "sodium"}, {"url": "https://cho7tom.shinyapps.io/authentication/", "anchor_text": "here"}, {"url": "https://shiny.rstudio.com/", "anchor_text": "shiny"}, {"url": "https://rstudio.github.io/shinythemes/", "anchor_text": "shinythemes"}, {"url": "https://deanattali.com/shinyjs/", "anchor_text": "shinyjs"}, {"url": "https://www.tidyverse.org/", "anchor_text": "tidyverse"}, {"url": "https://www.rdocumentation.org/packages/shiny/versions/1.5.0/topics/navbarPage", "anchor_text": "navbarPage"}, {"url": "https://getbootstrap.com/docs/3.4/getting-started/", "anchor_text": "bootstrap"}, {"url": "https://shiny.rstudio.com/articles/modules.html", "anchor_text": "module"}, {"url": "https://shiny.rstudio.com/articles/modules.html", "anchor_text": "key concept"}, {"url": "https://cho7tom.shinyapps.io/authentication/", "anchor_text": "here"}, {"url": "https://mastering-shiny.org/scaling-modules.html", "anchor_text": "here"}, {"url": "https://dplyr.tidyverse.org/articles/programming.html#how-tos-1", "anchor_text": "here"}, {"url": "https://bitbucket.org/cho7tom/authentication/src/master/", "anchor_text": "bitbucket account"}, {"url": "https://paul.rbind.io/shinyauthr/", "anchor_text": "shinyauthr"}, {"url": "https://paul.rbind.io/shinyauthr/", "anchor_text": "shinyauthr"}, {"url": "https://github.com/jeroen/sodium", "anchor_text": "sodium"}, {"url": "https://paul.rbind.io/shinyauthr/", "anchor_text": "Shinyauthr"}, {"url": "https://cho7tom.shinyapps.io/authentication/", "anchor_text": "here"}, {"url": "https://bitbucket.org/cho7tom/authentication/src", "anchor_text": "here"}, {"url": "https://paul.rbind.io/shinyauthr/", "anchor_text": "shinyauthr"}, {"url": "https://github.com/jeroen/sodium", "anchor_text": "sodium"}, {"url": "https://datastorm-open.github.io/shinymanager/", "anchor_text": "shinymanager"}, {"url": "https://polished.tech/", "anchor_text": "polished"}, {"url": "https://towardsdatascience.com/dynamic-ui-in-shiny-incl-demo-app-a6fb791be4c6", "anchor_text": "dynamic UI components"}, {"url": "https://datastorm-open.github.io/shinymanager/", "anchor_text": "shinymanager"}, {"url": "https://paul.rbind.io/shinyauthr/", "anchor_text": "shinyauthr"}, {"url": "https://polished.tech/", "anchor_text": "polished"}, {"url": "https://mastering-shiny.org/", "anchor_text": "Mastering Shiny"}, {"url": "https://shiny.rstudio.com/", "anchor_text": "Shiny\u2019s online documentation"}, {"url": "https://university.business-science.io/p/expert-shiny-developer-with-aws-course-ds4b-202a-r/", "anchor_text": "Business Science 202A \u2014 Build scalable applications using R"}, {"url": "https://medium.com/tag/devops?source=post_page-----a599b86c54f7---------------devops-----------------", "anchor_text": "DevOps"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a599b86c54f7---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/r?source=post_page-----a599b86c54f7---------------r-----------------", "anchor_text": "R"}, {"url": "https://medium.com/tag/shiny?source=post_page-----a599b86c54f7---------------shiny-----------------", "anchor_text": "Shiny"}, {"url": "https://medium.com/tag/hands-on-tutorials?source=post_page-----a599b86c54f7---------------hands_on_tutorials-----------------", "anchor_text": "Hands On Tutorials"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa599b86c54f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fr-shiny-authentication-incl-demo-app-a599b86c54f7&user=Thomas+Filaire&userId=6a059addf340&source=-----a599b86c54f7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa599b86c54f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fr-shiny-authentication-incl-demo-app-a599b86c54f7&user=Thomas+Filaire&userId=6a059addf340&source=-----a599b86c54f7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa599b86c54f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fr-shiny-authentication-incl-demo-app-a599b86c54f7&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a599b86c54f7--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa599b86c54f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fr-shiny-authentication-incl-demo-app-a599b86c54f7&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a599b86c54f7---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a599b86c54f7--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a599b86c54f7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a599b86c54f7--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a599b86c54f7--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a599b86c54f7--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a599b86c54f7--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a599b86c54f7--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a599b86c54f7--------------------------------", "anchor_text": ""}, {"url": "https://tfilaire.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://tfilaire.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Thomas Filaire"}, {"url": "https://tfilaire.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "203 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6a059addf340&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fr-shiny-authentication-incl-demo-app-a599b86c54f7&user=Thomas+Filaire&userId=6a059addf340&source=post_page-6a059addf340--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ffb05bf86a8ba&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fr-shiny-authentication-incl-demo-app-a599b86c54f7&newsletterV3=6a059addf340&newsletterV3Id=fb05bf86a8ba&user=Thomas+Filaire&userId=6a059addf340&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}