{"url": "https://towardsdatascience.com/visualizing-traffic-conditions-based-on-radio-traffic-news-67e63eee58b3", "time": 1683003044.991939, "path": "towardsdatascience.com/visualizing-traffic-conditions-based-on-radio-traffic-news-67e63eee58b3/", "webpage": {"metadata": {"title": "Visualizing Traffic Conditions Based on Radio Traffic News | by Joshua Yeung | Towards Data Science", "h1": "Visualizing Traffic Conditions Based on Radio Traffic News", "description": "Scrape traffic news using BeautifulSoup, extract location, geocode to geographic locations using GeoPy and visualize the news on a map."}, "outgoing_paragraph_urls": [{"url": "http://programme.rthk.hk/channel/radio/trafficnews/index.php", "anchor_text": "http://programme.rthk.hk/channel/radio/trafficnews/index.php", "paragraph_index": 2}, {"url": "https://towardsdatascience.com/geocode-with-python-161ec1e62b89", "anchor_text": "Geocode with Python, Towards Data Science", "paragraph_index": 10}, {"url": "https://public.tableau.com/profile/joshua.yeung#!/vizhome/TrafficNewsVisualization/TrafficNews", "anchor_text": "demo site", "paragraph_index": 12}, {"url": "https://github.com/joshuayeung/Local-Traffic-News-Visualization", "anchor_text": "here", "paragraph_index": 14}, {"url": "https://medium.com/@joshua.chyeung/membership", "anchor_text": "https://medium.com/@joshua.chyeung/membership", "paragraph_index": 16}], "all_paragraphs": ["This project happened in Oct 2019 when my boss asked our team to visualize our network quality on the big screen in our network operation center (NOC). As a mobile operator, we often monitor our network quality and condition 7X24. Many dashboards of important network KPIs are developed and my boss wants us to enhance the info acquired to let NOC staffs \u201cknow/guess\u201d what is happening in one sight.", "Our network traffic may be affected by many external factors and one of the general info we can think of is traffic condition, I mean the real traffic on the road. When there are congestions, traffic jams or other special road conditions, the KPIs of that particular cell site may burst. Thus we want to visualize the traffic condition on the map to let our staff knows which location has a situation.", "Radio news provides a very good source of detail traffic conditions as they are very useful for the Taxi drivers to choose their route (especially before the birth of Google Map). Besides the radio broadcast, all this information is online. The one we are choosing is the official radio station of Hong Kong RTHK: http://programme.rthk.hk/channel/radio/trafficnews/index.php (Sorry, only Chinese version available). If you know Chinese, you may figure out that the news is well-formatted. If the news is about traffic congestion, the format is the name of the road, the direction, and the queue end position (\u9f8d\u5c3e\uff1a)", "The HTML structure is very nice too. We can see that all individual news have a un-order list <ul> and one item <li> with the class inner.", "With requests and BeautifulSoup, we easily get and parse the web page. Thanks for the standard format, we get all the stories within one second.", "We split each news to the title (the news content) and its publish time. We format the publish time with \u2018%Y-%m-%d HKT %H:%M\u2019.", "The most difficult part is to extract the location. Here we search for the particular phrase (\u9f8d\u5c3e\uff1a), which means the queue end in Chinese. If this phrase does not include in the news, we search for our location database. We will discuss how we obtain this database later. And now we have this DataFrame with title, publish time and location.", "Next, we need to categorize the news. After a long observation, we found that the type of news is fall in these categories:", "Service paused: some public transport service has been stopped,Blocked: some roads are blocked due to various reason: road maintenance or special events nearby,Busy: the roads are busy but still drivable;Congestion: the roads are serious congested;Accident: there is a traffic accident on that road;Normal: the blocked or congested roads are resumed;Info: just some general information.", "And those wordings used to repeat and appear many times. Thus we can to different categories explicitly by identifying the wordings.", "To locate the traffic news scene, we need latitude and longitude. Luckily we found an API GeoPy. You may find a nice written tutorial on how to use it from Geocode with Python, Towards Data Science. This converts physical addresses to Geographic locations (i.e. Latitude and Longitude). At first sight, we doubted that this python library supports the Chinese address or not. But it turned out that it has a fairly good performance. We use the Nominatim Geocoding service, which is built on top of OpenStreetMap data.", "After some while, we have collected a bunch of news, and we can select frequently appeared roads to query their latitude and longitude manually (Trust me, traffic congestion repeat and repeat in the same road every day!)", "Here is the dashboard used in our NOC. Please also visit the demo site created by Tableau.", "Thanks to the magnificent source on the Internet and all those giants who have already built important useful modules, we can build on top of them a traffic news visualization dashboard.", "To see more about this project, see the link to my Github available here.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Engineer building highly available and scalable applications | Become a Medium Member by Clicking here: https://medium.com/@joshua.chyeung/membership"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F67e63eee58b3&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-traffic-conditions-based-on-radio-traffic-news-67e63eee58b3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-traffic-conditions-based-on-radio-traffic-news-67e63eee58b3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-traffic-conditions-based-on-radio-traffic-news-67e63eee58b3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-traffic-conditions-based-on-radio-traffic-news-67e63eee58b3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----67e63eee58b3--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----67e63eee58b3--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@joshua.chyeung?source=post_page-----67e63eee58b3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@joshua.chyeung?source=post_page-----67e63eee58b3--------------------------------", "anchor_text": "Joshua Yeung"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3162e66330d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-traffic-conditions-based-on-radio-traffic-news-67e63eee58b3&user=Joshua+Yeung&userId=3162e66330d1&source=post_page-3162e66330d1----67e63eee58b3---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F67e63eee58b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-traffic-conditions-based-on-radio-traffic-news-67e63eee58b3&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F67e63eee58b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-traffic-conditions-based-on-radio-traffic-news-67e63eee58b3&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@jonitboy?utm_source=medium&utm_medium=referral", "anchor_text": "Max Titov"}, {"url": "https://unsplash.com/?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "http://programme.rthk.hk/channel/radio/trafficnews/index.php", "anchor_text": "http://programme.rthk.hk/channel/radio/trafficnews/index.php"}, {"url": "https://towardsdatascience.com/geocode-with-python-161ec1e62b89", "anchor_text": "Geocode with Python, Towards Data Science"}, {"url": "https://public.tableau.com/profile/joshua.yeung#!/vizhome/TrafficNewsVisualization/TrafficNews", "anchor_text": "demo site"}, {"url": "https://github.com/joshuayeung/Local-Traffic-News-Visualization", "anchor_text": "here"}, {"url": "https://medium.com/tag/transportation?source=post_page-----67e63eee58b3---------------transportation-----------------", "anchor_text": "Transportation"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----67e63eee58b3---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/web-scraping?source=post_page-----67e63eee58b3---------------web_scraping-----------------", "anchor_text": "Web Scraping"}, {"url": "https://medium.com/tag/dashboard?source=post_page-----67e63eee58b3---------------dashboard-----------------", "anchor_text": "Dashboard"}, {"url": "https://medium.com/tag/data-science?source=post_page-----67e63eee58b3---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F67e63eee58b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-traffic-conditions-based-on-radio-traffic-news-67e63eee58b3&user=Joshua+Yeung&userId=3162e66330d1&source=-----67e63eee58b3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F67e63eee58b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-traffic-conditions-based-on-radio-traffic-news-67e63eee58b3&user=Joshua+Yeung&userId=3162e66330d1&source=-----67e63eee58b3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F67e63eee58b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-traffic-conditions-based-on-radio-traffic-news-67e63eee58b3&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----67e63eee58b3--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F67e63eee58b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-traffic-conditions-based-on-radio-traffic-news-67e63eee58b3&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----67e63eee58b3---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----67e63eee58b3--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----67e63eee58b3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----67e63eee58b3--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----67e63eee58b3--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----67e63eee58b3--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----67e63eee58b3--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----67e63eee58b3--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----67e63eee58b3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@joshua.chyeung?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@joshua.chyeung?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Joshua Yeung"}, {"url": "https://medium.com/@joshua.chyeung/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "325 Followers"}, {"url": "https://medium.com/@joshua.chyeung/membership", "anchor_text": "https://medium.com/@joshua.chyeung/membership"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3162e66330d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-traffic-conditions-based-on-radio-traffic-news-67e63eee58b3&user=Joshua+Yeung&userId=3162e66330d1&source=post_page-3162e66330d1--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F6a9abcf4141e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-traffic-conditions-based-on-radio-traffic-news-67e63eee58b3&newsletterV3=3162e66330d1&newsletterV3Id=6a9abcf4141e&user=Joshua+Yeung&userId=3162e66330d1&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}