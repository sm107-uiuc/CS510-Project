{"url": "https://towardsdatascience.com/introducing-hone-a-modular-object-oriented-graphing-library-for-julia-823b028b462a", "time": 1683006140.469229, "path": "towardsdatascience.com/introducing-hone-a-modular-object-oriented-graphing-library-for-julia-823b028b462a/", "webpage": {"metadata": {"title": "Introducing Hone: The Modular Object-Oriented Graphing Library For Julia | by Emma Boudreau | Towards Data Science", "h1": "Introducing Hone: The Modular Object-Oriented Graphing Library For Julia", "description": "Graphing data can be very exciting, especially when you\u2019ve been working on the graphing function for some time and it is finally working the way you want it. Though many parameters are still missing\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Graphing data can be very exciting, especially when you\u2019ve been working on the graphing function for some time and it is finally working the way you want it. Though many parameters are still missing, and there is still a lot of bone-jarring work to do, there are a lot of features that are really promising that have already been ironed out. With these great things also comes a the first version\u2019s push to master. You can now add Hone to your Julia environment from the Github URL,", "You may recall if you\u2019ve been following along with this little series that in the previous article we left two big holes in our plotting software:", "Because we are using meta tags to hold all of our data, getting data into a string format can be quite tedious, and has made setting the fill color of our shapes a significantly bigger challenge than it typically would have. Where there is a problem there is an idea, and my next idea I would like to try is to use both of my previous ideas together. Taking a look at our Circle function, we can see how this particular issue has put a significant hole in the meta that was originally intended to be there.", "The first thing I decided on was to definitively use symbols rather than strings. I decided on this because I figured it would give me less headache in the future whenever I need to call on the creation of these objects for other purposes. The first thing we\u2019ll do is concatenate the regular expression that I talked about in part two to our symbol. Our symbol will also need to have the string type assertion, like so:", "Easy as pie, now all we have to do is reconstruct our update function and it will either work or not work.", "And now let\u2019s draw something to test it out!", "I might have drawn that upside down\u2026", "Now let\u2019s try changing the color to pink:", "Another feature I took a break on was the ability to draw both an x and a y axis. Of course, an axis is just a simple line drawn from the vector2 (0,0) to the vector2 (1,0) for the X axis, and (0,0) to (0,1) for the Y axis.", "This is the code we left in our \u201c Line\u201d object that allows us to do this:", "This function follows the same natural flow of our shape function, where the composition is made first, followed by any needed inputs for the meta-information, and then a callable function is created that can be used to return a tag. The part of this function that certainly stands out the most is likely the iterative loop where an empty string is created and then concatenated with the individual vectors for the coordinate locations. The reason why it is done like this is because Julia\u2019s NTuple-to-string type-assertion doesn\u2019t work the way you might expect it to, and thus a great workaround is to instead convert the individual dims into strings inside of a loop, rather than the entire variable.", "Another thing that is missing from this code is the ability to alter the color inside of the meta tag. To remedy this I will of course just reuse the same solution that was used to change the color of the shapes previously. The first step is to add this line into the second step of the function where the individual parts of the meta expression are defined.", "And now we can add that string to our update function:", "Now that our Line object\u2019s update function is actually working (I hope), we can add in the logic to our Scatter class to actually render the line. The first step will be to get the tags:", "Unlike the Shape object, we are unable to consistently call the same line object with the update function. This is because the update function needs to be retained for a return that doesn\u2019t confuse the entire class. In less broad terms, if we were to add a return here:", "Then when we ran the function \u201c Line\u201d to create the line, we would get the return from the update function. With that in mind, it\u2019s definitely wise to try and avoid going off a single return for each function so that we can still obtain the tag without obstructing the function. The issue is that the pairs are only updated whenever the iterative loop above it is called which you might remember is necessary to get the data into a string.", "Now for the easy part; back in our Scatter function we just need to add the two line tags to the expression before the coordinate parser does its job.", "You might have noticed that I hard coded the axis\u2019 colors, this is not set in stone, and likely won\u2019t be the case in the future. In programming, I never like to do more than I have to for a test. You may have also noticed I added a \u201c debug\u201d parameter, and this is just to make it easier for me to see the expression that is going to be evaluated without having to add temporary prints. I think this could also help the end user, given that the library is modular and that they would likely be building a lot of things themselves.", "Firstly, you might have noticed that the stroke has been applied to the circles as well. This is probably going to be an easy fix where I will just need to add a new context to our expression. Another thing that is noteworthy is the point in the bottom right. This point exists because otherwise the upside-down smiley face would be right on the edge of the plot. I think this definitely illustrates the need for margins as a parameter inside of the scatter object.", "Now that our scatter plot is working, it\u2019s time to test it out on some real data! For this example, I\u2019m going to be using my little \u201c WeatherHistory.csv\u201d that I\u2019m not sure where I obtained or how long I have had\u2026", "As usual, the first thing we are going to need to do is read in the data with CSV.jl.", "Now (unfortunately) we\u2019re going to need to show our data with the parameter allcols set to true.", "After finding the columns I wanted to plot, I brought them out into variables named \u201c x\u201d and \u201c y\u201d for us to use.", "Next we will need to create the shape we would like to plot the points with:", "And then we can plug that into our scatter function:", "So\u2026 That killed the kernel, but I can\u2019t say I\u2019m surprised.", "Actually, it didn\u2019t just kill my kernel, I think it killed Wayland as well. My terminal cleared, meaning it CD\u2019d back to home and completely shutdown my Jupyter server.", "After limiting the number of dims for my X and Y arrays down to 700 with a for loop (I bet there\u2019s a default function I could have used,) we finally had output! Surprisingly, this actually didn\u2019t take nearly as long as I expected. I took the liberty of also timing the function so we could get a good look at both calculation speed and allocations.", "The next thing I decided to do was to compare this with Plots.jl, which is the standard library used for plotting in Julia. The problem with the Plots module is that it depends on GR, Plot.ly, and Matplotlib. While this is pretty interesting, because they are all incredibly different libraries and having them inside of one module is certainly cool and strange, I don\u2019t think that using Pythonic code to plot in Julia is a very good idea for performance. The first thing I did to compare was set the limiter up to 3000 dims for a relatively basic test. Here are the results:", "Another thing that these times don\u2019t illustrate is the painful amount of time it takes to import Plots.jl. The good news is that my functions outpaced Plots.jl\u2019s pretty well. While clearly Plots is drawing more lines, as well as a legend and axis labels, I don\u2019t think that is going to count for very much in the long run, especially after I revise the functions and seek more optimization.", "There are a lot of things I still need to complete with Hone, as it is still rather early on in its life. I presume that all of the work I am doing now will make it incredibly easy to add new features and shapes because all it will take is the addition of a meta-expression. Another big advantage of using meta is that each individual object will still be stored within memory and completely adjustable by the end user, as it is stored in the same expression that you might recall is printed when debug is set to true. The largest concern I have for Hone is probably performance. Though there are certainly some optimizations I could stand to make right now, I\u2019m fearful that a lot of optimization might result in complete re-works of the entire module, similarly to what happened to Lathe. While this might be inevitable, as I like to constantly improve software that I work on, I would prefer very much not to have to rewrite the module.", "The arrays that were just plotted were around 96,000 observations, which are certainly a lot to plot,", "I also intend to push that envelope as far as I can, so starting out here is not necessarily a good thing as it means there is likely a lot of work ahead of me. It\u2019s important to remember that these are also scalable graphics; meaning we can expect worse performance than similar libraries with rasterized output without pulling some strings.", "Despite its issues and some improvements that could definitely be made, I\u2019m pretty happy with how it has turned out so far, and I look forward to adding more features and refining the optimization for this package.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F823b028b462a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroducing-hone-a-modular-object-oriented-graphing-library-for-julia-823b028b462a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroducing-hone-a-modular-object-oriented-graphing-library-for-julia-823b028b462a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroducing-hone-a-modular-object-oriented-graphing-library-for-julia-823b028b462a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroducing-hone-a-modular-object-oriented-graphing-library-for-julia-823b028b462a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----823b028b462a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----823b028b462a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://emmettgb.medium.com/?source=post_page-----823b028b462a--------------------------------", "anchor_text": ""}, {"url": "https://emmettgb.medium.com/?source=post_page-----823b028b462a--------------------------------", "anchor_text": "Emma Boudreau"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fea170050148c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroducing-hone-a-modular-object-oriented-graphing-library-for-julia-823b028b462a&user=Emma+Boudreau&userId=ea170050148c&source=post_page-ea170050148c----823b028b462a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F823b028b462a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroducing-hone-a-modular-object-oriented-graphing-library-for-julia-823b028b462a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F823b028b462a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroducing-hone-a-modular-object-oriented-graphing-library-for-julia-823b028b462a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/emmettgb/Hone.jl", "anchor_text": "emmettgb/Hone.jlModular shapes, grids, and lines Easy prefabs Fast plotting Simple and Light Lathe Integration (coming soon)\u2026github.com"}, {"url": "https://github.com/emmettgb/Emmetts-DS-NoteBooks/blob/master/Julia/Metaprogramming%20a%20Scatterplot%20with%20compose%20(Pt.%203).ipynb", "anchor_text": "Notebook"}, {"url": "https://towardsdatascience.com/metaprogramming-a-coordinate-parser-with-compose-in-julia-a0d163c6fb21", "anchor_text": "Part One"}, {"url": "https://towardsdatascience.com/metaprogramming-a-graph-class-in-julia-90a90e8ab45b", "anchor_text": "Part Two"}, {"url": "https://medium.com/tag/programming?source=post_page-----823b028b462a---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/julia?source=post_page-----823b028b462a---------------julia-----------------", "anchor_text": "Julia"}, {"url": "https://medium.com/tag/data-science?source=post_page-----823b028b462a---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/metaprogramming?source=post_page-----823b028b462a---------------metaprogramming-----------------", "anchor_text": "Metaprogramming"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----823b028b462a---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F823b028b462a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroducing-hone-a-modular-object-oriented-graphing-library-for-julia-823b028b462a&user=Emma+Boudreau&userId=ea170050148c&source=-----823b028b462a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F823b028b462a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroducing-hone-a-modular-object-oriented-graphing-library-for-julia-823b028b462a&user=Emma+Boudreau&userId=ea170050148c&source=-----823b028b462a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F823b028b462a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroducing-hone-a-modular-object-oriented-graphing-library-for-julia-823b028b462a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----823b028b462a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F823b028b462a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroducing-hone-a-modular-object-oriented-graphing-library-for-julia-823b028b462a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----823b028b462a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----823b028b462a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----823b028b462a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----823b028b462a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----823b028b462a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----823b028b462a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----823b028b462a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----823b028b462a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----823b028b462a--------------------------------", "anchor_text": ""}, {"url": "https://emmettgb.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://emmettgb.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Emma Boudreau"}, {"url": "https://emmettgb.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "4.6K Followers"}, {"url": "https://twitter.com/emmettboudgie", "anchor_text": "https://twitter.com/emmettboudgie"}, {"url": "https://github.com/emmettgb", "anchor_text": "https://github.com/emmettgb"}, {"url": "https://ems.computer/", "anchor_text": "https://ems.computer/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fea170050148c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroducing-hone-a-modular-object-oriented-graphing-library-for-julia-823b028b462a&user=Emma+Boudreau&userId=ea170050148c&source=post_page-ea170050148c--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff16bf42bb45f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fintroducing-hone-a-modular-object-oriented-graphing-library-for-julia-823b028b462a&newsletterV3=ea170050148c&newsletterV3Id=f16bf42bb45f&user=Emma+Boudreau&userId=ea170050148c&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}