{"url": "https://towardsdatascience.com/query-and-analyze-stripe-data-in-python-e6b4c3dd349", "time": 1683015620.446954, "path": "towardsdatascience.com/query-and-analyze-stripe-data-in-python-e6b4c3dd349/", "webpage": {"metadata": {"title": "Query and analyze Stripe data in Python | by Sophia Yang | Towards Data Science", "h1": "Query and analyze Stripe data in Python", "description": "Stripe is an online payment company that offers software and APIs for processing payments and business management. I love that Stripe has different APIs for different languages, which makes people\u2019s\u2026"}, "outgoing_paragraph_urls": [{"url": "https://stripe.com/docs/api/", "anchor_text": "Stripe API docs", "paragraph_index": 7}, {"url": "https://support.stripe.com/questions/billing-analytics-dashboard", "anchor_text": "guidance", "paragraph_index": 8}, {"url": "https://support.stripe.com/questions/understanding-monthly-recurring-revenue-(mrr)", "anchor_text": "Stripe article", "paragraph_index": 11}, {"url": "https://hellowebbooks.com/news/calculating-mrr-with-stripe/", "anchor_text": "blog post", "paragraph_index": 11}, {"url": "https://support.stripe.com/questions/calculating-churn-rate-in-billing", "anchor_text": "article", "paragraph_index": 14}, {"url": "http://twitter.com/sophiamyang", "anchor_text": "twitter.com/sophiamyang", "paragraph_index": 17}, {"url": "http://youtube.com/SophiaYangDS", "anchor_text": "youtube.com/SophiaYangDS", "paragraph_index": 17}, {"url": "http://dsbookclub.github.io", "anchor_text": "dsbookclub.github.io", "paragraph_index": 17}], "all_paragraphs": ["Stripe is an online payment company that offers software and APIs for processing payments and business management. I love that Stripe has different APIs for different languages, which makes people\u2019s lives a lot easier.", "I primarily use the Stripe Python API. To install:", "You can also do conda install stripe. But the most recent version of the library doesn\u2019t seem to be available on Conda yet. The version I am using is Stripe 2.55.0.", "Next, you will need an API key to access the stripe API. Go to stripe.com \u2014 Devlopers \u2014 API keys, and then click \u201c+ Create secret key\u201d to get an API key.", "Then you can define the stripe api_key and also don\u2019t forget to define the api_version. I am using the most up-to-date version. Some functionalities/data formats will be different if you use a different version of the API.", "Great, now everything is set up we can get started to query stripe data. Here I wrote a function to get the data.", "With this function, we can simply call the function to get different resources for all time or defined time periods. For example:", "Other resources can be found in the Stripe API docs. You can query other resources using this function as well.", "Stripe Billing Analytics Dashboard provides a summarized view of your account, which provides a lot of useful information like MRR, churn, and so on. Unfortunately, there is not an API for the Stripe Billing Analytics Dashboard (I actually contacted the support and asked about this). So, I can\u2019t get the dashboard out to Python directly. But Stripe does provide some guidance on how they calculate those metrics. I followed the instructions and calculated the MRR and churn rate.", "Monthly Recurring Revenue (MRR) can be thought of as the total amount of monthly revenue you can reliably expect to receive on a recurring basis. It is one of the most important metrics for a SAAS business to track, as it provides a forward looking measure of growth and predicted revenue\u2026 You can calculate the approximate MRR by summing the monthly-normalized amounts of all subscriptions from which payment is being collected at that time.", "The syntax for calculating MRR is shown below.", "This calculation is based on the Stripe article and a blog post. The resulting value looks slightly different from the one shown on the dashboard. But it\u2019s very close.", "The churn rate is measured by the sum of churned subscribers in the past 30 days divided by the number of active subscribers as of 30 days ago, plus any new subscribers in those 30 days.", "Below is the code for calculating the churn rate.", "This calculation is based on the descriptions from this article.", "Now you know how to query Stripe data and calculate MRR and churn rate. Hope you enjoy this article. Thanks!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Ph.D. | Senior Data Scientist@Anaconda | Twitter: twitter.com/sophiamyang | YouTube: youtube.com/SophiaYangDS | Book Club: dsbookclub.github.io"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe6b4c3dd349&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquery-and-analyze-stripe-data-in-python-e6b4c3dd349&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquery-and-analyze-stripe-data-in-python-e6b4c3dd349&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquery-and-analyze-stripe-data-in-python-e6b4c3dd349&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquery-and-analyze-stripe-data-in-python-e6b4c3dd349&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e6b4c3dd349--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e6b4c3dd349--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://sophiamyang.medium.com/?source=post_page-----e6b4c3dd349--------------------------------", "anchor_text": ""}, {"url": "https://sophiamyang.medium.com/?source=post_page-----e6b4c3dd349--------------------------------", "anchor_text": "Sophia Yang"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fae9cae9cbcd2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquery-and-analyze-stripe-data-in-python-e6b4c3dd349&user=Sophia+Yang&userId=ae9cae9cbcd2&source=post_page-ae9cae9cbcd2----e6b4c3dd349---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe6b4c3dd349&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquery-and-analyze-stripe-data-in-python-e6b4c3dd349&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe6b4c3dd349&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquery-and-analyze-stripe-data-in-python-e6b4c3dd349&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/photos/ZVprbBmT8QA", "anchor_text": "https://unsplash.com/photos/ZVprbBmT8QA"}, {"url": "https://stripe.com/docs/api/", "anchor_text": "Stripe API docs"}, {"url": "https://support.stripe.com/questions/billing-analytics-dashboard", "anchor_text": "guidance"}, {"url": "https://support.stripe.com/questions/understanding-monthly-recurring-revenue-(mrr)", "anchor_text": "Stripe article"}, {"url": "https://hellowebbooks.com/news/calculating-mrr-with-stripe/", "anchor_text": "blog post"}, {"url": "https://support.stripe.com/questions/calculating-churn-rate-in-billing", "anchor_text": "article"}, {"url": "https://stripe.com/docs/api", "anchor_text": "Stripe API ReferenceComplete reference documentation for the Stripe API. Includes representative code snippets and examples for our Python\u2026stripe.com"}, {"url": "https://support.stripe.com/questions/billing-analytics-dashboard", "anchor_text": "https://support.stripe.com/questions/billing-analytics-dashboard"}, {"url": "https://medium.com/tag/stripe?source=post_page-----e6b4c3dd349---------------stripe-----------------", "anchor_text": "Stripe"}, {"url": "https://medium.com/tag/data-science?source=post_page-----e6b4c3dd349---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/mrr?source=post_page-----e6b4c3dd349---------------mrr-----------------", "anchor_text": "Mrr"}, {"url": "https://medium.com/tag/churn?source=post_page-----e6b4c3dd349---------------churn-----------------", "anchor_text": "Churn"}, {"url": "https://medium.com/tag/python?source=post_page-----e6b4c3dd349---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe6b4c3dd349&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquery-and-analyze-stripe-data-in-python-e6b4c3dd349&user=Sophia+Yang&userId=ae9cae9cbcd2&source=-----e6b4c3dd349---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe6b4c3dd349&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquery-and-analyze-stripe-data-in-python-e6b4c3dd349&user=Sophia+Yang&userId=ae9cae9cbcd2&source=-----e6b4c3dd349---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe6b4c3dd349&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquery-and-analyze-stripe-data-in-python-e6b4c3dd349&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e6b4c3dd349--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe6b4c3dd349&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquery-and-analyze-stripe-data-in-python-e6b4c3dd349&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e6b4c3dd349---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e6b4c3dd349--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e6b4c3dd349--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e6b4c3dd349--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e6b4c3dd349--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e6b4c3dd349--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e6b4c3dd349--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e6b4c3dd349--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e6b4c3dd349--------------------------------", "anchor_text": ""}, {"url": "https://sophiamyang.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://sophiamyang.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sophia Yang"}, {"url": "https://sophiamyang.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.8K Followers"}, {"url": "http://twitter.com/sophiamyang", "anchor_text": "twitter.com/sophiamyang"}, {"url": "http://youtube.com/SophiaYangDS", "anchor_text": "youtube.com/SophiaYangDS"}, {"url": "http://dsbookclub.github.io", "anchor_text": "dsbookclub.github.io"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fae9cae9cbcd2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquery-and-analyze-stripe-data-in-python-e6b4c3dd349&user=Sophia+Yang&userId=ae9cae9cbcd2&source=post_page-ae9cae9cbcd2--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F74b7376b1b9e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fquery-and-analyze-stripe-data-in-python-e6b4c3dd349&newsletterV3=ae9cae9cbcd2&newsletterV3Id=74b7376b1b9e&user=Sophia+Yang&userId=ae9cae9cbcd2&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}