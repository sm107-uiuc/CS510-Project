{"url": "https://towardsdatascience.com/how-to-spit-a-pickled-model-file-to-bypass-upload-limits-on-pythonanywhere-e051ea1cec2d", "time": 1683011586.782846, "path": "towardsdatascience.com/how-to-spit-a-pickled-model-file-to-bypass-upload-limits-on-pythonanywhere-e051ea1cec2d/", "webpage": {"metadata": {"title": "How to Split a Pickled Model File to Bypass Upload Limits on PythonAnywhere | by Jacob Tadesse | Towards Data Science", "h1": "How to Split a Pickled Model File to Bypass Upload Limits on PythonAnywhere", "description": "In my last post, \u201cBuilding a Convolutional Neural Network to Recognize Shaved vs UnShaved Faces\u201d, I ended the article sharing the method I used to save my final trained model with Pickle. As a\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/building-a-convolutional-neural-network-to-recognize-shaved-vs-unshaved-faces-cb96ea5bc0f0", "anchor_text": "Building a Convolutional Neural Network to Recognize Shaved vs UnShaved Faces", "paragraph_index": 0}, {"url": "https://github.com/python/cpython/tree/3.8/Lib/pickle.py", "anchor_text": "Lib/pickle.py", "paragraph_index": 1}, {"url": "https://www.pythonanywhere.com/?affiliate_id=0077ae73", "anchor_text": "PythonAnywhere", "paragraph_index": 3}, {"url": "http://jtadesse.pythonanywhere.com/", "anchor_text": "my app", "paragraph_index": 3}, {"url": "https://stonesoupprogramming.com/2017/09/16/python-split-and-join-file/", "anchor_text": "article", "paragraph_index": 4}, {"url": "https://github.com/cousinskeeta", "anchor_text": "GitHub repo", "paragraph_index": 6}, {"url": "https://www.pythonanywhere.com/?affiliate_id=0077ae73", "anchor_text": "PythonAnywhere", "paragraph_index": 6}, {"url": "https://github.com/cousinskeeta", "anchor_text": "GitHub repo", "paragraph_index": 8}], "all_paragraphs": ["In my last post, \u201cBuilding a Convolutional Neural Network to Recognize Shaved vs UnShaved Faces\u201d, I ended the article sharing the method I used to save my final trained model with Pickle.", "\u201cPickling\u201d is the process whereby a Python object hierarchy is converted into a byte stream, and \u201cunpickling\u201d is the inverse operation, whereby a byte stream (from a binary file or bytes-like object) is converted back into an object hierarchy. \u2014 Source code: Lib/pickle.py", "As a refresher, here is the line of code to pickle your final model, saving all the weights, without the hassle of saving the structure as .json file, and weights separately as an .h5 file.", "Since I had a model, my goal was to build a Flask Application and deploy it for the public to use. I chose PythonAnywhere to host my app because I needed access to the Bash console and also needed to setup a virtual environment, but realized there was a limit on file upload, and my model was three times bigger than allowed.", "I did some research and found a very helpful article, in understanding how to split and join the files with Python. Using the os library and the following function, I was able to split the pickled model file into three smaller files:", "The function requires the source, write_size, and dest_folder. The source is where you saved the entire model, the write_size is the amount of bytes for each file, and the dest_folder is the destination folder to save each split file.", "Since I now had three acceptable files for upload, I needed to update my flask application to handle joining the files on the server, once the application was started in the browser. Here is a link to my GitHub repo to view the entire code before deploying to PythonAnywhere.", "I used the following function to join the files and save the combined model on the applications\u2019 server:", "This function joins the individual file bytes into one single pickled object. To see how I used jQuery to allow users an interactive way to upload images and make predictions through POST requests to the backend, using the new combined model to serve the predictions. Check out my GitHub repo for app.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe051ea1cec2d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-spit-a-pickled-model-file-to-bypass-upload-limits-on-pythonanywhere-e051ea1cec2d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-spit-a-pickled-model-file-to-bypass-upload-limits-on-pythonanywhere-e051ea1cec2d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-spit-a-pickled-model-file-to-bypass-upload-limits-on-pythonanywhere-e051ea1cec2d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-spit-a-pickled-model-file-to-bypass-upload-limits-on-pythonanywhere-e051ea1cec2d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e051ea1cec2d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e051ea1cec2d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://jacob-tadesse.medium.com/?source=post_page-----e051ea1cec2d--------------------------------", "anchor_text": ""}, {"url": "https://jacob-tadesse.medium.com/?source=post_page-----e051ea1cec2d--------------------------------", "anchor_text": "Jacob Tadesse"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb998f8b193b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-spit-a-pickled-model-file-to-bypass-upload-limits-on-pythonanywhere-e051ea1cec2d&user=Jacob+Tadesse&userId=b998f8b193b3&source=post_page-b998f8b193b3----e051ea1cec2d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe051ea1cec2d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-spit-a-pickled-model-file-to-bypass-upload-limits-on-pythonanywhere-e051ea1cec2d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe051ea1cec2d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-spit-a-pickled-model-file-to-bypass-upload-limits-on-pythonanywhere-e051ea1cec2d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/photos/w7ZyuGYNpRQ", "anchor_text": "Image"}, {"url": "https://towardsdatascience.com/building-a-convolutional-neural-network-to-recognize-shaved-vs-unshaved-faces-cb96ea5bc0f0", "anchor_text": "Building a Convolutional Neural Network to Recognize Shaved vs UnShaved Faces"}, {"url": "https://github.com/python/cpython/tree/3.8/Lib/pickle.py", "anchor_text": "Lib/pickle.py"}, {"url": "https://www.pythonanywhere.com/?affiliate_id=0077ae73", "anchor_text": "PythonAnywhere"}, {"url": "http://jtadesse.pythonanywhere.com/", "anchor_text": "my app"}, {"url": "https://stonesoupprogramming.com/2017/09/16/python-split-and-join-file/", "anchor_text": "article"}, {"url": "https://github.com/cousinskeeta", "anchor_text": "GitHub repo"}, {"url": "https://www.pythonanywhere.com/?affiliate_id=0077ae73", "anchor_text": "PythonAnywhere"}, {"url": "https://github.com/cousinskeeta", "anchor_text": "GitHub repo"}, {"url": "https://stonesoupprogramming.com/2017/09/16/python-split-and-join-file/", "anchor_text": "Python Split and Join fileThe book Programming Python: Powerful Object-Oriented Programming has an example program that shows how to split and\u2026stonesoupprogramming.com"}, {"url": "https://medium.com/tag/python?source=post_page-----e051ea1cec2d---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----e051ea1cec2d---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/convolutional-network?source=post_page-----e051ea1cec2d---------------convolutional_network-----------------", "anchor_text": "Convolutional Network"}, {"url": "https://medium.com/tag/flask?source=post_page-----e051ea1cec2d---------------flask-----------------", "anchor_text": "Flask"}, {"url": "https://medium.com/tag/ml-model-deployment?source=post_page-----e051ea1cec2d---------------ml_model_deployment-----------------", "anchor_text": "Ml Model Deployment"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe051ea1cec2d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-spit-a-pickled-model-file-to-bypass-upload-limits-on-pythonanywhere-e051ea1cec2d&user=Jacob+Tadesse&userId=b998f8b193b3&source=-----e051ea1cec2d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe051ea1cec2d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-spit-a-pickled-model-file-to-bypass-upload-limits-on-pythonanywhere-e051ea1cec2d&user=Jacob+Tadesse&userId=b998f8b193b3&source=-----e051ea1cec2d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe051ea1cec2d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-spit-a-pickled-model-file-to-bypass-upload-limits-on-pythonanywhere-e051ea1cec2d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e051ea1cec2d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe051ea1cec2d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-spit-a-pickled-model-file-to-bypass-upload-limits-on-pythonanywhere-e051ea1cec2d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e051ea1cec2d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e051ea1cec2d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e051ea1cec2d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e051ea1cec2d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e051ea1cec2d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e051ea1cec2d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e051ea1cec2d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e051ea1cec2d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e051ea1cec2d--------------------------------", "anchor_text": ""}, {"url": "https://jacob-tadesse.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://jacob-tadesse.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Jacob Tadesse"}, {"url": "https://jacob-tadesse.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "28 Followers"}, {"url": "https://www.linkedin.com/in/jacobtadesse/", "anchor_text": "https://www.linkedin.com/in/jacobtadesse/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb998f8b193b3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-spit-a-pickled-model-file-to-bypass-upload-limits-on-pythonanywhere-e051ea1cec2d&user=Jacob+Tadesse&userId=b998f8b193b3&source=post_page-b998f8b193b3--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F78fe1bbd0c39&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-spit-a-pickled-model-file-to-bypass-upload-limits-on-pythonanywhere-e051ea1cec2d&newsletterV3=b998f8b193b3&newsletterV3Id=78fe1bbd0c39&user=Jacob+Tadesse&userId=b998f8b193b3&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}