{"url": "https://towardsdatascience.com/publish-your-models-with-a-standard-rest-api-94de1e1da682", "time": 1683005359.136986, "path": "towardsdatascience.com/publish-your-models-with-a-standard-rest-api-94de1e1da682/", "webpage": {"metadata": {"title": "Publish your models with a standard based REST API | by \u00c1lvaro L\u00f3pez Garc\u00eda | Towards Data Science", "h1": "Publish your models with a standard based REST API", "description": "Either if you are developing a full-fledged application or if you just want to share the model with your colleagues, probably you have faced a situation where you need to share your new developed\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/search?q=rest%20api", "anchor_text": "demonstrated in other posts", "paragraph_index": 2}, {"url": "https://deepaas.readthedocs.io/", "anchor_text": "DEEPaaS API", "paragraph_index": 3}, {"url": "https://docs.aiohttp.org/", "anchor_text": "aiohttp", "paragraph_index": 3}, {"url": "https://www.openapis.org/", "anchor_text": "OpenAPI Specification (OAS)", "paragraph_index": 4}, {"url": "https://scikit-learn.org/", "anchor_text": "scikit-learn", "paragraph_index": 6}, {"url": "https://scikit-learn.org/stable/modules/svm.html", "anchor_text": "Support Vector Machine", "paragraph_index": 6}, {"url": "https://scikit-learn.org/stable/auto_examples/datasets/plot_iris_dataset.html#sphx-glr-auto-examples-datasets-plot-iris-dataset-py", "anchor_text": "IRIS dataset", "paragraph_index": 6}, {"url": "https://scikit-learn.org/stable/tutorial/basic/tutorial.html#model-persistence", "anchor_text": "scikit-learn\u2019s tutorial", "paragraph_index": 7}, {"url": "https://docs.python.org/3.8/distutils/setupscript.html", "anchor_text": "Python\u2019s setuptools", "paragraph_index": 8}, {"url": "https://swagger.io/tools/swagger-ui/", "anchor_text": "Swagger UI", "paragraph_index": 10}, {"url": "https://gist.github.com/alvarolopez/850160d4681794d5292222d4ebbaf938", "anchor_text": "Gist", "paragraph_index": 15}, {"url": "https://deep-hybrid-datacloud.eu/", "anchor_text": "DEEP-Hybrid-DataCloud", "paragraph_index": 17}, {"url": "https://www.kdnuggets.com/2020/02/sharing-machine-learning-models-common-api.html", "anchor_text": "KDnuggets", "paragraph_index": 18}], "all_paragraphs": ["Either if you are developing a full-fledged application or if you just want to share the model with your colleagues, probably you have faced a situation where you need to share your new developed model with other people. In this short step-by-step tutorial we will show how you can easily share your model, using a REST API, but without developing it from scratch.", "Data scientists building machine learning models do not have an easy and common way to share their developed applications with their colleagues or with anybody interested in using them. The whole model (i.e. the code and any configuration assets needed) can be shared, but this requires that the receptors of the model need to have enough knowledge to execute it. In most cases we just want to share the model to show its functionality (to other colleagues or to a company interested in our predictive model), therefore there is no need to share the whole experiment.", "The most straightforward way of doing so, in the connected world where we all work, is to expose the model through an HTTP endpoint, so that potential users can access it remotely through the network. This might sound simple, but developing a proper and correct REST API is not an easy task. First and foremost, as demonstrated in other posts, data scientists need to develop and API from scratch, a task that requires knowledge on API programming, networking, REST semantics, security, etc. Secondly (maybe a not so evident problem), if every scientists comes up with an implementation we would end up with a myriad of different and non-interoperable APIs doing more or less the same job, leading to a fragmented ecosystem where we need to wonder how to interact with all these endpoints.", "Enter DEEPaaS API: a machine learning, deep learning and artificial intelligence REST API framework built using aiohttp. DEEPaaS is an software component that allows to expose the functionality of a Python model (implemented with the framework of your choice) through an HTTP endpoint. It requires no modification to the original code, and has methods to customize it to the scientist\u2019s choice (input parameters, expected output, etc.)", "The DEEPaaS API follows the OpenAPI Specification (OAS), therefore it allows humans and computers to discover and understand the capabilities of the underlying model, its input parameters and output values, without inspecting the model\u2019s source code.", "Lets see how it works with a walk-through example.", "In order to better illustrate how to integrate a model with DEEPaaS we will use one of the most known examples from scikit-learn: a Support Vector Machine trained against the IRIS dataset. In this na\u012bve example we are defining two different functions, one for training and one for performing a prediction, as follows:", "As you can see, the training function persists into disk the trained model, following the scikit-learn\u2019s tutorial. The next action is to define the input parameters for your train and predict calls. Since this example is quite simple, we are only defining input parameters for the prediction call. Normally you would need to make it in a different file, so that it does not interfere with your code, but for the sake of simplicity we are adding this special function alongside our IRIS SVM:", "The last step in order to integrate it with DEEPaaS API you need to make it installable (you should be doing so) and define an entry point using Python\u2019s setuptools. This entry point will be used by DEEPaaS to know that to load and how to plug the different functions to the defined endpoints. We are currently using the deepaas.model.v2 entry point namespace, therefore we can create the setup.py file as follows:", "Once you have your code ready, you simply need to install both your module and the DEEPaaS API so that it detects it and exposes its functionality through the API. In order to do so in an easy way, lets create a virtualenv and install everything inside:", "If everything was OK now you should be able to point your browser to the URL printed in the console (http://127.0.0.1:5000/ui) and get a nice looking Swagger UI that will allow you to interact with your model.", "Since this was a simple example, we have not shipped a trained model, so the first thing to do is to perform a training. This will call the train() function and save the trained SVM for later use. You can do it from the UI, or from a command line with:", "The training will be done asynchronously, so that the API does not block. You can check its status from the UI, or with the following call:", "Now that the model is trained, we can perform a prediction. The IRIS dataset consists of 3 different types of irises\u2019 (Setosa, Versicolour, and Virginica) petal and sepal length. The samples have four columns that correspond to the Sepal Length, Sepal Width, Petal Length and Petal Width. In our example lets try to get the results for the [5.1. 3.5, 1.4, 0.2] observation, and get the results. Once again, you can make it from the UI or from the command line as follows:", "As you can see, the results contains the prediction that our SVM performed. In this case, the label for the input data was 0, that is, indeed, the correct one.", "The whole code example can be found in this Gist.", "In this simple example we have shown how a machine learning practitioner can expose any Python-based model through a REST API relying on the DEEPaaS API, rather than developing their own home-brew API. By doing so, data scientist can focus on their work, without worrying about writing and developing complex REST applications. Moreover, by using a common API, different modules will share the same interface, making it easier to be deployed in production and utilized by different programmers.", "The DEEPaaS API has been developed in the DEEP-Hybrid-DataCloud H2020 project (grant agreement No 777435), that is building a platform for machine learning and deep learning over distributed e-Infrastructures in Europe.", "Note: This post was originally posted in KDnuggets.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Researcher at the Spanish National Research Council, working on distributed computing infrastructures for science and research."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F94de1e1da682&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublish-your-models-with-a-standard-rest-api-94de1e1da682&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublish-your-models-with-a-standard-rest-api-94de1e1da682&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublish-your-models-with-a-standard-rest-api-94de1e1da682&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublish-your-models-with-a-standard-rest-api-94de1e1da682&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----94de1e1da682--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----94de1e1da682--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@aloga?source=post_page-----94de1e1da682--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@aloga?source=post_page-----94de1e1da682--------------------------------", "anchor_text": "\u00c1lvaro L\u00f3pez Garc\u00eda"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbd441e0c472b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublish-your-models-with-a-standard-rest-api-94de1e1da682&user=%C3%81lvaro+L%C3%B3pez+Garc%C3%ADa&userId=bd441e0c472b&source=post_page-bd441e0c472b----94de1e1da682---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F94de1e1da682&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublish-your-models-with-a-standard-rest-api-94de1e1da682&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F94de1e1da682&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublish-your-models-with-a-standard-rest-api-94de1e1da682&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/search?q=rest%20api", "anchor_text": "demonstrated in other posts"}, {"url": "https://deepaas.readthedocs.io/", "anchor_text": "DEEPaaS API"}, {"url": "https://docs.aiohttp.org/", "anchor_text": "aiohttp"}, {"url": "https://www.openapis.org/", "anchor_text": "OpenAPI Specification (OAS)"}, {"url": "https://scikit-learn.org/", "anchor_text": "scikit-learn"}, {"url": "https://scikit-learn.org/stable/modules/svm.html", "anchor_text": "Support Vector Machine"}, {"url": "https://scikit-learn.org/stable/auto_examples/datasets/plot_iris_dataset.html#sphx-glr-auto-examples-datasets-plot-iris-dataset-py", "anchor_text": "IRIS dataset"}, {"url": "https://scikit-learn.org/stable/tutorial/basic/tutorial.html#model-persistence", "anchor_text": "scikit-learn\u2019s tutorial"}, {"url": "https://docs.python.org/3.8/distutils/setupscript.html", "anchor_text": "Python\u2019s setuptools"}, {"url": "https://swagger.io/tools/swagger-ui/", "anchor_text": "Swagger UI"}, {"url": "https://gist.github.com/alvarolopez/850160d4681794d5292222d4ebbaf938", "anchor_text": "Gist"}, {"url": "https://deep-hybrid-datacloud.eu/", "anchor_text": "DEEP-Hybrid-DataCloud"}, {"url": "https://www.kdnuggets.com/2020/02/sharing-machine-learning-models-common-api.html", "anchor_text": "KDnuggets"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----94de1e1da682---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/api?source=post_page-----94de1e1da682---------------api-----------------", "anchor_text": "API"}, {"url": "https://medium.com/tag/data-science?source=post_page-----94de1e1da682---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/rest-api?source=post_page-----94de1e1da682---------------rest_api-----------------", "anchor_text": "Rest Api"}, {"url": "https://medium.com/tag/programming?source=post_page-----94de1e1da682---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://creativecommons.org/licenses/by-sa/4.0/", "anchor_text": "Some rights reserved"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F94de1e1da682&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublish-your-models-with-a-standard-rest-api-94de1e1da682&user=%C3%81lvaro+L%C3%B3pez+Garc%C3%ADa&userId=bd441e0c472b&source=-----94de1e1da682---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F94de1e1da682&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublish-your-models-with-a-standard-rest-api-94de1e1da682&user=%C3%81lvaro+L%C3%B3pez+Garc%C3%ADa&userId=bd441e0c472b&source=-----94de1e1da682---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F94de1e1da682&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublish-your-models-with-a-standard-rest-api-94de1e1da682&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----94de1e1da682--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F94de1e1da682&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublish-your-models-with-a-standard-rest-api-94de1e1da682&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----94de1e1da682---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----94de1e1da682--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----94de1e1da682--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----94de1e1da682--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----94de1e1da682--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----94de1e1da682--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----94de1e1da682--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----94de1e1da682--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----94de1e1da682--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@aloga?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@aloga?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "\u00c1lvaro L\u00f3pez Garc\u00eda"}, {"url": "https://medium.com/@aloga/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "11 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbd441e0c472b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublish-your-models-with-a-standard-rest-api-94de1e1da682&user=%C3%81lvaro+L%C3%B3pez+Garc%C3%ADa&userId=bd441e0c472b&source=post_page-bd441e0c472b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fbd441e0c472b%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpublish-your-models-with-a-standard-rest-api-94de1e1da682&user=%C3%81lvaro+L%C3%B3pez+Garc%C3%ADa&userId=bd441e0c472b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}