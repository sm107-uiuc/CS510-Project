{"url": "https://towardsdatascience.com/playground-earth-238f8253b030", "time": 1682994414.371525, "path": "towardsdatascience.com/playground-earth-238f8253b030/", "webpage": {"metadata": {"title": "Playground Earth. Ep. 2 : Categorizing the activities\u2026 | by Thijs Bressers | Towards Data Science", "h1": "Playground Earth", "description": "Do you like waterfalls, beaches, museums, food, mountains, nature, amusement parks, aquariums and city landmarks equally or do you have some preferences on your holiday? Probably you do. However, in\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/planet-beehive-aeca53ba0326", "anchor_text": "episode 1", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/planet-beehive-aeca53ba0326", "anchor_text": "Episode 1", "paragraph_index": 3}, {"url": "http://fabricalaaurora.com/", "anchor_text": "Fabrica La Aurora", "paragraph_index": 5}, {"url": "https://en.wikipedia.org/wiki/Network_theory", "anchor_text": "Network Theory", "paragraph_index": 9}, {"url": "https://towardsdatascience.com/planet-beehive-aeca53ba0326", "anchor_text": "episode 1", "paragraph_index": 35}, {"url": "https://www.linkedin.com/in/thijs-bressers-a793bb19", "anchor_text": "LinkedIn", "paragraph_index": 43}], "all_paragraphs": ["Do you like waterfalls, beaches, museums, food, mountains, nature, amusement parks, aquariums and city landmarks equally or do you have some preferences on your holiday? Probably you do. However, in episode 1 we objectively established the number 1 and 2 activities in the world to be waterfalls.. but what if you don\u2019t like waterfalls? You probably finished the post and disagreed completely with anything we derived.", "In order to manage our subjective preferences, we will need our algorithm to be able to deal with the input of a limited subset of categories as desired by the user. As descriptions of activities come in many varieties, our main objective today will be to generalize all these varieties into a subset of \u2018core\u2019 activities. Such as those described above.", "Nice, sounds like we get to dive into textual categorical data mining today!", "For today\u2019s exercise we can fully rely on the data already staged and prepared in Episode 1. Both the data from TripAdvisor and Google include one or multiple categorical values for each activity. These combined into a list, make our total set of categories per activity.", "At this point there is no need to further enrich this data from other external data sources, we can perfectly start from where we left off at episode 1.", "Let\u2019s start with an example of why our categorical data is in need of generalization: the Fabrica La Aurora in San Miguel de Allende, Mexico. From the pictures (above) and information on the website, a great looking art center, that consists of multiple galleries, some stores to purchase art related attributes as well as some places to eat and drink in between. Sounds like something I definitely would want to visit on my holiday, but how does it categorize in our data:", "art galleries; art gallery; cafe; jewelry store; furniture store; home goods store; store; restaurant; food;", "These are a lot of different categories, a lot of overlapping categories (i.e. art galleries vs art gallery), and way too broad categories to suffice as an input filter for our algorithm. And there is the need for generalization!", "In total we have 14'806 mentions of 235 different categories spread out over our 7'044 activities. That means that on average each activity has 2.1 different categories. With these figures we can also very safely assume that multiple combinations of these 235 categories will co-occur on multiple activities (i.e. most likely art galleries will often co-occur with art gallery)", "In order to explore the relation between the current categories, we will use a hobbyist approach to Network Theory. With the ultimate goal to derive the root values (most occurring activities) and their link to lesser occurring activities (mapping them as a leaf to their root).", "For this, we first need to create a co-occurrence matrix. As the name reveals, this means we create a matrix of the number of occurrences for all possible combinations of two out of our 235 categories.", "This co-occurrence matrix is best visualized in a network graph that will show the connections between our categories and will also show the most co-occurring activities and connections:", "From this chart we can see immediately some of the key categories that are occurring most often: Food, park, museum, store, restaurant, historic site, natural feature and some more.", "Also some connections are quite clear: \u2018Place of Worship\u2019 is clearly linked with \u2018Church\u2019, \u2018Mosque\u2019, \u2018Hindu Temple\u2019 and \u2018Sacred & Religious site\u2019 but also with \u2018Architectural Building\u2019; while \u2018Store\u2019, \u2018Restaurant\u2019, \u2018Cafe\u2019, \u2018Bar\u2019 and \u2018Food\u2019 also often go hand in hand.", "The goal is to define a manageable subset of root categories to which all other categories can be related back to, through these co-occurrences.", "To establish these initial root categories, we will use the returned related table behind the chart that includes the weight of occurrence for each possible combination of categories.", "Looking at the distribution of this weight value aggregated per activity, we will start by filtering on categories where the weight > 200. This will be leading us to the root activities displayed in fig. 2 on the left.", "The friendly name to which we mapped each of these categories gives us 12 distinct categories that we will now consider our root category subset for further analysis.", "The next step is to derive the related root category for all of the 235 categories that are not in the above list. For this we can build a parent-child hierarchy and loop through all the categories based on the weight, till we reach the first root value.", "In other words, lets look for each category that is not in the above list, to which category its most co-occurring by weight, if that activity is not in the root, we will again look its most co-occurring category and continue until we find the category that is in the root.", "The below example will show you how this works. In this case we want to find the root category for the category \u2018Campground\u2019. Which turns out to be \u2018Park\u2019 (note that when equal weight apply, the alphabetic order prevails):", "Applying this transformation to each category, will give us one (or multiple) root categories for each activity.", "So back to Fabrica la Aurora as an example; initially we saw the following categories from Google/TripAdvisor combined:", "art galleries; art gallery; cafe; jewelry store; furniture store; home goods store; store; restaurant; food;", "The result from are above implement transformation generalized these to the following root categories respectively:", "museum & gallery; museum & gallery; food & drinks; shopping; shopping; shopping; shopping; food & drinks; food & drinks;", "or, when uniqueness is applied: Museum & Gallery, Shopping and Food & Drinks. Not bad! Meaning that this activity will be included in the algorithms\u2019 output whenever any (or all) of the above three categories are given as an input.", "After this step, let\u2019s make up the balance of the number of activities that will be filtered for each of these automatically derived root activities:", "This approach is obviously not waterproof, so here I would like to manually interfere in some categories. Lets have a more detailed look into what subcategories make up the four main categories and the \u2018Other\u2019 category (which we want to be as small as possible).", "On the left we see these subcategories; the ones that I want to amend manually, I have highlighted here.", "First of all, lets separate subcategories: \u2018beaches\u2019 and \u2018mountains\u2019 from \u2018Nature\u2019 into new root categories for each of them. Although the allocation can be considered accurate (to nature), they are such significant features of holidays that they should be root categories on their own.", "Secondly, we see some categories wrongly allocated that can be categorized together into a new category \u2018Landmark\u2019 containing of subcategories: \u2018Points of interest & landmark\u2019, \u2018architectural building\u2019, \u2018castle\u2019 and \u2018monuments & statue\u2019", "And lastly, the subcategory \u2018neighborhood\u2019 in \u2018other\u2019 has enough weight to be a category on its own instead of other. So we will map it separately as well.", "Having made these adjustments, we end up with 16 final root categories leading to the following numbers of activities that are linked to them:", "So from our 235 distinct categories that where derived for our activities, we have managed to generalize them to 16 distinct categories. And we only had to interfere with 7 out of these 235 activities manually! Quite happy with the results, giving our final algorithm the ability to easily filter touristic activities on categories as input.", "Now that we have our activities, we can go back to our scoring measure that we created in episode 1 and combine the two. We have already looked at the weighted average score by region, country and individual activities, now lets look at what are the best rated categories:", "Mountains are our absolute top favorite (and I personally couldn\u2019t agree more). Followed at a slight distance by Bodies of Water, Historic Site and Nature.", "Since pictures say more than a thousand words, let\u2019s have a look at the top 3 activities in each of these categories:", "Well, I just updated my bucket list with some of these finds!", "Very pleasantly surprised about the accuracy of the outcome of our generalization at first sight. As well as the large diversity within the top of the categories in terms of regions and continents.", "Today we have succeeded in using a basic form of network theory to generalize all our 235 different categories into just 16. Very important in order to filter activities in a simplified way, while still being able to have the algorithm only select relevant activities.", "Next post we will be looking into clustering our activities in actual holiday destinations!", "To explore a bit further, please find below a heat-map comparing the best scoring activities per regions:", "For more information about myself feel free to checkout my LinkedIn", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Travel On Data Or Data On Travel | Data Analyst"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F238f8253b030&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayground-earth-238f8253b030&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayground-earth-238f8253b030&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayground-earth-238f8253b030&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayground-earth-238f8253b030&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----238f8253b030--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----238f8253b030--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@tbressers88?source=post_page-----238f8253b030--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@tbressers88?source=post_page-----238f8253b030--------------------------------", "anchor_text": "Thijs Bressers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F48bba4460823&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayground-earth-238f8253b030&user=Thijs+Bressers&userId=48bba4460823&source=post_page-48bba4460823----238f8253b030---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F238f8253b030&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayground-earth-238f8253b030&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F238f8253b030&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayground-earth-238f8253b030&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/planet-beehive-aeca53ba0326", "anchor_text": "episode 1"}, {"url": "https://towardsdatascience.com/planet-beehive-aeca53ba0326", "anchor_text": "Episode 1"}, {"url": "http://fabricalaaurora.com", "anchor_text": "http://fabricalaaurora.com"}, {"url": "http://fabricalaaurora.com/", "anchor_text": "Fabrica La Aurora"}, {"url": "https://en.wikipedia.org/wiki/Network_theory", "anchor_text": "Network Theory"}, {"url": "https://gephi.org/", "anchor_text": "ephi"}, {"url": "https://towardsdatascience.com/planet-beehive-aeca53ba0326", "anchor_text": "episode 1"}, {"url": "https://www.linkedin.com/in/thijs-bressers-a793bb19", "anchor_text": "LinkedIn"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----238f8253b030---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/travel?source=post_page-----238f8253b030---------------travel-----------------", "anchor_text": "Travel"}, {"url": "https://medium.com/tag/data-science?source=post_page-----238f8253b030---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----238f8253b030---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/data?source=post_page-----238f8253b030---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F238f8253b030&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayground-earth-238f8253b030&user=Thijs+Bressers&userId=48bba4460823&source=-----238f8253b030---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F238f8253b030&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayground-earth-238f8253b030&user=Thijs+Bressers&userId=48bba4460823&source=-----238f8253b030---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F238f8253b030&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayground-earth-238f8253b030&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----238f8253b030--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F238f8253b030&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayground-earth-238f8253b030&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----238f8253b030---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----238f8253b030--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----238f8253b030--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----238f8253b030--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----238f8253b030--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----238f8253b030--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----238f8253b030--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----238f8253b030--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----238f8253b030--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@tbressers88?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@tbressers88?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Thijs Bressers"}, {"url": "https://medium.com/@tbressers88/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "18 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F48bba4460823&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayground-earth-238f8253b030&user=Thijs+Bressers&userId=48bba4460823&source=post_page-48bba4460823--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F48bba4460823%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayground-earth-238f8253b030&user=Thijs+Bressers&userId=48bba4460823&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}