{"url": "https://towardsdatascience.com/anomaly-detection-in-dynamic-graphs-using-midas-e4f8d0b1db45", "time": 1683004586.4679549, "path": "towardsdatascience.com/anomaly-detection-in-dynamic-graphs-using-midas-e4f8d0b1db45/", "webpage": {"metadata": {"title": "Anomaly detection in dynamic graphs using MIDAS | by Nimish Mishra | Towards Data Science", "h1": "Anomaly detection in dynamic graphs using MIDAS", "description": "With the ever-growing reach of network attacks, network security research has been paramount in recent years. Ideas ranging from genetic algorithms to deep learning have been leveraged to identify\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["With the ever-growing reach of network attacks, network security research has been paramount in recent years. Ideas ranging from genetic algorithms to deep learning have been leveraged to identify possible attack scenarios and notify the same to the network administrator.", "Under the fancy details such approaches come with, most of them have a similar core idea: noticing weird patterns. As someone observing a network closely, it is only intuitive that you would be pensive about a sudden increase in requests from certain geographical locations, or a sudden capture/re-routing of network traffic.", "Technically, these weird patterns are called anomalies, something out of the ordinary. These are the most obvious points to turn to when identifying a possible attack.", "Anomaly detection has been an important problem for researchers and industrialists alike. In this article, I focus on using graphs to identify such patterns. All we need to do is to somehow model the entire network traffic (yes that LAN or that WiFi you are currently connected to) using these mathematical structures.", "Some links to get you started:", "A graph is a simple mathematical structure: it has few points called nodes or vertices, and some lines connecting them, called edges. Logically, edges represent certain relationships between vertices.", "And we can take advantage of this abstract definition.", "To model a problem as a graph, you can identify certain entities as vertices, and then draw edges between them to denote certain relationships.", "In our case, we model the computer nodes (a computer device like laptop, desktop) as the vertices of the graph, and a connection between them as an edge.", "So going by this, the above graph can be read as:", "We now get the perfect material for modelling our network. Say we create a directed graph consisting of all the nodes in a particular network, and we connect a directed edge whenever one node tries to establish a connection with another. Based on established patterns in these connections/edges, there might be a possibility of noticing some weird patterns and thus anomalies.", "Yes they are. And that\u2019s a big issue one faces in any model of a network.", "You must have seen how it\u2019s possible for any device to be up online within seconds. So far so good. Now imagine this same thing in a huge demographical area- several devices are coming in, and several others are going on. And by coming in and going out, I don\u2019t mean you simply walk into a network. There\u2019s a lot of things going on, the most important of them and also a good starting point to understand subnets is the Dynamic IP configuration for every node on the network. Moreover, people are always sending files, images, videos, texts, HTTP requests, and what not; and servers are usually finding it difficult to handle excess traffic.", "On top of this, it\u2019s useful to understand that one connection between your node/computer and another (say a server) using a very common protocol- TCP- can take upto 3\u20134 transactions back and forth to successfully deliver one unit of information (called packet). And you usually send and receive thousands of packets over few minutes. And there are thousands of people doing the exactly same thing at exactly the same moment as you.", "All this means one thing if you think of this in depth:", "The internet\u2019s a pretty busy place. A literal virtual web spread world-wide. And it is easy to hide there.", "It means it becomes tough. In such dense network dynamics, you can imagine how many edges would exist (thousands as a starter) over several hundreds of vertices. So how do we actually begin to scratch the surface of the problem?", "Here is where MIDAS comes in. It builds upon its predecessors (the details of which are beyond the scope of this article) in a sense that it performs detections by considering the temporal nature of the networks and by considering micro-clusters instead of individual edges.", "You must have had an idea by now regarding the intense dynamic nature of computer networks- how quickly and on what scale they change.", "With anomaly detection techniques that use static graphs, we immediately see a problem: no temporal relations (temporal = time, or how the network evolves over time). Let\u2019s get into this in a bit more detail.", "Look closely at the graphs above. Consider a network you are observing. It looks right now like the one in figure (b). An hour later, it looks like (a). What are the anomalies? How do you tell if someone attacked?", "Using static graphs, you would take the snapshot of the network configuration at certain intervals. And you view the graphs like independent existing entities.", "Quite intuitively, this method doesn\u2019t make sense. Why? Because network configurations aren\u2019t self-existent. Everything happening in (a) is somehow related to what has happened sometime in the past, like in (b). That is the entire idea of temporal characteristics. And that is what MIDAS (and other similar algorithms) using dynamic graphs does. They ask the following question:", "How does the current scenario relate to the past? What has changed, and what hasn\u2019t?", "The moment you start asking these questions, you realise important links to the past configurations of the network- something you can exploit to have better chance at detecting some weird pattern and be alerted.", "Consider a very popular network attack: DoS (or another variant DDoS). While details are beyond scope, very crudely these attacks load a server with so many requests that the server isn\u2019t available for genuine requests from genuine clients, effectively crashing the entire system.", "If we try to model this in terms of our dynamic directed graphs, what could we expect.", "Let\u2019s consider the second image first, all points (considered as nodes) are receiving several edges from different nodes. However, in the first image, the node labelled by 1 is receiving several edges from a single node: 0.", "Earlier algorithms did not differentiate between these. But MIDAS asks an interesting question:", "Why are there so many parallel edges between two similar nodes?", "Parallel nodes in our model of a network imply one computer is sending several independent requests to another. Say 1 is a server, and 0 is a home computer running a browser. That browser might ask for several things at once: a YouTube video, a Wikipedia article, a Medium article, a Towards Data Science article, and several other things. (This is still a gross oversimplification of the actual stuff happening. In reality, every URL you type into the browser gets mapped to different servers spread across the world. Never do all requests from one browser go to one server. But for understanding, we imagine for a second that they actually do).", "So far so good. Now what if this number of parallel requests starts to climb? Something like below:", "The above graph from the authors illustrates this point. There\u2019s a sudden burst of activity between two nodes, after a period of somewhat normal activity. Recall from our discussion on temporal characteristics of a graph: what happens now depends on the past as well. Here, the past saw ~100\u2013200 connections, and suddenly the count went up to ~1000.", "In such a case, MIDAS says, \u2018There might be something wrong. Scrutinise this.\u2019", "This is the entire core of micro-cluster detection: amongst the several parameters employed to monitor anomalies, include monitoring of suddenly appearing bursts of activity sharing several nodes or edges that are close by in the sense of the graph representation (spatial locality). This is something that makes MIDAS very powerful.", "MIDAS (or MIDAS-R) performs better than present solutions/algorithms. Some of the interesting highlights reported by the authors include:", "I\u2019ll leave a detailed discussion outside the scope of this article. Crudely, the authors showed that MIDAS (MIDAS-R) can give binary decisions (whether an anomaly exist or not) upto a user defined threshold \u03b5. So depending on whether you wish to have 10% or 1% as the maximum probability of a false positive, MIDAS can handle it.", "Note: False positive means the algorithm has detected some event as falsely positive, i.e. the event is a negative but the algorithm says it\u2019s a positive. In the current scenario, this would mean there isn\u2019t an anomaly, but MIDAS says there is. This is just an extra layer of caution applied by setting a high probability. You might rather check a non-anomalous event rather than letting an anomalous event slip away (due to too low a probability).", "This isn\u2019t always desirable however, and depends greatly on the use-case. Consider an algorithm detecting cancer tumours. Do you wish to have a large threshold? This means several people who don\u2019t have cancer are reported to be having it. On the other hand, too low a threshold means some cancer patient might escape detection. Both conditions are hazardous; choosing thresholds is thus an empirical decision based on the use case of the problem.", "Consider a rather possible scenario of a typical network:", "The real networks are way denser than that. Question arises:", "Where do you store such a large network modelled as a graph?", "To understand more memory and time complexity problems glaring at us here, take the following example:", "Find all prime numbers less than a given number n?", "(Step 2 expansion) Checking if q is prime:", "A bad algorithm but it does the trick. You now get a sense of the problem: increase n: first to tens, then to thousands, then to tens of thousands; you shall begin seeing the time differences.", "Crudely, we think of time and space complexities such that when the input size increases, both time and space requirements increase so much that it is infeasible to solve the problem after a certain limit.", "Porting this to our graph problem of a network, MIDAS faces the challenge to represent several thousands of computers as nodes/vertices, and several tens of thousands of edges. You could look up the standard representations of graphs (adjacency lists, matrices etc.), and you will immediately see the problem. As with the prime number algorithm, in such representations, as the number of nodes and connections between them increase, space requirement for storing and time requirement for executing the algorithm skyrockets.", "The authors solve this issue using an uncommon data structure: Count-Min-Sketch (CMS). Details are out of scope, but this eliminates the above problem.", "Quoting some results from experiments done by the authors:", "I think micro-cluster based, temporal and spatial locality included, anomaly detection on dynamic graphs shall go a long way and find interesting applications in near future. As one, the authors benchmark important security event detection and find the following:", "In the coming years, we will see increased research efforts into development of more and more clean and novel approaches to anomaly detection, and move on to implementing searches for weird patterns in other domains.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe4f8d0b1db45&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-dynamic-graphs-using-midas-e4f8d0b1db45&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-dynamic-graphs-using-midas-e4f8d0b1db45&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-dynamic-graphs-using-midas-e4f8d0b1db45&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-dynamic-graphs-using-midas-e4f8d0b1db45&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e4f8d0b1db45--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e4f8d0b1db45--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@neelam.nimish?source=post_page-----e4f8d0b1db45--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@neelam.nimish?source=post_page-----e4f8d0b1db45--------------------------------", "anchor_text": "Nimish Mishra"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F736fc3ea6ee9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-dynamic-graphs-using-midas-e4f8d0b1db45&user=Nimish+Mishra&userId=736fc3ea6ee9&source=post_page-736fc3ea6ee9----e4f8d0b1db45---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe4f8d0b1db45&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-dynamic-graphs-using-midas-e4f8d0b1db45&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe4f8d0b1db45&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-dynamic-graphs-using-midas-e4f8d0b1db45&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/controlling-fake-news-using-graphs-and-statistics-31ed116a986f", "anchor_text": "https://towardsdatascience.com/controlling-fake-news-using-graphs-and-statistics-31ed116a986f"}, {"url": "https://github.com/bhatiasiddharth/MIDAS", "anchor_text": "https://github.com/bhatiasiddharth/MIDAS"}, {"url": "https://arxiv.org/abs/1911.04464", "anchor_text": "https://arxiv.org/abs/1911.04464"}, {"url": "https://towardsdatascience.com/large-graph-visualization-tools-and-approaches-2b8758a1cd59", "anchor_text": "https://towardsdatascience.com/large-graph-visualization-tools-and-approaches-2b8758a1cd59"}, {"url": "https://www.researchgate.net/publication/301453477_Dynamic_Graph_Visualization_with_Multiple_Visual_Metaphors/figures?lo=1", "anchor_text": "https://www.researchgate.net/publication/301453477_Dynamic_Graph_Visualization_with_Multiple_Visual_Metaphors/figures?lo=1"}, {"url": "https://www.researchgate.net/publication/277649495_A_classification_of_pentavalent_arc-transitive_bicirculants/figures?lo=1", "anchor_text": "https://www.researchgate.net/publication/277649495_A_classification_of_pentavalent_arc-transitive_bicirculants/figures?lo=1"}, {"url": "https://towardsdatascience.com/getting-started-with-graph-analysis-in-python-with-pandas-and-networkx-5e2d2f82f18e", "anchor_text": "https://towardsdatascience.com/getting-started-with-graph-analysis-in-python-with-pandas-and-networkx-5e2d2f82f18e"}, {"url": "https://medium.com/tag/anomaly-detection?source=post_page-----e4f8d0b1db45---------------anomaly_detection-----------------", "anchor_text": "Anomaly Detection"}, {"url": "https://medium.com/tag/networking?source=post_page-----e4f8d0b1db45---------------networking-----------------", "anchor_text": "Networking"}, {"url": "https://medium.com/tag/security?source=post_page-----e4f8d0b1db45---------------security-----------------", "anchor_text": "Security"}, {"url": "https://medium.com/tag/mathematics?source=post_page-----e4f8d0b1db45---------------mathematics-----------------", "anchor_text": "Mathematics"}, {"url": "https://medium.com/tag/computer-science?source=post_page-----e4f8d0b1db45---------------computer_science-----------------", "anchor_text": "Computer Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe4f8d0b1db45&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-dynamic-graphs-using-midas-e4f8d0b1db45&user=Nimish+Mishra&userId=736fc3ea6ee9&source=-----e4f8d0b1db45---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe4f8d0b1db45&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-dynamic-graphs-using-midas-e4f8d0b1db45&user=Nimish+Mishra&userId=736fc3ea6ee9&source=-----e4f8d0b1db45---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe4f8d0b1db45&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-dynamic-graphs-using-midas-e4f8d0b1db45&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e4f8d0b1db45--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe4f8d0b1db45&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-dynamic-graphs-using-midas-e4f8d0b1db45&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e4f8d0b1db45---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e4f8d0b1db45--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e4f8d0b1db45--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e4f8d0b1db45--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e4f8d0b1db45--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e4f8d0b1db45--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e4f8d0b1db45--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e4f8d0b1db45--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e4f8d0b1db45--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@neelam.nimish?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@neelam.nimish?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Nimish Mishra"}, {"url": "https://medium.com/@neelam.nimish/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "217 Followers"}, {"url": "https://www.linkedin.com/in/nimish-mishra-2ab313106/", "anchor_text": "https://www.linkedin.com/in/nimish-mishra-2ab313106/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F736fc3ea6ee9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-dynamic-graphs-using-midas-e4f8d0b1db45&user=Nimish+Mishra&userId=736fc3ea6ee9&source=post_page-736fc3ea6ee9--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fdff882cf1675&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fanomaly-detection-in-dynamic-graphs-using-midas-e4f8d0b1db45&newsletterV3=736fc3ea6ee9&newsletterV3Id=dff882cf1675&user=Nimish+Mishra&userId=736fc3ea6ee9&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}