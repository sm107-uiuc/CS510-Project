{"url": "https://towardsdatascience.com/the-shape-of-coffee-fa87d3a67752", "time": 1683009980.147601, "path": "towardsdatascience.com/the-shape-of-coffee-fa87d3a67752/", "webpage": {"metadata": {"title": "The Shape of Coffee. Particle Analysis using Pattern\u2026 | by Robert McKeon Aloe | Towards Data Science", "h1": "The Shape of Coffee", "description": "To make coffee requires grinding, but which is the best grinder? I\u2019m not sure, but what I have seen is quite a bit of data on coffee grind distribution. Some grinders are better than others simply\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/@rmckeon/coffee-is-not-round-5c102491be4c", "anchor_text": "the particles were not circles", "paragraph_index": 2}, {"url": "https://mobile.twitter.com/espressofun?source=post_page---------------------------", "anchor_text": "Twitter", "paragraph_index": 17}, {"url": "https://m.youtube.com/channel/UClgcmAtBMTmVVGANjtntXTw?source=post_page---------------------------", "anchor_text": "YouTube", "paragraph_index": 17}, {"url": "https://www.linkedin.com/in/robert-mckeon-aloe-01581595?source=post_page---------------------------", "anchor_text": "LinkedIn", "paragraph_index": 17}, {"url": "https://towardsdatascience.com/p/8cf623ea27ef", "anchor_text": "To Stir or To Swirl: Better Espresso Experience", "paragraph_index": 18}, {"url": "https://towardsdatascience.com/spicy-espresso-grind-hot-tamp-cold-36bb547211ef", "anchor_text": "Spicy Espresso: Grind Hot, Tamp Cold for Better Coffee", "paragraph_index": 19}, {"url": "https://towardsdatascience.com/coffee-solubility-in-espresso-an-initial-study-88f78a432e2c", "anchor_text": "Coffee Solubility in Espresso: An Initial Study", "paragraph_index": 20}, {"url": "https://towardsdatascience.com/staccato-tamping-improving-espresso-without-a-sifter-b22de5db28f6", "anchor_text": "Staccato Tamping: Improving Espresso without a Sifter", "paragraph_index": 21}, {"url": "https://towardsdatascience.com/@rmckeon/espresso-simulation-first-steps-in-computer-models-56e06fc9a13c", "anchor_text": "Espresso Simulation: First Steps in Computer Models", "paragraph_index": 22}, {"url": "https://towardsdatascience.com/overthinking-life/the-tale-of-a-stolen-espresso-machine-6cc24d2d21a3", "anchor_text": "The Tale of the Stolen Espresso Machine", "paragraph_index": 23}], "all_paragraphs": ["To make coffee requires grinding, but which is the best grinder? I\u2019m not sure, but what I have seen is quite a bit of data on coffee grind distribution. Some grinders are better than others simply because they have a tighter distribution, but is distribution the only thing to consider?", "I initially explored the particle sizes because I had written code to analyze filter holes. The same processing could be used, but I found two main difficulties:", "Additionally, the particles were not circles. I didn\u2019t think much of this because I had other experiments running, but a year later, I got a microscope. It turns out, most grounds aren\u2019t circular. They aren\u2019t square either. So how does one make sense of them? How do you determine size of a particle? Radius doesn\u2019t quite make sense, but area might.", "If you measure with area for the size of the particle, could you have two grinders with very similar size distributions but different results in the cup? I was plagued by this question, and in trying to understand coffee grounds, I turned to pattern recognition.", "In this work, I do a simple pre-processing, and then I apply some standard pattern recognition techniques. For each particle, I make a Linear Binary Pattern (LBP) feature which is scale and rotation invariant. Then I apply k-means clustering to determine the types of particles.", "I don\u2019t know if this will turn out to be another way to understand particle grinds, but I intend to experiment in the future for the following tests:", "I put coffee either on a white piece of paper or an iPad screen. Then I take a picture. In this work, I\u2019m not worried about scale, but that\u2019s relatively easy to incorporate at a later date. The key here is the processing. Then I invert the image, and I take the product of R*G*B for each pixel. After applying a simple threshold, I get this image:", "Here is a close-up image. Even in this image, you can see the variety of particle shapes.", "Initially, I looked at some metrics like Major Axis to Minor Axis. The assumption is that the shape is an ellipse. There was definitely a distribution, and it was not linearly related. I suspect this is an indication of the variety of particle shapes.", "I then compared the ratio of Major to Minor axis vs Area. Again, there is a spread, and it differs based on the hole area.", "Coffee particles aren\u2019t circular. Do different grind settings or different grinders change the shape of the particles coming out? How could we understand the different shapes?", "One technique is to use Linear Binary Patterns. It is a simple pattern applied per pixel to generate a code as seen below by comparing the surrounding pixels to the center pixel with a simple equation (pixel > Center Pixel). There are 2\u2078 possible patterns (256), but if you consider rotation around the center pixel, there are only 59 unique patterns. The final feature is 59 elements long of the percent of pixels in an image falling into each category.", "Afterwards, we could apply K-means clustering to see how the different types of shapes are categories. K-means clustering involves setting up K-nodes (in this case 16), and grouping all the features to their closest node. The algorithm then iteratively adjusts the nodes and grouping to best separate the data.", "Selecting number of clusters is more of an art than a science. The main metric to use is the Within-Cluster Sum of Squares (WSS), and as you increase the number of clusters, there comes a point where you have diminishing returns, in this case, 16 clusters.", "Now we can compare the particle areas across these different clusters both in a global view and then normalized across each Hole Area bin.", "I\u2019m not sure what this says, only that it is a new way to look at distribution and particle size. It\u2019s a pretty graph, but at the end of the day, what could it tell us? Would this information be able to better differentiate good grinders from one another?", "I\u2019ve seen quite a few particle distributions by others online, but it hasn\u2019t been clear to me how to use just that information to differentiate between the best, pretty good, good, bad, and the worst. You could probably tell a grinder is not great, but I feel like something is missing. My experience is that my $200 Rok grinder makes great espresso even though it is not considered a great grinder compared to the ones that are a few thousand dollars. Hopefully, we, as a community, will find some objective metrics so people will have an easier time dropping a few grand on a grinder.", "If you like, follow me on Twitter and YouTube where I post videos of espresso shots on different machines and espresso related stuff. You can also find me on LinkedIn.", "To Stir or To Swirl: Better Espresso Experience", "Spicy Espresso: Grind Hot, Tamp Cold for Better Coffee", "Coffee Solubility in Espresso: An Initial Study", "Staccato Tamping: Improving Espresso without a Sifter", "Espresso Simulation: First Steps in Computer Models", "The Tale of the Stolen Espresso Machine", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I\u2019m in love with my Wife, my Kids, Espresso, Data Science, tomatoes, cooking, engineering, talking, family, Paris, and Italy, not necessarily in that order."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ffa87d3a67752&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-shape-of-coffee-fa87d3a67752&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-shape-of-coffee-fa87d3a67752&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-shape-of-coffee-fa87d3a67752&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-shape-of-coffee-fa87d3a67752&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----fa87d3a67752--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fa87d3a67752--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://rmckeon.medium.com/?source=post_page-----fa87d3a67752--------------------------------", "anchor_text": ""}, {"url": "https://rmckeon.medium.com/?source=post_page-----fa87d3a67752--------------------------------", "anchor_text": "Robert McKeon Aloe"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fae592466d35f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-shape-of-coffee-fa87d3a67752&user=Robert+McKeon+Aloe&userId=ae592466d35f&source=post_page-ae592466d35f----fa87d3a67752---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffa87d3a67752&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-shape-of-coffee-fa87d3a67752&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffa87d3a67752&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-shape-of-coffee-fa87d3a67752&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/@rmckeon/coffee-is-not-round-5c102491be4c", "anchor_text": "the particles were not circles"}, {"url": "https://www.mathworks.com/help/stats/kmeans.html", "anchor_text": "The two node example from Matlab"}, {"url": "https://mobile.twitter.com/espressofun?source=post_page---------------------------", "anchor_text": "Twitter"}, {"url": "https://m.youtube.com/channel/UClgcmAtBMTmVVGANjtntXTw?source=post_page---------------------------", "anchor_text": "YouTube"}, {"url": "https://www.linkedin.com/in/robert-mckeon-aloe-01581595?source=post_page---------------------------", "anchor_text": "LinkedIn"}, {"url": "https://medium.com/@rmckeon/coffee-is-not-round-5c102491be4c", "anchor_text": "Coffee is Not Round"}, {"url": "https://towardsdatascience.com/p/8cf623ea27ef", "anchor_text": "To Stir or To Swirl: Better Espresso Experience"}, {"url": "https://towardsdatascience.com/spicy-espresso-grind-hot-tamp-cold-36bb547211ef", "anchor_text": "Spicy Espresso: Grind Hot, Tamp Cold for Better Coffee"}, {"url": "https://towardsdatascience.com/overthinking-life/staccato-espresso-leveling-up-espresso-70b68144f94", "anchor_text": "Staccato Espresso: Leveling Up Espresso"}, {"url": "https://towardsdatascience.com/the-impact-of-paper-filters-on-espresso-cfaf6e047456", "anchor_text": "Improving Espresso with Paper Filters"}, {"url": "https://towardsdatascience.com/coffee-solubility-in-espresso-an-initial-study-88f78a432e2c", "anchor_text": "Coffee Solubility in Espresso: An Initial Study"}, {"url": "https://towardsdatascience.com/staccato-tamping-improving-espresso-without-a-sifter-b22de5db28f6", "anchor_text": "Staccato Tamping: Improving Espresso without a Sifter"}, {"url": "https://towardsdatascience.com/@rmckeon/espresso-simulation-first-steps-in-computer-models-56e06fc9a13c", "anchor_text": "Espresso Simulation: First Steps in Computer Models"}, {"url": "https://towardsdatascience.com/pressure-pulsing-for-better-espresso-62f09362211d", "anchor_text": "Pressure Pulsing for Better Espresso"}, {"url": "https://towardsdatascience.com/@rmckeon/coffee-data-sheet-d95fd241e7f6", "anchor_text": "Coffee Data Sheet"}, {"url": "https://towardsdatascience.com/overthinking-life/artisan-coffee-is-overpriced-81410a429aaa", "anchor_text": "Artisan coffee is overprice"}, {"url": "https://towardsdatascience.com/overthinking-life/the-tale-of-a-stolen-espresso-machine-6cc24d2d21a3", "anchor_text": "The Tale of the Stolen Espresso Machine"}, {"url": "https://towardsdatascience.com/espresso-filters-an-analysis-7672899ce4c0", "anchor_text": "Espresso filter analysis"}, {"url": "https://towardsdatascience.com/overthinking-life/portable-espresso-a-guide-5fb32185621", "anchor_text": "Portable Espresso: A Guide"}, {"url": "https://towardsdatascience.com/overthinking-life/kruve-coffee-sifter-an-analysis-c6bd4f843124", "anchor_text": "Kruve Sifter: An Analysis"}, {"url": "https://medium.com/tag/data-science?source=post_page-----fa87d3a67752---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/computer-vision?source=post_page-----fa87d3a67752---------------computer_vision-----------------", "anchor_text": "Computer Vision"}, {"url": "https://medium.com/tag/coffee?source=post_page-----fa87d3a67752---------------coffee-----------------", "anchor_text": "Coffee"}, {"url": "https://medium.com/tag/espresso?source=post_page-----fa87d3a67752---------------espresso-----------------", "anchor_text": "Espresso"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----fa87d3a67752---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffa87d3a67752&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-shape-of-coffee-fa87d3a67752&user=Robert+McKeon+Aloe&userId=ae592466d35f&source=-----fa87d3a67752---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffa87d3a67752&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-shape-of-coffee-fa87d3a67752&user=Robert+McKeon+Aloe&userId=ae592466d35f&source=-----fa87d3a67752---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffa87d3a67752&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-shape-of-coffee-fa87d3a67752&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fa87d3a67752--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ffa87d3a67752&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-shape-of-coffee-fa87d3a67752&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----fa87d3a67752---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----fa87d3a67752--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----fa87d3a67752--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----fa87d3a67752--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----fa87d3a67752--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----fa87d3a67752--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----fa87d3a67752--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----fa87d3a67752--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----fa87d3a67752--------------------------------", "anchor_text": ""}, {"url": "https://rmckeon.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://rmckeon.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Robert McKeon Aloe"}, {"url": "https://rmckeon.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.5K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fae592466d35f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-shape-of-coffee-fa87d3a67752&user=Robert+McKeon+Aloe&userId=ae592466d35f&source=post_page-ae592466d35f--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F20a8b82df372&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-shape-of-coffee-fa87d3a67752&newsletterV3=ae592466d35f&newsletterV3Id=20a8b82df372&user=Robert+McKeon+Aloe&userId=ae592466d35f&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}