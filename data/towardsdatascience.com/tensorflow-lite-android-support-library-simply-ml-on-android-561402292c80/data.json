{"url": "https://towardsdatascience.com/tensorflow-lite-android-support-library-simply-ml-on-android-561402292c80", "time": 1682993145.91945, "path": "towardsdatascience.com/tensorflow-lite-android-support-library-simply-ml-on-android-561402292c80/", "webpage": {"metadata": {"title": "TensorFlow Lite Android Support Library: Simplify ML On Android | by Shubham Panchal | Towards Data Science", "h1": "TensorFlow Lite Android Support Library: Simplify ML On Android", "description": "Everyone loves TensorFlow and even more when you can run a TF model on Android directly. We all use TensorFlow Lite on Android and we have a couple of CodeLabs on it too. Using the Interpreter class\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.tensorflow.org/", "anchor_text": "TensorFlow", "paragraph_index": 3}, {"url": "https://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite/experimental/support/java", "anchor_text": "TensorFlow Lite Android Support Library", "paragraph_index": 3}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/tensorbuffer/TensorBuffer.java", "anchor_text": "TensorBuffer", "paragraph_index": 6}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/image/ops/ResizeOp.java", "anchor_text": "ResizeOp", "paragraph_index": 9}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/image/ops/ResizeWithCropOrPadOp.java", "anchor_text": "ResizeWithCropOrPadOp", "paragraph_index": 9}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/image/ops/Rot90Op.java", "anchor_text": "Rot900p", "paragraph_index": 9}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/image/ImageProcessor.java", "anchor_text": "ImageProcessor", "paragraph_index": 10}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/image/TensorImage.java", "anchor_text": "TensorImage", "paragraph_index": 12}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/common/TensorProcessor.java", "anchor_text": "TensorProcessor", "paragraph_index": 13}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/common/ops/NormalizeOp.java", "anchor_text": "NormalizeOp", "paragraph_index": 13}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/common/ops/CastOp.java", "anchor_text": "CastOp", "paragraph_index": 13}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/common/ops/QuantizeOp.java", "anchor_text": "QuantizeOp", "paragraph_index": 13}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/common/ops/DequantizeOp.java", "anchor_text": "DequantizeOp", "paragraph_index": 13}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/common/TensorOperator.java", "anchor_text": "TensorOperator", "paragraph_index": 15}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/common/FileUtil.java", "anchor_text": "FileUtil.loadMappedFile()", "paragraph_index": 16}], "all_paragraphs": ["Everyone loves TensorFlow and even more when you can run a TF model on Android directly. We all use TensorFlow Lite on Android and we have a couple of CodeLabs on it too. Using the Interpreter class on Android, we are currently running our .tflite models in apps.", "But we have to do a lot before that, right? If we\u2019re performing an image classification task, you\u2019ll probably get a Bitmap or an Image object from the Camera library and then we transform it into a float[][][] or a byte[] . Then we load our model from the assets folder as a MappedByteBuffer . After calling interpreter.run() , we get the class probabilities, on which we perform the argmax() operation and then finally get a label from the labels.txt file.", "This is the traditional approach which we developers follow and there\u2019s no other way round.", "The TensorFlow team has released the TensorFlow Lite Android Support Library to solve the tedious tasks of preprocessing. The GitHub page gives an intuition of their aim,", "Mobile application developers typically interact with typed objects such as bitmaps or primitives such as integers. However, the TensorFlow Lite Interpreter that runs the on-device machine learning model uses tensors in the form of ByteBuffer, which can be difficult to debug and manipulate. The TensorFlow Lite Android Support Library is designed to help process the input and output of TensorFlow Lite models, and make the TensorFlow Lite interpreter easier to use.", "First, we need to get this right in our Android project. Remembering build.gradle file? Right! We\u2019ll add these dependencies in our app-level build.gradle file,", "The first step in running a TFLite model is to create some array object which can store the inputs for our model as well the outputs which the model will produce. To make our lives easier and less struggling with float[] objects, TF Support Library includes a TensorBuffer class that takes in the shape of the desired array and its data type.", "Note: As of 1st pril 2020, only DataType.FLOAT32 and DataType.UINT8 are supported.", "You can even create a TensorBuffer object from an existing TensorBuffer object by modifying its data type,", "If you\u2019re working with object detection, image classification or other images -related models, you need to work on Bitmap and resize it or normalize it. We have three ops for this namely, ResizeOp , ResizeWithCropOrPadOp and Rot900p .", "First, we define our preprocessing pipeline using the ImageProcessor class.", "Question: What are BILINEAR and NEAREST_NEIGHBOR methods?", "Next, create a TensorImage object and process the image.", "Normalization of image arrays is necessary for almost all models to be it image classification models or regression models. For processing tensors, we have a TensorProcessor . Along with NormalizeOp we have CastOp , QuantizeOp and DequantizeOp .", "Answer: The process of converting an actual range of values into a standard range of values, typically -1 to +1 or 0 to 1. For example, suppose the natural range of a certain feature is 800 to 6,000. Through subtraction and division, you can normalize those values into the range -1 to +1.", "Also, we have the freedom to build custom ops by implementing TensorOperator class, as shown below.", "We can easily load our .tflite model using the FileUtil.loadMappedFile() method. Similarly, we can load the labels from a InputStream or from the assets folder.", "And then perform inference using Interpreter.run() ,", "I hope you liked the new TensorFlow Lite Android Support Library. This was a quick review of what\u2019s inside but try exploring it yourself too. Thanks for reading!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "\ud83d\ude07 Loves Android and ML, \ud83d\udca1 answering your thought-provoking questions in ML intuitively, \ud83d\udc68\u200d\ud83c\udf93 aspiring ML researcher"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F561402292c80&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-lite-android-support-library-simply-ml-on-android-561402292c80&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-lite-android-support-library-simply-ml-on-android-561402292c80&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-lite-android-support-library-simply-ml-on-android-561402292c80&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-lite-android-support-library-simply-ml-on-android-561402292c80&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----561402292c80--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----561402292c80--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://equipintelligence.medium.com/?source=post_page-----561402292c80--------------------------------", "anchor_text": ""}, {"url": "https://equipintelligence.medium.com/?source=post_page-----561402292c80--------------------------------", "anchor_text": "Shubham Panchal"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd45a9465f044&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-lite-android-support-library-simply-ml-on-android-561402292c80&user=Shubham+Panchal&userId=d45a9465f044&source=post_page-d45a9465f044----561402292c80---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F561402292c80&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-lite-android-support-library-simply-ml-on-android-561402292c80&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F561402292c80&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-lite-android-support-library-simply-ml-on-android-561402292c80&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@bensow?utm_source=medium&utm_medium=referral", "anchor_text": "Benjamin Sow"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.tensorflow.org/lite", "anchor_text": "Source"}, {"url": "https://www.tensorflow.org/", "anchor_text": "TensorFlow"}, {"url": "https://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite/experimental/support/java", "anchor_text": "TensorFlow Lite Android Support Library"}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/tensorbuffer/TensorBuffer.java", "anchor_text": "TensorBuffer"}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/image/ops/ResizeOp.java", "anchor_text": "ResizeOp"}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/image/ops/ResizeWithCropOrPadOp.java", "anchor_text": "ResizeWithCropOrPadOp"}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/image/ops/Rot90Op.java", "anchor_text": "Rot900p"}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/image/ImageProcessor.java", "anchor_text": "ImageProcessor"}, {"url": "https://support.esri.com/en/technical-article/000005606", "anchor_text": "this"}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/image/TensorImage.java", "anchor_text": "TensorImage"}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/common/TensorProcessor.java", "anchor_text": "TensorProcessor"}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/common/ops/NormalizeOp.java", "anchor_text": "NormalizeOp"}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/common/ops/CastOp.java", "anchor_text": "CastOp"}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/common/ops/QuantizeOp.java", "anchor_text": "QuantizeOp"}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/common/ops/DequantizeOp.java", "anchor_text": "DequantizeOp"}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/common/TensorOperator.java", "anchor_text": "TensorOperator"}, {"url": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/experimental/support/java/src/java/org/tensorflow/lite/support/common/FileUtil.java", "anchor_text": "FileUtil.loadMappedFile()"}, {"url": "https://medium.com/tag/android?source=post_page-----561402292c80---------------android-----------------", "anchor_text": "Android"}, {"url": "https://medium.com/tag/android-app-development?source=post_page-----561402292c80---------------android_app_development-----------------", "anchor_text": "Android App Development"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----561402292c80---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----561402292c80---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/tensorflow?source=post_page-----561402292c80---------------tensorflow-----------------", "anchor_text": "TensorFlow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F561402292c80&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-lite-android-support-library-simply-ml-on-android-561402292c80&user=Shubham+Panchal&userId=d45a9465f044&source=-----561402292c80---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F561402292c80&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-lite-android-support-library-simply-ml-on-android-561402292c80&user=Shubham+Panchal&userId=d45a9465f044&source=-----561402292c80---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F561402292c80&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-lite-android-support-library-simply-ml-on-android-561402292c80&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----561402292c80--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F561402292c80&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-lite-android-support-library-simply-ml-on-android-561402292c80&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----561402292c80---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----561402292c80--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----561402292c80--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----561402292c80--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----561402292c80--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----561402292c80--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----561402292c80--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----561402292c80--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----561402292c80--------------------------------", "anchor_text": ""}, {"url": "https://equipintelligence.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://equipintelligence.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Shubham Panchal"}, {"url": "https://equipintelligence.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.1K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd45a9465f044&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-lite-android-support-library-simply-ml-on-android-561402292c80&user=Shubham+Panchal&userId=d45a9465f044&source=post_page-d45a9465f044--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F55bcc27ba160&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftensorflow-lite-android-support-library-simply-ml-on-android-561402292c80&newsletterV3=d45a9465f044&newsletterV3Id=55bcc27ba160&user=Shubham+Panchal&userId=d45a9465f044&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}