{"url": "https://towardsdatascience.com/la-metro-bike-share-data-part-2-quadratic-optimization-with-scipy-394ab69dbc00", "time": 1682993862.591912, "path": "towardsdatascience.com/la-metro-bike-share-data-part-2-quadratic-optimization-with-scipy-394ab69dbc00/", "webpage": {"metadata": {"title": "LA Metro Bike Share Data Part 2\u2014Quadratic Optimization with SciPy | by Finn Qiao | Towards Data Science", "h1": "LA Metro Bike Share Data Part 2\u2014Quadratic Optimization with SciPy", "description": "In part 1, we cleaned the dataset and ran a simple linear optimization model through pulp. It was during the end of writing part 1 that 2018 Q3 figures were released for LA Metro Bikes. It might just\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/la-metro-bike-share-data-part-1-linear-optimization-with-pulp-bc8ed4c85cd2", "anchor_text": "part 1", "paragraph_index": 0}, {"url": "https://github.com/finnqiao/la_metro_bikeshare_data/blob/master/notebooks/la_metro_part_2.ipynb", "anchor_text": "Github", "paragraph_index": 41}, {"url": "https://www.linkedin.com/in/finnqiao/", "anchor_text": "LinkedIn", "paragraph_index": 41}], "all_paragraphs": ["In part 1, we cleaned the dataset and ran a simple linear optimization model through pulp. It was during the end of writing part 1 that 2018 Q3 figures were released for LA Metro Bikes.", "It might just be an additional data point but we can now fit a rudimentary linear demand curve for model constraints to allow price and demand to fluctuate.", "Before we derive the curves, we determine some constants used in the subsequent analysis.", "Multiple other operators have entered the bike/scooter sharing market recently. Names such as Bird, Lime, and Jump should be familiar to most living in the LA area.", "As seen from competitors, there are multiple ways in which the pricing scheme can be structured. Some options that we could implement and compare are as follows:", "To benchmark the pricing against other operators of bikes and scooters, let\u2019s plot out the different pricing curves for all operators.", "Looking at the different pricing schemes across bike and scooter operators in LA, the current pricing that was just enacted by LA Metro is definitely the cheapest, coming in at $3.50 for an hour long bike ride.", "The next cheapest option is the Lime pedal bike, which is cheaper than walk on riders on LA metro for rides shorter than 15 minutes and for rides between 30 and 50 minutes.", "We will thus set the upper bound on prices and use them as constants in our optimization model:", "2018 Q2 was the last datapoint before the price change and 2018 Q3 was the first after. We set y as price for every 30 minute ride and x as the total number of rides in that quarter.", "Using a simple slope estimation we get the following:", "What if we broke down demand by customer segments?", "We can see the new annual pass hasn\u2019t quite caught on yet, with only 12 passes sold in the pass quarter. The $150 price point might be a little steep up front.", "It is also interesting to note how the price drop hasn\u2019t really impacted any of the pass holders but has almost doubled the number of walk-up riders.", "Let\u2019s see what the other demand curves look like.", "It is interesting to note how a typical demand curve with a negative slope is only seen for walk-up riders. Given the drastic cut in rates from $3.50 to $1.75 it seems that many riders simply started being walk-up riders instead of purchasing the passes. Since prices for passes did not fall proportionately to the fall in prices for half hourly rates, it became more economical to forgo the passes.", "We start off with defining the objective function as we did in PuLP.", "While we \u201cadd\u201d all the model components to a problem within PuLP to create a model, SciPy optimize simply requires creating functions for the objective function and various constraints before passing them in as parameters to the minimize function.", "As a quadratic optimization problem is naturally a minimization problem, we return the total revenue as \u2018-total_revenue\u2019 with a negative sign to obtain the maximum.", "Also note that only one parameter is in the objective function and every variable you initiate is simply indexed from this list passed in.", "Constraints are similarly defined as individual functions with the same indexing of individual variables.", "A dictionary is then created to label the type of constraint and list all the individual constraints.", "Bounds are represented by tuples. For example, b1 would represent by upper and lower bound for the rate charged. 1.5 represents the lower bound of the rate and 2.5 represents the higher bound of the rate.", "b2 represents the range of the total number of rides. The upper limit of 140,000 was chosen it seems unrealistic for total rides to double given the current market landscape.", "The bounds are then added to a tuple to pass into the minimize function as a function parameter.", "x0 refers to your initial guess of the variables. Here we pick the current pricing and total rides values to use as our initial guess.", "Once all function parameters have been created, we can pass them to the minimize() function within optimize.", "From this optimization, it seems that revenue is optimized when price is set at $1.50 for every half hour. This would increase total rides to 97,844.", "It seems that the negative demand slope meant that reducing prices to the lower bound was the most effect revenue maximizing strategy.", "What if we adjusted the bounds on the variables? What if minimum price was allowed to drop further below $1? What if competition was fiercer than expected and maximum ride growth was limited to below 100,000 rides?", "We add the following bounds to a sensitivity analysis:", "Looping through all combinations of the above price and rider ranges, we obtain the following total revenue numbers:", "With the given demand curve, it seems that adopting the lowest possible price of $1 results in a maximum of 102,966 rides. It also results in the highest possible revenue of $1,678,530.", "Across the board, it seems that as long as we are able to attract more than 100,000 rides, the strategy should be to reduce prices. Given what we\u2019re seeing here, perhaps the drastic drop of 50% from the previous pricing scheme was justified.", "What if we created a new model based on segmented demand curves? The formulated constraints would look something like this:", "As the previous annual pass/Flex pass was cancelled, the demand curve for annual pass might not be as relevant.", "Reformulating the objective and solving this new equation yields a lower optimum price for walk-up rides and a price for other groups that near the upper bound for price.", "However, for each iteration we obtain the following message:", "It seems that with our current formulation, the optimizer was unable to find a descent direction that decreased the objective function quickly enough. Ultimately, this means that it is unlikely that the result is optimal.", "Given the rough demand estimates for each pass type, it would be helpful to wait for more data on new prices to come out to fit a better demand model across the different segments.", "Furthermore, an improvement in the model formulation could help us incorporate other variable data like minute-based pricing that we had determined above.", "In the next part, we look at more geographical based data and inventory from the cleaned dataset. Thanks for reading! The notebook can be found on Github and feel free to connect on LinkedIn!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Food \u00b7 Travel \u00b7 Technology \u00b7 Product \u00b7 Strategy"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F394ab69dbc00&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-metro-bike-share-data-part-2-quadratic-optimization-with-scipy-394ab69dbc00&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-metro-bike-share-data-part-2-quadratic-optimization-with-scipy-394ab69dbc00&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-metro-bike-share-data-part-2-quadratic-optimization-with-scipy-394ab69dbc00&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-metro-bike-share-data-part-2-quadratic-optimization-with-scipy-394ab69dbc00&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----394ab69dbc00--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----394ab69dbc00--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@finnqiao?source=post_page-----394ab69dbc00--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@finnqiao?source=post_page-----394ab69dbc00--------------------------------", "anchor_text": "Finn Qiao"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F511a811ea993&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-metro-bike-share-data-part-2-quadratic-optimization-with-scipy-394ab69dbc00&user=Finn+Qiao&userId=511a811ea993&source=post_page-511a811ea993----394ab69dbc00---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F394ab69dbc00&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-metro-bike-share-data-part-2-quadratic-optimization-with-scipy-394ab69dbc00&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F394ab69dbc00&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-metro-bike-share-data-part-2-quadratic-optimization-with-scipy-394ab69dbc00&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/la-metro-bike-share-data-part-1-linear-optimization-with-pulp-bc8ed4c85cd2", "anchor_text": "part 1"}, {"url": "https://github.com/finnqiao/la_metro_bikeshare_data/blob/master/notebooks/la_metro_part_2.ipynb", "anchor_text": "Github"}, {"url": "https://www.linkedin.com/in/finnqiao/", "anchor_text": "LinkedIn"}, {"url": "https://medium.com/tag/python?source=post_page-----394ab69dbc00---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----394ab69dbc00---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/economics?source=post_page-----394ab69dbc00---------------economics-----------------", "anchor_text": "Economics"}, {"url": "https://medium.com/tag/technology?source=post_page-----394ab69dbc00---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/tech?source=post_page-----394ab69dbc00---------------tech-----------------", "anchor_text": "Tech"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F394ab69dbc00&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-metro-bike-share-data-part-2-quadratic-optimization-with-scipy-394ab69dbc00&user=Finn+Qiao&userId=511a811ea993&source=-----394ab69dbc00---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F394ab69dbc00&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-metro-bike-share-data-part-2-quadratic-optimization-with-scipy-394ab69dbc00&user=Finn+Qiao&userId=511a811ea993&source=-----394ab69dbc00---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F394ab69dbc00&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-metro-bike-share-data-part-2-quadratic-optimization-with-scipy-394ab69dbc00&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----394ab69dbc00--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F394ab69dbc00&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-metro-bike-share-data-part-2-quadratic-optimization-with-scipy-394ab69dbc00&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----394ab69dbc00---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----394ab69dbc00--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----394ab69dbc00--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----394ab69dbc00--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----394ab69dbc00--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----394ab69dbc00--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----394ab69dbc00--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----394ab69dbc00--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----394ab69dbc00--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@finnqiao?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@finnqiao?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Finn Qiao"}, {"url": "https://medium.com/@finnqiao/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "609 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F511a811ea993&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-metro-bike-share-data-part-2-quadratic-optimization-with-scipy-394ab69dbc00&user=Finn+Qiao&userId=511a811ea993&source=post_page-511a811ea993--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3294a2317ce2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fla-metro-bike-share-data-part-2-quadratic-optimization-with-scipy-394ab69dbc00&newsletterV3=511a811ea993&newsletterV3Id=3294a2317ce2&user=Finn+Qiao&userId=511a811ea993&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}