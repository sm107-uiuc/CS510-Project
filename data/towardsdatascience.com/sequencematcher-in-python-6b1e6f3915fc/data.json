{"url": "https://towardsdatascience.com/sequencematcher-in-python-6b1e6f3915fc", "time": 1682995786.330513, "path": "towardsdatascience.com/sequencematcher-in-python-6b1e6f3915fc/", "webpage": {"metadata": {"title": "SequenceMatcher in Python. A human-friendly longest contiguous &\u2026 | by Nikhil Jaiswal | Towards Data Science", "h1": "SequenceMatcher in Python", "description": "SequenceMatcher is a class available in python module named \u201cdifflib\u201d. It can be used for comparing pairs of input sequences. The objective of this article is to explain the SequenceMatcher algorithm\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.geeksforgeeks.org/longest-common-subsequence-dp-4/", "anchor_text": "LCS", "paragraph_index": 2}, {"url": "https://stackoverflow.com/questions/35517353/how-does-pythons-sequencematcher-work", "anchor_text": "stack overflow", "paragraph_index": 2}, {"url": "https://github.com/python/cpython/blob/master/Lib/difflib.py", "anchor_text": "official site", "paragraph_index": 15}, {"url": "https://github.com/python/cpython/blob/master/Lib/difflib.py", "anchor_text": "official code", "paragraph_index": 28}], "all_paragraphs": ["SequenceMatcher is a class available in python module named \u201cdifflib\u201d. It can be used for comparing pairs of input sequences. The objective of this article is to explain the SequenceMatcher algorithm through an illustrative example. Due to the limited docs available, I thought to share the concept through a step by step example which can help the reader in understanding the entire procedure in a lucid manner.", "The basic idea is to find the longest contiguous matching subsequence (LCS) that contains no \u201cjunk\u201d elements. This does not yield minimal edit sequences, but does tend to yield matches that \u201clook right\u201d to people.", "Wait a second. There are so many technical terms described in the above paragraph. Let\u2019s decode them sequentially. I hope anyone reading this article is aware of the algorithm LCS. Basically, the aim of LCS is: Given two sequences, find the length of the longest subsequence present in both of them. Here also, we are trying to find something similar to LCS between a pair of sequence but they are not 100% mathematically elegant. In other words, the result should be more pleasing to the user, that\u2019s why it has been termed as a match that \u201clook right\u201d to people. To avoid any early confusion, let\u2019s observe an example which I found on stack overflow to understand the difference between the two.", "Input Strings: my stackoverflow mysteries AND mystery", "To anyone, the natural match is \"myster\" as follows:", "This, in fact, is what the SequenceMatcher algorithm returns as its output when it processes the above strings.", "However, the LCS will output \"mystery\"", "Since longer common subsequences may appear less natural to a human expert than a shorter one. Therefore we argue the fact that SequenceMatcher tries to find out the output which is more human-friendly.", "Moving ahead, next comes the concept of \u201cjunk\u201d elements. \u201cjunk\u201d are things you don\u2019t want the algorithm to match on: like blank lines in ordinary text files, or maybe \u201c<P>\u201d lines in HTML file, etc.", "A SequenceMatcher object is initialized as:", "isjunk parameter gives you the option to define any element which you want the algorithm to consider as junk.", "> If isjunk is not defined:", "> If isjunk is defined considering blanks to be junk :", "Considering blank as junk prevents \u201c abcd\u201d from matching the \u201c abcd\u201d at the tail end of the second sequence directly. Instead only the \u201cabcd\u201d can match, and matches the leftmost \u201cabcd\u201d in the second sequence.", "Given two input strings a and b,", "Before diving into the example, let\u2019s understand a bit more about the above two important functions which will surely help us in understanding the concepts flawlessly. I have tried to explain only the important part in a trouble-free way. For the complete python code, the reader is advised to visit the official site", "Basically, a queue is maintained which is initialized with a quadruple containing the indices of upper and lower bound of both the input strings. Until a quadruple is available in the queue, it is popped out and is passed to find_longest_match( ) function which returns the triple describing matching subsequence. The triple is added to the matching_blocks list.", "The pieces of the sequences to the left and to the right of the matching subsequence are added further to the queue. The process is repeated until the queue is empty.", "The matching_blocks list is then sorted and is returned as the output.", "This takes as input the quadruple containing the upper and lower bound indices of strings and returns the triple containing the longest matching block.", "First of all, a dictionary b2j is defined where for x in string b, b2j[x] is a list of the indices (into b) at which x appears.", "Now scanning the first string character-wise in the outer loop, we check for the occurrence of that character in string b using b2j. If there is a match, we update another dictionary newj2len which helps in keeping account of the length of the string matched so far. And accordingly, the variables besti, bestj and bestsize are updated which keeps into account the longest matching block data obtained so far.", "Of all the maximal matching blocks, the algorithm returns the one that starts earliest in a, and of all those maximal matching blocks that start earliest in a, it returns the one that starts earliest in b.", "I guess that\u2019s enough of theory required, now let\u2019s dive into an example which will help us in understanding the entire working in detail.", "Let\u2019s describe the step by step procedure of the algorithm by implementing it using an input pair of strings.", "As a rule of thumb, a ratio( ) value over 0.6 means the sequences are close matches. Here, as calculated we have achieved the similarity score ratio of 0.8, hence the input pair of sequences are treated as similar.", "Just to cross-verify our calculated result, let\u2019s run the SequenceMatcher in python.", "Hurray !!! We have achieved the expected output.", "I hope walking through the above example must have helped the reader to gain insight into the working of the sequences similarity algorithm. Apart from similarity, there are many other functionalities available in the SequenceMatcher Class. Readers are suggested to visit the official code.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F6b1e6f3915fc&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsequencematcher-in-python-6b1e6f3915fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsequencematcher-in-python-6b1e6f3915fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsequencematcher-in-python-6b1e6f3915fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsequencematcher-in-python-6b1e6f3915fc&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----6b1e6f3915fc--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6b1e6f3915fc--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@nikhiljaiswal_9475?source=post_page-----6b1e6f3915fc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nikhiljaiswal_9475?source=post_page-----6b1e6f3915fc--------------------------------", "anchor_text": "Nikhil Jaiswal"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3dd29ea0662e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsequencematcher-in-python-6b1e6f3915fc&user=Nikhil+Jaiswal&userId=3dd29ea0662e&source=post_page-3dd29ea0662e----6b1e6f3915fc---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6b1e6f3915fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsequencematcher-in-python-6b1e6f3915fc&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6b1e6f3915fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsequencematcher-in-python-6b1e6f3915fc&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/python/cpython/blob/master/Lib/difflib.py", "anchor_text": "original documentation"}, {"url": "https://www.geeksforgeeks.org/longest-common-subsequence-dp-4/", "anchor_text": "LCS"}, {"url": "https://stackoverflow.com/questions/35517353/how-does-pythons-sequencematcher-work", "anchor_text": "stack overflow"}, {"url": "https://github.com/python/cpython/blob/master/Lib/difflib.py", "anchor_text": "official site"}, {"url": "https://github.com/python/cpython/blob/master/Lib/difflib.py", "anchor_text": "official code"}, {"url": "https://github.com/python/cpython/blob/master/Lib/difflib.py", "anchor_text": "https://github.com/python/cpython/blob/master/Lib/difflib.py"}, {"url": "https://medium.com/tag/programming?source=post_page-----6b1e6f3915fc---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/python?source=post_page-----6b1e6f3915fc---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/string-compare?source=post_page-----6b1e6f3915fc---------------string_compare-----------------", "anchor_text": "String Compare"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6b1e6f3915fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsequencematcher-in-python-6b1e6f3915fc&user=Nikhil+Jaiswal&userId=3dd29ea0662e&source=-----6b1e6f3915fc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F6b1e6f3915fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsequencematcher-in-python-6b1e6f3915fc&user=Nikhil+Jaiswal&userId=3dd29ea0662e&source=-----6b1e6f3915fc---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F6b1e6f3915fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsequencematcher-in-python-6b1e6f3915fc&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----6b1e6f3915fc--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F6b1e6f3915fc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsequencematcher-in-python-6b1e6f3915fc&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----6b1e6f3915fc---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----6b1e6f3915fc--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----6b1e6f3915fc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----6b1e6f3915fc--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----6b1e6f3915fc--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----6b1e6f3915fc--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----6b1e6f3915fc--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----6b1e6f3915fc--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----6b1e6f3915fc--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nikhiljaiswal_9475?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nikhiljaiswal_9475?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Nikhil Jaiswal"}, {"url": "https://medium.com/@nikhiljaiswal_9475/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "84 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3dd29ea0662e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsequencematcher-in-python-6b1e6f3915fc&user=Nikhil+Jaiswal&userId=3dd29ea0662e&source=post_page-3dd29ea0662e--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2F3dd29ea0662e%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsequencematcher-in-python-6b1e6f3915fc&user=Nikhil+Jaiswal&userId=3dd29ea0662e&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}