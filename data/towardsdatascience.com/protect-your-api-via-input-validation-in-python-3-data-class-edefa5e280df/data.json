{"url": "https://towardsdatascience.com/protect-your-api-via-input-validation-in-python-3-data-class-edefa5e280df", "time": 1683003058.2699609, "path": "towardsdatascience.com/protect-your-api-via-input-validation-in-python-3-data-class-edefa5e280df/", "webpage": {"metadata": {"title": "Protect your API via Input Validation in Python 3 Data Class | by billydharmawan | Towards Data Science", "h1": "Protect your API via Input Validation in Python 3 Data Class", "description": "When building a web API, it is inevitable that we need to protect it or else it might be exploited by malicious users. One way is to do input validation of the request body the API receives. If it is\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["When building a web API, it is inevitable that we need to protect it or else it might be exploited by malicious users. One way is to do input validation of the request body the API receives. If it is a bad input, for example, our API expects an email address but is given an address, then, our API would (or should) reject the data and return a status code of 400 \u2014 BAD REQUEST.", "Input validation on the server side must be done on top of the one on client side. The reason is that the data coming from the client side can not be trusted because anything can happen to the data before it reaches the server, for example, Man in the Middle (MITM) attack. Also, remember that the request can come from anywhere, for example, Postman or curl, and not just from your web and/or mobile app.", "You will learn how to model your API request body using Python 3\u2019s dataclass and do input validation on it using marshmallow-dataclass package.", "The use case we will go through in this tutorial is an API that accepts an email address as its input and creates a new user account based on the email address if it does not yet exist in the user database.", "The system details for this tutorial:", "There are two dependency packages that need to be installed:", "Let\u2019s go ahead and install them on your Python project\u2019s virtual environment.", "As mentioned earlier, we are going to use Python 3\u2019s dataclass to model our API request body. The input is an email address. Go ahead and create the basic dataclass without any input validation to start with.", "Next, we will also add @dataclass_json decorator to be able to deserialise a json request body to the CreateUser data class.", "Now, if we try to pass any kind of input to CreateUser, it will just accept it.", "This isn\u2019t good, is it? \ud83d\ude30", "Let\u2019s see how we can improve it in the next section.", "We are going to add a validator to our emailAddress field of CreateUser data class.", "Now, go ahead and try to create objects of CreateUser by passing different input values.", "Unfortunately, our CreateUser data class still accepts any types of input. \ud83d\ude26", "The way the input validation is meant to work is via a schema that represents the dataclass we are interested in. In the previous section, we had not created the schema yet, that is why the validation did not work.", "To create the schema for CreateUser, we need to use marshmallow_dataclass.", "Also, the way we initialise a CreateUser object needs to be adjusted to make use of the CreateUserSchema schema we just generated.", "Our input validation works with CreateUserSchema. This way, our API will be protected from junk input that is not a valid email address. \ud83d\ude42", "Lastly, I want to show you how we can automate the creation of the schema from the dataclass.", "To do this, we need to use the @dataclass decorator that is provided by marshmallow_dataclass package, which behaves just like the @dataclass decorator in the Python 3.x\u2019s standard dataclasses library.", "Let\u2019s modify our CreateUser data class and remove the CreateUserSchema as its creation will be automated.", "Let\u2019s see how to create a CreateUser object using our modified CreateUser data class.", "Our code is much simpler now and the input validation works as expected. We did it, guys! \ud83d\udcaa", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "An ordinary man trying to leave a good legacy on earth"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fedefa5e280df&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprotect-your-api-via-input-validation-in-python-3-data-class-edefa5e280df&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprotect-your-api-via-input-validation-in-python-3-data-class-edefa5e280df&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprotect-your-api-via-input-validation-in-python-3-data-class-edefa5e280df&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprotect-your-api-via-input-validation-in-python-3-data-class-edefa5e280df&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----edefa5e280df--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----edefa5e280df--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://billydharmawan.medium.com/?source=post_page-----edefa5e280df--------------------------------", "anchor_text": ""}, {"url": "https://billydharmawan.medium.com/?source=post_page-----edefa5e280df--------------------------------", "anchor_text": "billydharmawan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F201d9c61a29a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprotect-your-api-via-input-validation-in-python-3-data-class-edefa5e280df&user=billydharmawan&userId=201d9c61a29a&source=post_page-201d9c61a29a----edefa5e280df---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fedefa5e280df&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprotect-your-api-via-input-validation-in-python-3-data-class-edefa5e280df&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fedefa5e280df&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprotect-your-api-via-input-validation-in-python-3-data-class-edefa5e280df&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@gaspanik?utm_source=medium&utm_medium=referral", "anchor_text": "Masaaki Komori"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://unsplash.com/@japhethmast?utm_source=medium&utm_medium=referral", "anchor_text": "Japheth Mast"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/software-development?source=post_page-----edefa5e280df---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/software-engineering?source=post_page-----edefa5e280df---------------software_engineering-----------------", "anchor_text": "Software Engineering"}, {"url": "https://medium.com/tag/programming?source=post_page-----edefa5e280df---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/python?source=post_page-----edefa5e280df---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/technology?source=post_page-----edefa5e280df---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fedefa5e280df&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprotect-your-api-via-input-validation-in-python-3-data-class-edefa5e280df&user=billydharmawan&userId=201d9c61a29a&source=-----edefa5e280df---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fedefa5e280df&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprotect-your-api-via-input-validation-in-python-3-data-class-edefa5e280df&user=billydharmawan&userId=201d9c61a29a&source=-----edefa5e280df---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fedefa5e280df&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprotect-your-api-via-input-validation-in-python-3-data-class-edefa5e280df&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----edefa5e280df--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fedefa5e280df&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprotect-your-api-via-input-validation-in-python-3-data-class-edefa5e280df&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----edefa5e280df---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----edefa5e280df--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----edefa5e280df--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----edefa5e280df--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----edefa5e280df--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----edefa5e280df--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----edefa5e280df--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----edefa5e280df--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----edefa5e280df--------------------------------", "anchor_text": ""}, {"url": "https://billydharmawan.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://billydharmawan.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "billydharmawan"}, {"url": "https://billydharmawan.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "509 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F201d9c61a29a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprotect-your-api-via-input-validation-in-python-3-data-class-edefa5e280df&user=billydharmawan&userId=201d9c61a29a&source=post_page-201d9c61a29a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8ac392f5a205&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprotect-your-api-via-input-validation-in-python-3-data-class-edefa5e280df&newsletterV3=201d9c61a29a&newsletterV3Id=8ac392f5a205&user=billydharmawan&userId=201d9c61a29a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}