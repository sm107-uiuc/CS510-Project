{"url": "https://towardsdatascience.com/segmentation-of-online-shop-customers-8c304a2d84b4", "time": 1683008168.006696, "path": "towardsdatascience.com/segmentation-of-online-shop-customers-8c304a2d84b4/", "webpage": {"metadata": {"title": "Segmentation of Online Shop Customers | by Andreas St\u00f6ckl | Towards Data Science", "h1": "Segmentation of Online Shop Customers", "description": "In this article I will describe how we can segment customers based on web analytics data from an online shop. Based on the results, on-site personalization can be realized and targeted campaigns can\u2026"}, "outgoing_paragraph_urls": [{"url": "https://colab.research.google.com/", "anchor_text": "Google Colab", "paragraph_index": 1}, {"url": "https://www.kaggle.com/mkechinov/ecommerce-behavior-data-from-multi-category-store", "anchor_text": "Kaggle data platform", "paragraph_index": 2}, {"url": "http://www.stoeckl.ai/profil/", "anchor_text": "http://www.stoeckl.ai/profil/", "paragraph_index": 36}], "all_paragraphs": ["In this article I will describe how we can segment customers based on web analytics data from an online shop. Based on the results, on-site personalization can be realized and targeted campaigns can be started for the users in the segments.", "On the way there, we will first explore the data in more detail (\u201cExplorative Data Analysis\u201d), then do suitable preprocessing of the data, calculate the segmentation, and finally visualize the clusters. For the calculations we will use Google Colab.", "The data is from the Kaggle data platform and contains web tracking data for one month (Oct. 2019) from a large multi-category online shop. Each line in the file represents an event. There are different types of events, such as page views, shopping cart actions, and purchases.", "The data is available as a CSV file as an export from a customer database platform for analysis.", "There are over 42 million records available for the month of October 2019.", "This data comes from over 3 million visitors. Over 166,000 different products were purchased.", "To show an example of a customer visit, we look at all entries that exist for a certain Session_id and try to interpret them:", "To view all actions of a specific user in that month, we filter all records with his User ID.", "How many events were recorded in the web analysis on each day?", "Which events occur in the data, how often?", "The majority of the data consists of page views 96%, the rest of the data consists of shopping cart and purchase actions.", "We calculate the most important features for each visitor and put them together in a table.", "In the next step, we filter the purchases from the data in order to be able to analyze them more precisely. We save the result in a separate table.", "How many products are purchased by one buyer?What is the average purchase value per buyer?", "On average, each buyer makes slightly more than 2 purchases.The average buying value per buyer is 773.85.", "From which brands are products bought?Let\u2019s look at a bar chart of the top 10 brands.", "For further analysis, we group the purchases into groups of the most common brands (the top 5). And the rest into a group \u201cOthers\u201d.", "We calculate for each buyer the share of purchases in the 6 brand categories, and store them in the buyer table.", "The product category exists in the form of a hierarchical code. We extract the first level and save it as a separate characteristic.", "There are 13 main categories. We add the share of the purchase price in each of the main categories as additional features to the table of buyers.", "We now add the purchase characteristics to the table of all visitors, and thus obtain a table with all visitors and characteristics.", "So we have the data of 3,022,290 users, of which we have stored 27 characteristics each.", "In order to keep the calculation of the clusters and the visualization within limits, we will limit ourselves to the first 50,000 users in the following.", "Before we can start the calculations for clustering, we have to convert the data into the appropriate format as a 2-dimensional array.", "To ensure that all characteristics are present on a uniform size scale, the matrix is scaled by shifting by the mean value and dividing by the standard deviation.", "The \u201ck-Means method\u201d is used to calculate the segments. It is a method used for cluster analysis, where a set of objects has to form a number of k groups, which have to be given in advance.", "Since we are dealing with a very large amount of data, we use the \u201cmini-batch\u201d variant of the procedure, which uses only part of the data in each iteration to calculate the new cluster centers.", "We calculate the clustering for different k-values and then search for the best value. The calculated silhouette score is a measure of the quality of the clustering. The closer the value is to 1, the better the quality of the clustering. We use it to determine the number of clusters.", "Now we calculate the clusters with the determined optimal cluster number.", "And consider the number of customers allocated to each segment.", "To get an impression of the clustering, we create a visualization with the method \u201ctSNE\u201d. t-Distributed Stochastic Neighbor Embedding (tSNE) is a technique for dimensionality reduction and is particularly well suited for the visualization of high-dimensional data sets.", "to t-SNE with Python Example\nIntroductiontowardsdatascience.com", "Now let\u2019s calculate the visualization with a much smaller number of clusters. It is much more difficult for the procedure to separate the individual areas into different segments.", "In order to enable an interpretation of the segments, we create graphical representations that show, for example, the characteristics of categories for each segment at once as a \u201cradar chart\u201d. This can help to interpret the meaning of the segments.", "For example, a segment that has high purchase shares in the area of \u201cChildren\u201d and \u201cSports\u201d, and others with purchases in \u201cElectronics\u201d.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "University of Applied Sciences Upper Austria / School of Informatics, Communications and Media http://www.stoeckl.ai/profil/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F8c304a2d84b4&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsegmentation-of-online-shop-customers-8c304a2d84b4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsegmentation-of-online-shop-customers-8c304a2d84b4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsegmentation-of-online-shop-customers-8c304a2d84b4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsegmentation-of-online-shop-customers-8c304a2d84b4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----8c304a2d84b4--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8c304a2d84b4--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://andreasstckl.medium.com/?source=post_page-----8c304a2d84b4--------------------------------", "anchor_text": ""}, {"url": "https://andreasstckl.medium.com/?source=post_page-----8c304a2d84b4--------------------------------", "anchor_text": "Andreas St\u00f6ckl"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F740bbeed0647&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsegmentation-of-online-shop-customers-8c304a2d84b4&user=Andreas+St%C3%B6ckl&userId=740bbeed0647&source=post_page-740bbeed0647----8c304a2d84b4---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8c304a2d84b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsegmentation-of-online-shop-customers-8c304a2d84b4&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8c304a2d84b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsegmentation-of-online-shop-customers-8c304a2d84b4&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://colab.research.google.com/", "anchor_text": "Google Colab"}, {"url": "https://www.kaggle.com/mkechinov/ecommerce-behavior-data-from-multi-category-store", "anchor_text": "Kaggle data platform"}, {"url": "https://towardsdatascience.com/understanding-k-means-clustering-in-machine-learning-6a6e67336aa1", "anchor_text": "Understanding K-means Clustering in Machine LearningK-means clustering is one of the simplest and popular unsupervised machine learning algorithms.towardsdatascience.com"}, {"url": "https://medium.com/@jyotiyadav99111/selecting-optimal-number-of-clusters-in-kmeans-algorithm-silhouette-score-c0d9ebb11308", "anchor_text": "Selecting optimal number of clusters in KMeans Algorithm(Silhouette Score)KMeans is a unsupervised machine learning technique primarily used for the clubbing similar instances together. In case\u2026medium.com"}, {"url": "https://towardsdatascience.com/an-introduction-to-t-sne-with-python-example-5a3a293108d1", "anchor_text": "An Introduction to t-SNE with Python ExampleIntroductionto t-SNE with Python Example Introductiontowardsdatascience.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----8c304a2d84b4---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/online-marketing?source=post_page-----8c304a2d84b4---------------online_marketing-----------------", "anchor_text": "Online Marketing"}, {"url": "https://medium.com/tag/ebusiness?source=post_page-----8c304a2d84b4---------------ebusiness-----------------", "anchor_text": "Ebusiness"}, {"url": "https://medium.com/tag/visualization?source=post_page-----8c304a2d84b4---------------visualization-----------------", "anchor_text": "Visualization"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----8c304a2d84b4---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8c304a2d84b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsegmentation-of-online-shop-customers-8c304a2d84b4&user=Andreas+St%C3%B6ckl&userId=740bbeed0647&source=-----8c304a2d84b4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8c304a2d84b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsegmentation-of-online-shop-customers-8c304a2d84b4&user=Andreas+St%C3%B6ckl&userId=740bbeed0647&source=-----8c304a2d84b4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8c304a2d84b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsegmentation-of-online-shop-customers-8c304a2d84b4&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----8c304a2d84b4--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F8c304a2d84b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsegmentation-of-online-shop-customers-8c304a2d84b4&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----8c304a2d84b4---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----8c304a2d84b4--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----8c304a2d84b4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----8c304a2d84b4--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----8c304a2d84b4--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----8c304a2d84b4--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----8c304a2d84b4--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----8c304a2d84b4--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----8c304a2d84b4--------------------------------", "anchor_text": ""}, {"url": "https://andreasstckl.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://andreasstckl.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andreas St\u00f6ckl"}, {"url": "https://andreasstckl.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "545 Followers"}, {"url": "http://www.stoeckl.ai/profil/", "anchor_text": "http://www.stoeckl.ai/profil/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F740bbeed0647&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsegmentation-of-online-shop-customers-8c304a2d84b4&user=Andreas+St%C3%B6ckl&userId=740bbeed0647&source=post_page-740bbeed0647--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F2bb71a8d4a5e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsegmentation-of-online-shop-customers-8c304a2d84b4&newsletterV3=740bbeed0647&newsletterV3Id=2bb71a8d4a5e&user=Andreas+St%C3%B6ckl&userId=740bbeed0647&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}