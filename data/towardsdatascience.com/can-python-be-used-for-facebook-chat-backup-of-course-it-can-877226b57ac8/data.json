{"url": "https://towardsdatascience.com/can-python-be-used-for-facebook-chat-backup-of-course-it-can-877226b57ac8", "time": 1682994219.1343338, "path": "towardsdatascience.com/can-python-be-used-for-facebook-chat-backup-of-course-it-can-877226b57ac8/", "webpage": {"metadata": {"title": "Can python be used for Facebook chat backup? of course, it can! | by Vijay athithya | Towards Data Science", "h1": "Can python be used for Facebook chat backup? of course, it can!", "description": "Hello world!!Most of us would have been in a place, where we have to scroll through our Facebook conversations for recalling things, to relive moments or to have a good laugh at our old conversations\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.python.org/downloads/windows/", "anchor_text": "here", "paragraph_index": 3}, {"url": "http://mobile.facebook.com", "anchor_text": "mobile.facebook.com", "paragraph_index": 9}, {"url": "http://www.robotstxt.org/robotstxt.html", "anchor_text": "here", "paragraph_index": 12}, {"url": "https://github.com/vj-09/FaceBook-Scrape/blob/master/facebook/facebook/spiders/fb_txt.py", "anchor_text": "here", "paragraph_index": 20}, {"url": "https://github.com/vj-09/FaceBook-Scrape", "anchor_text": "this", "paragraph_index": 22}, {"url": "https://medium.com/@athithyavijay", "anchor_text": "here", "paragraph_index": 25}, {"url": "https://medium.com/@athithyavijay", "anchor_text": "Medium", "paragraph_index": 26}, {"url": "https://www.linkedin.com/in/vijay-athithya-79830ba1/", "anchor_text": "Linkedin", "paragraph_index": 26}, {"url": "https://www.facebook.com/vakky.vj", "anchor_text": "Facebook", "paragraph_index": 26}], "all_paragraphs": ["Hello world!!Most of us would have been in a place, where we have to scroll through our Facebook conversations for recalling things, to relive moments or to have a good laugh at our old conversations and you do those often, want to have a backup this is for you. At end of the post, you can have your conversation backuped in a structured way in csv or json format.", "This post is not meant for people like \u2018Bob\u2019\u2026.Sorry Bob, if this offends you in any way!!", "Before Going further I wish to answer a few questions that might hit you when reading this.", "Python Installation: Windows setup file zip can be found here, Ubuntu run the command", "Scrapy Installation: Both Windows and Ubuntu, run the below command", "If you are not into how scraping is done, you can skip to the \u201cHow to use\u201d part.", "Before diving into the coding part, There were challenges in terms of technicality like access to Facebook data, dealing with javascript, ajax calls. It was quite a headache on re-creating the same ajax calls through the request library yet failed miserably.", "Then, I tried to scrape the data by using the tool \u201cSelenium\u201d. If you are not familiar with this, Selenium can be used to automate your activities on the browser, allow you to control and use your browser as if a human is using it(like clicking the search box, entering the keyword and clicking the search button).", "What my Selenium did was: Go to Facebook.com -> Login -> Go to chat list and select a conversation -> Start scraping while scrolling up. Facebook denied access to more data from their server within few pages up!! Yeah, They are good at detecting bots.", "After spending hours googling found suggestions to try the \u2018mobile-optimized website\u2019 which it is actually the old-school mobile.facebook.com which doesn\u2019t use any AJAX. Finally!! able to fetch data without interruption using scrapy.", "Before you start scraping, you will have to set up a new Scrapy project. Enter a directory where you\u2019d like to store your code and run", "This will create a facebook directory with the following contents:", "Don\u2019t worry if you don\u2019t get, what\u2019s going around, we won\u2019t be worrying about most of them here, only changes we do are write a spider for scraping the content and changing ROBOTSTXT_OBEY = False in settings.py file as Facebook won't allow bots to log in. You can learn more about robots.txt here.", "Create a python file under the spiders directory, then import scrapy, pandas, and FormRequest which we\u2019ll be using to feed the credentials for logging in.", "Here fb_text is the name of our spider, we can write any number of spiders under our spider directory which might serve different purpose, in our case can we can write one for scraping posts and comments etc. Each spider should have its unique name.", "Then we are getting the credentials for logging in through the terminal, where we\u2019ll be running our spider", "scrapy crawl fb_text -a email=\u201dFB USER EMAIL\u201d -a password=\u201dFB USER PASSWORD \u201d", "After having the credentials we feed it to FormRequest, it will fill the form (user_email and password) in the start_urls \u2018https://mbasic.facebook.com' and returns the home page.", "Done defining the structure, time to give some superpowers to our spider. One is that it should able to crawl through pages to fetch contents and other is to take scrape the content/data.", "Request function will send the response to the callback function, In our case, we reach the messages page then fetch the people we had conversation and their links. From that list, we\u2019ll scrape one.", "Above is the core part of the spider, it fetches the conversation between the entities with time and writes it out in a csv file. Full spider file can be found here.", "For simplicity and easier understanding, items.py is not used for storing data.", "Make sure to clone this repository, if you skipped the previous part. Navigate through the project\u2019s top-level directory and launch scrapy with:", "This will give last 10 recent conversations, from that select the conversation to be scrapped, the bot/spider will scrape the conversations till very last text in that conversation and return a csv file with columns ->Name, Text, Date. Check out the sample below.", "Data is the source for solving any ml/ai problem, not every time we end having a well-structured data. Here\u2019s where web scraping comes handy, with which we can scrape/fetch data from the website. Tutorials on web scraping from basics will be posted in future, make sure to follow and support.", "We end this here, hope I\u2019ve given some introduction to the word2vec embeddings. Check the other works here.", "Lol, if you think so we are on the same page. Let\u2019s connect Medium, Linkedin, Facebook.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F877226b57ac8&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-python-be-used-for-facebook-chat-backup-of-course-it-can-877226b57ac8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-python-be-used-for-facebook-chat-backup-of-course-it-can-877226b57ac8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-python-be-used-for-facebook-chat-backup-of-course-it-can-877226b57ac8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-python-be-used-for-facebook-chat-backup-of-course-it-can-877226b57ac8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----877226b57ac8--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----877226b57ac8--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@athithyavijay?source=post_page-----877226b57ac8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@athithyavijay?source=post_page-----877226b57ac8--------------------------------", "anchor_text": "Vijay athithya"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fae424245b4b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-python-be-used-for-facebook-chat-backup-of-course-it-can-877226b57ac8&user=Vijay+athithya&userId=ae424245b4b&source=post_page-ae424245b4b----877226b57ac8---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F877226b57ac8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-python-be-used-for-facebook-chat-backup-of-course-it-can-877226b57ac8&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F877226b57ac8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-python-be-used-for-facebook-chat-backup-of-course-it-can-877226b57ac8&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@glencarrie?utm_source=medium&utm_medium=referral", "anchor_text": "Glen Carrie"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.python.org/downloads/windows/", "anchor_text": "here"}, {"url": "http://mobile.facebook.com", "anchor_text": "mobile.facebook.com"}, {"url": "http://www.robotstxt.org/robotstxt.html", "anchor_text": "here"}, {"url": "https://github.com/vj-09/FaceBook-Scrape/blob/master/facebook/facebook/spiders/fb_txt.py", "anchor_text": "here"}, {"url": "https://github.com/vj-09/FaceBook-Scrape", "anchor_text": "this"}, {"url": "https://github.com/vj-09/FaceBook-Scrape", "anchor_text": "repo"}, {"url": "https://medium.com/@athithyavijay", "anchor_text": "here"}, {"url": "https://medium.com/@athithyavijay", "anchor_text": "Medium"}, {"url": "https://www.linkedin.com/in/vijay-athithya-79830ba1/", "anchor_text": "Linkedin"}, {"url": "https://www.facebook.com/vakky.vj", "anchor_text": "Facebook"}, {"url": "https://medium.com/tag/python?source=post_page-----877226b57ac8---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----877226b57ac8---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/web-scraping?source=post_page-----877226b57ac8---------------web_scraping-----------------", "anchor_text": "Web Scraping"}, {"url": "https://medium.com/tag/facebook?source=post_page-----877226b57ac8---------------facebook-----------------", "anchor_text": "Facebook"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----877226b57ac8---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F877226b57ac8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-python-be-used-for-facebook-chat-backup-of-course-it-can-877226b57ac8&user=Vijay+athithya&userId=ae424245b4b&source=-----877226b57ac8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F877226b57ac8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-python-be-used-for-facebook-chat-backup-of-course-it-can-877226b57ac8&user=Vijay+athithya&userId=ae424245b4b&source=-----877226b57ac8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F877226b57ac8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-python-be-used-for-facebook-chat-backup-of-course-it-can-877226b57ac8&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----877226b57ac8--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F877226b57ac8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-python-be-used-for-facebook-chat-backup-of-course-it-can-877226b57ac8&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----877226b57ac8---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----877226b57ac8--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----877226b57ac8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----877226b57ac8--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----877226b57ac8--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----877226b57ac8--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----877226b57ac8--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----877226b57ac8--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----877226b57ac8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@athithyavijay?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@athithyavijay?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Vijay athithya"}, {"url": "https://medium.com/@athithyavijay/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "108 Followers"}, {"url": "https://www.linkedin.com/in/vijay-athithya-79830ba1/", "anchor_text": "https://www.linkedin.com/in/vijay-athithya-79830ba1/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fae424245b4b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-python-be-used-for-facebook-chat-backup-of-course-it-can-877226b57ac8&user=Vijay+athithya&userId=ae424245b4b&source=post_page-ae424245b4b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fcfabd1651f5b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fcan-python-be-used-for-facebook-chat-backup-of-course-it-can-877226b57ac8&newsletterV3=ae424245b4b&newsletterV3Id=cfabd1651f5b&user=Vijay+athithya&userId=ae424245b4b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}