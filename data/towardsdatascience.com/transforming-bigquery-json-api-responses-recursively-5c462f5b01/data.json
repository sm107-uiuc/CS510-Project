{"url": "https://towardsdatascience.com/transforming-bigquery-json-api-responses-recursively-5c462f5b01", "time": 1682995533.3063118, "path": "towardsdatascience.com/transforming-bigquery-json-api-responses-recursively-5c462f5b01/", "webpage": {"metadata": {"title": "Transforming BigQuery JSON API responses recursively | by Eben du Toit | Towards Data Science", "h1": "Transforming BigQuery JSON API responses recursively", "description": "Say it with me: \u201cNested JSON is hard to work with!\u201d. Am I right? Most certainly! Now that we got that out of the way, let me just say that I believe in JSON through-and-through. It is logical, it is\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/flattening-json-objects-in-python-f5343c794b10", "anchor_text": "recursive way", "paragraph_index": 1}, {"url": "https://github.com/ebendutoit/json_flattener", "anchor_text": "non-recursive way", "paragraph_index": 1}, {"url": "https://www.imdb.com/title/tt1375666/", "anchor_text": "Inception", "paragraph_index": 2}], "all_paragraphs": ["Say it with me: \u201cNested JSON is hard to work with!\u201d. Am I right? Most certainly! Now that we got that out of the way, let me just say that I believe in JSON through-and-through. It is logical, it is universal and most languages use it to create fast-access hash-map style data structures. A win for all!", "In steps a horde of believers in the benefits of nested JSON and those that believe in flattened JSON as their chosen chalice of API payload bliss. So fierce is this silent battle that many flattening techniques litter the repositories of hackers galore, with methods like the recursive way and the non-recursive way.", "Ever watched the movie Inception? It\u2019s a goodie. A timeline within a timeline within a timeline. And when it all rolls back you see how things fit together. In similar fashion, recursion has a very small footprint in code, but can address huge computational (read \u201cnested\u201d) complexity.", "Okay, enough riff-raff, let\u2019s get to it!", "This is a sample of Google BigQuery\u2019s API response after doing a query:", "The schema shows you how the data is structured and the rows indicate, with \u201cf\u201d for field and \u201cv\u201d for value, what values fit into the schema.", "Now, isn\u2019t it easier to read and manipulate the JSON when it looks like this?", "If you agree, then you\u2019re in good hands.", "Here is the node.js code that does this transformation. Feel free to use it, adapt it to your needs and generally make your life simpler and your data happier. The interface to the function is:", "and you pass in the BigQuery results like so:", "Here is a JsFiddle demo of the code to play with:", "A lot of transformations for JSON exist out there. Recursive solutions aren\u2019t the easiest to debug but they have the simplest code footprint. Stepping through the code with a debugger is the preferred way of looking at such algorithms in \u201cslow-motion\u201d. This article offers one way of flattening complicated nested JSON originating from Google BigQuery into something you can manipulate and use on your own terms. Try it out! Happy converting!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Storyteller. Child of the Internet. PhD. Data Science Principal at DoiT International. Ghibli fan. Asking good questions near you."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5c462f5b01&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransforming-bigquery-json-api-responses-recursively-5c462f5b01&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransforming-bigquery-json-api-responses-recursively-5c462f5b01&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransforming-bigquery-json-api-responses-recursively-5c462f5b01&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransforming-bigquery-json-api-responses-recursively-5c462f5b01&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5c462f5b01--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5c462f5b01--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@eebsidian?source=post_page-----5c462f5b01--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@eebsidian?source=post_page-----5c462f5b01--------------------------------", "anchor_text": "Eben du Toit"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc07350664fb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransforming-bigquery-json-api-responses-recursively-5c462f5b01&user=Eben+du+Toit&userId=c07350664fb&source=post_page-c07350664fb----5c462f5b01---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5c462f5b01&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransforming-bigquery-json-api-responses-recursively-5c462f5b01&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5c462f5b01&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransforming-bigquery-json-api-responses-recursively-5c462f5b01&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/flattening-json-objects-in-python-f5343c794b10", "anchor_text": "recursive way"}, {"url": "https://github.com/ebendutoit/json_flattener", "anchor_text": "non-recursive way"}, {"url": "https://www.imdb.com/title/tt1375666/", "anchor_text": "Inception"}, {"url": "https://medium.com/tag/bigquery?source=post_page-----5c462f5b01---------------bigquery-----------------", "anchor_text": "Bigquery"}, {"url": "https://medium.com/tag/json?source=post_page-----5c462f5b01---------------json-----------------", "anchor_text": "Json"}, {"url": "https://medium.com/tag/mysql?source=post_page-----5c462f5b01---------------mysql-----------------", "anchor_text": "MySQL"}, {"url": "https://medium.com/tag/javascript?source=post_page-----5c462f5b01---------------javascript-----------------", "anchor_text": "JavaScript"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5c462f5b01&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransforming-bigquery-json-api-responses-recursively-5c462f5b01&user=Eben+du+Toit&userId=c07350664fb&source=-----5c462f5b01---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5c462f5b01&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransforming-bigquery-json-api-responses-recursively-5c462f5b01&user=Eben+du+Toit&userId=c07350664fb&source=-----5c462f5b01---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5c462f5b01&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransforming-bigquery-json-api-responses-recursively-5c462f5b01&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5c462f5b01--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5c462f5b01&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransforming-bigquery-json-api-responses-recursively-5c462f5b01&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5c462f5b01---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5c462f5b01--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5c462f5b01--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5c462f5b01--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5c462f5b01--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5c462f5b01--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5c462f5b01--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5c462f5b01--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5c462f5b01--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@eebsidian?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@eebsidian?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Eben du Toit"}, {"url": "https://medium.com/@eebsidian/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "78 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc07350664fb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransforming-bigquery-json-api-responses-recursively-5c462f5b01&user=Eben+du+Toit&userId=c07350664fb&source=post_page-c07350664fb--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F948fb5d2cc52&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftransforming-bigquery-json-api-responses-recursively-5c462f5b01&newsletterV3=c07350664fb&newsletterV3Id=948fb5d2cc52&user=Eben+du+Toit&userId=c07350664fb&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}