{"url": "https://towardsdatascience.com/stock-price-analysis-with-pandas-and-altair-ef1e178cc744", "time": 1683018360.469803, "path": "towardsdatascience.com/stock-price-analysis-with-pandas-and-altair-ef1e178cc744/", "webpage": {"metadata": {"title": "Stock Price Analysis with Pandas and Altair | by Soner Y\u0131ld\u0131r\u0131m | Towards Data Science", "h1": "Stock Price Analysis with Pandas and Altair", "description": "Stock price analysis is an example of time series analysis which is one of the primary areas in predictive analytics. Time series data contains measurements or observations attached to sequential\u2026"}, "outgoing_paragraph_urls": [{"url": "http://linkedin.com/in/soneryildirim/", "anchor_text": "linkedin.com/in/soneryildirim/", "paragraph_index": 28}, {"url": "http://twitter.com/snr14", "anchor_text": "twitter.com/snr14", "paragraph_index": 28}], "all_paragraphs": ["Stock price analysis is an example of time series analysis which is one of the primary areas in predictive analytics. Time series data contains measurements or observations attached to sequential time stamps. In case of stock prices, the time stamps can be seconds, minutes, or days depending on the task.", "This article is a practical guide that covers some basic and essential operations in stock price analysis. We will be using Pandas for data manipulation and Altair for data visualization. Both are Python libraries that are commonly used in data science.", "There are many resources to get stock price data. We will use the data reader API of Pandas. We first import the dependencies.", "We can now use the data reader to create Pandas dataframes that contain stock price data.", "We use the DataReader function to get the stock prices. The stock name, start and end dates, and the source are the required parameters.", "This function returns a dataframe as below:", "We have a separate dataframe for Apple, IBM, and Microsoft. It is better to combine them but we need a column to specify the name of the stock.", "The symbol column in each dataframe indicates the name. We can now combine them using the concat function of Pandas.", "I have only included the date, close, volume, and symbol columns. Let\u2019s first create a basic line plot of Apple stock prices.", "The first line in the code is a top-level Chart object. We pass the data to be plotted to this object. A filter is applied using the symbol column to only include data that belongs to Apple stocks.", "In the next line, the type of the plot is specified. The encode function indicates the columns to be plotted. Whatever we write as an argument in the encode function must be linked to the data passed to the Chart object.", "The stock price of Apple seems to be continuously increasing except for a few occasional drops. The one in the April 2020 might be related to the global pandemic due to corona virus.", "We can show the stock prices of all three companies in one visualization.", "What distinguishes the companies is the symbol column. It is passed as an argument to the color parameter of the encode function. Apple and Microsoft stock prices follow a similar trend. IBM seems to suffer more from the pandemic.", "In the last line, we use the properties function to change the size of the figure.", "We can smooth the line by resampling the data. Resampling basically means representing the data with a different frequency. One option is to use the resample function Pandas. It aggregates data based on specified frequency and aggregation function.", "The code above resamples the Microsoft stock prices based on the average of 7-day periods.", "The only difference is that we pass the resampled data to the Chart object. The line seems much more smooth now.", "Altair makes it quite simple to have multiple plots in one visualization. For instance, we can plot the closing price and volume for Microsoft stocks as below.", "We assign each plot to a variable. The variables can easily be combined by logical operators. For instance, \u201c|\u201d puts them side-by-side whereas \u201c&\u201d puts the second plot under the first one.", "Altair provides many options to enrich the visualizations by conveying more information. For instance, we can add a line that indicates the average value.", "The first plot is a line plot just like the ones created earlier. The second plot is a rule that calculates the average value for each line. It is pretty straightforward to transform data with Altair. For instance, in the encode function of the second plot, the aggregation is indicated with a string (\u2018average(Close)\u2019).", "In our case, we can visually compare the mean values because there is a significant gap between values. However, it might be useful to indicate the mean when the values are close.", "There are many definitions of time series data, all of which indicate the same meaning in a different way. A straightforward definition is that time series data includes data points attached to sequential time stamps.", "We have covered some basic operations with Pandas and Altair. There is much more to cover in time series analysis. In fact, it is a highly complex topic and there is a great amount of research being done in this field.", "With that being said, it is almost beneficial to comprehend the basics and then start on the more advanced topics.", "Thank you for reading. Please let me know if you have any feedback.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist | Top 10 Writer in AI and Data Science | linkedin.com/in/soneryildirim/ | twitter.com/snr14"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fef1e178cc744&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstock-price-analysis-with-pandas-and-altair-ef1e178cc744&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstock-price-analysis-with-pandas-and-altair-ef1e178cc744&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstock-price-analysis-with-pandas-and-altair-ef1e178cc744&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstock-price-analysis-with-pandas-and-altair-ef1e178cc744&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ef1e178cc744--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ef1e178cc744--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://sonery.medium.com/?source=post_page-----ef1e178cc744--------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=post_page-----ef1e178cc744--------------------------------", "anchor_text": "Soner Y\u0131ld\u0131r\u0131m"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2cf6b549448&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstock-price-analysis-with-pandas-and-altair-ef1e178cc744&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=post_page-2cf6b549448----ef1e178cc744---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fef1e178cc744&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstock-price-analysis-with-pandas-and-altair-ef1e178cc744&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fef1e178cc744&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstock-price-analysis-with-pandas-and-altair-ef1e178cc744&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@markuswinkler?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Markus Winkler"}, {"url": "https://unsplash.com/s/photos/stock-price?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/data-science?source=post_page-----ef1e178cc744---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----ef1e178cc744---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----ef1e178cc744---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/python?source=post_page-----ef1e178cc744---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----ef1e178cc744---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fef1e178cc744&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstock-price-analysis-with-pandas-and-altair-ef1e178cc744&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=-----ef1e178cc744---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fef1e178cc744&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstock-price-analysis-with-pandas-and-altair-ef1e178cc744&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=-----ef1e178cc744---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fef1e178cc744&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstock-price-analysis-with-pandas-and-altair-ef1e178cc744&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ef1e178cc744--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fef1e178cc744&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstock-price-analysis-with-pandas-and-altair-ef1e178cc744&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ef1e178cc744---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ef1e178cc744--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ef1e178cc744--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ef1e178cc744--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ef1e178cc744--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ef1e178cc744--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ef1e178cc744--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ef1e178cc744--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ef1e178cc744--------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Soner Y\u0131ld\u0131r\u0131m"}, {"url": "https://sonery.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "21K Followers"}, {"url": "http://linkedin.com/in/soneryildirim/", "anchor_text": "linkedin.com/in/soneryildirim/"}, {"url": "http://twitter.com/snr14", "anchor_text": "twitter.com/snr14"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2cf6b549448&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstock-price-analysis-with-pandas-and-altair-ef1e178cc744&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=post_page-2cf6b549448--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7cdf5377373a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstock-price-analysis-with-pandas-and-altair-ef1e178cc744&newsletterV3=2cf6b549448&newsletterV3Id=7cdf5377373a&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}