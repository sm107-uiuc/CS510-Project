{"url": "https://towardsdatascience.com/step-by-step-for-planning-an-a-b-test-ef3c93143c0b", "time": 1683006672.955636, "path": "towardsdatascience.com/step-by-step-for-planning-an-a-b-test-ef3c93143c0b/", "webpage": {"metadata": {"title": "Step by Step Process for Planning an A/B Test | by Chong Han Khai | Towards Data Science", "h1": "Step by Step Process for Planning an A/B Test", "description": "Following my previous post on the importance of developing a scientific culture through experiments, I am going to explain how to plan an experiment properly. I hope that this blog post can act as a\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/@chonghankhai/the-importance-of-experiments-15b088d52312", "anchor_text": "post", "paragraph_index": 0}], "all_paragraphs": ["Following my previous post on the importance of developing a scientific culture through experiments, I am going to explain how to plan an experiment properly. I hope that this blog post can act as a starting point for those who are unsure about what to do.", "To prevent the post from being too lengthy, I am only going to involve the planning process and I will cover the other aspects of experiments in future blog posts. The planning process includes:", "I am going to only talk about the simplest and most common form of experiment (i.e. A/B test a.k.a two variant test) using the frequentist approach, which should suffice for most people or organizations starting out.", "Just like how we\u2019re thought in school, an experiment starts with a hypothesis. You may have multiple hypotheses you want to test but always have a main one. I will give two examples here:", "I personally find it useful to convert these statements into more statistical forms because the statements are clearer and it reduces the chance of making mistakes on what exact metric to measure. For example, in the first case, I would write:", "Checkout Rate (One-tailed)H\u2080: There is no difference in checkout rate between the control and treatment group.H\u2081: Checkout rate of the treatment group is higher than checkout rate of the control group.", "We hope to reject the null hypothesis and conclude that the checkout rate of the treatment group is statistically significantly higher than that of the control group. (in italic format)", "In most cases, there will be a few secondary metrics you want to measure, you can write them in the same format too. Although it is common to always want to measure improvement, you should also always think about the adverse effects that your treatment might bring. For instance, in the second case, I will also consider conversion to paying member as a secondary metric, I might hypothesize that the new sign up process can appear as insecure to some people and discourage them from becoming a paying member. I would then write my secondary metric as:", "Paid Membership Conversion Rate (Two-tailed)H\u2080: There is no difference in paid membership conversion rate between the control and treatment group.H\u2081: There is a difference in paid membership conversion rate between the control and the treatment group.", "We hope to fail to reject the null hypothesis and conclude that there is no statistically significant difference between paid membership conversion rate of the treatment group and the control group.", "Hence experiment should not be thought of as a way to measure if a treatment brings improvement, but can also be used to measure if a treatment causes harm.", "This is essential because it will be part of our sample size required calculation. Secondly, it helps us get a sense of what the current numbers are.", "Given enough sample size, we will usually be able to find a statistically significant difference between two groups even if there is only a very slight difference. This is because the confidence interval of our estimate decreases as sample size increases. The chart below shows one distribution with mean 0.1 and another one with mean 0.15 under different sample sizes. This is intuitive because we are more confident with our estimate of the mean as our sample size grows, hence why the distribution becomes narrower. This also implies that the sample size requirement grows if you want to confidently detect a small difference between two populations.", "Thus, it is very important to decide what change is considered meaningful enough for you to take an action. For example, if you found a statistically significant improvement of 0.05% (from 15.3% to 15.35%) in checkout rate from displaying the discounted amount\u00a0at\u00a0the\u00a0checkout\u00a0page. Should you really implement the change? This is also commonly known as Minimum Detectable Effect (MDE), which I will cover in detail in future posts.", "Deciding on a meaningful effect size and committing to it prevent you from deviating from the original plan after the experiment. If a 1% change is a good enough signal to rollout the treatment to everyone, then be certain that you will do it only if the effect is more than 1%.", "Although it should not be something people do theoretically, due to how sample size requirement change with MDE, I find it useful to take the estimated sample size I can get for my experiment into consideration when thinking about MDE. I cannot set my MDE to be too small if I do not expect too many samples in my experiment.", "This is probably the part least discussed in other articles. Set the target significance value, target statistical power and an allocation ratio (usually 1) and calculate the sample size required to detect the MDE you desire at the target significance value and statistical power under a certain allocation ratio.", "Target significance value, \ud835\udec2: There is a \ud835\udec2 % chance that we reject the null hypothesis when the null is correct, common values are 0.01, 0.05 and 0.1, depending on the cost of making such mistake, the higher the cost, the lower your \ud835\udec2 should be.Target Statistical Power, 1-\ud835\udf37: There is a 1-\ud835\udf37 % chance of us failing to reject the null when there is an actual significant change of MDE, common values are 0.8, 0.85, 0.9 and 0.95, 0.99. This depends on how costly it is to miss this change when\u00a0there\u00a0is\u00a0an\u00a0actual\u00a0change, the higher the cost, the lower your \ud835\udf37 should be and hence higher target statistical power.", "Allocation Ratio: The ratio of treatment to control group, usually set at 1 for highest statistical power given a fixed sample size.", "After setting these experiment parameters, I will come up with this table, containing the essence of an experiment plan.", "Below are 3 ways of calculating the sample size required:", "I often give some room for error when deciding on the sample size required because there are a lot of things that can go wrong during the experiment. When these errors happen, it is likely that you have to remove some of your experiment samples to prevent them from affecting your results. For example, there might be another marketing campaign that introduces bias in favor of the control group.", "It is good if you are aware of these events during the experiment, which you can then exclude these from your experiment samples so that your experiment still run until it achieves the target sample size. But I often find that it is impossible to be aware of all these moving parts until after the experiment. You will then realize that you do not have enough sample size to conclude the experiment after excluding these unusable samples. How much more room to give will depend on how confident you are about executing your experiment correctly.", "Given the sample size required, estimate how long you need to achieve the target sample size given your traffic or volume. As a rule of thumb, there will usually be some seasonality effect like the day of the week or hour of the day. For example, how your experiment subjects react to the treatment might be different depending on these seasonality factors. Hence, if you think that you can reach your sample size in a few days, I would suggest expanding it to one week or even two weeks in most cases to get a more robust result.", "If it takes months to reach your target sample size, then maybe you might want to increase the MDE to reduce the sample size required. The pros of doing this is that you can save time, but the disadvantage is that your treatment must have a large enough impact for you to confidently reject your null hypothesis.", "Discuss with your engineers about how to implement the experiment. Common questions include:", "I have described the step by step process on how to plan a simple two-variant experiment in this blog post. I hope that this blog post helps you get started with planning some experiment in your team. However, I did not cover many more aspects, which I hope to cover in the future, such as:", "Last but not least, it is extremely important to plan your experiment properly to reduce the chance of making mistakes during the experiment, or even worse, concluding the experiment with the wrong results. It might be time consuming to plan all these out at the beginning, but you will eventually be faster the more your practice.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "A data person who cares a lot about best practices and being scientifically correct."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fef3c93143c0b&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-for-planning-an-a-b-test-ef3c93143c0b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-for-planning-an-a-b-test-ef3c93143c0b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-for-planning-an-a-b-test-ef3c93143c0b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-for-planning-an-a-b-test-ef3c93143c0b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ef3c93143c0b--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ef3c93143c0b--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@chonghankhai?source=post_page-----ef3c93143c0b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@chonghankhai?source=post_page-----ef3c93143c0b--------------------------------", "anchor_text": "Chong Han Khai"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feb876f621a36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-for-planning-an-a-b-test-ef3c93143c0b&user=Chong+Han+Khai&userId=eb876f621a36&source=post_page-eb876f621a36----ef3c93143c0b---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fef3c93143c0b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-for-planning-an-a-b-test-ef3c93143c0b&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fef3c93143c0b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-for-planning-an-a-b-test-ef3c93143c0b&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/@chonghankhai/the-importance-of-experiments-15b088d52312", "anchor_text": "post"}, {"url": "https://www.psychologie.hhu.de/arbeitsgruppen/allgemeine-psychologie-und-arbeitspsychologie/gpower.html", "anchor_text": "G*Power software"}, {"url": "https://medium.com/tag/experiment?source=post_page-----ef3c93143c0b---------------experiment-----------------", "anchor_text": "Experiment"}, {"url": "https://medium.com/tag/a-b-testing?source=post_page-----ef3c93143c0b---------------a_b_testing-----------------", "anchor_text": "A B Testing"}, {"url": "https://medium.com/tag/statistics?source=post_page-----ef3c93143c0b---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fef3c93143c0b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-for-planning-an-a-b-test-ef3c93143c0b&user=Chong+Han+Khai&userId=eb876f621a36&source=-----ef3c93143c0b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fef3c93143c0b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-for-planning-an-a-b-test-ef3c93143c0b&user=Chong+Han+Khai&userId=eb876f621a36&source=-----ef3c93143c0b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fef3c93143c0b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-for-planning-an-a-b-test-ef3c93143c0b&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ef3c93143c0b--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fef3c93143c0b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-for-planning-an-a-b-test-ef3c93143c0b&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ef3c93143c0b---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ef3c93143c0b--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ef3c93143c0b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ef3c93143c0b--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ef3c93143c0b--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ef3c93143c0b--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ef3c93143c0b--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ef3c93143c0b--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ef3c93143c0b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@chonghankhai?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@chonghankhai?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Chong Han Khai"}, {"url": "https://medium.com/@chonghankhai/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "58 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feb876f621a36&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-for-planning-an-a-b-test-ef3c93143c0b&user=Chong+Han+Khai&userId=eb876f621a36&source=post_page-eb876f621a36--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F79f8b547f842&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fstep-by-step-for-planning-an-a-b-test-ef3c93143c0b&newsletterV3=eb876f621a36&newsletterV3Id=79f8b547f842&user=Chong+Han+Khai&userId=eb876f621a36&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}