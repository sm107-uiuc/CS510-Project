{"url": "https://towardsdatascience.com/football-players-tracking-identifying-players-team-based-on-their-jersey-colors-using-opencv-7eed1b8a1095", "time": 1683012285.2369, "path": "towardsdatascience.com/football-players-tracking-identifying-players-team-based-on-their-jersey-colors-using-opencv-7eed1b8a1095/", "webpage": {"metadata": {"title": "Football players tracking \u2014 identifying players\u2019 team based on their jersey colors using OpenCV | by C K | Towards Data Science", "h1": "Football players tracking \u2014 identifying players\u2019 team based on their jersey colors using OpenCV", "description": "Detect, track, determine players\u2019 team based on their jersey colors and convert it to bird\u2019s-eye view using Yolov3, SORT and OpenCV."}, "outgoing_paragraph_urls": [{"url": "https://pspagnolo.jimdofree.com/download/", "anchor_text": "here", "paragraph_index": 4}, {"url": "https://docs.opencv.org/2.4/modules/imgproc/doc/geometric_transformations.html#getperspectivetransform", "anchor_text": "getPerspectiveTransform", "paragraph_index": 14}], "all_paragraphs": ["In my previous work, I used pre-trained Yolov3 model to detect and used SORT (simple online and realtime tracking) to track football players from video. Then I used OpenCV\u2019s getPerspectiveTransform function to convert the video to bird\u2019s-eye view.", "One of the problems of this work is that the model cannot tell the difference between teams. It will be good if the program is able to identify players\u2019 team instead of just detecting \u2018person\u2019. To further improve this, I wish to include a function which tells the difference based on the colors of players\u2019 jersey.", "Two approaches I can think of now to this problem.", "I decided to try approach 2 using OpenCV.", "The stationary football video is downloaded from here.", "\u201cT. D\u2019Orazio, M.Leo, N. Mosca, P.Spagnolo, P.L.Mazzeo A Semi-Automatic System for Ground Truth Generation of Soccer Video Sequences, 6th IEEE International Conference on Advanced Video and Signal Surveillance, Genoa, Italy September 2\u20134 2009\u201d", "The major difference among teams and referee is jersey color \u2014 one team is white, the other is blue and the referee is red. I want to determine the player\u2019s team based on the jersey color.", "First I identified the range for the three colors.", "Then I applied OpenCV\u2019s inRange function to create masks for three colors.", "Then use bitwise_and to apply masks to the frame.", "Now we need to apply these mask to the detection. I cropped the image based on the bounding box detected then applied the masks.", "The way I identify the color is to count the non-black pixels and calculated the ratio (non-black/total pixel) for the output images of the three colors. The highest ratio is the color of the jersey. For the example above, the blue has highest ratio, so the jersey is identified as blue.", "Now I integrated this function to the player detection script, here are some examples of the masks and player detections.", "Based on the results of jersey color, I can draw the bounding boxes with different colors.", "Then similar to my previous post, by using Opencv\u2019s getPerspectiveTransform, I obtained the bird\u2019s-eye view as shown in the beginning.", "Some applications for this kind of tracking:", "Thanks for reading, suggestions and feedback are welcome.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7eed1b8a1095&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootball-players-tracking-identifying-players-team-based-on-their-jersey-colors-using-opencv-7eed1b8a1095&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootball-players-tracking-identifying-players-team-based-on-their-jersey-colors-using-opencv-7eed1b8a1095&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootball-players-tracking-identifying-players-team-based-on-their-jersey-colors-using-opencv-7eed1b8a1095&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootball-players-tracking-identifying-players-team-based-on-their-jersey-colors-using-opencv-7eed1b8a1095&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----7eed1b8a1095--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7eed1b8a1095--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@c.kuan?source=post_page-----7eed1b8a1095--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@c.kuan?source=post_page-----7eed1b8a1095--------------------------------", "anchor_text": "C K"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd655d41bf524&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootball-players-tracking-identifying-players-team-based-on-their-jersey-colors-using-opencv-7eed1b8a1095&user=C+K&userId=d655d41bf524&source=post_page-d655d41bf524----7eed1b8a1095---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7eed1b8a1095&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootball-players-tracking-identifying-players-team-based-on-their-jersey-colors-using-opencv-7eed1b8a1095&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7eed1b8a1095&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootball-players-tracking-identifying-players-team-based-on-their-jersey-colors-using-opencv-7eed1b8a1095&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://commons.wikimedia.org/wiki/File:Soccer_field_-_empty.svg", "anchor_text": "https://commons.wikimedia.org/wiki/File:Soccer_field_-_empty.svg"}, {"url": "https://towardsdatascience.com/how-to-track-football-players-using-yolo-sort-and-opencv-6c58f71120b8", "anchor_text": "How to track football players using Yolo, SORT and Opencv.Detect and track football players using Yolov3, Opencv and SORT, and convert the players\u2019 movement to bird\u2019s-eye view.towardsdatascience.com"}, {"url": "https://pspagnolo.jimdofree.com/download/", "anchor_text": "here"}, {"url": "https://docs.opencv.org/2.4/modules/imgproc/doc/geometric_transformations.html#getperspectivetransform", "anchor_text": "getPerspectiveTransform"}, {"url": "https://medium.com/@c.kuan/membership", "anchor_text": "https://medium.com/@c.kuan/membership"}, {"url": "https://medium.com/tag/sports?source=post_page-----7eed1b8a1095---------------sports-----------------", "anchor_text": "Sports"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----7eed1b8a1095---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/deep-learning?source=post_page-----7eed1b8a1095---------------deep_learning-----------------", "anchor_text": "Deep Learning"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----7eed1b8a1095---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----7eed1b8a1095---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7eed1b8a1095&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootball-players-tracking-identifying-players-team-based-on-their-jersey-colors-using-opencv-7eed1b8a1095&user=C+K&userId=d655d41bf524&source=-----7eed1b8a1095---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7eed1b8a1095&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootball-players-tracking-identifying-players-team-based-on-their-jersey-colors-using-opencv-7eed1b8a1095&user=C+K&userId=d655d41bf524&source=-----7eed1b8a1095---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7eed1b8a1095&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootball-players-tracking-identifying-players-team-based-on-their-jersey-colors-using-opencv-7eed1b8a1095&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7eed1b8a1095--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F7eed1b8a1095&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootball-players-tracking-identifying-players-team-based-on-their-jersey-colors-using-opencv-7eed1b8a1095&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----7eed1b8a1095---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----7eed1b8a1095--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----7eed1b8a1095--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7eed1b8a1095--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7eed1b8a1095--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7eed1b8a1095--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7eed1b8a1095--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7eed1b8a1095--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7eed1b8a1095--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@c.kuan?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@c.kuan?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "C K"}, {"url": "https://medium.com/@c.kuan/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "268 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd655d41bf524&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootball-players-tracking-identifying-players-team-based-on-their-jersey-colors-using-opencv-7eed1b8a1095&user=C+K&userId=d655d41bf524&source=post_page-d655d41bf524--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe796e256f1d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ffootball-players-tracking-identifying-players-team-based-on-their-jersey-colors-using-opencv-7eed1b8a1095&newsletterV3=d655d41bf524&newsletterV3Id=e796e256f1d1&user=C+K&userId=d655d41bf524&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}