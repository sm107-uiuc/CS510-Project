{"url": "https://towardsdatascience.com/mapping-census-data-fbab6722def0", "time": 1683014099.829515, "path": "towardsdatascience.com/mapping-census-data-fbab6722def0/", "webpage": {"metadata": {"title": "Mapping Census Data. How to access and map population data\u2026 | by Allison Stafford | Towards Data Science", "h1": "Mapping Census Data", "description": "Today I\u2019m taking a look at the racial composition of Seattle, according to the 2010 Census. Towards this end, I\u2019ll use Integrated Public Use Microdata Series (IPUMS) National Historical Geographic\u2026"}, "outgoing_paragraph_urls": [{"url": "http://data.census.gov", "anchor_text": "data.census.gov", "paragraph_index": 0}, {"url": "https://ipums.org/", "anchor_text": "here", "paragraph_index": 4}, {"url": "https://www.nhgis.org/", "anchor_text": "here", "paragraph_index": 4}, {"url": "http://data.census.gov", "anchor_text": "data.census.gov", "paragraph_index": 16}, {"url": "https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html", "anchor_text": "here", "paragraph_index": 16}, {"url": "https://www.census.gov/geographies/mapping-files/time-series/geo/cartographic-boundary.html", "anchor_text": "2019 page", "paragraph_index": 16}, {"url": "https://www.census.gov/programs-surveys/geography/technical-documentation/naming-convention/cartographic-boundary-file.html", "anchor_text": "Census Bureau", "paragraph_index": 19}, {"url": "https://www.census.gov/programs-surveys/geography.html", "anchor_text": "Geography Program", "paragraph_index": 20}, {"url": "https://geopandas.org/install.html", "anchor_text": "here", "paragraph_index": 22}, {"url": "https://github.com/allisonhonold/seattle_tree_canopy_blog/blob/master/census_ethnicity.ipynb", "anchor_text": "here", "paragraph_index": 32}], "all_paragraphs": ["Today I\u2019m taking a look at the racial composition of Seattle, according to the 2010 Census. Towards this end, I\u2019ll use Integrated Public Use Microdata Series (IPUMS) National Historical Geographic Information System (NHGIS). You can also use data.census.gov, which I found to be much slower (so much pinwheeling!) than the IPUMS-NHGIS system.", "Note: scroll to the bottom for a glossary of terms.", "In order to map census data, we\u2019re looking for both the GIS shapefiles at the level of interest, as well as the information tables at the matching levels.", "\u201cIPUMS provides census and survey data from around the world integrated across time and space. IPUMS integration and documentation makes it easy to study change, conduct comparative research, merge information across data types, and analyze individuals within family and community contexts. Data and services available free of charge.\u201d", "Check out all the databases here. Or the GIS and census database here. To use this system, you\u2019ll need to pick your data sets, sign up for an account, and wait for the system to email you that your data sets are ready (approx. 15 min wait for me).", "Click on the (currently) green boxes to filter based on Geographic Areas, Years, Topics, Data Sets.", "In the Geographic Areas pop up, you\u2019ll need to know how the Census does geography. For areas that are not currently classified as \u201cAmerican Indian, Alaska Native, Native Hawaiian Areas,\u201d you can read the Standard Hierarchy from top to bottom, cutting the nation into regions, each region into divisions, each division into states, etc. Alternatively, you can read the Standard Hierarchy from bottom to top: Census Blocks are grouped into Block Groups, which are grouped into Census Tracts, which are grouped into Counties, etc.", "One thing to note is that Census Tracts, Block Groups, and Census Blocks do not follow any of the divisions outside of the center vertical (state, county). In Census-speak, cities are \u201cPlaces\u201d whose boundaries are not necessarily accounted for in the creation of Census Blocks, Block Groups, or Tracts. You can get the data aggregated on these alternate levels/categories as well, but you\u2019ll want to take care when attempting to \u201croll up\u201d this data into larger groupings or \u201cdrill down\u201d into smaller scales.", "Once you have your filters set, click the tabs under \u201cSelect data\u201d to move from \u201cSource Tables\u201d to \u201cTime Series Tables\u201d or \u201cGIS Files.\u201d You\u2019ll narrow down to your state, county, etc. in the next step.", "Once you\u2019ve selected your data of interest, click continue from your \u201cdata cart\u201d at the top right of your screen.", "Depending on your data set and geographic level, you may be able to narrow down the data by state on this page. If you are using county-level data, this state-level filtering is not an option.", "You\u2019re ready to \u201ccontinue\u201d on to review your data cart.", "Pretty standard here, although there are a lot of required fields.", "If you are not using the data in a professional capacity, you can use \u201cPersonal/Non-Professional Use\u201d for Name of Institution or Employer, or \u201cSelf-Employed/Consultant\u201d if that is a better fit.", "The most important things to note are the terms of use:", "It will be from nhgis@umn.edu and have link to follow, where you can download, revise, or resubmit your data request.", "Although the data tables functionality of data.census.gov seems to struggle (at the time of writing), I found the shapefile (aka Cartographic Boundary File) page to be much more user-friendly. A little quirk: here\u2019s the page for 1990\u20132018, and there is a separate 2019 page. The newly released 2019 data conveniently includes a range of scale options.", "When you use the dropdown menu to make a selection, it automatically starts the download. Maybe not the most intuitive, but at least they\u2019re zipped. So any mis-clicks don\u2019t have too large of an impact.", "Each table file from IPUMS comes with a \u201ccodebook\u201d text file containing a Data Summary, Data Dictionary, and Citation and Use reminder. You can learn more about the specific data, classifications and questions of interest from the Census Bureau.", "Note that these shapefiles are generalized, bringing pros and cons (courtesy the Census Bureau): Pros \u2014 appearance at small scale, disk space, display time. Cons: imperfect area and perimeter representation, inaccurate address geocoding, some excluded areas, not always aligned across years.", "I need to shout out to the Census Bureau\u2019s Geography Program. They are a wealth of intuitive and helpful resources.", "For some files, I had no problems with pd.read_csv(), but on one, I got UnicodeDecodeError. I\u2019m not sure if it\u2019s the file (perhaps an excel issue?) or a character used, but I found setting the encoding to latin1, worked for me:", "GeoPandas used to be tricky to install, but it seems like the newest version has solved a lot (all?) of these issues. Still, it might make sense for you use a new or geopandas-focused environment. You can find their install recommendations here. Today I\u2019ll be using geopandas for plotting/mapping, so I\u2019ll also install matplotlib and descartes in my new environment. I haven\u2019t tried out the experimental (at time of writing) use of PyGEOS, but it seems like it could be awesome, especially if you are looking for speed.", "My downloaded data set contained all the census blocks in Washington State. All 1.96 million of them.", "At first, I planned on using the GeoPandas / Shapely intersects function along with the Seattle geography from the place map. But once I saw that the places geo-data set includes the place name, I decided to use the numeric place code data to filter.", "Alternatively, you can search census.gov for [year] FIPS Codes, download the appropriate file (in my case the \u201cState, County, Minor Civil Division, and Incorporated Place FIPS Codes\u201d), and do a quick search for your location.", "Both strategies involve an extra download.", "I noticed that the Census Block Shapefile is set to a different projection that the Census Places Shapes. You might choose to reorient your map to match the Census Place shape, the other data you\u2019re using (eg. from the city), or not. In this case, I\u2019ll reorient to the view I\u2019m more accustomed to.", "You can check the orientation / crs of a file, use geo_object.crs or use the convenient warning message you\u2019ll get if you use the Shapely geometric comparisons (ie. contains, touches, etc.)", "For a basic choropleth, add a column argument to your plot call. You can read more about choropleths on GeoPandas. Or check out my code to create the map with a legend, and grey background to fill in any gaps:", "I\u2019m excited to dig deeper into this data, and to see how much has changed when the 2020 numbers come out!", "After mapping for Seattle, I was curious about other cities, and decided to make a more generic solution. To do this, I created a function that takes the data file paths, and does the same as above, allowing me to effortlessly make similar maps for the four next largest cities in Washington. I\u2019ll have to report back on cities in other states after another round of data downloads.", "You can find the jupyter notebook here. Happy Coding!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data scientist with a background in business, education, and environmental science."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ffbab6722def0&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-census-data-fbab6722def0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-census-data-fbab6722def0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-census-data-fbab6722def0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-census-data-fbab6722def0&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----fbab6722def0--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fbab6722def0--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@allison.stafford?source=post_page-----fbab6722def0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@allison.stafford?source=post_page-----fbab6722def0--------------------------------", "anchor_text": "Allison Stafford"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F87b1f621568d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-census-data-fbab6722def0&user=Allison+Stafford&userId=87b1f621568d&source=post_page-87b1f621568d----fbab6722def0---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffbab6722def0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-census-data-fbab6722def0&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffbab6722def0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-census-data-fbab6722def0&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@rbwilson?utm_source=medium&utm_medium=referral", "anchor_text": "Ryan Wilson"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "http://data.census.gov", "anchor_text": "data.census.gov"}, {"url": "https://ipums.org/", "anchor_text": "here"}, {"url": "https://www.nhgis.org/", "anchor_text": "here"}, {"url": "https://www2.census.gov/geo/pdfs/reference/geodiagram.pdf?#", "anchor_text": "https://www2.census.gov/geo/pdfs/reference/geodiagram.pdf?#"}, {"url": "https://unsplash.com/@chuklanov?utm_source=medium&utm_medium=referral", "anchor_text": "Avel Chuklanov"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://nhgis.org/research/citation", "anchor_text": "appropriately"}, {"url": "http://data.census.gov", "anchor_text": "data.census.gov"}, {"url": "https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html", "anchor_text": "here"}, {"url": "https://www.census.gov/geographies/mapping-files/time-series/geo/cartographic-boundary.html", "anchor_text": "2019 page"}, {"url": "https://www.census.gov/programs-surveys/geography/technical-documentation/naming-convention/cartographic-boundary-file.html", "anchor_text": "Census Bureau"}, {"url": "https://www.census.gov/programs-surveys/geography.html", "anchor_text": "Geography Program"}, {"url": "https://geopandas.org/install.html", "anchor_text": "here"}, {"url": "https://github.com/allisonhonold/seattle_tree_canopy_blog/blob/master/census_ethnicity.ipynb", "anchor_text": "here"}, {"url": "https://unsplash.com/@hugsdealer?utm_source=medium&utm_medium=referral", "anchor_text": "William Montout"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/puppies-python-analyzing-geospatial-data-93dd9dc3137", "anchor_text": "post"}, {"url": "http://www.nhgis.org", "anchor_text": "www.nhgis.org"}, {"url": "https://www.census.gov/programs-surveys/geography/technical-documentation/naming-convention/cartographic-boundary-file.html", "anchor_text": "https://www.census.gov/programs-surveys/geography/technical-documentation/naming-convention/cartographic-boundary-file.html"}, {"url": "https://medium.com/tag/census?source=post_page-----fbab6722def0---------------census-----------------", "anchor_text": "Census"}, {"url": "https://medium.com/tag/python?source=post_page-----fbab6722def0---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/geopandas?source=post_page-----fbab6722def0---------------geopandas-----------------", "anchor_text": "Geopandas"}, {"url": "https://medium.com/tag/choropleth-map?source=post_page-----fbab6722def0---------------choropleth_map-----------------", "anchor_text": "Choropleth Map"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffbab6722def0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-census-data-fbab6722def0&user=Allison+Stafford&userId=87b1f621568d&source=-----fbab6722def0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffbab6722def0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-census-data-fbab6722def0&user=Allison+Stafford&userId=87b1f621568d&source=-----fbab6722def0---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffbab6722def0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-census-data-fbab6722def0&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fbab6722def0--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ffbab6722def0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-census-data-fbab6722def0&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----fbab6722def0---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----fbab6722def0--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----fbab6722def0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----fbab6722def0--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----fbab6722def0--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----fbab6722def0--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----fbab6722def0--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----fbab6722def0--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----fbab6722def0--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@allison.stafford?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@allison.stafford?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Allison Stafford"}, {"url": "https://medium.com/@allison.stafford/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "386 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F87b1f621568d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-census-data-fbab6722def0&user=Allison+Stafford&userId=87b1f621568d&source=post_page-87b1f621568d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb4bbbb8c248&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmapping-census-data-fbab6722def0&newsletterV3=87b1f621568d&newsletterV3Id=b4bbbb8c248&user=Allison+Stafford&userId=87b1f621568d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}