{"url": "https://towardsdatascience.com/how-to-use-generator-and-yield-in-javascript-d1771bf698cd", "time": 1683009442.320828, "path": "towardsdatascience.com/how-to-use-generator-and-yield-in-javascript-d1771bf698cd/", "webpage": {"metadata": {"title": "How to Use Generator and yield in Javascript | by Juan Cruz Martinez | Towards Data Science", "h1": "How to Use Generator and yield in Javascript", "description": "Some time ago I wrote an article explaining the concept of generators and how to use them in Python, but did you know that JavaScript has its own version of generators? This is actually a concept\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/@bajcmartinez/how-to-use-generator-and-yield-in-python-c481cea097d7", "anchor_text": "generators and how to use them in Python", "paragraph_index": 0}, {"url": "https://medium.com/@bajcmartinez/when-not-to-use-javascript-arrow-functions-a7340630d4a8", "anchor_text": "arrow functions", "paragraph_index": 1}, {"url": "https://medium.com/@bajcmartinez/how-to-use-the-spread-operator-in-javascript-3aff104adb71", "anchor_text": "spread operators", "paragraph_index": 1}, {"url": "https://livecodestream.dev", "anchor_text": "https://livecodestream.dev", "paragraph_index": 30}], "all_paragraphs": ["Some time ago I wrote an article explaining the concept of generators and how to use them in Python, but did you know that JavaScript has its own version of generators? This is actually a concept many people who develop JavaScript apps didn\u2019t know it existed, so today we are going to introduce generators in JavaScript.", "With ES6 we got introduced to great new functionality like arrow functions, spread operators, and generators among others, but what is a generator? A generator is a function that contrary to normal functions allows for the function to be exited and later re-entered with its context (variable bindings) preserved across re-entrances.", "Let\u2019s break that down and look into generators step by step so that we can all understand how they work. When we execute a regular function, the interpreter will run all the code into that function until the function is completed (or throws an error). This is known as the run-to-completion model.", "Let\u2019s take an example of a very simple function:", "Nothing fancy yet, just as you expected is a regular function that\u2019s executing until it reaches the end or returns a value. But what if we just want to stop the function at any point to return a value, and then continue? That\u2019s when generators enter the picture.", "Before we execute that function you may be wondering about a few things, first what is function*? That\u2019s the syntax we use to declare a function as a generator. And what about yield? The yield, in difference to a return, will pause the function by saving all its states and will later continue from that point on successive calls. In both cases, the expression will be returned to the callers' execution.", "What did exactly happened to our function as such? Let\u2019s find out by calling the function:", "Wait, what? When we call a generator function the function is not automatically triggered and instead, it returns an iterator object. What\u2019s particular about this object is that when the method next() is called, the generator function\u2019s body is executed until the first yield or return expression. Let\u2019s see it in action:", "As explained the generator run until the first yield statement and yielded an object containing a value property, and a done property.", "Let\u2019s invoke next() one more time and see what we get", "This time we first see the console.log in our generator body being executed and printing First log!, and the second yielded object. And we could continue doing this like:", "Now the second console.log statement is executed and we get a new returned object, but this time the property done is set to true.", "The value of the done property is not just a flag, it is a very important flag as we can only iterate a generator object once!. Don\u2019t believe me? try calling next() one more time:", "Good it didn\u2019t crash, but we only got undefined as the value and the done property remains set to true.", "Before we move on to some scenarios, there\u2019s one more particularity of the yield operator, which is yield*. Let\u2019s explain it by creating a function that allows us to iterate over an array, naively we could think of doing:", "But that\u2019s not quite what we wanted, we wanted to yield each element in the array, so we could try doing something like:", "Now we got the desired result, but can we do better? Yes, we can:", "Awesome, by using yield* expression we can iterate over the operand and yield each value returned by it. This applies to other generators, arrays, strings, any iterable object.", "Now that you know all about generators in JavaScript, what are they good for?", "The great thing about generators is the fact that they are lazy evaluated, meaning that the value that gets returned after invoking the next() method, is only computed after we specifically asked for it. This makes generators a good choice for solving multiple scenarios like the ones presented below.", "As we saw in the Python article, generators are good for generating infinite sequences, this could be anything from prime numbers to a simple count:", "Note that in this case, I\u2019m exiting the loop when i >= 10 otherwise, it would be running forever (or until manually stopped).", "When you need to implement an iterator, you have to manually create an object with a next() method. Also, you have to manually save the state.", "Imagine we want to make an iterable that simply returns I, am, iterable. Without using generators we would have to do something like:", "With generators this is much simpler:", "Some argue generators can help improve the use of promises and callbacks, though I\u2019d preferably simply use await/async.", "Not all is shiny when we work with generators. There are some limitations by design, and there are 2 very important considerations:", "Generator functions are great for optimizing the performance of our applications and also help to simplify the code required to build iterators.", "I hope you now have a good understanding of generators in JavaScript and that you can use them on your next project.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I help people learn tech skills so they can level up their life. Founder of https://livecodestream.dev, content creator, and Oktanaut!"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fd1771bf698cd&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-generator-and-yield-in-javascript-d1771bf698cd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-generator-and-yield-in-javascript-d1771bf698cd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-generator-and-yield-in-javascript-d1771bf698cd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-generator-and-yield-in-javascript-d1771bf698cd&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----d1771bf698cd--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d1771bf698cd--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://bajcmartinez.medium.com/?source=post_page-----d1771bf698cd--------------------------------", "anchor_text": ""}, {"url": "https://bajcmartinez.medium.com/?source=post_page-----d1771bf698cd--------------------------------", "anchor_text": "Juan Cruz Martinez"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F46b6f430560f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-generator-and-yield-in-javascript-d1771bf698cd&user=Juan+Cruz+Martinez&userId=46b6f430560f&source=post_page-46b6f430560f----d1771bf698cd---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd1771bf698cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-generator-and-yield-in-javascript-d1771bf698cd&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd1771bf698cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-generator-and-yield-in-javascript-d1771bf698cd&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@thomasreaubourg?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Thomas Reaubourg"}, {"url": "https://towardsdatascience.com/s/photos/wind-turbine?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://medium.com/@bajcmartinez/how-to-use-generator-and-yield-in-python-c481cea097d7", "anchor_text": "generators and how to use them in Python"}, {"url": "https://medium.com/@bajcmartinez/when-not-to-use-javascript-arrow-functions-a7340630d4a8", "anchor_text": "arrow functions"}, {"url": "https://medium.com/@bajcmartinez/how-to-use-the-spread-operator-in-javascript-3aff104adb71", "anchor_text": "spread operators"}, {"url": "https://medium.com/tag/programming?source=post_page-----d1771bf698cd---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/javascript?source=post_page-----d1771bf698cd---------------javascript-----------------", "anchor_text": "JavaScript"}, {"url": "https://medium.com/tag/typescript?source=post_page-----d1771bf698cd---------------typescript-----------------", "anchor_text": "Typescript"}, {"url": "https://medium.com/tag/software-engineering?source=post_page-----d1771bf698cd---------------software_engineering-----------------", "anchor_text": "Software Engineering"}, {"url": "https://medium.com/tag/nodejs?source=post_page-----d1771bf698cd---------------nodejs-----------------", "anchor_text": "Nodejs"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd1771bf698cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-generator-and-yield-in-javascript-d1771bf698cd&user=Juan+Cruz+Martinez&userId=46b6f430560f&source=-----d1771bf698cd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd1771bf698cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-generator-and-yield-in-javascript-d1771bf698cd&user=Juan+Cruz+Martinez&userId=46b6f430560f&source=-----d1771bf698cd---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd1771bf698cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-generator-and-yield-in-javascript-d1771bf698cd&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d1771bf698cd--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fd1771bf698cd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-generator-and-yield-in-javascript-d1771bf698cd&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----d1771bf698cd---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----d1771bf698cd--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----d1771bf698cd--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----d1771bf698cd--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----d1771bf698cd--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----d1771bf698cd--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----d1771bf698cd--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----d1771bf698cd--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----d1771bf698cd--------------------------------", "anchor_text": ""}, {"url": "https://bajcmartinez.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://bajcmartinez.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Juan Cruz Martinez"}, {"url": "https://bajcmartinez.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "2.7K Followers"}, {"url": "https://livecodestream.dev", "anchor_text": "https://livecodestream.dev"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F46b6f430560f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-generator-and-yield-in-javascript-d1771bf698cd&user=Juan+Cruz+Martinez&userId=46b6f430560f&source=post_page-46b6f430560f--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F22c096860c66&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-generator-and-yield-in-javascript-d1771bf698cd&newsletterV3=46b6f430560f&newsletterV3Id=22c096860c66&user=Juan+Cruz+Martinez&userId=46b6f430560f&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}