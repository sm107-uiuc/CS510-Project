{"url": "https://towardsdatascience.com/bias-correction-for-paid-search-in-media-mix-modeling-paper-review-d3579cfaee9b", "time": 1683014336.088334, "path": "towardsdatascience.com/bias-correction-for-paid-search-in-media-mix-modeling-paper-review-d3579cfaee9b/", "webpage": {"metadata": {"title": "Bias Correction For Paid Search In Media Mix Modeling: Paper Review | by Chris Barton | Towards Data Science", "h1": "Bias Correction For Paid Search In Media Mix Modeling: Paper Review", "description": "Media Mix Modeling attempts to estimate the causal effect of media spend on sales, solely based on observational data. And, as we all know estimating causal effects from observational data is fraught\u2026"}, "outgoing_paragraph_urls": [{"url": "https://arxiv.org/pdf/1807.03292.pdf", "anchor_text": "Linked Paper", "paragraph_index": 0}, {"url": "https://github.com/ijmbarr/causalgraphicalmodels", "anchor_text": "causal graphical models", "paragraph_index": 21}], "all_paragraphs": ["Bias Correction For Paid Search In Media Mix Modeling: Linked Paper", "Media Mix Modeling attempts to estimate the causal effect of media spend on sales, solely based on observational data. And, as we all know estimating causal effects from observational data is fraught with challenges.", "Over time, two leading, and complimentary, frameworks have emerged for dealing with causal inference.", "This paper explores the use of Pearl\u2019s graphical framework to control for selection bias in media mix modeling, specifically in paid search ads.", "Suppose we are aiming to measure the causal impact of search advertising (PPC) on sales. In a simple regression model, we can regress spend on sales and produce a causal estimate:", "sales= average_sales + roas_estimate * search_spend + error", "We can fit the model above with ordinary least squares (OLS), and in a simple world this would produce an accurate estimate of ROAS. Unfortunately, the world isn\u2019t so simple and we know that there are often confounding variables. For example, we know that organic search is also a driver of sales and that both organic search and paid search have an underlying cause i.e. consumer demand. The graph below illustrates this.", "Above, we can see how economic factors drive consumers demand, which in turn drives search queries, which in turn drive paid search and organic search.", "When we use our simple model, defined above, to model the more complex world pictured above we run into the problem of selection-bias or more broadly endogeneity.", "Endogeneity: is a term used in econometrics and refers to an explanatory variable that is correlated with the error term.", "Put simply, our model is capturing, or absorbing, the explanatory value of organic search in both the error term and the ROAS estimate, thus producing and biased ROAS estimate.", "To control for this, the paper suggests using Pearl\u2019s backdoor criterion. Pearl\u2019s backdoor criterion is based on the idea of using graphical models to describe the causal relationships. Graphical models are useful as they allow us to incorporate domain knowledge and ideas from graph theory.", "D-separation is short for directed-separation and it allows us to communicate if two nodes in a graph are separated (or conditionally independent of each other) by a set third nodes.", "For example, in the graph below, we can say Z is d-separated, or conditionally independent, from Y given x1 and x2.", "Another important idea is the backdoor criterion.", "Backdoor criterion: Given a causal diagram, a set of variables Z satisfies theback-door criterion relative to an ordered pair of variables (X, Y ) in the diagram if: 1) no node in Z is a descendant of X; and 2) Z \u201cblocks\u201d every path between X and Y that contains an arrow into X.", "Furthermore, if a set of nodes, Z, satisfies the backdoor criterion for the directed pair (X \u2192Y) we can uncover an unbiased estimate of X on Y, given a large enough data set. This is also defined as identifiability.", "To familiarize yourself with the concept of backdoor criterion, I recommend playing with the following code snippet (try creating various graphs and determine what nodes would satisfy the backdoor criterion) and exploring additional resources.", "Now that we\u2019ve explored some of the basic concepts related causal graphical models, we can see how they are applied to recover an unbiased ROAS estimate for paid search. To begin, the paper illustrates the causal structure of the environment. (seen below)", "The above diagram suggests we are modeling the impact as:", "Where error_0 and error_1 absorb the impact of consumer demand and organic search, respectively.", "Based on our knowledge of graphical models, we now know that, if we can recover a measure of search queries, we can satisfy the backdoor criterion for (search ad X \u2192 Sales). To test this, we can use a handy package called: causal graphical models.", "In the code above, we define our causal graphical model (DAG) and test if our control variables satisfy the backdoor criterion for (paid_search \u2192 sales).", "Next, we generate sample data and run and OLS regression to compare estimates when we satisfy the backdoor criterion and when we don\u2019t.", "Resulting in the following ROAS estimates:", "As we can see, both estimates capture the true parameter with the unbiased estimator (backdoor criterion satisfied) coming much closer to the true estimate.", "Now, you may have noticed, in the code sample, that we only sampled 156 data points, which would be equal to three years worth of weekly MMM data. This isn\u2019t is lot of data and brings up an important point i.e. how do we know when our sample size is enough?", "The paper suggests that this concern may be alleviated \u201cwhen sample size is sufficiently large to allow for non-parametric estimates\u201d, however large sample sizes are not common in MMM modeling.", "To explore this further, I\u2019ve created the graphs below show how the ROAS estimates and confidence intervals change given increasingly larger sample sizes.", "As we can see, the unbiased estimator converges to the true parameters, whereas are biased estimator is overly optimistic. Additionally, the graphs above highlight how the small sample sizes produce very large confidence intervals. Something to take note of if the sample size is small.", "At this point, we\u2019ve covered the meat and bones of the theoretical portion of the paper and covered:", "The paper goes into more detail about the subjects covered here and goes on to cover:", "I highly recommend the interested reader check out the full paper for more details.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Lead Data Scientist | Interested in causality, reinforcement learning and product management."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fd3579cfaee9b&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbias-correction-for-paid-search-in-media-mix-modeling-paper-review-d3579cfaee9b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbias-correction-for-paid-search-in-media-mix-modeling-paper-review-d3579cfaee9b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbias-correction-for-paid-search-in-media-mix-modeling-paper-review-d3579cfaee9b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbias-correction-for-paid-search-in-media-mix-modeling-paper-review-d3579cfaee9b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----d3579cfaee9b--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d3579cfaee9b--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@chris_barton27?source=post_page-----d3579cfaee9b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@chris_barton27?source=post_page-----d3579cfaee9b--------------------------------", "anchor_text": "Chris Barton"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8ab5bf06b803&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbias-correction-for-paid-search-in-media-mix-modeling-paper-review-d3579cfaee9b&user=Chris+Barton&userId=8ab5bf06b803&source=post_page-8ab5bf06b803----d3579cfaee9b---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd3579cfaee9b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbias-correction-for-paid-search-in-media-mix-modeling-paper-review-d3579cfaee9b&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd3579cfaee9b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbias-correction-for-paid-search-in-media-mix-modeling-paper-review-d3579cfaee9b&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://arxiv.org/pdf/1807.03292.pdf", "anchor_text": "Linked Paper"}, {"url": "https://github.com/ijmbarr/causalgraphicalmodels", "anchor_text": "causal graphical models"}, {"url": "https://medium.com/tag/data-science?source=post_page-----d3579cfaee9b---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/causality?source=post_page-----d3579cfaee9b---------------causality-----------------", "anchor_text": "Causality"}, {"url": "https://medium.com/tag/modeling?source=post_page-----d3579cfaee9b---------------modeling-----------------", "anchor_text": "Modeling"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----d3579cfaee9b---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/marketing-science?source=post_page-----d3579cfaee9b---------------marketing_science-----------------", "anchor_text": "Marketing Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd3579cfaee9b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbias-correction-for-paid-search-in-media-mix-modeling-paper-review-d3579cfaee9b&user=Chris+Barton&userId=8ab5bf06b803&source=-----d3579cfaee9b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fd3579cfaee9b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbias-correction-for-paid-search-in-media-mix-modeling-paper-review-d3579cfaee9b&user=Chris+Barton&userId=8ab5bf06b803&source=-----d3579cfaee9b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd3579cfaee9b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbias-correction-for-paid-search-in-media-mix-modeling-paper-review-d3579cfaee9b&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----d3579cfaee9b--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fd3579cfaee9b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbias-correction-for-paid-search-in-media-mix-modeling-paper-review-d3579cfaee9b&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----d3579cfaee9b---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----d3579cfaee9b--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----d3579cfaee9b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----d3579cfaee9b--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----d3579cfaee9b--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----d3579cfaee9b--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----d3579cfaee9b--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----d3579cfaee9b--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----d3579cfaee9b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@chris_barton27?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@chris_barton27?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Chris Barton"}, {"url": "https://medium.com/@chris_barton27/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "85 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8ab5bf06b803&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbias-correction-for-paid-search-in-media-mix-modeling-paper-review-d3579cfaee9b&user=Chris+Barton&userId=8ab5bf06b803&source=post_page-8ab5bf06b803--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F15d12ee618ae&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbias-correction-for-paid-search-in-media-mix-modeling-paper-review-d3579cfaee9b&newsletterV3=8ab5bf06b803&newsletterV3Id=15d12ee618ae&user=Chris+Barton&userId=8ab5bf06b803&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}