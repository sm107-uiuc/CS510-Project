{"url": "https://towardsdatascience.com/distributed-birding-2b2565ce9660", "time": 1683007522.984927, "path": "towardsdatascience.com/distributed-birding-2b2565ce9660/", "webpage": {"metadata": {"title": "Distributed Birding. Birding together by birding apart | by John Hurley | Towards Data Science", "h1": "Distributed Birding", "description": "Santa Clara County is the heart of Silicon Valley and has some amazing birding spots. We are in the n-th week of a shelter-in-place directive with various birdathons coming up. My birding friends\u2026"}, "outgoing_paragraph_urls": [{"url": "https://johnhurley.smugmug.com/Birding/TwoStar/", "anchor_text": "decent photos", "paragraph_index": 2}, {"url": "https://ebird.org/home", "anchor_text": "eBird", "paragraph_index": 4}, {"url": "https://github.com/jhurley13/DistributedBirding", "anchor_text": "GitHub repository", "paragraph_index": 6}, {"url": "https://python-visualization.github.io/folium/modules.html", "anchor_text": "Folium", "paragraph_index": 9}, {"url": "https://operations.osmfoundation.org/policies/nominatim/", "anchor_text": "terms of usage", "paragraph_index": 28}, {"url": "https://www.linkedin.com/in/johnhurleyphd/", "anchor_text": "my background", "paragraph_index": 39}], "all_paragraphs": ["Santa Clara County is the heart of Silicon Valley and has some amazing birding spots. We are in the n-th week of a shelter-in-place directive with various birdathons coming up. My birding friends, the Sharpies, were thinking of how we could best cover our territory. Our outside activities have been restricted to within five miles of our houses, but 5MR birding (5 mile radius) is already a thing, so let\u2019s run with it.", "The Jupyter notebook for this project is a great tool for 5MR birding or planning Big Days and Christmas Bird Counts, whether you are birding together or apart.", "I am far and away the worst birder in the group, but have taken some decent photos and it turns out my data science skills have come in handy, so they tolerate me. I decided to use these skills to give us as much information as possible about where the birds are and where we should each go.", "The files generated by this project give listings of hotspots for each person, unique birds that only certain team members can see, maps to help visualize the best birding spots and more.", "The Cornell Lab of Ornithology runs eBird, the world\u2019s largest biodiversity-related citizen science project. Since they also support a programmatic interface, we can use tools like Python to mine and explore this data.", "When a team is running a Big Day event (distributed or not), the goal is to find as many species of birds as possible in a 24 hour period. Using the files generated by this tool, you can see where to concentrate your efforts for maximum effect, and optimize your Big Day experience.", "The code for this can be found in the GitHub repository.", "I\u2019m going to start off with a bit of a teaser before diving into technical details. One of the files generated by this tool is an interactive individual map for each participant\u2019s 5MR. This is an HTML file which is a map showing the hotspots in one person\u2019s 5MR.", "The color of the marker indicates the number of species: gray for the bottom third, cyan for the middle, blue for the most. Clicking on a marker shows the actual count and latitude/longitude. Hovering over a marker shows the hotspot name. Given the large concentration of blue markers near the edge of San Francisco Bay, one of those hotspots is probably where you should go first.", "Leveraging Folium, a package for map generation, the code for generating the map is only 85 lines of Python code; the code for the whole project is less than 1000 lines.", "This is mostly aimed at birders, but there is a fair amount of data science, geolocation and mapping code as well, so this should be of interest to data scientists. This project makes use of some powerful Python libraries such as Folium, GeoPandas, Shapely and Geog to produce useful data for planning. A key part of data science is understanding your data, and understanding your users. This code evolved over a couple of months as my birding group asked for features.", "As far as understanding your users, many birders are non-technical but are comfortable working with spreadsheets, so the inputs and outputs are spreadsheets. Visualization can be equally important. The HTML maps that are generated can allow you to make some quick decisions. In the example 5MR map above, the heavy concentration of blue markers along San Francisco Bay tells you right away that\u2019s the place to start to rack up the most species.", "If you are a birding team with no coding experience, enlist the help of a Python coder to run things; the generated reports will greatly simplify your distributed birding planning.", "There are a few things you need to do and/or know to get started.", "Using the my5mr-uniques.csv and my5mr-limited.csv files, each team member can see birds that three or fewer team members have a probability of finding. This is based on the species that have been seen by others in the past 14 days in these locations according to the eBird data.", "With the interactive map in my5mr-map_NAME.html, each person can see their 5MR along with markers for each hotspot. The markers are color-coded so that lightgrey is the bottom third for quantity of species, lightcyan is the middle and cornflowerblue is the top third. Hovering over a marker shows the name of the hotspot, and clicking on it shows the species count at that location.", "To get the best possible coverage over the combined 5MRs, you can use the my5mr-unique-hotspots.csv file to see hotspots that are unique to you. This may mean that you will see species that no one else will.", "An advanced feature is that you can put a subset of your contacts list into the Parameters file to limit participants for a particular event. For example, if your contacts file has 20 entries, but only 5 people are going on a particular event, add their names to the Parameters file. This will properly calculate intersections so that you know who needs to go where.", "The only required input is a spreadsheet of birding contacts. For each person, either an address or latitude/longitude is required to determine their 5MR. The tool can read CSV or Excel files.", "Replace the Contacts.csv file in data/external with your own contacts file. Several examples can be found in the SampleInputs directory.", "The bulk of the output from this tool is found in the reports directory. There are interactive maps in HTML format, and spreadsheets with various data in CSV format.", "From this report, we are depending on John Gould to find the Rock Wren and Harriet Hemenway for the Red Crossbill. Minna and Thomas have their work cut out for them, but John Audubon is off the hook for any particular species.", "Here Minna Hall and Rachel Carson have the best chance of seeing a Black Oystercatcher.", "The team circles map gives a quick overview of all of the 5MR circles.", "The region codes used by eBird look something like \u201cUS-CA-085\u201d (Santa Clara County, CA USA). These can be handled automatically by the code, at least in the US.", "If you need to find your region code manually, follow these steps:", "The code will look at all of the 5MRs for all of the partipants, and intersect those with the counties for the US. For each county that intersects, the eBird region code is found and added to the list for hotspots, observations, etc.", "If you would like to restrict the list of counties, you can manually enter region codes in the Parameters file, found in data/external. An example is found in SampleInputs/Parameters-Regions.csv.", "There are two services to be aware of as you run this code. The first is a geolocation service Nominatim. Each lookup is delayed by one second to avoid hitting the server too hard. In addition, we maintain a local cache in data/interim/GeolocationCache.csv to avoid re-querying for an address. See their terms of usage for more information.", "The other service is eBird, and we try to limit the calls we make although we do not cache this information currently.", "You\u2019ve gotten this far, but haven\u2019t seen any code yet. I didn\u2019t want to scare away birders that don\u2019t code, since I think the tool can be useful as is.", "The code reads CSV or Excel files, looks up geolocations from an address with Nominatim, demonstrates caching of results, and does a fair bit of geometric manipulation. We use the requests library to get the data from eBird.", "There aren\u2019t really short, pithy code fragments that would make sense to dump into an article, so I will highlight some of the main functions and what you might learn from them.", "The overall structure of the notebook, including functions like create_project_paths, comes from this article of mine:", "Some of my code is from last year, before there was support for version 2.0 of the API. In the future, I will looking into using the ebird-api package shown below rather than writing my own for accessing eBird through the API.", "The code for creating the map with the 5MR circles for all participants is short enough to show here:", "Some of the functions are listed here:", "Note the use of pd.qcut in individual_hotspot_maps to split species count at the hotspots into low, medium, high so the markers can be colored appropriately.", "The code in region_codes_from_contacts was interesting to write, as it looks at all 5MRs and their intersection with all counties in the US to find overlaps. From the matched counties, it calls eBird to get the list of regions and returns the code, e.g. US-CA-085.", "Given my background, I have to point out a couple of security related issues. First, note that the credentials file is stored outside the project directory, in your home directory. Since this is a secret, you don\u2019t want to accidentally check it into the repository. I actually keep mine in an encrypted disk image. If this were an even more sensitive secret, I would store it in the Keychain on macOS.", "Secondly, if it is important to protect people\u2019s information or location, you can substitute addresses or geolocations of nearby public spots rather than actual home addresses. This will mean the 5MR is off by a bit.", "I hope that this article and code is useful, both for bird excursion planning and for learning data science and mapping techniques.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F2b2565ce9660&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdistributed-birding-2b2565ce9660&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdistributed-birding-2b2565ce9660&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdistributed-birding-2b2565ce9660&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdistributed-birding-2b2565ce9660&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----2b2565ce9660--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2b2565ce9660--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://johnhurleyphd.medium.com/?source=post_page-----2b2565ce9660--------------------------------", "anchor_text": ""}, {"url": "https://johnhurleyphd.medium.com/?source=post_page-----2b2565ce9660--------------------------------", "anchor_text": "John Hurley"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb1a3417106f5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdistributed-birding-2b2565ce9660&user=John+Hurley&userId=b1a3417106f5&source=post_page-b1a3417106f5----2b2565ce9660---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2b2565ce9660&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdistributed-birding-2b2565ce9660&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2b2565ce9660&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdistributed-birding-2b2565ce9660&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://johnhurley.smugmug.com/Birding/TwoStar/", "anchor_text": "decent photos"}, {"url": "https://ebird.org/home", "anchor_text": "eBird"}, {"url": "https://github.com/jhurley13/DistributedBirding", "anchor_text": "GitHub repository"}, {"url": "https://github.com/jhurley13/DistributedBirding.git", "anchor_text": "jhurley13/DistributedBirdingTool for planning distributed birding events using eBird data Replace the Contacts.csv file in data/external with your\u2026github.com"}, {"url": "https://python-visualization.github.io/folium/modules.html", "anchor_text": "Folium"}, {"url": "https://ebird.org/api/keygen", "anchor_text": "API Key for eBird"}, {"url": "https://github.com/jhurley13/DistributedBirding.git", "anchor_text": "Github repository"}, {"url": "https://ebird.org/explore", "anchor_text": "https://ebird.org/explore"}, {"url": "https://ebird.org/region/US-CA-085?yr=all", "anchor_text": "https://ebird.org/region/US-CA-085?yr=all"}, {"url": "https://operations.osmfoundation.org/policies/nominatim/", "anchor_text": "terms of usage"}, {"url": "https://medium.com/@jhurley_97842/create-a-template-for-your-jupyter-notebooks-80352d265cd4", "anchor_text": "Create a template for your Jupyter NotebooksQuick starts for your data science investigationsmedium.com"}, {"url": "https://pypi.org/project/ebird-api/", "anchor_text": "ebird-apieBird API provides a set of wrapper functions for accessing the end-points in the eBird API 2.0. pip install ebird-api\u2026pypi.org"}, {"url": "https://www.linkedin.com/in/johnhurleyphd/", "anchor_text": "my background"}, {"url": "https://ebird.org/science/download-ebird-data-products", "anchor_text": "Download eBird data products - eBirdeBird provides open data access in several formats to logged-in users, ranging from raw data to processed datasets\u2026ebird.org"}, {"url": "https://nominatim.org", "anchor_text": "NominatimNominatim uses OpenStreetMap data to find locations on Earth by name and address (geocoding). It can also do the\u2026nominatim.org"}, {"url": "https://python-visualization.github.io/folium/modules.html", "anchor_text": "folium - Folium 0.11.0 documentationMake beautiful, interactive maps with Python and Leaflet.js Classes for drawing maps. Bases\u2026python-visualization.github.io"}, {"url": "https://medium.com/tag/birding?source=post_page-----2b2565ce9660---------------birding-----------------", "anchor_text": "Birding"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----2b2565ce9660---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/folium?source=post_page-----2b2565ce9660---------------folium-----------------", "anchor_text": "Folium"}, {"url": "https://medium.com/tag/geopandas?source=post_page-----2b2565ce9660---------------geopandas-----------------", "anchor_text": "Geopandas"}, {"url": "https://medium.com/tag/christmas-bird-count?source=post_page-----2b2565ce9660---------------christmas_bird_count-----------------", "anchor_text": "Christmas Bird Count"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2b2565ce9660&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdistributed-birding-2b2565ce9660&user=John+Hurley&userId=b1a3417106f5&source=-----2b2565ce9660---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2b2565ce9660&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdistributed-birding-2b2565ce9660&user=John+Hurley&userId=b1a3417106f5&source=-----2b2565ce9660---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2b2565ce9660&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdistributed-birding-2b2565ce9660&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2b2565ce9660--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F2b2565ce9660&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdistributed-birding-2b2565ce9660&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----2b2565ce9660---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----2b2565ce9660--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----2b2565ce9660--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----2b2565ce9660--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----2b2565ce9660--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----2b2565ce9660--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----2b2565ce9660--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----2b2565ce9660--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----2b2565ce9660--------------------------------", "anchor_text": ""}, {"url": "https://johnhurleyphd.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://johnhurleyphd.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "John Hurley"}, {"url": "https://johnhurleyphd.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "361 Followers"}, {"url": "https://www.linkedin.com/in/johnhurleyphd/", "anchor_text": "https://www.linkedin.com/in/johnhurleyphd/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb1a3417106f5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdistributed-birding-2b2565ce9660&user=John+Hurley&userId=b1a3417106f5&source=post_page-b1a3417106f5--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fde8c5741d55f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdistributed-birding-2b2565ce9660&newsletterV3=b1a3417106f5&newsletterV3Id=de8c5741d55f&user=John+Hurley&userId=b1a3417106f5&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}