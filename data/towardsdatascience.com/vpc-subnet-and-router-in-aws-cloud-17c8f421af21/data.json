{"url": "https://towardsdatascience.com/vpc-subnet-and-router-in-aws-cloud-17c8f421af21", "time": 1683008786.106543, "path": "towardsdatascience.com/vpc-subnet-and-router-in-aws-cloud-17c8f421af21/", "webpage": {"metadata": {"title": "VPC, Subnet and Router in AWS Cloud | by competitor-cutter | Towards Data Science", "h1": "VPC, Subnet and Router in AWS Cloud", "description": "A VPC is a virtual private cloud that allows us to create a logical unit of the network where the hardware and resources are managed by the vendor, or the service provides. As users, we are\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Instruction \u2014 At each step, I have given instruction on how I performed that step, however, in the description below I am explaining my own assessment of the whole process and it might differ for other people. (please correct me if you can)", "As a side note, if the writeup below seems too disjointed, just open AWS console and start getting hands-on the practical, it will be a piece of cake that way.", "A VPC is a virtual private cloud that allows us to create a logical unit of the network where the hardware and resources are managed by the vendor, or the service provides. As users, we are responsible for the configuration and logical setup of the network.", "A VPC can only be defined within a single region, each VPC can have a number of subnets. Subnets are used to provide granularity inside the VPC. I have created three subnets for this blog. Each subnet must have its IP address range within the range of the VPC IPs and each subnet should not have their IPs collided with other subnets. We use the CIDR block to setup those IP ranges.", "Each subnet can either be a public subnet or a private subnet. A public subnet has direct access to the internet, whereas a private subnet does not have direct access to the internet.", "Once a VPC is set up, we need to create an internet gateway to allow VPC traffic flow to-and-from the internet. Having an internet gateway does not make every subnet public to the internet, it rather allows route table to make that decision.", "A routing table moves the traffic inside a VPC that is coming from the gateway and divides it among subnets. Each VPC has a default route table that is connected to each subnet. On the other hand, we can create our own route table to define the flow of traffic within VPC. Thus, I have created a separate route table and then I have attached it to the internet gateway with IP 0.0.0.0/0, and then I have associated two subnets to this self-made route table. This way, I have made two of my subnets (out of three)to have public access, whereas the third subnet is just attached to the default route table (still private).", "An important note to have is that each VPC can only have one internet gateway. When I tried to attach another gateway, the system did not allow me to do so.", "As other services within AWS requires a security group to define inbound and outbound traffic, the VPC also requires so. Thus, I have provided HTTP inbound traffic and full outbound traffic. This means any HTTP request coming in from the internet gateway will be allowed to reach inside the network, and SSH is also allowed. However, every kind of output traffic will be allowed toward the internet.", "When a network is set up, it is critical to monitor any changes for security reasons. Therefore, we have to set up a log flow that will track each and every activity inside our VPC and send it to the desired destination. We can either send it to s3 and then use the data for analysis, or we can send it to cloud watch. I have set up my flow log to be sent to CloudWatch with an appropriate IAM role.", "2. Create three subnets with different availability zones. Go to the subnet on the left panel and click create a subnet. Provide the name to the subnet and attach it to concerning VPC. Repeat the step three times to create three subnets each with different availability zone as highlighted below in snapshots.", "3. Created an internet gateway and attached it to VPC. Click on the internet gateway on the left panel and provide a name and click create. I have named it lab internet gateway. Once created, select the gateway and click on the Action drop-down menu. There will be an option to attach it to a specific VPC. Once attached, go back to your VPC menu.", "4. Created another internet gateway and tried to attach it to the same VPC. Again follow the same steps as above, and see that we can only attach one gateway to one VPC.", "5. Out of three subnets making 2 with public access and leaving 1 private access after creating a public access route table. First, create a routing table, then attach the concerning VPC. Once the VPC is attached and the routing table is created, click the router tab and edit the route table. In route table, click add route and enter 0.0.0.0/0 which is a public access IP. Now attach that IP with the VPC gateway we created in the above steps. Now, to make two of our subnets have public access, go to subnet associated tab and edit subnet association and select two subnets and hit save button. This way, we have created a routing table that is attached to the VPC gateway, and we have attached two subnets to that route table that can have public access through that attached gateway.", "6. Now that we have attached the subnet to the VPC and routing table to the gateway, I am attaching the security group. The security groups would allow the traffic in and out of our VPC. For inbound traffic, I am allowing HTTP and SSH, and for outbound traffic, I am allowing full access. This means that only HTTP and SSH elements can enter the VPC but everything inside the VPC can be sent outside without any restriction. First, click on security groups on the left panel and click \u201ccreate security groups\u201d and then provide security group with a new name, provide a description and attach the concerning VPC. Then provide the inbound and outbound traffic rules as shown in the snapshot. Once done, click create security groups and it will be attached to the VPC.", "7. Now that we have set up the whole environment, it is important to keep track of every activity inside our network. For that, we would have to create a VPC flow log. First, click on the VPC we have created \u00e0 then click on the flow log tab andthen click on the \u201ccreate flow log\u201d button which has blue color and then select the filter which tells the flow log to monitor the specific type of activity. For example, if we want to monitor only rejected requests in our network, or only allowed requests to our network, or both. I have selected All. Now create a destination log group, this log group would contain all the information of logs from our network, additionally one can send logs to the s3 bucket as well. In order to access the log group, we also have to attach the IAM policy to allow the flow log to have access to cloud watch log groups. Finally, we hit save.", "We are done here, Our network is set. If you have any comments, please do share your thoughts. Thank you!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Engineer | Cloud Computing | Back-end | ML"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F17c8f421af21&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvpc-subnet-and-router-in-aws-cloud-17c8f421af21&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvpc-subnet-and-router-in-aws-cloud-17c8f421af21&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvpc-subnet-and-router-in-aws-cloud-17c8f421af21&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvpc-subnet-and-router-in-aws-cloud-17c8f421af21&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----17c8f421af21--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----17c8f421af21--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@competative_cutter?source=post_page-----17c8f421af21--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@competative_cutter?source=post_page-----17c8f421af21--------------------------------", "anchor_text": "competitor-cutter"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F76c320eaa5d4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvpc-subnet-and-router-in-aws-cloud-17c8f421af21&user=competitor-cutter&userId=76c320eaa5d4&source=post_page-76c320eaa5d4----17c8f421af21---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F17c8f421af21&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvpc-subnet-and-router-in-aws-cloud-17c8f421af21&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F17c8f421af21&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvpc-subnet-and-router-in-aws-cloud-17c8f421af21&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/tag/aws?source=post_page-----17c8f421af21---------------aws-----------------", "anchor_text": "AWS"}, {"url": "https://medium.com/tag/cloud-computing?source=post_page-----17c8f421af21---------------cloud_computing-----------------", "anchor_text": "Cloud Computing"}, {"url": "https://medium.com/tag/data-science?source=post_page-----17c8f421af21---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/computer-science?source=post_page-----17c8f421af21---------------computer_science-----------------", "anchor_text": "Computer Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----17c8f421af21---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F17c8f421af21&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvpc-subnet-and-router-in-aws-cloud-17c8f421af21&user=competitor-cutter&userId=76c320eaa5d4&source=-----17c8f421af21---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F17c8f421af21&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvpc-subnet-and-router-in-aws-cloud-17c8f421af21&user=competitor-cutter&userId=76c320eaa5d4&source=-----17c8f421af21---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F17c8f421af21&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvpc-subnet-and-router-in-aws-cloud-17c8f421af21&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----17c8f421af21--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F17c8f421af21&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvpc-subnet-and-router-in-aws-cloud-17c8f421af21&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----17c8f421af21---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----17c8f421af21--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----17c8f421af21--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----17c8f421af21--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----17c8f421af21--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----17c8f421af21--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----17c8f421af21--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----17c8f421af21--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----17c8f421af21--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@competative_cutter?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@competative_cutter?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "competitor-cutter"}, {"url": "https://medium.com/@competative_cutter/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "273 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F76c320eaa5d4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvpc-subnet-and-router-in-aws-cloud-17c8f421af21&user=competitor-cutter&userId=76c320eaa5d4&source=post_page-76c320eaa5d4--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fed31dbb253c7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvpc-subnet-and-router-in-aws-cloud-17c8f421af21&newsletterV3=76c320eaa5d4&newsletterV3Id=ed31dbb253c7&user=competitor-cutter&userId=76c320eaa5d4&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}