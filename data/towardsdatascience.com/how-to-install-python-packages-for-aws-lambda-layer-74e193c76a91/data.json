{"url": "https://towardsdatascience.com/how-to-install-python-packages-for-aws-lambda-layer-74e193c76a91", "time": 1683001242.8240058, "path": "towardsdatascience.com/how-to-install-python-packages-for-aws-lambda-layer-74e193c76a91/", "webpage": {"metadata": {"title": "How to Install Python Packages for AWS Lambda Layers | by Jeno Yamma | Towards Data Science", "h1": "How to Install Python Packages for AWS Lambda Layers", "description": "When I first heard about AWS Lambda I was quite confused about what it was and tried to use it to train a simple ML model but was hit with a hard 5 minutes execution limit. Fast-forward a few years\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/using-serverless-and-sam-to-deploy-a-scheduled-lambda-with-packages-ed7efdc73070", "anchor_text": "article", "paragraph_index": 14}], "all_paragraphs": ["When I first heard about AWS Lambda I was quite confused about what it was and tried to use it to train a simple ML model but was hit with a hard 5 minutes execution limit. Fast-forward a few years, I believe Lambda has evolved a lot and so have people\u2019s understanding of event-driven systems and serverless compute. It has become part of many modern applications and data architects.", "At re:Invent 2018, Lambda was heavily buffed with custom runtime and an increase in execution runtime limit to 15 minutes. Lambda Layers was also released which allowed you to share common dependencies to ease lambda deployment size and updates. However, AWS still hasn\u2019t addressed the needs of friendly steps to bring in non-native python packages such as Pandas.", "Currently, you either have to zip up your Lambda function and Linux compatible dependencies, or upload your dependencies as a Lambda Layers. If you\u2019ve played around with Google Cloud Functions and Azure Function before then you would know that it can be as easy as to writing a wish list in the requirements.txt.", "To add extra complexities, some of the Python packages need to compile C or C++ extensions (packages such as Numpy and Pandas). This could be a bit of a hassle if you want to use your macOS or Windows machine to pip install -t . pandasthen zip them up for Lambda Layers which is an Amazon Linux environment.", "There are a few ways of bringing in Linux compatible dependencies whether it\u2019s through Serverless or using an EC2 Instance. Now, if you\u2019ve read some of my blogs before, I really enjoy using Lambdas in Hackathons and since time is the essence, I want to show you the easiest and quickest way on how I bring Python dependencies across as a Lambda Layers using Docker.", "Hopefully, you have Docker set up but if you don\u2019t then be sure to do that first. The first thing you will do is use an Amazon Linux as the base image and create a Dockerfile from that with a few utilities, python3.7 and Virtualenv.", "Run the commands below to create your Dockerfile with a tag.", "You should be able to see the images by doing docker images. After that, you want to bash into your container.", "Create a new virtual environment within your container to isolate your python environment and reuse the same container without worrying about global installation breaking things. You could create a container per dependencies but time is the essence here\u2026", "I named it pandas, you can call it whatever you want but be sure to activate it, install your package(s) to a specific folder, then deactivate it after.", "The packages should have been installed along with their dependencies in the python folder (or your specific folder). You can now zip up that folder as python.zip and exit the container. You will need to copy the zipped folder into your local environment so you can upload it to the Lambda Layer or S3.", "If your zipped file is larger than 50mb then you will need to upload it to S3 as opposed to uploading the zip directly in Lambda Layers. Be sure to record the S3 Object URL.", "That\u2019s it, you now have Pandas (and Numpy) to use as part for your Python Lambda as a Layer and If you want to create a deployment package then be sure you add your lambda function code within the zipped folder as a .py file.", "There are a few limitations that you need to be aware of and this includes:", "Feel free to check out my article on how to deploy Lambda (with Pandas) to AWS using Serverless or AWS SAM.", "I love writing medium articles and contribute towards a knowledge-sharing community. Outside trying out new food recipes, I help businesses build cloud and data solutions. Feel free to connect with me and say hi!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I make a lot of fried chicken, work with data here and there, and love sharing knowledge"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F74e193c76a91&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-install-python-packages-for-aws-lambda-layer-74e193c76a91&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-install-python-packages-for-aws-lambda-layer-74e193c76a91&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-install-python-packages-for-aws-lambda-layer-74e193c76a91&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-install-python-packages-for-aws-lambda-layer-74e193c76a91&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----74e193c76a91--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----74e193c76a91--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@jenoyamma?source=post_page-----74e193c76a91--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jenoyamma?source=post_page-----74e193c76a91--------------------------------", "anchor_text": "Jeno Yamma"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F85f6d55b1a44&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-install-python-packages-for-aws-lambda-layer-74e193c76a91&user=Jeno+Yamma&userId=85f6d55b1a44&source=post_page-85f6d55b1a44----74e193c76a91---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F74e193c76a91&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-install-python-packages-for-aws-lambda-layer-74e193c76a91&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F74e193c76a91&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-install-python-packages-for-aws-lambda-layer-74e193c76a91&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/using-serverless-and-sam-to-deploy-a-scheduled-lambda-with-packages-ed7efdc73070", "anchor_text": "article"}, {"url": "https://www.linkedin.com/in/cyamma/", "anchor_text": "Jeno Yamma"}, {"url": "https://medium.com/tag/aws?source=post_page-----74e193c76a91---------------aws-----------------", "anchor_text": "AWS"}, {"url": "https://medium.com/tag/lambda?source=post_page-----74e193c76a91---------------lambda-----------------", "anchor_text": "Lambda"}, {"url": "https://medium.com/tag/python?source=post_page-----74e193c76a91---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/docker?source=post_page-----74e193c76a91---------------docker-----------------", "anchor_text": "Docker"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F74e193c76a91&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-install-python-packages-for-aws-lambda-layer-74e193c76a91&user=Jeno+Yamma&userId=85f6d55b1a44&source=-----74e193c76a91---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F74e193c76a91&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-install-python-packages-for-aws-lambda-layer-74e193c76a91&user=Jeno+Yamma&userId=85f6d55b1a44&source=-----74e193c76a91---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F74e193c76a91&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-install-python-packages-for-aws-lambda-layer-74e193c76a91&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----74e193c76a91--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F74e193c76a91&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-install-python-packages-for-aws-lambda-layer-74e193c76a91&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----74e193c76a91---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----74e193c76a91--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----74e193c76a91--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----74e193c76a91--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----74e193c76a91--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----74e193c76a91--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----74e193c76a91--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----74e193c76a91--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----74e193c76a91--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jenoyamma?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jenoyamma?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Jeno Yamma"}, {"url": "https://medium.com/@jenoyamma/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "518 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F85f6d55b1a44&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-install-python-packages-for-aws-lambda-layer-74e193c76a91&user=Jeno+Yamma&userId=85f6d55b1a44&source=post_page-85f6d55b1a44--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F1337a4f348b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-install-python-packages-for-aws-lambda-layer-74e193c76a91&newsletterV3=85f6d55b1a44&newsletterV3Id=1337a4f348b&user=Jeno+Yamma&userId=85f6d55b1a44&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}