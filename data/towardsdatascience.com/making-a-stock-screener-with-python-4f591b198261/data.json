{"url": "https://towardsdatascience.com/making-a-stock-screener-with-python-4f591b198261", "time": 1683006049.653193, "path": "towardsdatascience.com/making-a-stock-screener-with-python-4f591b198261/", "webpage": {"metadata": {"title": "Making a Stock Screener with Python! | Towards Data Science", "h1": "Making a Stock Screener with Python!", "description": "Learn how to make a powerful stock screener based on Mark Minervini\u2019s Trend Template with Python."}, "outgoing_paragraph_urls": [{"url": "https://m.youtube.com/channel/UCYqMAKiU3tFijWnyqAxG4Cg", "anchor_text": "Richard Moglen\u2019s Youtube Channel", "paragraph_index": 0}, {"url": "http://www.minervini.com/blog/index.php/blog/first_things_first_how_to_chart_stocks_correctly_and_increase_your_chances.", "anchor_text": "Mark Minervini\u2019s blog post", "paragraph_index": 3}], "all_paragraphs": ["Disclaimer: The material in this article was based upon Richard Moglen\u2019s Youtube Channel for purely educational purposes and should not be taken as professional investment advice. Invest at your own discretion.", "Stock Screeners are a wonderful way to find the perfect stocks for your specific trading strategy. However, when I tried looking to find a stock screener using Python, I could hardly find any functional, automated code. So I created this article to help others make an easy-to-follow stock screener Python program based on Mark Minervini\u2019s Trend Template (the 8 principles on selecting the best stocks). Especially with the volatility in the current market, I hope this code will help you in your trading endeavors.", "Before I get into the code, I want to touch upon the stock screening criteria.", "You can read more about this template in Mark Minervini\u2019s blog post.", "Now that you are familiar with the criteria, we can get into the code. First, import the following dependencies. If you do not have one of the following modules installed on your machine, use \u201cpip install (module name)\u201d in your terminal to download them.", "First, we must import the dependencies we will use in the program such as yahoo_fin (to get the list of tickers) and pandas_datareader.data (to get historical stock data).", "Next, we must set up the variables for the rest of the program. I outlined below what each variable refers to.", "Now, we can calculate the cumulative return of the S&P 500 index over the past year and compare that value to the cumulative return for each stock in the S&P 500 during the same period. The IBD Relative Strength metric essentially calculates how a stock is performing relative to the market and other stocks during a specific time period. Since the metric is exclusively used in IBD services, we can estimate the IBD RS by dividing the cumulative return of each stock over the cumulative return of the index and then create a percentile ranking for each stock out of 100. For example, if AAPL outperformed the market greater than MSFT in a specified time period, it would have a higher RS. In Mark Minervini\u2019s Trend Template, he looks for stocks with an RS value of 70 or higher (the top 30% performing stocks in the market).", "Since in this program the RS metric is calculated with a percentile value relative to other stocks in the given list, it is better to have a list of a greater amount of stocks to make the RS value more accurate. In this program, we have chosen a list of the ~500 stocks in the S&P 500 index so that is a large enough sample size.", "To make the process faster, we can download the historical data for each stock over the past year instead of continually making requests to Yahoo Finance (which could cause errors). The time.sleep(1) at the end of the for loop can also help curb potential errors with the influx of requests. Finally, after the data manipulation with quantiles, we have a dataframe with the top 30% performing stocks in the given list as well as their respective RS values.", "Instead of calculating the metrics for each one of the stocks, we can just include the top 30% of stocks that pass condition 8 of Minervini\u2019s Trend Template (an RS value greater than 70). From here, we can calculate the metrics we need to create the conditions. The current close price is used by taking the adjusted close price for the last day. The high and lows of the past year are taken by finding the maximum and minimum values in the DataFrame for the past 260 trading days (about a year). The moving averages are used by calculating the rolling averages over the respective amount of days. The rest of the code actually executes the screener with the principles that were mentioned earlier. If a stock passes every one of the conditions, we can add it to our exportList of stocks that passed Minervini\u2019s Trend Template!", "Lastly, this code will print out a DataFrame of all the stocks that made the requirements and download the stocks to an excel file for your convenience. Now you know how how to create the stock screener used by one of the best traders of all time!", "The GitHub Gist below contains all the code for the program. I hope this algorithm will prove useful to you in the future. Thank you so much for reading!", "If you enjoyed this article, check out some of my other Python for Finance articles below!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Hey! I\u2019m Shashank Vemuri, a software engineer, stock trader, and entrepreneur."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4f591b198261&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-a-stock-screener-with-python-4f591b198261&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-a-stock-screener-with-python-4f591b198261&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-a-stock-screener-with-python-4f591b198261&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-a-stock-screener-with-python-4f591b198261&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4f591b198261--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4f591b198261--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://shashank-vemuri.medium.com/?source=post_page-----4f591b198261--------------------------------", "anchor_text": ""}, {"url": "https://shashank-vemuri.medium.com/?source=post_page-----4f591b198261--------------------------------", "anchor_text": "Shashank Vemuri"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8e7513138547&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-a-stock-screener-with-python-4f591b198261&user=Shashank+Vemuri&userId=8e7513138547&source=post_page-8e7513138547----4f591b198261---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4f591b198261&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-a-stock-screener-with-python-4f591b198261&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4f591b198261&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-a-stock-screener-with-python-4f591b198261&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://m.youtube.com/channel/UCYqMAKiU3tFijWnyqAxG4Cg", "anchor_text": "Richard Moglen\u2019s Youtube Channel"}, {"url": "https://pixabay.com/users/Pexels-2286921/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1853262", "anchor_text": "Pexels"}, {"url": "https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1853262", "anchor_text": "Pixabay"}, {"url": "https://www.investopedia.com/terms/r/relativestrength.asp", "anchor_text": "article"}, {"url": "http://www.minervini.com/blog/index.php/blog/first_things_first_how_to_chart_stocks_correctly_and_increase_your_chances.", "anchor_text": "Mark Minervini\u2019s blog post"}, {"url": "https://towardsdatascience.com/parse-thousands-of-stock-recommendations-in-minutes-with-python-6e3e562f156d", "anchor_text": "Parse Thousands of Stock Recommendations in Minutes with Python!Learn how to parse thousands of recommendations from top analysts in less than 3 minutes!towardsdatascience.com"}, {"url": "https://towardsdatascience.com/stock-news-sentiment-analysis-with-python-193d4b4378d4", "anchor_text": "Stock News Sentiment Analysis with Python!Perform sentiment analysis on financial news in seconds!towardsdatascience.com"}, {"url": "https://towardsdatascience.com/creating-a-finance-web-app-in-3-minutes-8273d56a39f8", "anchor_text": "Creating a Finance Web App in 3 Minutes!Learn how to create a Technical Analysis app using Streamlit in Python!towardsdatascience.com"}, {"url": "https://medium.com/tag/finance?source=post_page-----4f591b198261---------------finance-----------------", "anchor_text": "Finance"}, {"url": "https://medium.com/tag/python?source=post_page-----4f591b198261---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/stock-market?source=post_page-----4f591b198261---------------stock_market-----------------", "anchor_text": "Stock Market"}, {"url": "https://medium.com/tag/programming?source=post_page-----4f591b198261---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/money?source=post_page-----4f591b198261---------------money-----------------", "anchor_text": "Money"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4f591b198261&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-a-stock-screener-with-python-4f591b198261&user=Shashank+Vemuri&userId=8e7513138547&source=-----4f591b198261---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4f591b198261&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-a-stock-screener-with-python-4f591b198261&user=Shashank+Vemuri&userId=8e7513138547&source=-----4f591b198261---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4f591b198261&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-a-stock-screener-with-python-4f591b198261&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4f591b198261--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4f591b198261&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-a-stock-screener-with-python-4f591b198261&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4f591b198261---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4f591b198261--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4f591b198261--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4f591b198261--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4f591b198261--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4f591b198261--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4f591b198261--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4f591b198261--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4f591b198261--------------------------------", "anchor_text": ""}, {"url": "https://shashank-vemuri.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://shashank-vemuri.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Shashank Vemuri"}, {"url": "https://shashank-vemuri.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.1K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8e7513138547&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-a-stock-screener-with-python-4f591b198261&user=Shashank+Vemuri&userId=8e7513138547&source=post_page-8e7513138547--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb802203ab313&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmaking-a-stock-screener-with-python-4f591b198261&newsletterV3=8e7513138547&newsletterV3Id=b802203ab313&user=Shashank+Vemuri&userId=8e7513138547&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}