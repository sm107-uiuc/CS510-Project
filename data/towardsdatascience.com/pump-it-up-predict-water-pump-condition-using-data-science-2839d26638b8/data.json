{"url": "https://towardsdatascience.com/pump-it-up-predict-water-pump-condition-using-data-science-2839d26638b8", "time": 1683002251.4463181, "path": "towardsdatascience.com/pump-it-up-predict-water-pump-condition-using-data-science-2839d26638b8/", "webpage": {"metadata": {"title": "Pump it up: predict water pump condition using data science | by Shiao-li Green | Towards Data Science", "h1": "Pump it up: predict water pump condition using data science", "description": "DrivenData\u2019s competitions are in the context of building a better world. Pump It Up looks at determining the functionality of water pumps in Tanzania. In data terms, the data is a comma-separated\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.drivendata.org/", "anchor_text": "DrivenData", "paragraph_index": 0}, {"url": "https://www.drivendata.org/competitions/7/pump-it-up-data-mining-the-water-table/", "anchor_text": "Pump It Up", "paragraph_index": 0}, {"url": "https://scikit-learn.org/stable/modules/generated/sklearn.metrics.f1_score.html", "anchor_text": "F1 score", "paragraph_index": 3}, {"url": "https://github.com/shiaoligreen/practical-data-science/tree/master/Pump%20it%20Up%20-%20Data%20Mining%20the%20Water%20Table", "anchor_text": "this GitHub folder", "paragraph_index": 21}], "all_paragraphs": ["DrivenData\u2019s competitions are in the context of building a better world. Pump It Up looks at determining the functionality of water pumps in Tanzania. In data terms, the data is a comma-separated values (CSV) file of 38 features and the goal is to predict one of three classes (functional, not functional, functional needs repair).", "The code isn\u2019t anything too fancy but provides a good baseline approach that can be improved on, more about that later. In short, you\u2019ll learn a bit about each step of the process and achieve an f1 score in the 70s!", "The dataset is a reasonable size \u2014 59,400 entries, so we should not feel obliged to use all 38 features (characteristics) in our model!", "F1 score is a metric to evaluate how well a technique is doing. It\u2019s particularly useful when there is an imbalance in the data, the classes don\u2019t have an even distribution.", "F1 score is a harmonic mean and takes into consideration precision and recall. Mathematically, it looks like this:", "Precision asks how often our model is correct when it predicts a positive event, that is:", "Recall, on the other hand, asks how well our model predicts the positive events:", "The F1 score combines these two metrics like this:", "We\u2019ve already seen that there\u2019s a clear class imbalance, but what about the type of information that we have available. How do we make sure it is processed appropriately when we feed it into a model?", "Which columns are superfluous? For now, let\u2019s ignore", "This leaves us with the remaining 19 features:", "Next, any columns that have string/word like information need to be changed to numerical values and we\u2019ll have to ensure that there is no implied proximity. To implement this, we use a process called one-hot-encoding. This takes all the different possible values (n) in a column and expands the column to have n columns with a 1 or 0 indicating whether a specific value is met. For example, the quantity column has five possible values: dry, enough, insufficient, seasonal and unknown. A snapshot of this feature before and after one-hot-encoding would look like this:", "The funder and installer columns had a huge number of unique values, so we can use a function to only expand these columns to the top n values (specify n as a parameter in the function). Any values that do not fall within these values are labelled as other. This allows us to reduce the number of columns that we feed through any model, while still representing a substantial amount of the data.", "Finally, the labels for the status group need to be changed to numerical values so that the models understand the input. It is a toss-up between transforming them to ordinal classes versus one-hot-encoding. In this instance, the models we use anticipate one column, so we make do with the ordinal transformation, but in some instances, this implied proximity may not be appropriate.", "These steps are summarised through the following function. By creating a function, we can call and adapt it to any version of the data. The conversion of status group labels to numerical values should happen separately as these are only present for the training data.", "When considering which model to use, we first narrow down to models that are appropriate for classification rather than regression problems. In this instance, we try six different approaches.", "Implementing the models is relatively easy, import the relevant classes and then feed in the data, accepting the default parameters for initial exploration.", "To evaluate model performance, we set aside a subset of the training data, known as the validation set. This allows us to predict the classes for this portion of data and directly compare the predictions to the known classes. For each model, we can print the classification report which provides us with classification metrics including precision, recall, F1 score and accuracy. We implement this on the validation set comparing the true and predicted labels using the line", "As said previously, accuracy would not be an appropriate metric in this instance because of the data imbalance, so instead, we use F1 score.", "Another consideration when evaluating the models is the run time. This is proportional to the computational steps and results in a trade-off between performance and speed.", "On considering the combined results of the graphs, it appears that using a random forest or decision tree would be most appropriate given the training data. However, it may turn out that results are different when the model predicts results for the test data.", "For this approach to the Pump it Up challenge, the random forest and decision tree models performed best, however, all models could perform better with hyperparameter tuning (looking at the parameters for setting up each model). All code and data for this project can be found in this GitHub folder.", "Until next time\u2026feel free to share any comments/questions with me!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F2839d26638b8&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpump-it-up-predict-water-pump-condition-using-data-science-2839d26638b8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpump-it-up-predict-water-pump-condition-using-data-science-2839d26638b8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpump-it-up-predict-water-pump-condition-using-data-science-2839d26638b8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpump-it-up-predict-water-pump-condition-using-data-science-2839d26638b8&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----2839d26638b8--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2839d26638b8--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@shiaoligreen?source=post_page-----2839d26638b8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@shiaoligreen?source=post_page-----2839d26638b8--------------------------------", "anchor_text": "Shiao-li Green"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb1c74a1ba549&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpump-it-up-predict-water-pump-condition-using-data-science-2839d26638b8&user=Shiao-li+Green&userId=b1c74a1ba549&source=post_page-b1c74a1ba549----2839d26638b8---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2839d26638b8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpump-it-up-predict-water-pump-condition-using-data-science-2839d26638b8&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2839d26638b8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpump-it-up-predict-water-pump-condition-using-data-science-2839d26638b8&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/data-science-in-the-real-world/home", "anchor_text": "Data Science in the Real World"}, {"url": "https://www.flickr.com/photos/christophercjensen/3559607145", "anchor_text": "Flickr user Christopher Jensen"}, {"url": "https://www.drivendata.org/", "anchor_text": "DrivenData"}, {"url": "https://www.drivendata.org/competitions/7/pump-it-up-data-mining-the-water-table/", "anchor_text": "Pump It Up"}, {"url": "https://scikit-learn.org/stable/modules/generated/sklearn.metrics.f1_score.html", "anchor_text": "F1 score"}, {"url": "https://github.com/shiaoligreen/practical-data-science/tree/master/Pump%20it%20Up%20-%20Data%20Mining%20the%20Water%20Table", "anchor_text": "this GitHub folder"}, {"url": "https://www.drivendata.org/competitions/7/pump-it-up-data-mining-the-water-table/", "anchor_text": "https://www.drivendata.org/competitions/7/pump-it-up-data-mining-the-water-table/"}, {"url": "https://github.com/shiaoligreen/practical-data-science", "anchor_text": "https://github.com/shiaoligreen/practical-data-science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----2839d26638b8---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----2839d26638b8---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/drivendata?source=post_page-----2839d26638b8---------------drivendata-----------------", "anchor_text": "Drivendata"}, {"url": "https://medium.com/tag/water-pumps?source=post_page-----2839d26638b8---------------water_pumps-----------------", "anchor_text": "Water Pumps"}, {"url": "https://medium.com/tag/ds-in-the-real-world?source=post_page-----2839d26638b8---------------ds_in_the_real_world-----------------", "anchor_text": "Ds In The Real World"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2839d26638b8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpump-it-up-predict-water-pump-condition-using-data-science-2839d26638b8&user=Shiao-li+Green&userId=b1c74a1ba549&source=-----2839d26638b8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2839d26638b8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpump-it-up-predict-water-pump-condition-using-data-science-2839d26638b8&user=Shiao-li+Green&userId=b1c74a1ba549&source=-----2839d26638b8---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2839d26638b8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpump-it-up-predict-water-pump-condition-using-data-science-2839d26638b8&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2839d26638b8--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F2839d26638b8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpump-it-up-predict-water-pump-condition-using-data-science-2839d26638b8&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----2839d26638b8---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----2839d26638b8--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----2839d26638b8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----2839d26638b8--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----2839d26638b8--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----2839d26638b8--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----2839d26638b8--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----2839d26638b8--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----2839d26638b8--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@shiaoligreen?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@shiaoligreen?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Shiao-li Green"}, {"url": "https://medium.com/@shiaoligreen/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "19 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb1c74a1ba549&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpump-it-up-predict-water-pump-condition-using-data-science-2839d26638b8&user=Shiao-li+Green&userId=b1c74a1ba549&source=post_page-b1c74a1ba549--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fb1c74a1ba549%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpump-it-up-predict-water-pump-condition-using-data-science-2839d26638b8&user=Shiao-li+Green&userId=b1c74a1ba549&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}