{"url": "https://towardsdatascience.com/understanding-monte-carlo-simulation-eceb4c9cad4", "time": 1683002105.115691, "path": "towardsdatascience.com/understanding-monte-carlo-simulation-eceb4c9cad4/", "webpage": {"metadata": {"title": "Understanding Monte Carlo Simulation | by John Clements | Towards Data Science", "h1": "Understanding Monte Carlo Simulation", "description": "Monte Carlo simulation is a powerful tool for approximating a distribution when deriving the exact one is difficult. This situation can arise when a complicated transformation is applied to a random\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Monte_Carlo_methods_for_option_pricing", "anchor_text": "options pricing", "paragraph_index": 0}, {"url": "https://en.wikipedia.org/wiki/Search_and_Rescue_Optimal_Planning_System#Applications_outside_of_search_and_rescue", "anchor_text": "narrowing the geographic focus of Coast Guard search and rescue efforts", "paragraph_index": 0}, {"url": "https://bit.ly/3cN4oQ1", "anchor_text": "https://bit.ly/3cN4oQ1", "paragraph_index": 24}], "all_paragraphs": ["Monte Carlo simulation is a powerful tool for approximating a distribution when deriving the exact one is difficult. This situation can arise when a complicated transformation is applied to a random variable (RV), of which we know its distribution. It has a multitude of applications; from options pricing to narrowing the geographic focus of Coast Guard search and rescue efforts. But how does it work?", "Every RV is uniquely characterized by its distribution. For continuous RVs, the probability density function (PDF) shows the density of a continuous RV at a given value. The probability of any given value occurring is zero, so you must integrate over a range of values to find the probability that the RV falls within the specified range. For discrete RVs, this function is called a probability mass function (PMF) and it returns the probability of a specific value occurring. They describe the pattern and frequency of which we observe a random variable.", "The CDF is simply the cumulative value of the PDF or PMF. It is the probability that the random variable takes on a value less than or equal to the value directly beneath the curve/step-function. Probabilities must be between 0 and 1, so the CDF ranges between 0 and 1. It is denoted by F.", "How do these relate to Monte Carlo simulation, besides being fundamental knowledge of probability theory? By the following proposition (Note: capital letters denote RVs and lowercase letters denote realizations of an RV).", "This means we can feed random variables from the uniform distribution with minimum value 0 and maximum value 1 into the inverse CDF of X to generate random values of X.", "Let\u2019s take the CDF of an Exponential distribution. It is below.", "By defining U as F(X) and solving for X, we can find the inverse CDF.", "We can now feed U~Uniform(0, 1) RVs into this inverse CDF to generate random draws from an Exponential distribution. I chose 1 as my lambda parameter. The code I used is below. (Note: It is inefficient and could be sped up by vectorization, or even quicker using scipy.stats modules. I did it this way to clearly demonstrate the basics of how inverse transform sampling works).", "At 10,000 simulated random variables, the simulation is good approximation to the theoretical distribution.", "Now let\u2019s generate squared standard normal random variables. This is actually a Chi-Square(1) RV, which allows us to easily check how good our approximation is by checking the exact distribution.", "As you can see, the approximation is reasonably good.", "After plotting these RVs, I calculated the proportion (approximated probability) below 1 as 0.6857. I then compared this to the exact probability by using the Chi-Square(1) CDF evaluated at 1. The exact probability is 0.6826894921370859. This approximation performed really well at 10,000 simulations", "Now let\u2019s use this to approximate the distribution of an RV, whose exact distribution would require a bit of solving.", "I\u2019ve defined some arbitrary RV. Let\u2019s call it A and define it below.", "Finding an exact distribution would take some work and I don\u2019t like doing work. Luckily I can write a function to approximate the distribution of A.", "Now we have an approximation of the distribution of A and can find approximate probabilities for the purposes for inference.", "Now that we are done approximating my arbitrary RV, let\u2019s see a hypothetical use case.", "Suppose we know the returns of some security are distributed \ud835\udc3f\ud835\udc4e\ud835\udc5d\ud835\udc59\ud835\udc4e\ud835\udc50\ud835\udc52(0.05,0.07) and returns next period are not dependent on returns this period (this is an example of a random walk). What\u2019s the probability that our return on investment at period 5 is positive?", "By counting the proportion of final returns greater than 0 and dividing by the number of simulations, we find the probability that the security has increased in value at the end of 5 periods is about 0.85. That is useful information when constructing a portfolio (although we never get a clean case like this in real life).", "In addition to approximating a distribution, Monte Carlo simulation can be used to numerically approximate a definite integral that is difficult or impossible to solve analytically. This is called Monte Carlo Integration. It is performed by evaluating the function at realizations of random variables generated from \ud835\udc48\ud835\udc5b\ud835\udc56\ud835\udc53\ud835\udc5c\ud835\udc5f\ud835\udc5a(\ud835\udc4e, \ud835\udc4f), where a is the lower bound of the definite integral and b is the upper bound. These results are then averaged and multiplied by \ud835\udc4f\u2212\ud835\udc4e to get an approximation of the integral from \ud835\udc4e to \ud835\udc4f.", "It\u2019s integral cannot be derived analytically, so let\u2019s approximate it on the interval 0 to 1.", "Running 10,000 simulations gave me the approximation of about 0.244, which is pretty close to the approximation given by Wolfram of about 0.244, so the function is working as intended.", "If you stuck around this long, thanks for reading. I hope you learned a bit about how Monte Carlo simulation works under the hood. Hopefully, this knowledge will help you as you move on to studying applications of Monte Carlo simulation, like Markov Chain Monte Carlo. Just another reminder to use the optimized .rvs() method from scipy.stats for whatever distribution you are interested in sampling from. It is an order of magnitudes faster than repeatedly appending to a list.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Machine Learning | Statistics | Econometrics | LinkedIn: https://bit.ly/3cN4oQ1"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Feceb4c9cad4&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-monte-carlo-simulation-eceb4c9cad4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-monte-carlo-simulation-eceb4c9cad4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-monte-carlo-simulation-eceb4c9cad4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-monte-carlo-simulation-eceb4c9cad4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----eceb4c9cad4--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----eceb4c9cad4--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@jkclements2016?source=post_page-----eceb4c9cad4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jkclements2016?source=post_page-----eceb4c9cad4--------------------------------", "anchor_text": "John Clements"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F468189676a43&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-monte-carlo-simulation-eceb4c9cad4&user=John+Clements&userId=468189676a43&source=post_page-468189676a43----eceb4c9cad4---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Feceb4c9cad4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-monte-carlo-simulation-eceb4c9cad4&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Feceb4c9cad4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-monte-carlo-simulation-eceb4c9cad4&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://en.wikipedia.org/wiki/Monte_Carlo_methods_for_option_pricing", "anchor_text": "options pricing"}, {"url": "https://en.wikipedia.org/wiki/Search_and_Rescue_Optimal_Planning_System#Applications_outside_of_search_and_rescue", "anchor_text": "narrowing the geographic focus of Coast Guard search and rescue efforts"}, {"url": "https://medium.com/tag/statistics?source=post_page-----eceb4c9cad4---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/programming?source=post_page-----eceb4c9cad4---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/data-science?source=post_page-----eceb4c9cad4---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/mathematics?source=post_page-----eceb4c9cad4---------------mathematics-----------------", "anchor_text": "Mathematics"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----eceb4c9cad4---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Feceb4c9cad4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-monte-carlo-simulation-eceb4c9cad4&user=John+Clements&userId=468189676a43&source=-----eceb4c9cad4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Feceb4c9cad4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-monte-carlo-simulation-eceb4c9cad4&user=John+Clements&userId=468189676a43&source=-----eceb4c9cad4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Feceb4c9cad4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-monte-carlo-simulation-eceb4c9cad4&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----eceb4c9cad4--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Feceb4c9cad4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-monte-carlo-simulation-eceb4c9cad4&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----eceb4c9cad4---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----eceb4c9cad4--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----eceb4c9cad4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----eceb4c9cad4--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----eceb4c9cad4--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----eceb4c9cad4--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----eceb4c9cad4--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----eceb4c9cad4--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----eceb4c9cad4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jkclements2016?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@jkclements2016?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "John Clements"}, {"url": "https://medium.com/@jkclements2016/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "676 Followers"}, {"url": "https://bit.ly/3cN4oQ1", "anchor_text": "https://bit.ly/3cN4oQ1"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F468189676a43&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-monte-carlo-simulation-eceb4c9cad4&user=John+Clements&userId=468189676a43&source=post_page-468189676a43--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F26152b908c24&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funderstanding-monte-carlo-simulation-eceb4c9cad4&newsletterV3=468189676a43&newsletterV3Id=26152b908c24&user=John+Clements&userId=468189676a43&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}