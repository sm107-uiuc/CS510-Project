{"url": "https://towardsdatascience.com/three-cardinal-mistakes-even-experienced-quants-make-b6e2f8b3bad4", "time": 1683002279.423508, "path": "towardsdatascience.com/three-cardinal-mistakes-even-experienced-quants-make-b6e2f8b3bad4/", "webpage": {"metadata": {"title": "Three Cardinal Mistakes Even Experienced Quants Make | by Viraj Kulkarni | Towards Data Science", "h1": "Three Cardinal Mistakes Even Experienced Quants Make", "description": "Quantitative trading is a melting cauldron of computer programming, machine learning, finance, and statistics. To be a quant, you need to be a jack of all these trades and a master of at least some\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/@diningphilosopher", "anchor_text": "Medium", "paragraph_index": 7}, {"url": "https://www.linkedin.com/in/kulkarniviraj/", "anchor_text": "LinkedIn", "paragraph_index": 7}, {"url": "https://twitter.com/VirajZero", "anchor_text": "Twitter", "paragraph_index": 7}, {"url": "https://virajkulkarni.org/", "anchor_text": "personal webpage", "paragraph_index": 7}], "all_paragraphs": ["Quantitative trading is a melting cauldron of computer programming, machine learning, finance, and statistics. To be a quant, you need to be a jack of all these trades and a master of at least some of them. Many different approaches are used to programmatically determine when to buy or sell stocks including time series forecasting (eg: ARIMA & GARCH models), machine learning (eg: SVM or Neural Networks on features derived from stock prices), and chartist tools (eg: Bollinger Bands). Regardless of the discipline you come from and the approaches you use, there are three things you must absolutely take care of which often leave even experienced traders confounded.", "Look-ahead bias occurs when your model has access to future data that it should not be aware of. Consider the following example. This is the year 2019, and I just wrote a program that uses deep learning to predict whether the price of a stock will go up or down in the coming one week. I have historical data for all stocks on the national exchange (NSE) from 2010. I write a simulator and backtest my model on this data for the time-period 2010\u20132019. The exchange lists more than 2000 stocks, but I want to trade only on liquid stocks, so I train and test my model only on the 50 stocks that constitute the index (NIFTY50). And, wow, my simulation tells me I will make 60% returns every year, so I start trading excitedly. Like a good trader should, I compare performance characteristics of my model during live trading to those I got in my simulations, and I realize, to my dismay, that the model behaves very differently when trading live. What went wrong?", "I was using stocks that were present in the index in 2019 to trade through the period 2010\u20132019. In effect, in the year 2010, my model could peek into the future and see that a particular stock would be in the top 50 index stocks in 2019 nine years later. This is look-ahead bias. The correct stock selection would have been to use in a particular year only the stocks present in the index during the same year. Look-ahead bias can creep into your code in insidious ways, especially if your programming includes complex data manipulations. When precomputing features, for example, a particular feature might reveal the closing price of the day, and this gives your model a clue about the direction of the market. If your trading strategy performs outrageously well in simulations, the first thing you should check for, after calculation mistakes, is the presence of look-ahead bias.", "The market does not work on a single price. It works on two prices: bid and ask. Bid price is the highest price buyers are willing to pay, and ask price is the lowest price sellers are willing to accept. When backtesting a model on historical data or when colloquially speaking of the price of a stock, we typically consider one price, usually the last traded price or LTP. The difference between the ask and the bid prices is known as the bid-ask spread. While simulating, we assume that if the LTP of a stock is 110.5, we would have been able to buy or sell the stock at 110.5. During live trading, this is not the case. If the LTP is 110.5, the bid might be 110.4 and the ask might be 110.6. If you are buying a stock, you will be able to buy it at 110.6 and not 110.5. This difference of 0.1 is known as the slippage. Slippage cannot be simulated because it closely depends on live market conditions and the size of your position. Most naive traders consider transaction costs like brokerage and exchange fees, but they do not consider slippage. Most experienced traders assume an arbitrary slippage cost as a percentage of position size, but they never bother to verify if this number matches live market conditions, and more often that not, they underestimate it. That is a great mistake.", "If you want to be a profitable quant trader, you must compute your slippage costs. There are two ways to do this. First, the statistical way, is to get hold of market order-book snapshots and determine the bid-ask spread for different stocks at different times of the day. If you are trading liquid equities, the LTP lies roughly between the bid and the ask, and statistically calculating the slippage from the LTP in this manner will give you a roughly accurate figure. The second way, which I recommend, is to determine it empirically. When you start live trading, note the LTP before executing every trade and note your traded price after execution. Over months of trading, tally these two numbers and determine your slippage cost. For volatile instruments like options, bid-ask spreads are very wide, and the LTP could lie anywhere: in between the bid and the ask or far away on one side. For these, empirical determination is the only way.", "We all know why it is necessary to divide data into training, validation, and test sets. However, when you work on the same problem day after day, month after month, and sometimes even for years, you inadvertently start fitting models indirectly on the test set. The test set should ideally be kept in the vault and taken out only after your experimentation is complete. Quants know well, however, that our experimentation is never complete. We are alchemists, and we will keep trying everything under the sun till we convert our models to gold. When multiple models perform similarly on the validation set, we select the one that performs best on the test set. When we iterate next, we repeat this process, and eventually, through many such iterations, we make our model fit the test set. One solution is to keep multiple test sets and switch between them periodically so you don\u2019t overfit any one. Another solution is to be disciplined and not let test performance influence model selection, but trust me, discipline is way easier to speak about than practise.", "Quantitative trading is difficult because you need to apply many skills correctly to make it work. These three mistakes, though simple to understand, are routinely made by amateurs and professionals alike. If you avoid these, you are already on your way to becoming a sane and rational quantitative trader.", "If you liked the article, check out my other pieces on Medium, follow me on LinkedIn or Twitter, view my personal webpage, or email me at viraj@berkeley.edu.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Equal superposition of quantum computing, machine learning, and philosophy."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb6e2f8b3bad4&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthree-cardinal-mistakes-even-experienced-quants-make-b6e2f8b3bad4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthree-cardinal-mistakes-even-experienced-quants-make-b6e2f8b3bad4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthree-cardinal-mistakes-even-experienced-quants-make-b6e2f8b3bad4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthree-cardinal-mistakes-even-experienced-quants-make-b6e2f8b3bad4&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b6e2f8b3bad4--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b6e2f8b3bad4--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@diningphilosopher?source=post_page-----b6e2f8b3bad4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@diningphilosopher?source=post_page-----b6e2f8b3bad4--------------------------------", "anchor_text": "Viraj Kulkarni"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2eb0926f5807&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthree-cardinal-mistakes-even-experienced-quants-make-b6e2f8b3bad4&user=Viraj+Kulkarni&userId=2eb0926f5807&source=post_page-2eb0926f5807----b6e2f8b3bad4---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb6e2f8b3bad4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthree-cardinal-mistakes-even-experienced-quants-make-b6e2f8b3bad4&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb6e2f8b3bad4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthree-cardinal-mistakes-even-experienced-quants-make-b6e2f8b3bad4&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/@diningphilosopher", "anchor_text": "Medium"}, {"url": "https://www.linkedin.com/in/kulkarniviraj/", "anchor_text": "LinkedIn"}, {"url": "https://twitter.com/VirajZero", "anchor_text": "Twitter"}, {"url": "https://virajkulkarni.org/", "anchor_text": "personal webpage"}, {"url": "https://medium.com/tag/quantitative-finance?source=post_page-----b6e2f8b3bad4---------------quantitative_finance-----------------", "anchor_text": "Quantitative Finance"}, {"url": "https://medium.com/tag/algorithmic-trading?source=post_page-----b6e2f8b3bad4---------------algorithmic_trading-----------------", "anchor_text": "Algorithmic Trading"}, {"url": "https://medium.com/tag/quant?source=post_page-----b6e2f8b3bad4---------------quant-----------------", "anchor_text": "Quant"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----b6e2f8b3bad4---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb6e2f8b3bad4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthree-cardinal-mistakes-even-experienced-quants-make-b6e2f8b3bad4&user=Viraj+Kulkarni&userId=2eb0926f5807&source=-----b6e2f8b3bad4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb6e2f8b3bad4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthree-cardinal-mistakes-even-experienced-quants-make-b6e2f8b3bad4&user=Viraj+Kulkarni&userId=2eb0926f5807&source=-----b6e2f8b3bad4---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb6e2f8b3bad4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthree-cardinal-mistakes-even-experienced-quants-make-b6e2f8b3bad4&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b6e2f8b3bad4--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb6e2f8b3bad4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthree-cardinal-mistakes-even-experienced-quants-make-b6e2f8b3bad4&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b6e2f8b3bad4---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b6e2f8b3bad4--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b6e2f8b3bad4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b6e2f8b3bad4--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b6e2f8b3bad4--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b6e2f8b3bad4--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b6e2f8b3bad4--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b6e2f8b3bad4--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b6e2f8b3bad4--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@diningphilosopher?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@diningphilosopher?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Viraj Kulkarni"}, {"url": "https://medium.com/@diningphilosopher/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "291 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2eb0926f5807&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthree-cardinal-mistakes-even-experienced-quants-make-b6e2f8b3bad4&user=Viraj+Kulkarni&userId=2eb0926f5807&source=post_page-2eb0926f5807--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa20bd7667b96&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthree-cardinal-mistakes-even-experienced-quants-make-b6e2f8b3bad4&newsletterV3=2eb0926f5807&newsletterV3Id=a20bd7667b96&user=Viraj+Kulkarni&userId=2eb0926f5807&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}