{"url": "https://towardsdatascience.com/predicting-e-commerce-sales-with-a-random-forest-regression-3f3c8783e49b", "time": 1683013034.351939, "path": "towardsdatascience.com/predicting-e-commerce-sales-with-a-random-forest-regression-3f3c8783e49b/", "webpage": {"metadata": {"title": "Predicting e-Commerce Sales with a Random Forest Regression | by Andrew Udell | Towards Data Science", "h1": "Predicting e-Commerce Sales with a Random Forest Regression", "description": "In order to demonstrate a random forest regression, a data set of e-commerce sales from popular online retailer, Wish, will be used. The data comes from Kaggle and only features sales information on\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/jmmvutu/summer-products-and-sales-in-ecommerce-wish", "anchor_text": "Kaggle", "paragraph_index": 0}], "all_paragraphs": ["In order to demonstrate a random forest regression, a data set of e-commerce sales from popular online retailer, Wish, will be used. The data comes from Kaggle and only features sales information on summer clothing. Among the attributes include product descriptions, rating, whether ad boosts were used, whether urgency text was added to the product listing, and the number of units sold, among others.", "To show the power of the random forest regression, the number of units sold will be predicted. Making good, accurate predictions would be invaluable to not only inventory planners, who need to make estimates on how much product to order or produce, but also sales, who need to understand how product moves in an e-commerce setting.", "All data imports and manipulations will be done through python along with the pandas and numpy libraries.", "The first two lines simply import the pandas and numpy libraries. The final line reads a CSV file previously saved and renamed to \u201cSummer_Sales_08.2020\u201d and creates a data frame.", "When reviewing the data, the \u201chas_urgency_banner\u201d column, which indicates whether an urgency banner was applied to the product listing, was coded improperly. Instead of using 1\u2019s and 0\u2019s, it simply leaves a blank when a banner wasn\u2019t used. The first line code fills those blanks with 0's.", "The second line creates a new column called \u201cdiscount\u201d which calculates the discount on the product compared to the listed retail price.", "The original data set includes several columns dedicated to the products\u2019 ratings. In addition to an average rating, it also included the total number of ratings and the number of five, four, three, two, and one star reviews. Since the total number of reviews will already be considered, it\u2019s better to look at star ratings as a percent of total ratings, so direct comparisons between products may be made.", "The lines above simply create five new columns giving the percent of five, four, three, two, and one star reviews for every product in the data set.", "While pandas doesn\u2019t throw an error when dividing by 0, it creates issues when trying to analyze the data. In this case, products with 0 ratings would cause issues when calculated in the previous step.", "The above code snippet goes through all the freshly made columns and checks that the values entered are between 0 and 1, inclusive. If they aren\u2019t, they\u2019re replaced with 0, which is an adequate substitute.", "The above code produces a distribution plot of the price across all the products in the data set. The most obvious and interesting insight is that there are no products that cost \u20ac10. This is probably a deliberate effort made by merchants to get their products on \u201c\u20ac10 & Under\u201d lists.", "The above figure reveals that the vast majority of sales are made on items with between three and four and half star ratings. It also reveals most product have fewer than 20,000 units sold with a few items making 60,000 and 100,000 units sold, respectively.", "As an aside, the tendency of the scatter plot to organize in lines is evidence that the units sold is more likely an estimate than hard numbers.", "This graph demonstrates the other side of ratings. There\u2019s a loose, but positive relationship between the number of ratings and the likelihood a product sells. This might be because consumers look at both the overall rating and the number of ratings when considering a purchase or because high-selling products just naturally produce more ratings.", "Without additional data on when purchases were made and when ratings were posted, it\u2019s difficult to discern the cause of the correlation without additional domain knowledge.", "In brief, a random forest regression is the average result of a series of decision trees. A decision tree is like a flow chart that asks a bunch of questions and makes a prediction based on the answer to those questions. For example, a decision tree trying to predict if a tennis player will go to the court might ask: Is it raining? If so, is the court indoors? If not, can the player find a partner?", "The decision tree will then answer each of those questions before it arrives at a prediction. While easy to understand and, according to some experts, better model actual human behavior than other machine learning techniques, they often overfit the data, which means they can often give wildly different results on similar data sets.", "To address this issue, multiple decision trees are taken from the same data set, bagged, and an average of the result is returned. This becomes known as the random forest regression.", "Its main advantage is making accurate predictions on highly non-linear data. In the Wish data set, a non-linear relationship is seen in the ratings. There isn\u2019t a nice, easily seen correlation, but the cutoff below three stars and above four and half is plainly visible. The random forest regression can recognize this pattern and incorporate it in its results. In a more traditional linear regression, however, it only muddies its prediction.", "In addition, the random forest classifier is efficient, can handle many input variables, and usually makes accurate predictions. It\u2019s an incredibly powerful tool and doesn\u2019t take too much code to implement.", "Before running any model, the first two lines import relevant libraries. The next set of lines creates two variables, X and Y, which is then split into training and testing data. With a test size of 0.33, this ensures that roughly two-thirds of the data will be used to train the data and one third will be used to test it for accuracy.", "Next, the model is actually initialized and run. Note that the parameter n_estimators indicates the number of decision trees to be used.", "Finally, the newly fitted random forest regression is applied to the testing data and the difference is taken to produce an error array. That\u2019s all there is to it!", "The Wish data set presents a playground of numbers that can be used to solve real world problems. With only minimal data manipulation, the random forest regression proved to be an invaluable tool in analyzing this data and providing tangible results.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F3f3c8783e49b&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-e-commerce-sales-with-a-random-forest-regression-3f3c8783e49b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-e-commerce-sales-with-a-random-forest-regression-3f3c8783e49b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-e-commerce-sales-with-a-random-forest-regression-3f3c8783e49b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-e-commerce-sales-with-a-random-forest-regression-3f3c8783e49b&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----3f3c8783e49b--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3f3c8783e49b--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://andrew-udell.medium.com/?source=post_page-----3f3c8783e49b--------------------------------", "anchor_text": ""}, {"url": "https://andrew-udell.medium.com/?source=post_page-----3f3c8783e49b--------------------------------", "anchor_text": "Andrew Udell"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7f6d46761e2a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-e-commerce-sales-with-a-random-forest-regression-3f3c8783e49b&user=Andrew+Udell&userId=7f6d46761e2a&source=post_page-7f6d46761e2a----3f3c8783e49b---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3f3c8783e49b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-e-commerce-sales-with-a-random-forest-regression-3f3c8783e49b&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3f3c8783e49b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-e-commerce-sales-with-a-random-forest-regression-3f3c8783e49b&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@rupixen?utm_source=medium&utm_medium=referral", "anchor_text": "rupixen.com"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.kaggle.com/jmmvutu/summer-products-and-sales-in-ecommerce-wish", "anchor_text": "Kaggle"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----3f3c8783e49b---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/random-forest-algorithm?source=post_page-----3f3c8783e49b---------------random_forest_algorithm-----------------", "anchor_text": "Random Forest Algorithm"}, {"url": "https://medium.com/tag/python?source=post_page-----3f3c8783e49b---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----3f3c8783e49b---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/statistics?source=post_page-----3f3c8783e49b---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3f3c8783e49b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-e-commerce-sales-with-a-random-forest-regression-3f3c8783e49b&user=Andrew+Udell&userId=7f6d46761e2a&source=-----3f3c8783e49b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3f3c8783e49b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-e-commerce-sales-with-a-random-forest-regression-3f3c8783e49b&user=Andrew+Udell&userId=7f6d46761e2a&source=-----3f3c8783e49b---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3f3c8783e49b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-e-commerce-sales-with-a-random-forest-regression-3f3c8783e49b&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3f3c8783e49b--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F3f3c8783e49b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-e-commerce-sales-with-a-random-forest-regression-3f3c8783e49b&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----3f3c8783e49b---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----3f3c8783e49b--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----3f3c8783e49b--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----3f3c8783e49b--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----3f3c8783e49b--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----3f3c8783e49b--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----3f3c8783e49b--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----3f3c8783e49b--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----3f3c8783e49b--------------------------------", "anchor_text": ""}, {"url": "https://andrew-udell.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://andrew-udell.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andrew Udell"}, {"url": "https://andrew-udell.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "162 Followers"}, {"url": "https://www.linkedin.com/in/andrew-udell-108802140/", "anchor_text": "https://www.linkedin.com/in/andrew-udell-108802140/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F7f6d46761e2a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-e-commerce-sales-with-a-random-forest-regression-3f3c8783e49b&user=Andrew+Udell&userId=7f6d46761e2a&source=post_page-7f6d46761e2a--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa1c007512744&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-e-commerce-sales-with-a-random-forest-regression-3f3c8783e49b&newsletterV3=7f6d46761e2a&newsletterV3Id=a1c007512744&user=Andrew+Udell&userId=7f6d46761e2a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}