{"url": "https://towardsdatascience.com/data-preprocessing-with-python-pandas-part-5-binning-c5bd5fd1b950", "time": 1683018147.3250508, "path": "towardsdatascience.com/data-preprocessing-with-python-pandas-part-5-binning-c5bd5fd1b950/", "webpage": {"metadata": {"title": "Data Preprocessing with Python Pandas \u2014 Part 5 Binning | by Angelica Lo Duca | Towards Data Science", "h1": "Data Preprocessing with Python Pandas \u2014 Part 5 Binning", "description": "Data binning (or bucketing) groups data in bins (or buckets), in the sense that it replaces values contained into a small interval with a single representative value for that interval. Sometimes\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/data-preprocessing-with-python-pandas-part-1-missing-data-45e76b781993", "anchor_text": "missing values", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/data-processing-with-python-pandas-part-2-data-formatting-710c2eafa426", "anchor_text": "formatting", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/data-preprocessing-with-python-pandas-part-3-normalisation-5b5392d27673", "anchor_text": "normalization", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/data-preprocessing-with-python-pandas-part-4-standardization-ccd5b1608f1c", "anchor_text": "standardization", "paragraph_index": 1}, {"url": "https://github.com/alod83/data-science/blob/master/Preprocessing/Binning/Data%20Preprocessing%20-%20Binning.ipynb", "anchor_text": "Github repository", "paragraph_index": 4}, {"url": "https://trends.google.com/trends/explore?q=%2Fm%2F03p1r4&date=all", "anchor_text": "this link", "paragraph_index": 5}, {"url": "https://pypi.org/project/jenkspy/", "anchor_text": "jenkspy", "paragraph_index": 21}, {"url": "https://en.wikipedia.org/wiki/Jenks_natural_breaks_optimization", "anchor_text": "Fisher-Jenks algorithm", "paragraph_index": 21}, {"url": "https://alod83.medium.com/which-topics-would-you-like-to-read-c68314dc6813", "anchor_text": "this article", "paragraph_index": 27}], "all_paragraphs": ["Data binning (or bucketing) groups data in bins (or buckets), in the sense that it replaces values contained into a small interval with a single representative value for that interval. Sometimes binning improves accuracy in predictive models.", "Data binning is a type of data preprocessing, a mechanism which includes also dealing with missing values, formatting, normalization and standardization.", "Binning can be applied to convert numeric values to categorical or to sample (quantise) numeric values.", "Binning is a technique for data smoothing. Data smoothing is employed to remove noise from data. Three techniques for data smoothing:", "You can download the full code of this tutorial from my Github repository.", "In this tutorial we exploit the cupcake.csv dataset, which contains the trend search of the word cupcake on Google Trends. Data are extracted from this link. We exploit the pandas library to import the dataset and we transform it into a dataframe through the read_csv() function.", "In this case we define the edges of each bin. In Python pandas binning by distance is achieved by means of thecut() function.", "We group values related to the column Cupcake into three groups: small, medium and big. In order to do it, we need to calculate the intervals within each group falls. We calculate the interval range as the difference between the maximum and minimum value and then we split this interval into three parts, one for each group. We exploit the functions min() and max() of dataframe to calculate the minimum value and the maximum value of the column Cupcake.", "Now we can calculate the range of each interval, i.e. the minimum and maximum value of each interval. Since we have 3 groups, we need 4 edges of intervals (bins):", "We can use the linspace() function of the numpy package to calculate the 4 bins, equally distributed.", "We can use the cut() function to convert the numeric values of the column Cupcake into the categorical values. We need to specify the bins and the labels. In addition, we set the parameter include_lowest to True in order to include also the minimum value.", "We can plot the distribution of values, by using the hist() function of the matplotlib package.", "Alternatively, we can set the edges of each bin manually.", "Binning by frequency calculates the size of each bin so that each bin contains the (almost) same number of observations, but the bin range will vary. We can use the Python pandas qcut() function. We can set the precision parameter to define the number of decimal points.", "Sampling is another technique of data binning. It permits to reduce the number of samples, by grouping similar values or contiguous values. There are three approaches to perform sampling:", "In order to perform sampling, the binned_statistic() function of the scipy.stats package can be used. This function receives two arrays as input, x_data and y_data, as well as the statistics to be used (e.g. median or mean) and the number of bins to be created. The function returns the values of the bins as well as the edges of each bin.", "Now we should approximate each value of the df['Cupcake'] column to the median value of the corresponding bin. Thus we convert the bin edges to an IntervalIndex, which receives as index the left and right edges of each interval. In our case, the left edges starts from the beginning of the bin edges and do not contain the last value of the bin edges. The right edges instead, start from the second value of the bin edges and last until the last value.", "We can quantise the Cupcake column by defining a set_to_median() function which loops through the intervals and when it finds the correct interval, it returns the mid value.", "We use the apply() function to apply the set_to_median() to the Cupcake column.", "Now we can plot results. We note the loss of information.", "Finally, we can plot the median values. We can calculate the y values (y_bins) corresponding to the binned values (x_bins) as the values at the center of the bin range.", "We can use the package jenkspy, which contains a single function, called jenks_breaks(), which calculates the natural breaks of an array, exploiting the Fisher-Jenks algorithm. We can install the package by running pip3 install jenkspy.", "Now we can use the cut() function to transform data in labels.", "And we can plot the histogram.", "In this tutorial I have illustrated how to perform data binning, which is a technique for data preprocessing. Two approaches can be followed. The first approach converts numeric data into categorical data, the second approach performs data sampling, by reducing the number of samples.", "Data binning is very useful when discretization is needed.", "If you wanted to learn how to perform data preprocessing using the scikit-learn library, stay tuned\u2026", "If you have come this far to read, for me it is already a lot for today. Thanks! You can read more about me in this article.", "2021/03/31 \u2014 added binning by distance and binning by frequency. Updated Sampling.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Researcher | +50k monthly views | I write on Data Science, Python, Tutorials, and, occasionally, Web Applications | Book Author of Comet for Data Science"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc5bd5fd1b950&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-preprocessing-with-python-pandas-part-5-binning-c5bd5fd1b950&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-preprocessing-with-python-pandas-part-5-binning-c5bd5fd1b950&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-preprocessing-with-python-pandas-part-5-binning-c5bd5fd1b950&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-preprocessing-with-python-pandas-part-5-binning-c5bd5fd1b950&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://me.dm/@alod83", "anchor_text": "Mastodon"}, {"url": "https://towardsdatascience.com/?source=post_page-----c5bd5fd1b950--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c5bd5fd1b950--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://alod83.medium.com/?source=post_page-----c5bd5fd1b950--------------------------------", "anchor_text": ""}, {"url": "https://alod83.medium.com/?source=post_page-----c5bd5fd1b950--------------------------------", "anchor_text": "Angelica Lo Duca"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff8bc34d63aee&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-preprocessing-with-python-pandas-part-5-binning-c5bd5fd1b950&user=Angelica+Lo+Duca&userId=f8bc34d63aee&source=post_page-f8bc34d63aee----c5bd5fd1b950---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc5bd5fd1b950&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-preprocessing-with-python-pandas-part-5-binning-c5bd5fd1b950&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc5bd5fd1b950&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-preprocessing-with-python-pandas-part-5-binning-c5bd5fd1b950&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/data-preprocessing-with-python-pandas-part-1-missing-data-45e76b781993", "anchor_text": "missing values"}, {"url": "https://towardsdatascience.com/data-processing-with-python-pandas-part-2-data-formatting-710c2eafa426", "anchor_text": "formatting"}, {"url": "https://towardsdatascience.com/data-preprocessing-with-python-pandas-part-3-normalisation-5b5392d27673", "anchor_text": "normalization"}, {"url": "https://towardsdatascience.com/data-preprocessing-with-python-pandas-part-4-standardization-ccd5b1608f1c", "anchor_text": "standardization"}, {"url": "https://github.com/alod83/data-science/blob/master/Preprocessing/Binning/Data%20Preprocessing%20-%20Binning.ipynb", "anchor_text": "Github repository"}, {"url": "https://trends.google.com/trends/explore?q=%2Fm%2F03p1r4&date=all", "anchor_text": "this link"}, {"url": "https://pypi.org/project/jenkspy/", "anchor_text": "jenkspy"}, {"url": "https://en.wikipedia.org/wiki/Jenks_natural_breaks_optimization", "anchor_text": "Fisher-Jenks algorithm"}, {"url": "https://alod83.medium.com/which-topics-would-you-like-to-read-c68314dc6813", "anchor_text": "this article"}, {"url": "https://pbpython.com/pandas-qcut-cut.html", "anchor_text": "Binning Data with Pandas qcut and cut"}, {"url": "https://pbpython.com/natural-breaks.html", "anchor_text": "Finding Natural Breaks in Data with the Fisher-Jenks Algorithm"}, {"url": "https://alod83.medium.com/membership", "anchor_text": "click here"}, {"url": "https://towardsdatascience.com/machine-learning-getting-started-with-the-k-neighbours-classifier-d7e6b25f2b09", "anchor_text": "Machine Learning: Getting Started with the K-Neighbours ClassifierA Python ready-to-run code which implements the K-Neighbours Classifier in scikit-learn, from data preprocessing to\u2026towardsdatascience.com"}, {"url": "https://towardsdatascience.com/data-preprocessing-in-python-pandas-part-6-dropping-duplicates-e35e46bcc9d6", "anchor_text": "Data Preprocessing in Python Pandas \u2014 Part 6 Dropping DuplicatesA quick tutorial to drop duplicates using the Python Pandas library.towardsdatascience.com"}, {"url": "https://towardsdatascience.com/how-to-load-huge-csv-datasets-in-python-pandas-d306e75ff276", "anchor_text": "How to load huge CSV datasets in Python PandasIt may happen that you have a huge CSV dataset which occupies 4 or 5 GBytes (or even more) in your hard disk and you\u2026towardsdatascience.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----c5bd5fd1b950---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----c5bd5fd1b950---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/pandas?source=post_page-----c5bd5fd1b950---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/binning?source=post_page-----c5bd5fd1b950---------------binning-----------------", "anchor_text": "Binning"}, {"url": "https://medium.com/tag/data-preprocessing?source=post_page-----c5bd5fd1b950---------------data_preprocessing-----------------", "anchor_text": "Data Preprocessing"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc5bd5fd1b950&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-preprocessing-with-python-pandas-part-5-binning-c5bd5fd1b950&user=Angelica+Lo+Duca&userId=f8bc34d63aee&source=-----c5bd5fd1b950---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc5bd5fd1b950&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-preprocessing-with-python-pandas-part-5-binning-c5bd5fd1b950&user=Angelica+Lo+Duca&userId=f8bc34d63aee&source=-----c5bd5fd1b950---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc5bd5fd1b950&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-preprocessing-with-python-pandas-part-5-binning-c5bd5fd1b950&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c5bd5fd1b950--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc5bd5fd1b950&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-preprocessing-with-python-pandas-part-5-binning-c5bd5fd1b950&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c5bd5fd1b950---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c5bd5fd1b950--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c5bd5fd1b950--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c5bd5fd1b950--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c5bd5fd1b950--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c5bd5fd1b950--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c5bd5fd1b950--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c5bd5fd1b950--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c5bd5fd1b950--------------------------------", "anchor_text": ""}, {"url": "https://alod83.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://alod83.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Angelica Lo Duca"}, {"url": "https://alod83.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "3.5K Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff8bc34d63aee&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-preprocessing-with-python-pandas-part-5-binning-c5bd5fd1b950&user=Angelica+Lo+Duca&userId=f8bc34d63aee&source=post_page-f8bc34d63aee--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F5d4e36da189&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-preprocessing-with-python-pandas-part-5-binning-c5bd5fd1b950&newsletterV3=f8bc34d63aee&newsletterV3Id=5d4e36da189&user=Angelica+Lo+Duca&userId=f8bc34d63aee&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "http://www.cometfordatascience.com/", "anchor_text": "Comet for Data Science: Enhance your ability to manage and optimize the life cycle of your data science project2022"}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}