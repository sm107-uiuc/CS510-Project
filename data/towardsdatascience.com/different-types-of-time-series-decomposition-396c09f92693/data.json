{"url": "https://towardsdatascience.com/different-types-of-time-series-decomposition-396c09f92693", "time": 1683013850.039964, "path": "towardsdatascience.com/different-types-of-time-series-decomposition-396c09f92693/", "webpage": {"metadata": {"title": "Different Types of Time Series Decomposition | by Andrew Plummer | Towards Data Science", "h1": "Different Types of Time Series Decomposition", "description": "Abraham Maslow writes, \u201cI suppose it is tempting, if the only tool you have is a hammer, to treat everything as if it were a nail\u201d. This is the situation that aspiring data scientists find themselves\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.statsmodels.org/stable/generated/statsmodels.tsa.seasonal.seasonal_decompose.html", "anchor_text": "Statsmodels Documentation", "paragraph_index": 17}], "all_paragraphs": ["Abraham Maslow writes, \u201cI suppose it is tempting, if the only tool you have is a hammer, to treat everything as if it were a nail\u201d.", "This is the situation that aspiring data scientists find themselves in when analyzing time series data. The seasonal_decompose function from Python\u2019s Statsmodels library is the hammer, and every time series data is just another nail.", "Decomposing our time series is an important step in improving forecast accuracy and creating causal insights.", "The seasonal_decompose function is okay for time series decomposition but there are other approaches that are great. And, as data scientists, we always want to use what is great.", "Abraham Maslow writes, \u201cI suppose it is tempting, if the only tool you have is a hammer, to treat everything as if it were a nail\u201d.", "This article has the following goals:", "Time series decomposition refers to the method by which we reduce our time series data into its following four components:", "The trend of a time series refers to the general direction in which the time series is moving. Time series can have a positive or a negative trend, but can also have no trend.", "For example, the GDP growth rate for the United States (and many advanced economies) does not have a trend because economic forces keep the growth rate relatively stable.", "The cycle for time series data refers to its tendency to rise and fall at inconsistent frequencies. We often use the cycle component of a time series to discuss business cycles in economic data.", "The seasonal component of a time series is similar to its cycle component except for one important difference: the seasonal component refers to data that rises and falls at consistent frequencies.", "The tourism industry is well-acquainted with the seasonal component. A country\u2019s tourism industry experiences high revenues in the warmer months, and then its revenues slowly inch towards the precipice of a cliff at the first sign of snow.", "The remainder is what\u2019s left of the time series data after removing its trend, cycle, and seasonal components. It is the random fluctuation in the time series data that the above components cannot explain.", "When forecasting, it is advantageous to use a \u2018seasonally-adjusted\u2019 time series, which is just a time series with the seasonal component removed. This allows a forecaster to focus on predicting the general trend of the data.", "A second reason to use time series decomposition is to identify any interesting behavior in the seasonal component. Then, we can research why our data moves in the way it does.", "Interestingly, Statsmodels knows that there are better ways to decompose time series data than the usual seasonal_decompose function.", "They warn us (emphasis is my own):", "This [seasonal_decompose] is a naive decomposition. More sophisticated methods should be preferred \u2014 Statsmodels Documentation", "Seasonal_decompose uses the classical decomposition method, of which there are two types: additive and multiplicative.", "Additive decomposition argues that time series data is a function of the sum of its components. Thus,", "where Y is the time series data, T is the trend-cycle component, S is the seasonal component, and R is the remainder.", "Rather than a sum, the multiplicative decomposition argues that time series data is a function of the product of its components. Thus,", "We can usually identify an additive or multiplicative time series from its variation. If the magnitude of the seasonal component changes with time, then the series is multiplicative. Otherwise, the series is additive.", "Notice that the magnitude of the seasonal component \u2014 the difference between the maximum point of the series and the red line \u2014 is relatively constant from 2011 onward in the additive time series.", "However, in the multiplicative series, the magnitude of the seasonal component grows as time increases.", "Note: identifying whether a series is additive or multiplicative is trickier than the above image might suggest. Oftentimes, one component of the time series might be additive while the others are multiplicative.", "For example, you can reasonably have a time series where", "The classical approach to time series decomposition has several issues:", "Thankfully, there are approaches to time series decomposition that resolve the above issues.", "X11 Decomposition creates a trend-cycle for all observations. As well, the X11 Decomposition allows the seasonal component to change slowly.", "I\u2019m unaware of any Python library that implements the X-11 procedure. However, this can be done relatively easily with the seas function in R\u2019s seasonal package. You might be able to use the rpy2 library to replicate the R code in Python. (I will update this article later this week once I\u2019ve found a work-around).", "Let\u2019s compare the results of the X11 decomposition with those of a classical decomposition.", "Because the seasonal component increases with time, we know that we should use multiplicative decomposition.", "Notice that the seasonal component is unchanging, the remainder component has a lot of large values, and the trend line is missing some observations from the beginning and from the end of our data set.", "Now, if we use the X11 decomposition,", "One problem with X11 is that it only handles monthly and quarterly data.", "Another is that it is not robust to outliers.", "Therefore, in 1990, researchers at the University of Michigan and Bell Labs published \u201cSTL: Seasonal-Trend Decomposition Procedure Based on Loess\u201d.", "The STL approach to time series decomposition has the following advantages over the X11 aproach:", "We can implement STL in Python with the STL function.", "We can change the smoothness of the trend-cycle and the seasonal components by passing an integer into the trend and seasonal arguments in the STL function. The seasonal argument is set to 7 by default (it is also recommended that you use a seasonal smoother greater than or equal to 7).", "If a trend value is not specified, then Statsmodels calculates a trend value by using the smallest odd integer greater than", "The choice of the seasonal smoother is up to you. The larger is the integer, the more \u2018smooth\u2019 your seasonal component becomes. This causes less of the variation in your data to be attributed to its seasonal component. Thus, you must decide how much variation in your data can be reasonably attributed to the seasonal component.", "The originators of the STL method suggest using a seasonal diagnostic plot, and then experimenting with different smoother values to determine which value seems right. Unfortunately, there is no implementation of this in Python (there is in R, however).", "The variation in the seasonal component has changed more rapidly than was the case when we had used the X11 decomposition. Because the STL decomposition is also robust to outliers, its estimation of the seasonal component is likely more accurate than the estimation from X11.", "Feel free to experiment with the seasonal argument in the STL function. Just make sure that you use an odd integer.", "If you\u2019d like to seasonally adjust your data, then subtract the seasonal component from the raw data.", "Now you know alternative approaches to seasonal decomposition. These alternative approaches will give you better estimates of the seasonality and trend-cycle components of your time series than you would have received with Statsmodels\u2019s seasonal_decompose function.", "You will also be able to use these approaches to obtain more accurate forecasts, and to better identify interesting patterns in your data set.", "[3] Sutcliffe, Andrew. (1993) \u201cX11 Time Series Decomposition and Sampling Errors\u201d, Australian Bureau of Statistics: Melbourne, Australia.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "That numbers guy | I know a little bit of economics"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F396c09f92693&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifferent-types-of-time-series-decomposition-396c09f92693&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifferent-types-of-time-series-decomposition-396c09f92693&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifferent-types-of-time-series-decomposition-396c09f92693&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifferent-types-of-time-series-decomposition-396c09f92693&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://me.dm/@andrewmplummer", "anchor_text": "Mastodon"}, {"url": "https://towardsdatascience.com/?source=post_page-----396c09f92693--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----396c09f92693--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://andrewmplummer.medium.com/?source=post_page-----396c09f92693--------------------------------", "anchor_text": ""}, {"url": "https://andrewmplummer.medium.com/?source=post_page-----396c09f92693--------------------------------", "anchor_text": "Andrew Plummer"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd48ce7eecfaa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifferent-types-of-time-series-decomposition-396c09f92693&user=Andrew+Plummer&userId=d48ce7eecfaa&source=post_page-d48ce7eecfaa----396c09f92693---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F396c09f92693&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifferent-types-of-time-series-decomposition-396c09f92693&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F396c09f92693&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifferent-types-of-time-series-decomposition-396c09f92693&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@travelergeek?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "T R A V E L E R G E E K"}, {"url": "https://unsplash.com/s/photos/hammer-and-nails?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://www.google.com/publicdata/explore?ds=d5bncppjof8f9_&met_y=ny_gdp_mktp_kd_zg&idim=country:USA:IND:GBR&hl=en&dl=en#!ctype=l&strail=false&bcs=d&nselm=h&met_y=ny_gdp_mktp_kd_zg&scale_y=lin&ind_y=false&rdim=world&idim=country:USA&ifdim=world&hl=en_US&dl=en&ind=false", "anchor_text": "Data from World Bank."}, {"url": "https://www.statsmodels.org/stable/generated/statsmodels.tsa.seasonal.seasonal_decompose.html", "anchor_text": "Statsmodels Documentation"}, {"url": "https://kourentzes.com/forecasting/2014/11/09/additive-and-multiplicative-seasonality/", "anchor_text": "Image from Nikolaos Kourentzes"}, {"url": "https://www.statsmodels.org/stable/generated/statsmodels.tsa.seasonal.seasonal_decompose.html", "anchor_text": "https://www.statsmodels.org/stable/generated/statsmodels.tsa.seasonal.seasonal_decompose.html"}, {"url": "http://www.gardner.fyi/blog/STL-Part-II/", "anchor_text": "\u201cSTL Algorithm Explained: STL Part II\u201d"}, {"url": "https://www.kaggle.com/rakannimer/air-passengers", "anchor_text": "https://www.kaggle.com/rakannimer/air-passengers"}, {"url": "https://medium.com/tag/science?source=post_page-----396c09f92693---------------science-----------------", "anchor_text": "Science"}, {"url": "https://medium.com/tag/math?source=post_page-----396c09f92693---------------math-----------------", "anchor_text": "Math"}, {"url": "https://medium.com/tag/statistics?source=post_page-----396c09f92693---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/data-science?source=post_page-----396c09f92693---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/time-series-analysis?source=post_page-----396c09f92693---------------time_series_analysis-----------------", "anchor_text": "Time Series Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F396c09f92693&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifferent-types-of-time-series-decomposition-396c09f92693&user=Andrew+Plummer&userId=d48ce7eecfaa&source=-----396c09f92693---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F396c09f92693&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifferent-types-of-time-series-decomposition-396c09f92693&user=Andrew+Plummer&userId=d48ce7eecfaa&source=-----396c09f92693---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F396c09f92693&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifferent-types-of-time-series-decomposition-396c09f92693&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----396c09f92693--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F396c09f92693&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifferent-types-of-time-series-decomposition-396c09f92693&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----396c09f92693---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----396c09f92693--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----396c09f92693--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----396c09f92693--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----396c09f92693--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----396c09f92693--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----396c09f92693--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----396c09f92693--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----396c09f92693--------------------------------", "anchor_text": ""}, {"url": "https://andrewmplummer.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://andrewmplummer.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Andrew Plummer"}, {"url": "https://andrewmplummer.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "771 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd48ce7eecfaa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifferent-types-of-time-series-decomposition-396c09f92693&user=Andrew+Plummer&userId=d48ce7eecfaa&source=post_page-d48ce7eecfaa--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F68a18eab8379&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdifferent-types-of-time-series-decomposition-396c09f92693&newsletterV3=d48ce7eecfaa&newsletterV3Id=68a18eab8379&user=Andrew+Plummer&userId=d48ce7eecfaa&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}