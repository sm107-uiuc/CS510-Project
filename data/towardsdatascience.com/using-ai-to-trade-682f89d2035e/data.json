{"url": "https://towardsdatascience.com/using-ai-to-trade-682f89d2035e", "time": 1683006680.0222862, "path": "towardsdatascience.com/using-ai-to-trade-682f89d2035e/", "webpage": {"metadata": {"title": "Using AI to Trade? Here is JP Morgan\u2019s Approach | by Alex Chen | Towards Data Science", "h1": "Using AI to Trade? Here is JP Morgan\u2019s Approach", "description": "How to use Reinforcement Learning to get optimal execution strategy."}, "outgoing_paragraph_urls": [{"url": "https://www.jpmorgan.com/jpmpdf/1320748255876.pdf", "anchor_text": "Risk-Sensitive Compact Decision Trees for Autonomous Execution in Presence of Simulated Market Response", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines", "paragraph_index": 33}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms", "paragraph_index": 33}], "all_paragraphs": ["In this article, we mainly focus on the paper, \u201cRisk-Sensitive Compact Decision Trees for Autonomous Execution in Presence of Simulated Market Response\u201d, to discuss how Machine Learning helps us get a better execution strategy. During the process, we add more information from other papers, which are basic theories for this paper and additional sources to help us to understand the problem.", "Imagine a trader have a bunch of money, and the trader wants to buy a bunch of stocks. Now the traders can use two orders to buy the stock:", "As we can see the below image. If the trader wants to execute a limit order, he will put the order on the queue; if the trader wants to execute a market order, he will get execution immediately at the current market price.", "When you want to execute the market order, you want to make sure the execution is the priority over the price.", "When you want to execute the limit order, you put the priority on price over the execution.", "Another problem is the market impact. Stock trading always has a supply-side and a demand-side, which has to keep the balance. The problem is that big institutions tend to buy many stocks in a short period ( for example, in one day). If the market price is $100, and they want to use $1,000,000 to buy 10,000 shares. If they just show an order in one lump. All the people in the market will know someone wants to buy a massive amount to shares, and then the seller will increase the price in light of human nature, which called market impact. To solve this problem, they can split the large order into smaller child orders to reduce the cost.", "The goal is to execute and get a certain amount of shares by the end of today. But traders want to implement an optimal strategy to deal with it. Three questions remain:", "1. What\u2019s the proportion for each child order?", "2. When do they want to execute the order?", "3. For each child order. Do they want to execute the market order or limit order?", "For each child order, we call the limit order passive order because buyers will set the price and wait it get matched passively. We call market order aggressive order because buyers want to get the order aggressively, regardless of the price.", "Everyone asks this question: How can I reduce the cost when I do the trading? From the previous paragraph, when a trader wants to buy S shares of stocks given by a time window [0,T]. How does the trader want to minimize the cost of acquisition? We call this optimal execution problem.", "Bertsimas and Lo (1998) addressed an optimal execution strategy based on Dynamic Programming Principle (DPP), they assumed the linear price impact:", "It means that the current price (Pt) is a function of previous price (Pt-1), proportion of shares of stock you bought (St), and random noise. They concluded that the optimal execution strategy is just evenly divided into the whole stock shares based on the equal time interval.", "Guo et.al (2013) gave a theory for optimal placement problems. Compared to optimal execution, the optimal placement problem focused on the trading happened in a smaller time window (10\u2013100 seconds), especially in HFT (High-frequency trading) field.", "There are so many ways to consider this problem. This paper wants to use Markov decision processes (MDP) and reinforcement learning (RL) to address this problem. The authors considered the optimal execution strategy price impact, and multi-agent interaction(simulation to the market). In this paper, 3 components work together :", "There are 2 components to run the strategy:", "As you can see in this image, they trained reinforcement learning agent in a simulated market environment, which has a similar scheme with real-time execution agent.", "Recall that some papers (Bertsimas and Lo, 1998) used a linear function to simulate the market impact.", "But in this paper, they used market response as a function of the LOB (Limit Order Book) Data and aggressive order size. It means that they can get insights from LOB data instead of using the assumption in formula.", "For each reinforcement learning, there are 3 components:", "1. States (s): There are 2 kinds of states. For the agent, the states indicate the position, which means how much money left and how many shares the trader wants to buy. For the market, a market has the market price, limit order book size at the moment. Then they separated the state variables into bins. Means If there are 5 variables, and each has 2,3,4,5,6 bins, respectively. It will get 2*3*4*5*6 = 720 states.", "2. Actions (a): At each moment, there is an action option: put size o on limit order book or market order book, which represent passively and aggressively, respectively. If o = 0, they don\u2019t execute any order at that moment.", "3. Rewards (R): The reward is the cost saved for each time. Rewards define as:", "In this formula, Rewards is a function of execution price (Pt) at time t, price if the trader just execute the whole parent order (P\u03c3), and order size (ft).", "In Lo\u2019s paper, they also use the MDP to process modeling the optimal execution strategy. But they made some fixed assumptions and didn\u2019t use dynamic data to support them.", "Therefore, in this paper, they used Q-learning and MDP to simulate the reaction in a real simulated dynamic environment. Q-values formula in Q-Learning defined as following:", "In this formula, Q-values is a function of rewards (R) summation, state(s), and action(a). After defining the Q-values. The goal is to get the optimal policy which maximize the total discounted rewards expectation:", "Since there are so many state variables as features, they also use a least-squares policy iteration method to select a subset of features from the total features pool.", "In the reinforcement learning algorithm, they provide a changeable parameter beta to indicate different risk appetite.", "After the Q-Learning Training process, they get a learned tabular execution policy, and then they use the decision tree to represent this result. The advantage of the decision tree is that the decision tree can explain the features explicitly. Based on that, traders can use different strategies, aggressively(market order) or passively (limit order) in terms of the situation of the state variable.", "They have the better result compared to the benchmark. They show great result based on this reinforcement learning tree-based agent. This agent can save 32% of the total execution cost. But for standard deviation, this strategy increased 27% of the cost standard deviation, which is the trade-off between cost-saving and risk, which is the Limit Order Book\u2019 nature.", "In this paper, authors showed the reinforcement learning algorithm can be used on the optimal execution problem. It will consider a dynamic environment instead of making a fixed assumption. It performed well on the Limit Order Book dataset. And authored showed that they can use a decision tree to represent a policy to guide traders to make decisions.", "Note from Towards Data Science\u2019s editors: While we allow independent authors to publish articles in accordance with our rules and guidelines, we do not endorse each author\u2019s contribution. You should not rely on an author\u2019s works without seeking professional advice. See our Reader Terms for details.", "[5] Vyetrenko, Svitlana, and Shaojie Xu. \u201cRisk-Sensitive Compact Decision Trees for Autonomous Execution in Presence of Simulated Market Response.\u201d arXiv preprint arXiv:1906.02312 (2019).", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F682f89d2035e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-ai-to-trade-682f89d2035e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-ai-to-trade-682f89d2035e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-ai-to-trade-682f89d2035e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-ai-to-trade-682f89d2035e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----682f89d2035e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----682f89d2035e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@alex_chen_97?source=post_page-----682f89d2035e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@alex_chen_97?source=post_page-----682f89d2035e--------------------------------", "anchor_text": "Alex Chen"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F231934218e60&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-ai-to-trade-682f89d2035e&user=Alex+Chen&userId=231934218e60&source=post_page-231934218e60----682f89d2035e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F682f89d2035e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-ai-to-trade-682f89d2035e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F682f89d2035e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-ai-to-trade-682f89d2035e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.mirrorreview.com/jpmorgan-chase-invests-ai-startup-volley/", "anchor_text": "Visual Credit"}, {"url": "https://www.jpmorgan.com/jpmpdf/1320748255876.pdf", "anchor_text": "Risk-Sensitive Compact Decision Trees for Autonomous Execution in Presence of Simulated Market Response"}, {"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines"}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms"}, {"url": "https://doi.org/10.1016/s1386-4181(97)00012-8", "anchor_text": "https://doi.org/10.1016/s1386-4181(97)00012-8"}, {"url": "https://doi.org/10.2139/ssrn.2034178", "anchor_text": "https://doi.org/10.2139/ssrn.2034178"}, {"url": "https://doi.org/10.2139/ssrn.2318220", "anchor_text": "https://doi.org/10.2139/ssrn.2318220"}, {"url": "https://doi.org/10.1007/s11579-016-0177-5", "anchor_text": "https://doi.org/10.1007/s11579-016-0177-5"}, {"url": "https://medium.com/tag/fintech?source=post_page-----682f89d2035e---------------fintech-----------------", "anchor_text": "Fintech"}, {"url": "https://medium.com/tag/ai?source=post_page-----682f89d2035e---------------ai-----------------", "anchor_text": "AI"}, {"url": "https://medium.com/tag/trading?source=post_page-----682f89d2035e---------------trading-----------------", "anchor_text": "Trading"}, {"url": "https://medium.com/tag/jp-morgan?source=post_page-----682f89d2035e---------------jp_morgan-----------------", "anchor_text": "Jp Morgan"}, {"url": "https://medium.com/tag/reinforcement-learning?source=post_page-----682f89d2035e---------------reinforcement_learning-----------------", "anchor_text": "Reinforcement Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F682f89d2035e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-ai-to-trade-682f89d2035e&user=Alex+Chen&userId=231934218e60&source=-----682f89d2035e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F682f89d2035e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-ai-to-trade-682f89d2035e&user=Alex+Chen&userId=231934218e60&source=-----682f89d2035e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F682f89d2035e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-ai-to-trade-682f89d2035e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----682f89d2035e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F682f89d2035e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-ai-to-trade-682f89d2035e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----682f89d2035e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----682f89d2035e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----682f89d2035e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----682f89d2035e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----682f89d2035e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----682f89d2035e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----682f89d2035e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----682f89d2035e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----682f89d2035e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@alex_chen_97?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@alex_chen_97?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Alex Chen"}, {"url": "https://medium.com/@alex_chen_97/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "11 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F231934218e60&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-ai-to-trade-682f89d2035e&user=Alex+Chen&userId=231934218e60&source=post_page-231934218e60--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fc94231ecf45f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-ai-to-trade-682f89d2035e&newsletterV3=231934218e60&newsletterV3Id=c94231ecf45f&user=Alex+Chen&userId=231934218e60&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}