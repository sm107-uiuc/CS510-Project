{"url": "https://towardsdatascience.com/dump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-2-fba7cda81203", "time": 1683012406.3828878, "path": "towardsdatascience.com/dump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-2-fba7cda81203/", "webpage": {"metadata": {"title": "Dump Keras-ImageDataGenerator. Start Using TensorFlow-tf.data (Part 2) | by Sunny Chugh | Towards Data Science", "h1": "Dump Keras-ImageDataGenerator. Start Using TensorFlow-tf.data (Part 2)", "description": "This article is the follow up from Part 1. Here, I will compare the tf.data and Keras.ImageDataGeneratoractual training times using the mobilenetmodel. In Part 1, I showed that loading images using\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.kaggle.com/chetankv/dogs-cats-images", "anchor_text": "Kaggle- dogs_and_cats", "paragraph_index": 1}, {"url": "http://images.cocodataset.org/zips/train2017.zip", "anchor_text": "COCO2017", "paragraph_index": 2}, {"url": "https://cocodataset.org/#download", "anchor_text": "this link", "paragraph_index": 2}, {"url": "http://images.cocodataset.org/zips/train2017.zip", "anchor_text": "COCO2017", "paragraph_index": 3}, {"url": "https://www.kaggle.com/chetankv/dogs-cats-images", "anchor_text": "Kaggle- dogs_and_cats", "paragraph_index": 5}], "all_paragraphs": ["This article is the follow up from Part 1. Here, I will compare the tf.data and Keras.ImageDataGeneratoractual training times using the mobilenetmodel.", "In Part 1, I showed that loading images using tf.data is approximately 5 times faster in comparison toKeras.ImageDataGenerator. The dataset considered was Kaggle- dogs_and_cats (217 MB) having 10000 images distributed among 2 different classes.", "In this Part 2, I have considered a bigger dataset which is commonly used for image classification problems. The dataset chosen is COCO2017 (18 GB) having 117266 images distributed among 80 different classes. Various versions of COCO datasets are freely available to try and test at this link. The reason for choosing the bigger dataset of 18 GB is to have better comparison results. For a practical image classification problem, datasets can be even bigger ranging from 100 GB (gigabytes)to a few TB (terabytes). In our case, 18 GB of data is enough to understand the comparison as using the dataset in TB would significantly increase the training times and computational resources.", "The above results are compared on a workstation having 16-GB RAM, 2.80 GHz with Core i7 using GPU version of TensorFlow 2.x. The dataset considered is COCO2017 (18 GB) having 117266 images distributed among 80 different classes.", "Note: The dump created in the memory when using cache='some_path.tfcache'is approximately of size 90 GB which is actually far greater than the original size (18 GB) of the dataset. I couldn\u2019t exactly understand the reason for this as there is no clear documentation from TensorFlow about this. I hope this is the glich which will be sorted out in the future.", "For smaller datasets like Kaggle- dogs_and_cats which is only 217 MB, there will not be a noticeable difference in speed or training times with tf.data and Keras as the RAM is big enough to store all the images at once.", "Here, the initial code for creating and training the model is shown. Pretrained model mobilenet is used to perform the transfer learning with base layers of pretrained model are frozen.", "Here I have combined the code from both Part 1 and Part 2. The comments and docstrings for functions will help in understanding the code.", "This article shows thattf.data is 2.5(when using cache=False) to 4.14 (when using cache=`some_path.tfcache`) times faster in comparison to Keras.ImageDataGenerator for any practical image classification problem. I think it is worth to try tf.data.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Research Fellow @ City, University of London | PhD in Machine Learning for Photonics Applications"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ffba7cda81203&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-2-fba7cda81203&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-2-fba7cda81203&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-2-fba7cda81203&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-2-fba7cda81203&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----fba7cda81203--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fba7cda81203--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@sunnychugh?source=post_page-----fba7cda81203--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sunnychugh?source=post_page-----fba7cda81203--------------------------------", "anchor_text": "Sunny Chugh"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1036aa6641a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-2-fba7cda81203&user=Sunny+Chugh&userId=1036aa6641a0&source=post_page-1036aa6641a0----fba7cda81203---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffba7cda81203&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-2-fba7cda81203&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffba7cda81203&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-2-fba7cda81203&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/swlh/dump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-1-a30330bdbca9", "anchor_text": "Dump Keras-ImageDataGenerator. Start Using TensorFlow-tf.data (Part 1)Stop using Keras-ImageDataGenerator because\u2026medium.com"}, {"url": "https://www.youtube.com/watch?v=uevE88wDWzg&t=92s", "anchor_text": "YouTube Video"}, {"url": "https://www.kaggle.com/chetankv/dogs-cats-images", "anchor_text": "Kaggle- dogs_and_cats"}, {"url": "http://images.cocodataset.org/zips/train2017.zip", "anchor_text": "COCO2017"}, {"url": "https://cocodataset.org/#download", "anchor_text": "this link"}, {"url": "http://images.cocodataset.org/zips/train2017.zip", "anchor_text": "COCO2017"}, {"url": "https://www.kaggle.com/chetankv/dogs-cats-images", "anchor_text": "Kaggle- dogs_and_cats"}, {"url": "https://www.kaggle.com/chetankv/dogs-cats-images", "anchor_text": "Kaggle- dogs_and_cats"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----fba7cda81203---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/keras?source=post_page-----fba7cda81203---------------keras-----------------", "anchor_text": "Keras"}, {"url": "https://medium.com/tag/tensorflow?source=post_page-----fba7cda81203---------------tensorflow-----------------", "anchor_text": "TensorFlow"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----fba7cda81203---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/deep-learning?source=post_page-----fba7cda81203---------------deep_learning-----------------", "anchor_text": "Deep Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffba7cda81203&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-2-fba7cda81203&user=Sunny+Chugh&userId=1036aa6641a0&source=-----fba7cda81203---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffba7cda81203&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-2-fba7cda81203&user=Sunny+Chugh&userId=1036aa6641a0&source=-----fba7cda81203---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffba7cda81203&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-2-fba7cda81203&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fba7cda81203--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ffba7cda81203&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-2-fba7cda81203&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----fba7cda81203---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----fba7cda81203--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----fba7cda81203--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----fba7cda81203--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----fba7cda81203--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----fba7cda81203--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----fba7cda81203--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----fba7cda81203--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----fba7cda81203--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sunnychugh?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sunnychugh?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sunny Chugh"}, {"url": "https://medium.com/@sunnychugh/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "403 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1036aa6641a0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-2-fba7cda81203&user=Sunny+Chugh&userId=1036aa6641a0&source=post_page-1036aa6641a0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb2f0f2bafc1e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdump-keras-imagedatagenerator-start-using-tensorflow-tf-data-part-2-fba7cda81203&newsletterV3=1036aa6641a0&newsletterV3Id=b2f0f2bafc1e&user=Sunny+Chugh&userId=1036aa6641a0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}