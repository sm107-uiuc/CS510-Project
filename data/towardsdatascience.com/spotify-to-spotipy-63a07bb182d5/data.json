{"url": "https://towardsdatascience.com/spotify-to-spotipy-63a07bb182d5", "time": 1683017699.4355159, "path": "towardsdatascience.com/spotify-to-spotipy-63a07bb182d5/", "webpage": {"metadata": {"title": "Spotify to Spotipy | Towards Data Science", "h1": "Spotify to Spotipy", "description": "A friend of mine and I share the annual ritual of comparing our \u2018year\u2019 unwrapped data that is sent religiously by Spotify every year. We compare the number of minutes, new artists, new genres, most\u2026"}, "outgoing_paragraph_urls": [{"url": "http://prashantmdgl9@gmail.com", "anchor_text": "prashantmdgl9@gmail.com", "paragraph_index": 29}, {"url": "https://github.com/Prashantmdgl9/MusicSpectralAnalysis", "anchor_text": "Githhub", "paragraph_index": 29}, {"url": "http://shorturl.at/sI289", "anchor_text": "shorturl.at/sI289", "paragraph_index": 31}, {"url": "https://bit.ly/3AVJ1rE", "anchor_text": "https://bit.ly/3AVJ1rE", "paragraph_index": 31}], "all_paragraphs": ["A friend of mine and I share the annual ritual of comparing our \u2018year\u2019 unwrapped data that is sent religiously by Spotify every year. We compare the number of minutes, new artists, new genres, most streamed song, most dominating genre and whatnot. This year was no different but this year I finally decided to wrap this project that I intended to finish for years.", "Spotify has indeed changed the way I listen to music and has made me realise that there are certain beats that I gravitate to and the last few days were spent in the pursuit of understanding what kind of music do I prefer and what are those special undertones in certain songs that make me stream them 221 times a year. The other goal was to find some similar songs to the one that I am after. You can argue that one can rely on products that are already there for such purposes i.e. song recommenders, beat identifier etc but the point is to make myself suffer through an inordinate amount of python code and eventually gain first-hand insights that I would inject in conversations with friends and strangers to sound extra douchey.", "So, without further ado. Here is the song that I have been listening for a few years. There are undertones that I wished to identify. They exist from 2:20 to 2:23 and repeat many times over in the song.", "My hypothesis was there is a certain frequency at which these tones are getting produced and I merely need to find out what they are and I will be set. Haha! Little did I know that I am getting into a rabbit hole.", "Python offers a pretty nice library -Librosa- for the audio analysis and that came to my rescue. A quick read and I was able to load the snippet of audio and separate it into its harmonic and percussive components. One can hear the components as well. The default frequency for librosa is 22050 Hz. The signal itself is an array of numerical values which must be the amplitudes. \u2018z_harmonic\u2019 is the harmonic component and it seems to have the note that I am interested in, so I\u2019ll ignore z and z_percussive.", "One could get some interesting info such as beats, tempo as well. Ok! so this song is at 130 bpm which seems right that I don\u2019t appreciate much higher bpm music.", "The obvious thing to do here is to plot the amplitudes and feel like a jackass!", "Finally, my engineering degree paid off and I remembered the Fourier transform that helps in converting the signals from the time domain to the frequency domain. FFT(Fast Fourier Transform) or DFT are applicable to digital signals while a Fourier transform can be applied directly to a continuous signal. Ours is a digital one, so FFT it is.", "So, it seems my signal has lower frequencies than higher frequencies. It is a simple plot of amplitude vs frequency and doesn\u2019t give me anything other than that there is a peak in the beginning and the others are some repetitive patterns at high freq or maybe noise, I am not sure.", "What I wanted to find was what is the frequency at certain time intervals in this 6-second snippet of audio. All I have right now are a bunch of delinquent frequencies on a graph that is serving me no purpose.", "What I need is a plot of frequencies against the time. Enters Spectrogram!!", "Here STFT(a form of FFT), short-time Fourier transform converts the discrete-time signal to frequency one but it produces the results in complex domain i.e. the values have both real and imaginary parts. A spectrogram is nothing but the square of the magnitude of the STFT values. The spectrogram brings the results of STFT from complex domain to the real domain.", "And I can\u2019t see anything except a few faint colours at the bottom. Maybe some issue with my eyesight or you and I are in the same visual boat here?", "This seems futile but let\u2019s carry on. Do humans perceive sound linearly? I mean C note is a lower frequency that E note, does it mean that difference between C4 and C6 will be similar to the difference between E4 and E6? If humans understand sound linearly then they should be able to tell E4 and E6 apart the same ay they can do so for C4 and C6.", "I know that we use the decibel system for the sound which is a logarithmic scale, so maybe I should plot my spectrogram on a logarithmic scale as well because humans understand sound on a logarithmic scale than a linear scale.", "This looks much better with some bands that I can observe. The red/amber portion is where most frequencies are but they are squished down. How can I correct this?", "This seems much better. We changed the y_axis parameter from linear to log and life became much better.", "Essentially what we did was to convert frequency on the y-axis from linear to log and also have the colour scale or the amplitudes on the decibel scale.", "Obviously, there is a lot of repetition in the pattern but an observation for me is that I like this song which has lower fundamental frequency repetition. Generally speaking, C2 to C6 lie between 60 to 260 Hertz.", "By the way, if I plot the spectrogram of harmonic components and percussive components then what we get is an interesting observation.", "The percussive one is noisier compared to the harmonic one and that is expected.", "Harmonics are more horizontal indicating stable tones and percussive are vertical stripes.", "While talking to someone on Slack channel of MIR group(Music Information Retrieval) I came to know a little about Mel Spectograms which are spectrograms on steroids.", "In Spectrogram, we changed the y-axis from linear to logarithmic scale while in Mel spectrogram, we change it to Mel scale which is another logarithmic scale and is created on how we perceive sound. In crude words, Mel scale provides the way to differentiate between two frequencies not as difference between their values but as difference perceived by the human ear and maybe that\u2019s why it is better to use Mel spectrograms.", "Librosa comes to rescue again as it is quite easy to plot them.", "In the input, we put n_mels = 10, which means there are 10 buckets on the y_axis and you can see the 10 horizontal rectangles on the y-axis.", "As before, the undertone I am interested in and that is present in the music lies in the lower frequency region. Another thing that can be observed from this spectrogram is the there are a lot of parallel lines above the red/amber signals. They are called the overtones of the fundamental frequency. Had they been absent, the timbre of the music would have been dark but here it can be said that it is bright.", "Maybe there is more information that can be derived from the spectrograms and visual analysis of audios but I decided to call it a day and armed with the info such as freq, tempo, timbre I moved towards the quantitative data in which I duelled with Spotipy.", "I will present my analysis of Spotify\u2019s data in the next post.", "Oh, if there are any comments, please do let me know and if you want the code then you can email me at prashantmdgl9@gmail.com or drop a comment. You can check it on Githhub as well.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "LinkedIn \u2014 shorturl.at/sI289 ; Other blog \u2014 https://bit.ly/3AVJ1rE ; Interested in science, maths, startup, and films. Management consultant and data scientist"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F63a07bb182d5&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspotify-to-spotipy-63a07bb182d5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspotify-to-spotipy-63a07bb182d5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspotify-to-spotipy-63a07bb182d5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspotify-to-spotipy-63a07bb182d5&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----63a07bb182d5--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----63a07bb182d5--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://prashantmdgl9.medium.com/?source=post_page-----63a07bb182d5--------------------------------", "anchor_text": ""}, {"url": "https://prashantmdgl9.medium.com/?source=post_page-----63a07bb182d5--------------------------------", "anchor_text": "Prashant Mudgal"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8fa3af9ed30d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspotify-to-spotipy-63a07bb182d5&user=Prashant+Mudgal&userId=8fa3af9ed30d&source=post_page-8fa3af9ed30d----63a07bb182d5---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F63a07bb182d5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspotify-to-spotipy-63a07bb182d5&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F63a07bb182d5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspotify-to-spotipy-63a07bb182d5&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@jasonrosewell?utm_source=medium&utm_medium=referral", "anchor_text": "Jason Rosewell"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "http://prashantmdgl9@gmail.com", "anchor_text": "prashantmdgl9@gmail.com"}, {"url": "https://github.com/Prashantmdgl9/MusicSpectralAnalysis", "anchor_text": "Githhub"}, {"url": "https://medium.com/tag/data-science?source=post_page-----63a07bb182d5---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----63a07bb182d5---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/music?source=post_page-----63a07bb182d5---------------music-----------------", "anchor_text": "Music"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----63a07bb182d5---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----63a07bb182d5---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F63a07bb182d5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspotify-to-spotipy-63a07bb182d5&user=Prashant+Mudgal&userId=8fa3af9ed30d&source=-----63a07bb182d5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F63a07bb182d5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspotify-to-spotipy-63a07bb182d5&user=Prashant+Mudgal&userId=8fa3af9ed30d&source=-----63a07bb182d5---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F63a07bb182d5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspotify-to-spotipy-63a07bb182d5&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----63a07bb182d5--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F63a07bb182d5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspotify-to-spotipy-63a07bb182d5&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----63a07bb182d5---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----63a07bb182d5--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----63a07bb182d5--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----63a07bb182d5--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----63a07bb182d5--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----63a07bb182d5--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----63a07bb182d5--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----63a07bb182d5--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----63a07bb182d5--------------------------------", "anchor_text": ""}, {"url": "https://prashantmdgl9.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://prashantmdgl9.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Prashant Mudgal"}, {"url": "https://prashantmdgl9.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "233 Followers"}, {"url": "http://shorturl.at/sI289", "anchor_text": "shorturl.at/sI289"}, {"url": "https://bit.ly/3AVJ1rE", "anchor_text": "https://bit.ly/3AVJ1rE"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8fa3af9ed30d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspotify-to-spotipy-63a07bb182d5&user=Prashant+Mudgal&userId=8fa3af9ed30d&source=post_page-8fa3af9ed30d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fffcd6769f016&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fspotify-to-spotipy-63a07bb182d5&newsletterV3=8fa3af9ed30d&newsletterV3Id=ffcd6769f016&user=Prashant+Mudgal&userId=8fa3af9ed30d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}