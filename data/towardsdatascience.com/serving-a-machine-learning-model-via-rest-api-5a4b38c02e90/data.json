{"url": "https://towardsdatascience.com/serving-a-machine-learning-model-via-rest-api-5a4b38c02e90", "time": 1683015492.96902, "path": "towardsdatascience.com/serving-a-machine-learning-model-via-rest-api-5a4b38c02e90/", "webpage": {"metadata": {"title": "Serving a Machine Learning Model Via REST API | by Kurtis Pykes | Towards Data Science", "h1": "Serving a Machine Learning Model Via REST API", "description": "For those that aren\u2019t familiar with my writings, in a past post titled \u201cUsing Machine Learning To Detect Fraud\u201d we started building the first parts of our Machine Learning package. Now, the package\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/using-machine-learning-to-detect-fraud-f204910389cf", "anchor_text": "Using Machine Learning To Detect Fraud", "paragraph_index": 0}, {"url": "https://github.com/kurtispykes/credit-card-fraud-detection/tree/master/packages/random_forest_model", "anchor_text": "Github", "paragraph_index": 1}, {"url": "https://www.udemy.com/course/deployment-of-machine-learning-models/", "anchor_text": "Deploying Machine Learning Models", "paragraph_index": 3}, {"url": "https://restfulapi.net/", "anchor_text": "What is REST", "paragraph_index": 5}, {"url": "https://flask.palletsprojects.com/en/1.1.x/", "anchor_text": "Documentation", "paragraph_index": 8}], "all_paragraphs": ["For those that aren\u2019t familiar with my writings, in a past post titled \u201cUsing Machine Learning To Detect Fraud\u201d we started building the first parts of our Machine Learning package.", "Now, the package is complete but what do we do next? How do we integrate this to wherever we need to use it \u2014 Package Repository on Github.", "I hereby introduce you to the REST API.", "Note: This project is highly inspired by the \u201cDeploying Machine Learning Models\u201d course on Udemy, therefore there will be snippets of source code taken from that project.", "API is an acronym that is short for Application Programming Interface. Essentially, it is a software mediator that allows for two applications to talk to one another. If you aren\u2019t familiar with API\u2019s then you wouldn\u2019t know you more than likely use one every day. Don\u2019t believe me? When was the last time you sent an instant text message? You used an API then.", "The REST acronym stands for REpresentation State Transfer and it is what determines how the API looks. Like any other architectural style, REST has its own guiding constraints which ought to be satisfied if an interface is to be referred to as RESTful \u2014 For more on REST see \u201cWhat is REST\u201d.", "Simply, a REST API transfers to the client the state of a requested resource. In our case, the requested resource will be a prediction from our Machine Learning Model. Therefore, our server will be passing the predictions to a client of which may be anything from a web app to a mobile device.", "There are many benefits to designing our system this way. For instance, serving our model via REST API permits for us too;", "For us to build our API, we are going to leverage the Flask micro-framework. Due to various reasons such as being extremely powerful, simple to use, and very good documentation, Flask is a popular choice for microservices in Python \u2014 See Documentation.", "\u201cMicro\u201d does not mean that your whole web application has to fit into a single Python file (although it certainly can), nor does it mean that Flask is lacking in functionality. The \u201cmicro\u201d in microframework means Flask aims to keep the core simple but extensible.", "Let\u2019s first take a look at our directory structure\u2026", "The topmost directory is ml_api and within this directory there is requirements.txt and run.py. requirements.txt is simply the packages we require for the virtual environment.", "Hence, we start by installing the requirements.txt file into our virtual environment with pip install -r path\\to\\requirements.txt which will install flask and find our distribution of the random_forest_model package.", "The run.py file is an entry point that we will use to start flask with the create_app() function we defined in the app.py module.", "Let\u2019s see the app.py module. From Figure 1 we see that we can navigate to that file via the api sub-directory.", "In app.py we have our factory function which creates our flask API and sets up blueprints which creates one endpoint that lives in controller.py.", "The controller is a simple health endpoint that occurs during an HTTP GET request and it returns \u201cWorking Fine\u201d.", "Before we spin up this instance, it\u2019s important we set the entry point of our flask app in our command prompt. Do that by navigating to our ml_api directory in the command prompt and simply typing set FLASK_APP=run.py. When we have done that we simply type python run.py and the results look like so\u2026", "Perfect, our endpoint is working as we hoped for it too. Now that we have our basic skeleton, we can add some more sophistication.", "Note: Adding the config and logging is beyond the scope of this post however in the updated repository, you will see that they are present. Therefore, the next section deals with add the prediction endpoint.", "The next step is to add an inference endpoint to our health endpoint in controller.py", "We have called the predict function from our random_forest_model package to get results from our model. A very important part of any software engineering project is testing so let\u2019s test our endpoint to see if it is working as we expect.", "PyTest is beyond the scope of this post, however for us to run our test we must run pytest path\\to\\test_dir and that will run all the tests in our test directory \u2014 If we pass the test then our prediction endpoint is healthy and running.", "Thank you for reading to the end, let\u2019s connect on LinkedIn\u2026", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5a4b38c02e90&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fserving-a-machine-learning-model-via-rest-api-5a4b38c02e90&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fserving-a-machine-learning-model-via-rest-api-5a4b38c02e90&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fserving-a-machine-learning-model-via-rest-api-5a4b38c02e90&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fserving-a-machine-learning-model-via-rest-api-5a4b38c02e90&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5a4b38c02e90--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5a4b38c02e90--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://kurtispykes.medium.com/?source=post_page-----5a4b38c02e90--------------------------------", "anchor_text": ""}, {"url": "https://kurtispykes.medium.com/?source=post_page-----5a4b38c02e90--------------------------------", "anchor_text": "Kurtis Pykes"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5ba760786877&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fserving-a-machine-learning-model-via-rest-api-5a4b38c02e90&user=Kurtis+Pykes&userId=5ba760786877&source=post_page-5ba760786877----5a4b38c02e90---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5a4b38c02e90&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fserving-a-machine-learning-model-via-rest-api-5a4b38c02e90&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5a4b38c02e90&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fserving-a-machine-learning-model-via-rest-api-5a4b38c02e90&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@lefterisk?utm_source=medium&utm_medium=referral", "anchor_text": "Lefteris kallergis"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/using-machine-learning-to-detect-fraud-f204910389cf", "anchor_text": "Using Machine Learning To Detect Fraud"}, {"url": "https://github.com/kurtispykes/credit-card-fraud-detection/tree/master/packages/random_forest_model", "anchor_text": "Github"}, {"url": "https://github.com/kurtispykes/credit-card-fraud-detection/tree/master/packages/random_forest_model", "anchor_text": "kurtispykes/credit-card-fraud-detectionYou can't perform that action at this time. You signed in with another tab or window. You signed out in another tab or\u2026github.com"}, {"url": "https://www.udemy.com/course/deployment-of-machine-learning-models/", "anchor_text": "Deploying Machine Learning Models"}, {"url": "https://restfulapi.net/", "anchor_text": "What is REST"}, {"url": "https://flask.palletsprojects.com/en/1.1.x/", "anchor_text": "Documentation"}, {"url": "https://flask.palletsprojects.com/en/1.1.x/", "anchor_text": "Flask Documentation"}, {"url": "https://www.linkedin.com/in/kurtispykes/", "anchor_text": "Kurtis Pykes - AI Writer - Towards Data Science | LinkedInView Kurtis Pykes' profile on LinkedIn, the world's largest professional community. Kurtis has 1 job listed on their\u2026www.linkedin.com"}, {"url": "https://medium.com/tag/data-science?source=post_page-----5a4b38c02e90---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----5a4b38c02e90---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/deep-learning?source=post_page-----5a4b38c02e90---------------deep_learning-----------------", "anchor_text": "Deep Learning"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----5a4b38c02e90---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----5a4b38c02e90---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5a4b38c02e90&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fserving-a-machine-learning-model-via-rest-api-5a4b38c02e90&user=Kurtis+Pykes&userId=5ba760786877&source=-----5a4b38c02e90---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5a4b38c02e90&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fserving-a-machine-learning-model-via-rest-api-5a4b38c02e90&user=Kurtis+Pykes&userId=5ba760786877&source=-----5a4b38c02e90---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5a4b38c02e90&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fserving-a-machine-learning-model-via-rest-api-5a4b38c02e90&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5a4b38c02e90--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5a4b38c02e90&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fserving-a-machine-learning-model-via-rest-api-5a4b38c02e90&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5a4b38c02e90---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5a4b38c02e90--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5a4b38c02e90--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5a4b38c02e90--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5a4b38c02e90--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5a4b38c02e90--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5a4b38c02e90--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5a4b38c02e90--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5a4b38c02e90--------------------------------", "anchor_text": ""}, {"url": "https://kurtispykes.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://kurtispykes.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kurtis Pykes"}, {"url": "https://kurtispykes.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "9.3K Followers"}, {"url": "https://www.fullstackfreelancershub.com/wisdom-wednesday", "anchor_text": "https://www.fullstackfreelancershub.com/wisdom-wednesday"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5ba760786877&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fserving-a-machine-learning-model-via-rest-api-5a4b38c02e90&user=Kurtis+Pykes&userId=5ba760786877&source=post_page-5ba760786877--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ffde3d752d24c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fserving-a-machine-learning-model-via-rest-api-5a4b38c02e90&newsletterV3=5ba760786877&newsletterV3Id=fde3d752d24c&user=Kurtis+Pykes&userId=5ba760786877&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}