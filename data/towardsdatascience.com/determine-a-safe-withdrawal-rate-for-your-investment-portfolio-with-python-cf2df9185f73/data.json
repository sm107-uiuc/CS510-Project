{"url": "https://towardsdatascience.com/determine-a-safe-withdrawal-rate-for-your-investment-portfolio-with-python-cf2df9185f73", "time": 1683009118.108564, "path": "towardsdatascience.com/determine-a-safe-withdrawal-rate-for-your-investment-portfolio-with-python-cf2df9185f73/", "webpage": {"metadata": {"title": "Determine a Safe Withdrawal Rate for your Investment Portfolio with Python | by Two Pennies Worth | Towards Data Science", "h1": "Determine a Safe Withdrawal Rate for your Investment Portfolio with Python", "description": "In 1999, a study was published detailing the effects of a range of nominal and inflation-adjusted withdrawal rates on investment portfolios for payout periods up to 30 years. Within finance\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.researchgate.net/publication/228707593_Sustainable_withdrawal_rates_from_your_retirement_portfolio", "anchor_text": "study", "paragraph_index": 0}, {"url": "https://github.com/ranaroussi/yfinance", "anchor_text": "yfinance", "paragraph_index": 10}, {"url": "https://plotly.com/python/getting-started/", "anchor_text": "plotly", "paragraph_index": 10}, {"url": "https://finance.yahoo.com/", "anchor_text": "Yahoo Finance", "paragraph_index": 12}, {"url": "https://medium.com/makingofamillionaire/a-critical-look-at-the-multiply-by-25-rule-to-early-retirement-8535ef48cba1", "anchor_text": "link", "paragraph_index": 28}, {"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines", "paragraph_index": 29}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms", "paragraph_index": 29}], "all_paragraphs": ["In 1999, a study was published detailing the effects of a range of nominal and inflation-adjusted withdrawal rates on investment portfolios for payout periods up to 30 years. Within finance, investment advising and retirement planning this study is informally known as the Trinity Study.", "The study suggests that portfolios of at least 75% stocks provide a 4% to 5% inflation-adjusted withdrawal. In other words, if you have a portfolio of $1 million, you can withdraw annually $40.000 to $50.000 adjusted for inflation without the risk of running out of money, at least, for the coming 30 years.", "After reading this study, I was inspired to extend the work of this paper. As a result, I have written a python script that follows the methodology described in this study to determine a sustainable withdrawal rate for any investment portfolio (assuming that there is sufficient historical data).", "This article is comprised of the following sections, first, I will explain the data and methodology. Second, I will elaborate on the Python implementation and explain how to use it. Lastly, a conclusion is presented regarding the determination of a safe withdrawal rate.", "In order to determine a sustainable withdrawal rate, the study used a ratio called the portfolio success rate. This ratio is used to compare all the portfolio compositions with different withdrawal rates and payout periods. The portfolio success rate, is defined as the number of portfolio successes divided by the number of simulations. A portfolio is considered a success if it completes the payout period with an end of period value greater than or equal to zero.", "The data used in the study were the total monthly returns of the Standard & Poor\u2019s 500 Index and the Salomon Brothers Long-Term High-Grade Corporate Bond Index. Total monthly return is the actual return of an investment for a given period, this includes interest, capital gains, dividends and distributions.", "Using these historical total monthly returns, simulations are derived by using an overlapping years method for different payout periods. This method is elaborated in the figure below:", "To determine the portfolio success rates, the month-end portfolio values need to be calculated. The study distinguishes between portfolios with nominal withdrawal rates and portfolios with inflation-adjusted withdrawals. These month-end portfolio values are determined as follows:", "Before continuing with the python implementation, there are two items that I still want to elaborate further. These are the determination of the portfolio return (R\u209c) and the monthly withdrawal amount (W\u209c). Refer to the figure below:", "Unfortunately, due to data constraints, the scope of the python implementation is limited to only the determination of the nominal withdrawal rates. Furthermore, I was only able to find historical monthly returns, instead of total monthly return. As a result, no dividends or other distributions are considered, which may affect the actual success rates of the investment portfolio. However, I believe that this impact will not be significant.", "First, the libraries that I used for this implementation were yfinance and plotly. To use this python implementation, you need to install these libraries. You can install these libraries using pip.", "After installing the necessary libraries, we can turn our focus to the python implementation. Given the amount of different portfolio compositions, payout periods and withdrawal rates that are possible to explore, I found it suitable to create a python class named sustainable_withdrawal_rate.", "Before loading this class, it is helpful if you look up the symbols of your choosing on Yahoo Finance, as you will need it as input for the python class. For example, I want to determine the (nominal) sustainable withdrawal rate for an investment portfolio containing the indices of UK, Germany and France. The symbols for these indices on Yahoo Finance are:", "After loading the python class, you need to instantiate it. For instantiation, the symbols are required as input. Below you can find an example using the symbols mentioned above:", "The output states that the historical (monthly) data for all three indices ranges from 1991 to 2020, which is 30 years of historical data that can be used for analysis. This is useful as it suggests that for this investment portfolio there is not enough historical data to determine a sustainable withdrawal rate for a payout period of 30 years.", "Based on the amount of historical data for this investment portfolio (30 years), we could use a payout period of 10 years. If you want to determine the success rates for a given portfolio composition and a payout period of 10 years, you can use the following code:", "The code shows that the weights for this investment portfolio consists of 40% FTSE, 40% DAX and 30% CAC 40. Running this code results in the following output:", "The output is a table containing the different annual withdrawal rates and their corresponding success rates. In other words, an investment portfolio consisting of 40% FTSE, 40% DAX and 30% CAC 40 can sustain an annual withdrawal rate of up to 7% for a payout period of 10 years without being depleted.", "If you wish to adjust the portfolio composition and/or payout period, and see how these changes affect the success rates. You can easily do this by adjusting the portfolio_composition and/or payout_period, and running the code port.portfolio_success_rate(payout_period, portfolio_composition).", "Lastly, you can also plot the portfolio simulations for a specific annual withdrawal rate. Let\u2019s plot the simulations for an annual withdrawal rate of 8% based on the portfolio composition and payout period described above. You can use the following code to plot the simulations:", "Running this code should results in the following plot in your webbrowser:", "The plot shows the different portfolio simulations for an annual withdrawal rate of 8% and a payout period of 10 years (120 months). The portfolio simulations are determined based on the overlapping years method discussed in the methodology section. Furthermore, the plot shows the initial portfolio value of 1 and how the end of month portfolio value varies throughout the months for the different simulations.", "The green lines in the plot are the portfolio simulations that are considered a success because the end of period value is greater than zero. Conversely, the red lines in the plot are the portfolio simulations that have failed, because their end of period value is negative.", "If you want to plot the portfolio simulations for a different annual withdrawal rate, just adjust annual_withdrawal and run the code port.plotsimulations(annual_withdrawal).", "The complete code for the python class sustainable_withdrawal_rate is shown below:", "In this article I have extended the work of the Trinity study, such that the (nominal) sustainable withdrawal rate can be determined for any investment portfolio, assuming that there is sufficient data.", "By using the python class sustainable_withdrawal_rate, you can determine a sustainable withdrawal rate for your investment portfolio. The choice of a sustainable withdrawal rate is subjective, there is no globally optimal withdrawal rate.", "A sustainable withdrawal rate depends on many individual preferences, such as the current consumption, variable financial needs and whether the individual wishes to leave a significant portion of the initial retirement portfolio to his/her heirs. As a result, the outcome of this analysis should be considered as an input to determine your sustainable withdrawal rate.", "An important factor that has not been considered in this study is the life expectancy of the individual. For those interested, I have written an article detailing the impact of life expectancy on the early retirement number, here\u2019s the link.", "Note from Towards Data Science\u2019s editors: While we allow independent authors to publish articles in accordance with our rules and guidelines, we do not endorse each author\u2019s contribution. You should not rely on an author\u2019s works without seeking professional advice. See our Reader Terms for details.", "[1] Phillip L. Cooley, Carl M. Hubbard and Daniel T. Walz, Sustainable Withdrawal Rates From Your Investment Portfolio (1999), Financial Counseling and Planning Volume 10 (1).", "The financial opinion expressed in this article are from personal research and experience of the writer. This article is for informational purposes only. It should not be considered Financial or Legal Advice.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "An inquisitive quant/actuary that wants to share his two pennies worth on several subjects."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fcf2df9185f73&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetermine-a-safe-withdrawal-rate-for-your-investment-portfolio-with-python-cf2df9185f73&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetermine-a-safe-withdrawal-rate-for-your-investment-portfolio-with-python-cf2df9185f73&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetermine-a-safe-withdrawal-rate-for-your-investment-portfolio-with-python-cf2df9185f73&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetermine-a-safe-withdrawal-rate-for-your-investment-portfolio-with-python-cf2df9185f73&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----cf2df9185f73--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cf2df9185f73--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@two.pennies.worth?source=post_page-----cf2df9185f73--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@two.pennies.worth?source=post_page-----cf2df9185f73--------------------------------", "anchor_text": "Two Pennies Worth"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc1d397e2eff3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetermine-a-safe-withdrawal-rate-for-your-investment-portfolio-with-python-cf2df9185f73&user=Two+Pennies+Worth&userId=c1d397e2eff3&source=post_page-c1d397e2eff3----cf2df9185f73---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcf2df9185f73&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetermine-a-safe-withdrawal-rate-for-your-investment-portfolio-with-python-cf2df9185f73&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcf2df9185f73&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetermine-a-safe-withdrawal-rate-for-your-investment-portfolio-with-python-cf2df9185f73&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@tierramallorca?utm_source=medium&utm_medium=referral", "anchor_text": "Tierra Mallorca"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.researchgate.net/publication/228707593_Sustainable_withdrawal_rates_from_your_retirement_portfolio", "anchor_text": "study"}, {"url": "https://github.com/ranaroussi/yfinance", "anchor_text": "yfinance"}, {"url": "https://plotly.com/python/getting-started/", "anchor_text": "plotly"}, {"url": "https://finance.yahoo.com/", "anchor_text": "Yahoo Finance"}, {"url": "https://medium.com/makingofamillionaire/a-critical-look-at-the-multiply-by-25-rule-to-early-retirement-8535ef48cba1", "anchor_text": "link"}, {"url": "https://towardsdatascience.com/questions-96667b06af5", "anchor_text": "rules and guidelines"}, {"url": "https://towardsdatascience.com/readers-terms-b5d780a700a4", "anchor_text": "Reader Terms"}, {"url": "https://medium.com/tag/finance?source=post_page-----cf2df9185f73---------------finance-----------------", "anchor_text": "Finance"}, {"url": "https://medium.com/tag/investing?source=post_page-----cf2df9185f73---------------investing-----------------", "anchor_text": "Investing"}, {"url": "https://medium.com/tag/data-science?source=post_page-----cf2df9185f73---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/data?source=post_page-----cf2df9185f73---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----cf2df9185f73---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcf2df9185f73&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetermine-a-safe-withdrawal-rate-for-your-investment-portfolio-with-python-cf2df9185f73&user=Two+Pennies+Worth&userId=c1d397e2eff3&source=-----cf2df9185f73---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fcf2df9185f73&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetermine-a-safe-withdrawal-rate-for-your-investment-portfolio-with-python-cf2df9185f73&user=Two+Pennies+Worth&userId=c1d397e2eff3&source=-----cf2df9185f73---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fcf2df9185f73&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetermine-a-safe-withdrawal-rate-for-your-investment-portfolio-with-python-cf2df9185f73&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----cf2df9185f73--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fcf2df9185f73&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetermine-a-safe-withdrawal-rate-for-your-investment-portfolio-with-python-cf2df9185f73&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----cf2df9185f73---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----cf2df9185f73--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----cf2df9185f73--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----cf2df9185f73--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----cf2df9185f73--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----cf2df9185f73--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----cf2df9185f73--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----cf2df9185f73--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----cf2df9185f73--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@two.pennies.worth?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@two.pennies.worth?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Two Pennies Worth"}, {"url": "https://medium.com/@two.pennies.worth/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "21 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc1d397e2eff3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetermine-a-safe-withdrawal-rate-for-your-investment-portfolio-with-python-cf2df9185f73&user=Two+Pennies+Worth&userId=c1d397e2eff3&source=post_page-c1d397e2eff3--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fc1d397e2eff3%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdetermine-a-safe-withdrawal-rate-for-your-investment-portfolio-with-python-cf2df9185f73&user=Two+Pennies+Worth&userId=c1d397e2eff3&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}