{"url": "https://towardsdatascience.com/vespa-ai-and-the-cord-19-public-api-a714b942172f", "time": 1683005309.443567, "path": "towardsdatascience.com/vespa-ai-and-the-cord-19-public-api-a714b942172f/", "webpage": {"metadata": {"title": "Vespa.ai and the CORD-19 public API | by Thiago G. Martins | Towards Data Science", "h1": "Vespa.ai and the CORD-19 public API", "description": "The Vespa team has been working non-stop to put together the cord19.vespa.ai search app based on the COVID-19 Open Research Dataset (CORD-19) released by the Allen Institute for AI. Both the frontend\u2026"}, "outgoing_paragraph_urls": [{"url": "https://cord19.vespa.ai/", "anchor_text": "cord19.vespa.ai", "paragraph_index": 0}, {"url": "https://allenai.org/", "anchor_text": "Allen Institute for AI", "paragraph_index": 0}, {"url": "https://github.com/vespa-engine/cord-19/blob/master/README.md", "anchor_text": "the frontend", "paragraph_index": 0}, {"url": "https://github.com/vespa-engine/sample-apps/tree/master/vespa-cloud/cord-19-search", "anchor_text": "the backend", "paragraph_index": 0}, {"url": "https://vespa.ai/", "anchor_text": "vespa.ai", "paragraph_index": 0}, {"url": "http://cord19.vespa.ai", "anchor_text": "frontend", "paragraph_index": 1}, {"url": "https://github.com/vespa-engine/cord-19/blob/master/cord-19-queries.md", "anchor_text": "public search API", "paragraph_index": 1}, {"url": "https://github.com/vespa-engine/sample-apps/tree/master/vespa-cloud/cord-19-search", "anchor_text": "backend", "paragraph_index": 1}, {"url": "https://github.com/vespa-engine/cord-19/blob/master/README.md", "anchor_text": "frontend", "paragraph_index": 1}, {"url": "https://docs.vespa.ai/documentation/vespa-quick-start.html", "anchor_text": "locally", "paragraph_index": 1}, {"url": "https://cloud.vespa.ai/getting-started.html", "anchor_text": "Vespa Cloud", "paragraph_index": 1}, {"url": "https://towardsdatascience.com/learning-from-unlabelled-data-with-covid-19-open-research-dataset-cded4979f1cf?source=friends_link&sk=44fd9519db937036659d0e43c87310c5", "anchor_text": "different ways to match and rank the CORD-19 articles", "paragraph_index": 1}, {"url": "https://docs.vespa.ai/documentation/reference/simple-query-language-reference.html", "anchor_text": "simple query language", "paragraph_index": 2}, {"url": "https://docs.vespa.ai/documentation/search-api.html", "anchor_text": "search API", "paragraph_index": 3}, {"url": "https://docs.vespa.ai/documentation/query-language.html", "anchor_text": "Vespa query language", "paragraph_index": 3}, {"url": "https://docs.vespa.ai/documentation/reference/bm25.html", "anchor_text": "BM25 scores", "paragraph_index": 6}, {"url": "https://docs.vespa.ai/documentation/ranking.html", "anchor_text": "rank-profiles", "paragraph_index": 7}, {"url": "https://github.com/vespa-engine/sample-apps/blob/master/vespa-cloud/cord-19-search/src/main/application/searchdefinitions/doc.sd", "anchor_text": "search definition file", "paragraph_index": 7}, {"url": "https://docs.vespa.ai/documentation/reference/query-language-reference.html#nearestneighbor", "anchor_text": "nearestNeighbor operator", "paragraph_index": 9}, {"url": "https://www.kaggle.com/jkb123/semantic-search-using-vespa-ai-s-cord19-index", "anchor_text": "Kaggle notebook", "paragraph_index": 11}, {"url": "https://huggingface.co/gsarti/scibert-nli", "anchor_text": "SCIBERT-NLI model", "paragraph_index": 11}, {"url": "http://Vespa.ai", "anchor_text": "Vespa.ai", "paragraph_index": 13}], "all_paragraphs": ["The Vespa team has been working non-stop to put together the cord19.vespa.ai search app based on the COVID-19 Open Research Dataset (CORD-19) released by the Allen Institute for AI. Both the frontend and the backend are 100% open-sourced. The backend is based on vespa.ai, a powerful and open-sourced computation engine. Since everything is open-sourced, you can contribute to the project in multiple ways.", "As a user, you can either search for articles by using the frontend or perform advanced search by using the public search API. As a developer, you can contribute by improving the existing application through pull requests to the backend and frontend or you can fork and create your own application, either locally or through Vespa Cloud, to experiment with different ways to match and rank the CORD-19 articles. My goal here with this piece is to give you an overview of what can be accomplished with Vespa by using the cord19 search app public API. This only scratches the surface but I hope it can help direct you to the right places to learn more about what is possible.", "The cord19.vespa.ai query interface supports the Vespa simple query language that allows you to quickly perform simple queries. Examples:", "In addition to the simple query language, Vespa has also a more powerful search API that gives full control in terms of search experience through the Vespa query language called YQL. We can then send a wide range of queries by sending a POST request to the search end-point of cord19.vespa.ai. Following are python code illustrating the API:", "Let\u2019s break down one example to give you a hint of what is possible to do with Vespa search API:", "The match phase: The body parameter above will select the title and the abstract fields for all articles that match any ('type': 'any') of the 'query' terms and that has full text available (has_full_text=true) and timestamp greater than 1577836800.", "The ranking phase: After matching the articles by the criteria described above, Vespa will rank them according to their BM25 scores ('ranking': 'bm25') and return the top 5 articles ('hits': 5) according to this rank criteria.", "The example above gives only a taste of what is possible with the search API. We can tailor both the match phase and ranking phase to our needs. For example, we can use more complex match operators such as the Vespa weakAND, we can restrict the search to look for a match only in the abstract by adding 'default-index': 'abstract' in the body above. We can experiment with different ranking function at query time by changing the 'ranking' parameter to one of the rank-profiles available in the search definition file.", "In addition to searching by query terms, Vespa supports semantic search.", "The match phase: In the query above we match at least 100 articles ([{\"targetNumHits\":100}]) which have the smallest (euclidean) distance between the title_embedding and the query embedding vector by using the nearestNeighbor operator.", "The ranking phase: After matching we can rank the documents in a variety of ways. In this case, we use a specific rank-profile named 'semantic-search-title' that was pre-defined to order the matched articles the distance between title and query embeddings.", "The title embeddings have been created while feeding the documents to Vespa while the query embedding is created at query time and sent to Vespa by the ranking.features.query(vector) parameter. This Kaggle notebook illustrates how to perform a semantic search in the cord19 app by using the SCIBERT-NLI model.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Working on Vespa.ai. Follow me on Twitter @Thiagogm"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa714b942172f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvespa-ai-and-the-cord-19-public-api-a714b942172f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvespa-ai-and-the-cord-19-public-api-a714b942172f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvespa-ai-and-the-cord-19-public-api-a714b942172f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvespa-ai-and-the-cord-19-public-api-a714b942172f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a714b942172f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a714b942172f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://tgmstat.medium.com/?source=post_page-----a714b942172f--------------------------------", "anchor_text": ""}, {"url": "https://tgmstat.medium.com/?source=post_page-----a714b942172f--------------------------------", "anchor_text": "Thiago G. Martins"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa578be8bee86&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvespa-ai-and-the-cord-19-public-api-a714b942172f&user=Thiago+G.+Martins&userId=a578be8bee86&source=post_page-a578be8bee86----a714b942172f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa714b942172f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvespa-ai-and-the-cord-19-public-api-a714b942172f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa714b942172f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvespa-ai-and-the-cord-19-public-api-a714b942172f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://cord19.vespa.ai/", "anchor_text": "cord19.vespa.ai"}, {"url": "https://allenai.org/", "anchor_text": "Allen Institute for AI"}, {"url": "https://github.com/vespa-engine/cord-19/blob/master/README.md", "anchor_text": "the frontend"}, {"url": "https://github.com/vespa-engine/sample-apps/tree/master/vespa-cloud/cord-19-search", "anchor_text": "the backend"}, {"url": "https://vespa.ai/", "anchor_text": "vespa.ai"}, {"url": "http://cord19.vespa.ai", "anchor_text": "frontend"}, {"url": "https://github.com/vespa-engine/cord-19/blob/master/cord-19-queries.md", "anchor_text": "public search API"}, {"url": "https://github.com/vespa-engine/sample-apps/tree/master/vespa-cloud/cord-19-search", "anchor_text": "backend"}, {"url": "https://github.com/vespa-engine/cord-19/blob/master/README.md", "anchor_text": "frontend"}, {"url": "https://docs.vespa.ai/documentation/vespa-quick-start.html", "anchor_text": "locally"}, {"url": "https://cloud.vespa.ai/getting-started.html", "anchor_text": "Vespa Cloud"}, {"url": "https://towardsdatascience.com/learning-from-unlabelled-data-with-covid-19-open-research-dataset-cded4979f1cf?source=friends_link&sk=44fd9519db937036659d0e43c87310c5", "anchor_text": "different ways to match and rank the CORD-19 articles"}, {"url": "https://docs.vespa.ai/documentation/reference/simple-query-language-reference.html", "anchor_text": "simple query language"}, {"url": "https://cord19.vespa.ai/search?query=%2Bcovid-19+%2Btemperature+impact+on+viral+transmission", "anchor_text": "+covid-19 +temperature impact on viral transmission"}, {"url": "https://cord19.vespa.ai/search?query=%2Btitle%3A%22reproduction+number%22+%2Babstract%3AMERS", "anchor_text": "+title:\u201dreproduction number\u201d +abstract:MERS"}, {"url": "https://cord19.vespa.ai/search?query=authors.last%3Aknobel", "anchor_text": "+authors.last:knobel"}, {"url": "https://github.com/vespa-engine/cord-19/blob/master/cord-19-queries.md", "anchor_text": "cord19 API doc"}, {"url": "https://docs.vespa.ai/documentation/reference/simple-query-language-reference.html", "anchor_text": "simple query language"}, {"url": "https://docs.vespa.ai/documentation/search-api.html", "anchor_text": "search API"}, {"url": "https://docs.vespa.ai/documentation/query-language.html", "anchor_text": "Vespa query language"}, {"url": "https://docs.vespa.ai/documentation/reference/bm25.html", "anchor_text": "BM25 scores"}, {"url": "https://docs.vespa.ai/documentation/ranking.html", "anchor_text": "rank-profiles"}, {"url": "https://github.com/vespa-engine/sample-apps/blob/master/vespa-cloud/cord-19-search/src/main/application/searchdefinitions/doc.sd", "anchor_text": "search definition file"}, {"url": "https://docs.vespa.ai/documentation/tutorials/text-search.html", "anchor_text": "Part 1"}, {"url": "https://docs.vespa.ai/documentation/tutorials/text-search-ml.html", "anchor_text": "Part 2"}, {"url": "https://docs.vespa.ai/documentation/tutorials/text-search-semantic.html", "anchor_text": "Part 3"}, {"url": "https://github.com/vespa-engine/cord-19/blob/master/cord-19-queries.md", "anchor_text": "cord19 API doc"}, {"url": "https://docs.vespa.ai/documentation/reference/query-language-reference.html#nearestneighbor", "anchor_text": "nearestNeighbor operator"}, {"url": "https://www.kaggle.com/jkb123/semantic-search-using-vespa-ai-s-cord19-index", "anchor_text": "Kaggle notebook"}, {"url": "https://huggingface.co/gsarti/scibert-nli", "anchor_text": "SCIBERT-NLI model"}, {"url": "https://docs.vespa.ai/documentation/tutorials/text-search-semantic.html", "anchor_text": "Part 3"}, {"url": "https://docs.vespa.ai/documentation/ranking.html", "anchor_text": "Ranking page"}, {"url": "https://medium.com/tag/search-engines?source=post_page-----a714b942172f---------------search_engines-----------------", "anchor_text": "Search Engines"}, {"url": "https://medium.com/tag/covid-19?source=post_page-----a714b942172f---------------covid_19-----------------", "anchor_text": "Covid-19"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----a714b942172f---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----a714b942172f---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/nlp?source=post_page-----a714b942172f---------------nlp-----------------", "anchor_text": "NLP"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa714b942172f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvespa-ai-and-the-cord-19-public-api-a714b942172f&user=Thiago+G.+Martins&userId=a578be8bee86&source=-----a714b942172f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa714b942172f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvespa-ai-and-the-cord-19-public-api-a714b942172f&user=Thiago+G.+Martins&userId=a578be8bee86&source=-----a714b942172f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa714b942172f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvespa-ai-and-the-cord-19-public-api-a714b942172f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a714b942172f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa714b942172f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvespa-ai-and-the-cord-19-public-api-a714b942172f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a714b942172f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a714b942172f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a714b942172f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a714b942172f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a714b942172f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a714b942172f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a714b942172f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a714b942172f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a714b942172f--------------------------------", "anchor_text": ""}, {"url": "https://tgmstat.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://tgmstat.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Thiago G. Martins"}, {"url": "https://tgmstat.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "96 Followers"}, {"url": "http://Vespa.ai", "anchor_text": "Vespa.ai"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa578be8bee86&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvespa-ai-and-the-cord-19-public-api-a714b942172f&user=Thiago+G.+Martins&userId=a578be8bee86&source=post_page-a578be8bee86--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd1c0d81e840f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvespa-ai-and-the-cord-19-public-api-a714b942172f&newsletterV3=a578be8bee86&newsletterV3Id=d1c0d81e840f&user=Thiago+G.+Martins&userId=a578be8bee86&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}