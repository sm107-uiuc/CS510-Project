{"url": "https://towardsdatascience.com/build-your-own-open-dashboard-to-keep-track-of-covid-19-f2b09e817320", "time": 1683006752.8741162, "path": "towardsdatascience.com/build-your-own-open-dashboard-to-keep-track-of-covid-19-f2b09e817320/", "webpage": {"metadata": {"title": "Build your own open dashboard to keep track of COVID-19 | by Fabio Manganiello | Towards Data Science", "h1": "Build your own open dashboard to keep track of COVID-19", "description": "We\u2019re living in relatively unprecedented times, as none of those alive today (except the few that were around in 1918) have gone through a pandemic in any point of their lives. It means that, more\u2026"}, "outgoing_paragraph_urls": [{"url": "https://cults3d.com/en/collections/useful-3d-printed-coronavirus-covid19-tool", "anchor_text": "3D-printed face masks", "paragraph_index": 1}, {"url": "https://www.hackster.io/news/an-open-source-ventilator-powered-by-raspberry-pi-and-arduino-goes-into-testing-in-colombia-6c3f04b1ca94", "anchor_text": "RaspberryPi+Arduino powered ventilators", "paragraph_index": 1}, {"url": "https://foldingathome.org/", "anchor_text": "calculate the structure of the virus\u2019 proteins", "paragraph_index": 1}, {"url": "https://github.com/BlackLight/platypush/", "anchor_text": "platypush", "paragraph_index": 3}, {"url": "https://towardsdatascience.com/how-to-build-your-home-infrastructure-for-data-collection-and-visualization-and-be-the-real-owner-af9b33723b0c", "anchor_text": "an article", "paragraph_index": 3}, {"url": "https://www.ncbi.nlm.nih.gov/pubmed/17476782", "anchor_text": "generation time distribution", "paragraph_index": 8}, {"url": "https://www.worldometers.info/coronavirus/", "anchor_text": "Worldometers", "paragraph_index": 13}, {"url": "https://covid19api.com/", "anchor_text": "covid19api.com", "paragraph_index": 13}, {"url": "https://towardsdatascience.com/how-to-build-your-home-infrastructure-for-data-collection-and-visualization-and-be-the-real-owner-af9b33723b0c", "anchor_text": "previous article on PostgreSQL+platypush+Grafana", "paragraph_index": 15}, {"url": "https://platypush.readthedocs.io/en/latest/platypush/plugins/covid19.html", "anchor_text": "platypush Covid19 plugin", "paragraph_index": 20}, {"url": "https://platypush.readthedocs.io/en/latest/platypush/backend/covid19.html", "anchor_text": "Covid19 backend", "paragraph_index": 21}, {"url": "https://platypush.readthedocs.io/en/latest/platypush/events/covid19.html", "anchor_text": "Covid19UpdateEvent", "paragraph_index": 22}], "all_paragraphs": ["We\u2019re living in relatively unprecedented times, as none of those alive today (except the few that were around in 1918) have gone through a pandemic in any point of their lives. It means that, more than in any other scenario, there is a compelling reason for collecting as much data as possible in order to make more informed decisions. Part of that goes through closely monitoring the number of new cases, deceased and recoveries, as many important metrics (rate of diffusion of the virus, growth rate, mortality rate, estimate number of days before hitting full ICU capacity etc.) can be inferred from those numbers.", "Since the beginning of the pandemic, I\u2019ve seen an impressive effort from engineers and data scientists all around the world to provide tools that can help solve the problem. From 3D-printed face masks, to RaspberryPi+Arduino powered ventilators, to building fast pipelines to process tons of genomic data or calculate the structure of the virus\u2019 proteins, to building APIs and dashboards to help to share the numbers, there\u2019s plenty of challenges for engineers of all types during a pandemic.", "I\u2019ll try to write a few more articles on how engineers and data scientists can actively help the world at this moment, starting with how to build a custom dashboard that automatically pulls new data about the contagion when it\u2019s available, calculates any desired derived metrics, and displays the data on a Grafana dashboard. Gathering as much accurate data as possible about this pandemic is crucial in order to effectively fight it, and it\u2019s also crucial to calculate and display to the widest public the right derivative metrics in order to better understand (or evaluate) the decisions of the government, or compare how different countries around the world with different policies have had different outcomes, or how even the number of cases in a certain country has changed before and after implementing some measures.", "We\u2019ll be using PostgreSQL to store the data (but any relational database will do it), Grafana to display it, and platypush to fill the data and automatically keep it up-to-date. I wrote an article a while ago on how to build your custom dashboard with these tools to store and display any kind of data (from the humidity sensor in your bathroom to your location through the day). You can refer to it to get an idea of how these tools are used together and how to get started.", "The first problem when it comes to Covid-19 statistics is the availability and quality of the published data. First, not all the countries around the world have put the same effort into getting as many people as possible tested. Second, not all countries have the same transparency or reliability in reporting all the numbers \u2014 including the recoveries, the deceased and the number of performed tests. It\u2019s quite expected that the quality of the available data is far from perfect while in the middle of an emergency. While we as individuals don\u2019t have much control over the quality of the data, we can still infer interesting information and build models on the incomplete data we have at hand. For instance, it\u2019s possible to look at the data from the countries that have performed the highest number of tests per population unit to get a better idea of the real mortality rate and hospitalization rate. It\u2019s possible to overlap the timeline of the diffusion of the virus with the timeline of the measures taken by the government to infer how these have impacted the diffusion of the pandemic. It\u2019s possible, given the number of ICU beds available in the country, infer how many days it will take to reach the full capacity of the health system at the current growth rate. All this information should be taken with a pinch of salt, taking into account that these models are based on incomplete data, but decisions taken on incomplete data are always better than those taken on no data at all.", "A phenomenon like a pandemic spreads according to a relatively simple exponential law. In general, the growth rate at time t is defined as the ratio between the number of confirmed cases on day t and the number of confirmed cases on the previous day, t-1:", "If the growth rate remains constant (and that\u2019s approximately the case if no containment measures are put in place), then you can estimate the number of cases on day t simply given the initial number of cases and the growth rate:", "If you\u2019ve followed any news in this period, you may have often heard of another number \u2014 R0, also called basic reproduction number. That\u2019s the average number of people each infected person infects while he/she carries the pathogens. The growth rate \u03b3 and R0 are related to each other as follows:", "Where w(\u03c4) is the generation time distribution of the disease (basically, a probability density function describing the distribution of times between successive infections in a chain of transmission). If we have a good distribution law and accurate data about the growth rate, we can get a good estimate of how much the disease is going to spread, and how its spread changes after taking some actions.", "Although the mathematical law is relatively simple, it\u2019s hard for us to wrap our head around how such phenomena really occur. In our day-to-day experience, we are pretty much used to phenomena that involve linear laws. If you double or halve something, then something else may double or halve, or increase/decrease by a factor of 4, and so on. Phenomena that deal with exponential laws are usually harder for us to really picture. It doesn\u2019t really help that the term is often abused in media: most of the times you hear about the \u201cexponential growth\u201d of an economy, of a company or of an industry, you\u2019re actually hearing of a linear or polynomial growth with an arbitrarily large magnitude.", "To picture what exponential growth really means, suppose that you\u2019ve got some bad weed growing on your field, and if left unconstrained it will double its extension every day compared to the day before (in other words, \u03b3=2). Suppose that it takes this weed 60 days to cover the whole field if left free to grow. If you apply the formulas above, you\u2019ll find out that on day 59 the weed would have covered only half of the field, and on day 54 it will have covered only about 1.5% of the field.", "The counter-intuitiveness of a phenomenon with exponential growth means that we can\u2019t rely on our instinct or common experience alone when it comes to making decisions. It\u2019s really required to visualize the right data in the right way to understand if, when and how you can get the pandemic under control. It\u2019s also important to look at the data in the right way. While you are in the middle of a curve with exponential growth, it\u2019s hard to tell how \u201cbad\u201d the growth is by just looking at the number of confirmed cases on a linear scale. You only notice that the curve grows \u201ca lot\u201d, but a difference of a few decimal points in that \u201ca lot\u201d means a difference of hundreds of thousands or millions of new confirmed cases in a relatively short time frame. A logarithmic scale gives a better picture of how much the curve actually grows, but it can also create a sense of false assurance. A curve with constant exponential growth looks like a straight line on a logarithmic scale, so you should keep in mind that a straight line that constantly grows even by a little bit on a logarithmic scale is usually not a good sign.", "Many new websites and dashboards have popped on the web to keep track of the diffusion of this pandemic, but while they all do a relatively good job at showing the cumulative number of cases, recoveries and deaths both on a linear and logarithmic scale, they lack the visualization of some derived metrics that would be really helpful to better grasp the problem. For example, how many tests per unit of the population have been performed in a certain country over time, or how many days it will take for the ICU beds to be at full capacity at a given growth rate and seriousness rate, or how the mortality/seriousness rate changes with the share of the population been tested. That\u2019s why I have eventually decided to make my own open dashboard to keep track of the metrics I wish to track, filtered by country, and it\u2019s easily customizable for everyone\u2019s needs.", "Although many dashboards have been made available to keep track of the spread of the disease, most of them render the data on the backend, without exposing any API. I personally really like the quality and amount of data provided by Worldometers, which provides lots of data unavailable on other dashboards (like the number of tests per country population, number of hospitalized case etc.), but some of the derived metrics I mentioned earlier aren\u2019t readily available and, additionally, no API is provided for the data. For the platypush integration, I have eventually opted for the data provided by covid19api.com, even if it doesn\u2019t come with many of the metrics available on Worldometers \u2014 I still manually backfill the missing metrics on the database with the daily data published on Worldometers. As a next step I\u2019m planning to work on a scraper for the Worldometers data \u2014 if you know anyone who\u2019s already done the work please let me know :) and to those who develop these dashboards \u2014 thank you so much for your work, but please also make sure to expose an API, so other developers can easily pull the data or integrate it in other projects.", "We\u2019ll use three tools to set up the dashboard:", "The dashboard can run on any computer, included a RaspberryPi. Refer to my previous article on PostgreSQL+platypush+Grafana if you wish to know more about these solutions.", "I assume that you have PostgreSQL or another RDBMS installed on your system, as well as Grafana. If you haven\u2019t installed platypush yet on your system, you can install it easily via pip:", "Also install and start Redis, which will be used by platypush as a backend to deliver the messages.", "And then create the tables and triggers that we\u2019ll be using to manage the stats:", "The idea is basically to dump the new de-normalized rows to the tmp_covid19_data table and then let a trigger manage the normalization of the data, while the view vcovid19 will be used to join and calculate the derived metrics that we want.", "You can then populate all the historical data for the countries you want to track with a simple Python script that leverages the platypush Covid19 plugin:", "Finally, configure the Covid19 backend to automatically pull the data for the countries you are interested, by adding these lines to ~/.config/platypush/config.yaml:", "Whenever new data is available for one of those countries, platypush will trigger a Covid19UpdateEvent. You can catch this event with a hook and store the new row on the database, but you can also do anything else \u2014 send a notification, an SMS, or set up any kind of automation. Create a script named covid19.py under ~/.config/platypush/scripts (also make sure that there is an __init__.py file in this folder so it will be recognized as a package):", "Start the platypush service. Now that you\u2019ve got both the data and the automation to update it, time to go to Grafana and create some panels to pull and display data from the vcovid19 view. Some example report query:", "You can combine these queries together to build the dashboard you like:", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Automation, IoT, programming, machine learning, science, math, economics and more. Powered by Fabio \u201cBlackLight\u201d Manganiello and Sneha."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff2b09e817320&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-open-dashboard-to-keep-track-of-covid-19-f2b09e817320&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-open-dashboard-to-keep-track-of-covid-19-f2b09e817320&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-open-dashboard-to-keep-track-of-covid-19-f2b09e817320&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-open-dashboard-to-keep-track-of-covid-19-f2b09e817320&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f2b09e817320--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f2b09e817320--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://automationguru.medium.com/?source=post_page-----f2b09e817320--------------------------------", "anchor_text": ""}, {"url": "https://automationguru.medium.com/?source=post_page-----f2b09e817320--------------------------------", "anchor_text": "Fabio Manganiello"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa6a7a8202c31&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-open-dashboard-to-keep-track-of-covid-19-f2b09e817320&user=Fabio+Manganiello&userId=a6a7a8202c31&source=post_page-a6a7a8202c31----f2b09e817320---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff2b09e817320&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-open-dashboard-to-keep-track-of-covid-19-f2b09e817320&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff2b09e817320&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-open-dashboard-to-keep-track-of-covid-19-f2b09e817320&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://cults3d.com/en/collections/useful-3d-printed-coronavirus-covid19-tool", "anchor_text": "3D-printed face masks"}, {"url": "https://www.hackster.io/news/an-open-source-ventilator-powered-by-raspberry-pi-and-arduino-goes-into-testing-in-colombia-6c3f04b1ca94", "anchor_text": "RaspberryPi+Arduino powered ventilators"}, {"url": "https://foldingathome.org/", "anchor_text": "calculate the structure of the virus\u2019 proteins"}, {"url": "https://github.com/BlackLight/platypush/", "anchor_text": "platypush"}, {"url": "https://towardsdatascience.com/how-to-build-your-home-infrastructure-for-data-collection-and-visualization-and-be-the-real-owner-af9b33723b0c", "anchor_text": "an article"}, {"url": "https://www.ncbi.nlm.nih.gov/pubmed/17476782", "anchor_text": "generation time distribution"}, {"url": "https://www.worldometers.info/coronavirus/", "anchor_text": "Worldometers"}, {"url": "https://covid19api.com/", "anchor_text": "covid19api.com"}, {"url": "https://towardsdatascience.com/how-to-build-your-home-infrastructure-for-data-collection-and-visualization-and-be-the-real-owner-af9b33723b0c", "anchor_text": "previous article on PostgreSQL+platypush+Grafana"}, {"url": "https://platypush.readthedocs.io/en/latest/platypush/plugins/covid19.html", "anchor_text": "platypush Covid19 plugin"}, {"url": "https://platypush.readthedocs.io/en/latest/platypush/backend/covid19.html", "anchor_text": "Covid19 backend"}, {"url": "https://platypush.readthedocs.io/en/latest/platypush/events/covid19.html", "anchor_text": "Covid19UpdateEvent"}, {"url": "https://medium.com/tag/platypush?source=post_page-----f2b09e817320---------------platypush-----------------", "anchor_text": "Platypush"}, {"url": "https://medium.com/tag/covid-19?source=post_page-----f2b09e817320---------------covid_19-----------------", "anchor_text": "Covid-19"}, {"url": "https://medium.com/tag/dashboard?source=post_page-----f2b09e817320---------------dashboard-----------------", "anchor_text": "Dashboard"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f2b09e817320---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----f2b09e817320---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff2b09e817320&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-open-dashboard-to-keep-track-of-covid-19-f2b09e817320&user=Fabio+Manganiello&userId=a6a7a8202c31&source=-----f2b09e817320---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff2b09e817320&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-open-dashboard-to-keep-track-of-covid-19-f2b09e817320&user=Fabio+Manganiello&userId=a6a7a8202c31&source=-----f2b09e817320---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff2b09e817320&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-open-dashboard-to-keep-track-of-covid-19-f2b09e817320&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f2b09e817320--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff2b09e817320&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-open-dashboard-to-keep-track-of-covid-19-f2b09e817320&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f2b09e817320---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f2b09e817320--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f2b09e817320--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f2b09e817320--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f2b09e817320--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f2b09e817320--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f2b09e817320--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f2b09e817320--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f2b09e817320--------------------------------", "anchor_text": ""}, {"url": "https://automationguru.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://automationguru.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Fabio Manganiello"}, {"url": "https://automationguru.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "286 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa6a7a8202c31&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-open-dashboard-to-keep-track-of-covid-19-f2b09e817320&user=Fabio+Manganiello&userId=a6a7a8202c31&source=post_page-a6a7a8202c31--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa379a5cb58ab&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-open-dashboard-to-keep-track-of-covid-19-f2b09e817320&newsletterV3=a6a7a8202c31&newsletterV3Id=a379a5cb58ab&user=Fabio+Manganiello&userId=a6a7a8202c31&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}