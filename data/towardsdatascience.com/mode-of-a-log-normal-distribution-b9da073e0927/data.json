{"url": "https://towardsdatascience.com/mode-of-a-log-normal-distribution-b9da073e0927", "time": 1683007054.464614, "path": "towardsdatascience.com/mode-of-a-log-normal-distribution-b9da073e0927/", "webpage": {"metadata": {"title": "Mode of a Log-Normal distribution | by Sahil Gupta | Towards Data Science", "h1": "Mode of a Log-Normal distribution", "description": "The normal distribution is popular in statistics and data modeling due to its ubiquity. Real-world is filled with examples of random variables following the Normal distribution. Also, this\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Central_limit_theorem", "anchor_text": "Central Limit Theorem", "paragraph_index": 0}, {"url": "https://en.wikipedia.org/wiki/Cumulative_distribution_function", "anchor_text": "C.D.F.", "paragraph_index": 11}, {"url": "https://en.wikipedia.org/wiki/Probability_density_function", "anchor_text": "P.D.F.", "paragraph_index": 11}, {"url": "https://en.wikipedia.org/wiki/Normal_distribution#Cumulative_distribution_function", "anchor_text": "CDF of a standard Normal distribution", "paragraph_index": 12}, {"url": "https://en.wikipedia.org/wiki/Standard_score", "anchor_text": "standardized", "paragraph_index": 12}, {"url": "https://en.wikipedia.org/wiki/Normal_distribution#Cumulative_distribution_function", "anchor_text": "equation of CDF", "paragraph_index": 13}, {"url": "https://en.wikipedia.org/wiki/Law_of_large_numbers", "anchor_text": "Law of Large Numbers", "paragraph_index": 15}, {"url": "https://github.com/sahilgupta2105/Medium-Articles", "anchor_text": "here", "paragraph_index": 16}], "all_paragraphs": ["The normal distribution is popular in statistics and data modeling due to its ubiquity. Real-world is filled with examples of random variables following the Normal distribution. Also, this distribution plays a central role in statistics (Central Limit Theorem). An interesting distribution can be derived using the Normal distribution, called the Log-Normal distribution. The Log-Normal distribution is extensively used in Finance as the stock prices are assumed to follow this distribution. As the name suggests, a Log-Normal random variable can be derived as follows,", "The random variable Y in the above equation is said to follow the Log-Normal distribution. In other words, X is sampled from a Normal distribution with mean \u03bc and variance \u03c3\u00b2, and Y is obtained by transforming it using the exponential function. In this post, I am trying to understand the Mode for this distribution. One reason I am writing this article is that this question forced me to update my wrong intuition about the answer.", "One chain of thought towards answering this question can go something like this: Mode is the most frequent value in a collection of data or the most frequent value of the random variable. In probabilistic terms, Mode represents the value that has the highest probability of occurrence. Because we are looking at continuous random variables here, we can safely say that Mode is a value which maximizes the probability density function (pdf). We know that the pdf of a Normal distribution looks something like Figure 1.", "We can observe that the most frequent (/probable) value is the mean. In Figure 2, we can observe that exponential function, which is a strictly increasing function (because its derivative >0). So, if we imagine sampling lots of values for X from a Normal distribution and plug those values in the exponential function, we would get multiple values for Y, i.e. we would be sampling values for the random variable Y. If Mode represents a number the most probable value of Y, then isn\u2019t \u03bc the Mode of Log-Normal distribution? No, this is not the right answer. Before reading on, I recommend you take a pause and try to think if you can find any holes in the argument, and probably guess the correct number (at least directionally relative to \u03bc).", "Hereinafter, I will use a two-fold approach to answer this question. Firstly, we will look at some computer simulations to gain some intuition into where I was going wrong (kudos if you already found the flaw), and then we will use mathematics to derive an analytical expression for this value.", "Before diving deep into any of the above, let me give you a hand-wavy argument. The value of an exponential function at x=0 is 1, and this is always positive. This means that all x < 0 values are mapped to [0,1) and x\u22650 are mapped to [1, \u221e). In other words, if we pass the real number line through an exponential function, half of the line maps to values between [0,1) and the other half to [1, \u221e). This is why an exponential function is called non-linear (compared to this, a linear function, for instance, a straight line would map the real line equally). This is exactly why the Mode of a Log-Normal distribution is not at the mean (which is the most frequent value for a Normal distribution), i.e. due to this non-linear mapping from X to Y, the collection of negative values are getting compressed in a smaller region (compared to the positive values collection), and this shifts the mode slightly to the right. Now, let\u2019s picture this idea with computer simulations.", "To keep the discussion simple, I am assuming a standard Normal distribution, \u03bc=0, and \u03c3\u00b2=1. The procedure for the simulations is as follows,", "Here, X\u208b indicates the collection of all those values for which x<0. To avoid confusion, this is not random anymore as we have already realized these values once we sampled in step 2. A few things to note about the point density measure. Roughly speaking, it captures the amount of compression (of the real line I talked about earlier) as it represents the average number of points in an interval of length (the reason why I used max and min to compute the length of the interval is that we are sampling random values. So, we never know if we will actually hit the endpoints for the intervals. Don\u2019t worry you will see this in the simulation results below). Another thing to note is that this is a rough measure as it doesn\u2019t account for the curvature (which might seem silly because the curvature is in fact what is driving this whole exercise). But, this approximate measure does for now. Let\u2019s roll.", "I repeated the above procedure for N = 10, 100, 1000, 10000, and the results are presented below. Each plot title describes the number of points (N) and the Point Density values computed for X\u208b (Neg X) and X\u208a (Pos X). The points colored red and blue belong to sets X\u208b and X\u208a, respectively. The dotted line in the background highlights the exponential curve.", "We can see the compression right away with these results. First, notice how the scale of the y-axis is changing as the number of sampled points, N, increases. This happens because as we sample a larger number of points, the rarer points become more accessible (in terms of frequency of a particular event). This is one reason why we accounted for the interval length in the point density measure we defined above. Secondly, observe the values in the interval [0,1) on the y-axis (because this is exactly where the negative part of the real line is mapped). As the number of sampled points increases, more red points are compressed in the [0,1) region, which is also highlighted in the point density measure for X\u208b that increases from 11.04 to 5065.49! Finally, let\u2019s look at the distribution for the sampled points, and pdf of Log-Normal.", "In the left plot, we can observe pdf of the standard Normal distribution from which the 10,000 samples were drawn. This histogram resembles a Normal distribution and looks even better at higher values of N. In the right plot, we can observe the Log-Normal distribution. I have also highlighted the Mode (red line) on this plot, which is shifted to the right of \u03bc (=0) of the Normal distribution at approximately 0.37. Now, let\u2019s try to reconcile this result with analytical calculations.", "Let\u2019s start by finding the C.D.F. of Y, which we can use to find the P.D.F.", "In the above, we use the monotonicity of the logarithm function. \u03a6 indicates the CDF of a standard Normal distribution. In the last step, we standardized X, i.e. converted it to a standard Normal (we are solving here for a general case, where mean is \u03bc and variance is \u03c3\u00b2). Next, we can differentiate this to find PDF.", "If we take a look at the equation of CDF of a standard Normal, this calculation is not that difficult. Finally, to find the mode, we can maximize the PDF, which is equivalent to finding the most frequent value for the Log-Normal distribution.", "This gives us a general expression for the Mode of a Log-Normal distribution generated from a Normal distribution. Let\u2019s verify if we get the same answer as our simulations.", "Although the estimated Mode seems slightly off from the true value, it converges to the true value by Law of Large Numbers (Quick proof: if we use an indicator function for the Mode and count number of times we sampled the Mode, the proportion would converge to e\u207b\u00b9 as N \u2192 \u221e).", "Thanks for reading this. I hope you enjoyed as much I enjoyed exploring the idea. In case you are interested in playing around with the code (written in R), you can find it here.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb9da073e0927&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmode-of-a-log-normal-distribution-b9da073e0927&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmode-of-a-log-normal-distribution-b9da073e0927&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmode-of-a-log-normal-distribution-b9da073e0927&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmode-of-a-log-normal-distribution-b9da073e0927&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b9da073e0927--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b9da073e0927--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@sahilgupta_86549?source=post_page-----b9da073e0927--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sahilgupta_86549?source=post_page-----b9da073e0927--------------------------------", "anchor_text": "Sahil Gupta"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fafb6a5fd07b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmode-of-a-log-normal-distribution-b9da073e0927&user=Sahil+Gupta&userId=afb6a5fd07b4&source=post_page-afb6a5fd07b4----b9da073e0927---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb9da073e0927&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmode-of-a-log-normal-distribution-b9da073e0927&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb9da073e0927&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmode-of-a-log-normal-distribution-b9da073e0927&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@m_b_m?utm_source=medium&utm_medium=referral", "anchor_text": "M. B. M."}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://en.wikipedia.org/wiki/Central_limit_theorem", "anchor_text": "Central Limit Theorem"}, {"url": "https://en.wikipedia.org/wiki/Cumulative_distribution_function", "anchor_text": "C.D.F."}, {"url": "https://en.wikipedia.org/wiki/Probability_density_function", "anchor_text": "P.D.F."}, {"url": "https://en.wikipedia.org/wiki/Normal_distribution#Cumulative_distribution_function", "anchor_text": "CDF of a standard Normal distribution"}, {"url": "https://en.wikipedia.org/wiki/Standard_score", "anchor_text": "standardized"}, {"url": "https://en.wikipedia.org/wiki/Normal_distribution#Cumulative_distribution_function", "anchor_text": "equation of CDF"}, {"url": "https://en.wikipedia.org/wiki/Law_of_large_numbers", "anchor_text": "Law of Large Numbers"}, {"url": "https://github.com/sahilgupta2105/Medium-Articles", "anchor_text": "here"}, {"url": "https://medium.com/tag/statistics?source=post_page-----b9da073e0927---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/lognormal-distribution?source=post_page-----b9da073e0927---------------lognormal_distribution-----------------", "anchor_text": "Lognormal Distribution"}, {"url": "https://medium.com/tag/simulation?source=post_page-----b9da073e0927---------------simulation-----------------", "anchor_text": "Simulation"}, {"url": "https://medium.com/tag/data-science?source=post_page-----b9da073e0927---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb9da073e0927&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmode-of-a-log-normal-distribution-b9da073e0927&user=Sahil+Gupta&userId=afb6a5fd07b4&source=-----b9da073e0927---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb9da073e0927&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmode-of-a-log-normal-distribution-b9da073e0927&user=Sahil+Gupta&userId=afb6a5fd07b4&source=-----b9da073e0927---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb9da073e0927&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmode-of-a-log-normal-distribution-b9da073e0927&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b9da073e0927--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb9da073e0927&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmode-of-a-log-normal-distribution-b9da073e0927&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b9da073e0927---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b9da073e0927--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b9da073e0927--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b9da073e0927--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b9da073e0927--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b9da073e0927--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b9da073e0927--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b9da073e0927--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b9da073e0927--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sahilgupta_86549?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@sahilgupta_86549?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Sahil Gupta"}, {"url": "https://medium.com/@sahilgupta_86549/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "106 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fafb6a5fd07b4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmode-of-a-log-normal-distribution-b9da073e0927&user=Sahil+Gupta&userId=afb6a5fd07b4&source=post_page-afb6a5fd07b4--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb14b0a1adbc5&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmode-of-a-log-normal-distribution-b9da073e0927&newsletterV3=afb6a5fd07b4&newsletterV3Id=b14b0a1adbc5&user=Sahil+Gupta&userId=afb6a5fd07b4&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}