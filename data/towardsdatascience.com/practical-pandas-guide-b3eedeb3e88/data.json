{"url": "https://towardsdatascience.com/practical-pandas-guide-b3eedeb3e88", "time": 1683011918.7535539, "path": "towardsdatascience.com/practical-pandas-guide-b3eedeb3e88/", "webpage": {"metadata": {"title": "Practical Pandas Guide. Various functions and methods explained\u2026 | by Soner Y\u0131ld\u0131r\u0131m | Towards Data Science", "h1": "Practical Pandas Guide", "description": "Pandas is a very powerful and versatile Python data analysis library that expedites the data analysis and exploration process. The best way to learn the functions and methods offered by pandas is\u2026"}, "outgoing_paragraph_urls": [{"url": "http://linkedin.com/in/soneryildirim/", "anchor_text": "linkedin.com/in/soneryildirim/", "paragraph_index": 34}, {"url": "http://twitter.com/snr14", "anchor_text": "twitter.com/snr14", "paragraph_index": 34}], "all_paragraphs": ["Pandas is a very powerful and versatile Python data analysis library that expedites the data analysis and exploration process. The best way to learn the functions and methods offered by pandas is practicing.", "In this post, we will do lots of examples to explore various capabilities of pandas. We will do both simple and advanced examples to see what pandas is capable of.", "As always, we start with importing numpy and pandas.", "Let\u2019s first create a sample dataframe to work on. We can pass a dictionary to the DataFrame function of pandas.", "We\u2019ve used numpy arrays to create numerical columns. Let\u2019s also add categorical columns to our dataframe.", "The lists \u201cnames\u201d and \u201ccats\u201d contain 100 randomly selected samples from the longer lists \u201cname\u201d and \u201ccat\u201d. We used sample function from random module of python.", "It is time add these two categorical features to the dataframe.", "We added two new columns with two different ways. df[\u2018col\u2019] = col adds the new column at the end. We can specify the location of new column using insert function as we did with \u201cnames\u201d column.", "Consider we are interested in the rows in which \u201cnum_1\u201d is greater than \u201cnum_2\u201d. The following two lines of codes accomplish this task and displays the first five rows.", "You can use either one but I prefer query function. I think it is simpler in case of more complex filters. If we want to see the comparison of \u201cnum_1\u201d and \u201cnum_2\u201d based on different categories(\u201ccats\u201d), we can apply groupby function on filtered dataframe.", "The column \u201cnames\u201d is irrelevant here and just selected to be able to count rows. It seems like categories C and D have more rows in which \u201cnum_1\u201d is higher than \u201cnum_2\u201d. However, these numbers do not make sense unless we know how many rows each category has in the entire dataframe.", "We have created a series that contains the count of each category in cats column using value_counts. Then we combined df1 and ser with concat function and renamed the columns. The final dataframe df2 shows the total number of rows for each category as well as the number of rows that fits the filtering argument.", "Assume we want to see the average value in \u201cnum_4\u201d for each category in \u201ccats\u201d but we want these values for only a few names. In this case, we can use isin method for filtering and then apply groupby.", "If the number of occurrences is also needed, we can apply multiple aggregate functions on groupby.", "We have 4 different measurements stored in 4 different columns. We can combine them in one column and indicate the name of measurement in another column. Here is the original dataframe:", "Melt function can be used to achieve what I just described.", "Melt is especially useful when working with wide dataframes (i.e. lots of features). For instance, if we had 100 different measurements (num_1 to num_100), it would be much easier to do analysis on a melted dataframe.", "Our dataframe contains measurements so it is likely that we update the dataframe by adding new measurements. Let\u2019s say we update the dataframe with the new_row below.", "The new_row is added but there is a problem. It contains a couple of values for in \u201cnum_4\u201d . We should have them in separate rows. The explode function of pandas can be used for this task.", "We have separated the values in \u201cnum_4\u201d. There might be cases in which a column contains lots of combined values in many rows. Explode function may come handy in those cases.", "There might be cases in which we need to replace some values. Pandas replace function makes it very simple. We can even replace multiple values by passing a dictionary.", "Let\u2019s assume we need to replace some values based on a condition. The condition is specified as \u201cthe values below 0.5 in num_1 are to be replaced with 0\u201d. We can use where function in this case.", "The way \u201cwhere\u201d works is that values that fit the condition are selected and the remaining values are replaced with the specified value. where(df[\u2018num_1\u2019]\u22650.5, 0) selects all the values in \u201cnum_1\u201d that are greater than 0.5 and the remaining values are replaced with 0.", "The dataframe contains 4 numerical and 2 categorical features. We may need to see a quick summary on how numerical values change based on categories. Pandas pivot_table function can provide this kind of summary and it is very flexible in terms of display options.", "This table shows how num_2 values change according to names-cats combinations. It is better to set margin parameter as True to to see the comparison with the overall value. There are many options for aggfunc parameter such as count, min, max.", "A highly common task with dataframes is to handle missing values. The dataframe we created does not have any missing values. Let\u2019s first add some missing values randomly.", "We created an array with 20 random integers between 0 and 99. Then we used it as index in iloc. 20 rows in the fourth column (column index is 3) are replaced with np.nan which is a missing value representation of pandas.", "df.isna().sum() returns the number of missing values in each column.", "Although we passed in 20 indices, the number of missing values seems to be 15. It is because of the duplicate values in array a.", "We can replace the missing values with fillna function. We can use a constant to replace missing values or a statistic of the column such as mean or median.", "This is just a small piece of what you can do with Pandas. The more you work with it, the more useful and practical ways you find. I suggest approaching a problem using different ways and never place a limit in your mind.", "When you are trying hard to find a solution for a problem, you will almost always learn more than the solution of the problem at hand. You will improve your skillset step-by-step to build a robust and efficient data analysis process.", "Thank you for reading. Please let me know if you have any feedback.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist | Top 10 Writer in AI and Data Science | linkedin.com/in/soneryildirim/ | twitter.com/snr14"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb3eedeb3e88&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpractical-pandas-guide-b3eedeb3e88&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpractical-pandas-guide-b3eedeb3e88&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpractical-pandas-guide-b3eedeb3e88&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpractical-pandas-guide-b3eedeb3e88&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b3eedeb3e88--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b3eedeb3e88--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://sonery.medium.com/?source=post_page-----b3eedeb3e88--------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=post_page-----b3eedeb3e88--------------------------------", "anchor_text": "Soner Y\u0131ld\u0131r\u0131m"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2cf6b549448&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpractical-pandas-guide-b3eedeb3e88&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=post_page-2cf6b549448----b3eedeb3e88---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb3eedeb3e88&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpractical-pandas-guide-b3eedeb3e88&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb3eedeb3e88&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpractical-pandas-guide-b3eedeb3e88&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@hengfilms?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Heng Films"}, {"url": "https://unsplash.com/s/photos/style?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/data-science?source=post_page-----b3eedeb3e88---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----b3eedeb3e88---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/artificial-intelligence?source=post_page-----b3eedeb3e88---------------artificial_intelligence-----------------", "anchor_text": "Artificial Intelligence"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----b3eedeb3e88---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb3eedeb3e88&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpractical-pandas-guide-b3eedeb3e88&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=-----b3eedeb3e88---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb3eedeb3e88&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpractical-pandas-guide-b3eedeb3e88&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=-----b3eedeb3e88---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb3eedeb3e88&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpractical-pandas-guide-b3eedeb3e88&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b3eedeb3e88--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb3eedeb3e88&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpractical-pandas-guide-b3eedeb3e88&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b3eedeb3e88---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b3eedeb3e88--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b3eedeb3e88--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b3eedeb3e88--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b3eedeb3e88--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b3eedeb3e88--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b3eedeb3e88--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b3eedeb3e88--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b3eedeb3e88--------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Soner Y\u0131ld\u0131r\u0131m"}, {"url": "https://sonery.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "21K Followers"}, {"url": "http://linkedin.com/in/soneryildirim/", "anchor_text": "linkedin.com/in/soneryildirim/"}, {"url": "http://twitter.com/snr14", "anchor_text": "twitter.com/snr14"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2cf6b549448&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpractical-pandas-guide-b3eedeb3e88&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=post_page-2cf6b549448--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7cdf5377373a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpractical-pandas-guide-b3eedeb3e88&newsletterV3=2cf6b549448&newsletterV3Id=7cdf5377373a&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}