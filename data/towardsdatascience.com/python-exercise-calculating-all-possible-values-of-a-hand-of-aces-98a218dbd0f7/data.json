{"url": "https://towardsdatascience.com/python-exercise-calculating-all-possible-values-of-a-hand-of-aces-98a218dbd0f7", "time": 1683000626.158242, "path": "towardsdatascience.com/python-exercise-calculating-all-possible-values-of-a-hand-of-aces-98a218dbd0f7/", "webpage": {"metadata": {"title": "Python Exercise: Calculating All Possible Values Of A Hand of Aces | by Tony Yiu | Towards Data Science", "h1": "Python Exercise: Calculating All Possible Values Of A Hand of Aces", "description": "I recently published a blog about how to simulate blackjack using Python. I am still working on the followups to that blog but I wanted to get this complimentary post out there. Not long after I\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/lets-play-blackjack-with-python-913ec66c732f", "anchor_text": "I published my original blackjack post", "paragraph_index": 1}, {"url": "https://github.com/yiuhyuk/blackjack", "anchor_text": "on my GitHub here", "paragraph_index": 3}, {"url": "https://towardsdatascience.com/is-your-company-truly-data-driven-2cf5feaa3cfb", "anchor_text": "Is Your Company Truly Data Driven?", "paragraph_index": 23}, {"url": "https://towardsdatascience.com/how-much-do-data-scientists-make-cbd7ec2b458", "anchor_text": "How Much Do Data Scientists Make?", "paragraph_index": 24}, {"url": "https://towardsdatascience.com/how-much-do-data-scientists-make-part-2-cb959a0d05f", "anchor_text": "How Much Do Data Scientists Make Part 2", "paragraph_index": 25}, {"url": "https://towardsdatascience.com/how-much-do-software-engineers-make-60565f50f579", "anchor_text": "How Much Do Software Engineers Make?", "paragraph_index": 26}, {"url": "https://towardsdatascience.com/a-better-way-to-skill-up-b2e5ee87dd0a", "anchor_text": "A Better Way to Skill Up", "paragraph_index": 27}, {"url": "https://tonester524.medium.com/membership", "anchor_text": "https://tonester524.medium.com/membership", "paragraph_index": 29}], "all_paragraphs": ["I recently published a blog about how to simulate blackjack using Python. I am still working on the followups to that blog but I wanted to get this complimentary post out there.", "Not long after I published my original blackjack post, Twitter user @DonBeham kindly pointed out that under certain conditions (because of the aces), the hand values produced by my code would be wrong.", "So I went to fix my error and realized that there was more complexity than I first thought to calculating ace values. Let\u2019s explore why.", "You can find the code below along with the entirety of my blackjack code on my GitHub here.", "Write a function to calculate the blackjack value of a given hand of cards.", "Except that aces can be worth either 1 point or 11 points depending on the value of the rest of your hand. If your other cards are worth 9 points, then an ace would be worth 11 points giving you a total of 20 points. On the other hand, if your other cards are worth 19 points, the ace would now be worth 1 point, which still gives you 20 points.", "That doesn\u2019t sound too bad right. Let\u2019s see where the complexity derives from:", "The solution specific to blackjack is not too bad. It goes something like this:", "Easy enough. But what about a more general solution that applies beyond blackjack? Right now we are helped by the fact that we know that only one ace can be worth 11. But what if the threshold for bust was itself a changeable variable? You might still be able to do it with a bunch of \u201cif statements\u201d but it would be messy. Instead let\u2019s write a more general solution.", "Let\u2019s try to come up with a more general solution. The one that I thought up was using trees.", "So how can we get all the permutations? My first thought was a nested for loop. But that only works if you know in advance how many aces there are \u2014 for example, if you have 3 aces, then you would need for loops A, B, and C where C is nested in B which is nested in A.", "But the point is that we don\u2019t know how many aces there will be \u2014 so we don\u2019t know how many for loops we will need.", "My answer was to use a tree. We can think of each ace as a two branch split (I apologize if my tree terminology is incorrect) \u2014 where the first branch corresponds to 1 and the second branch to 11. If we are holding a second ace, then each branch splits again so that there are 4 total leaf nodes that correspond to hand values of 2, 12, 12, and 22. The two ace case I just described is illustrated in the diagram below.", "With our tree structure, we can get every permutation by just traversing the tree until we reach each leaf node:", "So how to implement this in Python code? A classically trained computer scientist would probably create a tree class and then recursively iterate through it. But it was Sunday night and I\u2019m no master of recursion so I iterated through my tree the quick and dirty way.", "Below is my code. I will walk you through it step by step.", "This first block is the main function. It takes in the number of aces as an integer variable num_aces, creates a list called temp_list, which is then passed to a helper function get_ace_values that produces the ultimate result. In the list variable, temp_list, that I pass to get_ace_values, each ace is represented as a [1,11] \u2014 so if there are three aces, temp_list = [[1,11], [1,11], [1,11]].", "Now it\u2019s time to iterate. Instead of recursively iterating through the tree, I reimagine the tree as an array where each row corresponds to one end-to-end traversal of the tree. So here is how it would look like for three aces:", "Do you see the pattern? First of all, there are 2\u00b3 = 8 possible ways to traverse the tree (because there are three aces). In the first column of our array, the numbers switch (from 1 to 11) every four elements. In the second column, they switch every two. And in the final column, they switch every element.", "Below is my code for the get_ace_values function. It\u2019s definitely not the most elegant of solutions. I explain how it works in the bullets below.", "Let\u2019s run ace_values for the three ace case:", "I enjoy coding a lot, but I still have much to learn, so I will publish rambling pieces like this every so often. Please bear with me.", "A selection of my recent posts that I hope you will check out:", "Is Your Company Truly Data Driven?", "How Much Do Data Scientists Make?", "How Much Do Data Scientists Make Part 2", "How Much Do Software Engineers Make?", "A Better Way to Skill Up", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data scientist. Founder Alpha Beta Blog. Doing my best to explain the complex in plain English. Support my writing: https://tonester524.medium.com/membership"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F98a218dbd0f7&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-exercise-calculating-all-possible-values-of-a-hand-of-aces-98a218dbd0f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-exercise-calculating-all-possible-values-of-a-hand-of-aces-98a218dbd0f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-exercise-calculating-all-possible-values-of-a-hand-of-aces-98a218dbd0f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-exercise-calculating-all-possible-values-of-a-hand-of-aces-98a218dbd0f7&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----98a218dbd0f7--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----98a218dbd0f7--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://tonester524.medium.com/?source=post_page-----98a218dbd0f7--------------------------------", "anchor_text": ""}, {"url": "https://tonester524.medium.com/?source=post_page-----98a218dbd0f7--------------------------------", "anchor_text": "Tony Yiu"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F840a3210fbe7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-exercise-calculating-all-possible-values-of-a-hand-of-aces-98a218dbd0f7&user=Tony+Yiu&userId=840a3210fbe7&source=post_page-840a3210fbe7----98a218dbd0f7---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F98a218dbd0f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-exercise-calculating-all-possible-values-of-a-hand-of-aces-98a218dbd0f7&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F98a218dbd0f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-exercise-calculating-all-possible-values-of-a-hand-of-aces-98a218dbd0f7&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/lets-play-blackjack-with-python-913ec66c732f", "anchor_text": "I published my original blackjack post"}, {"url": "https://github.com/yiuhyuk/blackjack", "anchor_text": "on my GitHub here"}, {"url": "https://towardsdatascience.com/lets-play-blackjack-with-python-913ec66c732f", "anchor_text": "Let\u2019s Play Blackjack (with Python)"}, {"url": "https://towardsdatascience.com/is-your-company-truly-data-driven-2cf5feaa3cfb", "anchor_text": "Is Your Company Truly Data Driven?"}, {"url": "https://towardsdatascience.com/how-much-do-data-scientists-make-cbd7ec2b458", "anchor_text": "How Much Do Data Scientists Make?"}, {"url": "https://towardsdatascience.com/how-much-do-data-scientists-make-part-2-cb959a0d05f", "anchor_text": "How Much Do Data Scientists Make Part 2"}, {"url": "https://towardsdatascience.com/how-much-do-software-engineers-make-60565f50f579", "anchor_text": "How Much Do Software Engineers Make?"}, {"url": "https://towardsdatascience.com/a-better-way-to-skill-up-b2e5ee87dd0a", "anchor_text": "A Better Way to Skill Up"}, {"url": "https://medium.com/tag/programming?source=post_page-----98a218dbd0f7---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/technology?source=post_page-----98a218dbd0f7---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/tag/data-science?source=post_page-----98a218dbd0f7---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/statistics?source=post_page-----98a218dbd0f7---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/education?source=post_page-----98a218dbd0f7---------------education-----------------", "anchor_text": "Education"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F98a218dbd0f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-exercise-calculating-all-possible-values-of-a-hand-of-aces-98a218dbd0f7&user=Tony+Yiu&userId=840a3210fbe7&source=-----98a218dbd0f7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F98a218dbd0f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-exercise-calculating-all-possible-values-of-a-hand-of-aces-98a218dbd0f7&user=Tony+Yiu&userId=840a3210fbe7&source=-----98a218dbd0f7---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F98a218dbd0f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-exercise-calculating-all-possible-values-of-a-hand-of-aces-98a218dbd0f7&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----98a218dbd0f7--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F98a218dbd0f7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-exercise-calculating-all-possible-values-of-a-hand-of-aces-98a218dbd0f7&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----98a218dbd0f7---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----98a218dbd0f7--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----98a218dbd0f7--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----98a218dbd0f7--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----98a218dbd0f7--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----98a218dbd0f7--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----98a218dbd0f7--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----98a218dbd0f7--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----98a218dbd0f7--------------------------------", "anchor_text": ""}, {"url": "https://tonester524.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://tonester524.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Tony Yiu"}, {"url": "https://tonester524.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "102K Followers"}, {"url": "https://tonester524.medium.com/membership", "anchor_text": "https://tonester524.medium.com/membership"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F840a3210fbe7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-exercise-calculating-all-possible-values-of-a-hand-of-aces-98a218dbd0f7&user=Tony+Yiu&userId=840a3210fbe7&source=post_page-840a3210fbe7--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F78d3e392d884&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-exercise-calculating-all-possible-values-of-a-hand-of-aces-98a218dbd0f7&newsletterV3=840a3210fbe7&newsletterV3Id=78d3e392d884&user=Tony+Yiu&userId=840a3210fbe7&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}