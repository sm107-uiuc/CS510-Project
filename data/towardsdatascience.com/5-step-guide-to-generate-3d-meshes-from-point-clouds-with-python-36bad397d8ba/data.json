{"url": "https://towardsdatascience.com/5-step-guide-to-generate-3d-meshes-from-point-clouds-with-python-36bad397d8ba", "time": 1683006142.7767081, "path": "towardsdatascience.com/5-step-guide-to-generate-3d-meshes-from-point-clouds-with-python-36bad397d8ba/", "webpage": {"metadata": {"title": "Generate 3D meshes from point clouds with Python | Towards Data Science", "h1": "5-Step Guide to generate 3D meshes from point clouds with Python", "description": "3D Modeling tutorial to generate meshes (.obj, .ply, .stl, .gltf) automatically from 3D point clouds using python. Export Levels of Detail for VR apps."}, "outgoing_paragraph_urls": [{"url": "https://drive.google.com/drive/folders/1Ih_Zz9a6UcbUlaA-puEB_is7DYvXrb4w?usp=sharing", "anchor_text": "this repository", "paragraph_index": 10}, {"url": "https://www.flyvast.com/flyvast/app/page-snapshot-viewer.html#/333/ec8d9a6c-de38-7249-e6fc-026c4ff67ef7", "anchor_text": "webGL version", "paragraph_index": 10}, {"url": "https://cs184team.github.io/cs184-final/writeup.html", "anchor_text": "here", "paragraph_index": 17}, {"url": "https://colab.research.google.com/drive/1HXVOK53ac6BJHAFxdEVluhFr7UAZKtDV", "anchor_text": "here", "paragraph_index": 23}, {"url": "https://threejs.org/editor/", "anchor_text": "Three.js", "paragraph_index": 35}, {"url": "https://www.flyvast.com/flyvast/app/index.html#/login/overviewOfferFree", "anchor_text": "Flyvast", "paragraph_index": 35}, {"url": "https://colab.research.google.com/drive/1HXVOK53ac6BJHAFxdEVluhFr7UAZKtDV", "anchor_text": "Google Colab notebook", "paragraph_index": 39}, {"url": "https://learngeodata.eu", "anchor_text": "Geodata Academy", "paragraph_index": 41}, {"url": "https://learngeodata.eu", "anchor_text": "https://learngeodata.eu", "paragraph_index": 44}], "all_paragraphs": ["In this article, I will give you my 3D surface reconstruction process for quickly creating a mesh from point clouds with python. You will be able to export, visualize and integrate results into your favorite 3D software, without any coding experience. Additionally, I will provide you with a simple way to generate multiple Levels of Details (LoD), useful if you want to create real-time applications (E.g. Virtual Reality with Unity).", "3D meshes are geometric data structures most often composed of a bunch of connected triangles that explicitly describe a surface \ud83e\udd14. They are used in a wide range of applications from geospatial reconstructions to VFX, movies and video games. I often create them when a physical replica is demanded or if I need to integrate environments in game engines, where point cloud support is limited.", "They are well integrated in most of the software professionals work with. On top, if you want to explore the wonder of 3D printing, you need to be able to generate a consistent mesh from the data that you have. This article is designed to offer you an efficient workflow in 5 customizable steps along with my script remotely executable at the end of the article. Let us dive in!", "In the previous article, we saw how to set-up an environment easily with Anaconda, and how to use the GUI Spyder for managing your code. We will continue in this fashion, using only 2 libraries.", "For getting a 3D mesh automatically out of a point cloud, we will add another library to our environment, Open3D. It is an open-source library that allows the use of a set of efficient data structures and algorithms for 3D data processing. The installation necessitates to click on the \u25b6\ufe0f icon next to your environment.", "Open the Terminal and run the following command:", "\ud83e\udd13 Note: The Open3D package is compatible with python version 2.7, 3.5 and 3.6. If you have another, you can either create a new environment (best) or if you start from the previous article, change the python version in your terminal by typing conda install python=3.5 in the Terminal.", "This will install the package and its dependencies automatically, you can just input y when prompted in the terminal to allow this process. You are now set-up for the project.", "Launch your python scripting tool (Spyder GUI, Jupyter or Google Colab), where we will call 2 libraries: Numpy and Open3D.", "Then, we create variables that hold data paths and the point cloud data:", "\ud83e\udd13 Note: As for the previous post, we will use a sampled point cloud that you can freely download from this repository. If you want to visualize it beforehand without installing anything, you can check the webGL version.", "Finally, we transform the point_cloud variable type from Numpy to the Open3D o3d.geometry.PointCloud type for further processing:", "\ud83e\udd13 Note: The following command first instantiates the Open3d point cloud object, then add points, color and normals to it from the original NumPy array.", "For a quick visual of what you loaded, you can execute the following command (does not work in Google Colab):", "Now we are ready to start the surface reconstruction process by meshing the pcd point cloud. I will give my favorite way to efficiently obtain results, but before we dive in, some condensed details ar necessary to grasp the underlying processes. I will limit myself to two meshing strategies.", "The idea behind the Ball-Pivoting Algorithm (BPA) is to simulate the use of a virtual ball to generate a mesh from a point cloud. We first assume that the given point cloud consists of points sampled from the surface of an object. Points must strictly represent a surface (noise-free), that the reconstructed mesh explicit.", "Using this assumption, imagine rolling a tiny ball across the point cloud \u201csurface\u201d. This tiny ball is dependent on the scale of the mesh, and should be slightly larger than the average space between points. When you drop a ball onto the surface of points, the ball will get caught and settle upon three points that will form the seed triangle. From that location, the ball rolls along the triangle edge formed from two points. The ball then settles in a new location: a new triangle is formed from two of the previous vertices and one new triangle is added to the mesh. As we continue rolling and pivoting the ball, new triangles are formed and added to the mesh. The ball continues rolling and rolling until the mesh is fully formed.", "The idea behind the Ball-Pivoting Algorithm is simple, but of course, there are many caveats to the procedure as originally expressed here:", "The Poisson Reconstruction is a bit more technical/mathematical. Its approach is known as an implicit meshing method, which I would describe as trying to \u201cenvelop\u201d the data in a smooth cloth. Without going into too many details, we try to fit a watertight surface from the original point set by creating an entirely new point set representing an isosurface linked to the normals. There are several parameters available that affect the result of the meshing:", "We first compute the necessary radius parameter based on the average distances computed from all the distances between points:", "In one command line, we can then create a mesh and store it in the bpa_mesh variable:", "Before exporting the mesh, we can downsample the result to an acceptable number of triangles, for example, 100k triangles:", "Additionally, if you think the mesh can present some weird artifacts, you can run the following commands to ensure its consistency:", "\ud83e\udd13 Note: The strategy is available starting the version 0.9.0.0 of Open3D, thus, it will only work remotely at the moment. You can execute it through my provided google colab code offered here.", "To get results with Poisson, it is very straightforward. You just have to adjust the parameters that you pass to the function as described above:", "\ud83e\udd13 Note: The function output a list composed of an o3d.geometry object followed by a Numpy array. You want to select only the o3d.geometry justifying the [0] at the end.", "To get a clean result, it is often necessary to add a cropping step to clean unwanted artifacts highlighted as yellow from the left image below:", "For this, we compute the initial bounding-box containing the raw point cloud, and we use it to filter all surfaces from the mesh outside the bounding-box:", "You now have one or more variables that each hold the mesh geometry, well Well done! The final step to get it in your application is to export it!", "Exporting the data is straightforward with the write_triangle_mesh function. We just specify within the name of the created file, the extension that we want from .ply, .obj, .stl or .gltf, and the mesh to export. Below, we export both the BPA and Poisson\u2019s reconstructions as .ply files:", "To quickly generate Levels of Details (LoD), let us write your first function. It will be really simple. The function will take as parameters a mesh, a list of LoD (as a target number of triangles), the file format of the resulting files and the path to write the files to. The function (to write in the script) looks like this:", "\ud83d\udca1 Hint: I will cover the basics of what the function does and how it is structured in another article. At this point, it is useful to know that the function will (1) export the data to a specified location of your choice in the desire file format, and (2) give the possibility to store the results in a variable if more processing is needed within python.", "The function makes some magic, but once executed, it looks like nothing happens. Don\u2019t worry, your program now knows what lod_mesh_export is, and you can directly call it in the console, where we just change the parameters by the desired values:", "What is very interesting, is that now you don\u2019t need to rewrite a bunch of code every time for different LoDs. You just have to pass different parameters to the function:", "If you want to visualize within python a specific LoD, let us say the LoD with 100 triangles, you can access and visualize it through the command:", "To visualize outside of python, you can use the software of your choosing (E.g Open-source Blender, MeshLab and CloudCompare) and load exported files within the GUI. Directly on the web through WebGL, you can use Three.js editor or Flyvast to simply access the mesh as well.", "Finally, you can import it in any 3D printing software and get quotations about how much it would cost through online printing services \ud83e\udd11.", "Bravo. In this 5-Step guide, we covered how to set-up an automatic python 3D mesh creator from a point cloud. This is a very nice tool that will prove very handy in many 3D automation projects! However, we assumed that the point cloud is already noise-free, and that the normals are well-oriented.", "If this is not the case, then some additional steps are needed and some great insights already discussed in the article below will be cover in another article", "The full code is accessible here: Google Colab notebook", "You just learned how to import, mesh, export and visualize a point cloud composed of millions of points, with different LoD! Well done! But the path does not end here, and future posts will dive deeper in point cloud spatial analysis, file formats, data structures, visualization, animation and meshing. We will especially look into how to manage big point cloud data as defined in the article below.", "My contributions aim to condense actionable information so you can start from scratch to build 3D automation systems for your projects. You can get started today by taking a formation at the Geodata Academy", "2. Kazhdan, M.; Bolitho, M.; Hoppe, H. Poisson surface reconstruction. Eurographics symposium on Geometry processing 2006, 1\u201310.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Code and Ideas for 3D Data Science & Research | Director of Innovation | Award-winning Senior Researcher & Engineer | Online course at: https://learngeodata.eu"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F36bad397d8ba&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-step-guide-to-generate-3d-meshes-from-point-clouds-with-python-36bad397d8ba&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-step-guide-to-generate-3d-meshes-from-point-clouds-with-python-36bad397d8ba&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-step-guide-to-generate-3d-meshes-from-point-clouds-with-python-36bad397d8ba&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-step-guide-to-generate-3d-meshes-from-point-clouds-with-python-36bad397d8ba&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----36bad397d8ba--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----36bad397d8ba--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@florentpoux?source=post_page-----36bad397d8ba--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@florentpoux?source=post_page-----36bad397d8ba--------------------------------", "anchor_text": "Florent Poux, Ph.D."}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8ba7bf4ad784&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-step-guide-to-generate-3d-meshes-from-point-clouds-with-python-36bad397d8ba&user=Florent+Poux%2C+Ph.D.&userId=8ba7bf4ad784&source=post_page-8ba7bf4ad784----36bad397d8ba---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F36bad397d8ba&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-step-guide-to-generate-3d-meshes-from-point-clouds-with-python-36bad397d8ba&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F36bad397d8ba&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-step-guide-to-generate-3d-meshes-from-point-clouds-with-python-36bad397d8ba&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.insider.com/3d-virtual-tours-of-abandoned-places-2020-4#the-factory-was-the-largest-space-that-robroek-and-poux-have-converted-into-a-3d-image-8", "anchor_text": "cool heritage project with Roman Robroek"}, {"url": "https://learngeodata.eu/", "anchor_text": "Geodata Academy"}, {"url": "https://towardsdatascience.com/discover-3d-point-cloud-processing-with-python-6112d9ee38e7", "anchor_text": "Discover 3D Point Cloud Processing with PythonTutorial to simply set up your python environment, start processing and visualize 3D point cloud data.towardsdatascience.com"}, {"url": "https://drive.google.com/drive/folders/1Ih_Zz9a6UcbUlaA-puEB_is7DYvXrb4w?usp=sharing", "anchor_text": "this repository"}, {"url": "https://www.flyvast.com/flyvast/app/page-snapshot-viewer.html#/333/ec8d9a6c-de38-7249-e6fc-026c4ff67ef7", "anchor_text": "webGL version"}, {"url": "https://cs184team.github.io/cs184-final/writeup.html", "anchor_text": "Source"}, {"url": "https://cs184team.github.io/cs184-final/writeup.html", "anchor_text": "here"}, {"url": "https://colab.research.google.com/drive/1HXVOK53ac6BJHAFxdEVluhFr7UAZKtDV", "anchor_text": "here"}, {"url": "https://threejs.org/editor/", "anchor_text": "Three.js"}, {"url": "https://www.flyvast.com/flyvast/app/index.html#/login/overviewOfferFree", "anchor_text": "Flyvast"}, {"url": "https://colab.research.google.com/drive/1HXVOK53ac6BJHAFxdEVluhFr7UAZKtDV", "anchor_text": "Google Colab notebook"}, {"url": "https://towardsdatascience.com/the-future-of-3d-point-clouds-a-new-perspective-125b35b558b9", "anchor_text": "The Future of 3D Point Clouds: a new perspectiveDiscrete spatial datasets known as point clouds often lay the groundwork for decision-making applications. But can they\u2026towardsdatascience.com"}, {"url": "https://learngeodata.eu", "anchor_text": "Geodata Academy"}, {"url": "https://learngeodata.eu/point-cloud-processor-formation/", "anchor_text": "Point Cloud Processing Online Course - 3D Geodata AcademyFormation to learn advanced point cloud processing and 3D automation. Develop new python geodata skills and open-source\u2026learngeodata.eu"}, {"url": "https://medium.com/tag/3d?source=post_page-----36bad397d8ba---------------3d-----------------", "anchor_text": "3d"}, {"url": "https://medium.com/tag/point-cloud?source=post_page-----36bad397d8ba---------------point_cloud-----------------", "anchor_text": "Point Cloud"}, {"url": "https://medium.com/tag/mesh?source=post_page-----36bad397d8ba---------------mesh-----------------", "anchor_text": "Mesh"}, {"url": "https://medium.com/tag/python?source=post_page-----36bad397d8ba---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/automation?source=post_page-----36bad397d8ba---------------automation-----------------", "anchor_text": "Automation"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F36bad397d8ba&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-step-guide-to-generate-3d-meshes-from-point-clouds-with-python-36bad397d8ba&user=Florent+Poux%2C+Ph.D.&userId=8ba7bf4ad784&source=-----36bad397d8ba---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F36bad397d8ba&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-step-guide-to-generate-3d-meshes-from-point-clouds-with-python-36bad397d8ba&user=Florent+Poux%2C+Ph.D.&userId=8ba7bf4ad784&source=-----36bad397d8ba---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F36bad397d8ba&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-step-guide-to-generate-3d-meshes-from-point-clouds-with-python-36bad397d8ba&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----36bad397d8ba--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F36bad397d8ba&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-step-guide-to-generate-3d-meshes-from-point-clouds-with-python-36bad397d8ba&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----36bad397d8ba---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----36bad397d8ba--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----36bad397d8ba--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----36bad397d8ba--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----36bad397d8ba--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----36bad397d8ba--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----36bad397d8ba--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----36bad397d8ba--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----36bad397d8ba--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@florentpoux?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@florentpoux?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Florent Poux, Ph.D."}, {"url": "https://medium.com/@florentpoux/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.96K Followers"}, {"url": "https://learngeodata.eu", "anchor_text": "https://learngeodata.eu"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F8ba7bf4ad784&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-step-guide-to-generate-3d-meshes-from-point-clouds-with-python-36bad397d8ba&user=Florent+Poux%2C+Ph.D.&userId=8ba7bf4ad784&source=post_page-8ba7bf4ad784--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fdb0ca324740e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F5-step-guide-to-generate-3d-meshes-from-point-clouds-with-python-36bad397d8ba&newsletterV3=8ba7bf4ad784&newsletterV3Id=db0ca324740e&user=Florent+Poux%2C+Ph.D.&userId=8ba7bf4ad784&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}