{"url": "https://towardsdatascience.com/clahe-and-thresholding-in-python-3bf690303e40", "time": 1683010262.658305, "path": "towardsdatascience.com/clahe-and-thresholding-in-python-3bf690303e40/", "webpage": {"metadata": {"title": "CLAHE and Thresholding in Python. Contrast Limited Adaptive Histogram\u2026 | by Ravindu Senaratne | Towards Data Science", "h1": "CLAHE and Thresholding in Python", "description": "In this article, let\u2019s talk about histogram equalization and image thresholding. Histogram equalization is one of the tools we have for image pre-processing and it makes image thresholding or\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["In this article, let\u2019s talk about histogram equalization and image thresholding. Histogram equalization is one of the tools we have for image pre-processing and it makes image thresholding or segmentation tasks easier.", "The reason we need histogram equalization is that when we collect images that are washed out or images with low contrast, we can stretch the histogram to span the entire range.", "Let\u2019s look at an example, Image is collected using an electron microscope.", "In the above image, we can see the separation but it is not clear as it could be. So let's look at the histogram and use the equalization to stretch the histogram to threshold it.", "First I\u2019ve read my image as grayscale and assigned it to the variable img. To perform histogram equalization we can run cv2.equalizeHist(img).", "Let\u2019s look at our test image\u2019s histogram. And you can see it is skewed to the right side.", "Let\u2019s look at the equalized image\u2019s histogram. And you can see the histogram is stretched all the way to 255.", "Below is the result of the histogram equalized image,", "As you can see there is a lot of noise in the above image, because it considers the global contrast of the image, not just the local contrast. Therefore performing the global equalization might not work very well on your image, In those cases, we can use Adaptive Histogram Equalization or also know as CLAHE (Contrast Limiting Adaptive Histogram Equalization).", "Contrast Limited AHE (CLAHE) is a variant of adaptive histogram equalization in which the contrast amplification is limited, so as to reduce this problem of noise amplification. In simple words, CLAHE does histogram equalization in small patches or in small tiles with high accuracy and contrast limiting.", "Now we know what CLAHE is, let\u2019s see how to set it up.", "As you can see from the image above CLAHE gives a much better result compare to the normal equalized image. But it still has a lot of noise, Let\u2019s see how thresholding works out to get better results.", "To get a better result on images use .tiff file format rather than .jpeg file format", "Before getting started on thresholding we need to look at the histogram of the CLAHE image.", "As you can see from the above histogram there is a dip between 160\u2013200 and we can decide on a close number to separate those two peaks. After we decide on a close number we can use it to do the thresholding (I\u2019ve selected 190)", "Ignore the first argument ret, We can get the thresholded image to the variablethresh1 and thresh2. In the above code part, the first argument is the image, secondly the threshold value we selected, thirdly, we need to give a value to all the pixels that are thresholded, and lastly, we need to give a method. I have given the THRESH_BINARY and THRESH_BINARY_INV to separate variables.", "In the first threshold image (thresh1) has the gray level of value 150 and the second threshold image (thresh2) has a value of 255. This is nothing but histogram-based thresholding.", "In the above example, we found the value 190 is the optimal value by referring to the histogram. But there is an easier way to find the optimal value using OTSU.", "Using OTSU we can automatically segment it.", "OTSU is the best way to find the optimal value if you are using binary threshold. You can even use K-means if necessary.", "That is it for the article. If your image is noisy, do not forget to denoise it first. Then you can do all of these exercises.", "Summary fo this is that CLAHE works great in most situations. Then you can use the histogram to segment your image into these two phases but if you do not want to plot the histogram to identify the separation then you can use OTSU.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "AI/ML enthusiast and writer | BSc (Hons) in Information Technology"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F3bf690303e40&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclahe-and-thresholding-in-python-3bf690303e40&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclahe-and-thresholding-in-python-3bf690303e40&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclahe-and-thresholding-in-python-3bf690303e40&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclahe-and-thresholding-in-python-3bf690303e40&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----3bf690303e40--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3bf690303e40--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@ravindusenaratne?source=post_page-----3bf690303e40--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ravindusenaratne?source=post_page-----3bf690303e40--------------------------------", "anchor_text": "Ravindu Senaratne"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffa8a7e85927d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclahe-and-thresholding-in-python-3bf690303e40&user=Ravindu+Senaratne&userId=fa8a7e85927d&source=post_page-fa8a7e85927d----3bf690303e40---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3bf690303e40&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclahe-and-thresholding-in-python-3bf690303e40&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3bf690303e40&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclahe-and-thresholding-in-python-3bf690303e40&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@philinit?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Philippe Leone"}, {"url": "https://unsplash.com/s/photos/contrast?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://www.youtube.com/channel/UC34rW-HtPJulxr5wp2Xa04w", "anchor_text": "Python for Microscopists by SreeniThis channel walks you through the entire process of learning to code in Python; all the way from basics to advanced\u2026www.youtube.com"}, {"url": "https://medium.com/tag/programming?source=post_page-----3bf690303e40---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/productivity?source=post_page-----3bf690303e40---------------productivity-----------------", "anchor_text": "Productivity"}, {"url": "https://medium.com/tag/python?source=post_page-----3bf690303e40---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----3bf690303e40---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/technology?source=post_page-----3bf690303e40---------------technology-----------------", "anchor_text": "Technology"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3bf690303e40&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclahe-and-thresholding-in-python-3bf690303e40&user=Ravindu+Senaratne&userId=fa8a7e85927d&source=-----3bf690303e40---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3bf690303e40&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclahe-and-thresholding-in-python-3bf690303e40&user=Ravindu+Senaratne&userId=fa8a7e85927d&source=-----3bf690303e40---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3bf690303e40&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclahe-and-thresholding-in-python-3bf690303e40&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----3bf690303e40--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F3bf690303e40&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclahe-and-thresholding-in-python-3bf690303e40&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----3bf690303e40---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----3bf690303e40--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----3bf690303e40--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----3bf690303e40--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----3bf690303e40--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----3bf690303e40--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----3bf690303e40--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----3bf690303e40--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----3bf690303e40--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ravindusenaratne?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ravindusenaratne?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Ravindu Senaratne"}, {"url": "https://medium.com/@ravindusenaratne/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "315 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffa8a7e85927d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclahe-and-thresholding-in-python-3bf690303e40&user=Ravindu+Senaratne&userId=fa8a7e85927d&source=post_page-fa8a7e85927d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fdfcc7c372310&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclahe-and-thresholding-in-python-3bf690303e40&newsletterV3=fa8a7e85927d&newsletterV3Id=dfcc7c372310&user=Ravindu+Senaratne&userId=fa8a7e85927d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}