{"url": "https://towardsdatascience.com/kafka-and-zookeeper-over-ubuntu-in-a-3-node-cluster-a-data-science-big-data-laboratory-part-4-of-4-47631730d240", "time": 1683009286.1999319, "path": "towardsdatascience.com/kafka-and-zookeeper-over-ubuntu-in-a-3-node-cluster-a-data-science-big-data-laboratory-part-4-of-4-47631730d240/", "webpage": {"metadata": {"title": "A Data Science/Big Data Laboratory \u2014 part 4 of 4: Kafka and Zookeeper over Ubuntu in a 3-node cluster | by Pier Taranti | Towards Data Science", "h1": "A Data Science/Big Data Laboratory \u2014 part 4 of 4: Kafka and Zookeeper over Ubuntu in a 3-node cluster", "description": "This text can be used to support the installation in any Ubuntu 20.04 server clusters, and this is the beauty of well-designed layered software. Furthermore, if you have more nodes, you can\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.confluent.io/resources/kafka-the-definitive-guide/", "anchor_text": "Kafka: The Definitive Guide: Real-Time Data and Stream Processing at Scale", "paragraph_index": 39}, {"url": "https://medium.com/@giorgosmyrianthous/overview-of-ui-monitoring-tools-for-apache-kafka-clusters-9ca516c165bd", "anchor_text": "Overview of UI monitoring tools for Apache Kafka clusters", "paragraph_index": 40}], "all_paragraphs": ["This text can be used to support the installation in any Ubuntu 20.04 server clusters, and this is the beauty of well-designed layered software. Furthermore, if you have more nodes, you can distribute the software as you like. The text assumes you know Linux command line, including ssh, vim, and nano.", "I do not recommend starting with less than three Raspberries since you need to set the communication, and both Zookeeper and Kafka requires an odd number of nodes. If you are trying a single node this guide may be used. Still, the performance is likely to be disappointing in a Raspberry \u2014 for single node I suggest a virtual machine with a reasonable amount of RAM and processor.", "Due to size, I had to divide the tutorial into four parts :", "All configuration files are available at [1]:", "Disclaimer: This text is offered to everyone for free to use at your own risk. I took care in citing all my sources, but if you feel that something is missed, please send me a note. Since different software versions may behaviour in a distinct way due to their dependencies, I suggest using the same versions I used in your first try.", "Kafka (https://kafka.apache.org/) is a robust message broker widely used to instantiate pipelines. Its retention feature makes it possible to handle a surge of information or the need to put consumers offline for maintenance.", "Furthermore, as almost all big data solution, Kafka escalates quickly from a single node to full clusters with replication.", "The primary literature for learning Kafka is the book \u201cKafka: The Definitive Guide\u201d [2]. The e-book is freely available at", "Kafka can easily handle from gigabytes to even petabyte a day. This is far from my lab-cluster capacity. However, I decided to install Kafka initially as a single node and after distributed it to allow playing with data pipelines, such as collecting real-time information from Tweeter.", "The first step is to install the zookeeper server since Kafka depends on it for distributing metadata. I installed the most recent stable version available on the following sites:", "Now you can start zookeeper in a single node:", "Now we have zookeeper running locally on pi3. Next, we will install Kafka.", "Kafka installation as a single note is not so troublesome. I followed the book instructions but changing the installation folder to /opt and my user is pi.", "I downloaded the most recent stable version, which was", "As usual, I saved it in /home/pi/tmp", "The following commands are to extract the files, send it to /opt and adjust folders and access rights:", "Note: Kafka and zookeeper require one open terminal if you do not indicate another way. When starting these services. Use one terminal/remote session for each service initially. After the tutorial will show how to do it in a transparent way.", "The following commands will allow you to ensure Kafka is running properly:", "Now you can start Kafka and create a Kafka topic with producer and consumer and test it:", "Attention: both Kafka and Zookeeper suggest you have an odd number of nodes. I am using 3 them it is ok.", "Edit removing the previous comments (pi1, pi2, pi3)", "The file should have only the id of the zookeeper node (see GitHub)", "For Kafka, we need to edit (in all nodes):", "Now the Kafka is zookeeper will run as a cluster. You need to start it in all nodes.", "There are some tools for monitoring Kafka clusters. I think it is nice to have a look and feel of a full environment.", "Provide an overview of some available tools. Kafka itself does not come with such a tool.", "O opted for installing the Kafka tool. It is free for personal use, and this is my case. Kafka tool can be installed in windows, mac and Linux. I opted for installing it in my windows notebook, to reduce the workload in my raspberries.", "Below I present my actual interface with the distributed nodes:", "Finally, the following post provides extra information on Kafka tool [4]:", "I coded one script for each node, to start all services \u2014 because I sometimes forget to start specific services. You will find the scripts in the home folder for pi user as cluster-start.sh. The script uses ssh connections to start services in the other nodes, and I copied it to all my nodes.", "You can check the cluster status using the web UI for Hadoop, Yarn, Hive and the Kafka tool.", "My final architecture is as presented in the following diagram:", "And the services are distributed according to the table below:", "I also use an Ubuntu virtual machine over VirtualBox on my notebook, with RStudio, R, Anaconda and TensorFlow.", "I congratulate you by concluding all the installation. I know the feeling of relief and joy! :D", "Now you have a full environment to experiment and train!", "I would like to thank all authors from the sources I cited.", "I authorize anyone to copy parts of this tutorial pending the origin is cited. If a substantial part is necessary, please only link it.", "Any comments and questions are most welcomed!", "[2] N. Narkhede et al. Kafka: The Definitive Guide: Real-Time Data and Stream Processing at Scale. O\u2019Reilly Media (2017)", "[3] G. Myrianthous. Overview of UI monitoring tools for Apache Kafka clusters (2019)", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data scientist, PhD, experienced team leader and co-worker; result-oriented professional \u2014 always learning."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F47631730d240&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkafka-and-zookeeper-over-ubuntu-in-a-3-node-cluster-a-data-science-big-data-laboratory-part-4-of-4-47631730d240&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkafka-and-zookeeper-over-ubuntu-in-a-3-node-cluster-a-data-science-big-data-laboratory-part-4-of-4-47631730d240&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkafka-and-zookeeper-over-ubuntu-in-a-3-node-cluster-a-data-science-big-data-laboratory-part-4-of-4-47631730d240&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkafka-and-zookeeper-over-ubuntu-in-a-3-node-cluster-a-data-science-big-data-laboratory-part-4-of-4-47631730d240&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----47631730d240--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----47631730d240--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@piertaranti?source=post_page-----47631730d240--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@piertaranti?source=post_page-----47631730d240--------------------------------", "anchor_text": "Pier Taranti"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb885a0240a08&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkafka-and-zookeeper-over-ubuntu-in-a-3-node-cluster-a-data-science-big-data-laboratory-part-4-of-4-47631730d240&user=Pier+Taranti&userId=b885a0240a08&source=post_page-b885a0240a08----47631730d240---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F47631730d240&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkafka-and-zookeeper-over-ubuntu-in-a-3-node-cluster-a-data-science-big-data-laboratory-part-4-of-4-47631730d240&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F47631730d240&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkafka-and-zookeeper-over-ubuntu-in-a-3-node-cluster-a-data-science-big-data-laboratory-part-4-of-4-47631730d240&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/assembling-a-personal-data-science-big-data-laboratory-in-a-raspberry-pi-4-or-vms-cluster-ff37759cb2ec?source=friends_link&sk=3a4b90e57dc0fc0ec44a39d1aee2145c", "anchor_text": "Part 1: Introduction, Operational System and Networking"}, {"url": "https://towardsdatascience.com/assembling-a-personal-data-science-big-data-laboratory-in-a-raspberry-pi-4-or-vms-cluster-e4c5a0473025?source=friends_link&sk=d9588dd1597ee9c0811e82666b002e43", "anchor_text": "Part 2: Hadoop and Spark"}, {"url": "https://towardsdatascience.com/assembling-a-personal-data-science-big-data-laboratory-in-a-raspberry-pi-4-or-vms-cluster-8a1da8d49b48?source=friends_link&sk=4a481ee4e3778d6c9d4e5a305a407bb6", "anchor_text": "Part 3: PostgreSQL and Hive"}, {"url": "https://github.com/ptaranti/RaspberryPiCluster", "anchor_text": "ptaranti/RaspberryPiClusterConfig files for a Hadoop + Spark + Hive + Kafka + Postgresql raspberry cluster (ubuntu 20.04) The files in this\u2026github.com"}, {"url": "https://www.confluent.io/resources/kafka-the-definitive-guide/", "anchor_text": "Apache Kafka: The Definitive Guide | ConfluentWhat is Kafka, and how does it work? In this comprehensive e-book, you\u2019ll get a full introduction to Apache Kafka \u00ae, the\u2026www.confluent.io"}, {"url": "https://zookeeper.apache.org/releases.html", "anchor_text": "https://zookeeper.apache.org/releases.html"}, {"url": "https://downloads.apache.org/zookeeper/zookeeper-3.6.1/apache-zookeeper-3.6.1.tar.gz", "anchor_text": "https://downloads.apache.org/zookeeper/zookeeper-3.6.1/apache-zookeeper-3.6.1.tar.gz"}, {"url": "https://downloads.apache.org/zookeeper/zookeeper-3.6.1/apache-zookeeper-3.6.1-bin.tar.gz", "anchor_text": "https://downloads.apache.org/zookeeper/zookeeper-3.6.1/apache-zookeeper-3.6.1-bin.tar.gz"}, {"url": "https://www.apache.org/dyn/closer.cgi?path=/kafka/2.5.0/kafka_2.13-2.5.0.tgz", "anchor_text": "Apache Download MirrorsHome page of The Apache Software Foundationwww.apache.org"}, {"url": "https://github.com/ptaranti/RaspberryPiCluster/blob/master/pi3/opt/kafka/config/server.properties", "anchor_text": "/opt/kafka/config/server.propertie"}, {"url": "https://github.com/ptaranti/RaspberryPiCluster/blob/master/pi3/opt/zookeeper/conf/zoo.cfg", "anchor_text": "/opt/zookeeper/conf/zoo.conf"}, {"url": "https://github.com/ptaranti/RaspberryPiCluster/blob/master/pi3/opt/zookeeper_data/myid", "anchor_text": "/opt/zookeeper_data/myid"}, {"url": "https://medium.com/@giorgosmyrianthous/overview-of-ui-monitoring-tools-for-apache-kafka-clusters-9ca516c165bd", "anchor_text": "Overview of UI monitoring tools for Apache Kafka clustersWhat are the best monitoring tools for Apache Kafka?medium.com"}, {"url": "https://www.kafkatool.com/", "anchor_text": "Kafka ToolKafka Tool is a GUI application for managing and using Apache Kafka \u00ae clusters. It provides an intuitive UI that allows\u2026www.kafkatool.com"}, {"url": "https://medium.com/enfuse-io/gui-for-apache-kafka-e52698b00c42", "anchor_text": "GUI for Apache KafkaOverviewmedium.com"}, {"url": "https://github.com/ptaranti/RaspberryPiCluster/blob/master/pi1/home/pi/cluster-start.sh", "anchor_text": "/home/pi/cluster-start"}, {"url": "https://github.com/ptaranti/RaspberryPiCluster", "anchor_text": "https://github.com/ptaranti/RaspberryPiCluster"}, {"url": "https://www.confluent.io/resources/kafka-the-definitive-guide/", "anchor_text": "Kafka: The Definitive Guide: Real-Time Data and Stream Processing at Scale"}, {"url": "https://medium.com/@giorgosmyrianthous/overview-of-ui-monitoring-tools-for-apache-kafka-clusters-9ca516c165bd", "anchor_text": "Overview of UI monitoring tools for Apache Kafka clusters"}, {"url": "https://medium.com/enfuse-io/gui-for-apache-kafka-e52698b00c42", "anchor_text": "GUI for Apache Kafka"}, {"url": "https://medium.com/tag/cluster?source=post_page-----47631730d240---------------cluster-----------------", "anchor_text": "Cluster"}, {"url": "https://medium.com/tag/hadoop?source=post_page-----47631730d240---------------hadoop-----------------", "anchor_text": "Hadoop"}, {"url": "https://medium.com/tag/hive?source=post_page-----47631730d240---------------hive-----------------", "anchor_text": "Hive"}, {"url": "https://medium.com/tag/zookeeper?source=post_page-----47631730d240---------------zookeeper-----------------", "anchor_text": "Zookeeper"}, {"url": "https://medium.com/tag/kafka?source=post_page-----47631730d240---------------kafka-----------------", "anchor_text": "Kafka"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F47631730d240&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkafka-and-zookeeper-over-ubuntu-in-a-3-node-cluster-a-data-science-big-data-laboratory-part-4-of-4-47631730d240&user=Pier+Taranti&userId=b885a0240a08&source=-----47631730d240---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F47631730d240&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkafka-and-zookeeper-over-ubuntu-in-a-3-node-cluster-a-data-science-big-data-laboratory-part-4-of-4-47631730d240&user=Pier+Taranti&userId=b885a0240a08&source=-----47631730d240---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F47631730d240&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkafka-and-zookeeper-over-ubuntu-in-a-3-node-cluster-a-data-science-big-data-laboratory-part-4-of-4-47631730d240&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----47631730d240--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F47631730d240&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkafka-and-zookeeper-over-ubuntu-in-a-3-node-cluster-a-data-science-big-data-laboratory-part-4-of-4-47631730d240&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----47631730d240---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----47631730d240--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----47631730d240--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----47631730d240--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----47631730d240--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----47631730d240--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----47631730d240--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----47631730d240--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----47631730d240--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@piertaranti?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@piertaranti?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Pier Taranti"}, {"url": "https://medium.com/@piertaranti/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "26 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb885a0240a08&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkafka-and-zookeeper-over-ubuntu-in-a-3-node-cluster-a-data-science-big-data-laboratory-part-4-of-4-47631730d240&user=Pier+Taranti&userId=b885a0240a08&source=post_page-b885a0240a08--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8b755e2373b9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fkafka-and-zookeeper-over-ubuntu-in-a-3-node-cluster-a-data-science-big-data-laboratory-part-4-of-4-47631730d240&newsletterV3=b885a0240a08&newsletterV3Id=8b755e2373b9&user=Pier+Taranti&userId=b885a0240a08&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}