{"url": "https://towardsdatascience.com/two-dimensional-histograms-and-three-variable-scatterplots-making-map-like-visualisations-in-7f413955747", "time": 1682994928.493313, "path": "towardsdatascience.com/two-dimensional-histograms-and-three-variable-scatterplots-making-map-like-visualisations-in-7f413955747/", "webpage": {"metadata": {"title": "Using Python's matplotlib to visualise spatial data | Towards Data Science", "h1": "Using Python\u2019s matplotlib to visualise spatial data", "description": "Why use matplotlib for spatial data? A guide to using Python's matplotlib to create map-like visualisations from spatial data."}, "outgoing_paragraph_urls": [], "all_paragraphs": ["As part of a project to predict house prices, I was handed a large dataset of housing data from King County, Washington, USA. This dataset contained a wide range of house-related data, including the latitude and longitude of each house sold within a one-year period. As latitude and longitude are both continuous numerical data, these are potentially useful features to use in a multiple linear regression model. However, even before getting to that stage of the project, seeing latitude and longitude in a dataset is a sign that the exciting world of spatial data mapping is also available to you.", "Several free or low-cost GUI-based spreadsheet programs with semi-functional mapping capabilities do exist \u2014 from the cumbersome Excel Power Map, to the limited Google My Maps, to the sadly soon-to-be discontinued Google Fusion Tables. However, with just a few lines of code you can create informative map-like visualisations using Python much more quickly, with far more options for customisation. And you don\u2019t even need knowledge of niche geospatial analysis libraries to do it \u2014 as long as you have latitude and longitude in your dataset, you can visualise it using everyone\u2019s favourite graphing buddy matplotlib.", "Histograms are a great way to visualise the distribution of a variable in a dataset, by showing the number of entries in your dataset that lie in particular value ranges, or bins. The code below produces simple (one-dimensional) histograms for latitude and longitude in the King County (\u2018kc\u2019) dataset:", "These work fine as a way to show the distribution of each individual variable, but they don\u2019t really give you a sense of what this looks like geographically. What we want is a map. Luckily enough, we can achieve this with a two-dimensional histogram. This is essentially combining a histogram along the x axis (longitude) with a histogram along the y axis (latitude). Instead of the bins being the width of the bars (i.e. a single dimension) they are now essentially a grid (i.e. a square of two dimensions). We can add a colorbar with plt.colorbar() to help us visualise this as a kind of heatmap:", "And if you look closely and squint a bit, you can make out the shape of King County with Seattle towards the top left, and the shape of the Puget Sound.", "One other way of plotting spatial data with matplotlib is by using scatterplots. Scatterplots visualise the relationship between two variables, one on the x axis and one on the y axis, by plotting points for each datapoint at the values for its x and y variables. Matplotlib allows us to go one step further, and use a third variable to change the colour (or shape, or size) of each point in accordance with the datapoint\u2019s value for this third variable.", "The King County database contains, among other things, the price at which each house was sold and the size of the living space of each house. From looking at the 2D histogram above, it\u2019s clear that a lot of properties are found in and around Seattle, but that the dataset also includes properties further away from the city. Lot size is likely to vary in a non-random way, with smaller lots in the city and larger lots in the country. Therefore, a better metric to compare like-for-like is to compare price per square foot.", "In this scatterplot, longitude and latitude are plotted, and points are coloured by their price per square foot to produce a map of how expensive each area is:", "Not surprisingly, the most expensive properties (in terms of price per square foot) are found in Bellevue and Medina \u2014 home of tech billionaires Bill Gates and Jeff Bezos, as well as some of the most expensive zipcodes in the country.", "So there we are \u2014 two methods for creating map-like viualisations using matplotlib. The next time you find yourself in possession of a dataset including latitude and longitude, why not give them a try!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist at Amazon. Previously in data in startups, academia and government. Oxford PhD."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F7f413955747&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-dimensional-histograms-and-three-variable-scatterplots-making-map-like-visualisations-in-7f413955747&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-dimensional-histograms-and-three-variable-scatterplots-making-map-like-visualisations-in-7f413955747&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-dimensional-histograms-and-three-variable-scatterplots-making-map-like-visualisations-in-7f413955747&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-dimensional-histograms-and-three-variable-scatterplots-making-map-like-visualisations-in-7f413955747&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----7f413955747--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7f413955747--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@lvlewis8?source=post_page-----7f413955747--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lvlewis8?source=post_page-----7f413955747--------------------------------", "anchor_text": "Laura Lewis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fafb662460a24&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-dimensional-histograms-and-three-variable-scatterplots-making-map-like-visualisations-in-7f413955747&user=Laura+Lewis&userId=afb662460a24&source=post_page-afb662460a24----7f413955747---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7f413955747&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-dimensional-histograms-and-three-variable-scatterplots-making-map-like-visualisations-in-7f413955747&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7f413955747&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-dimensional-histograms-and-three-variable-scatterplots-making-map-like-visualisations-in-7f413955747&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://medium.com/tag/data-science?source=post_page-----7f413955747---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----7f413955747---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-visualization?source=post_page-----7f413955747---------------data_visualization-----------------", "anchor_text": "Data Visualization"}, {"url": "https://medium.com/tag/data?source=post_page-----7f413955747---------------data-----------------", "anchor_text": "Data"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----7f413955747---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7f413955747&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-dimensional-histograms-and-three-variable-scatterplots-making-map-like-visualisations-in-7f413955747&user=Laura+Lewis&userId=afb662460a24&source=-----7f413955747---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F7f413955747&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-dimensional-histograms-and-three-variable-scatterplots-making-map-like-visualisations-in-7f413955747&user=Laura+Lewis&userId=afb662460a24&source=-----7f413955747---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F7f413955747&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-dimensional-histograms-and-three-variable-scatterplots-making-map-like-visualisations-in-7f413955747&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----7f413955747--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F7f413955747&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-dimensional-histograms-and-three-variable-scatterplots-making-map-like-visualisations-in-7f413955747&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----7f413955747---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----7f413955747--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----7f413955747--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----7f413955747--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----7f413955747--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----7f413955747--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----7f413955747--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----7f413955747--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----7f413955747--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lvlewis8?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lvlewis8?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Laura Lewis"}, {"url": "https://medium.com/@lvlewis8/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "381 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fafb662460a24&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-dimensional-histograms-and-three-variable-scatterplots-making-map-like-visualisations-in-7f413955747&user=Laura+Lewis&userId=afb662460a24&source=post_page-afb662460a24--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F81d47781bec6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftwo-dimensional-histograms-and-three-variable-scatterplots-making-map-like-visualisations-in-7f413955747&newsletterV3=afb662460a24&newsletterV3Id=81d47781bec6&user=Laura+Lewis&userId=afb662460a24&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}