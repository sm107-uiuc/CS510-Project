{"url": "https://towardsdatascience.com/docker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e", "time": 1683015323.2077801, "path": "towardsdatascience.com/docker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e/", "webpage": {"metadata": {"title": "Docker for Data Science \u2014 A Step by Step Guide | by Dean Pleban | Towards Data Science", "h1": "Docker for Data Science \u2014 A Step by Step Guide", "description": "A lot has already been said about why Docker can improve your life as a data scientist. I was working on an (un-)cool depth estimation project using Fast.ai with a few friends when I stumbled upon\u2026"}, "outgoing_paragraph_urls": [{"url": "https://towardsdatascience.com/how-docker-can-help-you-become-a-more-effective-data-scientist-7fc048ef91d5", "anchor_text": "A lot", "paragraph_index": 0}, {"url": "https://mlinproduction.com/docker-for-ml-part-1/", "anchor_text": "has already", "paragraph_index": 0}, {"url": "https://towardsdatascience.com/learn-enough-docker-to-be-useful-b7ba70caeb4b", "anchor_text": "been said", "paragraph_index": 0}, {"url": "https://fast.ai/", "anchor_text": "Fast.ai", "paragraph_index": 0}, {"url": "https://twitter.com/jeremyphoward", "anchor_text": "@jeremyphoward", "paragraph_index": 0}, {"url": "https://docs.docker.com/engine/install/", "anchor_text": "this guide", "paragraph_index": 12}, {"url": "https://hub.docker.com/repository/docker/dagshub/ml-workspace-minimal", "anchor_text": "DAGsHub/ml-workspace-minimal", "paragraph_index": 14}, {"url": "https://github.com/DAGsHub/ml-workspace", "anchor_text": "repository", "paragraph_index": 14}, {"url": "https://towardsdatascience.com/how-docker-can-help-you-become-a-more-effective-data-scientist-7fc048ef91d5", "anchor_text": "the article", "paragraph_index": 14}, {"url": "http://localhost:8080", "anchor_text": "http://localhost:8080", "paragraph_index": 19}, {"url": "https://docs.docker.com/engine/reference/run/", "anchor_text": "command reference", "paragraph_index": 28}, {"url": "https://hub.docker.com/repository/docker/dagshub/ml-workspace-minimal", "anchor_text": "DAGsHub/ml-workspace-minimal", "paragraph_index": 31}, {"url": "http://localhost:8080", "anchor_text": "workspace home", "paragraph_index": 32}, {"url": "https://github.com/pypa/pip/issues/8174", "anchor_text": "Read this GitHub issue", "paragraph_index": 34}, {"url": "https://discord.com/invite/9gU36Y6", "anchor_text": "DAGsHub Discord Channel", "paragraph_index": 35}, {"url": "https://DAGsHub.com", "anchor_text": "https://DAGsHub.com", "paragraph_index": 37}], "all_paragraphs": ["A lot has already been said about why Docker can improve your life as a data scientist. I was working on an (un-)cool depth estimation project using Fast.ai with a few friends when I stumbled upon this tweet by @jeremyphoward.", "It so happens that we were using Docker to create our data science workspace for the project, so I thought it would make sense to address Jeremy\u2019s questions and share this knowledge with the community.", "I\u2019ll very briefly review the core concepts and advantages of Docker, and then show a step-by-step example for setting up an entire data science workspace using Docker.", "If you already know what Docker is and why it\u2019s awesome, skip to the step-by-step tutorial.", "Docker is a tool for creating and deploying isolated environments (read: virtual machines) for running applications with their dependencies.", "A few terms you should be familiar with (including a baking analogy for ease of understanding):", "Broadly, there are two use cases for Docker in ML:", "We will focus on the second use case.", "Using docker containers means you don\u2019t have to deal with \u201cworks on my machine\u201d problems.", "Generally, the main advantage Docker provides is standardization. This means you can define the parameters of your container once, and run it wherever Docker is installed. This in turn provides two major advantages:", "Another huge advantage \u2014 learning to use Docker will make you a better engineer, or turn you into a data scientist with superpowers. Many systems rely on Docker, and it will help you turn your ML projects into applications and deploy models into production.", "Sounds wonderful, right?! Now let\u2019s see how to set it up.", "Installing Docker is easy and free. Just follow this guide for your operating system.", "Will not be covered in this tutorial. Our focus will be on how to run a Docker Container once we already have the image we want.", "We will use a prebuilt image from DAGsHub/ml-workspace-minimal. It is created from this repository on GitHub. If you want to build or modify this image or any other, I recommend the article Jeremy Howard refers to in his original tweet.", "docker run is the command that takes a Docker Image (cookie cutter) and creates a container from it. In our analogy, this is the step where you make the cookie.", "This long command might look scary, but we can think of all these flags as toppings for our cookie (chocolate chips and macadamia nuts \ud83d\ude0b). Here is an explanation of the various flags and why you need them:", "Mounting your working file system -v \"/${PWD}:/workspace\"This might be the most important flag of all. It allows you to retain your work (files) after the container shuts down, and to access them from outside the container.", "It does this by mapping your current working folder (where you execute the docker run command), denoted as /${PWD}, to a /workspace folder inside the container's virtual file system. If you'd like to change that, you can change this argument appropriately.", "Port forwarding -p 8080:8080This argument exposes the 8080 port. In essence, it means that after you run this on a computer, your container will be accessible via http://{computer-ip}:8080. If you're running this on your local system, that address will be http://localhost:8080. For more complex images, you might need more than one port forwarded for additional reasons such as API endpoints. In our case, the port is the UI endpoint, and will lead you to the home screen of ML-Workspace:", "Naming our container --name \"dags-workspace\"This generates a unique identifier for our container for future reference. As it might imply, this name should be unique per your system, so if you make multiple containers from the same image, you\u2019ll need to define different names for them. --name is also useful to add meaning to our container. If you don't define a name, a meaningless one will be generated for you automatically.", "Defining Env Variables --env AUTHENTICATE_VIA_JUPYTER=\"mytoken\"The --env flag defines environment variables for your container. This can vary wildly between containers, and so it's hard to give a generic use case for it.", "In our case, we use this to define a password to the workspace. When someone opens the link above for the first time, Jupyter will require them to input the password defined here. This might be useful if you\u2019re working on a shared computer.", "Defining shared memory --shm-size 2gThis flag is used to define the shared memory of your container (the more the better). Remember that this uses the same RAM as your regular system, so if you set it too high it might slow your computer down. A good size would be somewhere between 2g and 8g for most use cases.", "Defining the restart policy --restart alwaysThe --restart flag represents the container's restart policy. According to the Docker docs:", "A restart policy controls whether the Docker daemon restarts a container after exit.", "We use the always option which means Docker will try to keep the container running even if the system restarts. This is great in order to keep your project context intact.", "Congratulations! You now have an entire ML workspace running on your docker, including all the goodies you might need.", "If you want to dive one level deeper, I recommend going to the docker run command reference to see all available flags.", "Let\u2019s go over a few things I recommend you setup to have an ideal workspace.", "We\u2019ve set a standardized, isolated machine to run our ML. If you\u2019re setting up your project for the first time, you\u2019re probably running to your environment manager conda/pip to install some awesome packages.", "Why go through all this effort to create an isolated, reproducible environment and then go install a bunch of different packages that no one will know about. You should create a Conda or virtual environment to manage your packages. If you decided to use the DAGsHub/ml-workspace-minimal container, here is what you should do:", "In the ML workspace home click the Open Tool dropdown and choose Terminal. Then type the following commands:", "After you finish installing your packages, and you want to save your project (and hopefully commit it to Git), you should save your package list by running:", "Note: Wondering why you should use this command for listing your requirements (instead of pip freeze >> requirements)? Read this GitHub issue", "You now have an isolated, reproducible, portable, and awesome ML workspace set up with Docker. I hope you found this article useful, and if you have any questions or feedback, please reach out via our DAGsHub Discord Channel.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Co-Founder & CEO of DagsHub. Building the home for data science collaboration. Interested in machine learning, physics and philosophy. Join https://DAGsHub.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1e5f7f3baf8e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----1e5f7f3baf8e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1e5f7f3baf8e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@dean_pleban?source=post_page-----1e5f7f3baf8e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dean_pleban?source=post_page-----1e5f7f3baf8e--------------------------------", "anchor_text": "Dean Pleban"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Faf50a8117cfc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e&user=Dean+Pleban&userId=af50a8117cfc&source=post_page-af50a8117cfc----1e5f7f3baf8e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1e5f7f3baf8e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1e5f7f3baf8e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@switch_dtp_fotografie?utm_source=medium&utm_medium=referral", "anchor_text": "Lucas van Oort"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/how-docker-can-help-you-become-a-more-effective-data-scientist-7fc048ef91d5", "anchor_text": "A lot"}, {"url": "https://mlinproduction.com/docker-for-ml-part-1/", "anchor_text": "has already"}, {"url": "https://towardsdatascience.com/learn-enough-docker-to-be-useful-b7ba70caeb4b", "anchor_text": "been said"}, {"url": "https://fast.ai/", "anchor_text": "Fast.ai"}, {"url": "https://twitter.com/jeremyphoward", "anchor_text": "@jeremyphoward"}, {"url": "https://giphy.com/gifs/cookie-dancing-1ngQorBCDcUFy", "anchor_text": "GIPHY"}, {"url": "https://unsplash.com/@belleam?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit", "anchor_text": "Izabelle Acheson"}, {"url": "https://unsplash.com/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit", "anchor_text": "Unsplash"}, {"url": "https://giphy.com/gifs/3ixS2QB5lWmGCcJkqI", "anchor_text": "GIPHY"}, {"url": "https://github.com/anibali/docker-pytorch", "anchor_text": "Here is one good example."}, {"url": "https://hub.docker.com/r/pytorch/pytorch", "anchor_text": "pytorch/pytorch"}, {"url": "https://hub.docker.com/r/jupyter/scipy-notebook", "anchor_text": "jupyter/scipy-notebook"}, {"url": "https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#jupyter-scipy-notebook", "anchor_text": "data science modules"}, {"url": "https://hub.docker.com/repository/docker/dagshub/ml-workspace-minimal", "anchor_text": "DAGsHub/ml-workspace-minimal"}, {"url": "https://github.com/ml-tooling/ml-workspace", "anchor_text": "ml-tooling/ml-workspace repository"}, {"url": "https://docs.docker.com/engine/install/", "anchor_text": "this guide"}, {"url": "https://hub.docker.com/repository/docker/dagshub/ml-workspace-minimal", "anchor_text": "DAGsHub/ml-workspace-minimal"}, {"url": "https://github.com/DAGsHub/ml-workspace", "anchor_text": "repository"}, {"url": "https://towardsdatascience.com/how-docker-can-help-you-become-a-more-effective-data-scientist-7fc048ef91d5", "anchor_text": "the article"}, {"url": "http://localhost:8080", "anchor_text": "http://localhost:8080"}, {"url": "http://localhost:8080", "anchor_text": "http://localhost:8080"}, {"url": "https://docs.docker.com/engine/reference/run/", "anchor_text": "command reference"}, {"url": "https://hub.docker.com/repository/docker/dagshub/ml-workspace-minimal", "anchor_text": "DAGsHub/ml-workspace-minimal"}, {"url": "http://localhost:8080", "anchor_text": "workspace home"}, {"url": "https://github.com/pypa/pip/issues/8174", "anchor_text": "Read this GitHub issue"}, {"url": "https://discord.com/invite/9gU36Y6", "anchor_text": "DAGsHub Discord Channel"}, {"url": "https://unsplash.com/@jessbaileydesigns?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit", "anchor_text": "Jess Bailey"}, {"url": "https://unsplash.com/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/docker?source=post_page-----1e5f7f3baf8e---------------docker-----------------", "anchor_text": "Docker"}, {"url": "https://medium.com/tag/mlops?source=post_page-----1e5f7f3baf8e---------------mlops-----------------", "anchor_text": "Mlops"}, {"url": "https://medium.com/tag/data-science-workflow?source=post_page-----1e5f7f3baf8e---------------data_science_workflow-----------------", "anchor_text": "Data Science Workflow"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----1e5f7f3baf8e---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/machine-learning-tutorial?source=post_page-----1e5f7f3baf8e---------------machine_learning_tutorial-----------------", "anchor_text": "Machine Learning Tutorial"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1e5f7f3baf8e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e&user=Dean+Pleban&userId=af50a8117cfc&source=-----1e5f7f3baf8e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1e5f7f3baf8e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e&user=Dean+Pleban&userId=af50a8117cfc&source=-----1e5f7f3baf8e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1e5f7f3baf8e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1e5f7f3baf8e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1e5f7f3baf8e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1e5f7f3baf8e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1e5f7f3baf8e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1e5f7f3baf8e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1e5f7f3baf8e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1e5f7f3baf8e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1e5f7f3baf8e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1e5f7f3baf8e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1e5f7f3baf8e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1e5f7f3baf8e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dean_pleban?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@dean_pleban?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Dean Pleban"}, {"url": "https://medium.com/@dean_pleban/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "86 Followers"}, {"url": "https://DAGsHub.com", "anchor_text": "https://DAGsHub.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Faf50a8117cfc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e&user=Dean+Pleban&userId=af50a8117cfc&source=post_page-af50a8117cfc--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F32eb63da6325&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdocker-for-data-science-a-step-by-step-guide-1e5f7f3baf8e&newsletterV3=af50a8117cfc&newsletterV3Id=32eb63da6325&user=Dean+Pleban&userId=af50a8117cfc&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}