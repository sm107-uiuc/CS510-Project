{"url": "https://towardsdatascience.com/real-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721", "time": 1683000168.596011, "path": "towardsdatascience.com/real-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721/", "webpage": {"metadata": {"title": "Real-time Twitter Sentiment Analysis for Brand Improvement and Topic Tracking (Chapter 2/3) | by Chulong Li | Towards Data Science", "h1": "Real-time Twitter Sentiment Analysis for Brand Improvement and Topic Tracking (Chapter 2/3)", "description": "The tutorial will teach you how to step-by-step apply 1) Nature Language Processing and Sentiment Analysis on Twitter data, and 2) utilize Plotly to build an interactive data visualization."}, "outgoing_paragraph_urls": [{"url": "https://nbviewer.jupyter.org/github/Chulong-Li/Real-time-Sentiment-Tracking-on-Twitter-for-Brand-Improvement-and-Trend-Recognition/blob/master/Trend_Analysis_Complex.ipynb", "anchor_text": "analytical dashboard (with full code)", "paragraph_index": 2}, {"url": "http://bit.ly/30VS87a", "anchor_text": "Real-time Twitter Monitoring Web App", "paragraph_index": 2}, {"url": "http://bit.ly/33UKT12", "anchor_text": "GitHub Repo", "paragraph_index": 2}, {"url": "https://plot.ly/python/plotly-express/", "anchor_text": "Plotly Express", "paragraph_index": 12}, {"url": "https://www.nltk.org/api/nltk.tokenize.html#module-nltk.tokenize.punkt", "anchor_text": "Punkt Sentence Tokenizer", "paragraph_index": 14}, {"url": "https://www.geeksforgeeks.org/removing-stop-words-nltk-python/", "anchor_text": "Stop Words", "paragraph_index": 15}, {"url": "http://www.nltk.org/api/nltk.html?highlight=freqdist#nltk.probability.FreqDist", "anchor_text": "Frequency Distribution", "paragraph_index": 15}, {"url": "https://plot.ly/python/plotly-express/", "anchor_text": "Plotly Express", "paragraph_index": 16}, {"url": "https://plot.ly/python/text-and-annotations/", "anchor_text": "annotations", "paragraph_index": 29}, {"url": "http://bit.ly/2msOUbR", "anchor_text": "Chapter 3", "paragraph_index": 33}], "all_paragraphs": ["The tutorial will teach you how to step-by-step apply 1) Nature Language Processing and Sentiment Analysis on Twitter data, and 2) utilize Plotly to build an interactive data visualization.", "This a standalone component to perform sentiment analysis & topic tracking and build the analytical dashboard on Jupiter Notebook, although it\u2019s the second part of my comprehensive real-time Twitter monitoring system tutorial. Streaming Twitter data collection is explained and implemented in previous chapter.", "The analytical dashboard (with full code) above is what we\u2019ll do today, which lays the foundation of the Real-time Twitter Monitoring Web App below in next chapter, as Dash (python framework for analytical web apps) is written on top of Plotly. Check my GitHub Repo for more details.", "Tech Stack of Chapter: RE, NLTK, TextBlob, Plotly, MySQL, Python (time, datetime, math, itertools)", "First, we need to extract the Twitter data from data source. You can directly read from sample_data.csv for simplicity.", "Or in a more formal way, extract data from our MySQL database, which has been set up and filled with real-time Twitter data in the Chapter 1.", "And read data released in last 30 minutes and load it into Pandas DataFrame via SQL query.", "Then convert DATETIME (MySQL data type) into Datetime (Pandas data type).", "The core of sentiment analysis is to use TextBlob in order to extract the polarity & subjectivity from tweet texts, which is actually done by the data preprocessing for better data storage in the previous chapter. Negative tweets represent as -1, positive tweets represent as +1, and neutral tweets represent as 0 .", "Convert the entire time serises into groups of 2 seconds, and count the number of sentiment for each kind of polarities (e.g. -1, 0, and 1) in each time-interval group.", "Apply unstack-stack technology to make sure all categories in each group are displayed even if one of categories doesn't have any value. As we only display real-time tweets posted in last 30 minutes, groups of 2-second interval could best display on the screen in practice. After that, rename the columns to allow them self explanatory.", "Record the time series with 2-second interval for further index usage.", "Use simple Plotly Express to quick visualize the line chart. Note: Plotly Express is a terse, consistent, high-level wrapper of plotly.graph_objects for rapid data exploration and figure generation.", "In order to tracking the hottest words or the most frequency tokens in the tweets, we join all tweet texts, remove the urls, clean the \u2018RT\u2019 and \u2018&\u2019 (a.k.a. \u2018&amp;\u2019 )symbols, and convert all characters into lowercases.", "Use python script to download these 2 files from NLTK at the first time. Punkt Sentence Tokenizer is used to divide a text into a list of sentences by using an unsupervised algorithm.", "Then tokenize the entire text from all tweets, use Stop Words to remove commonly used words, and extract 10 most common words in the Frequency Distribution of all words.", "Use simple Plotly Express again to quick visualize the bar chart.", "To explore users\u2019 geographic distributions, we need to identify their locations through their user profile rather than the locations attached with tweets, since less than 1% people will attach their tweet locations. However, according to locations in users\u2019 profile, they may include one or more of counties, cities, states, countries, or planets. Thus, filtering these data into US state-level locations is the core of geographic segmentation recognization.", "Set up all state names and their abbreviations as constants for further abbreviation-name transformation.", "Extract the state information from their locations by iterating the list of state names and the list of user locations.", "Count the number of tweets posted in each state of US, and use logarithmic number to avoid the extreme values (e.g. 500+ in California and 3 in North Dakota) for better visualization.", "Add explanatory text information for the hover text on later dashboard.", "This time, we use Plotly (not Plotly Express) to visualize the USA map.", "Note: plotly.graph_objects is the core of Plotly Library containing more generic functions for more complex usage.locationmode is the set of locations match entries in \u201clocations\u201d. text is the hover text. marker_line_color is the color of line markers between states. Set geo_scope to limit map scope to USA.", "Now we could integrate all data visualization parts into one dashboard using Plotly.subplots. Displaying multiple figures simultaneously can greatly improve the reading efficiency and enhance the comparability among multiple insights.", "First, create a Plotly Figure containing 2\u00d72 subplots with Line Chart in the left, Map in the top right, and Bar Chart in the bottom right.", "Add three Lines of negatives, neutrals, and positives in the first subplot using add_trace and go.Scatter . In addition, row and col represent the place of this subplot in the big figure.", "Add the Bar Chart for the topic frequency distribution using add_trace and go.Bar . You may use rgb(xx,xx,xx) or rgba(xx,xx,xx,x) to change the color of certain elements in the figure.", "Then insert the Map in the top right, and set locations and numbers per location.", "Add title in the layout of our figure, reduce the geo-scope of our map, turn the template theme into the dark, and add annotations for the layout using go.layout.Annotation.", "Last, display all subplots in the single figure.", "Author\u2019s Words: A little bit complex in this chapter as it uses NLP and sentiment analysis approaches to transfer data points into insights. Further improvement on topic tracking can be implemented by using advanced NLP methods.", "Next chapter will be the most exciting part to integrate and deploy all functions on the Heroku server using Dash. As always, I appreciate for any feedback! \ud83d\ude03", "Update on 9/20: Chapter 3 has been published !", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Aspiring software engineer at Microsoft, focusing on building large-scale distributed systems, especially real-time streaming computing and storage components."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1caf05346721&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freal-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freal-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freal-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freal-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----1caf05346721--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1caf05346721--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@ChulongLi?source=post_page-----1caf05346721--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ChulongLi?source=post_page-----1caf05346721--------------------------------", "anchor_text": "Chulong Li"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc4df6ec5341c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freal-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721&user=Chulong+Li&userId=c4df6ec5341c&source=post_page-c4df6ec5341c----1caf05346721---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1caf05346721&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freal-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1caf05346721&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freal-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@r3dmax?utm_source=medium&utm_medium=referral", "anchor_text": "Jonatan Pie"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/real-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-1-3-e02f7652d8ff", "anchor_text": "Chapter 1"}, {"url": "http://bit.ly/2msOUbR", "anchor_text": "Chapter 3"}, {"url": "https://nbviewer.jupyter.org/github/Chulong-Li/Real-time-Sentiment-Tracking-on-Twitter-for-Brand-Improvement-and-Trend-Recognition/blob/master/Trend_Analysis_Complex.ipynb", "anchor_text": "analytical dashboard (with full code)"}, {"url": "http://bit.ly/30VS87a", "anchor_text": "Real-time Twitter Monitoring Web App"}, {"url": "http://bit.ly/33UKT12", "anchor_text": "GitHub Repo"}, {"url": "https://docs.python.org/3.7/library/re.html", "anchor_text": "RE"}, {"url": "https://www.nltk.org", "anchor_text": "NLTK"}, {"url": "https://textblob.readthedocs.io/en/dev/", "anchor_text": "TextBlob"}, {"url": "https://plot.ly/python/", "anchor_text": "Plotly"}, {"url": "https://textblob.readthedocs.io/en/dev/", "anchor_text": "TextBlob"}, {"url": "https://plot.ly/python/plotly-express/", "anchor_text": "Plotly Express"}, {"url": "https://www.nltk.org/api/nltk.tokenize.html#module-nltk.tokenize.punkt", "anchor_text": "Punkt Sentence Tokenizer"}, {"url": "https://www.geeksforgeeks.org/removing-stop-words-nltk-python/", "anchor_text": "Stop Words"}, {"url": "http://www.nltk.org/api/nltk.html?highlight=freqdist#nltk.probability.FreqDist", "anchor_text": "Frequency Distribution"}, {"url": "https://plot.ly/python/plotly-express/", "anchor_text": "Plotly Express"}, {"url": "https://unsplash.com/@karsten_wuerth?utm_source=medium&utm_medium=referral", "anchor_text": "Karsten W\u00fcrth (@karsten.wuerth)"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://plot.ly/python/", "anchor_text": "Plotly"}, {"url": "https://plot.ly/python/text-and-annotations/", "anchor_text": "annotations"}, {"url": "http://bit.ly/2msOUbR", "anchor_text": "Chapter 3"}, {"url": "https://medium.com/tag/data-science?source=post_page-----1caf05346721---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/nlp?source=post_page-----1caf05346721---------------nlp-----------------", "anchor_text": "NLP"}, {"url": "https://medium.com/tag/sentiment-analysis?source=post_page-----1caf05346721---------------sentiment_analysis-----------------", "anchor_text": "Sentiment Analysis"}, {"url": "https://medium.com/tag/in-depth-analysis?source=post_page-----1caf05346721---------------in_depth_analysis-----------------", "anchor_text": "In Depth Analysis"}, {"url": "https://medium.com/tag/twitter?source=post_page-----1caf05346721---------------twitter-----------------", "anchor_text": "Twitter"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1caf05346721&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freal-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721&user=Chulong+Li&userId=c4df6ec5341c&source=-----1caf05346721---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1caf05346721&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freal-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721&user=Chulong+Li&userId=c4df6ec5341c&source=-----1caf05346721---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1caf05346721&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freal-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1caf05346721--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1caf05346721&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freal-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1caf05346721---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1caf05346721--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1caf05346721--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1caf05346721--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1caf05346721--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1caf05346721--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1caf05346721--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1caf05346721--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1caf05346721--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ChulongLi?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@ChulongLi?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Chulong Li"}, {"url": "https://medium.com/@ChulongLi/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "154 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc4df6ec5341c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freal-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721&user=Chulong+Li&userId=c4df6ec5341c&source=post_page-c4df6ec5341c--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F16c6b1001099&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freal-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721&newsletterV3=c4df6ec5341c&newsletterV3Id=16c6b1001099&user=Chulong+Li&userId=c4df6ec5341c&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}