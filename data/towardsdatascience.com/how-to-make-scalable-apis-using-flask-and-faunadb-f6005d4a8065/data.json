{"url": "https://towardsdatascience.com/how-to-make-scalable-apis-using-flask-and-faunadb-f6005d4a8065", "time": 1683015762.062132, "path": "towardsdatascience.com/how-to-make-scalable-apis-using-flask-and-faunadb-f6005d4a8065/", "webpage": {"metadata": {"title": "How To Make Scalable APIs Using Flask and FaunaDB | by Agustinus Theodorus | Towards Data Science", "h1": "How To Make Scalable APIs Using Flask and FaunaDB", "description": "With the rise of serverless technology, making web services only gets easier. Serverless apps change the old monolithic architecture of apps and promote more of a microservice solution to technical\u2026"}, "outgoing_paragraph_urls": [{"url": "https://azure.microsoft.com/en-us/pricing/details/functions/#:~:text=Azure%20Functions%20consumption%20plan%20is,function%20apps%20in%20that%20subscription.", "anchor_text": "An example would be Azure Function\u2019s consumption plan", "paragraph_index": 2}, {"url": "https://fauna.com/features", "anchor_text": "FaunaDB", "paragraph_index": 3}, {"url": "https://www.serverless.com/flask", "anchor_text": "Here is an official guide to Flask serverless from serverless.com", "paragraph_index": 8}, {"url": "https://www.python.org/downloads/windows/", "anchor_text": "here", "paragraph_index": 9}, {"url": "https://www.w3schools.com/howto/howto_js_todolist.asp", "anchor_text": "W3School template", "paragraph_index": 15}, {"url": "https://docs.fauna.com/fauna/current/tutorials/indexes/index.html", "anchor_text": "here is an official article from Fauna to help you understand indexes.", "paragraph_index": 24}], "all_paragraphs": ["With the rise of serverless technology, making web services only gets easier. Serverless apps change the old monolithic architecture of apps and promote more of a microservice solution to technical problems.", "With the advantage of autoscaling, and multi-region deployments it is no wonder that serverless apps are making a quick rise in recent years. The cost of serverless has also redefined how we make software as it is now on a per request basis rather than a time-based service.", "Even better, serverless also enables small services to be free altogether. Only being needed to be paid after a million requests or so. An example would be Azure Function\u2019s consumption plan.", "The main reason serverless is being mentioned here is because FaunaDB is a NoSQL database that is made for serverless in mind. The pricing on this database is request based, precisely what serverless apps need.", "Using a service like FaunaDB can help cut costs so much that the hosting capabilities of the app would be virtually free. Excluding the development costs of course. Thus, using a monthly billed database for serverless apps kind of kills the point.", "A free stack example would be a combination of Netlify, Netlify Functions, and FaunaDB. Though it would only be \u2018free\u2019 for a certain amount of requests. Unless you are making an app that gets thousands of users on day zero of deployment I don\u2019t think it would be much of a problem.", "In my opinion, using a monthly billed database for serverless apps kind of kills the point", "Flask on the other hand is a microframework written in Python. It is a minimalistic framework with no database abstraction layers, form validation, or any other particular functions provided by other frameworks.", "Flask is by large serverless compatible. You can make a serverless Flask app using AWS Lambda. Here is an official guide to Flask serverless from serverless.com.", "First of all, install Python and Pip. I\u2019m not going to list all the possible ways of installing it, for Windows users you can get the installer here. As for Linux users if you are using a Debian/Ubuntu-based distro open your command prompt and install python and pip like this:", "To check if the installation is correct try executing these commands:", "The version numbers would then show for the corresponding commands.", "After the environment setup is complete, the next step would be to install Flask itself. The installation process is simple just enter:", "Then, install the python driver for FaunaDB:", "Now we are going to make an example app with the mother of all app ideas, the to-do list app.", "For this example, because we will be focusing mainly on how to make the API we will be using the W3School template for the to-do list app frontend.", "Our project would be an implementation of a helper pattern. A simple outline of our project would be like so:", "Indexes are how you make \u2018where\u2019 statements in FaunaDB. It allows you to get specific documents based on the field values.", "To create a new Index, just go to the Indexes section on your database and click New Index.", "When creating an Index, choose the collection you would want to interact with. Then define the field name you want to search by. Lastly, define your index name make sure it is unique and readable.", "For example, let\u2019s make an index where we can get all the data in an existing collection.", "Oh, what about an index to get todos by the user's email? Easy.", "If you want to make the terms unique, check the Unique checkbox to add a constraint.", "To add constraints to a certain collection you need to create indexes with terms that contain unique fields.", "To help you understand better, here is an official article from Fauna to help you understand indexes.", "First, write a python file that would run Flask.", "Next, before we start writing our services and helpers we must first define an entity file to connect to FaunaDB.", "This is used to get a FaunaDB document by Index. The get function does not return multiple documents and is only able to return a single document at a time.", "To get multiple documents we need to use a map function to return multiple data by a certain index.", "The lambda function will pass the data needed in the Index while paginate will search for the specific documents in the collection, then the map function will return all matching documents as a list.", "Get document by reference Id is the only function that does not use an Index rather would utilize the document\u2019s reference Id.", "The code for creating, updating, and deleting documents would be similar. Because FaunaDB is a NoSQL database the data structure doesn\u2019t matter as long as it is passed as a dictionary. Updating and deleting documents would also need an extra reference Id parameter, similar to the Get document by reference Id function.", "After writing the FaunaDB entity script, write the helper functions for the collection. The helper functions need to be small precise functions that do exactly one thing.", "When all the helpers are ready, write the service file to be used as endpoints. All the requests are parsed at the service level, thus the helper level will only receive processed data.", "Finally, when the endpoints are set, add the endpoints to the app.py", "You\u2019re done! Don\u2019t forget to test the APIs with Postman before deployment.", "TL;DR You can check out my Github repository for the project and try to run it yourself.", "In this tutorial, you have learned to make an API using Flask and FaunaDB.", "You now have a quick boilerplate setup to use when you want to make a quick app in a matter of hours. Future plans include adding a Swagger implementation to the existing boilerplate.", "Hope this is a great start for you, have a nice day!", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Loves to share his thoughts and opinions on the internet."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff6005d4a8065&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-make-scalable-apis-using-flask-and-faunadb-f6005d4a8065&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-make-scalable-apis-using-flask-and-faunadb-f6005d4a8065&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-make-scalable-apis-using-flask-and-faunadb-f6005d4a8065&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-make-scalable-apis-using-flask-and-faunadb-f6005d4a8065&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f6005d4a8065--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f6005d4a8065--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://agustinustheoo.medium.com/?source=post_page-----f6005d4a8065--------------------------------", "anchor_text": ""}, {"url": "https://agustinustheoo.medium.com/?source=post_page-----f6005d4a8065--------------------------------", "anchor_text": "Agustinus Theodorus"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F73fc74719ccb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-make-scalable-apis-using-flask-and-faunadb-f6005d4a8065&user=Agustinus+Theodorus&userId=73fc74719ccb&source=post_page-73fc74719ccb----f6005d4a8065---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff6005d4a8065&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-make-scalable-apis-using-flask-and-faunadb-f6005d4a8065&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff6005d4a8065&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-make-scalable-apis-using-flask-and-faunadb-f6005d4a8065&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@hidd3n?utm_source=medium&utm_medium=referral", "anchor_text": "Kevin Horvat"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://azure.microsoft.com/en-us/pricing/details/functions/#:~:text=Azure%20Functions%20consumption%20plan%20is,function%20apps%20in%20that%20subscription.", "anchor_text": "An example would be Azure Function\u2019s consumption plan"}, {"url": "https://fauna.com/features", "anchor_text": "FaunaDB"}, {"url": "https://www.serverless.com/flask", "anchor_text": "Here is an official guide to Flask serverless from serverless.com"}, {"url": "https://www.python.org/downloads/windows/", "anchor_text": "here"}, {"url": "https://www.w3schools.com/howto/howto_js_todolist.asp", "anchor_text": "W3School template"}, {"url": "https://docs.fauna.com/fauna/current/tutorials/indexes/index.html", "anchor_text": "here is an official article from Fauna to help you understand indexes."}, {"url": "https://github.com/agustinustheo/flask-faunadb", "anchor_text": "agustinustheo/flask-faunadbBoilerplate code for Flask and FaunaDB project.github.com"}, {"url": "https://medium.com/tag/software-development?source=post_page-----f6005d4a8065---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/serverless?source=post_page-----f6005d4a8065---------------serverless-----------------", "anchor_text": "Serverless"}, {"url": "https://medium.com/tag/microservices?source=post_page-----f6005d4a8065---------------microservices-----------------", "anchor_text": "Microservices"}, {"url": "https://medium.com/tag/software-engineering?source=post_page-----f6005d4a8065---------------software_engineering-----------------", "anchor_text": "Software Engineering"}, {"url": "https://medium.com/tag/programming?source=post_page-----f6005d4a8065---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff6005d4a8065&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-make-scalable-apis-using-flask-and-faunadb-f6005d4a8065&user=Agustinus+Theodorus&userId=73fc74719ccb&source=-----f6005d4a8065---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff6005d4a8065&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-make-scalable-apis-using-flask-and-faunadb-f6005d4a8065&user=Agustinus+Theodorus&userId=73fc74719ccb&source=-----f6005d4a8065---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff6005d4a8065&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-make-scalable-apis-using-flask-and-faunadb-f6005d4a8065&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f6005d4a8065--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff6005d4a8065&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-make-scalable-apis-using-flask-and-faunadb-f6005d4a8065&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f6005d4a8065---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f6005d4a8065--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f6005d4a8065--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f6005d4a8065--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f6005d4a8065--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f6005d4a8065--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f6005d4a8065--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f6005d4a8065--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f6005d4a8065--------------------------------", "anchor_text": ""}, {"url": "https://agustinustheoo.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://agustinustheoo.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Agustinus Theodorus"}, {"url": "https://agustinustheoo.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "282 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F73fc74719ccb&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-make-scalable-apis-using-flask-and-faunadb-f6005d4a8065&user=Agustinus+Theodorus&userId=73fc74719ccb&source=post_page-73fc74719ccb--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F974d9eb4529a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-make-scalable-apis-using-flask-and-faunadb-f6005d4a8065&newsletterV3=73fc74719ccb&newsletterV3Id=974d9eb4529a&user=Agustinus+Theodorus&userId=73fc74719ccb&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}