{"url": "https://towardsdatascience.com/opinion-mining-in-twitter-using-vader-and-gensims-latent-dirichlect-allocation-lda-a834c2a936", "time": 1683005303.972039, "path": "towardsdatascience.com/opinion-mining-in-twitter-using-vader-and-gensims-latent-dirichlect-allocation-lda-a834c2a936/", "webpage": {"metadata": {"title": "Opinion Mining in Twitter using VADER and gensim\u2019s Latent Dirichlect Allocation \u2014 LDA | by Esteban Villa-Turek | Towards Data Science", "h1": "Opinion Mining in Twitter using VADER and gensim\u2019s Latent Dirichlect Allocation \u2014 LDA", "description": "I again turned to Twitter for answers. The raw material flowed seamlessly into my database and I saw myself in possession of 1 million tweets from around the world, all containing generic words, such\u2026"}, "outgoing_paragraph_urls": [{"url": "https://gephi.org/", "anchor_text": "Gephi", "paragraph_index": 2}, {"url": "https://www.researchgate.net/publication/253087985_OpenOrd_An_Open-Source_Toolbox_for_Large_Graph_Layout", "anchor_text": "OpenOrd", "paragraph_index": 2}, {"url": "https://github.com/estebanvillaturek/covid19", "anchor_text": "github repo", "paragraph_index": 3}, {"url": "http://comp.social.gatech.edu/papers/icwsm14.vader.hutto.pdf", "anchor_text": "VADER", "paragraph_index": 5}, {"url": "https://github.com/cjhutto/vaderSentiment", "anchor_text": "VADER\u2019s documentation", "paragraph_index": 7}, {"url": "https://towardsdatascience.com/topic-modeling-and-latent-dirichlet-allocation-in-python-9bf156893c24", "anchor_text": "article", "paragraph_index": 9}, {"url": "https://radimrehurek.com/gensim/about.html", "anchor_text": "gensim", "paragraph_index": 9}], "all_paragraphs": ["Imagine you are a health policy decision maker during a global pandemic. Wouldn\u2019t you like to know what people are thinking about the problem?", "I again turned to Twitter for answers. The raw material flowed seamlessly into my database and I saw myself in possession of 1 million tweets from around the world, all containing generic words, such as \u201cCoronavirus\u201d and \u201cCOVID-19\u201d, including every possible version of them.", "In order to get a grasp of the internal structure of the network, I graphed the data using Gephi. The algorithm chosen was OpenOrd, which is ideal to visualize underlying sub-communities in large networks. I was able to identify at least 15 communities, the two largest of which accounted for almost 25% of existing nodes. All in all, the network looked like a giant, colorful blob and the largest community was comprised of around 70k nodes, therefore chosen for analysis. Off to Jupyter!", "Notebook, .gephi file, and data sets are on my github repo.", "My goal was to perform opinion mining in the text of the tweets within that first community, so that I could assess, in general terms, how said community felt and interacted around the theme of the coronavirus pandemic. Luckily, the natural language of communication in those 72k tweets was English.", "After considerable research, I decided to go for the VADER (Valence Aware Dictionary and sEntiment Reasoner) Sentiment Intensity Analyzer (as implemented in NLTK), a sentiment-aware lexicon approach to analyze sentiment in social media text. It builds on existing lexicons but is enriched by valence-rich factors existing in social media, such as emoticons, upper-casing (often used to signal emphasis) and abbreviations (omg!), among others.", "The results of VADER\u2019s SIA is a dictionary of metrics and their corresponding scores, that look like this after being split into a data frame.", "The first three scores relate to ratios of proportions of words falling into each category and hence amount to 1. They are useful for a multidimensional sentiment analysis. The \u2018compound\u2019 metric is a weighted and normalized composite score calculated across all term valence scores in the lexicon. It is most useful as a unidimensional sentiment score, like the one I\u2019m interested in right now. According to VADER\u2019s documentation, a compound score of less than -0.05 is negative, more than 0.05 is positive and the range in between is neutral, meaning that values of -1 and 1 correspond to extremely negative and extremely positive sentiment classifications, respectively.", "After having performed opinion mining on the tweets, I then went on to run NLP analyses, particularly to identify what people were talking about. I decided to perform Latent Dirichlet Allocation or LDA, a generative probabilistic Machine Learning technique that allows us to model observations (words in documents) as likely representations of unobserved sets of latent probability distributions (topics). In other words, LDA takes words in documents and computes the underlying topic distributions that, most likely, originated the themes talked about in the observed texts (our tweets in this case).", "My implementation of LDA was largely inspired by Susan Li\u2019s article and relied on NLTK\u2019s preprocessing toolbox and gensim\u2019s open source LDA semantic modeling approach.", "The preprocessing section of the analysis comprised removal of URLs, tokenization, stop-word (most common words) removal, stemming and lemmatization, all to get the purest lexical and syntactical reduction possible of the tweets. Look at this example of a processed tweet and it\u2019s original representation:", "Then I created a dictionary of terms and their corresponding frequencies across the tweets, after which I cropped out the most common ones, appearing in at least half of all the tweets and the rarest ones, appearing in less than 50 tweets, to get a final dictionary comprised of the most frequent 100k terms. The result is then turned into a corpus by means of gensim\u2019s doc2bow method that will later be passed to a TF-IDF-trained model to get the weights of each term across the whole corpus. Term Frequency \u2014 Inverse Document Frequency (TF-IDF) is a model that calculates the weight of each term relative to the corpus, so that it increases as the term appears in a document but decreases as other documents in the corpus also feature the term. In practice, it yields that the most frequent words get down weighted, generating a more normalized corpus.", "Now the LDA model is ready to be trained, returning ten different latent topics, which ultimately are assumed to provide the themes of the tweets. The returned topics are the following:", "From the list of identified likely topics, we can get a good grasp of what each topic is about. For instance, Topic 0 is likely to deal with aspects of racism and hate, probably in a xenophobic and nationalist frame, all while afraid of the virus. Or Topic 2, that most likely deals with a discussion around testing kits; or Topic 4 that deals with medical staff and emergency workers. You get the idea.", "With the list of topics ready, I can then calculate the proportion of the most probable topic for each tweet, displaying the proportion of words that most likely came from that topic. As an example, let\u2019s take the tweet from above:", "Finally, I divided the community into those tweets being classified as containing negative, neutral and positive sentiments, according to VADER\u2019s compound score (negative < -0.05, positive > 0.05, neutral > -0.05 & < 0.05).", "As a refresher, Topic 3 dealt with terms like people, novel, donation, protect, trump, close, school, help, covid and country. Possibly tweeters here were asking the president for help and for more precise policies to protect the people from the virus, for instance by closing schools.", "Topic 9 contained the terms covid, virus, trump, health, month, call, valve, declare, include and type.", "Topic 5 contained test, rate, ship, berlin, start, treat, create, lowest, product and numer. Possibly referring to the urgency of acquiring fast testing methods in the presence of rising rates of contagion and treatment needs.", "Topic 8 dealt with terms like uk, strategies, death, result, gov, day, hundred, realist, base and thousand.", "Now, the \u2018positive\u2019 tweeters were less in numbers, with around 29k tweets. The most recurrent topics were Topics 3 and 1 with a combined 34%.", "As before, Topic 3 dealt with terms like people, novel, donation, protect, trump, close, school, help, covid and country. Maybe in this case tweets were not criticizing the position of the Government, but rather defending it (probably as to not slow down the country\u2019s economy unnecessarily).", "Topic 1 contained terms like genius, tell, worry, climate change, remember, amp, social, care, deserv and tri. Tweets here most likely alluded to the positive outcomes of the economic slowdown in climate change, or called for more social responsibility by remembering to care for others too.", "Topic 9 contained the terms covid, virus, trump, health, month, call, valve, declare, include and type; Topic 8 dealt with terms like uk, strategies, death, result, gov, day, hundred, realist, base and thousand; and Topic 2 dealt with covid, test, agree, think, help, kit, virus, visit, asshole and symptom.", "The interpretation of Topics here is somewhat difficult, since we don\u2019t have the likely \u2018direction\u2019 or sense they are supposed to have (negative or positive), so I\u2019ll leave it up to you to discern.", "Why does this matter, after all?", "Well, imagine you are a health policy maker during a global pandemic. Wouldn\u2019t you like to know what people are thinking about the problem?", "If you are trying to get people to stay inside to flatten the curve, you probably wouldn\u2019t need to waste communication resources on those who already agree with you and are urging their communities to help out and stay home. Instead, you would most likely be more efficient in times of crisis if you could target directly those agents that are either denying the severity of the matter at hand (think of some of the tweets with \u2018negative\u2019 opinions), or haven\u2019t decided what to think yet.", "And the latter is the most crucial group, because think about it: how easy would it be to convince those 10k men and women towards either side of the discussion by just knowing what they are saying about the problem and what they are feeling? The undecided could be just an ad away from taking the extra step to care (or deciding not to).", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa834c2a936&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fopinion-mining-in-twitter-using-vader-and-gensims-latent-dirichlect-allocation-lda-a834c2a936&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fopinion-mining-in-twitter-using-vader-and-gensims-latent-dirichlect-allocation-lda-a834c2a936&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fopinion-mining-in-twitter-using-vader-and-gensims-latent-dirichlect-allocation-lda-a834c2a936&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fopinion-mining-in-twitter-using-vader-and-gensims-latent-dirichlect-allocation-lda-a834c2a936&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a834c2a936--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a834c2a936--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@estebanvillaturek?source=post_page-----a834c2a936--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@estebanvillaturek?source=post_page-----a834c2a936--------------------------------", "anchor_text": "Esteban Villa-Turek"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F37a7570471e1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fopinion-mining-in-twitter-using-vader-and-gensims-latent-dirichlect-allocation-lda-a834c2a936&user=Esteban+Villa-Turek&userId=37a7570471e1&source=post_page-37a7570471e1----a834c2a936---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa834c2a936&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fopinion-mining-in-twitter-using-vader-and-gensims-latent-dirichlect-allocation-lda-a834c2a936&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa834c2a936&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fopinion-mining-in-twitter-using-vader-and-gensims-latent-dirichlect-allocation-lda-a834c2a936&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@sonance?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Viktor Forgacs"}, {"url": "https://unsplash.com/s/photos/vader?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://gephi.org/", "anchor_text": "Gephi"}, {"url": "https://www.researchgate.net/publication/253087985_OpenOrd_An_Open-Source_Toolbox_for_Large_Graph_Layout", "anchor_text": "OpenOrd"}, {"url": "https://github.com/estebanvillaturek/covid19", "anchor_text": "github repo"}, {"url": "http://comp.social.gatech.edu/papers/icwsm14.vader.hutto.pdf", "anchor_text": "VADER"}, {"url": "https://github.com/cjhutto/vaderSentiment", "anchor_text": "VADER\u2019s documentation"}, {"url": "https://towardsdatascience.com/topic-modeling-and-latent-dirichlet-allocation-in-python-9bf156893c24", "anchor_text": "article"}, {"url": "https://radimrehurek.com/gensim/about.html", "anchor_text": "gensim"}, {"url": "https://medium.com/@pmin91/aspect-based-opinion-mining-nlp-with-python-a53eb4752800", "anchor_text": "Peter Min"}, {"url": "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6682293/", "anchor_text": "implementation"}, {"url": "https://medium.com/tag/nlp?source=post_page-----a834c2a936---------------nlp-----------------", "anchor_text": "NLP"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----a834c2a936---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/covid-19?source=post_page-----a834c2a936---------------covid_19-----------------", "anchor_text": "Covid-19"}, {"url": "https://medium.com/tag/twitter?source=post_page-----a834c2a936---------------twitter-----------------", "anchor_text": "Twitter"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a834c2a936---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa834c2a936&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fopinion-mining-in-twitter-using-vader-and-gensims-latent-dirichlect-allocation-lda-a834c2a936&user=Esteban+Villa-Turek&userId=37a7570471e1&source=-----a834c2a936---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa834c2a936&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fopinion-mining-in-twitter-using-vader-and-gensims-latent-dirichlect-allocation-lda-a834c2a936&user=Esteban+Villa-Turek&userId=37a7570471e1&source=-----a834c2a936---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa834c2a936&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fopinion-mining-in-twitter-using-vader-and-gensims-latent-dirichlect-allocation-lda-a834c2a936&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a834c2a936--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa834c2a936&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fopinion-mining-in-twitter-using-vader-and-gensims-latent-dirichlect-allocation-lda-a834c2a936&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a834c2a936---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a834c2a936--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a834c2a936--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a834c2a936--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a834c2a936--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a834c2a936--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a834c2a936--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a834c2a936--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a834c2a936--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@estebanvillaturek?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@estebanvillaturek?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Esteban Villa-Turek"}, {"url": "https://medium.com/@estebanvillaturek/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "30 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F37a7570471e1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fopinion-mining-in-twitter-using-vader-and-gensims-latent-dirichlect-allocation-lda-a834c2a936&user=Esteban+Villa-Turek&userId=37a7570471e1&source=post_page-37a7570471e1--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F2b0057ba417a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fopinion-mining-in-twitter-using-vader-and-gensims-latent-dirichlect-allocation-lda-a834c2a936&newsletterV3=37a7570471e1&newsletterV3Id=2b0057ba417a&user=Esteban+Villa-Turek&userId=37a7570471e1&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}