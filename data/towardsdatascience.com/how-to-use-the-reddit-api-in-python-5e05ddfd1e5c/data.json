{"url": "https://towardsdatascience.com/how-to-use-the-reddit-api-in-python-5e05ddfd1e5c", "time": 1683017810.6419551, "path": "towardsdatascience.com/how-to-use-the-reddit-api-in-python-5e05ddfd1e5c/", "webpage": {"metadata": {"title": "How to Use the Reddit API in Python | Towards Data Science", "h1": "How to Use the Reddit API in Python", "description": "Learn how to use the Reddit API using Python requests to extract data easily. We cover authentication, data extraction, and before/after with fullnames."}, "outgoing_paragraph_urls": [{"url": "https://www.reddit.com/prefs/apps", "anchor_text": "App Preferences", "paragraph_index": 5}, {"url": "https://www.reddit.com/dev/api/#GET_hot", "anchor_text": "GET /r/subreddit/hot", "paragraph_index": 11}, {"url": "https://www.reddit.com/dev/api/#GET_new", "anchor_text": "here", "paragraph_index": 16}, {"url": "https://www.reddit.com/dev/api/#GET_new", "anchor_text": "GET /r/subreddit/new", "paragraph_index": 16}, {"url": "https://www.reddit.com/dev/api/#fullnames", "anchor_text": "this section", "paragraph_index": 23}, {"url": "https://www.reddit.com/dev/api/", "anchor_text": "Reddit API documentation", "paragraph_index": 30}, {"url": "https://praw.readthedocs.io/en/latest/", "anchor_text": "Python PRAW library", "paragraph_index": 31}, {"url": "https://twitter.com/jamescalam", "anchor_text": "Twitter", "paragraph_index": 32}, {"url": "https://www.youtube.com/c/jamesbriggs", "anchor_text": "https://www.youtube.com/c/jamesbriggs", "paragraph_index": 34}], "all_paragraphs": ["Reddit is a huge ecosystem brimming with data that is readily available at our very fingertips. As a data-minded person, I wanted to take advantage of this and perform some analysis using this vast repository of open-source data.", "Initially, it turned out that getting to grip with Reddit\u2019s API wasn\u2019t as clear-cut as expected \u2014 despite being a straightforward process; it can be a little confusing at first.", "So, after figuring everything out, I wrote this article \u2014 which I hope will help a few of you to get familiar with using the Reddit API in Python. We will cover:", "If you prefer video, I cover everything from this article here too:", "First, we need access. Unlike most popular services, the Reddit API was somewhat difficult to figure out initially. There are several steps:", "1. Go to App Preferences and click create another app\u2026 at the bottom.", "2. Fill out the required details, make sure to select script \u2014 and click create app.", "3. make a note of the personal use script and secret tokens:", "4. Request a temporary OAuth token from Reddit. We need our username and password for this:", "5. Add headers=headers to every request. The OAuth token will expire after ~2 hours, and a new one will need to be requested.", "Now we have everything set up \u2014 we can begin making requests. If we want to start pulling Reddit data, our first stop could be to begin reading the top posts in our selected subreddits.", "Let\u2019s start with /r/Python. We can retrieve the most popular posts with GET /r/subreddit/hot like so:", "We return a lot of data, so let\u2019s filter for something more readable. Each post can be accessed by looping through each item in res.json()['data']['children'].", "Each post\u2019s title is stored inside 'title', an item inside the 'data' dictionary \u2014 so, we print the title of every post like this:", "We can use the same approach to build a dataframe containing basic information about the post. In particular, it may be useful to pull the title, date-time, content, and reactions to a post.", "We can modify our code very slightly to return all of the most recent posts instead. Providing us with a stream of posts as they\u2019re made in real-time.", "If we look at the API documentation here, we can see that GET /r/subreddit/new it provides the functionality we need. All we need to do us change our get request from /r/python/hot to /r/python/new:", "And with that, we have built two methods for scraping data from any subreddit \u2014 and we can use essentially the same code for any other method too!", "But there is more. There are a few parameters that we can add to our queries. The most relevant for scraping data are:", "The limit parameter is pretty self-explanatory. We pass a number to specify that we would like to receive no more than this number of items.", "Where applicable, the limit is set to 25 by default. We can pump this up to a maximum value of 100 items.", "Next up are the before and after parameters. These both work in the same way \u2014 we pass a post fullname, and the API will then retrieve items that are either before or after that post.", "Confusingly, after means further back in time, whereas before means more recently in time. So, if we take item t3_k3vndz at 13:21:", "All we need now is to find the fullname of our items. Back in the Reddit API docs, this section explains exactly what we need.", "We first need to identify what type of item we are working with. In our example, we have been extracting posts on the /r/Python subreddit. These posts are classified as links \u2014 as they do, in fact, link to the post itself.", "Rather than guessing what type of item we are returning from the API \u2014 we simply check. The type for our returned posts is provided in the items 'kind' key:", "Likewise, the ID is provided in our response too. Within the data dictionary, we have an 'id' key. We concatenate these two parts together to create a fullname:", "Now that we have a method for building fullnames \u2014 we can enhance our data collection to travel further back in time.", "With that, we have built a tool for extracting huge amounts of what can be incredibly valuable data from Reddit. The full script for this tool is here:", "Once we have set up our API authentication and made a few requests, it becomes much easier to understand how to interact with the API.", "The Reddit API documentation is simple, which makes it very easy to understand \u2014 I would definitely recommend scrolling through to see what can be done with it.", "An alternative is to use the Python PRAW library \u2014 a purpose-built library for interacting with the Reddit API. If you\u2019re not too comfortable with requests or would simply appreciate the added layer of abstraction, check it out!", "That is all for this introduction to using the Reddit API in Python! I hope it has been useful \u2014 if you have any questions or feedback, let me know via Twitter or in the comments below.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Freelance ML engineer learning and writing about everything. I post a lot on YT https://www.youtube.com/c/jamesbriggs"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5e05ddfd1e5c&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-the-reddit-api-in-python-5e05ddfd1e5c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-the-reddit-api-in-python-5e05ddfd1e5c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-the-reddit-api-in-python-5e05ddfd1e5c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-the-reddit-api-in-python-5e05ddfd1e5c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----5e05ddfd1e5c--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5e05ddfd1e5c--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://jamescalam.medium.com/?source=post_page-----5e05ddfd1e5c--------------------------------", "anchor_text": ""}, {"url": "https://jamescalam.medium.com/?source=post_page-----5e05ddfd1e5c--------------------------------", "anchor_text": "James Briggs"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb9d77a4ca1d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-the-reddit-api-in-python-5e05ddfd1e5c&user=James+Briggs&userId=b9d77a4ca1d1&source=post_page-b9d77a4ca1d1----5e05ddfd1e5c---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5e05ddfd1e5c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-the-reddit-api-in-python-5e05ddfd1e5c&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5e05ddfd1e5c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-the-reddit-api-in-python-5e05ddfd1e5c&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@hharritt?utm_source=medium&utm_medium=referral", "anchor_text": "Hunter Harritt"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.reddit.com/prefs/apps", "anchor_text": "App Preferences"}, {"url": "https://www.reddit.com/dev/api/#GET_hot", "anchor_text": "GET /r/subreddit/hot"}, {"url": "https://www.reddit.com/dev/api/#GET_new", "anchor_text": "here"}, {"url": "https://www.reddit.com/dev/api/#GET_new", "anchor_text": "GET /r/subreddit/new"}, {"url": "https://www.reddit.com/dev/api/#fullnames", "anchor_text": "this section"}, {"url": "https://www.reddit.com/dev/api/#fullnames", "anchor_text": "Reddit API docs"}, {"url": "https://www.reddit.com/dev/api/", "anchor_text": "Reddit API documentation"}, {"url": "https://praw.readthedocs.io/en/latest/", "anchor_text": "Python PRAW library"}, {"url": "https://twitter.com/jamescalam", "anchor_text": "Twitter"}, {"url": "https://www.reddit.com/dev/api", "anchor_text": "Reddit API Docs"}, {"url": "https://bit.ly/nlp-transformers", "anchor_text": "\ud83e\udd16 NLP With Transformers Course"}, {"url": "https://medium.com/tag/programming?source=post_page-----5e05ddfd1e5c---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/software-development?source=post_page-----5e05ddfd1e5c---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/tag/python?source=post_page-----5e05ddfd1e5c---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----5e05ddfd1e5c---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/software-engineering?source=post_page-----5e05ddfd1e5c---------------software_engineering-----------------", "anchor_text": "Software Engineering"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5e05ddfd1e5c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-the-reddit-api-in-python-5e05ddfd1e5c&user=James+Briggs&userId=b9d77a4ca1d1&source=-----5e05ddfd1e5c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F5e05ddfd1e5c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-the-reddit-api-in-python-5e05ddfd1e5c&user=James+Briggs&userId=b9d77a4ca1d1&source=-----5e05ddfd1e5c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5e05ddfd1e5c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-the-reddit-api-in-python-5e05ddfd1e5c&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----5e05ddfd1e5c--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F5e05ddfd1e5c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-the-reddit-api-in-python-5e05ddfd1e5c&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----5e05ddfd1e5c---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----5e05ddfd1e5c--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----5e05ddfd1e5c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----5e05ddfd1e5c--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----5e05ddfd1e5c--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5e05ddfd1e5c--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5e05ddfd1e5c--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----5e05ddfd1e5c--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----5e05ddfd1e5c--------------------------------", "anchor_text": ""}, {"url": "https://jamescalam.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://jamescalam.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "James Briggs"}, {"url": "https://jamescalam.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "9.6K Followers"}, {"url": "https://www.youtube.com/c/jamesbriggs", "anchor_text": "https://www.youtube.com/c/jamesbriggs"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb9d77a4ca1d1&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-the-reddit-api-in-python-5e05ddfd1e5c&user=James+Briggs&userId=b9d77a4ca1d1&source=post_page-b9d77a4ca1d1--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F75e31c56d187&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-use-the-reddit-api-in-python-5e05ddfd1e5c&newsletterV3=b9d77a4ca1d1&newsletterV3Id=75e31c56d187&user=James+Briggs&userId=b9d77a4ca1d1&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}