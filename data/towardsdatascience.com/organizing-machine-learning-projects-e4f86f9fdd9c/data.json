{"url": "https://towardsdatascience.com/organizing-machine-learning-projects-e4f86f9fdd9c", "time": 1683016608.975564, "path": "towardsdatascience.com/organizing-machine-learning-projects-e4f86f9fdd9c/", "webpage": {"metadata": {"title": "Organizing machine learning projects | by Jack Leitch | Towards Data Science", "h1": "Organizing machine learning projects", "description": "I just want to start with a brief disclaimer. This is how I personally organize my projects and it\u2019s what works for me, that doesn't necessarily mean it will work for you. However, there is\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/jackmleitch/Almost-any-ML-problem/tree/master/MNIST", "anchor_text": "Github", "paragraph_index": 5}], "all_paragraphs": ["I just want to start with a brief disclaimer. This is how I personally organize my projects and it\u2019s what works for me, that doesn't necessarily mean it will work for you. However, there is definitely something to be said about how good organization streamlines your workflow. Building my ML framework the way I do allows me to work in a very plug n\u2019 play way: I can train, change, adjust my models without making too many changes to my code.", "The first thing I do whenever I start a new project is to make a folder and name it something appropriate, for example, \u201cMNIST\u201d or \u201cdigit_recognition\u201d. Inside the main project folder, I always create the same subfolders: notes, input, src, models, notebooks. Don\u2019t forget to add a README.md file as well! As intuitive as this breakdown seems, it makes one hell of a difference in productivity.", "What do I put in each folder?", "When I build my projects I like to automate as much as possible. That is, I try to repeat myself as little as possible and I like to change things like models and hyperparameters with as little code as I can. Let's look to build a very simple model to classify the MNIST dataset. For those of you that have been living under a rock, this dataset is the de facto \u201chello world\u201d of computer vision. The data files train.csv and test.csv contain gray-scale images of hand-drawn digits, from zero through nine. Given the pixel intensity values (each column represents a pixel) of an image, we aim to identify which digit the image is. This is a supervised problem. Please note that the models I am creating are by no means the best for classifying this dataset, that isn't the point of this blog post.", "So, how do we start? Well, as with most things data science, we first need to decide on a metric. By looking at a count plot (sns.countplot() (this was done in a Jupyter notebook in the notebooks folder!)) we can see that the distribution of labels is fairly uniform, so plain and simple accuracy should do the trick!", "The next thing we need to do is create some cross-validation folds. The first script I added to my src folder was to do exactly this. create_folds.py reads mnist_train.csv from the input folder and creates a new file mnist_train_folds.csv (saved to the input folder) which has a new column, kfolds, containing fold numbers. As with most classification problems, I used stratified k-folds. To see the script, please check out my Github page.", "Now that we have decided on a metric and created folds, we can start making some basic models. With the aim of this post in mind, I decided to completely skip any kind of preprocessing (sorry!). What we are going to do is create a general python script to train our model(s), train.py, and then we will make some changes so that we hardcode as little as possible. The aim here is to be able to change a lot of things without changing much (if any) code. So, let's get cracking!", "We can then run this script by calling python train.py in the terminal. This script will read our data, train a decision tree classifier, score our predictions, and save the model for each fold. Note that you will need to set the working directory. For example:", "We can do a lot better than this... We have hardcoded the fold numbers, the training file, the output folder, the model, and the hyperparameters. We can change all of this.", "The first easy thing we can do is create a config.py file with all of the training files and output folder.", "Changing the script to incorporate this is easy! The changes are in bold.", "In our script, we call the run function for each fold. When training bigger models this can be an issue as running multiple folds in the same script will keep increasing the memory consumption. This could potentially lead to the program crashing. We can get around this by using argparse. Argparse allows us to specify arguments in the command line which get parsed through to the script. Let's see how to implement this.", "So what have we done here? We have allowed us to specify the fold in the terminal.", "We can use argparse in an even more useful way though, we can change the model with this! We can create a new python script, model_dispatcher.py, that has a dictionary containing different models. In this dictionary, the keys are the names of the models and the values are the models themselves.", "We can then add the following things to our code.", "And that's it, now we can choose the fold and model in the terminal! What's great about this is that to try a new model/tweak hyperparameters, all we need to do is change our model dispatcher.", "We also aren\u2019t limited to just doing this. We can make dispatchers for loads of other things too: categorical encoders, feature selection, hyperparameter optimization, the list goes on!", "To go even further, we can create a shell script to try a few different models from our dispatcher at once.", "I first learned how to do all of this in Abhishek Thakur\u2019s (quadruple Kaggle Grand Master) book: Approaching (Almost) Any Machine Learning Problem. It\u2019s a fantastic and pragmatic exploration of data science problems. I would highly recommend it.", "Once you\u2019ve finished up (or during!) a problem that you find interesting make sure to create a Github repository and upload your datasets, python scripts, models, Jupyter notebooks, R scripts, etc. Creating Github repositories to showcase your work is extremely important! It also means you have some version control and you can access your code at all times.", "Thanks for reading and I hope you enjoyed it. Here are some of my other stories you may be interested in\u2026", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe4f86f9fdd9c&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Forganizing-machine-learning-projects-e4f86f9fdd9c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Forganizing-machine-learning-projects-e4f86f9fdd9c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Forganizing-machine-learning-projects-e4f86f9fdd9c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Forganizing-machine-learning-projects-e4f86f9fdd9c&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----e4f86f9fdd9c--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e4f86f9fdd9c--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://jackmleitch.medium.com/?source=post_page-----e4f86f9fdd9c--------------------------------", "anchor_text": ""}, {"url": "https://jackmleitch.medium.com/?source=post_page-----e4f86f9fdd9c--------------------------------", "anchor_text": "Jack Leitch"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff9e8e98b3c4e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Forganizing-machine-learning-projects-e4f86f9fdd9c&user=Jack+Leitch&userId=f9e8e98b3c4e&source=post_page-f9e8e98b3c4e----e4f86f9fdd9c---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe4f86f9fdd9c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Forganizing-machine-learning-projects-e4f86f9fdd9c&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe4f86f9fdd9c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Forganizing-machine-learning-projects-e4f86f9fdd9c&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@shawnanggg?utm_source=medium&utm_medium=referral", "anchor_text": "Shawn Ang"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://github.com/jackmleitch/Almost-any-ML-problem/tree/master/MNIST", "anchor_text": "Github"}, {"url": "https://towardsdatascience.com/the-ins-and-outs-of-gradient-descent-1cf23dc90f83", "anchor_text": "The ins and outs of Gradient DescentOptimizing your choice of optimizertowardsdatascience.com"}, {"url": "https://jackmleitch.medium.com/using-beautifulsoup-to-help-make-beautiful-soups-d2670a1d1d52", "anchor_text": "Using BeautifulSoup to help make beautiful soupsThe journey to my first \u2018full-stack\u2019 data science project \u2014 a practical guide to web scrapingjackmleitch.medium.com"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----e4f86f9fdd9c---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/tutorial?source=post_page-----e4f86f9fdd9c---------------tutorial-----------------", "anchor_text": "Tutorial"}, {"url": "https://medium.com/tag/supervised-learning?source=post_page-----e4f86f9fdd9c---------------supervised_learning-----------------", "anchor_text": "Supervised Learning"}, {"url": "https://medium.com/tag/python?source=post_page-----e4f86f9fdd9c---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----e4f86f9fdd9c---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe4f86f9fdd9c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Forganizing-machine-learning-projects-e4f86f9fdd9c&user=Jack+Leitch&userId=f9e8e98b3c4e&source=-----e4f86f9fdd9c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fe4f86f9fdd9c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Forganizing-machine-learning-projects-e4f86f9fdd9c&user=Jack+Leitch&userId=f9e8e98b3c4e&source=-----e4f86f9fdd9c---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe4f86f9fdd9c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Forganizing-machine-learning-projects-e4f86f9fdd9c&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----e4f86f9fdd9c--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fe4f86f9fdd9c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Forganizing-machine-learning-projects-e4f86f9fdd9c&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----e4f86f9fdd9c---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----e4f86f9fdd9c--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----e4f86f9fdd9c--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----e4f86f9fdd9c--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----e4f86f9fdd9c--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e4f86f9fdd9c--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e4f86f9fdd9c--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----e4f86f9fdd9c--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----e4f86f9fdd9c--------------------------------", "anchor_text": ""}, {"url": "https://jackmleitch.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://jackmleitch.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Jack Leitch"}, {"url": "https://jackmleitch.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "137 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff9e8e98b3c4e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Forganizing-machine-learning-projects-e4f86f9fdd9c&user=Jack+Leitch&userId=f9e8e98b3c4e&source=post_page-f9e8e98b3c4e--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F553269cd0007&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Forganizing-machine-learning-projects-e4f86f9fdd9c&newsletterV3=f9e8e98b3c4e&newsletterV3Id=553269cd0007&user=Jack+Leitch&userId=f9e8e98b3c4e&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}