{"url": "https://towardsdatascience.com/predicting-hotel-cancellations-with-extratreesclassifier-and-logistic-regression-fb9229a95d1e", "time": 1682996249.49101, "path": "towardsdatascience.com/predicting-hotel-cancellations-with-extratreesclassifier-and-logistic-regression-fb9229a95d1e/", "webpage": {"metadata": {"title": "Predicting Weekly Hotel Cancellations with ARIMA | by Michael Grogan | Towards Data Science", "h1": "Predicting Weekly Hotel Cancellations with ARIMA", "description": "Hotel cancellations can cause issues for many businesses in the industry. Not only is there the lost revenue as a result of the customer cancelling, but this can also cause difficulty in coordinating\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.sciencedirect.com/science/article/pii/S2352340918315191", "anchor_text": "Hotel Booking Demand Datasets", "paragraph_index": 2}, {"url": "https://gist.github.com/bshishov/5dc237f59f019b26145648e2124ca1c9", "anchor_text": "mean directional accuracy", "paragraph_index": 17}, {"url": "https://github.com/MGCodesandStats/hotel-modelling", "anchor_text": "MGCodesandStats GitHub repository", "paragraph_index": 32}, {"url": "https://www.michael-grogan.com/", "anchor_text": "michael-grogan.com", "paragraph_index": 33}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com", "paragraph_index": 36}], "all_paragraphs": ["Hotel cancellations can cause issues for many businesses in the industry. Not only is there the lost revenue as a result of the customer cancelling, but this can also cause difficulty in coordinating bookings and adjusting revenue management practices.", "Data analytics can help to solve this issue, in terms of identifying the customers who are most likely to cancel \u2014 allowing a hotel chain to adjust its marketing strategy accordingly.", "The below example is based on the Hotel Booking Demand Datasets by Antonio, Almeida and Nunes (2019).", "An ARIMA model is used to determine whether hotel cancellations can also be predicted in advance. This will be done using the Algarve Hotel dataset in the first instance (H1full.csv). Since we are now seeking to predict the time series trend, all observations are now included in this dataset (cancellations and non-cancellations, irrespective of whether the dataset as a whole is uneven).", "To do this, cancellations are analysed on a weekly basis (i.e. the number of cancellations for a given week are summed up).", "Firstly, data manipulation procedures were carried out using pandas to sum up the number of cancellations per week and order them correctly.", "In configuring the ARIMA model, the first 80 observations are used as training data, with the following 20 then used as validation data.", "Once the model has been configured, the last 15 observations are then used as test data to gauge the model accuracy on unseen data.", "Here is a snippet of the output:", "The time series is visualised, and the autocorrelation and partial autocorrelation plots are generated:", "When a Dickey-Fuller test is run, a p-value of less than 0.05 is generated, indicating that the null hypothesis of non-stationarity is rejected (i.e. the data is stationary).", "An ARIMA model is then run using auto_arima from the pyramid library. This is used to select the optimal (p,d,q) coordinates for the ARIMA model.", "Based on the lowest AIC, the SARIMAX(1, 1, 0)x(0, 1, 0, 52) configuration is identified as the most optimal for modelling the time series.", "Here is the output of the model:", "With 90% of the series used as the training data to build the ARIMA model, the remaining 10% is now used to test the predictions of the model. Here are the predictions vs the actual data:", "We can see that while the prediction values were lower than the actual test values, the direction of the two series seem to be following each other.", "From a business standpoint, a hotel is likely more interested in predicting whether the degree of cancellations will increase/decrease in a particular week \u2014 as opposed to the precise number of cancellations \u2014 which will no doubt be more subject to error and influenced by extraneous factors.", "In this regard, the mean directional accuracy is used to determine the degree to which the model accurately forecasts the directional changes in cancellation frequency from week to week.", "An MDA of 89% is yielded:", "In this regard, the ARIMA model has shown a reasonably high degree of accuracy in predicting directional changes for hotel cancellations across the test set.", "The RMSE (root mean square error) is also predicted:", "The RMSE stands at 77 in this case. Note that the units of RMSE are the same as the response variable, in this case \u2014 hotel cancellations. With an average cancellation of 94 for all weeks across the validation data, the RMSE of 77 is technically the standard deviation of the unexplained variance. All else being equal, the lower this value, the better.", "Even though the ARIMA model has been trained and the accuracy validated across the validation data, it is still unclear how the model would perform against unseen data (or test data).", "In this regard, the ARIMA model is used to generate predictions for n=15 using the test.index to specify the unseen data.", "Firstly, the array is reshaped accordingly:", "Now, the predictions are made, and the RMSE (root mean squared error), MDA (mean directional accuracy) and mean forecast errors are calculated:", "The RMSE has improved slightly (dropped to 57), while the MDA has dropped to 86% and the mean forecast error stands at -12, meaning that the model has a tendency to slightly underestimate the cancellations and therefore the forecast bias is negative.", "Here is a plot of the predicted vs actual cancellations:", "The same procedures were applied \u2014 this time using the second dataset.", "The following is the ARIMA configuration obtained using pyramid-arima:", "In this example, the ARIMA model was used to predict the degree of hotel cancellations on a week-by-week basis. The MDA demonstrated 86% accuracy in doing so across the test set with an RMSE of 57 on the H1 dataset, and an 86% MDA was yielded once again for the H2 dataset with an RMSE of 274 (with the mean cancellations across the 15 weeks in the test set coming in at 327).", "Of course, a limitation of these findings is that both hotels under study are based in Portugal. Testing the model across hotels in other countries would help to validate the accuracy of this model further.", "The datasets and notebooks for this example are available at the MGCodesandStats GitHub repository, along with further research on this topic.", "You can also find more of my data science content at michael-grogan.com.", "Disclaimer: This article is written on an \u201cas is\u201d basis and without warranty. It was written with the intention of providing an overview of data science concepts, and should not be interpreted as professional advice in any way.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Science Consultant with expertise in economics, time series analysis, and Bayesian methods | michael-grogan.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ffb9229a95d1e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-hotel-cancellations-with-extratreesclassifier-and-logistic-regression-fb9229a95d1e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-hotel-cancellations-with-extratreesclassifier-and-logistic-regression-fb9229a95d1e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-hotel-cancellations-with-extratreesclassifier-and-logistic-regression-fb9229a95d1e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-hotel-cancellations-with-extratreesclassifier-and-logistic-regression-fb9229a95d1e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----fb9229a95d1e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fb9229a95d1e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----fb9229a95d1e--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=post_page-----fb9229a95d1e--------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-hotel-cancellations-with-extratreesclassifier-and-logistic-regression-fb9229a95d1e&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178----fb9229a95d1e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffb9229a95d1e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-hotel-cancellations-with-extratreesclassifier-and-logistic-regression-fb9229a95d1e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffb9229a95d1e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-hotel-cancellations-with-extratreesclassifier-and-logistic-regression-fb9229a95d1e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.sciencedirect.com/science/article/pii/S2352340918315191", "anchor_text": "Hotel Booking Demand Datasets"}, {"url": "https://gist.github.com/bshishov/5dc237f59f019b26145648e2124ca1c9", "anchor_text": "mean directional accuracy"}, {"url": "https://github.com/MGCodesandStats/hotel-modelling", "anchor_text": "MGCodesandStats GitHub repository"}, {"url": "https://www.michael-grogan.com/", "anchor_text": "michael-grogan.com"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----fb9229a95d1e---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-science?source=post_page-----fb9229a95d1e---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/logistic-regression?source=post_page-----fb9229a95d1e---------------logistic_regression-----------------", "anchor_text": "Logistic Regression"}, {"url": "https://medium.com/tag/classification?source=post_page-----fb9229a95d1e---------------classification-----------------", "anchor_text": "Classification"}, {"url": "https://medium.com/tag/hotel-management?source=post_page-----fb9229a95d1e---------------hotel_management-----------------", "anchor_text": "Hotel Management"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffb9229a95d1e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-hotel-cancellations-with-extratreesclassifier-and-logistic-regression-fb9229a95d1e&user=Michael+Grogan&userId=eec017a8b178&source=-----fb9229a95d1e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffb9229a95d1e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-hotel-cancellations-with-extratreesclassifier-and-logistic-regression-fb9229a95d1e&user=Michael+Grogan&userId=eec017a8b178&source=-----fb9229a95d1e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffb9229a95d1e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-hotel-cancellations-with-extratreesclassifier-and-logistic-regression-fb9229a95d1e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----fb9229a95d1e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ffb9229a95d1e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-hotel-cancellations-with-extratreesclassifier-and-logistic-regression-fb9229a95d1e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----fb9229a95d1e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----fb9229a95d1e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----fb9229a95d1e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----fb9229a95d1e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----fb9229a95d1e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----fb9229a95d1e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----fb9229a95d1e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----fb9229a95d1e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----fb9229a95d1e--------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://mgcodesandstats.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Michael Grogan"}, {"url": "https://mgcodesandstats.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1.5K Followers"}, {"url": "http://michael-grogan.com", "anchor_text": "michael-grogan.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Feec017a8b178&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-hotel-cancellations-with-extratreesclassifier-and-logistic-regression-fb9229a95d1e&user=Michael+Grogan&userId=eec017a8b178&source=post_page-eec017a8b178--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3c6e2607915&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpredicting-hotel-cancellations-with-extratreesclassifier-and-logistic-regression-fb9229a95d1e&newsletterV3=eec017a8b178&newsletterV3Id=3c6e2607915&user=Michael+Grogan&userId=eec017a8b178&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}