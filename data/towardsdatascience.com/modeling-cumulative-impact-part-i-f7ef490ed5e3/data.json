{"url": "https://towardsdatascience.com/modeling-cumulative-impact-part-i-f7ef490ed5e3", "time": 1682994830.4088478, "path": "towardsdatascience.com/modeling-cumulative-impact-part-i-f7ef490ed5e3/", "webpage": {"metadata": {"title": "Modeling cumulative impact \u2014 Part I | by Ben Ogorek | Towards Data Science", "h1": "Modeling cumulative impact \u2014 Part I", "description": "Welcome to Modeling cumulative impact, a series that views the cumulative impact of athletic training on sports performance through a variety of modeling lenses. The journey starts here in Part I\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/baogorek/Miscellaneous/blob/master/R-code/sports/fitness-fatigue-convolution.ipynb", "anchor_text": "on Github", "paragraph_index": 2}, {"url": "https://github.com/baogorek/Miscellaneous/blob/master/R-code/sports/fitness-fatigue-convolution.ipynb", "anchor_text": "simulation", "paragraph_index": 4}, {"url": "https://www.researchgate.net/publication/20910238_Modeling_human_performance_in_running", "anchor_text": "models of human performance in running", "paragraph_index": 5}, {"url": "http://fellrnr.com/wiki/Modeling_Human_Performance#The_Banister_Model", "anchor_text": "Banister Model", "paragraph_index": 6}, {"url": "https://www.tandfonline.com/doi/pdf/10.1080/15438627.2011.556533", "anchor_text": "Eric Banister", "paragraph_index": 6}, {"url": "https://en.wikipedia.org/wiki/Forgetting_curve", "anchor_text": "memory loss", "paragraph_index": 9}, {"url": "http://iopscience.iop.org/article/10.1088/0143-0807/23/1/304/meta", "anchor_text": "beer froth recession", "paragraph_index": 9}, {"url": "https://en.wikipedia.org/wiki/Superposition_principle", "anchor_text": "superposition principle", "paragraph_index": 10}, {"url": "https://www.researchgate.net/profile/Robin_Candau/publication/15242395_Fatigue_and_fitness_modelled_from_the_effects_of_training_on_performance/links/55720f2608ae7536374cdc09/Fatigue-and-fitness-modelled-from-the-effects-of-training-on-performance.pdf", "anchor_text": "Fatigue and fitness modelled from the effects of training on performance", "paragraph_index": 22}, {"url": "https://www.researchgate.net/publication/20910238_Modeling_human_performance_in_running", "anchor_text": "Modeling human performance in running", "paragraph_index": 23}], "all_paragraphs": ["\u201cLittle by little, a little becomes a lot.\u201d -Tanzanian proverb", "Welcome to Modeling cumulative impact, a series that views the cumulative impact of athletic training on sports performance through a variety of modeling lenses. The journey starts here in Part I with a model from physiology, the \u201cfitness-fatigue model,\u201d that uses convolutions of training intensities with exponential decay. The series will transition towards more general purpose techniques, including splines, Kalman filters and LSTM-powered neural networks, starting in Part II.", "Longitudinal data sets, especially those featuring rich event histories, are difficult to find in the public domain. This article features a simulated hammer thrower modeled after a real competitor as described in a 1994 paper by Busso, Candau, and Lacour [1], hereby referred to as \u201cBCL94.\u201d The hammer thrower, who we\u2019ll call \u201cH.T.,\u201d was aged 20 at the time of the study with 7 years of hammer throwing experience. All code for this simulation is on Github.", "For both real and simulated H.T., training intensity and performance data were collected over a 37 week (259 day) period prior to competitions and consisted of two general phases:", "A goal of the authors was to model H.T.\u2019s performance using the daily series of training intensities, w_n, n = 1,\u2026,259. (See BCL94 for their definition of intensity, a judgement-based formula which combines number of lifts, practice throws, and jumps into a single value.) These intensities averaged 34 units in the build-up period and 24 units in the competition period, climbing close to 50 at the most strenuous weeks and below 20 at the least. The simulation roughly mimics this.", "Like the training intensities, w_n, H.T.\u2019s daily measured performance values, p_n, are a mix of art and science. They are based on theoretical models of human performance in running [2] that enforce the intuition that an improvement closer to the world record is greater than a gain near a more pedestrian level. In terms of scale, p_n = 1000 corresponds to the world record whereas p_n = 0 corresponds to baseline performance that \u201cany able-bodied healthy individual ought to be able to [do].\u201d", "The model used to explain H.T.\u2019s performance in BCL94 is the \u201cfitness-fatigue model,\u201d also known as the \u201cBanister Model\u201d after physiologist Eric Banister. In the fitness-fatigue model, an instance of athletic training causes two antagonistic effects, fitness and fatigue, which simultaneously impact performance in opposite directions. The model appears, at first glance, as a linear regression of performance on two antagonistic covariates:", "Note that the negative effect of fatigue on performance is almost four times the positive effect of fitness.", "Exactly what are fitness and fatigue? The fitness-fatigue model characterizes both as exponentially decaying quantities of the form:", "where k is the initial quantity and \u03c4 is the \u201cdecay time constant.\u201d (While fitness-fatigue is a domain specific model, the reader is likely aware of other phenomena approximated by exponential decay, such as radioactive decay, memory loss, and even beer froth recession.) The key difference between the two is that the decay time constant is much larger for fitness; in H.T\u2019s case, \u03c4_1 = 60 for fitness vs \u03c4_2 = 13 for fatigue. This leads to a substantial difference in the impulse response:", "These exponential models describe the decay of fitness and fatigue from initial levels, but H.T.\u2019s fitness and fatigue levels through time are based on the effects of many past training sessions. Applying the superposition principle (true for all linear systems), the total response to a set of stimuli is the sum of the responses to the individual stimuli. Thus H.T.\u2019s fitness and fatigue at any point in time is defined by the sum of the time-diminished effects of all past training sessions.", "This operation is mathematically handled by the discrete convolution of the training history with an exponential decay function:", "There are an infinite number of such features that could be constructed with a single training history, first by modulating \u03c4 in the equation above, and later from models other than pure exponential decay.", "Based on the estimates given in BCL94, H.T.\u2019s personal fitness-fatigue model of hammer throwing performance is:", "This leads to the following trajectories for H.T.\u2019s fatigue, fitness, and relative (baseline-removed) performance:", "The final simulated performance also includes a small amount of pseudo-random Gaussian noise to create a more realistic scenario for estimation.", "To estimate the parameters in the fitness-fatigue model, BCL94 first create a grid of values for time constants \u03c4_1 and \u03c4_2. Treating the time constants as known at each point in the grid, fitness and fatigue are calculated through time. Ordinary multiple regression is used to fit E(p_n) = \u03bc+k_1 * fitness_n - k_2 * fatigue_n, where n increments through time and the residual sum of squares (RSS) is recorded at each step. The pair of time constants with the smallest RSS combined with their associated regression estimates complete the estimation.", "Alternatively, parameters can also be recovered directly with nonlinear minimization of the sum of squares residuals:", "The \u201cBFGS\u201d method offered by R\u2019s general purpose optimizer optim worked well for this example, but choosing reasonable initial values was still necessary. With only two time-varying parameters and closed form solutions at each level, the \u201cgrid search\u201d used by BCL94 is an attractive method of estimation. Below is a full picture of the simulated actual performance (including the Gaussian noise) and the predictions from the fitted model:", "This article has examined a model of athletic performance that makes use of two antagonistic, convolution-based features to encode the effects of training. Both features were discrete convolutions of training intensity with exponential decay, differing only by time constants. The model is nonlinear in the complete set of parameters but linear when the time constants are fixed and considered known, making grid search a viable method of estimation.", "While the fitness-fatigue model is a domain specific model from physiology, it suggests a more general feature engineering strategy: when there is a sequence of events with impacts that persist but also decay through time, construct features from convolutions with exponential decay. Try different time constants, or use cross-validation with grid search to explore different possibilities.", "The next part of this series moves past assuming exponential decay from a theoretical model, examining the use of splines to model a general decay profile. It will be more useful when the theory at hand is limited, or you just don\u2019t trust the model that exists. Since this author does trust the model of exponential memory decay, stay tuned for Part II.", "[1] T. Busso, R. Candau, and J. Lacour, Fatigue and fitness modelled from the effects of training on performance (1994), European Journal of Applied Physiology", "[2] R. Morton, R. Fitz-Clarke, E. Banister, Modeling human performance in running (1985), Journal of Applied Physiology", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist who enjoys learning and writing about methods. @benogorek on Twitter"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff7ef490ed5e3&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-cumulative-impact-part-i-f7ef490ed5e3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-cumulative-impact-part-i-f7ef490ed5e3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-cumulative-impact-part-i-f7ef490ed5e3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-cumulative-impact-part-i-f7ef490ed5e3&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f7ef490ed5e3--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f7ef490ed5e3--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@baogorek?source=post_page-----f7ef490ed5e3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@baogorek?source=post_page-----f7ef490ed5e3--------------------------------", "anchor_text": "Ben Ogorek"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa7ecfd165396&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-cumulative-impact-part-i-f7ef490ed5e3&user=Ben+Ogorek&userId=a7ecfd165396&source=post_page-a7ecfd165396----f7ef490ed5e3---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff7ef490ed5e3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-cumulative-impact-part-i-f7ef490ed5e3&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff7ef490ed5e3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-cumulative-impact-part-i-f7ef490ed5e3&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/baogorek/Miscellaneous/blob/master/R-code/sports/fitness-fatigue-convolution.ipynb", "anchor_text": "on Github"}, {"url": "http://www.army.mil/-news/2009/07/09/24147-fort-lewis-soldier-nails-down-spot-at-12th-world-track-and-field-championships/", "anchor_text": "Fort Lewis Soldier\u2026"}, {"url": "https://commons.wikimedia.org/w/index.php?curid=8280370", "anchor_text": "Wikimedia"}, {"url": "https://github.com/baogorek/Miscellaneous/blob/master/R-code/sports/fitness-fatigue-convolution.ipynb", "anchor_text": "simulation"}, {"url": "https://www.researchgate.net/publication/20910238_Modeling_human_performance_in_running", "anchor_text": "models of human performance in running"}, {"url": "http://fellrnr.com/wiki/Modeling_Human_Performance#The_Banister_Model", "anchor_text": "Banister Model"}, {"url": "https://www.tandfonline.com/doi/pdf/10.1080/15438627.2011.556533", "anchor_text": "Eric Banister"}, {"url": "https://en.wikipedia.org/wiki/Forgetting_curve", "anchor_text": "memory loss"}, {"url": "http://iopscience.iop.org/article/10.1088/0143-0807/23/1/304/meta", "anchor_text": "beer froth recession"}, {"url": "https://en.wikipedia.org/wiki/Superposition_principle", "anchor_text": "superposition principle"}, {"url": "https://www.researchgate.net/profile/Robin_Candau/publication/15242395_Fatigue_and_fitness_modelled_from_the_effects_of_training_on_performance/links/55720f2608ae7536374cdc09/Fatigue-and-fitness-modelled-from-the-effects-of-training-on-performance.pdf", "anchor_text": "Fatigue and fitness modelled from the effects of training on performance"}, {"url": "https://www.researchgate.net/publication/20910238_Modeling_human_performance_in_running", "anchor_text": "Modeling human performance in running"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f7ef490ed5e3---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/sports-performance?source=post_page-----f7ef490ed5e3---------------sports_performance-----------------", "anchor_text": "Sports Performance"}, {"url": "https://medium.com/tag/predictive-modeling?source=post_page-----f7ef490ed5e3---------------predictive_modeling-----------------", "anchor_text": "Predictive Modeling"}, {"url": "https://medium.com/tag/feature-engineering?source=post_page-----f7ef490ed5e3---------------feature_engineering-----------------", "anchor_text": "Feature Engineering"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----f7ef490ed5e3---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff7ef490ed5e3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-cumulative-impact-part-i-f7ef490ed5e3&user=Ben+Ogorek&userId=a7ecfd165396&source=-----f7ef490ed5e3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff7ef490ed5e3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-cumulative-impact-part-i-f7ef490ed5e3&user=Ben+Ogorek&userId=a7ecfd165396&source=-----f7ef490ed5e3---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff7ef490ed5e3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-cumulative-impact-part-i-f7ef490ed5e3&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f7ef490ed5e3--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff7ef490ed5e3&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-cumulative-impact-part-i-f7ef490ed5e3&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f7ef490ed5e3---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f7ef490ed5e3--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f7ef490ed5e3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f7ef490ed5e3--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f7ef490ed5e3--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f7ef490ed5e3--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f7ef490ed5e3--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f7ef490ed5e3--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f7ef490ed5e3--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@baogorek?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@baogorek?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Ben Ogorek"}, {"url": "https://medium.com/@baogorek/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "177 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa7ecfd165396&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-cumulative-impact-part-i-f7ef490ed5e3&user=Ben+Ogorek&userId=a7ecfd165396&source=post_page-a7ecfd165396--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F536bc54ba88c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-cumulative-impact-part-i-f7ef490ed5e3&newsletterV3=a7ecfd165396&newsletterV3Id=536bc54ba88c&user=Ben+Ogorek&userId=a7ecfd165396&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}