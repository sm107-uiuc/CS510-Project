{"url": "https://towardsdatascience.com/reactjs-python-flask-on-heroku-2a308272886a", "time": 1683014344.906004, "path": "towardsdatascience.com/reactjs-python-flask-on-heroku-2a308272886a/", "webpage": {"metadata": {"title": "ReactJS + Python Flask on Heroku. Making a Framework for API Development\u2026 | by Kyle Pastor | Towards Data Science", "h1": "ReactJS + Python Flask on Heroku", "description": "I really enjoy making stuff, but I really hate deployment. I have a bunch of ideas that sit on my local machine and just gather dust since I cannot be bothered to deploy them for the world to see. In\u2026"}, "outgoing_paragraph_urls": [{"url": "http://www.heroku.com", "anchor_text": "www.heroku.com", "paragraph_index": 2}, {"url": "http://kapastor.github.io/", "anchor_text": "http://kapastor.github.io/", "paragraph_index": 53}], "all_paragraphs": ["I really enjoy making stuff, but I really hate deployment. I have a bunch of ideas that sit on my local machine and just gather dust since I cannot be bothered to deploy them for the world to see. In the past, I kept trying to set up my own server from scratch. This included installing all of the linux packages, dealing with nginx configs and just all of the server management stuff I really don\u2019t have a taste for. For some reason in my development life, I never heard of Heroku. Heroku is perfect for what I need. It basically allows you to connect up a git repository and when you push it to their remote it automatically figures out what you are running (detects flask or node.js etc) and does the build all by itself. Literally just pushing code to production with no server side headaches.", "To commemorate my new found best friend I wanted to show how to build a simple ReactJs + Flask framework that I will use as my template for developing APIs and Web Applications going forward. The idea here is to make something reusable so I can just clone the repo and get to work on something new without redoing any steps.", "For this all you have to do is go to www.heroku.com and sign up for an account. Once your all good to go and logged in you should see a screen like this which shows your current apps:", "Then all you do is hit the New button on the top right and create your own new app! Yes that is literally it.", "From what I can tell it basically set up a git repository for us on their server and it is tied to our user account. This means we can now push code to this app on heroku. The question is how to do this? This is where you have to download the Heroku CLI (Command Line Interface). This allows us to run command line commands to login and push code etc. The CLI can be download here:", "Just make sure to download it for your system. Once installed you can open a terminal and run heroku login which should open a web browser for you to log into your account.", "There are a few other pieces of software you will need. I'm not going to go into detail about how to install them but I\u2019ll list them out here.", "Now that all of the software is installed we will set up our directory and start making our API and client front end interface. First we want to make a new directory (NB: I am using datastuffplus for the name of all my things):", "At this point all we have done is made a directory that is linked up to our Heroku project repository. This means that when we add code and commit/push it goes to Heroku and self deploys. Next we can build a simple API using Flask.", "Our flask server will be doing two major things. The first is to serve the web files that make our final webpage (front end). The second is to act as the API service to do some python specific tasks and send the results back to the front end website.", "Start with generating a virtual environment for our python install. This allows us to isolate this environment from our system. Especially useful if you need to install certain versions of packages on this project but different versions on another.", "To use this environment we need to activate it. Depending on your OS it may look a bit different but on Windows we run:", "Next we install our python packages and get it ready for deploying to Heroku. Note that since we are in our active venv the packages are only installed in this isolated directory. Perfecto.", "The above python packages are for the following:", "A few more steps before we actually code our server. In order to keep track of all the required packages, Heroku needs a requirements.txt file which basically lists out all of the python packages we have installed. To make it we just run:", "So what do we want to actually create? One thing I wanted was a nice high resolution pie chart for some graphics I make. I generally have done this using python matplotlib, but it is kinda annoying if I need to actually run python each time. So let\u2019s make it into a service to make my life easier, and also other people can use it! Bonus!", "The first step is to always just define our function that does the work. Below I have pasted the function that will make the pie chart and save it locally:", "And the output looks like this:", "So we now have our function that will do what we want. The next step is to wrap it in our flask server.", "In your working directory make a new python file called app.py. The bare bones looks like this (we will fill it in later):", "The first things we do is import the packages we need to run", "Next we will define the flask app object and set the static folder and URL:", "In the above, the static folder and url are important when we want to also server the front end website (to come later in this article). The static_folder will point to the built version of our ReactJS front end and the static_url_path needs to be set or else that build will have references to all the wrong places. ie. the paths to CSS files are going to be relative to the location and if you do not specify this they cannot be found!", "In the above skeleton code we see three new routes for our server. These act as the endpoints that you can call via a web browser.", "Now that the skeleton is set up we need to look at how to modify our stand alone python function into a flask callable function.", "There are two main changes to make to the GeneratePie() function above.", "To make the first modification we replace the following code", "The way the data gets passed is via the web URL. For example to mimic what was done in the original function you could call the API as:", "You can see how we are passing in the parameters.", "NB: The colour is not using the hashtag since it is a special character, so we just add this in when turning it into a list (shown in the modification above)", "The second change is to replace the code:", "In the above there are a few things to look at:", "So at this point our API is ready to go! Now all we have to do is get a front end website working to show it off!", "For the front end I am using ReactJS in order to make a simple dashboard and interact with the API. I am not going to go into great detail of the dashboard styling itself but will touch on how it interacts with the API. The template I am using is from", "It is a wonderful free admin dashboard available in react and many other frameworks. I just downloaded it and extracted the zip file. As long as you have npm installed you can just run the install to get the required packages and then spin it up with", "All of the files I decided to place in a client/ sub-directory next to the app.py.", "The ReactJS web portion that actually calls and displays the results is shown here:", "The above simply calls a fetch to our API and updates the state of the download link which is the S3 bucket image URL.", "Finally just for the sake of completeness the next section which appears in the rendering of the page shows how the state variables connect to the forms:", "That\u2019s it! You can check how it looks by running:", "My local setup looks like this:", "As you can see we have the input forms as well as a section with the output results! Now this is all running locally the final step is to deploy this to Heroku.", "There are a few last steps to get everything ready to go for deployment. We will need to set up a Procfile for our server and do a build of the React code so our flask server can just send over the result.", "All you have to do is make a new file called Procfile and fill the content with:", "Another simple step, once you are in the /client/ directory you can run:", "This will generate a new directory called /client/build/ which is where our Flask server is pointing to on the root route.", "NB: The build step can take some time depending on how big your application is", "Finally we can add all of the files to our git repository as follows:", "Now this will also take a lot of time so go get a coffee. Once the push is complete you will see Heroku automatically detect that you are pushing in a Flask application and it will do all installations of packages and servers for your! This is crazy if you have ever tried to do it yourself!", "After all of that hard work we can see what we have created and can share it with the masses. Check out this video of what it looks like in action!", "Finally here is the link where you can try it yourself!", "If you have questions or need someone to consult on your project please send me a message at kyleanthonypastor@gmail.com and if you are on instagram please follow me @datastuffplus.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Analytics | Full Stack | Data Science | MS Physics + MS Quant Finance \u2192 http://kapastor.github.io/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F2a308272886a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freactjs-python-flask-on-heroku-2a308272886a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freactjs-python-flask-on-heroku-2a308272886a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freactjs-python-flask-on-heroku-2a308272886a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freactjs-python-flask-on-heroku-2a308272886a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----2a308272886a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2a308272886a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://kapastor.medium.com/?source=post_page-----2a308272886a--------------------------------", "anchor_text": ""}, {"url": "https://kapastor.medium.com/?source=post_page-----2a308272886a--------------------------------", "anchor_text": "Kyle Pastor"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff30c680c570b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freactjs-python-flask-on-heroku-2a308272886a&user=Kyle+Pastor&userId=f30c680c570b&source=post_page-f30c680c570b----2a308272886a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2a308272886a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freactjs-python-flask-on-heroku-2a308272886a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2a308272886a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freactjs-python-flask-on-heroku-2a308272886a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@markusspiske?utm_source=medium&utm_medium=referral", "anchor_text": "Markus Spiske"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "http://www.heroku.com", "anchor_text": "www.heroku.com"}, {"url": "https://devcenter.heroku.com/articles/heroku-cli", "anchor_text": "The Heroku CLIThe Heroku Command Line Interface (CLI) makes it easy to create and manage your Heroku apps directly from the terminal\u2026devcenter.heroku.com"}, {"url": "http://twitter.com/app", "anchor_text": "@app"}, {"url": "http://twitter.com/cross_origin", "anchor_text": "@cross_origin"}, {"url": "http://twitter.com/app", "anchor_text": "@app"}, {"url": "http://twitter.com/cross_origin", "anchor_text": "@cross_origin"}, {"url": "http://twitter.com/app", "anchor_text": "@app"}, {"url": "http://twitter.com/app", "anchor_text": "@app"}, {"url": "http://twitter.com/app", "anchor_text": "@app"}, {"url": "http://twitter.com/app", "anchor_text": "@app"}, {"url": "https://'+bucket+'.s3.ca-central-1.amazonaws.com/test.png'", "anchor_text": "https://'+bucket+'.s3.ca-central-1.amazonaws.com/test.png'"}, {"url": "https://coreui.io/react/", "anchor_text": "Free React.js Admin Template \u00b7 CoreUITime is our most valuable asset, that's why we want to help you save it by creating simple, customizable, easy to learn\u2026coreui.io"}, {"url": "http://justpie.herokuapp.com/api/v1/'", "anchor_text": "http://datastuffplus.herokuapp.com/api/justpie/'"}, {"url": "http://labs.datastuff.plus", "anchor_text": "http://labs.datastuff.plus"}, {"url": "https://medium.com/tag/python?source=post_page-----2a308272886a---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/programming?source=post_page-----2a308272886a---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/flask?source=post_page-----2a308272886a---------------flask-----------------", "anchor_text": "Flask"}, {"url": "https://medium.com/tag/reactjs?source=post_page-----2a308272886a---------------reactjs-----------------", "anchor_text": "Reactjs"}, {"url": "https://medium.com/tag/heroku?source=post_page-----2a308272886a---------------heroku-----------------", "anchor_text": "Heroku"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2a308272886a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freactjs-python-flask-on-heroku-2a308272886a&user=Kyle+Pastor&userId=f30c680c570b&source=-----2a308272886a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2a308272886a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freactjs-python-flask-on-heroku-2a308272886a&user=Kyle+Pastor&userId=f30c680c570b&source=-----2a308272886a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2a308272886a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freactjs-python-flask-on-heroku-2a308272886a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2a308272886a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F2a308272886a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freactjs-python-flask-on-heroku-2a308272886a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----2a308272886a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----2a308272886a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----2a308272886a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----2a308272886a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----2a308272886a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----2a308272886a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----2a308272886a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----2a308272886a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----2a308272886a--------------------------------", "anchor_text": ""}, {"url": "https://kapastor.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://kapastor.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kyle Pastor"}, {"url": "https://kapastor.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "245 Followers"}, {"url": "http://kapastor.github.io/", "anchor_text": "http://kapastor.github.io/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff30c680c570b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freactjs-python-flask-on-heroku-2a308272886a&user=Kyle+Pastor&userId=f30c680c570b&source=post_page-f30c680c570b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb174339fe204&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Freactjs-python-flask-on-heroku-2a308272886a&newsletterV3=f30c680c570b&newsletterV3Id=b174339fe204&user=Kyle+Pastor&userId=f30c680c570b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}