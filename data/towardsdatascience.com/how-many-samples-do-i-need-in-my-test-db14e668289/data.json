{"url": "https://towardsdatascience.com/how-many-samples-do-i-need-in-my-test-db14e668289", "time": 1683000816.861373, "path": "towardsdatascience.com/how-many-samples-do-i-need-in-my-test-db14e668289/", "webpage": {"metadata": {"title": "How Many Samples Do I Need in My Test? | by Marguerite Siboni | Towards Data Science", "h1": "How Many Samples Do I Need in My Test?", "description": "As I have been familiarizing myself with the ins and outs of hypothesis testing, I failed to find a straightforward answer to what I thought would be a simple question: how large of a test size do\u2026"}, "outgoing_paragraph_urls": [{"url": "https://en.wikipedia.org/wiki/Buridan%27s_ass", "anchor_text": "Burdian\u2019s ass", "paragraph_index": 4}, {"url": "https://www.ztable.net", "anchor_text": "tables available online", "paragraph_index": 19}], "all_paragraphs": ["As I have been familiarizing myself with the ins and outs of hypothesis testing, I failed to find a straightforward answer to what I thought would be a simple question: how large of a test size do you need when implementing A/B testing?", "There are a number of reasons why this seemingly simple question can be difficult to answer.", "For the majority of tests, people are *hoping* to prove the alternative hypothesis rather than the null hypothesis (ie. people want to find that the treatment they apply has an effect of some kind).", "If the alternative hypothesis is true but the test size is too small, you may incorrectly believe you can\u2019t disprove the null hypothesis. With the agenda of disproving the null hypothesis, it makes sense to keep increasing the sample size until the groups appear statistically different. However, if treatment A and B are not statistically different, you could increase the sample size forever and it would not change the result. Any sample size will tell you the null hypothesis can not be disproven.", "Consider for a moment the paradox Burdian\u2019s ass in which a donkey is placed between food and water when the donkey is equally hungry and thirsty. In this controversial paradox, the donkey dies of hunger and thirst because it is unable to decide whether to eat or drink.", "If we suspend any issues with this paradox and view it as a test between the desirability of hay (A) or water (B), we have a sample size of one (our donkey) and our null hypothesis is true (there is no difference in desirability of hay or water to a donkey who is equally hungry and thirsty).", "In this scenario, it would not matter how many more donkeys we added (how large our sample size was) \u2014 so long as the donkeys are equally hungry and thirsty, the rate of either being selected would show us that water and hay are equally desirable. Even if the sample size got so large that we accidentally got a few donkeys that made a choice, this occurrence would be rare enough and random enough that we would still find the null hypothesis to be true.", "There is a need to know results before the test is implemented", "Assuming that the alternative hypothesis is true, the minimum sample size to prove the null hypothesis false depends on a number of factors, many of which you won\u2019t know until you\u2019ve tested.", "The first is the expected difference in success rate between the two groups. For example, if you have button A that performs 100% better than button B, it will be clear with a smaller sample size that the difference between the buttons is based on the button performance and not random chance. In contrast, if you have button A that performs 5% better than button B, it will take a much larger sample size to be confident in the difference between the buttons that does exist.", "The rate of success also controls how many samples need to be tested. For example, if you are measuring the rate of people clicking on a link, your sample size is the number of people you show the link to. The more people who click that link, the more usable results you\u2019ll have from your test.", "If your metric for success in a test is instead something that a smaller percent of people are likely to do \u2014 for example, make a purchase \u2014 you\u2019ll need a larger sample size to get the same number of results.", "Success rates close to 0 or 100% increase the sample size you will need to get a statistically significant result, because they give you a smaller proportion of successes (or failures) from your test set to work with.", "Per the above issues, this question can only really be answered under the assumption that the alternative hypothesis is true. Making this assumption at the start of a test is counter to the idea of hypothesis testing. However, for the purpose of setting a number, let\u2019s first assume the alternative hypothesis is true (treatment A performs differently from treatment B).", "To set a minimum test size, you\u2019ll need estimates for the following:", "Finally, you will need to know either your p-value or the confidence interval you will want to have in the result.", "Let\u2019s create a hypothetical A/B test to calculate the minimum sample test size that would give us the desired confidence interval in the difference between the two samples.", "In this test, we are sending mailers to individual hoping they go to a website. Treatment A is a blue envelope; treatment B is a green envelope. In this test, we will also be sending the same number of green envelopes and of blue envelopes.", "Given the expected success rate of 2% and the expected difference in performance of 15%, then the better performing envelope (let\u2019s say blue) has a 2.14% success rate (Pa) and the green envelope has a 1.86% success rate (Pb). Pa and Pb are solved by the following equations:", "To achieve a 95% confidence interval, you will need a z-score of at least 1.96. Calculating a z-score given a confidence interval requires complex math to find the area under a normal curve for a portion of the curve. Fortunately, there are tables available online to tell you the z-score needed.", "For this test set up, the z score can be calculated as follows:", "where n is the total number of envelopes sent out. This is the test size we are trying to solve for. We can then fill in the values that we know from the assumptions we\u2019ve made (Pa, Pb, and Pavg):", "We can now solve for n and find that we would need to send a minimum of 9,604 total mailers (or 4,802 mailers of each color).", "If the percent difference between the envelope color\u2019s performance went up or if the average percent of success went up, the number of mailers needed would go down. If the desired confidence in results went down, the number of mailers needed would also go down.", "The unfortunate reality is that to know the required test size in advance, you need a lot of information that you simply can\u2019t know. Fortunately, if you are running tests comparing things like button clicks or landing pages, you can fill in the average success rate and percent difference early on to estimate how many more people you\u2019ll need to show your test to in order to be confident in your results.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Mechanical Engineer writing about the things I stumble upon that fascinate me, whether they be topology, pet care or signage. I like data, tv, &sustainability."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fdb14e668289&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-many-samples-do-i-need-in-my-test-db14e668289&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-many-samples-do-i-need-in-my-test-db14e668289&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-many-samples-do-i-need-in-my-test-db14e668289&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-many-samples-do-i-need-in-my-test-db14e668289&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----db14e668289--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----db14e668289--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@margueritesiboni?source=post_page-----db14e668289--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@margueritesiboni?source=post_page-----db14e668289--------------------------------", "anchor_text": "Marguerite Siboni"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa360b2359e97&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-many-samples-do-i-need-in-my-test-db14e668289&user=Marguerite+Siboni&userId=a360b2359e97&source=post_page-a360b2359e97----db14e668289---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdb14e668289&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-many-samples-do-i-need-in-my-test-db14e668289&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdb14e668289&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-many-samples-do-i-need-in-my-test-db14e668289&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://en.wikipedia.org/wiki/Buridan%27s_ass", "anchor_text": "Burdian\u2019s ass"}, {"url": "https://www.ztable.net", "anchor_text": "tables available online"}, {"url": "https://medium.com/tag/product-management?source=post_page-----db14e668289---------------product_management-----------------", "anchor_text": "Product Management"}, {"url": "https://medium.com/tag/data-science?source=post_page-----db14e668289---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/hypothesis-testing?source=post_page-----db14e668289---------------hypothesis_testing-----------------", "anchor_text": "Hypothesis Testing"}, {"url": "https://medium.com/tag/mathematics?source=post_page-----db14e668289---------------mathematics-----------------", "anchor_text": "Mathematics"}, {"url": "https://medium.com/tag/statistics?source=post_page-----db14e668289---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdb14e668289&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-many-samples-do-i-need-in-my-test-db14e668289&user=Marguerite+Siboni&userId=a360b2359e97&source=-----db14e668289---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdb14e668289&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-many-samples-do-i-need-in-my-test-db14e668289&user=Marguerite+Siboni&userId=a360b2359e97&source=-----db14e668289---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdb14e668289&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-many-samples-do-i-need-in-my-test-db14e668289&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----db14e668289--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fdb14e668289&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-many-samples-do-i-need-in-my-test-db14e668289&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----db14e668289---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----db14e668289--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----db14e668289--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----db14e668289--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----db14e668289--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----db14e668289--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----db14e668289--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----db14e668289--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----db14e668289--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@margueritesiboni?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@margueritesiboni?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Marguerite Siboni"}, {"url": "https://medium.com/@margueritesiboni/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "401 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa360b2359e97&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-many-samples-do-i-need-in-my-test-db14e668289&user=Marguerite+Siboni&userId=a360b2359e97&source=post_page-a360b2359e97--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F129e2c1eadfd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-many-samples-do-i-need-in-my-test-db14e668289&newsletterV3=a360b2359e97&newsletterV3Id=129e2c1eadfd&user=Marguerite+Siboni&userId=a360b2359e97&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}