{"url": "https://towardsdatascience.com/song-lyrics-genius-api-dcc2819c29", "time": 1683011170.9108229, "path": "towardsdatascience.com/song-lyrics-genius-api-dcc2819c29/", "webpage": {"metadata": {"title": "How to Collect Song Lyrics with Python | by emakpati | Towards Data Science", "h1": "How to Collect Song Lyrics with Python", "description": "Building datasets for language model training and fine-tuning can be very tedious. I learned this the hard way while trying to gather a conversational text dataset and a niche song lyrics dataset\u2026"}, "outgoing_paragraph_urls": [{"url": "https://openai.com/blog/better-language-models/", "anchor_text": "GPT-2", "paragraph_index": 0}, {"url": "https://genius.com/Genius-about-genius-annotated", "anchor_text": "Genius", "paragraph_index": 0}, {"url": "https://docs.genius.com", "anchor_text": "API", "paragraph_index": 0}, {"url": "https://github.com/johnwmillr/LyricsGenius", "anchor_text": "lyricsgenius", "paragraph_index": 0}, {"url": "https://github.com/johnwmillr", "anchor_text": "John Miller", "paragraph_index": 0}, {"url": "https://pypi.org/project/lyricsgenius/", "anchor_text": "PyPI", "paragraph_index": 4}, {"url": "https://github.com/johnwmillr/LyricsGenius", "anchor_text": "Github", "paragraph_index": 4}, {"url": "https://www.crummy.com/software/BeautifulSoup/bs4/doc/", "anchor_text": "bs4", "paragraph_index": 11}, {"url": "https://en.wikipedia.org/wiki/Lists_of_musicians", "anchor_text": "Wikipedia provides several lists", "paragraph_index": 11}], "all_paragraphs": ["Building datasets for language model training and fine-tuning can be very tedious. I learned this the hard way while trying to gather a conversational text dataset and a niche song lyrics dataset, both for training a single GPT-2 model. Only after several hours of semi-automated scraping and manual cleaning did I come across Genius and its API. It really was a godsend. Not only is it easy to get set up with and use the API, but it also boasts a plethora of artists that aren\u2019t necessarily household names. This makes it a great option for creating datasets of both mainstream and niche song lyrics. The process is rendered even more effortless when stacked with lyricsgenius, a package created by John Miller that significantly simplifies the task of filtering data retrieved by the Genius API.", "This writeup will revolve around the use-case of constructing a training dataset for a generative language model, like GPT. To be clear, this will not include steps to actually build a model. We\u2019ll walk through the process of setting up the API client and then writing a function to fetch song lyrics of k songs and save the lyrics to a .txt file.", "5. Once on the API Clients page click Create an API Client (on Safari) or New API Client (on Chrome) to create your app. In this context, the term \u201capp\u201d refers to usage of the Genius API. Only the App Name and App Website URL fields in the screenshot below are necessary to progress. The app name will chiefly be used by us to identify this individual client (you can create several API clients). I typically default to using my Github for most website requirements but any site should be fine for the URL field.", "6. Clicking Save will take you to the credentials page which should look like the screenshot below. If you\u2019ve created multiple API clients, they\u2019ll all show up here. We\u2019ll come back to this page later for the client access token. Congrats, you\u2019ve completed the signup process!", "Lyricsgenius can be installed from PyPI using pip install lyricsgenius or from Github using pip install git+https://github.com/johnwmillr/LyricsGenius.git.", "We\u2019ll first start by importing lyricsgenius.", "We also need to create a variable for the path to the file we want to write the song lyrics to. In this exmaple my .txt file is named auto_.txt.", "It\u2019s finally time to use our API client credentials. Navigate back your API Clients page and click Generate Access Token.", "This token will be passed to lyricsgenius.Genius() along with the parameters we want to use to filter the text data. In terms of filtering, we\u2019ll ignore lyrics that aren\u2019t from official songs and disregard live performances and remixes. It\u2019s also a good idea to set remove_section_headers to True assuming we want our dataset to focus solely on spoken song lyrics and to exclude song metadata.", "Lastly, let\u2019s write a function called get_lyrics() that takes a list of artist names and k number of songs we want to grab for each artist as parameters. The function will print the name of each song collected and the total number of songs successfully grabbed for each artist and then write the lyrics to our .txt file.", "A clear area for improvement is our process\u2019s dependence on a collection of artist names being passed to lyricsgenius.Genius.search_artist(). Manually creating a list of artist names is definitely not scalable. We only used three artists in our example, but to build a large enough dataset to fine-tune a production-caliber model we\u2019d ideally want dozens of artists and a much higher k variable.", "The solution automates the task of creating the list of artists; one way being to scrape the names from one of two sources using bs4. Wikipedia provides several lists of musicians based on music genre and may be a great, singular source to grab these artist names from.", "A process that was once difficult and complex is now frictionless and streamlined thanks to the work of the Genius team and John Miller.", "Here\u2019s all the code I used above to connect to the API and write song lyrics to the .txt file.", "Thanks a bunch for allowing me to share, more to come. \ud83d\ude03", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data and things that stand out"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fdcc2819c29&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsong-lyrics-genius-api-dcc2819c29&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsong-lyrics-genius-api-dcc2819c29&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsong-lyrics-genius-api-dcc2819c29&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsong-lyrics-genius-api-dcc2819c29&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----dcc2819c29--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----dcc2819c29--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://emakpati.medium.com/?source=post_page-----dcc2819c29--------------------------------", "anchor_text": ""}, {"url": "https://emakpati.medium.com/?source=post_page-----dcc2819c29--------------------------------", "anchor_text": "emakpati"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F29ff62f2d2b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsong-lyrics-genius-api-dcc2819c29&user=emakpati&userId=29ff62f2d2b0&source=post_page-29ff62f2d2b0----dcc2819c29---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdcc2819c29&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsong-lyrics-genius-api-dcc2819c29&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdcc2819c29&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsong-lyrics-genius-api-dcc2819c29&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@beeford?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Brandon Erlinger-Ford"}, {"url": "https://unsplash.com/s/photos/music-artists?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://openai.com/blog/better-language-models/", "anchor_text": "GPT-2"}, {"url": "https://genius.com/Genius-about-genius-annotated", "anchor_text": "Genius"}, {"url": "https://docs.genius.com", "anchor_text": "API"}, {"url": "https://github.com/johnwmillr/LyricsGenius", "anchor_text": "lyricsgenius"}, {"url": "https://github.com/johnwmillr", "anchor_text": "John Miller"}, {"url": "https://docs.genius.com/", "anchor_text": "API documentation page"}, {"url": "https://genius.com/static/terms", "anchor_text": "API Terms of Service"}, {"url": "https://genius.com/signup_or_login", "anchor_text": "Sign-up/Log-in page"}, {"url": "https://github.com/johnwmillr/LyricsGenius", "anchor_text": "https://github.com/johnwmillr/LyricsGenius"}, {"url": "https://pypi.org/project/lyricsgenius/", "anchor_text": "PyPI"}, {"url": "https://github.com/johnwmillr/LyricsGenius", "anchor_text": "Github"}, {"url": "https://git.scc.kit.edu/debatelab/gpt-2/commit/1e32b10ac456cb70331ccd3dff83437a7e33836d", "anchor_text": "separators can be very useful when building datasets for some language models"}, {"url": "https://www.crummy.com/software/BeautifulSoup/bs4/doc/", "anchor_text": "bs4"}, {"url": "https://en.wikipedia.org/wiki/Lists_of_musicians", "anchor_text": "Wikipedia provides several lists"}, {"url": "https://medium.com/tag/dataset?source=post_page-----dcc2819c29---------------dataset-----------------", "anchor_text": "Dataset"}, {"url": "https://medium.com/tag/genius?source=post_page-----dcc2819c29---------------genius-----------------", "anchor_text": "Genius"}, {"url": "https://medium.com/tag/gpt-2?source=post_page-----dcc2819c29---------------gpt_2-----------------", "anchor_text": "Gpt 2"}, {"url": "https://medium.com/tag/music?source=post_page-----dcc2819c29---------------music-----------------", "anchor_text": "Music"}, {"url": "https://medium.com/tag/song-lyrics?source=post_page-----dcc2819c29---------------song_lyrics-----------------", "anchor_text": "Song Lyrics"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdcc2819c29&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsong-lyrics-genius-api-dcc2819c29&user=emakpati&userId=29ff62f2d2b0&source=-----dcc2819c29---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fdcc2819c29&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsong-lyrics-genius-api-dcc2819c29&user=emakpati&userId=29ff62f2d2b0&source=-----dcc2819c29---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fdcc2819c29&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsong-lyrics-genius-api-dcc2819c29&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----dcc2819c29--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fdcc2819c29&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsong-lyrics-genius-api-dcc2819c29&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----dcc2819c29---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----dcc2819c29--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----dcc2819c29--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----dcc2819c29--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----dcc2819c29--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----dcc2819c29--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----dcc2819c29--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----dcc2819c29--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----dcc2819c29--------------------------------", "anchor_text": ""}, {"url": "https://emakpati.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://emakpati.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "emakpati"}, {"url": "https://emakpati.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "32 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F29ff62f2d2b0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsong-lyrics-genius-api-dcc2819c29&user=emakpati&userId=29ff62f2d2b0&source=post_page-29ff62f2d2b0--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fcd34fa355e20&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fsong-lyrics-genius-api-dcc2819c29&newsletterV3=29ff62f2d2b0&newsletterV3Id=cd34fa355e20&user=emakpati&userId=29ff62f2d2b0&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}