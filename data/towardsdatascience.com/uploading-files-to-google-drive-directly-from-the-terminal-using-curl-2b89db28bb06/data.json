{"url": "https://towardsdatascience.com/uploading-files-to-google-drive-directly-from-the-terminal-using-curl-2b89db28bb06", "time": 1683013841.977231, "path": "towardsdatascience.com/uploading-files-to-google-drive-directly-from-the-terminal-using-curl-2b89db28bb06/", "webpage": {"metadata": {"title": "Uploading files to Google Drive directly from the Terminal (using Curl) | by Daniel Ellis Research | Towards Data Science", "h1": "Uploading files to Google Drive directly from the Terminal (using Curl)", "description": "In many cases, it may be difficult to send data from a new machine to another. Examples of this include HPC facilities which are hidden behind a login portal but do not allow ssh tunnelling or simple\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.google.com/device", "anchor_text": "https://www.google.com/device", "paragraph_index": 10}, {"url": "https://developers.google.com/drive/api/v3/manage-uploads", "anchor_text": "https://developers.google.com/drive/api/v3/manage-uploads", "paragraph_index": 16}, {"url": "https://stackoverflow.com/users/7108653/tanaike", "anchor_text": "Tanaike", "paragraph_index": 22}, {"url": "https://stackoverflow.com/users/7362099/haks", "anchor_text": "HAKS", "paragraph_index": 22}], "all_paragraphs": ["In many cases, it may be difficult to send data from a new machine to another. Examples of this include HPC facilities which are hidden behind a login portal but do not allow ssh tunnelling or simple headless machines which only have a few core programs installed. In this article, we look at using cURL (a command-line program for transferring data) to push a zipped file (containing log files) onto our google drive account for further analysis.", "Most machines will come with cURL installed (try typing which curl). If this is not the case we can install it with", "Now we have it installed, we can look at creating the credentials needed to send files.", "As we are allowing access to our google drive, we want to be able to manage this. This is done by creating a project with user-defined permissions to act as the proxy between our users (in this case us on a different machine) and our account. We start by going to the following page (link below) and creating a new project.", "After this has been done we select the Credentials tab (on the left) and \u201ccreate credentials\u201d from the top.", "When asked for the app type, we select TV and other.", "Finally, this generates a client id and a client seacret .", "This is your username and password so copy it somewhere secure.", "To do this we ssh into the machine we wish to upload from and run the following command:", "Doing so we get a response in the following format", "Here we need to visit the URL (https://www.google.com/device) and provide the user code to complete our verification. We now continue to select our google account and grant the relevant permissions. When doing this make sure to note down the device code for the next step.", "When we start uploading, this is the code we shall need to use to identify our account. We get it by using the following:", "The client id and secret are saved from the first step, and the device code in the previous section. The output should be in the format:", "Write down the access_token as it will be needed in the upload stage.", "The command we use to upload files is given below", "Here you may need to enable the app API before being allowed to upload data. The link to do this is given in the error message if this is the case.", "Here multipart files are expected to only be a couple of MB in size. However if you are looking at moving larger files resumable may be better suited (see https://developers.google.com/drive/api/v3/manage-uploads )", "Now we know our commands work we can create an executable script to do all the work for us. Here we can provide a group of files, it zips them up and then sends them to google drive.", "We start by creating a new file with nano curlgoogle; and enter the following code \u2014 remember to add your own personal auth token! Python 2.7 has been chosen as this is still the default python version on older systems, however the script below should also run for python 3.", "It should require no new dependencies provided curl already exists on the system.", "We then make it executable chmod a+x curlgoogle allowing us to use it in an executable manner:", "And there we have it, an easy way to send multiple log files from a headless machine to a google drive repository, which can be accessed by multiple people for analysis.", "If you are in need of more information, stack overflow answers by Tanaike and HAKS (amongst others) were particularly helpful in creating this post.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Research Software Engineer specialising in High-Performance Computing and Data Visualisation. \u2014 PhD in Atmospheric Chemistry and Masters in Theoretical Physics."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F2b89db28bb06&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuploading-files-to-google-drive-directly-from-the-terminal-using-curl-2b89db28bb06&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuploading-files-to-google-drive-directly-from-the-terminal-using-curl-2b89db28bb06&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuploading-files-to-google-drive-directly-from-the-terminal-using-curl-2b89db28bb06&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuploading-files-to-google-drive-directly-from-the-terminal-using-curl-2b89db28bb06&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----2b89db28bb06--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2b89db28bb06--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://daniel-ellis.medium.com/?source=post_page-----2b89db28bb06--------------------------------", "anchor_text": ""}, {"url": "https://daniel-ellis.medium.com/?source=post_page-----2b89db28bb06--------------------------------", "anchor_text": "Daniel Ellis Research"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5e126beaa2dc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuploading-files-to-google-drive-directly-from-the-terminal-using-curl-2b89db28bb06&user=Daniel+Ellis+Research&userId=5e126beaa2dc&source=post_page-5e126beaa2dc----2b89db28bb06---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2b89db28bb06&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuploading-files-to-google-drive-directly-from-the-terminal-using-curl-2b89db28bb06&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2b89db28bb06&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuploading-files-to-google-drive-directly-from-the-terminal-using-curl-2b89db28bb06&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@element5digital?utm_source=medium&utm_medium=referral", "anchor_text": "Element5 Digital"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://console.developers.google.com/apis/credentials?pli=1", "anchor_text": "Google Cloud PlatformGoogle Cloud Platform lets you build, deploy, and scale applications, websites, and services on the same infrastructure\u2026console.developers.google.com"}, {"url": "https://www.google.com/device", "anchor_text": "https://www.google.com/device"}, {"url": "https://developers.google.com/drive/api/v3/manage-uploads", "anchor_text": "https://developers.google.com/drive/api/v3/manage-uploads"}, {"url": "https://www.googleapis.com/auth/drive.file", "anchor_text": "https://www.googleapis.com/auth/drive.file"}, {"url": "https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart", "anchor_text": "https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart"}, {"url": "https://stackoverflow.com/users/7108653/tanaike", "anchor_text": "Tanaike"}, {"url": "https://stackoverflow.com/users/7362099/haks", "anchor_text": "HAKS"}, {"url": "https://medium.com/tag/curl?source=post_page-----2b89db28bb06---------------curl-----------------", "anchor_text": "Curl"}, {"url": "https://medium.com/tag/google-drive?source=post_page-----2b89db28bb06---------------google_drive-----------------", "anchor_text": "Google Drive"}, {"url": "https://medium.com/tag/terminal?source=post_page-----2b89db28bb06---------------terminal-----------------", "anchor_text": "Terminal"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----2b89db28bb06---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----2b89db28bb06---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2b89db28bb06&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuploading-files-to-google-drive-directly-from-the-terminal-using-curl-2b89db28bb06&user=Daniel+Ellis+Research&userId=5e126beaa2dc&source=-----2b89db28bb06---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2b89db28bb06&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuploading-files-to-google-drive-directly-from-the-terminal-using-curl-2b89db28bb06&user=Daniel+Ellis+Research&userId=5e126beaa2dc&source=-----2b89db28bb06---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2b89db28bb06&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuploading-files-to-google-drive-directly-from-the-terminal-using-curl-2b89db28bb06&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----2b89db28bb06--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F2b89db28bb06&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuploading-files-to-google-drive-directly-from-the-terminal-using-curl-2b89db28bb06&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----2b89db28bb06---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----2b89db28bb06--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----2b89db28bb06--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----2b89db28bb06--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----2b89db28bb06--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----2b89db28bb06--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----2b89db28bb06--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----2b89db28bb06--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----2b89db28bb06--------------------------------", "anchor_text": ""}, {"url": "https://daniel-ellis.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://daniel-ellis.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Daniel Ellis Research"}, {"url": "https://daniel-ellis.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "335 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F5e126beaa2dc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuploading-files-to-google-drive-directly-from-the-terminal-using-curl-2b89db28bb06&user=Daniel+Ellis+Research&userId=5e126beaa2dc&source=post_page-5e126beaa2dc--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F96febf952620&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fuploading-files-to-google-drive-directly-from-the-terminal-using-curl-2b89db28bb06&newsletterV3=5e126beaa2dc&newsletterV3Id=96febf952620&user=Daniel+Ellis+Research&userId=5e126beaa2dc&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}