{"url": "https://towardsdatascience.com/how-i-built-a-corona-stats-twitter-bot-4f0dc90cf96e", "time": 1683007727.2259042, "path": "towardsdatascience.com/how-i-built-a-corona-stats-twitter-bot-4f0dc90cf96e/", "webpage": {"metadata": {"title": "How I built a corona stats Twitter bot | by Carsten Sandtner | Towards Data Science", "h1": "How I built a corona stats Twitter bot", "description": "Note from the editors: Towards Data Science is a Medium publication primarily based on the study of data science and machine learning. We are not health professionals or epidemiologists, and the\u2026"}, "outgoing_paragraph_urls": [{"url": "http://towardsdatascience.com", "anchor_text": "Towards Data Science", "paragraph_index": 0}, {"url": "https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports", "anchor_text": "here", "paragraph_index": 0}, {"url": "https://www.jhu.edu/", "anchor_text": "Johns Hopkins University", "paragraph_index": 1}, {"url": "https://github.com/CSSEGISandData/COVID-19/", "anchor_text": "free at GitHub", "paragraph_index": 1}, {"url": "https://github.com/casarock/covid-twitter-bot", "anchor_text": "The whole code is at my GitHub", "paragraph_index": 1}, {"url": "https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv", "anchor_text": "JHU has a dataset", "paragraph_index": 3}, {"url": "http://www.tweepy.org/", "anchor_text": "Tweepy", "paragraph_index": 10}, {"url": "https://developer.twitter.com/en/apps", "anchor_text": "Twitter Developer Portal", "paragraph_index": 10}], "all_paragraphs": ["Note from the editors: Towards Data Science is a Medium publication primarily based on the study of data science and machine learning. We are not health professionals or epidemiologists, and the opinions of this article should not be interpreted as professional advice. To learn more about the coronavirus pandemic, you can click here.", "At the beginning of March 2020 the COVID-19 pandemic got traction in Germany. Every major news page and newspaper published graphs and statistics about new infections and facts. Most had one thing in common: They took their data from Johns Hopkins University as they published a dataset for free at GitHub. I was playing around with Python and Pandas, and I was in search for a nice project. This was the moment I decided to create a Twitter bot which gets all data from JHU. I\u2019m cleaning the data, create a plot and send a tweet. This article describes, how I use and clean the dataset and how to publish tweets in less than 150 lines of code. The whole code is at my GitHub.", "Before we create a bot with statistics, we need some data. This was my plan:", "Luckily, JHU has a dataset which provides everything for my needs. I\u2019ve created a little helper module to do the cleaning and plotting. The main methods are `get_clean_data` and `plot_diagram`. Let\u2019s dive into data cleaning.", "First step is reading a CSV into a Pandas data frame and dropping unused columns. Pandas can read a CSV from a given URL. As JHU provides a daily updated CSV with time series data I don\u2019t have to worry about getting the latest CSV. Some countries are drilled down into their states in this dataset. To get all aggregated numbers for one country, I have to group by `Country/Region`. Right after grouping I get the data frame for Germany and sum it up. I\u2019m doing the same for overall numbers by getting the sum at the ungrouped data. Now I\u2019ve got two new data frames with numbers from Germany and worldwide. The final step is dropping unused columns and adding a calculated value for infections relating the population. The corresponding method is self explaining.", "That\u2019s all for cleaning. Now let\u2019s add some more interesting facts which I use in my Twitter bot.", "To retrieve the amount of actual infected humans I\u2019ve written a function which returns the data.", "And I\u2019ve added a method to get the growth compared to the week before", "As I want to add an image for every tweet, I\u2019m plotting a simple line diagram with Matplotlib and save it as PNG. I\u2019ve written a little method to plot my diagram.", "The method takes necessary parameters and saves an image. For my diagram of infections relating population, I\u2019ve added a convenience method to used in my bot.", "I use Tweepy to talk to the Twitter API. Tweepy is easy to understand and with about ten lines of code you are able to post Tweets. To be able to tweet you have to register an app to get an API Key at the Twitter Developer Portal. Once you\u2019ve got your key and secret, Tweepy is ready to be used.", "The bot itself is a simple Python script", "The code manageable. I\u2019m instantiating my helper module with the URL for the CSV, get the data, the plot and compose a string with my Tweet text. Final step is initiating Tweepy, and fire up a tweet with the given text.", "I\u2019m running my bot at home on a Raspberry Pi. The bot-script is being executed by a cron job every morning. The bot runs since March, 11th without any failures so far.", "As you can see, writing a simple Twitter bot is easy. I recommend creating little projects if you want to get into a topic. For me, it was interesting to use Pandas for cleaning and using the data in a project and publish my insights in a daily basis on my twitter account.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Tech, Travel, and Life. Apple addict who loves travelling with his camper van and writing about mentioned topics."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4f0dc90cf96e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-built-a-corona-stats-twitter-bot-4f0dc90cf96e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-built-a-corona-stats-twitter-bot-4f0dc90cf96e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-built-a-corona-stats-twitter-bot-4f0dc90cf96e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-built-a-corona-stats-twitter-bot-4f0dc90cf96e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4f0dc90cf96e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4f0dc90cf96e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://casarock.medium.com/?source=post_page-----4f0dc90cf96e--------------------------------", "anchor_text": ""}, {"url": "https://casarock.medium.com/?source=post_page-----4f0dc90cf96e--------------------------------", "anchor_text": "Carsten Sandtner"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff89d2d9f56d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-built-a-corona-stats-twitter-bot-4f0dc90cf96e&user=Carsten+Sandtner&userId=f89d2d9f56d6&source=post_page-f89d2d9f56d6----4f0dc90cf96e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4f0dc90cf96e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-built-a-corona-stats-twitter-bot-4f0dc90cf96e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4f0dc90cf96e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-built-a-corona-stats-twitter-bot-4f0dc90cf96e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@thedotter?utm_source=medium&utm_medium=referral", "anchor_text": "Dimitri Karastelev"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "http://towardsdatascience.com", "anchor_text": "Towards Data Science"}, {"url": "https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports", "anchor_text": "here"}, {"url": "https://www.jhu.edu/", "anchor_text": "Johns Hopkins University"}, {"url": "https://github.com/CSSEGISandData/COVID-19/", "anchor_text": "free at GitHub"}, {"url": "https://github.com/casarock/covid-twitter-bot", "anchor_text": "The whole code is at my GitHub"}, {"url": "https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv", "anchor_text": "JHU has a dataset"}, {"url": "http://www.tweepy.org/", "anchor_text": "Tweepy"}, {"url": "https://developer.twitter.com/en/apps", "anchor_text": "Twitter Developer Portal"}, {"url": "https://medium.com/tag/corona?source=post_page-----4f0dc90cf96e---------------corona-----------------", "anchor_text": "Corona"}, {"url": "https://medium.com/tag/covid-19?source=post_page-----4f0dc90cf96e---------------covid_19-----------------", "anchor_text": "Covid-19"}, {"url": "https://medium.com/tag/python?source=post_page-----4f0dc90cf96e---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/pandas?source=post_page-----4f0dc90cf96e---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/twitter?source=post_page-----4f0dc90cf96e---------------twitter-----------------", "anchor_text": "Twitter"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4f0dc90cf96e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-built-a-corona-stats-twitter-bot-4f0dc90cf96e&user=Carsten+Sandtner&userId=f89d2d9f56d6&source=-----4f0dc90cf96e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4f0dc90cf96e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-built-a-corona-stats-twitter-bot-4f0dc90cf96e&user=Carsten+Sandtner&userId=f89d2d9f56d6&source=-----4f0dc90cf96e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4f0dc90cf96e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-built-a-corona-stats-twitter-bot-4f0dc90cf96e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4f0dc90cf96e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4f0dc90cf96e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-built-a-corona-stats-twitter-bot-4f0dc90cf96e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4f0dc90cf96e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4f0dc90cf96e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4f0dc90cf96e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4f0dc90cf96e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4f0dc90cf96e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4f0dc90cf96e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4f0dc90cf96e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4f0dc90cf96e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4f0dc90cf96e--------------------------------", "anchor_text": ""}, {"url": "https://casarock.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://casarock.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Carsten Sandtner"}, {"url": "https://casarock.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "176 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff89d2d9f56d6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-built-a-corona-stats-twitter-bot-4f0dc90cf96e&user=Carsten+Sandtner&userId=f89d2d9f56d6&source=post_page-f89d2d9f56d6--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd04119b0fd2e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-i-built-a-corona-stats-twitter-bot-4f0dc90cf96e&newsletterV3=f89d2d9f56d6&newsletterV3Id=d04119b0fd2e&user=Carsten+Sandtner&userId=f89d2d9f56d6&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}