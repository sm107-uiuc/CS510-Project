{"url": "https://towardsdatascience.com/using-jupyter-notebook-running-on-a-remote-docker-container-via-ssh-ea2c3ebb9055", "time": 1682993243.201447, "path": "towardsdatascience.com/using-jupyter-notebook-running-on-a-remote-docker-container-via-ssh-ea2c3ebb9055/", "webpage": {"metadata": {"title": "Running Jupyter on a remote Docker container using SSH | by Lucas Rod\u00e9s-Guirao | Towards Data Science", "h1": "Running Jupyter on a remote Docker container using SSH", "description": "In my research I work with Machine Learning/Deep Learning algorithms, which I mostly develop using Python. As such, I find it useful to test different frameworks (such as Keras, PyTorch\u2026"}, "outgoing_paragraph_urls": [{"url": "https://github.com/ufoym/deepo", "anchor_text": "ufoym/deepo", "paragraph_index": 0}, {"url": "https://jupyter.org/", "anchor_text": "Jupyter", "paragraph_index": 1}, {"url": "https://docs.docker.com/install/linux/docker-ce/centos/", "anchor_text": "docker", "paragraph_index": 6}, {"url": "https://www.youtube.com/watch?v=YFl2mCHdv24", "anchor_text": "this", "paragraph_index": 6}, {"url": "https://blog.scottlowe.org/2014/03/11/a-quick-introduction-to-docker/", "anchor_text": "this", "paragraph_index": 6}, {"url": "https://github.com/NVIDIA/nvidia-docker/wiki/Frequently-Asked-Questions#how-do-i-install-the-nvidia-driver", "anchor_text": "NVIDIA driver", "paragraph_index": 7}, {"url": "https://github.com/NVIDIA/nvidia-docker", "anchor_text": "nvidia-docker", "paragraph_index": 7}, {"url": "https://www.docker.com/community-edition", "anchor_text": "docker-ce", "paragraph_index": 7}, {"url": "https://github.com/ufoym/deepo", "anchor_text": "ufoym/deepo", "paragraph_index": 10}, {"url": "https://github.com/jupyterlab/jupyterlab", "anchor_text": "jupyter lab", "paragraph_index": 14}], "all_paragraphs": ["In my research I work with Machine Learning/Deep Learning algorithms, which I mostly develop using Python. As such, I find it useful to test different frameworks (such as Keras, PyTorch, Tensorflow\u2026). This lead me to using Docker, and in particular ufoym/deepo image as it provides a very complete environment.", "I use a remote machine with GPUs, where I have Docker installed. When programming and testing some code snippets, I find it really helpful to use Jupyter. I had previously used Jupyter locally\u2026 but question here was how could I remotely use Jupyter running on a another machine. And on top of that, what if I was using a Docker container on my remote machine?", "In this tutorial I will try to share my experience in how I solved this puzzle and made it possible to locally use the Jupyter web-app running the code in a remote machine.", "Let me first illustrate my working environment set up.", "In my particular case, the machine I work on is the one labeled as GPU in the above picture, which happens to be only accessible from another machine within the server. Hence the double ssh\u2026 But in your case you might be able to connect directly to your GPU machine from the outer world.", "It sounds like messy, but bear with me, you just need to organise it once and for all.", "Make sure to have docker installed in your remote machine. If you are unfamiliar with Docker, please check some of the resources available (I found this and this to be helpful). If you are aiming for a GPU-support environment, check next.", "If your remote machine has GPUs you might want to exploit this fact. Make sure you have the NVIDIA driver installed. You also need to install nvidia-docker. Note that by installing nvidia-docker we automatically install the last stable release of docker-ce, hence you don\u2019t need to explicitly install docker before.", "Jupyter Notebook runs on a certain port on the machine. Hence, the basic idea would be to make that port reachable from your host machine. Luckily, ssh provides the -L option to specify port forwarding.", "Here the approach is exactly the same as before.", "This step is slightly different. First, you need to create a docker container using some docker image of your preference. In my case, as aforementioned, I am using ufoym/deepo. Since I want GPU-support, I will use nvidia-docker to create the container.", "Note the option -p , which tells the docker container to do port forwarding. This way, we can get access to apps running in the docker on a certain port from the outside world. Here, I also use <host port> = <remote port> = 9999.", "By the way, an extremely useful option when creating a container is -v, which allows you to access machine files from within the docker container.", "Well, once all the tunneling is set up, we can start our jupyter app. We will use 0.0.0.0 ip and the same port we used when creating the docker container instance. Also, in my case, I use the option --allow-root , as I am root in my container and Jupyter won\u2019t run unless I use this option.", "Oh, and if you prefer the new cool jupyter lab, just use the following command instead.", "Now, on my host, I simply go to localhost:9999 and voila, there you go.", "If you have a similar working environment, I would recommend to enable more ports for remote access. You can simply add those to your ssh command using -L <local port>:localhost:<remote port> . This way, if you ever happen to run other services on some ports in your docker machine you can easily access them remotely.", "As you add more options to your ssh command, it increases it size. An option is to define a host under ~/.ssh/config file. In my case I added a user <name>:", "A good way to test out if your tunneling is working, is to use http.server from python. This way you can check for every stage if the ports were correctly forwarded. Use the following command to run a simple http server on a particular port.", "Note that this works for python3, for python2 versions use python -m SimpleHTTPServer <remote port> instead.", "If you get any other difficulties, please leave it in the comments and I\u2019ll be glad to help you!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fea2c3ebb9055&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-jupyter-notebook-running-on-a-remote-docker-container-via-ssh-ea2c3ebb9055&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-jupyter-notebook-running-on-a-remote-docker-container-via-ssh-ea2c3ebb9055&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-jupyter-notebook-running-on-a-remote-docker-container-via-ssh-ea2c3ebb9055&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-jupyter-notebook-running-on-a-remote-docker-container-via-ssh-ea2c3ebb9055&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----ea2c3ebb9055--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ea2c3ebb9055--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@lucasrg?source=post_page-----ea2c3ebb9055--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lucasrg?source=post_page-----ea2c3ebb9055--------------------------------", "anchor_text": "Lucas Rod\u00e9s-Guirao"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1bfea6545a5d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-jupyter-notebook-running-on-a-remote-docker-container-via-ssh-ea2c3ebb9055&user=Lucas+Rod%C3%A9s-Guirao&userId=1bfea6545a5d&source=post_page-1bfea6545a5d----ea2c3ebb9055---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fea2c3ebb9055&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-jupyter-notebook-running-on-a-remote-docker-container-via-ssh-ea2c3ebb9055&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fea2c3ebb9055&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-jupyter-notebook-running-on-a-remote-docker-container-via-ssh-ea2c3ebb9055&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://github.com/ufoym/deepo", "anchor_text": "ufoym/deepo"}, {"url": "https://jupyter.org/", "anchor_text": "Jupyter"}, {"url": "https://docs.google.com/drawings", "anchor_text": "Google Draw"}, {"url": "https://docs.docker.com/install/linux/docker-ce/centos/", "anchor_text": "docker"}, {"url": "https://www.youtube.com/watch?v=YFl2mCHdv24", "anchor_text": "this"}, {"url": "https://blog.scottlowe.org/2014/03/11/a-quick-introduction-to-docker/", "anchor_text": "this"}, {"url": "https://github.com/NVIDIA/nvidia-docker/wiki/Frequently-Asked-Questions#how-do-i-install-the-nvidia-driver", "anchor_text": "NVIDIA driver"}, {"url": "https://github.com/NVIDIA/nvidia-docker", "anchor_text": "nvidia-docker"}, {"url": "https://www.docker.com/community-edition", "anchor_text": "docker-ce"}, {"url": "https://github.com/ufoym/deepo", "anchor_text": "ufoym/deepo"}, {"url": "https://github.com/jupyterlab/jupyterlab", "anchor_text": "jupyter lab"}, {"url": "https://medium.com/tag/docker?source=post_page-----ea2c3ebb9055---------------docker-----------------", "anchor_text": "Docker"}, {"url": "https://medium.com/tag/deep-learning?source=post_page-----ea2c3ebb9055---------------deep_learning-----------------", "anchor_text": "Deep Learning"}, {"url": "https://medium.com/tag/gpu?source=post_page-----ea2c3ebb9055---------------gpu-----------------", "anchor_text": "Gpu"}, {"url": "https://medium.com/tag/ssh?source=post_page-----ea2c3ebb9055---------------ssh-----------------", "anchor_text": "Ssh"}, {"url": "https://medium.com/tag/jupyter?source=post_page-----ea2c3ebb9055---------------jupyter-----------------", "anchor_text": "Jupyter"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fea2c3ebb9055&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-jupyter-notebook-running-on-a-remote-docker-container-via-ssh-ea2c3ebb9055&user=Lucas+Rod%C3%A9s-Guirao&userId=1bfea6545a5d&source=-----ea2c3ebb9055---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fea2c3ebb9055&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-jupyter-notebook-running-on-a-remote-docker-container-via-ssh-ea2c3ebb9055&user=Lucas+Rod%C3%A9s-Guirao&userId=1bfea6545a5d&source=-----ea2c3ebb9055---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fea2c3ebb9055&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-jupyter-notebook-running-on-a-remote-docker-container-via-ssh-ea2c3ebb9055&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----ea2c3ebb9055--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fea2c3ebb9055&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-jupyter-notebook-running-on-a-remote-docker-container-via-ssh-ea2c3ebb9055&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----ea2c3ebb9055---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----ea2c3ebb9055--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----ea2c3ebb9055--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----ea2c3ebb9055--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----ea2c3ebb9055--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----ea2c3ebb9055--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----ea2c3ebb9055--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----ea2c3ebb9055--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----ea2c3ebb9055--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lucasrg?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@lucasrg?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Lucas Rod\u00e9s-Guirao"}, {"url": "https://medium.com/@lucasrg/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "38 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F1bfea6545a5d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-jupyter-notebook-running-on-a-remote-docker-container-via-ssh-ea2c3ebb9055&user=Lucas+Rod%C3%A9s-Guirao&userId=1bfea6545a5d&source=post_page-1bfea6545a5d--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fb6b5251df67d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fusing-jupyter-notebook-running-on-a-remote-docker-container-via-ssh-ea2c3ebb9055&newsletterV3=1bfea6545a5d&newsletterV3Id=b6b5251df67d&user=Lucas+Rod%C3%A9s-Guirao&userId=1bfea6545a5d&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}