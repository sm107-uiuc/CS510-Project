{"url": "https://towardsdatascience.com/learn-python-lambda-from-scratch-f4a9c07e4b34", "time": 1683010430.636575, "path": "towardsdatascience.com/learn-python-lambda-from-scratch-f4a9c07e4b34/", "webpage": {"metadata": {"title": "Learn Python Lambda from Scratch. Dos and don\u2019ts of lambda function in\u2026 | by Xiaoxu Gao | Towards Data Science", "h1": "Learn Python Lambda from Scratch", "description": "When it comes to process a list of elements, there are usually three options for Python programmers: a regular for-loop, list comprehension and lambda function. For Python beginners, lambda function\u2026"}, "outgoing_paragraph_urls": [{"url": "https://docs.python.org/3/faq/design.html", "anchor_text": "Python design Q&A", "paragraph_index": 2}, {"url": "https://docs.pytest.org/en/stable/monkeypatch.html", "anchor_text": "monkeypatch", "paragraph_index": 23}, {"url": "https://docs.python.org/3.8/library/timeit.html", "anchor_text": "timeit", "paragraph_index": 28}, {"url": "https://www.flake8rules.com/rules/E731.html", "anchor_text": "reasonable explanation", "paragraph_index": 38}, {"url": "https://www.python.org/dev/peps/pep-3107/#lambda", "anchor_text": "PEP 3107", "paragraph_index": 40}, {"url": "http://linkedin.com/in/xiaoxugao/", "anchor_text": "linkedin.com/in/xiaoxugao/", "paragraph_index": 44}], "all_paragraphs": ["When it comes to process a list of elements, there are usually three options for Python programmers: a regular for-loop, list comprehension and lambda function. For Python beginners, lambda function is usually considered as \u201ca cool feature\u201d because of its short syntax and similarities with functional programming. But often it\u2019s not very straightforward for beginners. On the other hand, even for people who\u2019ve been using Python for a long time, not everyone is necessarily familiar with lambda because they can always find a simple alternative.", "I personally prefer list/dict comprehension to lambda function. In this article, we will together learn Python Lambda from scratch and its dos and don'ts, no matter you are a junior or senior Python programmer. Let\u2019s get started!", "Lambda function in Python is a small anonymous function. It is different from other functional programming language where lambda functions add functionalities. According to Python design Q&A:", "Python lambdas are only a shorthand notation if you\u2019re too lazy to define a function.", "We all like being lazy programmers, but is that all?", "A lambda function is defined using a single expression instead of def that we normally use in Python. Any lambda function follows the same rule:", "Python lambda function supports all kinds of input arguments just like a def function.", "Lambda function only accepts single expression. Because it is an expression, it may or may not be assigned a name. In the example below, the second lambda function is assigned to value sum_lambda. But the third lambda function is used without a name. As you can see, it still works, but the code is hard to read at the first glance.", "One thing to remember is that a lambda function can\u2019t contain any statement. A simple trick to distinguish an expression from a statement is that if you can print it or assign it to a value, then it\u2019s an expression. Otherwise, it\u2019s a statement.", "In Python, statements include return, try, assert, if, for, raise, etc. If the lambda function contains a statement, the program will raise SyntaxError exception.", "So, what differs a lambda function from a regular function? Let\u2019s inspect the functions!", "We will use the functions from the previous example. Let\u2019s first check the type of both functions. Ok, they belong to class function which makes sense.", "Then, let\u2019s check the representation. The name of sum_lambda is <lambda> instead of the \u201cfunction name\u201d. Even though we assigned the lambda function to a value, it is still an anonymous function. This behaviour will cause a limitation that we will discuss in the end. (Think about it first)", "Lambda functions are normally combined with Python higher-order function. According to Wikipedia,", "A higher-order function is a function that does at least one of the following: a) takes one or more functions as arguments. b) returns a function as its result.", "In Python, there are a couple of built-in higher-order functions like map, filter, reduce, sorted, sum, any, all. Among them, map, filter, and reduce are being used most often with lambda functions.", "map() function takes 2 arguments: an input mapping function and an iterable. The mapping function will be applied to each element in the iterable. map() function returns an iterator containing the mapped elements.", "The mapping function can be represented using a clean and short lambda function.", "filter() function takes the same arguments as map(): an input filtering function and an iterable. The filtering function will be applied to each element and filter() function returns an iterator containing the filtered elements.", "Here is an example to filter even numbers using def function and lambda function.", "reduce() function is from Python built-in module functools. What it essentially does is to cumulatively apply a function to all the elements in an iterable, and generate a single value. reduce() function takes 3 arguments: an input function, an iterable and an optional initializer.", "The third example defines an initializer 0, and every time it adds the value in the dictionary element to the initializer. If the initializer is not defined, then by default the program will take the first element as the initializer which will raise a TypeError exception in this case.", "You may have a function generate that generates a list of random values, and these values are dependent on an external system. When you do unit test, you don\u2019t want generate function to communicate with the external system. Moreover, you need repeatable results from generate function instead of random values each time.", "In Pytest, you can use monkeypatch fixture to patch the part that generates these random values. Additionally, using lambda function as the patch function makes the code more concise.", "Here is the example code. It uses lambda function lambda _: 0 to patch random.randint(). The lambda function always generates 0, and it doesn\u2019t care about the input argument, so the input argument can be represented using _.", "One of good alternatives of lambda function is list comprehension. For map(), filter() and reduce(), all of them can be done using list comprehension. List comprehension is a solution between a regular for-loop and lambda function. In my opinion, it\u2019s a concise and intuitive solution.", "I\u2019m curious what you think of list comprehension and lambda function. Which one do you prefer and why?", "It\u2019s also interesting to understand the performance of lambda function and compare it with the regular def function. Lambda function requires less code, will it have an impact on the performance?", "I use Python built-in function timeit to time code fragments. First, I create a function to calculate the square of a number using def and lambda function. It turns out that the time to create a function is nearly the same.", "Then I invoke both of the functions. They take longer time than creating a function, but lambda function doesn\u2019t win any time here.", "The last one is to compare the performance of for-loop, list comprehension and lambda function. Lambda function took the longest time due to the conversion from a map object to a list. List comprehension performances the best in this case.", "Speed performance can help us decide which code style to choose, but it shouldn\u2019t be the only factor. We also need to consider the readability and maintainability of the code.", "So far, we have covered a few use cases of lambda function. Its shorthand notation makes the code more elegant and concise. However, there is always a trade off. Python developers should understand the limitations of lambda function and avoid \u201cunnecessary optimization\u201d.", "Lambda function is an anonymous function, so it doesn\u2019t have a real function name. This can lose information when an exception is raised. The traceback only shows <lambda> instead of a meaningful function name.", "It\u2019s not easy to debug statements like print(list(map(lambda x: x ** 2, [1, 2, 3]))) in IDE. A workaround is to add a \u201cdecorator\u201d to the lambda function. Normally, we add a decorator like @debug to a def function, but it\u2019s impossible for a lambda function. But in fact, the decorator is a wapper of a function, so it can take the lambda function as the input argument.", "Here is an example that applies debug decorator to a def function and a lambda function. Decorating a lambda function could be useful for understanding the behaviour of the lambda function in a higher-order function.", "If you apply a linter like Flake8 to your program, you will get a warning saying:", "Do not assign a lambda expression, use a def (E731)", "Flake8 gives a quite reasonable explanation which links to my previous point:", "The primary reason for this is debugging. Lambdas show as <lambda> in tracebacks, where functions will display the function\u2019s name.", "According to PEP 3107, lambda\u2019s syntax doesn\u2019t support annotations. A workaround is to use typing.Callable that represents a function. For instance, Callable[[int, int], str] represents a function with 2 input arguments with type int, and the return value has type str. We can use this to hint the type of a lambda function.", "Here is how we hint the type of a lambda function in a higher-order function.", "I hope you enjoyed this article, and understand some dos and don\u2019ts of Python lambda function! Leave your comments below if you have any thoughts.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "I\u2019m a Developer with a focus on Python and Data Engineering. I write stuff to talk to myself and the world. You can find me on linkedin.com/in/xiaoxugao/."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff4a9c07e4b34&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearn-python-lambda-from-scratch-f4a9c07e4b34&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearn-python-lambda-from-scratch-f4a9c07e4b34&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearn-python-lambda-from-scratch-f4a9c07e4b34&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearn-python-lambda-from-scratch-f4a9c07e4b34&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f4a9c07e4b34--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f4a9c07e4b34--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@xiaoxugao?source=post_page-----f4a9c07e4b34--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@xiaoxugao?source=post_page-----f4a9c07e4b34--------------------------------", "anchor_text": "Xiaoxu Gao"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2adc5a07e772&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearn-python-lambda-from-scratch-f4a9c07e4b34&user=Xiaoxu+Gao&userId=2adc5a07e772&source=post_page-2adc5a07e772----f4a9c07e4b34---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff4a9c07e4b34&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearn-python-lambda-from-scratch-f4a9c07e4b34&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff4a9c07e4b34&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearn-python-lambda-from-scratch-f4a9c07e4b34&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@benwhitephotography", "anchor_text": "Ben Write"}, {"url": "https://unsplash.com/", "anchor_text": "Unsplash"}, {"url": "https://docs.python.org/3/faq/design.html", "anchor_text": "Python design Q&A"}, {"url": "https://gist.github.com/highsmallxu/8128edd32bd48402583329f4453caa5d", "anchor_text": "lambda-arguments.py"}, {"url": "https://gist.github.com/highsmallxu/b0e3c89f9ae24ab3642278c37683f002", "anchor_text": "lambda function.py"}, {"url": "https://gist.github.com/highsmallxu/1a9fc67ffa0087bbee95699a1756e565", "anchor_text": "map-lambda.py"}, {"url": "https://gist.github.com/highsmallxu/ee00a3909be0a297b6c228de28998982", "anchor_text": "reduce-lambda.py"}, {"url": "https://docs.pytest.org/en/stable/monkeypatch.html", "anchor_text": "monkeypatch"}, {"url": "https://gist.github.com/highsmallxu/3e5e72476450ddd94a7890b10e163231", "anchor_text": "pytest-lambda.py"}, {"url": "https://gist.github.com/highsmallxu/50588b57f6322e3785450108c5f2dbe4", "anchor_text": "list-comprehension.py"}, {"url": "https://docs.python.org/3.8/library/timeit.html", "anchor_text": "timeit"}, {"url": "https://gist.github.com/highsmallxu/0f8cc87c8b5895653ae97eb8c85e2af2", "anchor_text": "lambda-compare-map.py"}, {"url": "https://gist.github.com/highsmallxu/97b7b76cc5f66b57517a07f4e915ee2e", "anchor_text": "lambda-exception.py"}, {"url": "https://gist.github.com/highsmallxu/bbe78aafacedb8075bf161064cdb7c20", "anchor_text": "lambda-debug.py"}, {"url": "https://www.flake8rules.com/rules/E731.html", "anchor_text": "reasonable explanation"}, {"url": "https://www.python.org/dev/peps/pep-3107/#lambda", "anchor_text": "PEP 3107"}, {"url": "https://gist.github.com/highsmallxu/ee22a7f43843aee2f4c0d8e57a9d5144", "anchor_text": "lambda-hint.py"}, {"url": "https://realpython.com/python-lambda", "anchor_text": "How to Use Python Lambda Functions - Real PythonTake the Quiz \" Lambda expressions in Python and other programming languages have their roots in lambda calculus, a\u2026realpython.com"}, {"url": "https://realpython.com/python-reduce-function/", "anchor_text": "Python's reduce(): From Functional to Pythonic Style - Real PythonIn this tutorial, you'll learn: Functional programming is a programming paradigm based on breaking down a problem into\u2026realpython.com"}, {"url": "https://medium.com/tag/programming?source=post_page-----f4a9c07e4b34---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/tag/python?source=post_page-----f4a9c07e4b34---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f4a9c07e4b34---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/software-development?source=post_page-----f4a9c07e4b34---------------software_development-----------------", "anchor_text": "Software Development"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff4a9c07e4b34&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearn-python-lambda-from-scratch-f4a9c07e4b34&user=Xiaoxu+Gao&userId=2adc5a07e772&source=-----f4a9c07e4b34---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff4a9c07e4b34&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearn-python-lambda-from-scratch-f4a9c07e4b34&user=Xiaoxu+Gao&userId=2adc5a07e772&source=-----f4a9c07e4b34---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff4a9c07e4b34&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearn-python-lambda-from-scratch-f4a9c07e4b34&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f4a9c07e4b34--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff4a9c07e4b34&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearn-python-lambda-from-scratch-f4a9c07e4b34&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f4a9c07e4b34---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f4a9c07e4b34--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f4a9c07e4b34--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f4a9c07e4b34--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f4a9c07e4b34--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f4a9c07e4b34--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f4a9c07e4b34--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f4a9c07e4b34--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f4a9c07e4b34--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@xiaoxugao?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@xiaoxugao?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Xiaoxu Gao"}, {"url": "https://medium.com/@xiaoxugao/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "9.6K Followers"}, {"url": "http://linkedin.com/in/xiaoxugao/", "anchor_text": "linkedin.com/in/xiaoxugao/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2adc5a07e772&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearn-python-lambda-from-scratch-f4a9c07e4b34&user=Xiaoxu+Gao&userId=2adc5a07e772&source=post_page-2adc5a07e772--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F45d7754eac8c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flearn-python-lambda-from-scratch-f4a9c07e4b34&newsletterV3=2adc5a07e772&newsletterV3Id=45d7754eac8c&user=Xiaoxu+Gao&userId=2adc5a07e772&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}