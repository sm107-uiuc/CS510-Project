{"url": "https://towardsdatascience.com/clustering-analysis-in-r-using-k-means-73eca4fb7967", "time": 1682997706.286229, "path": "towardsdatascience.com/clustering-analysis-in-r-using-k-means-73eca4fb7967/", "webpage": {"metadata": {"title": "Clustering Analysis in R using K-means | by Luiz Fonseca | Towards Data Science", "h1": "Clustering Analysis in R using K-means", "description": "The purpose of clustering analysis is to identify patterns in your data and create groups according to those patterns. Therefore, if two points have similar characteristics, that means they have the\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["The purpose of clustering analysis is to identify patterns in your data and create groups according to those patterns. Therefore, if two points have similar characteristics, that means they have the same pattern and consequently, they belong to the same group. By doing clustering analysis we should be able to check what features usually appear together and see what characterizes a group.", "In this post, we are going to perform a clustering analysis with multiple variables using the algorithm K-means. The intention is to find groups of mammals based on the composition of the species\u2019 milk. The main points covered here are:", "The dataset used is part of the package cluster.datasets and contains 25 observations on the following 6 variables:", "name \u2014 a character vector for the name of the animals water \u2014 a numeric vector for the water content in the milk sample protein \u2014 a numeric vector for the amount of protein in the milk samplefat \u2014 a numeric vector for the fat content in the milk sample lactose \u2014 a numeric vector for the amount of lactose in the milk sample ash \u2014 a numeric vector for the amount of mineral in the milk sample", "Let\u2019s take a look at a sample of the data", "The charts below show us the distribution for each variable. Each point represents a mammal species (25 in total).", "Each variable has different behavior and we could identify groups of mammals on each one individually, but that\u2019s not the purpose here.", "All the variables will be used in the clustering on a linear scale. Sometimes, when the values (for each feature) are in a big range, for example from 0 up to 1 million, it\u2019s interesting to use a logarithmic scale because on a log scale we would highlight bigger differences between the values and smaller differences would be considered less important. Since the values in our dataset vary between 0 and 100, we are going to use a linear scale, which considers differences between values equally important.", "The clustering algorithm that we are going to use is the K-means algorithm, which we can find in the package stats. The K-means algorithm accepts two parameters as input:", "Conceptually, the K-means behaves as follows:", "The bigger is the K you choose, the lower will be the variance within the groups in the clustering. If K is equal to the number of observations, then each point will be a group and the variance will be 0. It\u2019s interesting to find a balance between the number of groups and their variance. A variance of a group means how different the members of the group are. The bigger is the variance, the bigger is the dissimilarity in a group.", "How do we choose the best value of K in order to find that balance?", "To answer that question, we are going to run K-means for an arbitrary K. Let\u2019s pick 3.", "The kmeans() function outputs the results of the clustering. We can see the centroid vectors (cluster means), the group in which each observation was allocated (clustering vector) and a percentage (89.9%) that represents the compactness of the clustering, that is, how similar are the members within the same group. If all the observations within a group were in the same exact point in the n-dimensional space, then we would achieve 100% of compactness.", "Since we know that, we will use that percentage to help us decide our K value, that is, a number of groups that will have satisfactory variance and compactness.", "The function below plots a chart showing the \u201cwithin sum of squares\u201d (withinss) by the number of groups (K value) chosen for several executions of the algorithm. The within sum of squares is a metric that shows how dissimilar are the members of a group., the greater is the sum, the greater is the dissimilarity within a group.", "By Analysing the chart from right to left, we can see that when the number of groups (K) reduces from 4 to 3 there is a big increase in the sum of squares, bigger than any other previous increase. That means that when it passes from 4 to 3 groups there is a reduction in the clustering compactness (by compactness, I mean the similarity within a group). Our goal, however, is not to achieve compactness of 100% \u2014 for that, we would just take each observation as a group. The main purpose is to find a fair number of groups that could explain satisfactorily a considerable part of the data.", "So, let\u2019s choose K = 4 and run the K-means again.", "We may use the silhouette coefficient (silhouette width) to evaluate the goodness of our clustering.", "The silhouette coefficient is calculated as follows:", "So, the interpretation of the silhouette width is the following:", "The silhouette plot below gives us evidence that our clustering using four groups is good because there\u2019s no negative silhouette width and most of the values are bigger than 0.5.", "The following plot shows the final result of our clustering. The actual plot is interactive, but the image below is not. You can reproduce the plot using the code below. In the interactive plot, you may isolate the groups to better understand each one individually.", "The purpose of clustering analysis is to identify patterns in the data. As we can see in the plot above, observations within the same group tend to have similar characteristics.", "Let\u2019s take the green group as an instance to evaluate. The two mammal species that belong to that group, namely seal and dolphin, they have the lowest percentage of water (44.9% and 46.4%); they both have around 10% of protein in their milk; they have the highest percentage of fat in the milk among all other species as well as the lowest percentage of lactose. This is the pattern found that puts seals and dolphins together in the same group. We can identify such patterns in the other groups as well.", "Thank you for reading. I hope it was a pleasurable and useful reading.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "A computer scientist biased towards data science. luiz.fonseca.alb@gmail.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F73eca4fb7967&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclustering-analysis-in-r-using-k-means-73eca4fb7967&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclustering-analysis-in-r-using-k-means-73eca4fb7967&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclustering-analysis-in-r-using-k-means-73eca4fb7967&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclustering-analysis-in-r-using-k-means-73eca4fb7967&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----73eca4fb7967--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----73eca4fb7967--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@luiz.fonseca?source=post_page-----73eca4fb7967--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@luiz.fonseca?source=post_page-----73eca4fb7967--------------------------------", "anchor_text": "Luiz Fonseca"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff24dc9185a90&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclustering-analysis-in-r-using-k-means-73eca4fb7967&user=Luiz+Fonseca&userId=f24dc9185a90&source=post_page-f24dc9185a90----73eca4fb7967---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F73eca4fb7967&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclustering-analysis-in-r-using-k-means-73eca4fb7967&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F73eca4fb7967&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclustering-analysis-in-r-using-k-means-73eca4fb7967&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@melipoole?utm_source=medium&utm_medium=referral", "anchor_text": "Mel Poole"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----73eca4fb7967---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/r?source=post_page-----73eca4fb7967---------------r-----------------", "anchor_text": "R"}, {"url": "https://medium.com/tag/k-means?source=post_page-----73eca4fb7967---------------k_means-----------------", "anchor_text": "K Means"}, {"url": "https://medium.com/tag/clustering?source=post_page-----73eca4fb7967---------------clustering-----------------", "anchor_text": "Clustering"}, {"url": "https://medium.com/tag/data-science?source=post_page-----73eca4fb7967---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F73eca4fb7967&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclustering-analysis-in-r-using-k-means-73eca4fb7967&user=Luiz+Fonseca&userId=f24dc9185a90&source=-----73eca4fb7967---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F73eca4fb7967&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclustering-analysis-in-r-using-k-means-73eca4fb7967&user=Luiz+Fonseca&userId=f24dc9185a90&source=-----73eca4fb7967---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F73eca4fb7967&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclustering-analysis-in-r-using-k-means-73eca4fb7967&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----73eca4fb7967--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F73eca4fb7967&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclustering-analysis-in-r-using-k-means-73eca4fb7967&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----73eca4fb7967---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----73eca4fb7967--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----73eca4fb7967--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----73eca4fb7967--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----73eca4fb7967--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----73eca4fb7967--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----73eca4fb7967--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----73eca4fb7967--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----73eca4fb7967--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@luiz.fonseca?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@luiz.fonseca?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Luiz Fonseca"}, {"url": "https://medium.com/@luiz.fonseca/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "68 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff24dc9185a90&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclustering-analysis-in-r-using-k-means-73eca4fb7967&user=Luiz+Fonseca&userId=f24dc9185a90&source=post_page-f24dc9185a90--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Ff24dc9185a90%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fclustering-analysis-in-r-using-k-means-73eca4fb7967&user=Luiz+Fonseca&userId=f24dc9185a90&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}