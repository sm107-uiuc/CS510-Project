{"url": "https://towardsdatascience.com/handling-missing-values-with-pandas-b876bf6f008f", "time": 1683003854.310185, "path": "towardsdatascience.com/handling-missing-values-with-pandas-b876bf6f008f/", "webpage": {"metadata": {"title": "Handling Missing Values with Pandas | by Soner Y\u0131ld\u0131r\u0131m | Towards Data Science", "h1": "Handling Missing Values with Pandas", "description": "The most time consuming part of a data science project is data cleaning and preparation. However, there are many powerful tools to expedite this process. One of them is Pandas which is a widely used\u2026"}, "outgoing_paragraph_urls": [{"url": "http://linkedin.com/in/soneryildirim/", "anchor_text": "linkedin.com/in/soneryildirim/", "paragraph_index": 30}, {"url": "http://twitter.com/snr14", "anchor_text": "twitter.com/snr14", "paragraph_index": 30}], "all_paragraphs": ["The most time consuming part of a data science project is data cleaning and preparation. However, there are many powerful tools to expedite this process. One of them is Pandas which is a widely used data analysis library for Python.", "Handling missing values is an essential part of data cleaning and preparation process because almost all data in real life comes with some missing values. In this post, I will explain how to detect missing values and handle them in a proper and efficient way using Pandas.", "Let\u2019s create a dataframe with missing values first.", "np.nan, None and NaT (for datetime64[ns] types) are standard missing value for Pandas.", "Note: A new missing data type (<NA>) introduced with Pandas 1.0 which is an integer type missing value representation.", "np.nan is float so if you use them in a column of integers, they will be upcast to floating-point data type as you can see in \u201ccolumn_a\u201d of the dataframe we created. However, <NA> can be used with integers without causing upcasting. Let\u2019s add one more column to the dataframe using <NA> which can be used by explicitly requesting the dtype Int64Dtype().", "Pandas provides isnull(), isna() functions to detect missing values. Both of them do the same thing.", "df.isna() returns the dataframe with boolean values indicating missing values.", "You can also choose to use notna() which is just the opposite of isna().", "df.isna().any() returns a boolean value for each column. If there is at least one missing value in that column, the result is True.", "df.isna().sum() returns the number of missing values in each column.", "Not all missing values come in nice and clean np.nan or None format. For example, \u201c?\u201d and \u201c- -\u201c characters in column_c of our dataframe do not give us any valuable information or insight so essentially they are missing values. However, these characters cannot be detected as missing value by Pandas.", "If we know what kind of characters used as missing values in the dataset, we can handle them while creating the dataframe using na_values parameter:", "Another option is to use pandas replace() function to handle these values after a dataframe is created:", "We have replaced non-informative cells with NaN values. inplace parameter saves the changes in the dataframe. Default value for inplace is False so if it is set it to True, changes will not be saved.", "There is not an optimal way to handle missing values. Depending on the characteristics of the dataset and the task, we can choose to:", "We can drop a row or column with missing values using dropna() function. how parameter is used to set condition to drop.", "Furthermore, using thresh parameter, we can set a threshold based on the number of non-missing values in order for a row/column to be dropped.", "The thresh parameter requires a row or column to have at least the specified number of non-missing values not to be dropped. For instance, if we set the value of the thresh parameter as 3, a column or row must have at least 3 non-missing values not to be dropped. The rows or columns (depending on the value of the axis parameter) that do not have 3 or more non-missing values will be dropped.", "axis parameter is used to select row (0) or column (1).", "Our dataframe does not have a row with full of missing values so setting how=\u2019all\u2019 did not drop any row. The default value is \u2018any\u2019 so we don\u2019t need to specify it if we want to use how=\u2019any\u2019:", "Rows with at least one missing value have been dropped.", "Setting thresh parameter to 3 dropped rows that do not have at least 3 non-missing values.", "Data is a valuable asset so we should not give it up easily. Also, machine learning models almost alwasy tend to perform better with more data. Therefore, depending on the situation, we may prefer replacing missing values instead of dropping.", "fillna() function of Pandas conveniently handles missing values. Using fillna(), missing values can be replaced by a special value or an aggreate value such as mean, median. Furthermore, missing values can be replaced with the value before or after it which is pretty useful for time-series datasets.", "ffill stands for \u201cforward fill\u201d replaces missing values with the values in the previous row. You can also choose bfill which stands for \u201cbackward fill\u201d.", "If there are many consecutive missing values in a column or row, you may want to limit the number of missing values to be forward or backward filled.", "Limit parameter is set to 1 so only one missing value is forward filled.", "Thank you for reading. Please let me know if you have any feedback.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist | Top 10 Writer in AI and Data Science | linkedin.com/in/soneryildirim/ | twitter.com/snr14"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb876bf6f008f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandling-missing-values-with-pandas-b876bf6f008f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandling-missing-values-with-pandas-b876bf6f008f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandling-missing-values-with-pandas-b876bf6f008f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandling-missing-values-with-pandas-b876bf6f008f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----b876bf6f008f--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b876bf6f008f--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://sonery.medium.com/?source=post_page-----b876bf6f008f--------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=post_page-----b876bf6f008f--------------------------------", "anchor_text": "Soner Y\u0131ld\u0131r\u0131m"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2cf6b549448&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandling-missing-values-with-pandas-b876bf6f008f&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=post_page-2cf6b549448----b876bf6f008f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb876bf6f008f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandling-missing-values-with-pandas-b876bf6f008f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb876bf6f008f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandling-missing-values-with-pandas-b876bf6f008f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@chuttersnap?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "chuttersnap"}, {"url": "https://unsplash.com/s/photos/pandas?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://towardsdatascience.com/support-vector-machine-explained-8d75fe8738fd", "anchor_text": "Support Vector Machine \u2014 Explained"}, {"url": "https://towardsdatascience.com/decision-tree-and-random-forest-explained-8d20ddabc9dd", "anchor_text": "Decision Trees and Random Forests \u2014 Explained"}, {"url": "https://towardsdatascience.com/predicting-used-car-prices-with-machine-learning-fea53811b1ab", "anchor_text": "Predicting Used Car Prices with Machine Learning"}, {"url": "https://towardsdatascience.com/data-cleaning-and-analysis-with-a-bonus-story-36b3ae39564c", "anchor_text": "Data Cleaning and Analysis with a Bonus Story"}, {"url": "https://medium.com/tag/pandas?source=post_page-----b876bf6f008f---------------pandas-----------------", "anchor_text": "Pandas"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----b876bf6f008f---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/data-analytics?source=post_page-----b876bf6f008f---------------data_analytics-----------------", "anchor_text": "Data Analytics"}, {"url": "https://medium.com/tag/data-science?source=post_page-----b876bf6f008f---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb876bf6f008f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandling-missing-values-with-pandas-b876bf6f008f&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=-----b876bf6f008f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fb876bf6f008f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandling-missing-values-with-pandas-b876bf6f008f&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=-----b876bf6f008f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb876bf6f008f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandling-missing-values-with-pandas-b876bf6f008f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----b876bf6f008f--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fb876bf6f008f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandling-missing-values-with-pandas-b876bf6f008f&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----b876bf6f008f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----b876bf6f008f--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----b876bf6f008f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----b876bf6f008f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----b876bf6f008f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b876bf6f008f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b876bf6f008f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----b876bf6f008f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----b876bf6f008f--------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://sonery.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Soner Y\u0131ld\u0131r\u0131m"}, {"url": "https://sonery.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "21K Followers"}, {"url": "http://linkedin.com/in/soneryildirim/", "anchor_text": "linkedin.com/in/soneryildirim/"}, {"url": "http://twitter.com/snr14", "anchor_text": "twitter.com/snr14"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2cf6b549448&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandling-missing-values-with-pandas-b876bf6f008f&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=post_page-2cf6b549448--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F7cdf5377373a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhandling-missing-values-with-pandas-b876bf6f008f&newsletterV3=2cf6b549448&newsletterV3Id=7cdf5377373a&user=Soner+Y%C4%B1ld%C4%B1r%C4%B1m&userId=2cf6b549448&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}