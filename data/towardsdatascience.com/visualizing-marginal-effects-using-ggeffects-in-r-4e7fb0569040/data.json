{"url": "https://towardsdatascience.com/visualizing-marginal-effects-using-ggeffects-in-r-4e7fb0569040", "time": 1683002484.626323, "path": "towardsdatascience.com/visualizing-marginal-effects-using-ggeffects-in-r-4e7fb0569040/", "webpage": {"metadata": {"title": "Visualizing marginal effects using ggeffects in R | by Matthieu Renard | Towards Data Science", "h1": "Visualizing marginal effects using ggeffects in R", "description": "It\u2019s a known dilemma: You know that your variable X1 impacts your variable Y, and you can show it in a regression analysis, but it is hard to show it graphically. The reason is that there is another\u2026"}, "outgoing_paragraph_urls": [{"url": "https://medium.com/@mattifuchs", "anchor_text": "Follow me", "paragraph_index": 14}], "all_paragraphs": ["It\u2019s a known dilemma: You know that your variable X1 impacts your variable Y, and you can show it in a regression analysis, but it is hard to show it graphically. The reason is that there is another variable impacting Y, namely X2, and only after the effect of X2 is taken into account does the effect of X1 on Y appear. So you would need a way of showing how X1 impacts Y while taking the effect of X2 into account.", "This is where marginal effects come in handy. They enable you to show how a change of the independent variable of interest impacts your dependent variable while taking all other independent variables into account. More specifically, you could use the package ggeffects to visualize the marginal effects of key variables.", "The following tutorial will use the salaries dataset available in base R. It contains data on professors' salaries and several other variables that would intuitively influence their salary.", "You can load it by simply entering this command.", "We want to answer the key question in this dataset: Does a professor\u2019s sex influence their salary?", "Naively, one could try to answer this question by simply running the below regression model:", "Just looking at the output, it seems that sex influences a professor\u2019s salary. Also, when plotting the impact of sex on salary, the impact seems to be significant.", "However, the question is: Is it sex that is driving this difference, or is sex correlated to a more immediate predictor of salary? This question is easy to answer in a regression. One adds more covariates to check if it really is sex driving the difference or something else.", "As one can see, the marginal effect of sex now is insignificant, implying that sex isn\u2019t an actual predictor of salary in this dataset, but rather that it is correlated with one of the other variables in the dataset, which can be summarized as indicators of seniority and the academic discipline.", "So we know that sex is not a significant predictor of salary. But if we were to plot the relationship between sex and salary \u2014 as in the above plot \u2014 it would look as if sex were an actual salary predictor. What if we wanted to plot the actual effect of sex on a salary after taking all other covariates into account \u2014 i.e., plot the marginal effect? This is where ggeffects comes into play.", "So, we install ggeffects and load it, if we haven\u2019t done so already.", "Then we use the ggpredict function from the ggeffects package and predict the marginal effect for each sex in the dataset. We save the output, a tidy data frame, under the name dummy.", "Then, we use ggplot to plot these marginal effects.", "We can now plot the actual marginal effect of sex on a salary after controlling for all other predictors.", "Found this story interesting? Follow me on Medium to see my other stories!", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4e7fb0569040&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-marginal-effects-using-ggeffects-in-r-4e7fb0569040&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-marginal-effects-using-ggeffects-in-r-4e7fb0569040&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-marginal-effects-using-ggeffects-in-r-4e7fb0569040&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-marginal-effects-using-ggeffects-in-r-4e7fb0569040&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----4e7fb0569040--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4e7fb0569040--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@friedpacker?source=post_page-----4e7fb0569040--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@friedpacker?source=post_page-----4e7fb0569040--------------------------------", "anchor_text": "Matthieu Renard"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4de55f79f1ad&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-marginal-effects-using-ggeffects-in-r-4e7fb0569040&user=Matthieu+Renard&userId=4de55f79f1ad&source=post_page-4de55f79f1ad----4e7fb0569040---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4e7fb0569040&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-marginal-effects-using-ggeffects-in-r-4e7fb0569040&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4e7fb0569040&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-marginal-effects-using-ggeffects-in-r-4e7fb0569040&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@alexandermils?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Alexander Mils"}, {"url": "https://unsplash.com/s/photos/salary?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://medium.com/@mattifuchs", "anchor_text": "Follow me"}, {"url": "https://medium.com/tag/data-science?source=post_page-----4e7fb0569040---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/statistics?source=post_page-----4e7fb0569040---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/regression?source=post_page-----4e7fb0569040---------------regression-----------------", "anchor_text": "Regression"}, {"url": "https://medium.com/tag/regression-analysis?source=post_page-----4e7fb0569040---------------regression_analysis-----------------", "anchor_text": "Regression Analysis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4e7fb0569040&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-marginal-effects-using-ggeffects-in-r-4e7fb0569040&user=Matthieu+Renard&userId=4de55f79f1ad&source=-----4e7fb0569040---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F4e7fb0569040&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-marginal-effects-using-ggeffects-in-r-4e7fb0569040&user=Matthieu+Renard&userId=4de55f79f1ad&source=-----4e7fb0569040---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4e7fb0569040&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-marginal-effects-using-ggeffects-in-r-4e7fb0569040&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----4e7fb0569040--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F4e7fb0569040&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-marginal-effects-using-ggeffects-in-r-4e7fb0569040&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----4e7fb0569040---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----4e7fb0569040--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----4e7fb0569040--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4e7fb0569040--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4e7fb0569040--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4e7fb0569040--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4e7fb0569040--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4e7fb0569040--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4e7fb0569040--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@friedpacker?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@friedpacker?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Matthieu Renard"}, {"url": "https://medium.com/@friedpacker/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "135 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4de55f79f1ad&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-marginal-effects-using-ggeffects-in-r-4e7fb0569040&user=Matthieu+Renard&userId=4de55f79f1ad&source=post_page-4de55f79f1ad--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe2f4cdc333d9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fvisualizing-marginal-effects-using-ggeffects-in-r-4e7fb0569040&newsletterV3=4de55f79f1ad&newsletterV3Id=e2f4cdc333d9&user=Matthieu+Renard&userId=4de55f79f1ad&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}