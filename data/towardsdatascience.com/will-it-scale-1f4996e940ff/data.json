{"url": "https://towardsdatascience.com/will-it-scale-1f4996e940ff", "time": 1683001304.530462, "path": "towardsdatascience.com/will-it-scale-1f4996e940ff/", "webpage": {"metadata": {"title": "\u201cWill it scale?\u201d. The benefits and hidden challenges of\u2026 | by Nick Lind | Towards Data Science", "h1": "\u201cWill it scale?\u201d", "description": "Machine learning products and pipelines are a risky investment. While ERP implementations and software roll-outs are likely to succeed given enough time and attention, there are many reasons why a\u2026"}, "outgoing_paragraph_urls": [{"url": "https://spark.apache.org/", "anchor_text": "Apache Spark", "paragraph_index": 0}, {"url": "https://docs.dask.org/en/latest/spark.html", "anchor_text": "Dask", "paragraph_index": 5}, {"url": "https://spark.apache.org/", "anchor_text": "100x faster", "paragraph_index": 7}, {"url": "http://spark.apache.org/powered-by.html", "anchor_text": "Given the impressive list of companies currently using Spark", "paragraph_index": 10}], "all_paragraphs": ["Machine learning products and pipelines are a risky investment. While ERP implementations and software roll-outs are likely to succeed given enough time and attention, there are many reasons why a machine learning concept might fail. Should you beat the odds and develop a working pilot that users are excited about, the first question on everyone\u2019s mind will be \u201cWill it scale?\u201d. The answer is usually \u201cIn theory, yes\u201d, but it\u2019s hard to predict what integration hurdles you\u2019ll face in practice. After struggling through this process once or twice, you learn to answer their question upfront by building your pilot with scale in mind. Thankfully, our friends at the Apache Foundation have developed an architecture to do just that: Apache Spark.", "Spark is an open-source computing framework that is just as comfortable on your local laptop as it is orchestrating a cluster of hundreds of computers. Building your MVP in Python, R, or Scala on Spark will make it easy to scale your code in production, but Spark\u2019s many benefits are offset by hidden challenges that can sink your roadmap if not prepared for.", "There are several reasons why Spark is so popular within the computer science community:", "No matter what corner of the technical world you come from, you\u2019ll find the Spark ecosystem to be developer-friendly. Spark runs on Hadoop, Mesos, Kubernetes, AWS, Azure, your local laptop, and nearly every other mainstream storage system you\u2019d consider using. This interoperability makes it easy to develop your codebase locally on filtered data before testing at scale on a compute cluster, saving you time and money as you move from pilot to scale.", "Spark is written in Scala, but its Python, R, and Java wrappers make it easy for a wide range of users to run distributed jobs in their favorite language. These same people won\u2019t need to compete for space while working independently: Spark can manage multiple, disparate workloads at the same time without forcing your team to pay for separate clusters.", "Finally, Spark\u2019s open source community and big tech backers have released hundreds of libraries to accelerate your development. Service providers like Databricks have made it trivially simple to launch, manage, and administrate Spark clusters, granting your team members the independence they crave in a non-local environment. Combined, these conveniences make Spark an easy choice over more flexible frameworks like Dask for most use cases.", "Under the hood, Spark\u2019s Catalyst optimizer converts user inputs into a directed acyclic graph (DAG) of transformations before distributing the optimized \u201cjob\u201d across a network of computers (e.g., nodes) for in-memory processing. Visually, this process looks something like this:", "If this concept seems confusing, don\u2019t worry about it: Spark handles these optimizations on the back-end, enabling Spark to achieve benchmark speeds more than 100x faster than its predecessor without complicating the user experience for 90%+ of use cases. Should you ever need more memory or processing power, it\u2019s easy to upgrade your existing nodes or add new nodes to your network.", "Unlike other distributed architectures currently on the market, Spark is built to handle nearly any programming task you throw at it:", "Other architectures may be more efficient at one or two of these tasks (e.g., Apache Storm for streaming; Flink for batch processing), but no other offering can own the end-to-end production pipeline quite like Spark.", "When you\u2019re building something to last, you can\u2019t spend time worrying whether your architecture will persist over the coming decade. Given the impressive list of companies currently using Spark, it\u2019s fair to assume that Spark isn\u2019t going away any time soon. Even if the Spark architecture were to disappear in favor of a competing framework, it\u2019d be relatively easy to run your existing Python, R, or Scala code on a new back-end (the same thing cannot be said for SAS).", "Spark is a powerful tool, but it hasn\u2019t been as easy to adopt as my team and I initially expected. Though some differences simply required getting used to, three overarching challenges persist today:", "Avoiding terminations when working with terabytes of data requires an acute focus on code efficiency. When you\u2019re playing with less than twenty million rows in Jupyter, you don\u2019t have much to worry about; most cells will run instantly, and the worst thing you can do is kill your kernel and force a thirty-second reset. An out-of-memory failure on a Spark cluster is much more disruptive. One poorly-designed join can lead to a half-hour delay as you wait for your Spark cluster to auto-scale, die, and reset itself. To add injury to inconvenience, these resets can be extremely costly if your cluster doesn\u2019t have the right guardrails in place.", "Engineers tend to come equipped with this efficiency-focused mindset: we\u2019re used to splitting problems into modular chunks and thinking critically about code before it\u2019s submitted. Statisticians and analysts, on the other hand, tend to debug their code only after they\u2019re thrown an error or exception. These groups tend to struggle with Spark because it forces them to preempt potential issues in a way they aren\u2019t used to. Failing to spot minor cues (such as an unnecessary user-defined function or unintended .collect() method) often equates to massive delays for anyone using the cluster.", "Most Python and R users (myself included) have been spoiled by the collaborative communities supporting these languages. We\u2019re used to Googling for libraries to solve our problems and, when none exist, we can usually hack together a solution with a quick visit to Stack Overflow or Medium. When we need to look at docs, we expect to find clean, concise prose that\u2019s been tailored to a non-technical audience over decades of development. We\u2019ll rarely encounter an issue that hasn\u2019t already been solved and written-up by someone else.", "These communal crutches don\u2019t yet exist for Spark. There isn\u2019t always a high-level abstraction to solve any given problem, and the quantity and quality of bug support you\u2019ll receive online is much weaker than in Python or R. Spark\u2019s docs are helpful if you know how to read them, but they\u2019re clearly written for computer scientists; statisticians and less-technical practitioners won\u2019t be self-sufficient until they learn a few CS basics.", "Initially, our team loved the idea of moving data seamlessly between Python, R, and Scala. After a few weeks in the trenches, however, this feature felt more like a crutch than an enhancement. The problem is that PySpark and SparkR don\u2019t yet stand on their own: while you can Google around for Spark-equivalents to your most-used functions in pandas or dplyr, many of the intuitive methods that make these libraries magical haven\u2019t made their way into Spark. You can write band-aids in Scala while you wait for these APIs to be updated, but doing so adds time, complexity, and technical debt to your build.", "Despite these challenges, Spark is an excellent means of closing the gap between pilot and scale. It offers a comprehensive solution to a major pain point in the development lifecycle, and the issues mentioned above will fade over time as Spark and its language APIs mature. The back-end may change, GPUs may become the new norm, but the community behind distributed computing will only grow as engineering teams are pushed towards compute clusters by ever-increasing data volumes. New developers lead to new development and before long, we\u2019ll have an entirely different frontier of issues to write about.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Working with others to build solutions, tell stories, and grow businesses using analytics and machine learning."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F1f4996e940ff&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwill-it-scale-1f4996e940ff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwill-it-scale-1f4996e940ff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwill-it-scale-1f4996e940ff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwill-it-scale-1f4996e940ff&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----1f4996e940ff--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1f4996e940ff--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@nicklind?source=post_page-----1f4996e940ff--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nicklind?source=post_page-----1f4996e940ff--------------------------------", "anchor_text": "Nick Lind"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb50fcf0c027&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwill-it-scale-1f4996e940ff&user=Nick+Lind&userId=b50fcf0c027&source=post_page-b50fcf0c027----1f4996e940ff---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1f4996e940ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwill-it-scale-1f4996e940ff&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1f4996e940ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwill-it-scale-1f4996e940ff&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@tateisimikito", "anchor_text": "Jukan Tateisi"}, {"url": "https://spark.apache.org/", "anchor_text": "Apache Spark"}, {"url": "https://docs.dask.org/en/latest/spark.html", "anchor_text": "Dask"}, {"url": "https://spark.apache.org/", "anchor_text": "100x faster"}, {"url": "http://spark.apache.org/powered-by.html", "anchor_text": "Given the impressive list of companies currently using Spark"}, {"url": "https://medium.com/tag/big-data?source=post_page-----1f4996e940ff---------------big_data-----------------", "anchor_text": "Big Data"}, {"url": "https://medium.com/tag/spark?source=post_page-----1f4996e940ff---------------spark-----------------", "anchor_text": "Spark"}, {"url": "https://medium.com/tag/data-science?source=post_page-----1f4996e940ff---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----1f4996e940ff---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/development?source=post_page-----1f4996e940ff---------------development-----------------", "anchor_text": "Development"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1f4996e940ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwill-it-scale-1f4996e940ff&user=Nick+Lind&userId=b50fcf0c027&source=-----1f4996e940ff---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F1f4996e940ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwill-it-scale-1f4996e940ff&user=Nick+Lind&userId=b50fcf0c027&source=-----1f4996e940ff---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F1f4996e940ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwill-it-scale-1f4996e940ff&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----1f4996e940ff--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F1f4996e940ff&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwill-it-scale-1f4996e940ff&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----1f4996e940ff---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----1f4996e940ff--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----1f4996e940ff--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----1f4996e940ff--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----1f4996e940ff--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----1f4996e940ff--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----1f4996e940ff--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----1f4996e940ff--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----1f4996e940ff--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nicklind?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@nicklind?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Nick Lind"}, {"url": "https://medium.com/@nicklind/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "49 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb50fcf0c027&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwill-it-scale-1f4996e940ff&user=Nick+Lind&userId=b50fcf0c027&source=post_page-b50fcf0c027--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fb50fcf0c027%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwill-it-scale-1f4996e940ff&user=Nick+Lind&userId=b50fcf0c027&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}