{"url": "https://towardsdatascience.com/a-quick-guide-to-geojsons-in-power-bi-f4736e76aa9d", "time": 1682993759.8242528, "path": "towardsdatascience.com/a-quick-guide-to-geojsons-in-power-bi-f4736e76aa9d/", "webpage": {"metadata": {"title": "A Quick Guide to GeoJSONs in Power BI | by Lance McDiffett | Towards Data Science", "h1": "A Quick Guide to GeoJSONs in Power BI", "description": "Many cities have a wealth of safety data \u2014 crime, moving violations, crashes, etc.\u2014 but having data in and of itself does not always equate to having information. If it did, the world wouldn\u2019t need\u2026"}, "outgoing_paragraph_urls": [{"url": "http://opendata.dc.gov/datasets/crashes-in-dc", "anchor_text": "a data set containing all crashes and their locations", "paragraph_index": 3}, {"url": "https://medium.freecodecamp.org/what-is-an-api-in-english-please-b880a3214a82", "anchor_text": "this", "paragraph_index": 5}, {"url": "https://en.wikipedia.org/wiki/GeoJSON", "anchor_text": "here", "paragraph_index": 8}, {"url": "https://powerbi.microsoft.com/en-us/desktop/", "anchor_text": "It\u2019s free to download and play around with!", "paragraph_index": 10}], "all_paragraphs": ["Many cities have a wealth of safety data \u2014 crime, moving violations, crashes, etc.\u2014 but having data in and of itself does not always equate to having information. If it did, the world wouldn\u2019t need analysts!", "After repeatedly receiving requests to perform traffic safety analytics for our clients, I undertook the task of developing an interactive tool that would enable cities to explore their own safety data in a way that would easily allow them to extract relevant safety-related information and insights.", "A key component to this tool was the ability to provide the cities with crash data that was as up-to-date as possible, without having to manually update that crash data each time it was refreshed. I chose to do this within Power BI and used Washington, DC as a prototype for the tool.", "First off, I needed to find my data. From past analyses I knew that Washington, DC has a pretty impressive open data setup so I stumbled over there and began searching. Turns out, they had exactly what I needed \u2014 a data set containing all crashes and their locations maintained by the District DOT. Jackpot.", "Next up, obtaining the data. The Open Data DC site allows you to download CSVs, KMLs and shapefiles, but these are only a snapshot of a point in time. The purpose of creating this tool is, in part, to build a product that replaces the need for me to perform the same analysis every month or so as data changes. Luckily, Open Data DC has an API.", "If you\u2019re new to this whole world of API\u2019s like I am, this article by Petr Gazarov is very digestible and informative.", "Accessing their API is simple enough, but figuring out how to utilize that data within Power BI was a bit of learning experience for me. I spent hours exploring the different API\u2019s they provided, the data that they returned, and doing some research online. During my searching, I wasn\u2019t able to find anything that really took me through the process from finding the data to loading it into the Power BI data model (especially for GeoJSON files), so I thought I would write up a quick article that walks through it step-by-step.", "The Open Data DC API drop-down menu offers several URLs at which you can obtain the entire crash data set, but the one I will be working with for this post is the GeoJSON format. Before going into the details of connecting to the API, I\u2019ll take a moment to discuss GeoJSON files.", "JSON files are based on JavaScript and store information in a text format that is pretty easy for various types of programs to parse. GeoJSON files are essentially the same thing, but the information that they store corresponds to geographical data. Since the file for this particular data set is pretty large let\u2019s take a quick look at the generic structure of a GeoJSON file to identify what elements we will need to extract once we load it into Power BI, instead of directly opening the file itself (an expanded version of this code can be found on the GeoJSON Wikipedia page here):", "It appears that there are two features: \u201cgeometry\u201d and \u201cproperties\u201d. It\u2019s probably safe to guess that geometry contains the spatial information used to visualize the data set (coordinate pairs for points in this case, but they could also be lines or polygon boundaries). Properties (bold text in the above code) contains the various properties and values for each record (in our case, this corresponds to the different attributes of each crash). It\u2019s worth noting here that by exploring the crash data set on the website, we can see that there are specific fields for Latitude and Longitude, which will fall under the properties feature \u2014 so we won\u2019t have to extract them from the geometry feature.", "This section will require that you have Power BI Desktop installed on your computer. It\u2019s free to download and play around with!", "From within Power BI Desktop, you\u2019ll click the \u201cGet Data\u201d button on the top ribbon and choose \u201cWeb\u201d from the drop down menu. This will pop-up a dialog box where you will paste in the URL for the GeoJSON file from the Open Data DC website.", "Once the data set is imported, we\u2019ll convert it into a table by clicking the \u201cInto Table\u201d button at the top left of the ribbon under the \u201cConvert\u201d tab.", "Thinking back on our GeoJSON file structure exploration earlier, we expect there to be two features : geometry and properties, with properties containing the information we want for each of the crashes. In order to get to these, we\u2019ll perform the following steps:", "You\u2019ll now have something that looks like this:", "We\u2019re almost there. We\u2019ve used that \u201cValue\u201d drop-down menu a few times, but\u2026", "After clicking the drop-down menu for the \u201cValue\u201d column once more (now named Value.properties), something beautiful happens \u2014 we find the attributes for the crashes. You can pick which columns to keep or keep them all, but for your own sanity deselect the \u201cUse original column name as prefix\u201d box (otherwise every column in your data set will be preceded with \u201cValues.properties\u201d).", "There will be some follow up column transformations that you\u2019ll likely want to do (a date field conversion, which can be found in the suggestions section below, or converting numeric fields to actual numbers instead of text), but the data is pretty much ready to use at this point! Below is a quick dashboard I put together with some of the most basic data contained within the GeoJSON file:", "That\u2019s it! We\u2019ve successfully connected to an API and transformed the provided GeoJSON files into a usable Power BI data set that can be refreshed periodically without having to manually replace the data when the source updates.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data scientist, video game enthusiast, cat lover."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff4736e76aa9d&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-guide-to-geojsons-in-power-bi-f4736e76aa9d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-guide-to-geojsons-in-power-bi-f4736e76aa9d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-guide-to-geojsons-in-power-bi-f4736e76aa9d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-guide-to-geojsons-in-power-bi-f4736e76aa9d&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----f4736e76aa9d--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f4736e76aa9d--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://lantsalot.medium.com/?source=post_page-----f4736e76aa9d--------------------------------", "anchor_text": ""}, {"url": "https://lantsalot.medium.com/?source=post_page-----f4736e76aa9d--------------------------------", "anchor_text": "Lance McDiffett"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fac64f643c73c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-guide-to-geojsons-in-power-bi-f4736e76aa9d&user=Lance+McDiffett&userId=ac64f643c73c&source=post_page-ac64f643c73c----f4736e76aa9d---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff4736e76aa9d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-guide-to-geojsons-in-power-bi-f4736e76aa9d&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff4736e76aa9d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-guide-to-geojsons-in-power-bi-f4736e76aa9d&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "http://opendata.dc.gov/datasets/crashes-in-dc", "anchor_text": "a data set containing all crashes and their locations"}, {"url": "https://medium.freecodecamp.org/what-is-an-api-in-english-please-b880a3214a82", "anchor_text": "this"}, {"url": "https://en.wikipedia.org/wiki/GeoJSON", "anchor_text": "here"}, {"url": "https://powerbi.microsoft.com/en-us/desktop/", "anchor_text": "It\u2019s free to download and play around with!"}, {"url": "https://medium.com/tag/geojson?source=post_page-----f4736e76aa9d---------------geojson-----------------", "anchor_text": "Geojson"}, {"url": "https://medium.com/tag/power-bi?source=post_page-----f4736e76aa9d---------------power_bi-----------------", "anchor_text": "Power Bi"}, {"url": "https://medium.com/tag/data-science?source=post_page-----f4736e76aa9d---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff4736e76aa9d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-guide-to-geojsons-in-power-bi-f4736e76aa9d&user=Lance+McDiffett&userId=ac64f643c73c&source=-----f4736e76aa9d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff4736e76aa9d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-guide-to-geojsons-in-power-bi-f4736e76aa9d&user=Lance+McDiffett&userId=ac64f643c73c&source=-----f4736e76aa9d---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff4736e76aa9d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-guide-to-geojsons-in-power-bi-f4736e76aa9d&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----f4736e76aa9d--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Ff4736e76aa9d&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-guide-to-geojsons-in-power-bi-f4736e76aa9d&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----f4736e76aa9d---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----f4736e76aa9d--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----f4736e76aa9d--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----f4736e76aa9d--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----f4736e76aa9d--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f4736e76aa9d--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f4736e76aa9d--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----f4736e76aa9d--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----f4736e76aa9d--------------------------------", "anchor_text": ""}, {"url": "https://lantsalot.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://lantsalot.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Lance McDiffett"}, {"url": "https://lantsalot.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "36 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fac64f643c73c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-guide-to-geojsons-in-power-bi-f4736e76aa9d&user=Lance+McDiffett&userId=ac64f643c73c&source=post_page-ac64f643c73c--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fac64f643c73c%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-quick-guide-to-geojsons-in-power-bi-f4736e76aa9d&user=Lance+McDiffett&userId=ac64f643c73c&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}