{"url": "https://towardsdatascience.com/get-up-to-date-financial-ratios-p-e-p-b-and-more-of-stocks-using-python-4b53dd82908f", "time": 1683006213.045231, "path": "towardsdatascience.com/get-up-to-date-financial-ratios-p-e-p-b-and-more-of-stocks-using-python-4b53dd82908f/", "webpage": {"metadata": {"title": "Get Up-to-Date Financial Ratios of Stocks Using Python | by Damian Boh | DataDrivenInvestor", "h1": "Get Up-to-Date Financial Ratios of Stocks Using Python", "description": "If you invest in stocks, chances are you would have heard of how fundamental analysis would make you a more informed value-investor. If you are familiar with fundamental analysis, you would also have\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.investopedia.com/terms/f/fundamentalanalysis.asp", "anchor_text": "fundamental analysis", "paragraph_index": 0}, {"url": "https://www.investopedia.com/terms/v/valuation.asp", "anchor_text": "measuring a security\u2019s intrinsic value", "paragraph_index": 1}, {"url": "https://www.investopedia.com/terms/f/fundamentalanalysis.asp", "anchor_text": "Investopedia\u2019s definition", "paragraph_index": 3}, {"url": "https://medium.com/datadriveninvestor/how-to-get-financial-ratios-using-python-18131b63ef29", "anchor_text": "here", "paragraph_index": 8}, {"url": "https://finviz.com/", "anchor_text": "FinViz", "paragraph_index": 10}, {"url": "https://www.crummy.com/software/BeautifulSoup/bs4/doc/", "anchor_text": "BeautifulSoup\u2019s documentation", "paragraph_index": 12}, {"url": "https://github.com/damianboh/get_fundamental_ratios/blob/master/Get_Fundamental_Ratios_of_Stocks_FinViz.ipynb", "anchor_text": "this Python Notebook", "paragraph_index": 21}, {"url": "https://app.ddichat.com/category/data-science-ai-ml-dl", "anchor_text": "Data Science / AI / ML / DL", "paragraph_index": 23}, {"url": "https://app.ddichat.com/expertsignup", "anchor_text": "here", "paragraph_index": 24}, {"url": "https://datadriveninvestor.com/collaborate", "anchor_text": "https://datadriveninvestor.com/collaborate", "paragraph_index": 24}, {"url": "https://ddintel.datadriveninvestor.com/", "anchor_text": "here", "paragraph_index": 24}, {"url": "https://damianboh.github.io/", "anchor_text": "https://damianboh.github.io/", "paragraph_index": 26}], "all_paragraphs": ["If you invest in stocks, chances are you would have heard of how fundamental analysis would make you a more informed value-investor.", "Fundamental analysis (FA) is a method of measuring a security\u2019s intrinsic value by examining related economic and financial factors.", "The end goal is to arrive at a number that an investor can compare with a security\u2019s current price in order to see whether the security is undervalued or overvalued.", "The above is the definition of fundamental analysis, quoted from Investopedia\u2019s definition.", "If you are familiar with fundamental analysis, you would also have heard of the usefulness of financial ratios such as price-to-earnings (P/E) ratio, price-to-book (P/B) ratio, price/earnings-to-growth (PEG) ratio in valuing a company and also ratios like debt-to-equity (D/E) ratio in determining a company\u2019s financial health. Feel free to read more about the in the link below.", "Wouldn\u2019t it be nice to be able to obtain these ratios of your favorite stocks in Python without having to browse through websites after websites?", "Most APIs, however, give outdated annual/quarterly financial ratios.", "A very popular API for obtaining financial statements is that from Financial Modeling Prep (link below), however, it gives outdated annual/quarterly financial ratios (see red arrow in screenshot below).", "Although this data is outdated, it is still useful when analyzing historical ratios for the past few years for each company. A guide to using Finance Modelling Prep\u2019s API is given here.", "Yes, here we obtain up-to-date ratios.", "First, we import the libraries that we need to store the data. BeautifulSoup is needed to parse data from FinViz while urllib.request is needed to get data. You may have to do pip install urllib3 and pip install bs4 if you do not already have the libraries.", "Next, we write functions to get and parse data from the FinViz website. An example of a website showing the financial ratios for AAPL is given here.", "Below are the functions needed to parse the html from the page above to get the ratios from the tables in the page. Basically the ratios are inside html tables with the class attribute \u2018snapshot-td2\u2019. Please refer to BeautifulSoup\u2019s documentation to understand more.", "Visit the FinViz website given in step 2 to see all the ratios and metrics that you can obtain. A table taken from the website is shown below.", "Other useful metrics like Market Cap, Income, Profit Margin and even Number of Employees and Percentage of Ownership of Insiders are given too.", "The resulting DataFrame is shown below. Further work needs to be done as the values are recognized as strings. This is because of the missing values labelled as \u2018-\u2019 as well as \u2018%\u2019 symbols. We need to convert everything into numeric data before doing any form of analysis.", "We remove the \u2018%\u2019 and turn everything into numeric data, resulting in the following output.", "We are done! Let\u2019s filter for desirable companies.", "These are examples of what you can do with the data.", "Here we are filtering on top of the above criteria.", "It would also be good to sieve out companies in which insiders have substantial ownership. This is to ensure the interests of management will be aligned to that of the shareholders. I have separately sieved out these companies here.", "I hope you find the above useful. All code is available in this Python Notebook in my GitHub repository. Of course, it is now up to you to decide what to do with these data!", "If you enjoyed this article, you may checkout my other articles!", "Schedule a DDIChat Session in Data Science / AI / ML / DL:", "Apply to be a DDIChat Expert here.Work with DDI: https://datadriveninvestor.com/collaborateSubscribe to DDIntel here.", "empowerment through data, knowledge, and expertise. subscribe to DDIntel at https://ddintel.datadriveninvestor.com", "Developer and ML engineer with a theoretical physics background, keen interest in building web/mobile apps, ML and IoT. https://damianboh.github.io/"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F4b53dd82908f&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.datadriveninvestor.com%2Fget-up-to-date-financial-ratios-p-e-p-b-and-more-of-stocks-using-python-4b53dd82908f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Fmedium.datadriveninvestor.com%2Fget-up-to-date-financial-ratios-p-e-p-b-and-more-of-stocks-using-python-4b53dd82908f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.datadriveninvestor.com%2Fget-up-to-date-financial-ratios-p-e-p-b-and-more-of-stocks-using-python-4b53dd82908f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Fmedium.datadriveninvestor.com%2Fget-up-to-date-financial-ratios-p-e-p-b-and-more-of-stocks-using-python-4b53dd82908f&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.datadriveninvestor.com/?source=post_page-----4b53dd82908f--------------------------------", "anchor_text": ""}, {"url": "https://medium.datadriveninvestor.com/?source=post_page-----4b53dd82908f--------------------------------", "anchor_text": "DataDrivenInvestor"}, {"url": "https://medium.com/@bohmian?source=post_page-----4b53dd82908f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@bohmian?source=post_page-----4b53dd82908f--------------------------------", "anchor_text": "Damian Boh"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa12faceacf88&operation=register&redirect=https%3A%2F%2Fmedium.datadriveninvestor.com%2Fget-up-to-date-financial-ratios-p-e-p-b-and-more-of-stocks-using-python-4b53dd82908f&user=Damian+Boh&userId=a12faceacf88&source=post_page-a12faceacf88----4b53dd82908f---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4b53dd82908f&operation=register&redirect=https%3A%2F%2Fmedium.datadriveninvestor.com%2Fget-up-to-date-financial-ratios-p-e-p-b-and-more-of-stocks-using-python-4b53dd82908f&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4b53dd82908f&operation=register&redirect=https%3A%2F%2Fmedium.datadriveninvestor.com%2Fget-up-to-date-financial-ratios-p-e-p-b-and-more-of-stocks-using-python-4b53dd82908f&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@adamaszczos?utm_source=medium&utm_medium=referral", "anchor_text": "Adam Nowakowski"}, {"url": "https://unsplash.com?utm_source=medium&utm_medium=referral", "anchor_text": "Unsplash"}, {"url": "https://www.investopedia.com/terms/f/fundamentalanalysis.asp", "anchor_text": "fundamental analysis"}, {"url": "https://www.investopedia.com/terms/v/valuation.asp", "anchor_text": "measuring a security\u2019s intrinsic value"}, {"url": "https://www.investopedia.com/terms/f/fundamentalanalysis.asp", "anchor_text": "Investopedia\u2019s definition"}, {"url": "https://www.investopedia.com/articles/fundamental-analysis/09/five-must-have-metrics-value-investors.asp", "anchor_text": "5 Must-Have Metrics for Value InvestorsAlthough there's no \"right way\" to analyze a stock, value investors turn to financial ratios to help analyze a\u2026www.investopedia.com"}, {"url": "https://financialmodelingprep.com/developer/docs/#Company-Financial-Ratios", "anchor_text": "Free Stock API and Financial Statements API - FMP APIThis documentation includes a financial statements API, a free stock API and a historical quotes API. Find all\u2026financialmodelingprep.com"}, {"url": "https://medium.com/datadriveninvestor/how-to-get-financial-ratios-using-python-18131b63ef29", "anchor_text": "here"}, {"url": "https://finviz.com/", "anchor_text": "FinViz"}, {"url": "https://finviz.com/quote.ashx?t=AAPL", "anchor_text": "AAPL Apple Inc. Stock QuoteApple Inc. designs, manufactures, and markets smartphones, personal computers, tablets, wearables, and accessories\u2026finviz.com"}, {"url": "https://www.crummy.com/software/BeautifulSoup/bs4/doc/", "anchor_text": "BeautifulSoup\u2019s documentation"}, {"url": "http://finviz.com/quote.ashx?t=", "anchor_text": "http://finviz.com/quote.ashx?t="}, {"url": "https://finviz.com/quote.ashx?t=AAPL", "anchor_text": "FinViz Page"}, {"url": "https://github.com/damianboh/get_fundamental_ratios/blob/master/Get_Fundamental_Ratios_of_Stocks_FinViz.ipynb", "anchor_text": "this Python Notebook"}, {"url": "https://medium.com/@bohmian/sentiment-analysis-of-stocks-from-financial-news-using-python-82ebdcefb638", "anchor_text": "Sentiment Analysis of Stocks from Financial News using PythonExtract stock sentiments from financial news headlines in FinViz website using Pythonmedium.com"}, {"url": "https://towardsdatascience.com/train-and-deploy-an-nlp-news-classifier-web-app-to-the-cloud-for-free-82655b6b32f4", "anchor_text": "Train and Deploy an NLP News Classifier Web App to the Cloud for FreeStep-by-step guide to training an NLP model, embedding it in a Python Flask Web App and deploying it onto the cloudmedium.datadriveninvestor.com"}, {"url": "https://towardsdatascience.com/how-to-calculate-intrinsic-value-of-a-stock-aapl-case-study-935fb062004b", "anchor_text": "How to Calculate Intrinsic Value of a Stock (AAPL Case Study)Step-by-step Guide to Obtaining Company Data and Calculating Intrinsic Value of a Stock, Web App Includedmedium.datadriveninvestor.com"}, {"url": "https://towardsdatascience.com/use-python-to-value-a-stock-automatically-3b520422ab6", "anchor_text": "Use Python to Value a Stock AutomaticallyIs Apple Stock Overvalued? Just Enter the Ticker and Let Python decide Automatically!medium.datadriveninvestor.com"}, {"url": "https://medium.com/@bohmian/membership", "anchor_text": "Join Medium with my referral link - BohmianAs a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026medium.com"}, {"url": "https://app.ddichat.com/category/data-science-ai-ml-dl", "anchor_text": "Data Science / AI / ML / DL"}, {"url": "https://app.ddichat.com/category/data-science-ai-ml-dl", "anchor_text": "Experts - Data Science / AI / ML / DL - DDIChatDDIChat allows individuals and businesses to speak directly with subject matter experts. It makes consultation fast\u2026app.ddichat.com"}, {"url": "https://app.ddichat.com/expertsignup", "anchor_text": "here"}, {"url": "https://datadriveninvestor.com/collaborate", "anchor_text": "https://datadriveninvestor.com/collaborate"}, {"url": "https://ddintel.datadriveninvestor.com/", "anchor_text": "here"}, {"url": "https://medium.com/tag/trading?source=post_page-----4b53dd82908f---------------trading-----------------", "anchor_text": "Trading"}, {"url": "https://medium.com/tag/finance?source=post_page-----4b53dd82908f---------------finance-----------------", "anchor_text": "Finance"}, {"url": "https://medium.com/tag/python?source=post_page-----4b53dd82908f---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/data-science?source=post_page-----4b53dd82908f---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/programming?source=post_page-----4b53dd82908f---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fdatadriveninvestor%2F4b53dd82908f&operation=register&redirect=https%3A%2F%2Fmedium.datadriveninvestor.com%2Fget-up-to-date-financial-ratios-p-e-p-b-and-more-of-stocks-using-python-4b53dd82908f&user=Damian+Boh&userId=a12faceacf88&source=-----4b53dd82908f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fdatadriveninvestor%2F4b53dd82908f&operation=register&redirect=https%3A%2F%2Fmedium.datadriveninvestor.com%2Fget-up-to-date-financial-ratios-p-e-p-b-and-more-of-stocks-using-python-4b53dd82908f&user=Damian+Boh&userId=a12faceacf88&source=-----4b53dd82908f---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F4b53dd82908f&operation=register&redirect=https%3A%2F%2Fmedium.datadriveninvestor.com%2Fget-up-to-date-financial-ratios-p-e-p-b-and-more-of-stocks-using-python-4b53dd82908f&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://medium.datadriveninvestor.com/?source=post_page-----4b53dd82908f--------------------------------", "anchor_text": "More from DataDrivenInvestor"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Fdatadriveninvestor%2F4b53dd82908f&operation=register&redirect=https%3A%2F%2Fmedium.datadriveninvestor.com%2Fget-up-to-date-financial-ratios-p-e-p-b-and-more-of-stocks-using-python-4b53dd82908f&collection=DataDrivenInvestor&collectionId=32881626c9c9&source=post_page-----4b53dd82908f---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://medium.datadriveninvestor.com/?source=post_page-----4b53dd82908f--------------------------------", "anchor_text": "Read more from DataDrivenInvestor"}, {"url": "https://medium.com/?source=post_page-----4b53dd82908f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----4b53dd82908f--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----4b53dd82908f--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----4b53dd82908f--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----4b53dd82908f--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----4b53dd82908f--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----4b53dd82908f--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@bohmian?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@bohmian?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Damian Boh"}, {"url": "https://medium.com/@bohmian/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "1K Followers"}, {"url": "https://damianboh.github.io/", "anchor_text": "https://damianboh.github.io/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa12faceacf88&operation=register&redirect=https%3A%2F%2Fmedium.datadriveninvestor.com%2Fget-up-to-date-financial-ratios-p-e-p-b-and-more-of-stocks-using-python-4b53dd82908f&user=Damian+Boh&userId=a12faceacf88&source=post_page-a12faceacf88--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Ff2f8afd29374&operation=register&redirect=https%3A%2F%2Fmedium.datadriveninvestor.com%2Fget-up-to-date-financial-ratios-p-e-p-b-and-more-of-stocks-using-python-4b53dd82908f&newsletterV3=a12faceacf88&newsletterV3Id=f2f8afd29374&user=Damian+Boh&userId=a12faceacf88&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}