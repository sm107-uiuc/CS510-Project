{"url": "https://towardsdatascience.com/python-has-a-built-in-database-heres-how-to-use-it-47826c10648a", "time": 1683014509.3039129, "path": "towardsdatascience.com/python-has-a-built-in-database-heres-how-to-use-it-47826c10648a/", "webpage": {"metadata": {"title": "Python has a Built-in Database \u2014 Here\u2019s How to use it | by Dario Rade\u010di\u0107 | Towards Data Science", "h1": "Python has a Built-in Database \u2014 Here\u2019s How to use it", "description": "Databases are a great, secure, and reliable way to store data. All major relational databases have something in common \u2014 SQL \u2014 a language to manipulate databases, tables, and data. SQL is a broad\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.imdb.com/", "anchor_text": "IMDB.com", "paragraph_index": 6}, {"url": "https://mailchi.mp/46a3d2989d9b/bdssubscribe", "anchor_text": "Join my private email list for more helpful insights.", "paragraph_index": 32}, {"url": "https://medium.com/@radecicdario/membership", "anchor_text": "Medium member", "paragraph_index": 33}, {"url": "https://betterdatascience.com/python-has-a-built-in-database-heres-how-to-use-it/", "anchor_text": "https://betterdatascience.com", "paragraph_index": 34}, {"url": "http://betterdatascience.com", "anchor_text": "betterdatascience.com", "paragraph_index": 36}], "all_paragraphs": ["Databases are a great, secure, and reliable way to store data. All major relational databases have something in common \u2014 SQL \u2014 a language to manipulate databases, tables, and data. SQL is a broad topic to cover, especially when dealing with different database vendors, such as Microsoft, IBM, or Oracle, so let\u2019s start with SQLite \u2014 the most lightweight database system.", "So, what is SQLite? I\u2019m glad you\u2019ve asked. It\u2019s a library that provides us with a database or relational database management system. The term \u2018Lite\u2019 means \u2018Lightweight,\u2019 which means it\u2019s light for setup and administration in the database world.", "Why should I care? Because you can get a database experience without the need for downloading software or creating a cloud database, and then figuring out how to connect with Python. It\u2019s not the most secure option, sure, but it still beats CSVs and Excel files by a large margin, because everyone can\u2019t alter the data.", "Today\u2019s article is structured as follows:", "So we\u2019ll cover the basics \u2014 how to create tables, insert data, update data, delete data, fetch all data, and fetch data based on a condition. It\u2019s everything you need to build applications.", "Do you love movies? Yeah, me too. We\u2019ll focus on just that today, by creating a database and a table to store movie titles and additional information. After we make the table, we\u2019ll need to declare a couple of functions:", "It sounds like a lot, but it isn\u2019t. We\u2019ll use Python to communicate with the SQLite database, and we\u2019ll fetch movie info from IMDB.com.", "We can\u2019t store data in the database directly \u2014 we need tables. Databases store tables and tables store data. Our procedure is as follows \u2014 create a movies table only if it doesn\u2019t exist already. That will require two SQL queries, one to check if the table with a given name exists, and the other to create a table.", "First, we need to import the SQLite library, establish a database connection, and create a cursor. The following snippet does it:", "The movies.db database will get created if it doesn\u2019t exist, and if it does, only a connection gets established.", "Next, we\u2019ll declare a function that checks if a table exists. The table name gets passed as a function parameter, and it returns True if the table exists, and False otherwise:", "The newer f-strings don\u2019t work for some reason, so we have to dial back to the older syntax \u2014 not an issue, but keep that in mind. The next step is to use the declared function to check if a table exists, and to create it if it doesn\u2019t. The following snippet does it:", "Awesome! This section ends here, and we\u2019ll get to the fun stuff next.", "Okay, we have everything configured, and now is the time to work with data. To start, we need a function that inserts a movie to the table (the Create part). It is quite an easy one to write, as we need to execute a single INSERT statement and commit the transaction. Here\u2019s the code:", "And that\u2019s it! We\u2019ll keep the testing part for later, and now we\u2019ll continue with the Read part.", "We\u2019ll declare two functions here \u2014 first to get all movies and second to get only a single one, specified by the movie ID. You can easily condense the logic into a single function, but I\u2019ve chosen to go with this approach.", "Here\u2019s the function for fetching all of the movies:", "And the snippet to fetch a single movie:", "Great! The Update part comes next. This one is trickier. We want to update elements according to a given movie ID, but what will we update? Do we declare a particular function for every field? That doesn\u2019t sound right. We\u2019ll perform the update with a dictionary.", "Let me elaborate. Our update function will accept two parameters:", "Keys in the update dictionary must be named according to the table columns, or the exception gets raised. Also, we need to handle the update of numeric and textual fields. It\u2019s the trickiest function thus far, but you can handle it:", "See? It wasn\u2019t that hard. Let\u2019s finish with the Delete part. It is much simpler than the previous one, as we only need to execute a single statement and commit the transaction. Here\u2019s the code:", "And that concludes this part. We\u2019ll test our functions next.", "To start, let\u2019s insert a couple of movies:", "Executing these five lines doesn\u2019t output anything to the console, which is expected \u2014 we\u2019re only inserting data to the table. Next, we\u2019ll use our predefined function to grab all movies:", "Awesome! Let\u2019s now get only a single movie:", "That was pretty easy. Now we\u2019ll see how to update a movie. The last one inserted, World War Z, was intentionally given a rating of 10 and a Romance genre, so let\u2019s change that:", "Now things make sense. The only thing left to do is to delete a movie \u2014 let\u2019s see how to do that:", "That doesn\u2019t return anything \u2014 as expected. We can quickly get all of the movies to see if the delete function works:", "And that does it \u2014 everything works as advertised. Let\u2019s wrap things up in the next section.", "I hope it was easy to follow along. We covered the basics and left a lot of things untouched. It\u2019s still enough to build basic, database-driven applications or APIs, but more on APIs some other time.", "Feel free to expand this, add new functions or tables, or to improve overall code quality.", "Join my private email list for more helpful insights.", "Loved the article? Become a Medium member to continue learning without limits. I\u2019ll receive a portion of your membership fee if you use the following link, with no extra cost to you.", "Originally published at https://betterdatascience.com on October 1, 2020.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Scientist & Tech Writer | betterdatascience.com"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F47826c10648a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-has-a-built-in-database-heres-how-to-use-it-47826c10648a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-has-a-built-in-database-heres-how-to-use-it-47826c10648a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-has-a-built-in-database-heres-how-to-use-it-47826c10648a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-has-a-built-in-database-heres-how-to-use-it-47826c10648a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----47826c10648a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----47826c10648a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@radecicdario?source=post_page-----47826c10648a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@radecicdario?source=post_page-----47826c10648a--------------------------------", "anchor_text": "Dario Rade\u010di\u0107"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F689ba04bb8be&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-has-a-built-in-database-heres-how-to-use-it-47826c10648a&user=Dario+Rade%C4%8Di%C4%87&userId=689ba04bb8be&source=post_page-689ba04bb8be----47826c10648a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F47826c10648a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-has-a-built-in-database-heres-how-to-use-it-47826c10648a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F47826c10648a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-has-a-built-in-database-heres-how-to-use-it-47826c10648a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://unsplash.com/@wocintechchat?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Christina @ wocintechchat.com"}, {"url": "https://unsplash.com/s/photos/server?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText", "anchor_text": "Unsplash"}, {"url": "https://www.imdb.com/", "anchor_text": "IMDB.com"}, {"url": "https://mailchi.mp/46a3d2989d9b/bdssubscribe", "anchor_text": "Join my private email list for more helpful insights."}, {"url": "https://medium.com/@radecicdario/membership", "anchor_text": "Medium member"}, {"url": "https://medium.com/@radecicdario/membership", "anchor_text": "Join Medium with my referral link - Dario Rade\u010di\u0107As a Medium member, a portion of your membership fee goes to writers you read, and you get full access to every story\u2026medium.com"}, {"url": "https://betterdatascience.com/python-has-a-built-in-database-heres-how-to-use-it/", "anchor_text": "https://betterdatascience.com"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----47826c10648a---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/data-science?source=post_page-----47826c10648a---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/python?source=post_page-----47826c10648a---------------python-----------------", "anchor_text": "Python"}, {"url": "https://medium.com/tag/sql?source=post_page-----47826c10648a---------------sql-----------------", "anchor_text": "Sql"}, {"url": "https://medium.com/tag/programming?source=post_page-----47826c10648a---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F47826c10648a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-has-a-built-in-database-heres-how-to-use-it-47826c10648a&user=Dario+Rade%C4%8Di%C4%87&userId=689ba04bb8be&source=-----47826c10648a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F47826c10648a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-has-a-built-in-database-heres-how-to-use-it-47826c10648a&user=Dario+Rade%C4%8Di%C4%87&userId=689ba04bb8be&source=-----47826c10648a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F47826c10648a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-has-a-built-in-database-heres-how-to-use-it-47826c10648a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----47826c10648a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F47826c10648a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-has-a-built-in-database-heres-how-to-use-it-47826c10648a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----47826c10648a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----47826c10648a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----47826c10648a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----47826c10648a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----47826c10648a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----47826c10648a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----47826c10648a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----47826c10648a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----47826c10648a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@radecicdario?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@radecicdario?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Dario Rade\u010di\u0107"}, {"url": "https://medium.com/@radecicdario/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "39K Followers"}, {"url": "http://betterdatascience.com", "anchor_text": "betterdatascience.com"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F689ba04bb8be&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-has-a-built-in-database-heres-how-to-use-it-47826c10648a&user=Dario+Rade%C4%8Di%C4%87&userId=689ba04bb8be&source=post_page-689ba04bb8be--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F33e2fb82c727&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpython-has-a-built-in-database-heres-how-to-use-it-47826c10648a&newsletterV3=689ba04bb8be&newsletterV3Id=33e2fb82c727&user=Dario+Rade%C4%8Di%C4%87&userId=689ba04bb8be&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://amzn.to/400ZUtX", "anchor_text": "Machine Learning Automation with TPOT: Build, validate, and deploy fully automated machine learning models with Python2021"}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}