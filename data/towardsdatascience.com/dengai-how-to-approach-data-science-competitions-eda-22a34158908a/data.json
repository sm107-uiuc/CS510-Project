{"url": "https://towardsdatascience.com/dengai-how-to-approach-data-science-competitions-eda-22a34158908a", "time": 1683012076.806608, "path": "towardsdatascience.com/dengai-how-to-approach-data-science-competitions-eda-22a34158908a/", "webpage": {"metadata": {"title": "DengAI \u2014 How to approach Data Science competitions? (EDA) | by Kemal Erdem (burnpiro) | Towards Data Science", "h1": "DengAI \u2014 How to approach Data Science competitions? (EDA)", "description": "Before we start I have to warn you that some parts might be obvious for more advanced data engineers, and it\u2019s a very long article. You might read it section by section of just pick the parts that\u2026"}, "outgoing_paragraph_urls": [{"url": "https://www.drivendata.org/competitions/44/dengai-predicting-disease-spread/", "anchor_text": "DengAI competition on the DrivenData platform", "paragraph_index": 0}, {"url": "https://github.com/burnpiro/dengai-predicting-disease-spread/blob/master/dengue_features_train.csv", "anchor_text": "training dataset", "paragraph_index": 2}, {"url": "https://github.com/burnpiro/dengai-predicting-disease-spread/blob/master/dengue_features_test.csv", "anchor_text": "test dataset", "paragraph_index": 2}, {"url": "https://pandas.pydata.org/", "anchor_text": "Pandas Library", "paragraph_index": 13}, {"url": "https://gist.github.com/burnpiro/30610b5cf9fd685905fe36a0572ab292", "anchor_text": "this Gist", "paragraph_index": 21}, {"url": "https://seaborn.pydata.org/", "anchor_text": "Seaborn", "paragraph_index": 23}, {"url": "https://en.wikipedia.org/wiki/Cram%C3%A9r%27s_V", "anchor_text": "Cram\u00e9r\u2019s V measure of association", "paragraph_index": 28}, {"url": "https://en.wikipedia.org/wiki/Normalized_difference_vegetation_index", "anchor_text": "Normalized difference vegetation index", "paragraph_index": 35}, {"url": "https://www.google.com/maps/place/San+Juan,+Puerto+Rico/@18.2818311,-67.176171,8.79z/data=!4m5!3m4!1s0x8c03686fe268196f:0xad6b7f0f5c935adc!8m2!3d18.4655394!4d-66.1057355", "anchor_text": "San Juan, Puerto Rico", "paragraph_index": 38}, {"url": "https://www.google.com/maps/place/Iquitos,+Peru/@-3.7626024,-73.5930914,9.54z/data=!4m5!3m4!1s0x91ea10b0e440c1cb:0x9210b8d7040a6692!8m2!3d-3.7436735!4d-73.2516326", "anchor_text": "Iquitos, Peru", "paragraph_index": 38}], "all_paragraphs": ["This article is based on my entry into DengAI competition on the DrivenData platform. I\u2019ve managed to score within 0.2% (14/9069 as on 02 Jun 2020). Some of the ideas presented here are strictly designed for competitions like that and might not be useful IRL.", "Before we start I have to warn you that some parts might be obvious for more advanced data engineers, and it\u2019s a very long article. You might read it section by section of just pick the parts that are interesting for you:", "First, we need to discuss the competition itself. DengAI\u2019s goal was (actually, at this moment even is, because the administration of DrivenData decided to make it \u201congoing\u201d competition, so you can join and try yourself) to predict a number of dengue cases in the particular week base on weather data and location. Each participant was given a training dataset and test dataset (not validation dataset). MAE ( Mean Absolute Error) is a metric used to calculate score and the training dataset covers 28 years of weekly values for 2 cities (1456 weeks). Test data is smaller and spans over 5 and 3 years (depends on the city).", "For those who don\u2019t know, Dengue fever is a mosquito-borne disease that occurs in tropical and sub-tropical parts of the world. Because it\u2019s carried by mosquitoes, the transmission is related to climate and weather variables.", "If we look at the training dataset it has multiple features:", "NOAA\u2019s GHCN daily climate data weather station measurements:", "PERSIANN satellite precipitation measurements (0.25x0.25 degree scale):", "NOAA\u2019s NCEP Climate Forecast System Reanalysis measurements (0.5x0.5 degree scale):", "Satellite vegetation \u2014 Normalized difference vegetation index (NDVI) \u2014 NOAA\u2019s CDR Normalized Difference Vegetation Index (0.5x0.5 degree scale) measurements:", "Additionally, we have information about the number of total_cases each week.", "It is easy to spot that for each row in the dataset we have multiple features describing similar kinds of data. There are four categories:", "- temperature- precipitation- humidity- ndvi (those four features are referring to different points in the cities, so they are not exactly the same data)", "Because of that, we should be able to remove some of the redundant data from the input. Ofc, we cannot just pick one temperature randomly. If we look at just temperature data there is a distinguishment between ranges (min, avg, max) and even type (mean dew point or diurnal).", "Before even starting designing the models we need to look at the raw data and fix it. To accomplish that we\u2019re going to use Pandas Library. Usually, we can just import .csv files out of the box and work on the imported DataFrame, but sometimes (especially when there is no column description in the first row) we have to provide a list of columns.", "Pandas has a build-in method called describe which displays basic statistical info about columns in a dataset.", "Naturally, this method works only on numerical data. If we have non-numerical columns we have to do some preprocessing first. In our case, the only column that is a categorical column is city. This column contains only two values sj and iq and we\u2019re going to deal with it later.", "Back to the main table. Each row contains a different kind of information:", "Let us start with the count. It is important to know how many records in your dataset has missing data (one or many) an decide what to do with them. If you look at the ndvi_nw value, it is empty in 13.3% of cases. That might be a problem if you decide to replace missing values with some arbitrary value like 0. Usually, there are two common solutions to this problem:", "When dealing with series data (like we do) it\u2019s easier to interpolate (average from just the neighbors) value from its neighbors instead of replacing it with just an average from the entire set. Usually, series data have some correlation between values in the series, and using neighbors gives a better result. Let me give you an example.", "Suppose you\u2019re dealing with temperature data, and your entire dataset consists of the values from January to December. The average value from the entire year is going to be an invalid replacement for missing days throughout most of the year. If you take days from July then you might have values like [28, 27, -, -, 30] (or [82, 81, -, -, 86] for those who prefer imperial units). If that would be a London then an annual average temperature is 11C (or 52F). Using 11 seams wrong in this case, doesn\u2019t it? That\u2019s why we should use interpolation instead of the average. With interpolation (even in the case when there is a wider gap) we should be able to achieve a better result. If you calculate values you should get (27+30)/2=28.5 and (28.5+30)/2=29.25 so at the end our dataset will look like [28, 27, 28.5, 29.25, 30], way better than [28, 27, 11, 11, 30].", "Because we\u2019ve already covered some important things lets define a method which allows us to redefine our categorical column ( city) into binary column vectors and interpolate data:", "All constants (like CATEGORICAL_COLUMNS) are defined in this Gist.", "This function returns a dataset with two binary columns called sj and iq which are having true values where city was set to be either sj or iq.", "It is important to plot your data to get a visual understanding of how values are distributed in the series. We\u2019re going to use a library called Seaborn to help us with plotting data.", "Here we have just one feature from the dataset, and we can clearly distinguish seasons and cities (the point when the average value drops from ~297K to ~292K).", "Another thing that could be useful is a pair correlation between different features. That way we could be able to remove some of the redundant features from our dataset.", "As you can notice, we can drop one of the precipitation features right away. It might be unintentional at first but because we have data from different sources, the same kind of data (like precipitation) won\u2019t always be fully correlated with each other. This might be due to different measurement methods or something else.", "When working with a lot of features we don\u2019t really have to plot pair plots for every pair like that. Another option is just to calculate sth called Correlation Score. There are different types of correlations for a different types of data. Because our dataset consists only of numerical data we can use the builtin method called .corr() to generate correlations for each city.", "If there are categorical columns which shouldn\u2019t be treated as binary you could calculate Cram\u00e9r\u2019s V measure of association to find out a \u201ccorrelation\u201d between them and the rest of the data.", "You could do the same for iq city and compare both of them (correlations are different).", "If you look at this heatmap it\u2019s obvious which features are correlated with each other and which are not. You should be aware there are positive and negative correlations (dark blueish and dark red). Features without correlation are white. There are groups of positively correlated features and unsurprisingly they are referring to the same type of measurement (correlation between station_min_temp_c and station_avg_temp_c). But there are also correlations between different kind of features (like reanalysis_specific_humidity_g_per_kg and reanalysis_dew_point_temp_k). We should also focus on the correlation between total_cases and the rest of the features because that\u2019s what we have to predict.", "This time we\u2019re out of luck because nothing is really strongly correlated with our target. But we still should be able to pick the most important features for our model. Looking on the heatmap is not that useful right now so let me switch to the bar plot.", "Usually, when picking features to our model we\u2019re choosing features that have the highest absolute correlation value with our target. It\u2019s up to you to decide how many features you choose, you might even choose all of them but that\u2019s usually not the best idea.", "It is also important to look at how target values are distributed within our dataset. We can easily do that using pandas:", "On an average number of cases for a week is quite low. Only from time to time (once a year), total number of cases jumps to some higher value. We need to remember that when designing our model because even if we manage to find that \u201cjumps\u201d we might lose a lot during the weeks with little or none cases.", "Last thing we have to discuss in this article in an NDVI index ( Normalized difference vegetation index). This index is an indicator of vegetation. High negative values correspond to water, values close to 0 represent rocks/sand/snow, and values close to 1 tropical forests. In the given dataset, we have 4 different NDVI values for each city (each for a different corner on the map).", "Even if the overall NDVI index is quite useful to understand a type of terrain we\u2019re dealing with and if we would need to design a model for multiple cities that might come in handy, but in this case, we have only two cities which climate and position on the map are known. We don\u2019t have to train our model to figure out which kind of environment we\u2019re dealing with, instead, we can just train two separate models for each city.", "I\u2019ve spent a while trying to make use of those values (especially that interpolation is hard in this case because we\u2019re using a lot of information during the process). Using the NDVI index might be also misleading because changes in values don\u2019t have to correspond to changes in the vegetation process.", "If you want to check those cities out pleas refer to San Juan, Puerto Rico, and Iquitos, Peru.", "At this point, you should be aware of how our dataset looks like. We didn\u2019t even start designing the first model but already know that some of the features are less important than others and some of them are just repeating the same data. If you would need to take with you one thing from this entire article, it is \u201cTry to understand your data first!\u201d.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "ML Engineer, Javascript Architect, Consultant, MTB lover"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F22a34158908a&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdengai-how-to-approach-data-science-competitions-eda-22a34158908a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdengai-how-to-approach-data-science-competitions-eda-22a34158908a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdengai-how-to-approach-data-science-competitions-eda-22a34158908a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdengai-how-to-approach-data-science-competitions-eda-22a34158908a&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----22a34158908a--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----22a34158908a--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@kemalpiro?source=post_page-----22a34158908a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@kemalpiro?source=post_page-----22a34158908a--------------------------------", "anchor_text": "Kemal Erdem (burnpiro)"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F33f26fcba3a2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdengai-how-to-approach-data-science-competitions-eda-22a34158908a&user=Kemal+Erdem+%28burnpiro%29&userId=33f26fcba3a2&source=post_page-33f26fcba3a2----22a34158908a---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F22a34158908a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdengai-how-to-approach-data-science-competitions-eda-22a34158908a&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F22a34158908a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdengai-how-to-approach-data-science-competitions-eda-22a34158908a&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.flickr.com/photos/sanofi-pasteur/5284040324/in/photolist-93W66w-arV2fF-3p8QNh-cnF7KE-cnF7Mj-cnF8a7-3p8RvU-cnF88u-cnF7Nu-arXFfy-cnF7J7-arXFto-arXDno-cnF7Hb-rwLX9d-cnF7UC-yM76y7-cnF7Ps-cnF85Q-cnF84G-cnF7TE-9wSDw-e4U78V-qRQpJa-e8GxDY-d4YEBA-d4YEwu-e8AVyt-e8GoTN-cnF873-4Gq9Y9-cnFty3-cnF7SQ-c3urbq-cnF7RY-qRJm2d-cnF7VL-62BwyV-qRJj2S-r9i7QB-r99a5k-62Bwt8-c3urhL-c3urd5-5xe7XE-pNRXZp-qRSbMx-pocK57-5xe13J-cnF7XY", "anchor_text": "flickr user Sanofi Pasteur"}, {"url": "https://www.drivendata.org/competitions/44/dengai-predicting-disease-spread/", "anchor_text": "DengAI competition on the DrivenData platform"}, {"url": "https://towardsdatascience.com/dengai-data-preprocessing-28fc541c9470", "anchor_text": "DengAI, Data preprocessing"}, {"url": "https://github.com/burnpiro/dengai-predicting-disease-spread/blob/master/dengue_features_train.csv", "anchor_text": "training dataset"}, {"url": "https://github.com/burnpiro/dengai-predicting-disease-spread/blob/master/dengue_features_test.csv", "anchor_text": "test dataset"}, {"url": "https://pandas.pydata.org/", "anchor_text": "Pandas Library"}, {"url": "https://gist.github.com/burnpiro/30610b5cf9fd685905fe36a0572ab292", "anchor_text": "this Gist"}, {"url": "https://seaborn.pydata.org/", "anchor_text": "Seaborn"}, {"url": "https://en.wikipedia.org/wiki/Cram%C3%A9r%27s_V", "anchor_text": "Cram\u00e9r\u2019s V measure of association"}, {"url": "https://en.wikipedia.org/wiki/Normalized_difference_vegetation_index", "anchor_text": "Normalized difference vegetation index"}, {"url": "https://www.google.com/maps/place/San+Juan,+Puerto+Rico/@18.2818311,-67.176171,8.79z/data=!4m5!3m4!1s0x8c03686fe268196f:0xad6b7f0f5c935adc!8m2!3d18.4655394!4d-66.1057355", "anchor_text": "San Juan, Puerto Rico"}, {"url": "https://www.google.com/maps/place/Iquitos,+Peru/@-3.7626024,-73.5930914,9.54z/data=!4m5!3m4!1s0x91ea10b0e440c1cb:0x9210b8d7040a6692!8m2!3d-3.7436735!4d-73.2516326", "anchor_text": "Iquitos, Peru"}, {"url": "https://www.drivendata.org/competitions/44/dengai-predicting-disease-spread/", "anchor_text": "https://www.drivendata.org/competitions/44/dengai-predicting-disease-spread/"}, {"url": "https://erdem.pl/2020/07/deng-ai-how-to-aproach-data-science-competitions-eda", "anchor_text": "https://erdem.pl"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----22a34158908a---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/data-analysis?source=post_page-----22a34158908a---------------data_analysis-----------------", "anchor_text": "Data Analysis"}, {"url": "https://medium.com/tag/kaggle?source=post_page-----22a34158908a---------------kaggle-----------------", "anchor_text": "Kaggle"}, {"url": "https://medium.com/tag/data-science?source=post_page-----22a34158908a---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://creativecommons.org/licenses/by-nc-sa/4.0/", "anchor_text": "Some rights reserved"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F22a34158908a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdengai-how-to-approach-data-science-competitions-eda-22a34158908a&user=Kemal+Erdem+%28burnpiro%29&userId=33f26fcba3a2&source=-----22a34158908a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F22a34158908a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdengai-how-to-approach-data-science-competitions-eda-22a34158908a&user=Kemal+Erdem+%28burnpiro%29&userId=33f26fcba3a2&source=-----22a34158908a---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F22a34158908a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdengai-how-to-approach-data-science-competitions-eda-22a34158908a&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----22a34158908a--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F22a34158908a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdengai-how-to-approach-data-science-competitions-eda-22a34158908a&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----22a34158908a---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----22a34158908a--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----22a34158908a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----22a34158908a--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----22a34158908a--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----22a34158908a--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----22a34158908a--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----22a34158908a--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----22a34158908a--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@kemalpiro?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@kemalpiro?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Kemal Erdem (burnpiro)"}, {"url": "https://medium.com/@kemalpiro/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "393 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F33f26fcba3a2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdengai-how-to-approach-data-science-competitions-eda-22a34158908a&user=Kemal+Erdem+%28burnpiro%29&userId=33f26fcba3a2&source=post_page-33f26fcba3a2--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3b505e95e71f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdengai-how-to-approach-data-science-competitions-eda-22a34158908a&newsletterV3=33f26fcba3a2&newsletterV3Id=3b505e95e71f&user=Kemal+Erdem+%28burnpiro%29&userId=33f26fcba3a2&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}