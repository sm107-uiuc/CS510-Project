{"url": "https://towardsdatascience.com/interactive-model-evaluation-using-the-panel-python-package-a669692c0e9e", "time": 1683017726.585411, "path": "towardsdatascience.com/interactive-model-evaluation-using-the-panel-python-package-a669692c0e9e/", "webpage": {"metadata": {"title": "Interactive Model Evaluation Using the Panel Python Package | by Inbal Meir | Towards Data Science", "h1": "Interactive Model Evaluation Using the Panel Python Package", "description": "As data scientists, many of us use jupyter notebooks to visualize our data, for example, during exploratory data analysis (EDA) or model evaluation. In these stages, the ability to play with\u2026"}, "outgoing_paragraph_urls": [{"url": "https://plotly.com/python/", "anchor_text": "Plotly", "paragraph_index": 2}, {"url": "https://bokeh.org/", "anchor_text": "Bokeh", "paragraph_index": 2}, {"url": "https://pypi.org/project/panel/", "anchor_text": "Panel", "paragraph_index": 3}, {"url": "https://param.holoviz.org/", "anchor_text": "Param", "paragraph_index": 6}, {"url": "https://panel.holoviz.org/user_guide/Param.html", "anchor_text": "here", "paragraph_index": 12}, {"url": "https://param.holoviz.org/Reference_Manual/param.html", "anchor_text": "Param package API", "paragraph_index": 13}, {"url": "https://panel.holoviz.org/reference/index.html", "anchor_text": "here", "paragraph_index": 19}, {"url": "https://github.com/inbalme/Blogpost_Interactive_Model_Evaluation_Using_the_Panel_Python_Package", "anchor_text": "github repository related to this post", "paragraph_index": 20}, {"url": "https://panel.holoviz.org/reference/index.html", "anchor_text": "here", "paragraph_index": 23}, {"url": "https://github.com/inbalme/Blogpost_Interactive_Model_Evaluation_Using_the_Panel_Python_Package", "anchor_text": "here", "paragraph_index": 26}, {"url": "http://Lynx.MD", "anchor_text": "Lynx.MD", "paragraph_index": 28}], "all_paragraphs": ["Ever found yourself running the analysis code again and again, each time with a change of parameter, then scrolling endlessly past plots in a never-ending jupyter notebook, trying to get some feeling of how this change affected the whole analysis? Haven\u2019t you been dreaming of viewing all the plots on one screen and easily changing the parameters in one click?", "If the answer is Yes \u2014 then this post is for you.", "As data scientists, many of us use jupyter notebooks to visualize our data, for example, during exploratory data analysis (EDA) or model evaluation. In these stages, the ability to play with parameters and immediately view the results is crucial to our productivity. Visualization packages such as Plotly and Bokeh are a big step in this direction of interactive plots, but it is not enough. What if I want to change parameters in the preprocessing pipeline and immediately see how it affects the analysis plots?", "We will use the Panel package \u2014 a python library that lets you create custom interactive web apps and dashboards by connecting user-defined widgets to plots, images, tables, or text.", "We will follow these steps for creating an interactive visualization tool:", "Investing in planning will save you a lot of time later. Keep in mind that in the end, this is a tool you develop for yourself to get insights from the data faster and better. My advice is to have the following questions in mind while you are doing the analysis so you can later easily choose the most informative plots and tables to display in the dashboard.", "Panel is in general quite intuitive and does many things behind the scenes for you. However, when you want to create a more complex dashboard and you want more control over the components it can get less intuitive (and send you digging deep in the documentation for hours\u2026). I found the most convenient way was working with the Panel integration of another package called \u201cParam\u201d. Let\u2019s see how it works:", "There are two kinds of components in the dashboard:1. Parameters \u2014 the variables that the user can set interactively through the widgets.2. Panels \u2014 the plots, tables, images, etc. that are presented", "The way these components are represented is as follows:We create a class for our dashboard (we will refer to it as DashboardComponents class throughout this post), where the attributes are the Parameters, and the methods use these attributes to create the Panels.Panel package knows how to wrap these parameters with a widget and re-execute the methods when an input parameter is changed by the user.", "The illustration below shows how the attributes and methods of the DashboardComponents class map to the widgets and panels presented in the dashboard:", "Steps:1. Create a DashboardComponents class. 2. Set attributes that would serve as our Parameters.3. Define the methods for creating the Panels to display in the dashboard.", "Panel works with a widely-used package called Param, such that our DashboardComponents class inherits from the param.Parameterized class, and its attributes are instances of Param classes. They define the type of parameter and optional values it can take.", "There are many types of parameters that you can set (e.g. range of integers or floats, selection from list, date, time. For more options look here). In the code below, I used param.ObjectSelector to select column name from a list, and param.Number to choose a float value from a predefined range.", "Each type of parameter accepts a set of inputs. For example, for ObjectSelector you will have to set the default value and a list of objects for the user to choose from. For Number you will have to set the default value and a range of values to choose from. You can also set a \u201clabel\u201d to change the displayed text (see code example of class attributes \u201cX\u201d and \u201cY\u201d). The default text is the name of the attribute. For additional arguments see the Param package API.", "We initialize the class instance with an input dataframe and then update the parameters\u2019 optional- and default-values based on the input dataframe.", "How to change the default widget?", "Panel recognizes the parameters and wraps them with a default widget. It provides an option to change the widget and design it. For example, instead of a drop-down menu, we can have a \u201cradio-button\u201d widget. This is done by creating a function that wraps the parameter with the widget of your choice, either as a class method (see code example) or outside the class definition.", "Panels are the plots, tables, images, etc. that are presented in the dashboard. Note that a plot function should return the fig object rather than fig.show().", "Panel can wrap the figure and table objects, enabling us to add arguments to control their layout. See for example:", "For examples to Panel wrappers for other objects (e.g. GIF, audio, Matplotlib, Markdown), look here.", "I highly recommend writing generic functions for the plots and tables in a separate file and calling them from the instance methods. To keep the flow I did not present mine here but you can find them named utils.py in the github repository related to this post.", "Here you can see my example code for the instance methods:", "What if we want a parameter to dynamically change depending on the value of another parameter?It turns out that this is not trivial, as reassigning the class attributes will not do here. I will save you the trouble of digging deep in the Panel documentation: the way to do it is to define an update method and use a decorator that will call this function to adjust the one parameter whenever the other changes.In my example, I wanted the optional range of cutoff_value to change based on the column we choose to filter by. I assigned the class attribute \u201ccutoff_value\u201d with some default values and defined an update method:", "Panel provides several layouts for Panel objects (examples here). I found the most useful are panel.Column and panel.Row, which allow placing panel objects in a way similar to matplotlib\u2019s subplots.", "I hope this post gave you the theoretical background and the practical tools, and that now you also feel that you can build your own interactive visualization tool in your jupyter notebook. So go ahead and build your Data Exploration Dashboard or whatever tool that would make you an even more awesome data scientist! (but don\u2019t forget to share it! and if you share it in the comments to this post my satisfaction will be complete :))", "I am thankful beyond words to Dalya Gartzman, Tom Ron and Talia Shrem for their helpful comments on the draft.", "For your convenience, you can find the complete code here", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data scientist in the healthcare domain, working at Lynx.MD. Holds a PhD in Neuroscience."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa669692c0e9e&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finteractive-model-evaluation-using-the-panel-python-package-a669692c0e9e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finteractive-model-evaluation-using-the-panel-python-package-a669692c0e9e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finteractive-model-evaluation-using-the-panel-python-package-a669692c0e9e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finteractive-model-evaluation-using-the-panel-python-package-a669692c0e9e&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a669692c0e9e--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a669692c0e9e--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@inbal42?source=post_page-----a669692c0e9e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@inbal42?source=post_page-----a669692c0e9e--------------------------------", "anchor_text": "Inbal Meir"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd141da82007b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finteractive-model-evaluation-using-the-panel-python-package-a669692c0e9e&user=Inbal+Meir&userId=d141da82007b&source=post_page-d141da82007b----a669692c0e9e---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa669692c0e9e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finteractive-model-evaluation-using-the-panel-python-package-a669692c0e9e&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa669692c0e9e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finteractive-model-evaluation-using-the-panel-python-package-a669692c0e9e&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://plotly.com/python/", "anchor_text": "Plotly"}, {"url": "https://bokeh.org/", "anchor_text": "Bokeh"}, {"url": "https://pypi.org/project/panel/", "anchor_text": "Panel"}, {"url": "https://param.holoviz.org/", "anchor_text": "Param"}, {"url": "https://panel.holoviz.org/user_guide/Param.html", "anchor_text": "here"}, {"url": "https://param.holoviz.org/Reference_Manual/param.html", "anchor_text": "Param package API"}, {"url": "https://panel.holoviz.org/reference/index.html", "anchor_text": "here"}, {"url": "https://github.com/inbalme/Blogpost_Interactive_Model_Evaluation_Using_the_Panel_Python_Package", "anchor_text": "github repository related to this post"}, {"url": "https://panel.holoviz.org/reference/index.html", "anchor_text": "here"}, {"url": "https://medium.com/analytics-vidhya/how-to-create-an-interactive-dashboard-in-python-using-holoviz-panel-2de350b6d8df", "anchor_text": "basic implementation of the Panel-Param"}, {"url": "https://medium.com/@philipp.jfr/panel-announcement-2107c2b15f52", "anchor_text": "Introduction to Panel package"}, {"url": "https://github.com/inbalme/Blogpost_Interactive_Model_Evaluation_Using_the_Panel_Python_Package", "anchor_text": "here"}, {"url": "https://www.pikrepo.com/fixqg/person-about-to-touch-black-space", "anchor_text": "Pikrepo"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa669692c0e9e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finteractive-model-evaluation-using-the-panel-python-package-a669692c0e9e&user=Inbal+Meir&userId=d141da82007b&source=-----a669692c0e9e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa669692c0e9e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finteractive-model-evaluation-using-the-panel-python-package-a669692c0e9e&user=Inbal+Meir&userId=d141da82007b&source=-----a669692c0e9e---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa669692c0e9e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finteractive-model-evaluation-using-the-panel-python-package-a669692c0e9e&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a669692c0e9e--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa669692c0e9e&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finteractive-model-evaluation-using-the-panel-python-package-a669692c0e9e&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a669692c0e9e---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a669692c0e9e--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a669692c0e9e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a669692c0e9e--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a669692c0e9e--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a669692c0e9e--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a669692c0e9e--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a669692c0e9e--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a669692c0e9e--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@inbal42?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@inbal42?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Inbal Meir"}, {"url": "https://medium.com/@inbal42/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "9 Followers"}, {"url": "http://Lynx.MD", "anchor_text": "Lynx.MD"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd141da82007b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finteractive-model-evaluation-using-the-panel-python-package-a669692c0e9e&user=Inbal+Meir&userId=d141da82007b&source=post_page-d141da82007b--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Fd141da82007b%2Flazily-enable-writer-subscription&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Finteractive-model-evaluation-using-the-panel-python-package-a669692c0e9e&user=Inbal+Meir&userId=d141da82007b&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}