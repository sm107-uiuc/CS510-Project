{"url": "https://towardsdatascience.com/testing-for-stationarity-and-its-impact-on-forecasting-accuracy-a3c94de559ac", "time": 1683018153.899914, "path": "towardsdatascience.com/testing-for-stationarity-and-its-impact-on-forecasting-accuracy-a3c94de559ac/", "webpage": {"metadata": {"title": "Explaining Stationarity and its Impact on Forecasting Accuracy | by Matthew Bitter | Towards Data Science", "h1": "Explaining Stationarity and its Impact on Forecasting Accuracy", "description": "Would you believe me if I said that I had a Forex system that consistently drove a positive return over the past ten years? In this perfect system all you need to do is sit back while Lamborghinis\u2026"}, "outgoing_paragraph_urls": [], "all_paragraphs": ["Would you believe me if I said that I had a Forex system that consistently drove a positive return over the past ten years? In this perfect system all you need to do is sit back while Lamborghinis rain down from the sky because this thing prints money!", "A sociologist might answer that money is simply a specific type of symbol invented by humans which is used narrowly to facilitate economic exchange. Therefore, to forecast the perceived value one needs a model of what people do with it and how they value it \u2014 which is difficult to model since people often change their mind! [1].", "Thankfully, we\u2019ll be attempting to answer this question not from a sociologist perspective but from a data perspective. This data focused approach will allow us to tackle a single aspect of this complex question discretely and deeply which I personally prefer versus speaking generally.", "Accordingly, we\u2019ll focus on the statistical concept of stationarity and its impact on forecasting accuracy by explaining two important metrics, namely Augmented Dickey Fuller (ADF) and Kwiatkowski-Phillips-Schmidt-Shin (KPSS). \u2014 Trust me, I couldn\u2019t make these names up even if I tried.", "Our discussion on ADF and KPSS will be illustrated using real Forex data and FBProphet to create a simple forecast. Lastly, we\u2019ll create some data using a noisy sine wave to understand fully, the impact stationarity has on forecasting accuracy.", "First off let\u2019s get some financial data and see what it looks like.", "Next, we are going to use ADF and KPSS to give us an idea if the statistical properties such as mean, variance and covariance behind this time series (or rather the process generating it) do not change over time [3]. If a time series does not change over time, we say that it is Stationary \u2014 simple enough [2].", "A stationarized series is easier to predict than a non-stationary one because its statistical properties will be the same in the future as they have been in the past! [4]", "ADF and KPSS complement each others\u2019 strengths \u2014 kind of like Kirk and Spock \u2014 in determining if a series is Stationary. Precisely speaking, both ADF and KPSS prove the existence or absence of unit root. Rejecting the null hypothesis for ADF means that the series has no unit root while rejecting the null hypothesis for KPSS means that the series has a unit root [2]. Therefore, when they both agree you can be relatively confident that there is or isn\u2019t unit root.", "We haven\u2019t spoken about unit root yet, so we\u2019ll cover it now: A unit root (also called a unit root process or a difference stationary process) is a stochastic trend in a time series, sometimes called a \u201crandom walk with drift\u201d \u2014 If a time series has a unit root, it shows a systematic pattern that is unpredictable [5].", "The reason why it\u2019s called a unit root is because of the mathematics behind the process. At a basic level, a process can be written as a series of monomials (expressions with a single term). Each monomial corresponds to a root. If one of these roots is equal to 1, then that\u2019s a unit root [5].", "Explained visually, if a series was purely stationary then any spikes in the curve would eventually return to it\u2019s previous value \u2014 in this figure above, the previous value is the x-axis itself. However, if a series has a unit root then it could settle at any point between the Pure Random Walk (blue) and the Purely Stationary (green). In this example it is the dotted line, however in reality we have no way of knowing where!", "In summary, the stationarity of a time series determines how easily it can be decomposed and forecasted using statistical techniques. Additionally, stationarity is determined by identifying if a series has a unit root using tests such as ADF and KPSS. Most of the time (all the time) a forex series will not be stationary which is one of the main reasons WHY it is so difficult to forecast. We will see a concreate example of this shortly.", "Now that we understand what ADF and KPSS tell us lets look at the results. Immediately we can see this time series is definitely not stationary. We failed to reject the null for ADF and we rejected the null for KPSS as we can see from the p-values. So, what can we do?", "One trick is to simply difference the series by day and retest [2]. Differencing is performed by subtracting the previous observation from the current observation. Which can help stabilize the mean of the time series, and so eliminating (or reducing) trend and seasonality. Inverting the process is required when a prediction must be converted back into the original scale [7]. Let\u2019s try.", "The new line chart above looks significantly different at least, we can see that it generally looks more stationary \u2014 let\u2019s retest both ADF and KPSS to know for sure.", "The p-value for ADF is very small and the p-value for KPSS is larger than 0.05. Therefore, both KPSS and ADF agree that there is no unit root in this dataset. Differencing has transformed the dataset into a stationary one.", "So we now have two time series, one that is stationary and one that is not, let\u2019s run them both through FBProphet and see what we get.", "The last section with no black dots is the test forecast. You can see both of them fan out significantly near the end which is quite poor. Even the stationary time series seems very flat.", "One possible reason might be that differencing each day removed all the weekly, monthly and seasonal trends in the data. Coupled with the fact that we are only using a month of data, there really is not enough for FBProphet to work with. Note I did not convert the differenced data back to its original scale \u2014 feel free to try that yourself and see if it improves the forecast.", "We are not going to give up though! We are going to bake our data cake and eat it too.", "Let\u2019s redo our tests and retrain FBProphet but this time with 6 years of a generated slightly noisy sine wave \u2014 because why not!", "Below is our beautiful generated sine wave with some noise added to make things a bit interesting.", "The figure below is our since wave again with the forecast overlaid, the section with no dots and just the blue plane is the forecast.", "This looks a lot better, we can see the forecasted section follows the pattern of the wave nicely. Additionally, the ADF and KPSS metrics below are clean and well behaved. Specifically, the ADF p-value is small and KPSS is larger that 0.05.", "In conclusion, forecasting forex is a complex problem with many variables. It is basically a random walk process. Therefore, the stationarity of the series plays a huge role in forecasting its accuracy.", "Practically, even after removing stationarity using differencing on our USDCAD Forex pair the forecast using FBProphet was still poor. Conversely, when generating a sine wave that was consistent over many years we saw the forecast improve significantly. This shows that fixing for stationarity is not the only challenge when it comes to forecasting forex.", "Regardless, taking a data driven approach allowed us gain a better understanding of the statistical concept of stationarity and the ADF and KPSS tests.", "Personally, I am excited to apply these tests on any future Exploratory Data Analysis (EDA) coming my way since they are fast and easy to interpret once you understand what they are testing.", "[1] Bruce G. Carruthers. The Meanings of Money: A Sociological Perspective", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Bits and Bytes - //Analytics //Data Science //Industry CPG"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fa3c94de559ac&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftesting-for-stationarity-and-its-impact-on-forecasting-accuracy-a3c94de559ac&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftesting-for-stationarity-and-its-impact-on-forecasting-accuracy-a3c94de559ac&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftesting-for-stationarity-and-its-impact-on-forecasting-accuracy-a3c94de559ac&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftesting-for-stationarity-and-its-impact-on-forecasting-accuracy-a3c94de559ac&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----a3c94de559ac--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a3c94de559ac--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@matthewbitter?source=post_page-----a3c94de559ac--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@matthewbitter?source=post_page-----a3c94de559ac--------------------------------", "anchor_text": "Matthew Bitter"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fdd6963775889&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftesting-for-stationarity-and-its-impact-on-forecasting-accuracy-a3c94de559ac&user=Matthew+Bitter&userId=dd6963775889&source=post_page-dd6963775889----a3c94de559ac---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa3c94de559ac&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftesting-for-stationarity-and-its-impact-on-forecasting-accuracy-a3c94de559ac&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa3c94de559ac&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftesting-for-stationarity-and-its-impact-on-forecasting-accuracy-a3c94de559ac&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://www.blogger.com/profile/04842601651429471525", "anchor_text": "John H. Cochrane"}, {"url": "https://www.statsmodels.org/stable/examples/notebooks/generated/stationarity_detrending_adf_kpss.html", "anchor_text": "https://www.statsmodels.org/stable/examples/notebooks/generated/stationarity_detrending_adf_kpss.html"}, {"url": "https://www.kdnuggets.com/2019/08/stationarity-time-series-data.html#:~:text=Stationarity%20means%20that%20the%20statistical,and%20models%20rely%20on%20it", "anchor_text": "https://www.kdnuggets.com/2019/08/stationarity-time-series-data.html#:~:text=Stationarity%20means%20that%20the%20statistical,and%20models%20rely%20on%20it"}, {"url": "https://people.duke.edu/~rnau/411diff.htm#:~:text=Statistical%20stationarity%3A%20A%20stationary%20time,%2C%20variance%2C%20autocorrelation%2C%20etc.&text=A%20stationarized%20series%20is%20relatively,have%20been%20in%20the%20past", "anchor_text": "https://people.duke.edu/~rnau/411diff.htm#:~:text=Statistical%20stationarity%3A%20A%20stationary%20time,%2C%20variance%2C%20autocorrelation%2C%20etc.&text=A%20stationarized%20series%20is%20relatively,have%20been%20in%20the%20past"}, {"url": "https://www.statisticshowto.com/unit-root/#:~:text=A%20unit%20root%20(also%20called,A%20possible%20unit%20root.", "anchor_text": "https://www.statisticshowto.com/unit-root/#:~:text=A%20unit%20root%20(also%20called,A%20possible%20unit%20root."}, {"url": "https://johnhcochrane.blogspot.com/2015/04/unit-roots-in-english-and-pictures.html", "anchor_text": "https://johnhcochrane.blogspot.com/2015/04/unit-roots-in-english-and-pictures.html"}, {"url": "https://machinelearningmastery.com/remove-trends-seasonality-difference-transform-python/#:~:text=Differencing%20is%20a%20method%20of,%2C%20so%2Dcalled%20temporal%20dependence.&text=Differencing%20can%20help%20stabilize%20the,or%20reducing)%20trend%20and%20seasonality", "anchor_text": "https://machinelearningmastery.com/remove-trends-seasonality-difference-transform-python/#:~:text=Differencing%20is%20a%20method%20of,%2C%20so%2Dcalled%20temporal%20dependence.&text=Differencing%20can%20help%20stabilize%20the,or%20reducing)%20trend%20and%20seasonality"}, {"url": "https://medium.com/tag/forex?source=post_page-----a3c94de559ac---------------forex-----------------", "anchor_text": "Forex"}, {"url": "https://medium.com/tag/data-science?source=post_page-----a3c94de559ac---------------data_science-----------------", "anchor_text": "Data Science"}, {"url": "https://medium.com/tag/forecasting-models?source=post_page-----a3c94de559ac---------------forecasting_models-----------------", "anchor_text": "Forecasting Models"}, {"url": "https://medium.com/tag/statistics?source=post_page-----a3c94de559ac---------------statistics-----------------", "anchor_text": "Statistics"}, {"url": "https://medium.com/tag/fbprophet?source=post_page-----a3c94de559ac---------------fbprophet-----------------", "anchor_text": "Fbprophet"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa3c94de559ac&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftesting-for-stationarity-and-its-impact-on-forecasting-accuracy-a3c94de559ac&user=Matthew+Bitter&userId=dd6963775889&source=-----a3c94de559ac---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa3c94de559ac&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftesting-for-stationarity-and-its-impact-on-forecasting-accuracy-a3c94de559ac&user=Matthew+Bitter&userId=dd6963775889&source=-----a3c94de559ac---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa3c94de559ac&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftesting-for-stationarity-and-its-impact-on-forecasting-accuracy-a3c94de559ac&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----a3c94de559ac--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fa3c94de559ac&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftesting-for-stationarity-and-its-impact-on-forecasting-accuracy-a3c94de559ac&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----a3c94de559ac---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----a3c94de559ac--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----a3c94de559ac--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----a3c94de559ac--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----a3c94de559ac--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----a3c94de559ac--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----a3c94de559ac--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----a3c94de559ac--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----a3c94de559ac--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@matthewbitter?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@matthewbitter?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Matthew Bitter"}, {"url": "https://medium.com/@matthewbitter/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "100 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fdd6963775889&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftesting-for-stationarity-and-its-impact-on-forecasting-accuracy-a3c94de559ac&user=Matthew+Bitter&userId=dd6963775889&source=post_page-dd6963775889--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fdfae26a63d56&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Ftesting-for-stationarity-and-its-impact-on-forecasting-accuracy-a3c94de559ac&newsletterV3=dd6963775889&newsletterV3Id=dfae26a63d56&user=Matthew+Bitter&userId=dd6963775889&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}