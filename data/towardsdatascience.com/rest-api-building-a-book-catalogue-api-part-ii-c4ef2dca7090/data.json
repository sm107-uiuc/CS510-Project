{"url": "https://towardsdatascience.com/rest-api-building-a-book-catalogue-api-part-ii-c4ef2dca7090", "time": 1683016635.602866, "path": "towardsdatascience.com/rest-api-building-a-book-catalogue-api-part-ii-c4ef2dca7090/", "webpage": {"metadata": {"title": "REST API: building a Book Catalogue API \u2014 Part II | by Girija Shankar Behera | Towards Data Science", "h1": "REST API: building a Book Catalogue API \u2014 Part II", "description": "This is the fourth post in the REST API series. In the first two posts, we explored the basics of REST APIs, how to use them, and the architectural constraints. In the previous post, we started with\u2026"}, "outgoing_paragraph_urls": [{"url": "https://gshbehera.medium.com/rest-api-the-basics-d91859537c9d", "anchor_text": "basics of REST APIs", "paragraph_index": 0}, {"url": "https://gshbehera.medium.com/rest-api-the-architectural-constraints-fc4876b41e3d", "anchor_text": "architectural constraints", "paragraph_index": 0}, {"url": "https://gshbehera.medium.com/rest-api-building-a-book-catalogue-api-part-i-cf8599d63ca4", "anchor_text": "post", "paragraph_index": 0}, {"url": "https://www.django-rest-framework.org/", "anchor_text": "Django REST Framework", "paragraph_index": 0}], "all_paragraphs": ["This is the fourth post in the REST API series. In the first two posts, we explored the basics of REST APIs, how to use them, and the architectural constraints. In the previous post, we started with developing a Book Catalogue API system with the existing knowledge on REST APIs. For implementation details, I\u2019ve used Django REST Framework because of its rich support for building web applications.", "This article extends the development further. We were done with building the API endpoint to get a list of Books in the previous article. In this, we will continue with creating the APIs for the Author and Genre model. We will also add support for creating, updating and deleting the resources using the APIs only.", "We code to get the list of Authors and Genres the same way we did for the Books list.", "Here goes the serializers again. Also, I have added the id here.", "As we already have seen the case with getting the list of books, similarly for authors and genres we get the records from the respective models, serialize them to JSON and then return as a Response.", "So far, So good. Next thing I want to do is to write the functionality to create these resources as well, i.e. add the support for POST.", "While getting the list of resources above, please check the Allow header in the Response as well. It will show GET, HEAD and OPTIONS. That means, no POST, or PUT or DELETE are yet allowed.", "* Note: Let\u2019s see how many constraints I have met as of now. Just to have a check on whether the API follows the REST architectural constraints? Are these RESTful? No. Not yet. I\u2019m gonna bring this again and again to remind that we have to build these APIs to be RESTful.", "To create a Book resource via the API, I need to provide the data in the body of the POST request. I\u2019m sending the data in raw JSON format. The data contains the new book details, i.e. name, description and price of the book. Also I need to send the author name of the book and the genre of the book. The author and the genre needs to exist in the DB prior to creating the book.", "The author and the genres are referenced via their IDs as we can see in the screenshot. Now the backend of this POST request should support this requirement.", "Using Django REST framework creating a resource via POST request is different from the traditional way of creating an object in Django. The REST framework allows us to create the resources via the serializers. The advantage is the serialized object itself can be returned after creating the model object and saving it to the database. I\u2019ll go step by step for the resource creation process.", "Here goes the code for the POST for a book resource. The view implements a post method which takes the data in the request. To create the data in the serializer itself, a create method has been implemented in the serializer class.", "Just one more update in the serializer. As I need to add the list of genres to the book object, I fetched the list from the validated data in the serializer, iterated over it and added the genres in the book resource.", "Okay POST for Book resource is done. Same is repeated with other resource types as well.", "After POST, we start with PUT. For PUT to work, we have to create a view to return a single object in a resource, rather than a list of objects in a resource. We can access the specific resources via their unique IDs known as Uniform Resource Identifier (URI).", "To create an API endpoint for resources with single objects, the same serializer as above ones would work. But a new View will be required. Below goes the view.", "Views returning single objects are quite simple. They use the same serializers as the other ones. But the serializers while initialization does not take the whole list of the model records, instead they only take one, the one which is referred in the URL with its ID or any unique identifier. It would result in a particular resource Client has requested for.", "Well, now we can move on to updating these resources. PUT can only be used when we have the particular resource to update, instead of the whole list of resources. PUT is very similar to POST. We write an update method in the serializer class and a put method in the view class. In the put method, the particular resource instance will be fetched using its ID or the unique identifier passed in the URL, and then it is sent along with the new updates in the request to the update method in the serializer class. The instance attributes are replaced with the updated values and then returned.", "I have not updated the author and the genre for the book. So the name, price and description of the instance are updated and the rest of the attributes remain the same.", "The last one is Delete. Delete also works when we have a particular resource in hand rather than the whole list. And the good thing is we don\u2019t need to go to the serializer class to delete. We can simply do it in the view class itself.", "Let\u2019s take a look at the constraints again. After adding POST, PUT and DELETE to the APIs, we are still left with many things to meet all the constraints.", "Looks okay for this post. In the next one, I\u2019m going to update the serializers some more. I want to send a nested object in the request instead of an ID. This needs some changes in the serializer class. And also, I want to provide URLs for the related resource in the responses. This would satisfy the HATEOAS constraint.", "This post continued with the development of the Book Catalogue API. We are done defining the API endpoints for all types of operations on the Resources. I have still a few work left to make this API system RESTful. In the next post, I\u2019ll cover them.", "Feel free to leave a comment below or any questions/suggestions for improvement.", "Your home for data science. A Medium publication sharing concepts, ideas and codes."], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc4ef2dca7090&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frest-api-building-a-book-catalogue-api-part-ii-c4ef2dca7090&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frest-api-building-a-book-catalogue-api-part-ii-c4ef2dca7090&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frest-api-building-a-book-catalogue-api-part-ii-c4ef2dca7090&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frest-api-building-a-book-catalogue-api-part-ii-c4ef2dca7090&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----c4ef2dca7090--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c4ef2dca7090--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://gshbehera.medium.com/?source=post_page-----c4ef2dca7090--------------------------------", "anchor_text": ""}, {"url": "https://gshbehera.medium.com/?source=post_page-----c4ef2dca7090--------------------------------", "anchor_text": "Girija Shankar Behera"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F15521c3a84a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frest-api-building-a-book-catalogue-api-part-ii-c4ef2dca7090&user=Girija+Shankar+Behera&userId=15521c3a84a9&source=post_page-15521c3a84a9----c4ef2dca7090---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc4ef2dca7090&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frest-api-building-a-book-catalogue-api-part-ii-c4ef2dca7090&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc4ef2dca7090&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frest-api-building-a-book-catalogue-api-part-ii-c4ef2dca7090&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "https://towardsdatascience.com/tagged/programming-rest-apis", "anchor_text": "PROGRAMMING REST APIS"}, {"url": "https://gshbehera.medium.com/rest-api-the-basics-d91859537c9d", "anchor_text": "basics of REST APIs"}, {"url": "https://gshbehera.medium.com/rest-api-the-architectural-constraints-fc4876b41e3d", "anchor_text": "architectural constraints"}, {"url": "https://gshbehera.medium.com/rest-api-building-a-book-catalogue-api-part-i-cf8599d63ca4", "anchor_text": "post"}, {"url": "https://www.django-rest-framework.org/", "anchor_text": "Django REST Framework"}, {"url": "https://auth0.com/blog/rest-architecture-part-1-building-api/", "anchor_text": "REST Architecture Blog"}, {"url": "https://restfulapi.net/rest-architectural-constraints/", "anchor_text": "REST Architectural Constraints"}, {"url": "https://medium.com/tag/programming-rest-apis?source=post_page-----c4ef2dca7090---------------programming_rest_apis-----------------", "anchor_text": "Programming Rest Apis"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc4ef2dca7090&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frest-api-building-a-book-catalogue-api-part-ii-c4ef2dca7090&user=Girija+Shankar+Behera&userId=15521c3a84a9&source=-----c4ef2dca7090---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc4ef2dca7090&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frest-api-building-a-book-catalogue-api-part-ii-c4ef2dca7090&user=Girija+Shankar+Behera&userId=15521c3a84a9&source=-----c4ef2dca7090---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc4ef2dca7090&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frest-api-building-a-book-catalogue-api-part-ii-c4ef2dca7090&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----c4ef2dca7090--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2Fc4ef2dca7090&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frest-api-building-a-book-catalogue-api-part-ii-c4ef2dca7090&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----c4ef2dca7090---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----c4ef2dca7090--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----c4ef2dca7090--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----c4ef2dca7090--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----c4ef2dca7090--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c4ef2dca7090--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c4ef2dca7090--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----c4ef2dca7090--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----c4ef2dca7090--------------------------------", "anchor_text": ""}, {"url": "https://gshbehera.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://gshbehera.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Girija Shankar Behera"}, {"url": "https://gshbehera.medium.com/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "141 Followers"}, {"url": "https://www.linkedin.com/in/girija-shankar-behera-449179111/", "anchor_text": "https://www.linkedin.com/in/girija-shankar-behera-449179111/"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F15521c3a84a9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frest-api-building-a-book-catalogue-api-part-ii-c4ef2dca7090&user=Girija+Shankar+Behera&userId=15521c3a84a9&source=post_page-15521c3a84a9--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fd8cdf5a3d59&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Frest-api-building-a-book-catalogue-api-part-ii-c4ef2dca7090&newsletterV3=15521c3a84a9&newsletterV3Id=d8cdf5a3d59&user=Girija+Shankar+Behera&userId=15521c3a84a9&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}