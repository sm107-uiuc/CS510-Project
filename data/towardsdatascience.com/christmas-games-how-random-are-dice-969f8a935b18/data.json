{"url": "https://towardsdatascience.com/christmas-games-how-random-are-dice-969f8a935b18", "time": 1682994367.6929631, "path": "towardsdatascience.com/christmas-games-how-random-are-dice-969f8a935b18/", "webpage": {"metadata": {"title": "Board Games: How random are dice? | by Maximilian Strauss | Towards Data Science", "h1": "Board Games: How random are dice?", "description": "Analyzing dice randomness with openCV and hypothesis testing."}, "outgoing_paragraph_urls": [{"url": "http://www.awesomedice.com/blog/353/d20-dice-randomness-test-chessex-vs-gamescience/", "anchor_text": "10.000 times", "paragraph_index": 1}, {"url": "https://www.pyimagesearch.com/2014/07/21/detecting-circles-images-using-opencv-hough-circles/", "anchor_text": "here", "paragraph_index": 3}, {"url": "https://en.wikipedia.org/wiki/Chi-squared_test", "anchor_text": "Chi-squared test", "paragraph_index": 10}], "all_paragraphs": ["While the festive season is meant to be the source of joy and happiness, playing board games can be a delicate pastime. There is always someone that seems to have a bit more luck throwing the dice than expected. A typical question that arises is whether the dice are fair or rigged. Here, we will analyze dice randomness by repeatedly throwing dice. For the evaluation, we will use two key methods: Circle detection to count the pips on images of dice and hypothesis testing to make a quantitative statement about dice randomness.", "As statistics are better with large n, some enthusiasts went as far to roll dices 10.000 times to test the fairness of their dice. As I didn\u2019t want to throw dice manually, I decided to build a little automated dice thrower using some LEGO\u00ae, an Arduino microcontroller, and a webcam. Essentially the die sits in a chamber on a wheel that rotates so that the die spins around. The Arduino turns the wheel for 1.5s, stops for another 1.5s, then the webcam snaps a picture of the outcome, and the process is repeated. The machine in operation and a timelapse of the mechanism can be seen in the GIFs below.", "As the wheels only rotate in one direction, I added a little asymmetry in the form of two rounded parts so that die also rotates in the perpendicular axis. I let the machine run for approx 2.5 h to create a dataset of ~ 3000 throws. Feel free to contact me if there is interest for the Arduino code or the wiring.", "Now let\u2019s get to the analysis part. There are several ways to count the number of pips, i.e., we could use morphological operations mask the up-facing side of the die (it is notably brighter than the background) by applying a binary threshold and selecting its convex hull. The number of pips could then be determined by either counting regions or by merely determining the ratio of black to white pixels. I tried several approaches but ultimately decided to use the HoughCircles function from OpenCV as it required the least amount of code to implement. A general introduction can be found here. After playing around with the parameters, one is able to get decent results in circle detection quickly:", "Next, we count the number of pips for each image. A value of 0 will be assigned when no circles can be detected:", "To inspect the results of the algorithm we plot the images of each class:", "As the human brain is super fast in spotting wrong classifications I decided to inspect the classes and correct them manually. The inspection also made me realize that there is actually a number of throws which are ambiguous as the die is standing on its edge (they are assigned to class zero).", "Note that the HoughCircles function did a correct classification in ~90% of the cases. Because of the manual correction, now one also has a training set and could spend some more time to build a better classifier (i.e., when increasing the n). Let me know if you would like to get the dataset and are interested in playing around and building a dice classifier based on this data.", "Now, we can cherish a compilation of correctly classified dice. Below all sixes of the dataset (let me know if you spot one that does not belong there):", "As we now have all our images correctly classified we now can test the hypothesis whether our die is fair or not. First, we will plot the occurrence of each number:", "As we can observe, the number one is happening more often. Now how can we find out whether this deviation is significant or not? One statistical test we can use is the Chi-squared test. To perform this test, we calculate the number of expected outcomes (E), calculate the difference to the expected occurrences (O-E), square this value ((O-E)\u00b2) and then normalize it through the number of excepted values ((O-E)\u00b2/E). The chi-squared test statistic is then the sum of all the normalized values. To calculate a significance level, we compare the test statistic with the chi-squared distribution of a degree of 5 (6\u20131).", "To use the chi-square test, we don\u2019t need always to calculate the table (although its convenient for understanding the test) but can also directly calculate the value using the stats library.", "Ultimately, the test shows that the die is biased at a 97% significance level and hence it is not fair. Judging from the table above, the one occurs ~12% more often than it should. After all, I now found a reasonable explanation for losing the past games I used this die with.", "Here, we used OpenCV\u2019s HoughCircles function to calculate the pips on images of a die. Using the chi-squared test we were able to test our hypothesis that the die is not fair at a 97% significance level.However, another question to why the die is not fair. I would assume that it originates from manufacturing issues, so the center of mass is misaligned and that some edges are more round than others. While browsing for professional dice, I noticed that a lot of them have sharp edges.A possible follow-up could be to investigate several other dice and finding the best manufacturer for the fairest dice. Additionally, the dice-throwing machine could be improved by simulating a more realistic throw via embedding a flat surface.", "Another principal limitation, of course, is the question of whether a dice-throw can be random at all. Given the finite number of interactions, one could argue that the final position is determined by the starting condition.", "As for this particular die, rest assured that it will be excluded for the next board game sessions to save the family peace.", "Your home for data science. A Medium publication sharing concepts, ideas and codes.", "Data Science | Artificial Intelligence | Engineer"], "all_outgoing_urls": [{"url": "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F969f8a935b18&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&source=---two_column_layout_nav----------------------------------", "anchor_text": "Open in app"}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchristmas-games-how-random-are-dice-969f8a935b18&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchristmas-games-how-random-are-dice-969f8a935b18&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---two_column_layout_nav-----------------------new_post_sidenav-----------", "anchor_text": "Write"}, {"url": "https://medium.com/search?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchristmas-games-how-random-are-dice-969f8a935b18&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign up"}, {"url": "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchristmas-games-how-random-are-dice-969f8a935b18&source=post_page---two_column_layout_nav-----------------------global_nav-----------", "anchor_text": "Sign In"}, {"url": "https://towardsdatascience.com/?source=post_page-----969f8a935b18--------------------------------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----969f8a935b18--------------------------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/@straussmaximilian?source=post_page-----969f8a935b18--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@straussmaximilian?source=post_page-----969f8a935b18--------------------------------", "anchor_text": "Maximilian Strauss"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fac654ab22e75&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchristmas-games-how-random-are-dice-969f8a935b18&user=Maximilian+Strauss&userId=ac654ab22e75&source=post_page-ac654ab22e75----969f8a935b18---------------------follow_byline-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F969f8a935b18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchristmas-games-how-random-are-dice-969f8a935b18&source=--------------------------bookmark_header-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F969f8a935b18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchristmas-games-how-random-are-dice-969f8a935b18&source=--------------------------bookmark_header-----------", "anchor_text": "Save"}, {"url": "http://www.awesomedice.com/blog/353/d20-dice-randomness-test-chessex-vs-gamescience/", "anchor_text": "10.000 times"}, {"url": "https://www.pyimagesearch.com/2014/07/21/detecting-circles-images-using-opencv-hough-circles/", "anchor_text": "here"}, {"url": "https://en.wikipedia.org/wiki/Chi-squared_test", "anchor_text": "Chi-squared test"}, {"url": "https://medium.com/tag/towards-data-science?source=post_page-----969f8a935b18---------------towards_data_science-----------------", "anchor_text": "Towards Data Science"}, {"url": "https://medium.com/tag/hypothesis?source=post_page-----969f8a935b18---------------hypothesis-----------------", "anchor_text": "Hypothesis"}, {"url": "https://medium.com/tag/opencv?source=post_page-----969f8a935b18---------------opencv-----------------", "anchor_text": "Opencv"}, {"url": "https://medium.com/tag/random?source=post_page-----969f8a935b18---------------random-----------------", "anchor_text": "Random"}, {"url": "https://medium.com/tag/christmas?source=post_page-----969f8a935b18---------------christmas-----------------", "anchor_text": "Christmas"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F969f8a935b18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchristmas-games-how-random-are-dice-969f8a935b18&user=Maximilian+Strauss&userId=ac654ab22e75&source=-----969f8a935b18---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F969f8a935b18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchristmas-games-how-random-are-dice-969f8a935b18&user=Maximilian+Strauss&userId=ac654ab22e75&source=-----969f8a935b18---------------------clap_footer-----------", "anchor_text": ""}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F969f8a935b18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchristmas-games-how-random-are-dice-969f8a935b18&source=--------------------------bookmark_footer-----------", "anchor_text": ""}, {"url": "https://towardsdatascience.com/?source=post_page-----969f8a935b18--------------------------------", "anchor_text": "More from Towards Data Science"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science%2F969f8a935b18&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchristmas-games-how-random-are-dice-969f8a935b18&collection=Towards+Data+Science&collectionId=7f60cf5620c9&source=post_page-----969f8a935b18---------------------follow_footer-----------", "anchor_text": "Follow"}, {"url": "https://towardsdatascience.com/?source=post_page-----969f8a935b18--------------------------------", "anchor_text": "Read more from Towards Data Science"}, {"url": "https://medium.com/?source=post_page-----969f8a935b18--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----969f8a935b18--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----969f8a935b18--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----969f8a935b18--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----969f8a935b18--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----969f8a935b18--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----969f8a935b18--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@straussmaximilian?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@straussmaximilian?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Maximilian Strauss"}, {"url": "https://medium.com/@straussmaximilian/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "941 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fac654ab22e75&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchristmas-games-how-random-are-dice-969f8a935b18&user=Maximilian+Strauss&userId=ac654ab22e75&source=post_page-ac654ab22e75--two_column_layout_sidebar-----------------------follow_profile-----------", "anchor_text": "Follow"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F3f20ab44a225&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fchristmas-games-how-random-are-dice-969f8a935b18&newsletterV3=ac654ab22e75&newsletterV3Id=3f20ab44a225&user=Maximilian+Strauss&userId=ac654ab22e75&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}