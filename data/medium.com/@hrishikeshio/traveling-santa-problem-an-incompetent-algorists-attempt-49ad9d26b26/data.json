{"url": "https://medium.com/@hrishikeshio/traveling-santa-problem-an-incompetent-algorists-attempt-49ad9d26b26", "time": 1683019467.904425, "path": "medium.com/@hrishikeshio/traveling-santa-problem-an-incompetent-algorists-attempt-49ad9d26b26/", "webpage": {"metadata": {"title": "Traveling santa Problem \u2014 An incompetent algorist\u2019s attempt | by Hrishikesh Huilgolkar | Medium", "h1": "Traveling santa Problem \u2014 An incompetent algorist\u2019s attempt", "description": "Kaggle announced the Traveling santa problem in the christmas season. I joined in excitedly.. but soon realized this is not an easy problem. Solving this problem would require expertise on data\u2026"}, "outgoing_paragraph_urls": [{"url": "http://www.kaggle.com/c/traveling-santa-problem", "anchor_text": "Kaggle", "paragraph_index": 0}, {"url": "http://www.akira.ruc.dk/~keld/research/LKH/", "anchor_text": "LKH", "paragraph_index": 1}, {"url": "http://www.blogicious.com/2013/01/traveling-santa-problem-incompetent.html", "anchor_text": "www.blogicious.com", "paragraph_index": 19}], "all_paragraphs": ["Kaggle announced the Traveling santa problem in the christmas season. I joined in excitedly.. but soon realized this is not an easy problem. Solving this problem would require expertise on data structures and some good familiarity with TSP problems and its many heuristic algorithms. I had neither.. I had to find a way to deal with this problem. I compenseted my lack of algorithmic expertise with common sense, logic and intuition. I finished 65th out of 356 total competitors.", "I did some research on packaged TSP solvers and top TSP algorithms. I found concorde but I could not get it to work on my ubuntu machine. So I settled with LKH which uses Lin-Kernighan heuristic for solving TSP and related problems. I wrote scripts for file conversions and for running LKH.", "LKH easily solved my tsp problem in around 30 hours. But it was just one path. I still had to figure out how to make it find the second path.A simple idea to get 2 disjoint paths is to generate first path and then make weight of those edges infinite and run LKH on the problem again. But this required the problem to be in Distance Matrix format.Then I found a major problem.", "Problem: Ram too lowCreating distance matrix for 150,000 points was unimaginable.It would requirememory for one digit * 150,000 * 150,000assuming memory for one digit = 8 bytes", "(Correct me if I am wrong)", "Solution:A simple solution was to divide the map in manageable chunks.I used scipy\u2019s distance matrix creation function scipy.spatial.distance.pdist() It creates distance matrix from coordinates.The matrix created by pdist is in compressed form (a flattened matrix of upper diagonal elements. scipy.spatial.distance.squareform() can create a square distance matrix from compressed matrix but that would waste a lot of ram.So I created a custom function which divided compressed matrix by rows so LKH can read it.", "output of pdist:(compressed upper column)1 2 4", "Output of my function which processed compressed matrix:(Upper diagonal elements)[[1,2],[4]]", "I tried using Manhattan distance instead of euclidean distance. But after dividing the problem in grids, time taken by distance calculation was manageable so I stuck with euclidean distance.", "Through trial and error, I found that on my laptop with 4 GB ram, a 6 by 6 grid in the above format was manageable for both creating distance matrix and for LKH.", "I ran LKH on resulting distance matrices and joined the individual solutions.", "I joined the resulting solutions in different combination for both paths so as to avoid common paths.", "I tried time limit on LKH algorithm. From 40,000 seconds I reduced it to 300, 20, 5 ,1 seconds but It made the results slightly worse.", "The solution above was good but It could have been better. The problem was that the first path was so good that the second path struggled to find good path. The difference between the two paths was big.", "Path1 ~= 6.2MPath2 ~= 7.4MFor a long time I thought this would require either solving both paths simultaneously or using genetic algorithm or similar algorithm to combine both paths. Both were pretty difficult to implement.Then I got a simple idea. My map was divided in 36 squares. If I combine 18 squares of first path and 18 squares of second path, I will have a path whose distance will be approximately average of the two paths.I tried this trick and used different combinations of the two paths squares and got the best score of 6,807,498", "For new path1, select blue squres from old path1 and grey square from old path2", "Use remaining squares for new path2.Remove cross lines", "My squares were joined in a zigzag manner. I removed the zig-zag lines for a further improvement.", "I scored 6,744,291 which was my best score.Another idea was to make end point of one square and the beginning point of next square as near as possible but I couldn\u2019t implement the idea before deadline.My score was around 200,000 points away from the first place which was 6,526,972. Not bad!", "Originally published at www.blogicious.com on January 19, 2013.", "Founder @razor-network. Decentralized oracles for the decentralized future.", "Founder @razor-network. Decentralized oracles for the decentralized future."], "all_outgoing_urls": [{"url": "https://medium.com/?source=---two_column_layout_nav----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@hrishikeshio?source=post_page-----49ad9d26b26--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@hrishikeshio?source=post_page-----49ad9d26b26--------------------------------", "anchor_text": "Hrishikesh Huilgolkar"}, {"url": "http://www.kaggle.com/c/traveling-santa-problem", "anchor_text": "Kaggle"}, {"url": "http://www.akira.ruc.dk/~keld/research/LKH/", "anchor_text": "LKH"}, {"url": "https://bitbucket.org/hrishikeshio/traveling-santa", "anchor_text": "https://bitbucket.org/hrishikeshio/traveling-santa"}, {"url": "http://www.blogicious.com/2013/01/traveling-santa-problem-incompetent.html", "anchor_text": "www.blogicious.com"}, {"url": "https://medium.com/tag/machine-learning?source=post_page-----49ad9d26b26---------------machine_learning-----------------", "anchor_text": "Machine Learning"}, {"url": "https://medium.com/tag/programming?source=post_page-----49ad9d26b26---------------programming-----------------", "anchor_text": "Programming"}, {"url": "https://medium.com/@hrishikeshio?source=post_page-----49ad9d26b26--------------------------------", "anchor_text": "More from Hrishikesh Huilgolkar"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8a2714206d61&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40hrishikeshio%2Ftraveling-santa-problem-an-incompetent-algorists-attempt-49ad9d26b26&newsletterV3=38d1ad27697a&newsletterV3Id=8a2714206d61&user=Hrishikesh+Huilgolkar&userId=38d1ad27697a&source=-----49ad9d26b26---------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://medium.com/?source=post_page-----49ad9d26b26--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/about?autoplay=1&source=post_page-----49ad9d26b26--------------------------------", "anchor_text": "About"}, {"url": "https://help.medium.com/hc/en-us?source=post_page-----49ad9d26b26--------------------------------", "anchor_text": "Help"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----49ad9d26b26--------------------------------", "anchor_text": "Terms"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----49ad9d26b26--------------------------------", "anchor_text": "Privacy"}, {"url": "https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8&ct=post_page&source=post_page-----49ad9d26b26--------------------------------", "anchor_text": ""}, {"url": "https://play.google.com/store/apps/details?id=com.medium.reader&source=post_page-----49ad9d26b26--------------------------------", "anchor_text": ""}, {"url": "https://medium.com/plans?source=upgrade_membership---two_column_layout_sidebar----------------------------------", "anchor_text": "Get unlimited access"}, {"url": "https://medium.com/@hrishikeshio?source=---two_column_layout_sidebar----------------------------------", "anchor_text": ""}, {"url": "https://medium.com/@hrishikeshio?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Hrishikesh Huilgolkar"}, {"url": "https://medium.com/@hrishikeshio/followers?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "187 Followers"}, {"url": "https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8a2714206d61&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40hrishikeshio%2Ftraveling-santa-problem-an-incompetent-algorists-attempt-49ad9d26b26&newsletterV3=38d1ad27697a&newsletterV3Id=8a2714206d61&user=Hrishikesh+Huilgolkar&userId=38d1ad27697a&source=---two_column_layout_sidebar-----------------------subscribe_user-----------", "anchor_text": ""}, {"url": "https://help.medium.com/hc/en-us?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Help"}, {"url": "https://medium.statuspage.io/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Status"}, {"url": "https://about.medium.com/creators/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Writers"}, {"url": "https://blog.medium.com/?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Blog"}, {"url": "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Careers"}, {"url": "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Privacy"}, {"url": "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Terms"}, {"url": "https://medium.com/about?autoplay=1&source=---two_column_layout_sidebar----------------------------------", "anchor_text": "About"}, {"url": "https://speechify.com/medium?source=---two_column_layout_sidebar----------------------------------", "anchor_text": "Text to speech"}]}, "scrape_status": {"code": "1"}}